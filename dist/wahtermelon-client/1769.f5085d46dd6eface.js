"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[1769],{3350:(J,X,u)=>{u.d(X,{d:()=>Hl});var e=u(4438),o=u(1317),_=u(5383),R=u(5964),M=u(8141),m=u(3318),c=u(177),b=u(60);const v=i=>({"opacity-70":i});function Y(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("family-history"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions["family-history"]?t.faChevronUp:t.faChevronDown)}}function S(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function G(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI("(",t.history.length,")")}}function f(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function A(i,l){if(1&i&&(e.j41(0,"div",15)(1,"span",16),e.EFF(2),e.k0s(),e.j41(3,"span",17),e.EFF(4),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI(" ",t.libmedicalHistory.history_desc," "),e.R7$(2),e.SpI(" ",t.remarks," ")}}function B(i,l){if(1&i&&(e.j41(0,"div",13),e.DNE(1,A,5,2,"div",14),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.history)("ngForTrackBy",t.identify)}}function L(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,B,2,3,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions["family-history"])}}let z=(()=>{class i{loadData(t){this.http.get("patient-history/history",{params:{patient_id:t,category:"2"}}).subscribe({next:a=>{this.setFamilyMedical.emit(a.data),this.history=a.data},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setFamilyMedical=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-family-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setFamilyMedical:"setFamilyMedical"},standalone:!1,decls:10,vars:9,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,Y,1,1,"fa-icon",3)(4,S,1,1,"fa-icon",4),e.EFF(5," FAMILY MEDICAL HISTORY "),e.DNE(6,G,2,1,"span",5),e.k0s(),e.j41(7,"fa-icon",6),e.bIt("click",function(){return n.modalToggle("fam-history")}),e.k0s()(),e.DNE(8,f,9,0,"div",5)(9,L,2,1,"div",5),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(7,v,0===(null==n.history?null:n.history.length)||!n.history)),e.R7$(),e.Y8G("ngIf",(null==n.history?null:n.history.length)>=1),e.R7$(),e.Y8G("ngIf",0===(null==n.history?null:n.history.length)||!n.history),e.R7$(2),e.Y8G("ngIf",(null==n.history?null:n.history.length)>=1),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.history),e.R7$(),e.Y8G("ngIf",n.history))},dependencies:[c.YU,c.Sq,c.bT,b.aY],encapsulation:2})}}return i})();const F=i=>({hidden:i});function N(i,l){1&i&&(e.j41(0,"div")(1,"div",8)(2,"div",9),e.nrm(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),e.k0s()()())}function g(i,l){if(1&i&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.laboratory.desc," ")}}function j(i,l){if(1&i&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.brH(2,1,t.request_date,"MM/dd/yyyy","Asia/Manila")," ")}}function w(i,l){if(1&i&&(e.j41(0,"div",14),e.DNE(1,g,2,1,"span",15)(2,j,3,5,"span",16),e.k0s()),2&i){const t=l.$implicit;e.Y8G("ngClass",e.eq3(3,F,t.lab_result||"RQ"!==t.request_status_code)),e.R7$(),e.Y8G("ngIf",!t.result||"N"===t.result.lab_status_code),e.R7$(),e.Y8G("ngIf",!t.result||"N"===t.result.lab_status_code)}}function I(i,l){if(1&i&&(e.j41(0,"div",12),e.DNE(1,w,3,5,"div",13),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.lab_list)}}function h(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,I,2,2,"div",11),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.accordions.lab_request)}}function E(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("lab_request"))}),e.k0s(),e.EFF(4," PENDING LABS "),e.k0s(),e.j41(5,"span")(6,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.modalToggle("lab-request"))}),e.EFF(7,"request"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigate("lab"))}),e.EFF(9,"open lab"),e.k0s()()(),e.DNE(10,N,9,0,"div",7)(11,h,2,1,"div",7),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.accordions.lab_request?t.faChevronUp:t.faChevronDown),e.R7$(7),e.Y8G("ngIf",!t.lab_list),e.R7$(),e.Y8G("ngIf",t.lab_list)}}let p=(()=>{class i{loadData(t){this.http.get("laboratory/consult-laboratories",{params:{patient_id:t,sort:"-request_date",include:"laboratory"}}).subscribe({next:n=>{this.lab_list=n.data,this.setLabList.emit(this.lab_list)},error:n=>console.log(n)})}navigate(t){this.navigateTo.emit(t)}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t,a){this.http=t,this.router=a,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.navigateTo=new e.bkB,this.setLabList=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.lab_request=!1,this.show_form=!1,this.navigationEnd$=this.router.events.pipe((0,R.p)(n=>n instanceof o.wF),(0,M.M)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(o.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-laboratory"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",navigateTo:"navigateTo",setLabList:"setLabList"},standalone:!1,decls:1,vars:1,consts:[["class","block pt-4  mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mr-2","bg-amber-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-amber-400",3,"click"],[1,"bg-green-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-green-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block pt-2",4,"ngIf"],[1,"block","pt-2"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],["class","block font-medium text-xs",4,"ngIf"],["class","block text-xs",4,"ngIf"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(a,n){1&a&&e.DNE(0,E,12,3,"div",0),2&a&&e.Y8G("ngIf","lab"!==(null==n.active_loc_id?null:n.active_loc_id.loc))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();const k=i=>({"opacity-70":i});function x(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("menstrual"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.menstrual?t.faChevronUp:t.faChevronDown)}}function O(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function se(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function Q(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"span",15),e.EFF(3," Menarche "),e.k0s(),e.j41(4,"span",16),e.EFF(5),e.k0s()(),e.j41(6,"div",14)(7,"span",15),e.EFF(8," Last menstrual period "),e.k0s(),e.j41(9,"span",16),e.EFF(10),e.nI1(11,"date"),e.k0s()(),e.j41(12,"div",14)(13,"span",15),e.EFF(14," Period duration "),e.k0s(),e.j41(15,"span",16),e.EFF(16),e.k0s()(),e.j41(17,"div",14)(18,"span",15),e.EFF(19," Cycle "),e.k0s(),e.j41(20,"span",16),e.EFF(21),e.k0s()(),e.j41(22,"div",14)(23,"span",15),e.EFF(24," Pads/day "),e.k0s(),e.j41(25,"span",16),e.EFF(26),e.k0s()(),e.j41(27,"div",14)(28,"span",15),e.EFF(29," Onset sexual intercourse "),e.k0s(),e.j41(30,"span",16),e.EFF(31),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.EFF(34," FP method "),e.k0s(),e.j41(35,"span",16),e.EFF(36),e.k0s()(),e.j41(37,"div",14)(38,"span",15),e.EFF(39," Menopause "),e.k0s(),e.j41(40,"span",16),e.EFF(41),e.k0s()(),e.j41(42,"div",14)(43,"span",15),e.EFF(44," Menopause age "),e.k0s(),e.j41(45,"span",16),e.EFF(46),e.k0s()()()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.menarche," "),e.R7$(5),e.SpI(" ",e.brH(11,10,null==t.menstrual_history?null:t.menstrual_history.lmp,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(6),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.period_duration," "),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.cycle," "),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.pads_per_day," "),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.onset_sexual_intercourse," "),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.method," "),e.R7$(5),e.SpI(" ",1===(null==t.menstrual_history?null:t.menstrual_history.menopause)?"Yes":"No"," "),e.R7$(5),e.SpI(" ",null==t.menstrual_history?null:t.menstrual_history.menopause_age," ")}}function re(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,Q,47,14,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.menstrual)}}let K=(()=>{class i{loadData(t){this.http.get("patient-menstrual-history/history",{params:{patient_id:t}}).subscribe({next:a=>{this.setMenstrual.emit(a.data),this.show_form=!0,this.menstrual_history=a.data[0]},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setMenstrual=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy,this.show_form=!1}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-menstrual-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setMenstrual:"setMenstrual"},standalone:!1,decls:9,vars:8,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,x,1,1,"fa-icon",3)(4,O,1,1,"fa-icon",4),e.EFF(5," MENSTRUAL HISTORY "),e.k0s(),e.j41(6,"fa-icon",5),e.bIt("click",function(){return n.modalToggle("menstrual")}),e.k0s()(),e.DNE(7,se,9,0,"div",6)(8,re,2,1,"div",6),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(6,k,!n.menstrual_history)),e.R7$(),e.Y8G("ngIf",n.menstrual_history),e.R7$(),e.Y8G("ngIf",!n.menstrual_history),e.R7$(2),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.show_form),e.R7$(),e.Y8G("ngIf",n.show_form))},dependencies:[c.YU,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();const de=i=>({"opacity-70":i});function ce(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("history"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.history?t.faChevronUp:t.faChevronDown)}}function Te(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function $e(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI("(",t.history.length,")")}}function De(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function Ye(i,l){if(1&i&&(e.j41(0,"div",15)(1,"span",16),e.EFF(2),e.k0s(),e.j41(3,"span",17),e.EFF(4),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI(" ",t.libmedicalHistory.history_desc," "),e.R7$(2),e.SpI(" ",t.remarks," ")}}function Se(i,l){if(1&i&&(e.j41(0,"div",13),e.DNE(1,Ye,5,2,"div",14),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.history)("ngForTrackBy",t.identify)}}function Ne(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,Se,2,3,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.history)}}let fe=(()=>{class i{loadData(t){this.http.get("patient-history/history",{params:{patient_id:t,category:"1"}}).subscribe({next:a=>{this.setPastMedical.emit(a.data),this.history=a.data},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setPastMedical=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-past-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setPastMedical:"setPastMedical"},standalone:!1,decls:10,vars:9,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,ce,1,1,"fa-icon",3)(4,Te,1,1,"fa-icon",4),e.EFF(5," PAST MEDICAL HISTORY "),e.DNE(6,$e,2,1,"span",5),e.k0s(),e.j41(7,"fa-icon",6),e.bIt("click",function(){return n.modalToggle("history")}),e.k0s()(),e.DNE(8,De,9,0,"div",5)(9,Ne,2,1,"div",5),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(7,de,0===(null==n.history?null:n.history.length)||!n.history)),e.R7$(),e.Y8G("ngIf",(null==n.history?null:n.history.length)>=1),e.R7$(),e.Y8G("ngIf",0===(null==n.history?null:n.history.length)||!n.history),e.R7$(2),e.Y8G("ngIf",(null==n.history?null:n.history.length)>=1),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.history),e.R7$(),e.Y8G("ngIf",n.history))},dependencies:[c.YU,c.Sq,c.bT,b.aY],encapsulation:2})}}return i})();const Ve=i=>({"text-red-500":i});function Pe(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.modalToggle("philhealth-list"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.faTableList)}}let ge=(()=>{class i{loadData(t){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":t,per_page:"1",sort:"-enlistment_date"}}).subscribe({next:a=>{this.philhealth_info=a.data[0],this.http.setPhilhealhtInfo(this.philhealth_info),this.setDetails.emit({var_name:"philhealth_details",data:a.data[0]}),this.show_philhealth=!0},error:a=>console.log(a)})}get philhealthColor(){return!!this.philhealth_info&&(0,c.Yq)(this.philhealth_info.enlistment_date,"yyyy","en","Asia/Manila")<(0,c.Yq)(new Date,"yyyy","en","Asia/Manila")}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setDetails=new e.bkB,this.faPlusCircle=_.OQW,this.faTableList=_.Qte,this.show_philhealth=!1}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-philhealth"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},standalone:!1,decls:17,vars:12,consts:[[1,"mt-4","leading-tight"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"grid","grid-cols-2","pl-3","w-full",3,"ngClass"],[1,"col-span-1","text-xs"],[1,"col-span-1","text-xs","text-right"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"click","icon"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3," PHILHEALTH "),e.k0s(),e.j41(4,"span"),e.DNE(5,Pe,1,1,"fa-icon",3),e.j41(6,"fa-icon",4),e.bIt("click",function(){return n.modalToggle("philhealth")}),e.k0s()()(),e.j41(7,"div",5)(8,"span",6),e.EFF(9),e.k0s(),e.j41(10,"span",7),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"span",6),e.EFF(14," ATC "),e.k0s(),e.j41(15,"span",7),e.EFF(16),e.k0s()()()),2&a&&(e.R7$(5),e.Y8G("ngIf",n.philhealth_info),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngClass",e.eq3(10,Ve,n.philhealthColor)),e.R7$(2),e.SpI(" ",null==n.philhealth_info?null:n.philhealth_info.philhealth_id," "),e.R7$(2),e.SpI(" ",e.brH(12,6,null==n.philhealth_info?null:n.philhealth_info.enlistment_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(5),e.SpI(" ",null==n.philhealth_info?null:n.philhealth_info.authorization_transaction_code," "))},dependencies:[c.YU,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();const Xe=i=>({"opacity-70":i});function Ae(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("preghist"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.preghist?t.faChevronUp:t.faChevronDown)}}function Be(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function Oe(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function qe(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"span",15),e.EFF(3," FPAL "),e.k0s(),e.j41(4,"span",16),e.EFF(5),e.k0s()(),e.j41(6,"div",14)(7,"span",15),e.EFF(8," GP "),e.k0s(),e.j41(9,"span",16),e.EFF(10),e.k0s()(),e.j41(11,"div",14)(12,"span",15),e.EFF(13," Delivery method "),e.k0s(),e.j41(14,"span",16),e.EFF(15),e.k0s()(),e.j41(16,"div",14)(17,"span",15),e.EFF(18," With family planning "),e.k0s(),e.j41(19,"span",16),e.EFF(20),e.k0s()(),e.j41(21,"div",14)(22,"span",15),e.EFF(23," Induced hypertension "),e.k0s(),e.j41(24,"span",16),e.EFF(25),e.k0s()()()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(5),e.LHq(" ",null==t.pregnancy_history?null:t.pregnancy_history.full_term,", ",null==t.pregnancy_history?null:t.pregnancy_history.preterm,", ",null==t.pregnancy_history?null:t.pregnancy_history.abortion,", ",null==t.pregnancy_history?null:t.pregnancy_history.livebirths," "),e.R7$(5),e.Lme(" ",null==t.pregnancy_history?null:t.pregnancy_history.gravidity,", ",null==t.pregnancy_history?null:t.pregnancy_history.parity," "),e.R7$(5),e.SpI(" ",null==t.pregnancy_history?null:t.pregnancy_history.libPregnancyDeliveryType.desc," "),e.R7$(5),e.SpI(" ",null==t.pregnancy_history?null:t.pregnancy_history.withFamilyPlanning.desc," "),e.R7$(5),e.SpI(" ",null==t.pregnancy_history?null:t.pregnancy_history.inducedHypertension.desc," ")}}function Ue(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,qe,26,10,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.preghist)}}let ve=(()=>{class i{loadData(t){this.http.get("patient-pregnancy-history/history",{params:{patient_id:t}}).subscribe({next:a=>{this.show_form=!0,this.pregnancy_history=a.data[0],this.setDetails.emit({var_name:"pregnancy_history",data:this.pregnancy_history})},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setDetails=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy,this.show_form=!1}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-preghist"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},standalone:!1,decls:9,vars:8,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,Ae,1,1,"fa-icon",3)(4,Be,1,1,"fa-icon",4),e.EFF(5," PREGNANCY HISTORY "),e.k0s(),e.j41(6,"fa-icon",5),e.bIt("click",function(){return n.modalToggle("preghist")}),e.k0s()(),e.DNE(7,Oe,9,0,"div",6)(8,Ue,2,1,"div",6),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(6,Xe,!n.pregnancy_history)),e.R7$(),e.Y8G("ngIf",n.pregnancy_history),e.R7$(),e.Y8G("ngIf",!n.pregnancy_history),e.R7$(2),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.show_form),e.R7$(),e.Y8G("ngIf",n.show_form))},dependencies:[c.YU,c.bT,b.aY],encapsulation:2})}}return i})(),Le=(()=>{class i{constructor(){this.faMinus=_.EZy}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-pregnancy-history"]],standalone:!1,decls:2,vars:0,template:function(a,n){1&a&&(e.j41(0,"p"),e.EFF(1,"pregnancy-history works!"),e.k0s())},encapsulation:2})}}return i})();function He(i,l){1&i&&(e.j41(0,"div")(1,"div",7)(2,"div",8),e.nrm(3,"div",9)(4,"div",9)(5,"div",9)(6,"div",9)(7,"div",9)(8,"div",9),e.k0s()()())}function Je(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI(" ",t.konsulta_medicine?t.konsulta_medicine.desc:t.medicine?t.medicine.drug_name:t.added_medicine," "),e.R7$(2),e.SpI(" ",t.quantity," ")}}function ze(i,l){if(1&i&&(e.j41(0,"div",11),e.DNE(1,Je,5,2,"div",12),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.prescriptions)("ngForTrackBy",t.identify)}}function We(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,ze,2,3,"div",10),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.accordions.prescriptions)}}function Qe(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("prescriptions"))}),e.k0s(),e.EFF(4," PRESCRIPTIONS "),e.k0s(),e.j41(5,"span")(6,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigate("dispensing"))}),e.EFF(7,"dispensing"),e.k0s()()(),e.DNE(8,He,9,0,"div",6)(9,We,2,1,"div",6),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.accordions.prescriptions?t.faChevronUp:t.faChevronDown),e.R7$(5),e.Y8G("ngIf",!t.prescriptions),e.R7$(),e.Y8G("ngIf",t.prescriptions)}}let be=(()=>{class i{toggle(t){this.toggleAccordion.emit(t)}navigate(t){this.navigateTo.emit(t)}identify(t,a){return a.id}loadData(t){this.http.get("medicine/prescriptions",{params:{patient_id:t,status:"dispensing"}}).subscribe({next:n=>{this.prescriptions=n.data},error:n=>console.log(n)})}loadPrescriptions(){this.patient_info&&this.http.get("medicine/prescriptions",{params:{patient_id:this.patient_info.id,status:"dispensing"}}).subscribe({next:a=>{console.log(a.data),this.prescriptions=a.data},error:a=>console.log(a)})}constructor(t,a){this.http=t,this.router=a,this.toggleAccordion=new e.bkB,this.navigateTo=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.libraries={konsulta_medicine_code:{var_name:"medicine_desc",location:"konsulta-medicines",value:""}},this.no_pres_form=["dispensing","cn"],this.navigationEnd$=this.router.events.pipe((0,R.p)(n=>n instanceof o.wF),(0,M.M)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(o.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-prescriptions"]],inputs:{accordions:"accordions",consult_id:"consult_id",patient_info:"patient_info"},outputs:{toggleAccordion:"toggleAccordion",navigateTo:"navigateTo"},standalone:!1,decls:1,vars:1,consts:[["class","block pt-4  mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"bg-blue-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-blue-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1 border-dashed border-b border-slate-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1","border-dashed","border-b","border-slate-200"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(a,n){1&a&&e.DNE(0,Qe,10,3,"div",0),2&a&&e.Y8G("ngIf",-1===n.no_pres_form.indexOf(null==n.active_loc_id?null:n.active_loc_id.loc))},dependencies:[c.Sq,c.bT,b.aY],encapsulation:2})}}return i})();const Ke=i=>({"opacity-70":i});function Ze(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("lifestyle"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.lifestyle?t.faChevronUp:t.faChevronDown)}}function et(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function tt(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function it(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"span",15),e.EFF(3," Smoker "),e.k0s(),e.j41(4,"span",16),e.EFF(5),e.k0s()(),e.j41(6,"div",14)(7,"span",15),e.EFF(8," Pack year "),e.k0s(),e.j41(9,"span",16),e.EFF(10),e.k0s()(),e.j41(11,"div",14)(12,"span",15),e.EFF(13," Alcohol "),e.k0s(),e.j41(14,"span",16),e.EFF(15),e.k0s()(),e.j41(16,"div",14)(17,"span",15),e.EFF(18," Bottle per day "),e.k0s(),e.j41(19,"span",16),e.EFF(20),e.k0s()(),e.j41(21,"div",14)(22,"span",15),e.EFF(23," Illicit drugs "),e.k0s(),e.j41(24,"span",16),e.EFF(25),e.k0s()(),e.j41(26,"div",14)(27,"span",15),e.EFF(28," Sexually Active "),e.k0s(),e.j41(29,"span",16),e.EFF(30),e.k0s()()()),2&i){let t,a;const n=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(5),e.SpI(" ",null==n.social_history?null:n.social_history.smoking," "),e.R7$(5),e.SpI(" ",null!==(t=null==n.social_history?null:n.social_history.pack_per_year)&&void 0!==t?t:"-"," "),e.R7$(5),e.SpI(" ",null==n.social_history?null:n.social_history.alcohol," "),e.R7$(5),e.SpI(" ",null!==(a=null==n.social_history?null:n.social_history.bottles_per_day)&&void 0!==a?a:"-"," "),e.R7$(5),e.SpI(" ",null==n.social_history?null:n.social_history.illicit_drugs," "),e.R7$(5),e.SpI(" ",null==n.social_history?null:n.social_history.sexually_active," ")}}function nt(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,it,31,7,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.lifestyle)}}let ye=(()=>{class i{loadData(t){this.http.get("patient-social-history/history",{params:{patient_id:t}}).subscribe({next:a=>{this.social_history=0!==a.data.length?a.data[0]:[],this.setDetails.emit({var_name:"social_history",data:this.social_history})},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setDetails=new e.bkB,this.faPlusCircle=_.OQW,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faMinus=_.EZy}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-social-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},standalone:!1,decls:9,vars:8,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,Ze,1,1,"fa-icon",3)(4,et,1,1,"fa-icon",4),e.EFF(5," LIFESTYLE "),e.k0s(),e.j41(6,"fa-icon",5),e.bIt("click",function(){return n.modalToggle("lifestyle")}),e.k0s()(),e.DNE(7,tt,9,0,"div",6)(8,nt,2,1,"div",6),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(6,Ke,!n.social_history)),e.R7$(),e.Y8G("ngIf",n.social_history),e.R7$(),e.Y8G("ngIf",!n.social_history),e.R7$(2),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.social_history),e.R7$(),e.Y8G("ngIf",n.social_history))},dependencies:[c.YU,c.bT,b.aY],encapsulation:2})}}return i})();const at=i=>({"opacity-70":i});function ot(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggle("surgical-history"))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("icon",t.accordions["surgical-history"]?t.faChevronUp:t.faChevronDown)}}function lt(i,l){if(1&i&&e.nrm(0,"fa-icon",9),2&i){const t=e.XpG(2);e.Y8G("icon",t.faMinus)}}function st(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI("(",t.history.length,")")}}function rt(i,l){1&i&&(e.j41(0,"div")(1,"div",10)(2,"div",11),e.nrm(3,"div",12)(4,"div",12)(5,"div",12)(6,"div",12)(7,"div",12)(8,"div",12),e.k0s()()())}function dt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",16)(1,"span",17)(2,"fa-icon",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.modalToggle("surgical-action",n))}),e.k0s(),e.EFF(3),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.nI1(6,"date"),e.k0s()()}if(2&i){const t=l.$implicit,a=e.XpG(4);e.R7$(2),e.Y8G("icon",a.faTrashCan),e.R7$(),e.SpI(" ",t.operation," "),e.R7$(2),e.SpI(" ",e.brH(6,3,t.operation_date,"MM/dd/yyyy","Asia/Manila")," ")}}function ct(i,l){if(1&i&&(e.j41(0,"div",14),e.DNE(1,dt,7,7,"div",15),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.history)("ngForTrackBy",t.identify)}}function _t(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,ct,2,3,"div",13),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.accordions["surgical-history"])}}function pt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"span",3),e.DNE(3,ot,1,1,"fa-icon",4)(4,lt,1,1,"fa-icon",5),e.EFF(5," SURGICAL HISTORY "),e.DNE(6,st,2,1,"span",6),e.k0s(),e.j41(7,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.modalToggle("surgical-history"))}),e.k0s()(),e.DNE(8,rt,9,0,"div",6)(9,_t,2,1,"div",6),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngClass",e.eq3(7,at,0===(null==t.history?null:t.history.length)||!t.history)),e.R7$(),e.Y8G("ngIf",(null==t.history?null:t.history.length)>=1),e.R7$(),e.Y8G("ngIf",0===(null==t.history?null:t.history.length)||!t.history),e.R7$(2),e.Y8G("ngIf",(null==t.history?null:t.history.length)>=1),e.R7$(),e.Y8G("icon",t.faPlusCircle),e.R7$(),e.Y8G("ngIf",!t.history),e.R7$(),e.Y8G("ngIf",t.history)}}let ke=(()=>{class i{loadData(t){this.http.get("patient-surgical-history/history",{params:{patient_id:t,category:"1"}}).subscribe({next:a=>{this.setSurgicalHistory.emit(a.data),this.history=a.data},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t,a){this.toggleModal.emit({modal_name:t,data:a})}constructor(t,a){this.http=t,this.router=a,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setSurgicalHistory=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faTrashCan=_.sjs,this.faMinus=_.EZy,this.no_surgical_form=["dn"],this.navigationEnd$=this.router.events.pipe((0,R.p)(n=>n instanceof o.wF),(0,M.M)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(o.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-surgical-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setSurgicalHistory:"setSurgicalHistory"},standalone:!1,decls:1,vars:1,consts:[["class","block pt-4  mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 text-gray-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 text-gray-500 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","text-gray-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"text-rose-500","hover:cursor-pointer",3,"click","icon"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(a,n){1&a&&e.DNE(0,pt,10,9,"div",0),2&a&&e.Y8G("ngIf",-1===n.no_surgical_form.indexOf(null==n.active_loc_id?null:n.active_loc_id.loc))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();const mt=i=>({"opacity-70":i});function ut(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("vaccines"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.vaccines?t.faChevronUp:t.faChevronDown)}}function ht(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function ft(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function gt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"fa-icon",21),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.toggleActionModal("vaccine-action",n))}),e.k0s(),e.j41(2,"span",15)(3,"span",22),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s(),e.j41(7,"span",18),e.EFF(8),e.nI1(9,"date"),e.k0s()()}if(2&i){const t=l.$implicit,a=e.XpG(3);e.R7$(),e.Y8G("icon",a.faPenToSquare),e.R7$(3),e.Lme("",a.covid_array.includes(t.vaccine_id)?t.vaccines.vaccine_desc:t.vaccine_id," - ",t.dose," Dose"),e.R7$(2),e.SpI("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public",") "),e.R7$(2),e.SpI(" ",t.vaccine_date?e.brH(9,5,t.vaccine_date,"MM/dd/yyyy","Asia/Manila"):"-"," ")}}function vt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"span",15)(3,"span",16),e.EFF(4,"IMMUNIZATION STATUS: "),e.k0s(),e.nrm(5,"br"),e.j41(6,"span",17),e.EFF(7),e.k0s()(),e.j41(8,"span",18),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"date"),e.k0s()(),e.DNE(12,gt,10,9,"div",19),e.k0s()),2&i){let t;const a=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(7),e.JRh(null!==(t=null==a.immunization_status?null:a.immunization_status.immunization_status)&&void 0!==t?t:"-"),e.R7$(3),e.JRh(null!=a.immunization_status&&a.immunization_status.immunization_status?e.brH(11,4,null==a.immunization_status?null:a.immunization_status.immunization_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(2),e.Y8G("ngForOf",a.vaccine_list)}}function bt(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,vt,13,8,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.vaccines)}}let xe=(()=>{class i{loadData(t){this.http.get("patient-vaccines/vaccines-records",{params:{patient_id:t,sort:"-vaccine_date"}}).subscribe({next:a=>{this.vaccine_list=a.data,this.immunization_status=this.vaccine_list[0]?this.vaccine_list[0].immunization_status:"",this.checkVaccineStatus(this.vaccine_list)},error:a=>{console.log(a)}})}checkVaccineStatus(t){var a=[];Object.entries(t).reverse().forEach(([n,s],d)=>{var y=s;a[y.vaccines.vaccine_id]||(a[y.vaccines.vaccine_id]=[]);let V={id:y.id,vaccine_id:y.vaccines.vaccine_id,vaccine_date:y.vaccine_date,dose:this.getNumberSuffix(Object.keys(a[y.vaccines.vaccine_id]).length+1)};a[y.vaccines.vaccine_id][y.id]=V,this.vaccine_list[n].dose=a[y.vaccines.vaccine_id][y.id].dose}),this.vaccines_given=a,this.setVaccineGiven.emit(this.vaccines_given),this.show_vaccines=!0}toggleActionModal(t,a){this.toggleModal.emit({modal_name:t,data:a})}getNumberSuffix(t){var a=t%10,n=t%100;return 1==a&&11!=n?t+"st":2==a&&12!=n?t+"nd":3==a&&13!=n?t+"rd":t+"th"}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){console.log(this.vaccines_given),this.toggleModal.emit({modal_name:t,data:this.vaccines_given})}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setVaccineGiven=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faPenToSquare=_.LFz,this.faMinus=_.EZy,this.vaccine_list=[],this.show_vaccines=!1,this.covid_array=["ASTRA","JANDJ","MODER","NOVAV","PFIZE","SINOP","SPUTN"]}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vaccine"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVaccineGiven:"setVaccineGiven"},standalone:!1,decls:9,vars:9,consts:[[1,"block","mx-5","mb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center","mb-5","border-b","border-b-gray-100"],[1,"font-medium","text-xs","flex-auto"],[1,"font-semibold"],[1,"font-bold","text-l"],[1,"italic","text-xs","flex-auto","text-right"],["class","flex pl-3 justify-between items-center mb-3 border-b border-b-gray-100",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center","mb-3","border-b","border-b-gray-100"],[1,"mx-0","my-0","text-amber-400","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"],[1,"font-bold"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,ut,1,1,"fa-icon",3)(4,ht,1,1,"fa-icon",4),e.EFF(5),e.k0s(),e.j41(6,"fa-icon",5),e.bIt("click",function(){return n.modalToggle("vaccine")}),e.k0s()(),e.DNE(7,ft,9,0,"div",6)(8,bt,2,1,"div",6),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(7,mt,0===(null==n.vaccine_list?null:n.vaccine_list.length)||!n.vaccine_list)),e.R7$(),e.Y8G("ngIf",(null==n.vaccine_list?null:n.vaccine_list.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==n.vaccine_list?null:n.vaccine_list.length)||!n.vaccine_list),e.R7$(),e.SpI(" VACCINES ",(null==n.vaccine_list?null:n.vaccine_list.length)>0?"("+n.vaccine_list.length+")":""," "),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.show_vaccines),e.R7$(),e.Y8G("ngIf",n.show_vaccines&&(null==n.vaccine_list?null:n.vaccine_list.length)>0))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();var _e=u(5797),pe=u(1757);const Z=i=>({"text-red-500":i});function yt(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI("(",e.i5U(2,1,null==t.latest_vitals?null:t.latest_vitals.vitals_date,"MM/dd/yyyy hh:mm:ss a"),")")}}function kt(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.modalToggle("vitals-list"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.faTableList)}}function xt(i,l){1&i&&(e.j41(0,"div")(1,"div",8)(2,"div",9),e.nrm(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),e.k0s()()())}function Ft(i,l){if(1&i&&(e.j41(0,"div",17)(1,"span",14),e.EFF(2," BMI "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.Y8G("ngClass",e.eq3(3,Z,!(null==t.latest_vitals||!t.latest_vitals.patient_bmi)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_bmi_class))),e.R7$(4),e.Lme(" ",null!=t.latest_vitals&&t.latest_vitals.patient_bmi?null==t.latest_vitals?null:t.latest_vitals.patient_bmi:"-"," ",null!=t.latest_vitals&&t.latest_vitals.patient_bmi_class?"("+(null==t.latest_vitals?null:t.latest_vitals.patient_bmi_class)+")":""," ")}}function Ct(i,l){if(1&i&&(e.j41(0,"div",17)(1,"span",14),e.EFF(2," Weight for age "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.Y8G("ngClass",e.eq3(2,Z,!(null==t.latest_vitals||!t.latest_vitals.patient_weight_for_age)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age))),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age?null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age:""," ")}}function Mt(i,l){if(1&i&&(e.j41(0,"div",17)(1,"span",14),e.EFF(2," Height for age "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.Y8G("ngClass",e.eq3(2,Z,!(null==t.latest_vitals||!t.latest_vitals.patient_height_for_age)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age))),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_height_for_age?null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age:""," ")}}function wt(i,l){if(1&i&&(e.j41(0,"div",17)(1,"span",14),e.EFF(2," Weight for Height "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.Y8G("ngClass",e.eq3(2,Z,!(null==t.latest_vitals||!t.latest_vitals.patient_weight_for_height)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height))),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_height?null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height:""," ")}}function jt(i,l){if(1&i&&(e.j41(0,"span",15),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Lme(" ",null!=t.latest_vitals&&t.latest_vitals.patient_right_vision_acuity_distance?e.i5U(2,2,null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity_distance,"1.0-0"):"-"," | ",null!=t.latest_vitals&&t.latest_vitals.patient_right_vision_acuity?e.i5U(3,5,null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity,"1.0-0"):"-"," ")}}function It(i,l){if(1&i&&(e.j41(0,"span",15),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Lme(" ",null!=t.latest_vitals&&t.latest_vitals.patient_left_vision_acuity_distance?e.i5U(2,2,null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity_distance,"1.0-0"):"-"," | ",null!=t.latest_vitals&&t.latest_vitals.patient_left_vision_acuity?e.i5U(3,5,null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity,"1.0-0"):"-"," ")}}function Rt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Head Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_head_circumference?(null==t.latest_vitals?null:t.latest_vitals.patient_head_circumference)+" cm":""," ")}}function Gt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Mid-Upper Arm Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_muac?(null==t.latest_vitals?null:t.latest_vitals.patient_muac)+" cm":""," ")}}function Et(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Chest Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_chest?(null==t.latest_vitals?null:t.latest_vitals.patient_chest)+" cm":""," ")}}function Tt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Abdominal Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_abdomen?(null==t.latest_vitals?null:t.latest_vitals.patient_abdomen)+" cm":""," ")}}function $t(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Waist Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_waist?(null==t.latest_vitals?null:t.latest_vitals.patient_waist)+" cm":"-"," ")}}function Dt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Hip Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_hip?(null==t.latest_vitals?null:t.latest_vitals.patient_hip)+" cm":"-"," ")}}function Yt(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Limbs Circumference "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_limbs?(null==t.latest_vitals?null:t.latest_vitals.patient_limbs)+" cm":""," ")}}function St(i,l){if(1&i&&(e.j41(0,"div",13)(1,"span",14),e.EFF(2," Skinfold Thickness "),e.k0s(),e.j41(3,"span",15),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_skinfold_thickness?(null==t.latest_vitals?null:t.latest_vitals.patient_skinfold_thickness)+" cm":""," ")}}function Nt(i,l){if(1&i&&(e.j41(0,"div",12)(1,"div",13)(2,"span",14),e.EFF(3," Weight "),e.k0s(),e.j41(4,"span",15),e.EFF(5),e.k0s()(),e.j41(6,"div",13)(7,"span",14),e.EFF(8),e.k0s(),e.j41(9,"span",15),e.EFF(10),e.k0s()(),e.DNE(11,Ft,5,5,"div",16)(12,Ct,5,4,"div",16)(13,Mt,5,4,"div",16)(14,wt,5,4,"div",16),e.j41(15,"div",17)(16,"span",14),e.EFF(17," Blood Pressure "),e.k0s(),e.j41(18,"span",15),e.EFF(19),e.k0s()(),e.j41(20,"div",17)(21,"span",14),e.EFF(22," Blood Oxygen (SpO2) "),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.nI1(25,"number"),e.k0s()(),e.j41(26,"div",17)(27,"span",14),e.EFF(28," Temperature "),e.k0s(),e.j41(29,"span",15),e.EFF(30),e.k0s()(),e.j41(31,"div",13)(32,"span",14),e.EFF(33," Heart Rate "),e.k0s(),e.j41(34,"span",15),e.EFF(35),e.nI1(36,"number"),e.k0s()(),e.j41(37,"div",13)(38,"span",14),e.EFF(39," Respiratory Rate "),e.k0s(),e.j41(40,"span",15),e.EFF(41),e.nI1(42,"number"),e.k0s()(),e.j41(43,"div",13)(44,"span",14),e.EFF(45," Pulse Rate "),e.k0s(),e.j41(46,"span",15),e.EFF(47),e.nI1(48,"number"),e.k0s()(),e.j41(49,"div",13)(50,"span",14),e.EFF(51," Visual Acuity (Right) "),e.k0s(),e.DNE(52,jt,4,8,"span",18),e.k0s(),e.j41(53,"div",19)(54,"span",14),e.EFF(55," Visual Acuity (Left) "),e.k0s(),e.DNE(56,It,4,8,"span",18),e.k0s(),e.DNE(57,Rt,5,1,"div",20)(58,Gt,5,1,"div",20)(59,Et,5,1,"div",20)(60,Tt,5,1,"div",20)(61,$t,5,1,"div",20)(62,Dt,5,1,"div",20)(63,Yt,5,1,"div",20)(64,St,5,1,"div",20),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(5),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight?(null==t.latest_vitals?null:t.latest_vitals.patient_weight)+" kg":"-"," "),e.R7$(3),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age||null!=t.latest_vitals&&t.latest_vitals.patient_height_for_age||null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_height?"Length":"Height"," "),e.R7$(2),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_height?(null==t.latest_vitals?null:t.latest_vitals.patient_height)+" cm":"-"," "),e.R7$(),e.Y8G("ngIf",!(null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age)),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height),e.R7$(),e.Y8G("ngClass",null==t.latest_vitals?null:t.latest_vitals.bp_color),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.bp_systolic?(null==t.latest_vitals?null:t.latest_vitals.bp_systolic)+"/"+(null==t.latest_vitals?null:t.latest_vitals.bp_diastolic):"-"," "),e.R7$(),e.Y8G("ngClass",null==t.latest_vitals?null:t.latest_vitals.oxygen_color),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_spo2?e.i5U(25,27,null==t.latest_vitals?null:t.latest_vitals.patient_spo2,"1.0-0")+" %":"-"," "),e.R7$(2),e.Y8G("ngClass",null==t.latest_vitals?null:t.latest_vitals.temp_color),e.R7$(4),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_temp?(null==t.latest_vitals?null:t.latest_vitals.patient_temp)+" C":"-"," "),e.R7$(5),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_heart_rate?e.i5U(36,30,null==t.latest_vitals?null:t.latest_vitals.patient_heart_rate,"1.0-0"):"-"," "),e.R7$(6),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_respiratory_rate?e.i5U(42,33,null==t.latest_vitals?null:t.latest_vitals.patient_respiratory_rate,"1.0-0"):"-"," "),e.R7$(6),e.SpI(" ",null!=t.latest_vitals&&t.latest_vitals.patient_pulse_rate?e.i5U(48,36,null==t.latest_vitals?null:t.latest_vitals.patient_pulse_rate,"1.0-0"):"-"," "),e.R7$(5),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity),e.R7$(4),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_head_circumference),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_muac),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_chest),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_abdomen),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_waist),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_hip),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_limbs),e.R7$(),e.Y8G("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_skinfold_thickness)}}function Vt(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,Nt,65,39,"div",11),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.vitals)}}let Fe=(()=>{class i{loadData(t){this.http.get("patient-vitals/vitals",{params:{patient_id:t,sort:"-vitals_date",per_page:15}}).subscribe({next:a=>{let n=a.data;if(n.length>0){let s=a.data[0].bp_systolic,d=a.data[0].bp_diastolic;this.latest_vitals=this.vitalsCharts.getLatestToday(n),n[0].bp_systolic=s,n[0].bp_diastolic=d,this.show_vitals=!0,this.setVitals.emit(n)}else this.show_vitals=!0,this.latest_vitals=null},error:a=>{this.show_vitals=!0,console.log(a)}})}getLatestToday(t){this.latest_vitals=t.length>0?this.vitalsCharts.getLatestToday(t):null}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t,a,n){this.http=t,this.vitalsCharts=a,this.dateHelper=n,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setVitals=new e.bkB,this.faPlusCircle=_.OQW,this.faTableList=_.Qte,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.show_vitals=!1}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(_e.I),e.rXU(pe.F))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vitals"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVitals:"setVitals"},standalone:!1,decls:11,vars:6,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngIf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],["class","block text-xs",4,"ngIf"],[1,"flex","pl-3","pb-5","justify-between","items-center"],["class","flex pl-3 justify-between items-center",4,"ngIf"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2)(3,"fa-icon",3),e.bIt("click",function(){return n.toggle("vitals")}),e.k0s(),e.EFF(4," VITAL SIGNS "),e.DNE(5,yt,3,4,"span",4),e.k0s(),e.j41(6,"span"),e.DNE(7,kt,1,1,"fa-icon",5),e.j41(8,"fa-icon",6),e.bIt("click",function(){return n.modalToggle("vitals")}),e.k0s()()(),e.DNE(9,xt,9,0,"div",4)(10,Vt,2,1,"div",4),e.k0s()),2&a&&(e.R7$(3),e.Y8G("icon",n.accordions.vitals?n.faChevronUp:n.faChevronDown),e.R7$(2),e.Y8G("ngIf",n.latest_vitals),e.R7$(2),e.Y8G("ngIf",n.latest_vitals),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.show_vitals),e.R7$(),e.Y8G("ngIf",n.show_vitals))},dependencies:[c.YU,c.bT,b.aY,c.QX,c.vh],encapsulation:2})}}return i})();var T=u(5794);const Pt=i=>({"opacity-70":i});function Xt(i,l){1&i&&(e.j41(0,"div")(1,"div",6)(2,"div",7),e.nrm(3,"div",8)(4,"div",8)(5,"div",8)(6,"div",8)(7,"div",8)(8,"div",8),e.k0s()()())}function At(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.appointment_desc," ")}}function Bt(i,l){if(1&i&&(e.j41(0,"strong"),e.EFF(1,"Uncoordinated Referral:"),e.k0s(),e.EFF(2)),2&i){const t=e.XpG(2).$implicit;e.R7$(2),e.Lme(" ",t.uncoordinated.desc," ",99===t.uncoordinated.id?"("+t.uncoordinated_others+")":""," ")}}function Ot(i,l){if(1&i&&(e.j41(0,"span")(1,"strong"),e.EFF(2,"Referred from:"),e.k0s(),e.EFF(3),e.nrm(4,"br"),e.j41(5,"strong"),e.EFF(6,"Referred to:"),e.k0s(),e.EFF(7),e.nrm(8,"br"),e.j41(9,"strong"),e.EFF(10,"Referral Reason:"),e.k0s(),e.EFF(11),e.nrm(12,"br"),e.j41(13,"strong"),e.EFF(14,"Referral Category:"),e.k0s(),e.EFF(15),e.nrm(16,"br"),e.DNE(17,Bt,3,2),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",t.facility_name," "),e.R7$(4),e.SpI(" ",t.referral_facility_name," "),e.R7$(4),e.Lme(" ",t.reason.desc," ",t.referral_reason?"("+t.referral_reason+")":"",""),e.R7$(4),e.SpI(" ",t.category.desc," "),e.R7$(2),e.vxM(t.uncoordinated?17:-1)}}function qt(i,l){if(1&i&&(e.j41(0,"span",16),e.DNE(1,At,2,1,"span",5)(2,Ot,18,6,"span",5),e.k0s()),2&i){const t=l.$implicit;e.R7$(),e.Y8G("ngIf",!t.referral_facility_name),e.R7$(),e.Y8G("ngIf",t.referral_facility_name)}}function Ut(i,l){if(1&i&&(e.j41(0,"div",12)(1,"span",13)(2,"span",14),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,qt,3,2,"span",15),e.k0s()()),2&i){const t=l.$implicit;e.R7$(3),e.SpI("",e.brH(4,2,t.key,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(2),e.Y8G("ngForOf",t.value)}}function Lt(i,l){if(1&i&&(e.j41(0,"div",10),e.DNE(1,Ut,6,6,"div",11),e.nI1(2,"keyvalue"),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,t.appointment_list))}}function Ht(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,Lt,3,4,"div",9),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.appointment)}}let Ce=(()=>{class i{toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}loadData(t){this.show_appointment=!0,this.http.get("appointment/schedule",{params:{patient_id:t,per_page:"all"}}).subscribe({next:n=>{this.appointment_list=n[0]},error:n=>console.log(n)})}constructor(t,a){this.http=t,this.toastr=a,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setVaccineGiven=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faPenToSquare=_.LFz,this.faMinus=_.EZy,this.appointment_list=[],this.show_appointment=!1}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-appointment"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVaccineGiven:"setVaccineGiven"},standalone:!1,decls:8,vars:8,consts:[[1,"block","mx-5","mb-5","mt-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mb-3 border-b border-b-gray-100",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center","mb-3","border-b","border-b-gray-100"],[1,"font-medium","text-xs","flex","flex-col"],[1,"font-bold"],["class","font-normal pl-3",4,"ngFor","ngForOf"],[1,"font-normal","pl-3"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2)(3,"fa-icon",3),e.bIt("click",function(){return n.toggle("appointment")}),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"fa-icon",4),e.bIt("click",function(){return n.modalToggle("appointment-modal")}),e.k0s()(),e.DNE(6,Xt,9,0,"div",5)(7,Ht,2,1,"div",5),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(6,Pt,0===(null==n.appointment_list?null:n.appointment_list.length)||!n.appointment_list)),e.R7$(),e.Y8G("icon",n.accordions.appointment?n.faChevronUp:n.faChevronDown),e.R7$(),e.SpI(" APPOINTMENTS ",(null==n.appointment_list?null:n.appointment_list.length)>0?"("+n.appointment_list.length+")":""," "),e.R7$(),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.show_appointment),e.R7$(),e.Y8G("ngIf",n.show_appointment&&n.appointment_list))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh,c.lG],encapsulation:2})}}return i})();var Jt=u(614);const zt=i=>({"opacity-70":i});function Wt(i,l){if(1&i&&(e.j41(0,"span",10),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.R7$(),e.SpI(" - ",t," ")}}function Qt(i,l){if(1&i&&(e.j41(0,"span",10),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.R7$(),e.SpI(" - ",t," ")}}function Kt(i,l){if(1&i&&(e.j41(0,"div")(1,"div",5)(2,"div",6)(3,"span",7),e.EFF(4," Date & Time of Death "),e.k0s(),e.j41(5,"span",8),e.EFF(6),e.nI1(7,"date"),e.k0s()(),e.j41(8,"div",6)(9,"span",7),e.EFF(10," Type of Death "),e.k0s(),e.j41(11,"span",8),e.EFF(12),e.k0s()(),e.j41(13,"div",6)(14,"span",7),e.EFF(15," Place of Death "),e.k0s(),e.j41(16,"span",8),e.EFF(17),e.k0s()(),e.nrm(18,"br"),e.j41(19,"div",6)(20,"span",9),e.EFF(21," Immediate Cause "),e.nrm(22,"br"),e.j41(23,"span",10),e.EFF(24),e.k0s()()(),e.j41(25,"div",6)(26,"span",9),e.EFF(27," Antecedent Cause "),e.nrm(28,"br"),e.DNE(29,Wt,2,1,"span",11),e.k0s()(),e.j41(30,"div",6)(31,"span",9),e.EFF(32," Underlying Cause"),e.nrm(33,"br"),e.DNE(34,Qt,2,1,"span",11),e.k0s()(),e.j41(35,"div",6)(36,"span",9),e.EFF(37," Remarks "),e.j41(38,"span",10),e.EFF(39),e.k0s()()()()()),2&i){let t;const a=e.XpG();e.R7$(),e.Y8G("@openCloseAccordion",void 0),e.R7$(5),e.SpI(" ",e.i5U(7,9,a.death.date_of_death,"MM/dd/yyyy hh:mm a")," "),e.R7$(6),e.SpI(" ",a.death.deathType.desc," "),e.R7$(5),e.SpI(" ",a.death.deathPlace.desc," "),e.R7$(7),e.Lme(" - ",a.death.immediateCause.icd10_code,": ",a.death.immediateCause.icd10_desc," "),e.R7$(5),e.Y8G("ngForOf",a.antecedent_list),e.R7$(5),e.Y8G("ngForOf",a.underlying_list),e.R7$(5),e.SpI(" ",null!==(t=a.death.remarks)&&void 0!==t?t:"-"," ")}}let Me=(()=>{class i{loadData(t){this.http.get("mortality/record",{params:{patient_id:t}}).subscribe({next:a=>{this.show_form=!0,this.death=a.data[0],this.handleCause(),this.setDetails.emit({var_name:"death_record",data:this.death})},error:a=>console.log(a)})}handleCause(){this.antecedent_list=[],this.underlying_list=[],this.death&&this.death.cause&&Object.entries(this.death.cause).forEach(([t,a],n)=>{"ANT"===a.cause.code&&this.antecedent_list.push(a.icd10.icd10_code+": "+a.icd10.icd10_desc),"UND"===a.cause.code&&this.underlying_list.push(a.icd10.icd10_code+": "+a.icd10.icd10_desc)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setDetails=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy,this.faEdit=Jt.MT7,this.show_form=!0,this.antecedent_list=[],this.underlying_list=[]}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-death-record"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},standalone:!1,decls:7,vars:5,consts:[[1,"block","pt-4"],[1,"flex","justify-between"],[1,"text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center","align-top"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],[1,"block","font-semibold","text-xs"],[1,"block","text-xs","font-normal","ml-3"],["class","block text-xs font-normal ml-3",4,"ngFor","ngForOf"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3," DEATH RECORD "),e.k0s(),e.j41(4,"div")(5,"fa-icon",3),e.bIt("click",function(){return n.modalToggle("death")}),e.k0s()()(),e.DNE(6,Kt,40,12,"div",4),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(3,zt,!n.death)),e.R7$(3),e.Y8G("icon",n.death?n.faEdit:n.faPlusCircle),e.R7$(),e.Y8G("ngIf",n.death))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();const Zt=i=>({"opacity-70":i});function ei(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle("services"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("icon",t.accordions.services?t.faChevronUp:t.faChevronDown)}}function ti(i,l){if(1&i&&e.nrm(0,"fa-icon",8),2&i){const t=e.XpG();e.Y8G("icon",t.faMinus)}}function ii(i,l){1&i&&(e.j41(0,"div")(1,"div",9)(2,"div",10),e.nrm(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.k0s()()())}function ni(i,l){if(1&i&&(e.j41(0,"div",15)(1,"span",16),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span",17),e.EFF(5),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.Lme(" ",t.lib_service.desc," (",e.i5U(3,3,t.service_date,"MM/dd/yyyy"),") "),e.R7$(3),e.SpI(" ",t.quantity," ")}}function ai(i,l){if(1&i&&(e.j41(0,"div",13),e.DNE(1,ni,6,6,"div",14),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("@openCloseAccordion",void 0),e.R7$(),e.Y8G("ngForOf",t.services)("ngForTrackBy",t.identify)}}function oi(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,ai,2,3,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.accordions.services)}}let we=(()=>{class i{loadData(t){this.http.get("patient-services/service",{params:{patient_id:t}}).subscribe({next:a=>{console.log(a),this.setDetails.emit(a),this.services=a.data},error:a=>console.log(a)})}toggle(t){this.toggleAccordion.emit(t)}modalToggle(t){this.toggleModal.emit(t)}constructor(t){this.http=t,this.toggleAccordion=new e.bkB,this.toggleModal=new e.bkB,this.setDetails=new e.bkB,this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.faPlusCircle=_.OQW,this.faMinus=_.EZy}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-services"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},standalone:!1,decls:9,vars:8,consts:[[1,"block","pt-4","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"click","icon"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"click","icon"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.DNE(3,ei,1,1,"fa-icon",3)(4,ti,1,1,"fa-icon",4),e.EFF(5," SERVICES "),e.k0s(),e.j41(6,"fa-icon",5),e.bIt("click",function(){return n.modalToggle("services")}),e.k0s()(),e.DNE(7,ii,9,0,"div",6)(8,oi,2,1,"div",6),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngClass",e.eq3(6,Zt,0===(null==n.services?null:n.services.length)||!n.services)),e.R7$(),e.Y8G("ngIf",(null==n.services?null:n.services.length)>=1),e.R7$(),e.Y8G("ngIf",0===(null==n.services?null:n.services.length)||!n.services),e.R7$(2),e.Y8G("icon",n.faPlusCircle),e.R7$(),e.Y8G("ngIf",!n.services),e.R7$(),e.Y8G("ngIf",n.services))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();var li=u(41),si=u(345),ri=u(334),di=u(9028),r=u(9417);const ci=new r.gE({facility_code:new r.MJ(""),patient_id:new r.MJ(""),user_id:new r.MJ(""),vitals_date:new r.MJ(""),patient_temp:new r.MJ(null),patient_height:new r.MJ(null),patient_weight:new r.MJ(null),patient_head_circumference:new r.MJ(null),patient_skinfold_thickness:new r.MJ(null),bp_systolic:new r.MJ(null),bp_diastolic:new r.MJ(null),patient_heart_rate:new r.MJ(null),patient_respiratory_rate:new r.MJ(null),patient_pulse_rate:new r.MJ(null),patient_waist:new r.MJ(null),patient_hip:new r.MJ(null),patient_limbs:new r.MJ(null),patient_muac:new r.MJ(null),patient_chest:new r.MJ(null),patient_abdomen:new r.MJ(null),patient_spo2:new r.MJ(null),vitals_height_ft:new r.MJ(null),vitals_height_in:new r.MJ(null),vitals_waist_in:new r.MJ(null),vitals_date_temp:new r.MJ(""),vitals_time_temp:new r.MJ(""),patient_left_vision_acuity_distance:new r.MJ(null),patient_left_vision_acuity:new r.MJ(null),patient_right_vision_acuity_distance:new r.MJ(null),patient_right_vision_acuity:new r.MJ(null)});function _i(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_weight.errors.max.max+")"," ")}}function pi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message_min+" ("+t.f.patient_weight.errors.min.min+")"," ")}}function mi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,_i,2,1,"div",24)(2,pi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_weight.errors?null:t.f.patient_weight.errors.max),e.R7$(),e.Y8G("ngIf",null==t.f.patient_weight.errors?null:t.f.patient_weight.errors.min)}}function ui(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_temp.errors.max.max+")"," ")}}function hi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,ui,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_temp.errors?null:t.f.patient_temp.errors.max)}}function fi(i,l){1&i&&(e.j41(0,"span"),e.EFF(1,"Length in ft"),e.k0s())}function gi(i,l){1&i&&(e.j41(0,"span"),e.EFF(1,"Height in ft"),e.k0s())}function vi(i,l){1&i&&(e.j41(0,"span"),e.EFF(1,"Length in cm"),e.k0s())}function bi(i,l){1&i&&(e.j41(0,"span"),e.EFF(1,"Height in cm"),e.k0s())}function yi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_height.errors.max.max+")"," ")}}function ki(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message_min+" ("+t.f.patient_height.errors.min.min+")"," ")}}function xi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,yi,2,1,"div",24)(2,ki,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_height.errors?null:t.f.patient_height.errors.max),e.R7$(),e.Y8G("ngIf",null==t.f.patient_height.errors?null:t.f.patient_height.errors.min)}}function Fi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_spo2.errors.max.max+")"," ")}}function Ci(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Fi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_spo2.errors?null:t.f.patient_spo2.errors.max)}}function Mi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_heart_rate.errors.max.max+")"," ")}}function wi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Mi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_heart_rate.errors?null:t.f.patient_heart_rate.errors.max)}}function ji(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_pulse_rate.errors.max.max+")"," ")}}function Ii(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,ji,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_pulse_rate.errors?null:t.f.patient_pulse_rate.errors.max)}}function Ri(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_respiratory_rate.errors.max.max+")"," ")}}function Gi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Ri,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_respiratory_rate.errors?null:t.f.patient_respiratory_rate.errors.max)}}function Ei(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_head_circumference.errors.max.max+")"," ")}}function Ti(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Ei,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_head_circumference.errors?null:t.f.patient_head_circumference.errors.max)}}function $i(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",58),e.EFF(2,"Head Circumference(Centimeters)"),e.k0s(),e.nrm(3,"input",59),e.DNE(4,Ti,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_head_circumference.errors)}}function Di(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_muac.errors.max.max+")"," ")}}function Yi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Di,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_muac.errors?null:t.f.patient_muac.errors.max)}}function Si(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",60),e.EFF(2,"MUAC (Centimeters)"),e.k0s(),e.nrm(3,"input",61),e.DNE(4,Yi,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_muac.errors)}}function Ni(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_abdomen.errors.max.max+")"," ")}}function Vi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Ni,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_abdomen.errors?null:t.f.patient_abdomen.errors.max)}}function Pi(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",62),e.EFF(2,"Abdominal Circumference(Centimeters)"),e.k0s(),e.nrm(3,"input",63),e.DNE(4,Vi,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_abdomen.errors)}}function Xi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_chest.errors.max.max+")"," ")}}function Ai(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Xi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_chest.errors?null:t.f.patient_chest.errors.max)}}function Bi(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",64),e.EFF(2,"Chest Circumference(Centimeters)"),e.k0s(),e.nrm(3,"input",65),e.DNE(4,Ai,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_chest.errors)}}function Oi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_hip.errors.max.max+")"," ")}}function qi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Oi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_hip.errors?null:t.f.patient_hip.errors.max)}}function Ui(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_waist.errors.max.max+")"," ")}}function Li(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Ui,2,1,"div",24),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.patient_waist.errors?null:t.f.patient_waist.errors.max)}}function Hi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_limbs.errors.max.max+")"," ")}}function Ji(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Hi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_limbs.errors?null:t.f.patient_limbs.errors.max)}}function zi(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",66),e.EFF(2,"Limbs (Centimeters)"),e.k0s(),e.nrm(3,"input",67),e.DNE(4,Ji,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_limbs.errors)}}function Wi(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.error_message+" ("+t.f.patient_skinfold_thickness.errors.max.max+")"," ")}}function Qi(i,l){if(1&i&&(e.j41(0,"div",57),e.DNE(1,Wi,2,1,"div",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.patient_skinfold_thickness.errors?null:t.f.patient_skinfold_thickness.errors.max)}}function Ki(i,l){if(1&i&&(e.j41(0,"div",11)(1,"label",68),e.EFF(2,"Skinfold Thickness (Centimeters)"),e.k0s(),e.nrm(3,"input",69),e.DNE(4,Qi,2,1,"div",19),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.f.patient_skinfold_thickness.errors)}}let Zi=(()=>{class i{constructor(t,a,n,s,d){this.formBuilder=t,this.http=a,this.toastr=n,this.dateHelper=s,this.vitalsCharts=d,this.toggleModal=new e.bkB,this.vitalsForm=ci,this.error_message="exceeded maximum value",this.error_message_min="exceeded minimum value",this.showChildVitals=!1,this.bp_color="text-gray-800",this.oxygen_color="text-gray-800",this.temp_color="text-gray-800"}onSubmit(){let t;this.vitalsForm.patchValue({vitals_date:this.vitalsForm.value.vitals_date_temp+" "+this.vitalsForm.value.vitals_time_temp}),t=this.vitals_to_edit?this.http.update("patient-vitals/vitals/",this.vitals_to_edit.id,this.vitalsForm.value):this.http.post("patient-vitals/vitals",this.vitalsForm.value),t.subscribe({next:()=>{this.vitalsForm.markAsPristine(),this.vitalsForm.disable(),this.toastr.success("Successfully recorded!","Vital signs"),this.closeModal()},error:a=>console.log(a)})}get f(){return this.vitalsForm.controls}ftChange(){this.vitalsForm.patchValue({patient_height:(12*this.vitalsForm.value.vitals_height_ft*2.54+2.54*this.vitalsForm.value.vitals_height_in).toFixed(2)})}cmChange(){let t=.393701*this.vitalsForm.value.patient_height/12,a=Math.floor(t),n=Math.round(12*(t-a));this.vitalsForm.patchValue({vitals_height_ft:a}),this.vitalsForm.patchValue({vitals_height_in:n})}cmToInch(){this.vitalsForm.patchValue({vitals_waist_in:(.393701*this.vitalsForm.value.patient_waist).toFixed(2)})}inchToCm(){this.vitalsForm.patchValue({patient_waist:(2.54*this.vitalsForm.value.vitals_waist_in).toFixed(2)})}closeModal(){this.toggleModal.emit("vitals-modal")}checkIfChild(){this.showChildVitals="year"==this.patient_age.type&&this.patient_age.age<=6||"month"==this.patient_age.type||"day"==this.patient_age.type}getBPColor(){this.bp_color=this.vitalsCharts.getChartColor(this.vitalsForm.value)}getOxygenColor(){this.oxygen_color=this.vitalsCharts.getBloodOxygenColor(this.vitalsForm.value)}getTempColor(){this.temp_color=this.vitalsCharts.getTempColor(this.vitalsForm.value)}ngOnInit(){let t=new Date,a=this.http.getUserID(),n=this.http.getUserFacility();this.vitalsForm=this.formBuilder.group({facility_code:[n,r.k0.required],patient_id:[this.patient_info.id,r.k0.required],vitals_date:[null,r.k0.required],user_id:[a,r.k0.required],patient_temp:[null,r.k0.max(50)],patient_height:[null,[r.k0.min(10),r.k0.max(272)]],patient_weight:[null,[r.k0.min(1),r.k0.max(200)]],patient_head_circumference:[null,r.k0.max(200)],patient_skinfold_thickness:[null,r.k0.max(200)],bp_systolic:[null],bp_diastolic:[null],patient_heart_rate:[null,r.k0.max(300)],patient_respiratory_rate:[null,r.k0.max(300)],patient_pulse_rate:[null,r.k0.max(300)],patient_waist:[null,r.k0.max(300)],patient_hip:[null,r.k0.max(300)],patient_limbs:[null,r.k0.max(300)],patient_muac:[null,r.k0.max(300)],patient_chest:[null,r.k0.max(300)],patient_abdomen:[null,r.k0.max(300)],patient_spo2:[null,r.k0.max(100)],vitals_waist_in:[null],vitals_height_ft:[null,r.k0.max(8)],vitals_height_in:[null,r.k0.max(11)],vitals_date_temp:[(0,c.Yq)(t,"yyyy-MM-dd","en","Asia/Manila"),r.k0.required],vitals_time_temp:[(0,c.Yq)(t,"HH:mm:ss","en","Asia/Manila"),r.k0.required],patient_right_vision_acuity_distance:[20],patient_right_vision_acuity:[null],patient_left_vision_acuity_distance:[20],patient_left_vision_acuity:[null]}),this.vitals_to_edit&&(this.vitalsForm.patchValue({...this.vitals_to_edit}),this.vitalsForm.patchValue({vitals_date_temp:this.dateHelper.dateFormat(this.vitalsForm.value.vitals_date)}),this.vitalsForm.patchValue({vitals_time_temp:this.dateHelper.timeFormat(this.vitalsForm.value.vitals_date)}),this.vitalsForm.value.bp_systolic&&this.getBPColor(),this.cmChange()),this.date=(new Date).toISOString().slice(0,10),this.checkIfChild()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw),e.rXU(pe.F),e.rXU(_e.I))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vitals-modal"]],inputs:{patient_age:"patient_age",patient_info:"patient_info",vitals_to_edit:"vitals_to_edit"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:125,vars:28,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","vitals_date_temp",1,"font-semibold"],["name","vitals_date_temp","id","vitals_date_temp","formControlName","vitals_date_temp","type","date","placeholder","mm/dd/yyyy",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input",3,"max"],["for","vitals_time_temp",1,"font-semibold"],["name","vitals_time_temp","id","vitals_time_temp","formControlName","vitals_time_temp","type","time","step","1","placeholder","Input Time",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input"],[1,"text-gray-600","border","border-slate-100","mx-5"],["for","patient_weight",1,"font-semibold"],["name","patient_weight","id","patient_weight","formControlName","patient_weight","type","number","placeholder","Enter weight in kilograms",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2",3,"ngClass"],["for","patient_temp",1,"font-semibold"],["name","patient_temp","id","patient_temp","formControlName","patient_temp","type","number","placeholder","Enter temperature in celcius",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"change"],["for","vitals_height_ft",1,"font-semibold"],[4,"ngIf"],[1,"flex"],["name","vitals_height_ft","id","vitals_height_ft","formControlName","vitals_height_ft","type","number","placeholder","Feet",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"input"],["name","vitals_height_in","id","vitals_height_in","formControlName","vitals_height_in","type","number","placeholder","Inches",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"input"],["for","patient_height",1,"font-semibold"],["name","patient_height","id","patient_height","formControlName","patient_height","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"input"],["for","bp_systolic",1,"font-semibold"],["name","bp_systolic","id","bp_systolic","formControlName","bp_systolic","type","number","placeholder","Systolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"change"],["name","bp_diastolic","id","bp_diastolic","formControlName","bp_diastolic","type","number","placeholder","Diastolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5",3,"change"],["for","patient_spo2",1,"font-semibold"],["name","patient_spo2","id","patient_spo2","formControlName","patient_spo2","type","number","placeholder","SpO2",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input",3,"change"],["for","patient_heart_rate",1,"font-semibold"],["name","patient_heart_rate","id","patient_heart_rate","formControlName","patient_heart_rate","type","number","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input"],["for","patient_pulse_rate",1,"font-semibold"],["name","patient_pulse_rate","id","patient_pulse_rate","formControlName","patient_pulse_rate","type","text","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input"],["for","patient_respiratory_rate",1,"font-semibold"],["name","patient_respiratory_rate","id","patient_respiratory_rate","formControlName","patient_respiratory_rate","type","number","placeholder","Breaths per minute",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","datepicker-input"],["for","patient_right_vision_acuity_distance",1,"font-semibold"],[1,"grid","grid-cols-3"],["name","patient_right_vision_acuity_distance","id","patient_right_vision_acuity_distance","formControlName","patient_right_vision_acuity_distance","type","number","placeholder","Distance",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["name","patient_right_vision_acuity","id","patient_right_vision_acuity","formControlName","patient_right_vision_acuity","type","number","placeholder","Right eye visual acuity",1,"col-span-2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_left_vision_acuity_distance",1,"font-semibold"],["name","patient_left_vision_acuity_distance","id","patient_left_vision_acuity_distance","formControlName","patient_left_vision_acuity_distance","type","number","placeholder","Distance",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["name","patient_left_vision_acuity","id","patient_left_vision_acuity","formControlName","patient_left_vision_acuity","type","number","placeholder","Left eye visual acuity",1,"col-span-2","mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","patient_hip",1,"font-semibold"],["name","patient_hip","id","patient_hip","formControlName","patient_hip","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_waist",1,"font-semibold"],["name","patient_waist","id","patient_waist","formControlName","patient_waist","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],["for","patient_head_circumference",1,"font-semibold"],["name","patient_head_circumference","id","patient_head_circumference","formControlName","patient_head_circumference","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_muac",1,"font-semibold"],["name","patient_muac","id","patient_muac","formControlName","patient_muac","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_abdomen",1,"font-semibold"],["name","patient_abdomen","id","patient_abdomen","formControlName","patient_abdomen","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_chest",1,"font-semibold"],["name","patient_chest","id","patient_chest","formControlName","patient_chest","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_limbs",1,"font-semibold"],["name","patient_limbs","id","patient_limbs","formControlName","patient_limbs","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"],["for","patient_skinfold_thickness",1,"font-semibold"],["name","patient_skinfold_thickness","id","patient_skinfold_thickness","formControlName","patient_skinfold_thickness","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," VITAL SIGNS "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),e.EFF(11,"Date & Time"),e.k0s()(),e.j41(12,"div",10)(13,"div",11)(14,"label",12),e.EFF(15,"Date"),e.k0s(),e.nrm(16,"input",13),e.nI1(17,"date"),e.k0s(),e.j41(18,"div",11)(19,"label",14),e.EFF(20,"Time"),e.k0s(),e.nrm(21,"input",15),e.k0s()()(),e.nrm(22,"div",16),e.j41(23,"div",7)(24,"div",8)(25,"h4",9),e.EFF(26,"Details"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"label",17),e.EFF(30,"Weight (Kilograms)"),e.k0s(),e.nrm(31,"input",18),e.DNE(32,mi,3,2,"div",19),e.k0s(),e.j41(33,"div",20)(34,"label",21),e.EFF(35,"Temperature (Celcius)"),e.k0s(),e.j41(36,"input",22),e.bIt("change",function(){return n.getTempColor()}),e.k0s(),e.DNE(37,hi,2,1,"div",19),e.k0s()(),e.j41(38,"div",10)(39,"div",11)(40,"label",23),e.DNE(41,fi,2,0,"span",24)(42,gi,2,0,"span",24),e.k0s(),e.j41(43,"div",25)(44,"input",26),e.bIt("input",function(){return n.ftChange()}),e.k0s(),e.j41(45,"input",27),e.bIt("input",function(){return n.ftChange()}),e.k0s()()(),e.j41(46,"div",11)(47,"label",28),e.DNE(48,vi,2,0,"span",24)(49,bi,2,0,"span",24),e.k0s(),e.j41(50,"input",29),e.bIt("input",function(){return n.cmChange()}),e.k0s(),e.DNE(51,xi,3,2,"div",19),e.k0s()(),e.j41(52,"div",10)(53,"div",20)(54,"label",30),e.EFF(55,"Blood Pressure"),e.k0s(),e.j41(56,"div",25)(57,"input",31),e.bIt("change",function(){return n.getBPColor()}),e.k0s(),e.j41(58,"input",32),e.bIt("change",function(){return n.getBPColor()}),e.k0s()()(),e.j41(59,"div",20)(60,"label",33),e.EFF(61,"Blood Oxygen (SpO2)"),e.k0s(),e.j41(62,"input",34),e.bIt("change",function(){return n.getOxygenColor()}),e.k0s(),e.DNE(63,Ci,2,1,"div",19),e.k0s()(),e.j41(64,"div",10)(65,"div",11)(66,"label",35),e.EFF(67,"Heart Rate"),e.k0s(),e.nrm(68,"input",36),e.DNE(69,wi,2,1,"div",19),e.k0s(),e.j41(70,"div",11)(71,"label",37),e.EFF(72,"Pulse Rate"),e.k0s(),e.nrm(73,"input",38),e.DNE(74,Ii,2,1,"div",19),e.k0s()(),e.j41(75,"div",10)(76,"div",11)(77,"label",39),e.EFF(78,"Respiratory Rate"),e.k0s(),e.nrm(79,"input",40),e.DNE(80,Gi,2,1,"div",19),e.k0s()(),e.j41(81,"div",10)(82,"div",11)(83,"label",41),e.EFF(84,"Visual Acuity (Right)"),e.k0s(),e.j41(85,"div",42),e.nrm(86,"input",43)(87,"input",44),e.k0s()(),e.j41(88,"div",11)(89,"label",45),e.EFF(90,"Visual Acuity (Left)"),e.k0s(),e.j41(91,"div",42),e.nrm(92,"input",46)(93,"input",47),e.k0s()()()(),e.nrm(94,"div",16),e.j41(95,"div",7)(96,"div",8)(97,"h4",9),e.EFF(98,"Body Measurement"),e.k0s()(),e.j41(99,"div",10),e.DNE(100,$i,5,1,"div",48)(101,Si,5,1,"div",48),e.k0s(),e.j41(102,"div",10),e.DNE(103,Pi,5,1,"div",48)(104,Bi,5,1,"div",48),e.k0s(),e.j41(105,"div",10)(106,"div",11)(107,"label",49),e.EFF(108,"Hip Circumference (Centimeters)"),e.k0s(),e.nrm(109,"input",50),e.DNE(110,qi,2,1,"div",19),e.k0s(),e.j41(111,"div",11)(112,"label",51),e.EFF(113,"Waist Circumference (Centimeters)"),e.k0s(),e.nrm(114,"input",52),e.DNE(115,Li,2,1,"div",19),e.k0s()(),e.j41(116,"div",10),e.DNE(117,zi,5,1,"div",48)(118,Ki,5,1,"div",48),e.k0s()()()(),e.j41(119,"div",53)(120,"button",54),e.bIt("click",function(){return n.closeModal()}),e.EFF(121,"Close"),e.k0s(),e.j41(122,"button",55),e.bIt("click",function(){return n.onSubmit()}),e.EFF(123,"Save"),e.k0s()()()()(),e.nrm(124,"div",56)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.vitalsForm),e.R7$(9),e.FS9("max",e.i5U(17,25,n.date,"yyyy-MM-dd")),e.R7$(16),e.Y8G("ngIf",n.f.patient_weight.errors),e.R7$(),e.Y8G("ngClass",n.temp_color),e.R7$(4),e.Y8G("ngIf",n.f.patient_temp.errors),e.R7$(4),e.Y8G("ngIf",n.showChildVitals),e.R7$(),e.Y8G("ngIf",!n.showChildVitals),e.R7$(6),e.Y8G("ngIf",n.showChildVitals),e.R7$(),e.Y8G("ngIf",!n.showChildVitals),e.R7$(2),e.Y8G("ngIf",n.f.patient_height.errors),e.R7$(2),e.Y8G("ngClass",n.bp_color),e.R7$(6),e.Y8G("ngClass",n.oxygen_color),e.R7$(4),e.Y8G("ngIf",n.f.patient_spo2.errors),e.R7$(6),e.Y8G("ngIf",n.f.patient_heart_rate.errors),e.R7$(5),e.Y8G("ngIf",n.f.patient_pulse_rate.errors),e.R7$(6),e.Y8G("ngIf",n.f.patient_respiratory_rate.errors),e.R7$(20),e.Y8G("ngIf",n.showChildVitals),e.R7$(),e.Y8G("ngIf",n.showChildVitals),e.R7$(2),e.Y8G("ngIf",n.showChildVitals),e.R7$(),e.Y8G("ngIf",n.showChildVitals),e.R7$(6),e.Y8G("ngIf",n.f.patient_hip.errors),e.R7$(5),e.Y8G("ngIf",n.f.patient_waist.errors),e.R7$(2),e.Y8G("ngIf",n.showChildVitals),e.R7$(),e.Y8G("ngIf",n.showChildVitals),e.R7$(4),e.Y8G("disabled",n.vitalsForm.pristine))},dependencies:[c.YU,c.bT,r.qT,r.me,r.Q0,r.BC,r.cb,r.j4,r.JD,c.vh],encapsulation:2})}}return i})();var ee=u(8793),q=u(7673),te=u(3294),ie=u(152),ne=u(5558),ae=u(9437),je=u(6354),en=u(7468),W=u(1413),Ie=u(8761);const Re=()=>({standalone:!0});function tn(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function nn(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function an(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function on(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function ln(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function sn(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function rn(i,l){if(1&i&&(e.j41(0,"div",35)(1,"h5",36)(2,"strong"),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()()),2&i){const t=l.item,a=l.searchTerm;e.R7$(),e.Y8G("ngOptionHighlight",a),e.R7$(2),e.SpI("",t.icd10_code,":"),e.R7$(),e.SpI(" ",t.icd10_desc,"")}}function dn(i,l){if(1&i&&(e.j41(0,"div",35)(1,"h5",36)(2,"strong"),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()()),2&i){const t=l.item,a=l.searchTerm;e.R7$(),e.Y8G("ngOptionHighlight",a),e.R7$(2),e.SpI("",t.icd10_code,":"),e.R7$(),e.SpI(" ",t.icd10_desc,"")}}function cn(i,l){if(1&i&&(e.j41(0,"div",35)(1,"h5",36)(2,"strong"),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()()),2&i){const t=l.item,a=l.searchTerm;e.R7$(),e.Y8G("ngOptionHighlight",a),e.R7$(2),e.SpI("",t.icd10_code,":"),e.R7$(),e.SpI(" ",t.icd10_desc,"")}}let _n=(()=>{class i{onSubmit(){let t=[];this.antecedent_cause&&Object.entries(this.antecedent_cause).forEach(([a,n],s)=>{t.push({icd10_code:n,cause_code:"ANT"})}),this.underlying_cause&&Object.entries(this.underlying_cause).forEach(([a,n],s)=>{t.push({icd10_code:n,cause_code:"UND"})}),(this.antecedent_cause||this.underlying_cause)&&this.deathForm.patchValue({cause:t}),this.deathForm.valid?this.http.post("mortality/record",this.deathForm.value).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Mortality"),this.closeModal()},error:a=>this.http.showError(a.error.message,"Mortality")}):this.toastr.error("Form is invalid","Mortality")}loadIcFdx(t){this.ic_dx$=(0,ee.x)((0,q.of)(t),this.icInput$.pipe((0,R.p)(a=>null!==a&&a.length>=this.minLengthTerm),(0,te.F)(),(0,ie.B)(800),(0,M.M)(()=>this.icfdxLoading=!0),(0,ne.n)(a=>this.getFdx(a).pipe((0,ae.W)(()=>(0,q.of)([])),(0,M.M)(()=>this.icfdxLoading=!1)))))}loadAcFdx(t){this.ac_dx$=(0,ee.x)((0,q.of)(t),this.acInput$.pipe((0,R.p)(a=>null!==a&&a.length>=this.minLengthTerm),(0,te.F)(),(0,ie.B)(800),(0,M.M)(()=>this.acfdxLoading=!0),(0,ne.n)(a=>this.getFdx(a).pipe((0,ae.W)(()=>(0,q.of)([])),(0,M.M)(()=>this.acfdxLoading=!1)))))}loadUcFdx(t){this.uc_dx$=(0,ee.x)((0,q.of)(t),this.ucInput$.pipe((0,R.p)(a=>null!==a&&a.length>=this.minLengthTerm),(0,te.F)(),(0,ie.B)(800),(0,M.M)(()=>this.ucfdxLoading=!0),(0,ne.n)(a=>this.getFdx(a).pipe((0,ae.W)(()=>(0,q.of)([])),(0,M.M)(()=>this.ucfdxLoading=!1)))))}getFdx(t=null){return this.http.get("libraries/icd10",{params:{"filter[search]":t}}).pipe((0,je.T)(a=>(console.log(a),a.data)))}createForm(){this.deathForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.patient_info.id,r.k0.required],date_of_death:[null,r.k0.required],death_type:[null,r.k0.required],death_place:[null,r.k0.required],region_code:[null,r.k0.required],province_code:[null,r.k0.required],muncity_code:[null,r.k0.required],barangay_code:[null,r.k0.required],immediate_cause:[null,r.k0.required],cause:[null],remarks:[null]}),this.death_record&&this.patchData()}loadDemog(t,a,n){"regions"==t?(this.municipalities=null,this.barangays=null):"provinces"==t&&(this.barangays=null),this.http.get("libraries/"+t+"/"+a,{params:{include:n,per_page:"all"}}).subscribe({next:s=>{this[n]=s.data[n]},error:s=>console.log(s)})}loadLibraries(){const t=this.http.get("libraries/mortality-death-type"),a=this.http.get("libraries/mortality-death-place"),n=this.http.get("libraries/regions",{params:{per_page:"all"}});(0,en.p)([t,a,n]).subscribe({next:([s,d,y])=>{this.death_type_list=s.data,this.death_place_list=d.data,this.regions=y.data,this.loadIcFdx([]),this.loadAcFdx([]),this.loadUcFdx([]),this.createForm()},error:s=>{this.http.showError(s.error.message,"Death Module Library")}})}closeModal(){this.toggleModal.emit("death-modal")}patchData(){if(this.loadIcFdx([{icd10_code:this.death_record.immediateCause.icd10_code,icd10_desc:this.death_record.immediateCause.icd10_desc}]),this.death_record.cause&&Object.keys(this.death_record.cause).length>0){let t=[],a=[],n=[],s=[];Object.entries(this.death_record.cause).forEach(([d,y],V)=>{"ANT"===y.cause.code?(t.push(y.icd10_code.toString()),a.push(y.icd10)):(n.push(y.icd10_code.toString()),s.push(y.icd10))}),this.loadAcFdx(a),this.antecedent_cause=t,this.loadUcFdx(s),this.underlying_cause=n}this.loadDemog("regions",this.death_record.barangay.psgc_10_digit_code.substring(0,2).padEnd(10,"0"),"provinces"),this.loadDemog("provinces",this.death_record.barangay.psgc_10_digit_code.substring(0,5).padEnd(10,"0"),"municipalities"),this.loadDemog("municipalities",this.death_record.barangay.psgc_10_digit_code.substring(0,7).padEnd(10,"0"),"barangays"),this.deathForm.patchValue({...this.death_record,death_type:this.death_record.deathType.code,death_place:this.death_record.deathPlace.code,immediate_cause:this.death_record.immediateCause.icd10_code,region_code:this.death_record.barangay.psgc_10_digit_code.substring(0,2).padEnd(10,"0"),province_code:this.death_record.barangay.psgc_10_digit_code.substring(0,5).padEnd(10,"0"),muncity_code:this.death_record.barangay.psgc_10_digit_code.substring(0,7).padEnd(10,"0"),barangay_code:this.death_record.barangay.psgc_10_digit_code})}constructor(t,a,n){this.http=t,this.toastr=a,this.formBuilder=n,this.toggleModal=new e.bkB,this.death_type_list=[],this.death_place_list=[],this.minLengthTerm=3,this.icInput$=new W.B,this.icfdxLoading=!1,this.acInput$=new W.B,this.acfdxLoading=!1,this.ucInput$=new W.B,this.ucfdxLoading=!1,this.show_form=!1,this.deathForm=new r.gE({id:new r.MJ(""),patient_id:new r.MJ(""),date_of_death:new r.MJ(""),death_type:new r.MJ(""),death_place:new r.MJ(""),region_code:new r.MJ(""),province_code:new r.MJ(""),muncity_code:new r.MJ(""),barangay_code:new r.MJ(""),immediate_cause:new r.MJ(""),cause:new r.MJ(""),remarks:new r.MJ("")})}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw),e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-death-modal"]],inputs:{patient_info:"patient_info",death_record:"death_record"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:87,vars:32,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500",3,"formGroup"],[1,"grid","grid-cols-2","gap-x-5","pb-5","mx-5","text-sm"],[1,"col-span-2","mt-3"],[1,"font-bold","text-blue-500","mt-2"],[1,"col-span-2","py-2","mt-2"],["type","datetime-local","formControlName","date_of_death","placeholder","Date if Death",1,"input"],[1,"py-2"],["type","date","formControlName","death_type","placeholder","Select Date",1,"input"],[3,"value",4,"ngFor","ngForOf"],["type","time","formControlName","death_place","placeholder","Input Time",1,"input"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"py-2","mt-2"],["type","text","formControlName","region_code","placeholder","Select Region",1,"input",3,"change"],["type","text","formControlName","province_code","placeholder","Select Province",1,"input",3,"change"],["type","text","formControlName","muncity_code","placeholder","Select Municipality",1,"input",3,"change"],["type","text","formControlName","barangay_code","placeholder","Select Barangay",1,"input"],[1,"col-span-2","mt-2"],[1,"chips-container"],["placeholder","search","typeToSearchText","search...","bindValue","icd10_code","bindLabel","icd10_desc","notFoundText","No records found","formControlName","immediate_cause",1,"select-chips",3,"items","multiple","loading","typeahead"],["ng-option-tmp",""],[1,"col-span-2","py-2"],["placeholder","search","typeToSearchText","search...","bindValue","icd10_code","bindLabel","icd10_desc","notFoundText","No records found",1,"select-chips",3,"ngModelChange","items","multiple","loading","typeahead","ngModel","ngModelOptions"],["type","text","formControlName","remarks","placeholder","Input Remarks",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-save",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],[1,"whitespace-normal"],[1,"text-gray-700",3,"ngOptionHighlight"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," DEATH RECORD "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),e.EFF(11,"Registry Information"),e.k0s()(),e.j41(12,"div",10)(13,"label"),e.EFF(14,"Date & Time of Death"),e.k0s(),e.nrm(15,"input",11),e.k0s(),e.j41(16,"div",12)(17,"label"),e.EFF(18,"Type of Death"),e.k0s(),e.j41(19,"select",13),e.DNE(20,tn,2,2,"option",14),e.k0s()(),e.j41(21,"div",12)(22,"label"),e.EFF(23,"Place of Death"),e.k0s(),e.j41(24,"select",15),e.DNE(25,nn,2,2,"option",14),e.k0s()()(),e.nrm(26,"div",16),e.j41(27,"div",7)(28,"div",8)(29,"h4",17),e.EFF(30,"Place of Occurence"),e.k0s()(),e.j41(31,"div",18)(32,"label"),e.EFF(33,"Region"),e.k0s(),e.j41(34,"select",19),e.bIt("change",function(){return n.loadDemog("regions",n.deathForm.value.region_code,"provinces")}),e.DNE(35,an,2,2,"option",14),e.k0s()(),e.j41(36,"div",18)(37,"label"),e.EFF(38,"Province"),e.k0s(),e.j41(39,"select",20),e.bIt("change",function(){return n.loadDemog("provinces",n.deathForm.value.province_code,"municipalities")}),e.DNE(40,on,2,2,"option",14),e.k0s()(),e.j41(41,"div",12)(42,"label"),e.EFF(43,"Municipality"),e.k0s(),e.j41(44,"select",21),e.bIt("change",function(){return n.loadDemog("municipalities",n.deathForm.value.muncity_code,"barangays")}),e.DNE(45,ln,2,2,"option",14),e.k0s()(),e.j41(46,"div",12)(47,"label"),e.EFF(48,"Barangay"),e.k0s(),e.j41(49,"select",22),e.DNE(50,sn,2,2,"option",14),e.k0s()()(),e.nrm(51,"div",16),e.j41(52,"div",7)(53,"div",8)(54,"h4",17),e.EFF(55,"Cause of Death"),e.k0s()(),e.j41(56,"div",23)(57,"label"),e.EFF(58,"Immediate Cause"),e.k0s(),e.j41(59,"div",24)(60,"ng-select",25),e.nI1(61,"async"),e.DNE(62,rn,5,3,"ng-template",26),e.k0s()()(),e.j41(63,"div",27)(64,"label"),e.EFF(65,"Antecedent Cause"),e.k0s(),e.j41(66,"div",24)(67,"ng-select",28),e.nI1(68,"async"),e.mxI("ngModelChange",function(d){return e.DH7(n.antecedent_cause,d)||(n.antecedent_cause=d),d}),e.DNE(69,dn,5,3,"ng-template",26),e.k0s()()(),e.j41(70,"div",27)(71,"label"),e.EFF(72,"Underlying Cause"),e.k0s(),e.j41(73,"div",24)(74,"ng-select",28),e.nI1(75,"async"),e.mxI("ngModelChange",function(d){return e.DH7(n.underlying_cause,d)||(n.underlying_cause=d),d}),e.DNE(76,cn,5,3,"ng-template",26),e.k0s()()(),e.j41(77,"div",27)(78,"label"),e.EFF(79,"Other Significant Conditions Contributing to Death"),e.k0s(),e.nrm(80,"input",29),e.k0s()()()(),e.j41(81,"div",30)(82,"button",31),e.bIt("click",function(){return n.closeModal()}),e.EFF(83,"Close"),e.k0s(),e.j41(84,"button",32),e.bIt("click",function(){return n.onSubmit()}),e.EFF(85,"Save"),e.k0s()()()()(),e.nrm(86,"div",33)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.deathForm),e.R7$(13),e.Y8G("ngForOf",n.death_type_list),e.R7$(5),e.Y8G("ngForOf",n.death_place_list),e.R7$(10),e.Y8G("ngForOf",n.regions),e.R7$(5),e.Y8G("ngForOf",n.provinces),e.R7$(5),e.Y8G("ngForOf",n.municipalities),e.R7$(5),e.Y8G("ngForOf",n.barangays),e.R7$(10),e.Y8G("items",e.bMT(61,24,n.ic_dx$))("multiple",!1)("loading",n.icfdxLoading)("typeahead",n.icInput$),e.R7$(7),e.Y8G("items",e.bMT(68,26,n.ac_dx$))("multiple",!0)("loading",n.acfdxLoading)("typeahead",n.acInput$),e.R50("ngModel",n.antecedent_cause),e.Y8G("ngModelOptions",e.lJ4(30,Re)),e.R7$(7),e.Y8G("items",e.bMT(75,28,n.uc_dx$))("multiple",!0)("loading",n.ucfdxLoading)("typeahead",n.ucInput$),e.R50("ngModel",n.underlying_cause),e.Y8G("ngModelOptions",e.lJ4(31,Re)),e.R7$(10),e.Y8G("disabled",n.deathForm.invalid))},dependencies:[c.Sq,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.vS,r.j4,r.JD,Ie.vr,Ie.Uq,c.Jj],encapsulation:2})}}return i})();const pn=[{group:"Child Care Vaccines",vaccines:[{vaccine_id:"BCG",vaccine_desc:"BCG"},{vaccine_id:"VAR",vaccine_desc:"Varicella"},{vaccine_id:"FLU",vaccine_desc:"Flu Vaccine"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"HPV",vaccine_desc:"HPV"},{vaccine_id:"DPT",vaccine_desc:"DPT"},{vaccine_id:"HB",vaccine_desc:"HB"},{vaccine_id:"OPV",vaccine_desc:"OPV"},{vaccine_id:"PCV",vaccine_desc:"PCV"},{vaccine_id:"Penta",vaccine_desc:"Penta"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"MCV",vaccine_desc:"MCV"}]},{group:"Maternal Care",vaccines:[{vaccine_id:"TD",vaccine_desc:"Tetanus Dipteria"}]}];function mn(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI("(",t.vaccine_id,")")}}function un(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",29)(1,"input",30),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(2);return e.DH7(d.vaccineForm.vaccine_date[s.vaccine_id],n)||(d.vaccineForm.vaccine_date[s.vaccine_id]=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(),e.FS9("name","vaccine_date."+t.vaccine_id),e.FS9("id","vaccine_date."+t.vaccine_id),e.R50("ngModel",a.vaccineForm.vaccine_date[t.vaccine_id])}}function hn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",29)(1,"input",31),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(2);return e.DH7(d.vaccineForm.lot_no[s.vaccine_id],n)||(d.vaccineForm.lot_no[s.vaccine_id]=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(),e.FS9("name","lot_no."+t.vaccine_id),e.FS9("id","lot_no."+t.vaccine_id),e.R50("ngModel",a.vaccineForm.lot_no[t.vaccine_id])}}function fn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",29)(1,"input",32),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(2);return e.DH7(d.vaccineForm.batch_no[s.vaccine_id],n)||(d.vaccineForm.batch_no[s.vaccine_id]=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(),e.FS9("name","batch_no."+t.vaccine_id),e.FS9("id","batch_no."+t.vaccine_id),e.R50("ngModel",a.vaccineForm.batch_no[t.vaccine_id])}}function gn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",33)(1,"input",34),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(2);return e.DH7(d.vaccineForm.facility_name[s.vaccine_id],n)||(d.vaccineForm.facility_name[s.vaccine_id]=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(),e.FS9("name","facility_name."+t.vaccine_id),e.FS9("id","facility_name."+t.vaccine_id),e.R50("ngModel",a.vaccineForm.facility_name[t.vaccine_id])}}function vn(i,l){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI("",t.value.dose," Dose "),e.R7$(2),e.SpI(": ",t.value.vaccine_date?e.brH(5,2,t.value.vaccine_date,"MM/dd/yyyy","Asia/Manila"):"-","")}}function bn(i,l){if(1&i&&(e.j41(0,"div",35)(1,"table",36)(2,"thead")(3,"tr")(4,"th"),e.EFF(5),e.k0s(),e.j41(6,"th"),e.EFF(7,"Date Administered"),e.k0s()()(),e.j41(8,"tbody"),e.DNE(9,vn,6,6,"tr",37),e.nI1(10,"keyvalue"),e.k0s()()()),2&i){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(5),e.JRh(t.vaccine_id),e.R7$(4),e.Y8G("ngForOf",e.bMT(10,2,a.vaccines_given[t.vaccine_id]))}}function yn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"label",19),e.EFF(3),e.DNE(4,mn,2,1,"span",20),e.k0s(),e.j41(5,"div",21)(6,"select",22),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit,d=e.XpG(2);return e.DH7(d.vaccineForm.vaccine_status[s.vaccine_id],n)||(d.vaccineForm.vaccine_status[s.vaccine_id]=n),e.Njj(n)}),e.j41(7,"option"),e.EFF(8,"-"),e.k0s(),e.j41(9,"option",23),e.EFF(10,"Done"),e.k0s(),e.j41(11,"option",24),e.EFF(12,"Done Outside - Private"),e.k0s(),e.j41(13,"option",25),e.EFF(14,"Done Outside - Public"),e.k0s()(),e.DNE(15,un,2,3,"div",26)(16,hn,2,3,"div",26)(17,fn,2,3,"div",26)(18,gn,2,3,"div",27)(19,bn,11,4,"div",28),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG(2);e.R7$(2),e.FS9("for","vaccine_status."+t.vaccine_id),e.R7$(),e.SpI(" ",t.vaccine_desc," "),e.R7$(),e.Y8G("ngIf",!a.covid_array.includes(t.vaccine_id)),e.R7$(2),e.FS9("id","vaccine_status."+t.vaccine_id),e.FS9("name","vaccine_status."+t.vaccine_id),e.R50("ngModel",a.vaccineForm.vaccine_status[t.vaccine_id]),e.R7$(9),e.Y8G("ngIf","-"!==a.vaccineForm.vaccine_status[t.vaccine_id]&&""!==a.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==a.vaccineForm.vaccine_status[t.vaccine_id]),e.R7$(),e.Y8G("ngIf",a.covid_array.includes(t.vaccine_id)&&"-"!==a.vaccineForm.vaccine_status[t.vaccine_id]&&""!==a.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==a.vaccineForm.vaccine_status[t.vaccine_id]),e.R7$(),e.Y8G("ngIf",a.covid_array.includes(t.vaccine_id)&&"-"!==a.vaccineForm.vaccine_status[t.vaccine_id]&&""!==a.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==a.vaccineForm.vaccine_status[t.vaccine_id]),e.R7$(),e.Y8G("ngIf",a.covid_array.includes(t.vaccine_id)&&"-"!==a.vaccineForm.vaccine_status[t.vaccine_id]&&""!==a.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==a.vaccineForm.vaccine_status[t.vaccine_id]),e.R7$(),e.Y8G("ngIf",a.vaccines_given&&a.vaccines_given[t.vaccine_id])}}function kn(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"h4",15),e.EFF(3),e.k0s()(),e.DNE(4,yn,20,11,"div",16),e.k0s()),2&i){const t=l.$implicit;e.R7$(3),e.JRh(t.value.name),e.R7$(),e.Y8G("ngForOf",t.value.items)}}let xn=(()=>{class i{constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.loadData=new e.bkB,this.error_message="exceeded maximum value",this.vaccine_list=pn,this.vaccineForm={vaccine_status:[],vaccine_date:[],lot_no:[],batch_no:[],facility_name:[]},this.vaccine_grouped=[],this.showAlert=!1,this.covid_array=["ASTRA","JANDJ","MODER","NOVAV","PFIZE","SINOP","SPUTN","SINOV"]}onSubmit(){var t=[];if(Object.entries(this.vaccineForm.vaccine_status).forEach(([n,s],d)=>{"-"!=s&&t.push({vaccine_id:n,vaccine_date:this.vaccineForm.vaccine_date[n]?this.vaccineForm.vaccine_date[n]:null,status_id:s,lot_no:this.vaccineForm.lot_no[n]?this.vaccineForm.lot_no[n]:null,batch_no:this.vaccineForm.batch_no[n]?this.vaccineForm.batch_no[n]:null,facility_name:this.vaccineForm.facility_name[n]?this.vaccineForm.facility_name[n]:null})}),t.length>0){let n=this.http.getUserID();var a={patient_id:this.patient_info.id,user_id:n,vaccines:t};console.log(a),this.http.post("patient-vaccines/vaccines",a).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Vaccine record"),this.loadData.emit("vaccines")},error:d=>console.log(d),complete:()=>console.log("success")})}}closeModal(){this.toggleModal.emit("vaccine-moodal")}loadLibraries(){this.http.get("libraries/vaccine").subscribe(a=>{const n=a.data;console.log(a.data);const s=n.reduce((V,P)=>{if("DPT"!==P.vaccine_id){P.vaccine_module=this.getName(P.vaccine_module);const H=V[P.vaccine_module]||[];H.push(P),V[P.vaccine_module]=H}return V},{});let y=[];["Child Care","General","Animal Bite","NCD","Maternal Care","COVID-19"].forEach(V=>{y.push({name:V,items:s[V]})}),this.vaccine_grouped=y,console.log(this.vaccine_grouped)})}getName(t){let a;switch(t){case"animalbite":a="Animal Bite";break;case"ccdev":a="Child Care";break;case"gen":a="General";break;case"mc":a="Maternal Care";break;case"ncd":a="NCD";break;case"covid":a="COVID-19"}return a}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vaccine-modal"]],inputs:{patient_info:"patient_info",vaccines_given:"vaccines_given"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},standalone:!1,decls:18,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-gray-600","border","border-slate-100","mx-5"],["class","flex item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],["class","w-full mx-10",4,"ngFor","ngForOf"],[1,"w-full","mx-10"],[1,"grid","grid-cols-3","gap-4"],[1,"col-span-1","pt-2",3,"for"],[4,"ngIf"],[1,"col-span-2","grid","grid-cols-2"],[1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","id","name"],["value","1"],["value","2"],["value","3"],["class","col-span-1",4,"ngIf"],["class","col-span-2",4,"ngIf"],["class","border border-slate-200 rounded-lg my-3 bg-slate-100 col-span-2",4,"ngIf"],[1,"col-span-1"],["type","date","placeholder","Enter vaccine date",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],["type","text","placeholder","Enter Lot No",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],["type","text","placeholder","Enter Batch No",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],[1,"col-span-2"],["type","text","placeholder","Enter Facility Name",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],[1,"border","border-slate-200","rounded-lg","my-3","bg-slate-100","col-span-2"],[1,"table-auto","w-full","m-3"],[4,"ngFor","ngForOf"],[1,"pl-5"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," VACCINES "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.nrm(8,"div",7),e.DNE(9,kn,5,2,"div",8),e.nI1(10,"keyvalue"),e.nrm(11,"div",7),e.k0s()(),e.j41(12,"div",9)(13,"button",10),e.bIt("click",function(){return n.closeModal()}),e.EFF(14,"Close"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return n.onSubmit()}),e.EFF(16,"Save"),e.k0s()()()()(),e.nrm(17,"div",12)),2&a&&(e.R7$(9),e.Y8G("ngForOf",e.bMT(10,1,n.vaccine_grouped)))},dependencies:[c.Sq,c.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.vS,r.cV,c.vh,c.lG],encapsulation:2})}}return i})(),Fn=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-medication-modal"]],standalone:!1,decls:2,vars:0,template:function(a,n){1&a&&(e.j41(0,"p"),e.EFF(1,"medication-modal works!"),e.k0s())},encapsulation:2})}}return i})();function Cn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"input",13),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.DH7(d.patient_history.medical_history_id[s.id],n)||(d.patient_history.medical_history_id[s.id]=n),e.Njj(n)}),e.k0s(),e.j41(3,"label",14),e.EFF(4),e.k0s()(),e.j41(5,"div",15)(6,"input",16),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.DH7(d.patient_history.remarks[s.id],n)||(d.patient_history.remarks[s.id]=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG();e.R7$(2),e.x72("id","patient_history",t.id,""),e.R50("ngModel",a.patient_history.medical_history_id[t.id]),e.R7$(),e.x72("for","patient_history",t.id,""),e.R7$(),e.JRh(t.history_desc),e.R7$(2),e.R50("ngModel",a.patient_history.remarks[t.id])}}let Mn=(()=>{class i{onSubmit(){var t=[];Object.entries(this.patient_history.medical_history_id).forEach(([n,s],d)=>{if(!0===s){let y={category:1,medical_history_id:n,remarks:this.patient_history.remarks[n]?this.patient_history.remarks[n]:null};console.log(y),t.push(y)}}),t.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:t}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Past Medical History"),this.loadData.emit("past_medical"),this.closeModal()},error:n=>console.log(n),complete:()=>console.log("success")})}patchData(){this.past_medical&&Object.entries(this.past_medical).forEach(([t,a],n)=>{let s=a;this.patient_history.medical_history_id[s.medical_history_id]=!0,s.remarks&&(this.patient_history.remarks[s.medical_history_id]=s.remarks)})}closeModal(){this.toggleModal.emit("history")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.loadData=new e.bkB,this.patient_history={medical_history_id:[],remarks:[]}}ngOnChanges(t){this.patchData()}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-history-modal"]],inputs:{patient_info:"patient_info",past_medical:"past_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},standalone:!1,features:[e.OA$],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-2"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModelChange","ngModel"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModelChange","ngModel"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Past Medical History "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,Cn,7,7,"div",6),e.k0s(),e.j41(8,"div",7)(9,"button",8),e.bIt("click",function(){return n.closeModal()}),e.EFF(10,"Close"),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return n.onSubmit()}),e.EFF(12,"Save"),e.k0s()()()()(),e.nrm(13,"div",10)),2&a&&(e.R7$(7),e.Y8G("ngForOf",n.history_list))},dependencies:[c.Sq,r.me,r.Zm,r.BC,r.vS],encapsulation:2})}}return i})();function wn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"input",13),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.DH7(d.patient_history.medical_history_id[s.id],n)||(d.patient_history.medical_history_id[s.id]=n),e.Njj(n)}),e.k0s(),e.j41(3,"label",14),e.EFF(4),e.k0s()(),e.j41(5,"div",15)(6,"input",16),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit,d=e.XpG();return e.DH7(d.patient_history.remarks[s.id],n)||(d.patient_history.remarks[s.id]=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG();e.R7$(2),e.x72("id","patient_history",t.id,""),e.R50("ngModel",a.patient_history.medical_history_id[t.id]),e.R7$(),e.x72("for","patient_history",t.id,""),e.R7$(),e.JRh(t.history_desc),e.R7$(2),e.R50("ngModel",a.patient_history.remarks[t.id])}}let jn=(()=>{class i{onSubmit(){var t=[];Object.entries(this.patient_history.medical_history_id).forEach(([n,s],d)=>{!0===s&&t.push({category:2,medical_history_id:n,remarks:this.patient_history.remarks[n]?this.patient_history.remarks[n]:null})}),t.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:t}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Family Medical History"),this.loadData.emit("family_medical"),this.closeModal()},error:n=>console.log(n),complete:()=>console.log("success")})}patchData(){this.family_medical&&(console.log(this.family_medical),Object.entries(this.family_medical).forEach(([t,a],n)=>{let s=a;this.patient_history.medical_history_id[s.medical_history_id]=!0,s.remarks&&(this.patient_history.remarks[s.medical_history_id]=s.remarks)}))}ngOnChanges(t){this.patchData()}closeModal(){this.toggleModal.emit("fam-history")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.loadData=new e.bkB,this.patient_history={medical_history_id:[],remarks:[]}}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-fam-history-modal"]],inputs:{patient_info:"patient_info",family_medical:"family_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},standalone:!1,features:[e.OA$],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-5"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModelChange","ngModel"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModelChange","ngModel"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Family Medical History "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,wn,7,7,"div",6),e.k0s(),e.j41(8,"div",7)(9,"button",8),e.bIt("click",function(){return n.closeModal()}),e.EFF(10,"Close"),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return n.onSubmit()}),e.EFF(12,"Save"),e.k0s()()()()(),e.nrm(13,"div",10)),2&a&&(e.R7$(7),e.Y8G("ngForOf",n.history_list))},dependencies:[c.Sq,r.me,r.Zm,r.BC,r.vS],encapsulation:2})}}return i})();function In(i,l){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Rn(i,l){1&i&&(e.j41(0,"div",9)(1,"label",25),e.EFF(2,"Number of Pack Year"),e.k0s(),e.nrm(3,"input",26),e.k0s())}function Gn(i,l){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function En(i,l){if(1&i&&(e.j41(0,"div",9)(1,"label",27),e.EFF(2,"Bottles per day"),e.k0s(),e.nrm(3,"input",28),e.k0s()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("disabled",t.f.bottles_per_day.disabled)}}function Tn(i,l){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function $n(i,l){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}let Dn=(()=>{class i{get f(){return this.lifestyleForm.controls}onSubmit(){this.is_saving=!0,console.log(this.lifestyleForm),this.http.post("patient-social-history/history",this.lifestyleForm.value).subscribe({next:t=>{console.log(t.data),this.saveComplete()},error:t=>console.log(t)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Social History"),this.closeModal()}disableFields(){"Y"!==this.lifestyleForm.value.smoking?this.lifestyleForm.patchValue({pack_per_year:null}):this.lifestyleForm.controls.pack_per_year.enable(),"Y"!==this.lifestyleForm.value.alcohol?this.lifestyleForm.patchValue({bottles_per_day:null}):this.lifestyleForm.controls.bottles_per_day.enable()}loadLibraries(){this.http.get("libraries/social-history").subscribe({next:t=>this.answers=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-answers-s2").subscribe({next:t=>this.answers_yn=t.data,error:t=>console.log(t)})}createForm(){this.patient_info&&(this.lifestyleForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],smoking:[null,r.k0.required],pack_per_year:[null],alcohol:[null,r.k0.required],bottles_per_day:[null],illicit_drugs:[null,r.k0.required],sexually_active:[null,r.k0.required]}),this.disableFields())}closeModal(){this.toggleModal.emit("lifestyle")}constructor(t,a,n){this.formBuilder=t,this.http=a,this.toastr=n,this.loadData=new e.bkB,this.toggleModal=new e.bkB,this.is_saving=!1,this.lifestyleForm=new r.gE({patient_id:new r.MJ(""),smoking:new r.MJ(""),pack_per_year:new r.MJ(null),alcohol:new r.MJ(null),bottles_per_day:new r.MJ(null),illicit_drugs:new r.MJ(null),sexually_active:new r.MJ(null)})}ngOnChanges(t){this.lifestyleForm.patchValue({...this.social_history}),this.disableFields()}ngOnInit(){this.createForm(),this.loadLibraries(),console.log(this.social_history),this.social_history&&this.lifestyleForm.patchValue({...this.social_history})}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-lifestyle-modal"]],inputs:{patient_info:"patient_info",social_history:"social_history"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:41,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"submit","formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","smoking"],["id","smoking","name","smoking","formControlName","smoking",1,"input",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","alcohol"],["id","alcohol","name","alcohol","formControlName","alcohol",1,"input",3,"change"],["for","illicit_drugs"],["id","illicit_drugs","name","illicit_drugs","formControlName","illicit_drugs",1,"input"],["for","sexually_active"],["id","sexually_active","name","sexually_active","formControlName","sexually_active",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","pack_per_year"],["name","pack_per_year","id","pack_per_year","formControlName","pack_per_year","type","number",1,"input","disabled:bg-gray-300"],["for","bottles_per_day"],["name","bottles_per_day","id","bottles_per_day","formControlName","bottles_per_day","type","number",1,"input","disabled:bg-gray-300",3,"disabled"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Social/Personal History "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return n.onSubmit()}),e.j41(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12,"Smoking"),e.k0s(),e.j41(13,"select",11),e.bIt("change",function(){return n.disableFields()}),e.DNE(14,In,2,2,"option",12),e.k0s()(),e.DNE(15,Rn,4,0,"div",13),e.k0s(),e.j41(16,"div",8)(17,"div",9)(18,"label",14),e.EFF(19,"Alcohol"),e.k0s(),e.j41(20,"select",15),e.bIt("change",function(){return n.disableFields()}),e.DNE(21,Gn,2,2,"option",12),e.k0s()(),e.DNE(22,En,4,1,"div",13),e.k0s(),e.j41(23,"div",8)(24,"div",9)(25,"label",16),e.EFF(26,"Illicit Drug"),e.k0s(),e.j41(27,"select",17),e.DNE(28,Tn,2,2,"option",12),e.k0s()()(),e.j41(29,"div",8)(30,"div",9)(31,"label",18),e.EFF(32,"Sexually Active"),e.k0s(),e.j41(33,"select",19),e.DNE(34,$n,2,2,"option",12),e.k0s()()()()()(),e.j41(35,"div",20)(36,"button",21),e.bIt("click",function(){return n.closeModal()}),e.EFF(37,"Close"),e.k0s(),e.j41(38,"button",22),e.bIt("click",function(){return n.onSubmit()}),e.EFF(39),e.k0s()()()()(),e.nrm(40,"div",23)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.lifestyleForm),e.R7$(7),e.Y8G("ngForOf",n.answers),e.R7$(),e.Y8G("ngIf","Y"===n.lifestyleForm.value.smoking),e.R7$(6),e.Y8G("ngForOf",n.answers),e.R7$(),e.Y8G("ngIf","Y"===n.lifestyleForm.value.alcohol),e.R7$(6),e.Y8G("ngForOf",n.answers),e.R7$(6),e.Y8G("ngForOf",n.answers_yn),e.R7$(4),e.Y8G("disabled",n.is_saving||n.lifestyleForm.invalid),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.Sq,c.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}}return i})();function Yn(i,l){if(1&i&&(e.j41(0,"div",12)(1,"label",13),e.EFF(2),e.k0s(),e.j41(3,"select",14)(4,"option"),e.EFF(5,"-"),e.k0s(),e.j41(6,"option",15),e.EFF(7,"Yes"),e.k0s(),e.j41(8,"option",16),e.EFF(9,"None"),e.k0s()()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI("",t.name," Allergy")}}let Sn=(()=>{class i{constructor(){this.toggleModal=new e.bkB,this.allergies=[{id:1,name:"Drug"},{id:2,name:"Food"},{id:3,name:"Insect"},{id:4,name:"Latex"},{id:5,name:"Mold"},{id:6,name:"Pet"},{id:7,name:"Pollen"}]}onSubmit(){console.log("test")}closeModal(){this.toggleModal.emit("allergies-modal")}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-allergies-modal"]],outputs:{toggleModal:"toggleModal"},standalone:!1,decls:15,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],["class","grid grid-cols-2 gap-4 mx-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-2","gap-4","mx-10"],["for","vitals_date",1,"col-span-1","pt-2"],["id","vaccine.vaccine_id","name","vaccine.vaccine_id",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["value","true"],["value","false"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," VACCINES "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.DNE(8,Yn,10,1,"div",7),e.k0s()(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return n.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return n.onSubmit()}),e.EFF(13,"Save"),e.k0s()()()()(),e.nrm(14,"div",11)),2&a&&(e.R7$(8),e.Y8G("ngForOf",n.allergies))},dependencies:[c.Sq,r.qT,r.xH,r.y7,r.cb,r.cV],encapsulation:2})}}return i})();var U=u(9969);function Nn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"div",24),e.EFF(2," Your are about to delete a vaccine record for this patient. Please enter the generated delete code in order to proceed. "),e.k0s(),e.j41(3,"div",25)(4,"span",26),e.EFF(5,"Delete Code"),e.k0s(),e.j41(6,"span",27),e.EFF(7),e.k0s()(),e.j41(8,"div",25)(9,"label",28),e.EFF(10,"Enter Code"),e.k0s(),e.j41(11,"input",29),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.confirmation_code,n)||(s.confirmation_code=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",30)(13,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onDelete())}),e.nrm(14,"fa-icon",6),e.EFF(15," Delete "),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(7),e.JRh(t.confirm_code),e.R7$(4),e.R50("ngModel",t.confirmation_code),e.R7$(2),e.Y8G("disabled",!t.confirmation_code),e.R7$(),e.Y8G("icon",t.faTrash)}}let Vn=(()=>{class i{constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faTrash=_.yLS,this.confirm_code="0000",this.showDeleteCode=!1,this.showAlert=!1,this.showAlertDelete=!1,this.disableSave=!1}onUpdate(){this.http.update("patient-vaccines/vaccines/",this.vaccine.id,this.vaccine).subscribe({next:()=>{this.showToastr("success","Succcessfully updated!","Vaccine record")},error:t=>console.log(t)})}onDelete(){this.confirm_code===this.confirmation_code?this.http.delete("patient-vaccines/vaccines/",this.vaccine.id).subscribe({next:()=>{this.disableSave=!0,this.showToastr("error","Record was deleted!","Vaccine record")},error:t=>console.log(t),complete:()=>console.log("updated")}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"),console.log("error"))}showToastr(t,a,n){this.toastr[t](a,n),this.closeModal()}showDeleteForm(){this.showDeleteCode=!0,this.generateCode()}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){console.log("test"),this.toggleModal.emit({modal_name:"vaccine-action"})}ngOnInit(){this.vaccine={...this.vaccine_to_edit}}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vaccine-action-modal"]],inputs:{vaccine_to_edit:"vaccine_to_edit"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:34,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-4","py-2.5","transition","duration-150","ease-in-out",3,"click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","status_id"],["id","status_id","name","status_id",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","disabled","ngModel"],["value","1"],["value","2"],["value","3"],["for","vaccine_date"],["name","vaccine_date","id","vaccine_date","type","date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","disabled","ngModel"],["class","grid grid-cols-3 px-5 py-5 mt-10 mx-10 w-full bg-red-50 rounded-lg text-center",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s(),e.j41(6,"button",5),e.bIt("click",function(){return n.showDeleteForm()}),e.nrm(7,"fa-icon",6),e.k0s()(),e.j41(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"Status"),e.k0s(),e.j41(14,"select",12),e.mxI("ngModelChange",function(d){return e.DH7(n.vaccine.status_id,d)||(n.vaccine.status_id=d),d}),e.j41(15,"option"),e.EFF(16,"-"),e.k0s(),e.j41(17,"option",13),e.EFF(18,"Done"),e.k0s(),e.j41(19,"option",14),e.EFF(20,"Done Outside - Private"),e.k0s(),e.j41(21,"option",15),e.EFF(22,"Done Outside - Public"),e.k0s()()(),e.j41(23,"div",10)(24,"label",16),e.EFF(25,"Vaccine Date"),e.k0s(),e.j41(26,"input",17),e.mxI("ngModelChange",function(d){return e.DH7(n.vaccine.vaccine_date,d)||(n.vaccine.vaccine_date=d),d}),e.k0s()()(),e.DNE(27,Nn,16,4,"div",18),e.k0s()(),e.j41(28,"div",19)(29,"button",20),e.bIt("click",function(){return n.closeModal()}),e.EFF(30,"Close"),e.k0s(),e.j41(31,"button",21),e.bIt("click",function(){return n.onUpdate()}),e.EFF(32,"Update"),e.k0s()()()()(),e.nrm(33,"div",22)),2&a&&(e.R7$(5),e.SpI(" UPDATE/DELETE VACCINE (",n.vaccine.vaccine_id,") "),e.R7$(2),e.Y8G("icon",n.faTrash),e.R7$(7),e.Y8G("disabled",n.disableSave),e.R50("ngModel",n.vaccine.status_id),e.R7$(12),e.Y8G("disabled",n.disableSave),e.R50("ngModel",n.vaccine.vaccine_date),e.R7$(),e.Y8G("ngIf",n.showDeleteCode),e.R7$(4),e.Y8G("disabled",n.disableSave))},dependencies:[c.bT,b.aY,r.xH,r.y7,r.me,r.wz,r.BC,r.vS],encapsulation:2,data:{animation:[(0,U.hZ)("openCloseTrigger",[(0,U.kY)(":enter",[(0,U.iF)({width:0,opacity:0}),(0,U.i0)("200ms",(0,U.iF)({opacity:"100%"}))]),(0,U.kY)(":leave",[(0,U.i0)("100ms",(0,U.iF)({opacity:0}))])])]}})}}return i})();const Pn=i=>({"bg-gray-50":i});function Xn(i,l){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG();return e.Njj(s.editVitals(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("icon",t.faPenToSquare)}}function An(i,l){if(1&i&&(e.j41(0,"tr",15)(1,"th",16),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.EFF(4),e.k0s(),e.j41(5,"td",18),e.EFF(6),e.nrm(7,"br"),e.EFF(8),e.k0s(),e.j41(9,"td",18),e.EFF(10),e.nrm(11,"br"),e.EFF(12),e.k0s(),e.j41(13,"td",18)(14,"span",19),e.EFF(15),e.k0s()(),e.j41(16,"td",18)(17,"span",19),e.EFF(18),e.nI1(19,"number"),e.k0s(),e.nrm(20,"br"),e.EFF(21),e.nI1(22,"number"),e.nrm(23,"br"),e.EFF(24),e.nI1(25,"number"),e.nrm(26,"br"),e.EFF(27),e.nI1(28,"number"),e.k0s(),e.j41(29,"td",18),e.EFF(30),e.nrm(31,"br"),e.EFF(32),e.nrm(33,"br"),e.EFF(34),e.nrm(35,"br"),e.EFF(36),e.nrm(37,"br"),e.EFF(38),e.nrm(39,"br"),e.EFF(40),e.nrm(41,"br"),e.EFF(42),e.nrm(43,"br"),e.EFF(44),e.k0s(),e.j41(45,"td",20),e.DNE(46,Xn,1,1,"fa-icon",21),e.k0s()()),2&i){let t,a,n,s,d,y,V,P,H,oe,me,ue,he;const C=l.$implicit,Jl=l.odd,le=e.XpG();e.Y8G("ngClass",e.eq3(40,Pn,Jl)),e.R7$(2),e.SpI(" ",C.vitals_date," "),e.R7$(),e.Y8G("ngClass",le.getBPColor(C)),e.R7$(),e.E5c(" ",C.bp_systolic,"",C.bp_systolic?"/":"-","",C.bp_diastolic," "),e.R7$(2),e.SpI(" ",C.patient_height?C.patient_height+" cm":"-"," "),e.R7$(2),e.SpI(" ",C.patient_weight?C.patient_weight+" kg":"-"," "),e.R7$(2),e.Lme(" Right: ",C.patient_right_vision_acuity_distance?C.patient_right_vision_acuity_distance:"-","|",C.patient_right_vision_acuity?C.patient_right_vision_acuity:"-"," "),e.R7$(2),e.Lme(" Left: ",C.patient_left_vision_acuity_distance?C.patient_left_vision_acuity_distance:"-","|",C.patient_left_vision_acuity?C.patient_left_vision_acuity:"-"," "),e.R7$(2),e.Y8G("ngClass",le.getTempColor(C)),e.R7$(),e.JRh(null!==(t=C.patient_temp)&&void 0!==t?t:"-"),e.R7$(2),e.Y8G("ngClass",le.getOxygenColor(C)),e.R7$(),e.SpI("SpO2: ",e.i5U(19,28,C.patient_spo2,null!==(a="1.0-0")&&void 0!==a?a:"-")," "),e.R7$(3),e.SpI(" Heart Rate: ",e.i5U(22,31,C.patient_heart_rate,null!==(n="1.0-0")&&void 0!==n?n:"-")," "),e.R7$(3),e.SpI(" Pulse Rate: ",e.i5U(25,34,C.patient_pulse_rate,null!==(s="1.0-0")&&void 0!==s?s:"-")," "),e.R7$(3),e.SpI(" Resp Rate: ",e.i5U(28,37,C.patient_respiratory_rate,null!==(d="1.0-0")&&void 0!==d?d:"-")," "),e.R7$(3),e.SpI(" Head: ",null!==(y=C.patient_head_circumference)&&void 0!==y?y:"-"," "),e.R7$(2),e.SpI(" MUAC: ",null!==(V=C.patient_muac)&&void 0!==V?V:"-"," "),e.R7$(2),e.SpI(" Chest: ",null!==(P=C.patient_chest)&&void 0!==P?P:"-"," "),e.R7$(2),e.SpI(" Abdmn: ",null!==(H=C.patient_abdomen)&&void 0!==H?H:"-"," "),e.R7$(2),e.SpI(" Waist: ",null!==(oe=C.patient_waist)&&void 0!==oe?oe:"-"," "),e.R7$(2),e.SpI(" Hip: ",null!==(me=C.patient_hip)&&void 0!==me?me:"-"," "),e.R7$(2),e.SpI(" Limbs: ",null!==(ue=C.patient_limbs)&&void 0!==ue?ue:"-"," "),e.R7$(2),e.SpI(" Skinfold: ",null!==(he=C.patient_skinfold_thickness)&&void 0!==he?he:"-"," "),e.R7$(2),e.Y8G("ngIf",C.facility_code===le.user_facility)}}function Bn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",23)(2,"div",24)(3,"div")(4,"p",25),e.EFF(5," Showing "),e.j41(6,"span",26),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",26),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",26),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.j41(15,"div")(16,"nav",27)(17,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadVitals(1))}),e.nrm(18,"fa-icon",29),e.k0s(),e.j41(19,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadVitals(n.current_page-1))}),e.nrm(20,"fa-icon",29),e.EFF(21,"Previous "),e.k0s(),e.j41(22,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadVitals(n.current_page+1))}),e.EFF(23," Next"),e.nrm(24,"fa-icon",31),e.k0s(),e.j41(25,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadVitals(n.last_page))}),e.nrm(26,"fa-icon",31),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}let On=(()=>{class i{constructor(t,a){this.http=t,this.vitalsCharts=a,this.toggleModal=new e.bkB,this.vitalsEdit=new e.bkB,this.faPenToSquare=_.LFz,this.faChevronRight=_.XkK,this.faChevronLeft=_.Wzs,this.faAnglesLeft=_.rNr,this.faAnglesRight=_.up_,this.bp_color="text-gray-800",this.per_page=5}editVitals(t){this.vitalsEdit.emit(t),this.closeModal()}getBPColor(t){return this.vitalsCharts.getChartColor(t)}getOxygenColor(t){return this.vitalsCharts.getBloodOxygenColor(t)}getTempColor(t){return this.vitalsCharts.getTempColor(t)}onSubmit(){}loadVitals(t){let a={params:{}};t&&(a.params.page=t),a.params.per_page=this.per_page,a.params.patient_id=this.patient_info.id,a.params.sort="-vitals_date",this.http.get("patient-vitals/vitals",a).subscribe({next:n=>{this.vitals_list=n.data,this.current_page=n.meta.current_page,this.last_page=n.meta.last_page,this.from=n.meta.from,this.to=n.meta.to,this.total=n.meta.total},error:n=>console.log(n),complete:()=>console.log("Vitals signs loaded")})}closeModal(){this.toggleModal.emit("vaccine-moodal")}ngOnInit(){this.loadVitals()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(_e.I))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-vitals-list-modal"]],inputs:{patient_info:"patient_info",user_facility:"user_facility"},outputs:{toggleModal:"toggleModal",vitalsEdit:"vitalsEdit"},standalone:!1,decls:36,vars:2,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-3"],["class","bg-white border-b",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b",3,"ngClass"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap","align-top"],[1,"py-4","px-6","align-top",3,"ngClass"],[1,"py-4","px-6","align-top"],[3,"ngClass"],[1,"py-4","px-6"],["class","mx-0 my-0 text-amber-500 hover:cursor-pointer flex-none mr-2",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Vitals Signs "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),e.EFF(12,"Date & Time"),e.k0s(),e.j41(13,"th",9),e.EFF(14,"Blood Pressure"),e.k0s(),e.j41(15,"th",9),e.EFF(16,"Weight & "),e.nrm(17,"br"),e.EFF(18," Height"),e.k0s(),e.j41(19,"th",9),e.EFF(20,"Visual Acuity"),e.k0s(),e.j41(21,"th",9),e.EFF(22,"Temp (C)"),e.k0s(),e.j41(23,"th",9),e.EFF(24,"O2 sat, Heart/Pulse/Resp Rate"),e.k0s(),e.j41(25,"th",9),e.EFF(26,"Body Measurement"),e.k0s(),e.j41(27,"th",9),e.EFF(28,"Action"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,An,47,42,"tr",10),e.k0s()()(),e.DNE(31,Bn,27,11,"div",11),e.k0s(),e.j41(32,"div",12)(33,"button",13),e.bIt("click",function(){return n.closeModal()}),e.EFF(34,"Close"),e.k0s()()()()(),e.nrm(35,"div",14)),2&a&&(e.R7$(30),e.Y8G("ngForOf",n.vitals_list),e.R7$(),e.Y8G("ngIf",(null==n.vitals_list?null:n.vitals_list.length)>=1))},dependencies:[c.YU,c.Sq,c.bT,b.aY,c.QX],encapsulation:2})}}return i})();const Ge=i=>({"enabled:bg-green-500 enabled:hover:ring-green-300":i}),qn=i=>({"bg-red-100 text-red-900":i});function Un(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onModuleSelect(n.itr))}),e.nrm(1,"fa-icon",22),e.EFF(2," Patient ITR "),e.k0s()}if(2&i){const t=e.XpG(4);e.Y8G("disabled",t.is_loading),e.R7$(),e.Y8G("icon",t.faHouse)}}function Ln(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onModuleSelect(n.lab))}),e.nrm(1,"fa-icon",22),e.EFF(2," Laboratory "),e.k0s()}if(2&i){const t=e.XpG(4);e.Y8G("disabled",t.is_loading),e.R7$(),e.Y8G("icon",t.faFlask)}}function Hn(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.onModuleSelect(n.cn))}),e.nrm(1,"fa-icon",22),e.EFF(2," Consultation "),e.k0s()}if(2&i){const t=e.XpG(4);e.Y8G("disabled",t.is_loading)("ngClass",e.eq3(3,Ge,t.cn.consult_active)),e.R7$(),e.Y8G("icon",t.faUserDoctor)}}function Jn(i,l){if(1&i&&e.nrm(0,"fa-icon",22),2&i){const t=e.XpG(5);e.Y8G("icon",t.faClipboard)}}function zn(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.onModuleSelect(n.value))}),e.DNE(1,Jn,1,1,"fa-icon",24),e.EFF(2),e.k0s()}if(2&i){const t=l.$implicit,a=e.XpG(4);e.Y8G("disabled",a.is_loading)("ngClass",e.eq3(4,Ge,t.value.consult_active)),e.R7$(),e.Y8G("ngIf",t.value.consult_active),e.R7$(),e.SpI(" ",t.value.name," ")}}function Wn(i,l){if(1&i&&(e.j41(0,"div",14)(1,"div",15)(2,"h4",16),e.EFF(3),e.k0s()(),e.j41(4,"div",17),e.DNE(5,Un,3,2,"button",18)(6,Ln,3,2,"button",18)(7,Hn,3,5,"button",19)(8,zn,3,6,"button",20),e.nI1(9,"keyvalue"),e.k0s()()),2&i){const t=l.$implicit;e.R7$(3),e.JRh(t.key),e.R7$(2),e.Y8G("ngIf","Others"!==t.key),e.R7$(),e.Y8G("ngIf","Others"!==t.key),e.R7$(),e.Y8G("ngIf","Others"!==t.key),e.R7$(),e.Y8G("ngForOf",e.bMT(9,5,t.value.modules))}}function Qn(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,Wn,10,7,"div",13),e.nI1(2,"keyvalue"),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,t.list_modules))}}function Kn(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(4);return e.DH7(s.is_walk_in,n)||(s.is_walk_in=n),e.Njj(n)}),e.k0s(),e.j41(2,"label",47),e.EFF(3,"Check if patient is Walk-in"),e.k0s()()}if(2&i){const t=e.XpG(4);e.R7$(),e.Y8G("disabled",t.is_checking_atc),e.R50("ngModel",t.is_walk_in)}}function Zn(i,l){if(1&i&&e.nrm(0,"fa-icon",58),2&i){const t=e.XpG(5);e.Y8G("icon",t.faCheck)}}function ea(i,l){if(1&i&&e.nrm(0,"fa-icon",59),2&i){const t=e.XpG(5);e.Y8G("icon",t.faSpinner)}}function ta(i,l){1&i&&(e.j41(0,"div",60),e.EFF(1," Please check if the ATC is valid before you proceed. Invalid ATC will not be saved. "),e.k0s())}function ia(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"div",49)(2,"label",50),e.EFF(3,"Konsulta ATC"),e.k0s(),e.nrm(4,"br"),e.j41(5,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(4);return e.DH7(s.pATC,n)||(s.pATC=n),e.Njj(n)}),e.k0s(),e.j41(6,"input",52),e.nI1(7,"date"),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(4);return e.DH7(s.pATC_date,n)||(s.pATC_date=n),e.Njj(n)}),e.k0s()(),e.j41(8,"div",53)(9,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.isATCValid())}),e.DNE(10,Zn,1,1,"fa-icon",55)(11,ea,1,1,"fa-icon",56),e.EFF(12," Check ATC "),e.k0s()(),e.DNE(13,ta,2,0,"div",57),e.k0s()}if(2&i){const t=e.XpG(4);e.R7$(5),e.R50("ngModel",t.pATC),e.R7$(),e.FS9("max",e.i5U(7,7,t.date,"yyyy-MM-dd HH:mm:ss")),e.R50("ngModel",t.pATC_date),e.R7$(3),e.Y8G("disabled",!t.pATC||!t.pATC_date||t.is_loading||t.is_checking_atc),e.R7$(),e.Y8G("ngIf",!t.is_checking_atc),e.R7$(),e.Y8G("ngIf",t.is_checking_atc),e.R7$(2),e.Y8G("ngIf",t.pATC&&!t.is_atc_valid)}}function na(i,l){if(1&i&&(e.j41(0,"div",61),e.nrm(1,"fa-icon",62),e.EFF(2),e.k0s()),2&i){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(3,qn,!t.is_atc_valid)),e.R7$(),e.Y8G("icon",t.faCircleInfo),e.R7$(),e.SpI(" ",t.is_atc_valid?"ATC is valid":"ATC is not valid"," ")}}function aa(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"input",41),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.is_konsulta,n)||(s.is_konsulta=n),e.Njj(n)}),e.k0s(),e.j41(3,"label",42),e.EFF(4,"Check if this visit is for Konsulta"),e.k0s()(),e.DNE(5,Kn,4,2,"div",43)(6,ia,14,10,"div",44)(7,na,3,5,"div",45),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("disabled",t.is_checking_atc),e.R50("ngModel",t.is_konsulta),e.R7$(3),e.Y8G("ngIf",t.is_konsulta),e.R7$(),e.Y8G("ngIf",t.is_konsulta&&!t.is_walk_in),e.R7$(),e.Y8G("ngIf",void 0!==t.is_atc_valid)}}function oa(i,l){1&i&&(e.j41(0,"div",63)(1,"div",64),e.EFF(2," ATC checking is not available. Philhealth pin not found. "),e.k0s()())}function la(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"div",25),e.EFF(2," No active visit for\xa0"),e.j41(3,"span",26),e.EFF(4),e.k0s(),e.EFF(5,". Would you like to create a new\xa0"),e.j41(6,"span",26),e.EFF(7),e.k0s(),e.EFF(8," visit? "),e.k0s(),e.j41(9,"div",27)(10,"div",28)(11,"label",29),e.EFF(12,"Consultation Date"),e.k0s(),e.nrm(13,"br"),e.j41(14,"input",30),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.consult_date,n)||(s.consult_date=n),e.Njj(n)}),e.k0s(),e.j41(15,"input",31),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.consult_time,n)||(s.consult_time=n),e.Njj(n)}),e.k0s()(),e.DNE(16,aa,8,5,"div",32)(17,oa,3,0,"div",33),e.j41(18,"div",34)(19,"button",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onCreateCancel())}),e.EFF(20,"Cancel"),e.k0s(),e.j41(21,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onCreateNew(n.selected_module))}),e.EFF(22,"Proceed"),e.k0s()()(),e.j41(23,"div",37),e.nrm(24,"fa-icon",38),e.EFF(25," Consultation date default value is today. You may change the date for backencoding. "),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.selected_module.name," "),e.R7$(3),e.SpI(" ",t.selected_module.name,"\xa0"),e.R7$(7),e.Y8G("max",t.max_date),e.R50("ngModel",t.consult_date),e.R7$(),e.R50("ngModel",t.consult_time),e.R7$(),e.Y8G("ngIf",t.philhealth_details&&"cn"===t.selected_module.location),e.R7$(),e.Y8G("ngIf",!t.philhealth_details),e.R7$(2),e.Y8G("disabled",t.is_checking_atc),e.R7$(2),e.Y8G("disabled",!t.consult_date||t.is_loading||t.is_checking_atc),e.R7$(3),e.Y8G("icon",t.faCircleInfo)}}function sa(i,l){if(1&i&&(e.j41(0,"div",10),e.DNE(1,Qn,3,3,"div",11)(2,la,26,10,"div",12),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.show_new),e.R7$(),e.Y8G("ngIf",t.show_new)}}let ra=(()=>{class i{isATCValid(){this.is_checking_atc=!0;let t={pPIN:this.philhealth_details.philhealth_id,pATC:this.pATC,pEffectivityDate:(0,c.Yq)(this.pATC_date,"MM/dd/yyyy","en","Asia/Manila")};this.http.get("konsulta/check-atc",{params:t}).subscribe({next:a=>{this.is_checking_atc=!1,this.is_atc_valid="YES"===a.return},error:a=>console.log(a)})}selectPrograms(){"F"==this.patient_info.gender&&"year"===this.patient_age.type&&this.patient_age.age>=9&&(this.list_modules.General.modules.mc=this.mc),("year"===this.patient_age.type&&this.patient_age.age<7||"year"!==this.patient_age.type)&&(this.list_modules.General.modules.cc=this.cc),"year"===this.patient_age.type&&this.patient_age.age>=9&&(this.list_modules.General.modules.fp=this.fp),"year"===this.patient_age.type&&this.patient_age.age>=10&&this.patient_age.age<26&&(this.list_modules.Others.modules.at=this.at)}onModuleSelect(t){let a=t.location;this.is_loading=!0,"gbv"===a||"itr"===a||"lab"===a?(this.router.navigate(["/patient/"+a,{id:this.patient_info.id}]),this.closeModal()):"/patient/"+a===this.router.url.split(";")[0]?!1===t.consult_active?(this.show_new=!0,this.selected_module=t,this.is_loading=!1):(this.router.url.split("=")[2]!=t.id&&this.router.navigate(["/patient/"+a,{id:this.patient_info.id,consult_id:t.id}]),this.closeModal()):(!1===t.consult_active?this.show_new=!0:(this.show_new=!1,this.router.navigate(["/patient/"+a,{id:this.patient_info.id,consult_id:t.id}]),this.closeModal()),this.selected_module=t,this.is_loading=!1)}onCreateCancel(){this.show_new=!1}onCreateNew(t){this.is_loading=!0;let a=this.http.getUserID();this.http.post("consultation/records",{patient_id:this.patient_info.id,user_id:a,consult_date:this.consult_date+" "+this.consult_time,consult_done:0,pt_group:t.group,authorization_transaction_code:this.is_atc_valid?this.is_walk_in?"WALKEDIN":this.pATC||""!==this.pATC?this.pATC:"WALKEDIN":"WALKEDIN",walkedin_status:!this.is_atc_valid,is_konsulta:this.is_konsulta}).subscribe({next:s=>{this.toastr.success("Successfully created!","New visit"),this.router.navigate(["/patient/"+t.location,{id:this.patient_info.id,consult_id:s.data.id}]),this.closeModal()},error:s=>console.log(s.error.message)})}closeModal(){this.is_loading=!1,this.toggleModal.emit("module")}constructor(t,a,n,s){this.router=t,this.http=a,this.toastr=n,this.dateHelper=s,this.toggleModal=new e.bkB,this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.faClipboard=_.KTq,this.faCircleInfo=_.mEO,this.faHouse=_.muz,this.faUserDoctor=_._Up,this.faFlask=_.rIc,this.faCheck=_.e68,this.faSpinner=_.z1G,this.list_modules={General:{modules:{}},Others:{modules:{ab:{name:"Animal Bite",location:"ab",group:"ab",consult_active:!1,id:null},dn:{name:"Dental",location:"dn",group:"dn",consult_active:!1,id:null},tb:{name:"Tuberculosis",location:"tb",group:"tb",consult_active:!1,id:null},ncd:{name:"NCD",location:"ncd",group:"ncd",consult_active:!1,id:null},mh:{name:"Mental Health",location:"mh",group:"mh",consult_active:!1,id:null}}}},this.itr={name:"Patient ITR",location:"itr",group:"",consult_active:!1,id:null},this.lab={name:"Laboratory",location:"lab",group:"",consult_active:!1,id:null},this.cn={name:"Consultation",location:"cn",group:"cn",consult_active:!1,id:null},this.mc={name:"Maternal Care",location:"mc",group:"mc",consult_active:!1,id:null},this.cc={name:"Child Care",location:"cc",group:"cc",consult_active:!1,id:null},this.gbv={name:"GBV",location:"gbv",group:"gbv",consult_active:!1,id:null},this.fp={name:"Family Planning",location:"fp",group:"fp",consult_active:!1,id:null},this.at={name:"Adolescent",location:"at",group:"at",consult_active:!1,id:null},this.show_new=!1,this.is_loading=!1,this.show_form=!1,this.is_checking_atc=!1,this.selected_module="",this.arr_allowed=["MD","WCPD","MSWDO"]}checkOpenConsult(t){Object.entries(t).forEach(([a,n],s)=>{"cn"===n.pt_group&&this.user_fac===n.facility.code&&(this.cn.consult_active=!0,this.cn.id=n.id),Object.entries(this.list_modules).forEach(([d,y],V)=>{Object.entries(y.modules).forEach(([P,H],oe)=>{n.pt_group===P&&(this.list_modules[d].modules[P].consult_active=!0,this.list_modules[d].modules[P].id=n.id)})})}),this.show_form=!0}ngOnInit(){this.user_fac=this.http.getUserFacility();let t=this.http.getUserFromJSON();this.pos=t.designation_code?t.designation_code:t.designation.code,this.selectPrograms(),this.http.get("consultation/records",{params:{consult_done:0,patient_id:this.patient_info.id}}).subscribe({next:n=>{n.data.length>0&&this.checkOpenConsult(n.data),this.show_form=!0},error:n=>console.log(n)});let a=new Date;this.consult_date=this.dateHelper.dateFormat(a),this.consult_time=this.dateHelper.timeFormat(a)}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(o.Ix),e.rXU(m.k),e.rXU(T.tw),e.rXU(pe.F))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-module-modal"]],inputs:{patient_info:"patient_info",patient_age:"patient_age",philhealth_details:"philhealth_details"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:12,vars:2,consts:[[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","px-5","bg-gray-400",3,"click","disabled"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[1,"overflow-y-auto","overflow-x-hidden","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","item-start","flex-wrap","pb-5"],[1,"w-full","px-5","my-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-3","gap-4","mx-10"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click","disabled"],["size","lg",1,"mx-0","my-0","text-white","mr-2",3,"icon"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click","disabled","ngClass"],["class","mx-0 my-0 text-white mr-2","size","lg",3,"icon",4,"ngIf"],[1,"flex","justify-center","w-full","my-5"],[1,"font-semibold"],[1,"flex","flex-col"],[1,"flex","justify-start","pb-3","w-full","ml-10"],["for","consult_date",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","date","name","consult_date","id","consult_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"ngModelChange","max","ngModel"],["type","time","name","consult_time","id","consult_time","placeholder","HH:mm AM/PM",1,"input","w-52",3,"ngModelChange","ngModel"],["class","border border-slate-200 rounded-md mx-10 shadow-md",4,"ngIf"],["class","border border-yellow-400 text-yellow-700 rounded-md mx-10 bg-yellow-100",4,"ngIf"],[1,"flex","justify-center","mt-5"],["type","button",1,"btn-save","px-10","bg-amber-500","mr-2","disabled:bg-gray-300",3,"click","disabled"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"flex","mx-16","mt-5","p-2","rounded-md","bg-blue-100","border","border-blue-200","text-blue-900"],["size","lg",1,"flex-none","my-0","text-blue-900","m-2",3,"icon"],[1,"border","border-slate-200","rounded-md","mx-10","shadow-md"],[1,"flex","justify-start","w-full","ml-5","my-3"],["id","is_konsulta","type","checkbox",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"ngModelChange","disabled","ngModel"],["for","is_konsulta"],["class","flex justify-start w-full ml-5 my-3",4,"ngIf"],["class","grid grid-cols-1 w-full ml-5 mb-3",4,"ngIf"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],["id","is_walk_in","type","checkbox",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"ngModelChange","disabled","ngModel"],["for","is_walk_in"],[1,"grid","grid-cols-1","w-full","ml-5","mb-3"],[1,"flex","justify-center","w-full","mb-3"],["for","pATC",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","text","name","pATC","id","pATC","placeholder","Patient ATC",1,"input","w-52",3,"ngModelChange","ngModel"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"ngModelChange","max","ngModel"],[1,"align-middle","text-center"],["type","button",1,"btn-save","w-44",3,"click","disabled"],["class","py-1 px-2",3,"icon",4,"ngIf"],["class","py-1 px-2","animation","spin",3,"icon",4,"ngIf"],["class","flex-1 flex text-xs text-red-500 italic",4,"ngIf"],[1,"py-1","px-2",3,"icon"],["animation","spin",1,"py-1","px-2",3,"icon"],[1,"flex-1","flex","text-xs","text-red-500","italic"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"border","border-yellow-400","text-yellow-700","rounded-md","mx-10","bg-yellow-100"],[1,"p-3"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e.EFF(6," Health Programs "),e.k0s()(),e.DNE(7,sa,3,2,"div",6),e.j41(8,"div",7)(9,"button",8),e.bIt("click",function(){return n.closeModal()}),e.EFF(10,"Close"),e.k0s()()()()()(),e.nrm(11,"div",9)),2&a&&(e.R7$(7),e.Y8G("ngIf",n.show_form),e.R7$(2),e.Y8G("disabled",n.is_loading))},dependencies:[c.YU,c.Sq,c.bT,b.aY,r.me,r.Zm,r.BC,r.vS,c.vh,c.lG],encapsulation:2})}}return i})();var ca=u(5188);const _a=["mySelect"],$=i=>({"text-red-500":i}),D=i=>({"invalid-input":i}),pa=()=>({standalone:!0}),Ee=i=>({"bg-red-100 text-red-900":i});function ma(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ua(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,ma,2,1,"div",36),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.enlistment_date.errors?null:t.f.enlistment_date.errors.required)}}function ha(i,l){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function fa(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ga(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,fa,2,1,"div",36),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.membership_type_id.errors?null:t.f.membership_type_id.errors.required)}}function va(i,l){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function ba(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ya(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,ba,2,1,"div",36),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.membership_category_id.errors?null:t.f.membership_category_id.errors.required)}}function ka(i,l){1&i&&e.nrm(0,"div",38)}function xa(i,l){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Fa(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ca(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Fa,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_relation_id.errors?null:t.f.member_relation_id.errors.required)}}function Ma(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function wa(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," field must have at least 2 characters "),e.k0s())}function ja(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Ma,2,1,"div",36)(2,wa,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_last_name.errors?null:t.f.member_last_name.errors.required),e.R7$(),e.Y8G("ngIf",t.is_saving&&(null==t.f.member_last_name.errors?null:t.f.member_last_name.errors.minLength))}}function Ia(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ra(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," field must have at least 2 characters "),e.k0s())}function Ga(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Ia,2,1,"div",36)(2,Ra,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_first_name.errors?null:t.f.member_first_name.errors.required),e.R7$(),e.Y8G("ngIf",t.is_saving&&(null==t.f.member_first_name.errors?null:t.f.member_first_name.errors.minLength))}}function Ea(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ta(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," field must have at least 2 characters "),e.k0s())}function $a(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Ea,2,1,"div",36)(2,Ta,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_middle_name.errors?null:t.f.member_middle_name.errors.required),e.R7$(),e.Y8G("ngIf",t.is_saving&&(null==t.f.member_middle_name.errors?null:t.f.member_middle_name.errors.minLength))}}function Da(i,l){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.suffix_desc)}}function Ya(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Sa(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Ya,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_suffix_name.errors?null:t.f.member_suffix_name.errors.required)}}function Na(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Va(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Na,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_birthdate.errors?null:t.f.member_birthdate.errors.required)}}function Pa(i,l){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Xa(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Aa(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Xa,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_gender.errors?null:t.f.member_gender.errors.required)}}function Ba(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Oa(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," Philhealth ID must be 12 characters "),e.k0s())}function qa(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Ba,2,1,"div",36)(2,Oa,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_pin.errors?null:t.f.member_pin.errors.required),e.R7$(),e.Y8G("ngIf",t.is_saving&&(null==t.f.member_pin.errors?null:t.f.member_pin.errors.minLength))}}function Ua(i,l){1&i&&(e.j41(0,"div",35)(1,"div"),e.EFF(2," Philhealth number does not match "),e.k0s()())}function La(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ha(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," Philhealth ID must be 12 characters "),e.k0s())}function Ja(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,La,2,1,"div",36)(2,Ha,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.member_pin_confirmation.errors?null:t.f.member_pin_confirmation.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.member_pin_confirmation.errors?null:t.f.member_pin_confirmation.errors.minLength)}}function za(i,l){if(1&i&&(e.j41(0,"div",39)(1,"div",40)(2,"h4",9),e.EFF(3,"Member Details"),e.k0s()(),e.j41(4,"div",41)(5,"label",42),e.EFF(6,"Member relation"),e.k0s(),e.j41(7,"select",43),e.DNE(8,xa,2,2,"option",16),e.k0s(),e.DNE(9,Ca,2,1,"div",13),e.k0s(),e.nrm(10,"div",41),e.j41(11,"div",41)(12,"label",44),e.EFF(13,"Member last name"),e.k0s(),e.nrm(14,"input",45),e.DNE(15,ja,3,2,"div",13),e.k0s(),e.j41(16,"div",41)(17,"label",46),e.EFF(18,"Member first name"),e.k0s(),e.nrm(19,"input",47),e.DNE(20,Ga,3,2,"div",13),e.k0s(),e.j41(21,"div",41)(22,"label",48),e.EFF(23,"Member middle name"),e.k0s(),e.nrm(24,"input",49),e.DNE(25,$a,3,2,"div",13),e.k0s(),e.j41(26,"div",41)(27,"label",50),e.EFF(28,"Member suffix name"),e.k0s(),e.j41(29,"select",51),e.DNE(30,Da,2,2,"option",16),e.k0s(),e.DNE(31,Sa,2,1,"div",13),e.k0s(),e.j41(32,"div",41)(33,"label",52),e.EFF(34,"Member birthdate"),e.k0s(),e.nrm(35,"input",53),e.nI1(36,"date"),e.DNE(37,Va,2,1,"div",13),e.k0s(),e.j41(38,"div",41)(39,"label",54),e.EFF(40,"Member gender"),e.k0s(),e.j41(41,"select",55),e.DNE(42,Pa,2,2,"option",16),e.k0s(),e.DNE(43,Aa,2,1,"div",13),e.k0s(),e.j41(44,"div",41)(45,"label",56),e.EFF(46,"Member philhealth number"),e.k0s(),e.nrm(47,"input",57),e.DNE(48,qa,3,2,"div",13),e.k0s(),e.j41(49,"div",41)(50,"label",58),e.EFF(51,"Confirm Philhealth ID"),e.k0s(),e.nrm(52,"input",59),e.DNE(53,Ua,3,0,"div",13)(54,Ja,3,2,"div",13),e.k0s()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(37,$,t.is_saving&&t.f.member_relation_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(39,D,t.is_saving&&t.f.member_relation_id.errors)),e.R7$(),e.Y8G("ngForOf",t.member_relationships),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_relation_id.errors),e.R7$(3),e.Y8G("ngClass",e.eq3(41,$,t.is_saving&&t.f.member_last_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(43,D,t.is_saving&&t.f.member_last_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_last_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(45,$,t.is_saving&&t.f.member_first_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(47,D,t.is_saving&&t.f.member_first_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_first_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(49,$,t.is_saving&&t.f.member_middle_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(51,D,t.is_saving&&t.f.member_middle_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_middle_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(53,$,t.is_saving&&t.f.member_suffix_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(55,D,t.is_saving&&t.f.member_suffix_name.errors)),e.R7$(),e.Y8G("ngForOf",t.suffix_names),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_suffix_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(57,$,t.is_saving&&t.f.member_birthdate.errors)),e.R7$(2),e.FS9("max",e.i5U(36,34,t.date,"yyyy-MM-dd")),e.Y8G("ngClass",e.eq3(59,D,t.is_saving&&t.f.member_birthdate.errors)),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.f.member_birthdate.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(61,$,t.is_saving&&t.f.member_gender.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(63,D,t.is_saving&&t.f.member_gender.errors)),e.R7$(),e.Y8G("ngForOf",t.sex_cat),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_gender.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(65,$,t.is_saving&&t.f.member_pin.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(67,D,t.is_saving&&t.f.member_pin.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_pin.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(69,$,t.is_saving&&t.f.member_pin_confirmation.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(71,D,t.is_saving&&t.f.member_pin_confirmation.errors)),e.R7$(),e.Y8G("ngIf",t.philhealthMemberMatchError),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.member_pin_confirmation.errors)}}function Wa(i,l){1&i&&e.nrm(0,"div",38)}function Qa(i,l){if(1&i&&e.nrm(0,"fa-icon",65),2&i){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function Ka(i,l){if(1&i&&(e.j41(0,"div",61)(1,"div",66),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.SpI(" ",t.get_pin_error," ")}}function Za(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"button",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.getMemberPin())}),e.DNE(3,Qa,1,1,"fa-icon",63),e.EFF(4," Get PhilhHealth PIN "),e.k0s()(),e.DNE(5,Ka,3,1,"div",64),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",t.retrieving_pin),e.R7$(),e.Y8G("ngIf",t.retrieving_pin),e.R7$(2),e.Y8G("ngIf",t.get_pin_error)}}function eo(i,l){if(1&i&&(e.j41(0,"div",67),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.retrieving_error," ")}}function to(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function io(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," Philhealth ID must be 12 characters "),e.k0s())}function no(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,to,2,1,"div",36)(2,io,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.philhealth_id.errors?null:t.f.philhealth_id.errors.required),e.R7$(),e.Y8G("ngIf",t.is_saving&&(null==t.f.philhealth_id.errors?null:t.f.philhealth_id.errors.minLength))}}function ao(i,l){if(1&i&&(e.j41(0,"div",41)(1,"label",68),e.EFF(2,"Philhealth ID"),e.k0s(),e.nrm(3,"input",69),e.DNE(4,no,3,2,"div",13),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(4,$,t.is_saving&&t.f.philhealth_id.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(6,D,t.is_saving&&t.f.philhealth_id.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.philhealth_id.errors)}}function oo(i,l){1&i&&(e.j41(0,"div",35)(1,"div"),e.EFF(2," Philhealth number does not match "),e.k0s()())}function lo(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function so(i,l){1&i&&(e.j41(0,"div"),e.EFF(1," Philhealth ID must be 12 characters "),e.k0s())}function ro(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,lo,2,1,"div",36)(2,so,2,0,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.philhealth_id_confirmation.errors?null:t.f.philhealth_id_confirmation.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.philhealth_id_confirmation.errors?null:t.f.philhealth_id_confirmation.errors.minLength)}}function co(i,l){if(1&i&&(e.j41(0,"div",41)(1,"label",70),e.EFF(2,"Confirm Philhealth ID"),e.k0s(),e.nrm(3,"input",71),e.DNE(4,oo,3,0,"div",13)(5,ro,3,2,"div",13),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(5,$,t.is_saving&&t.f.philhealth_id_confirmation.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(7,D,t.is_saving&&t.f.philhealth_id_confirmation.errors)),e.R7$(),e.Y8G("ngIf",t.philhealthMatchError),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.philhealth_id_confirmation.errors)}}function _o(i,l){if(1&i&&e.nrm(0,"fa-icon",86),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCheck)}}function po(i,l){if(1&i&&e.nrm(0,"fa-icon",87),2&i){const t=e.XpG(3);e.Y8G("icon",t.faSpinner)}}function mo(i,l){if(1&i&&(e.j41(0,"div",88),e.nrm(1,"fa-icon",89),e.EFF(2),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("ngClass",e.eq3(3,Ee,"YES"!==t.is_atc_valid)),e.R7$(),e.Y8G("icon",t.faCircleInfo),e.R7$(),e.SpI(" ","YES"===t.is_atc_valid?"ATC is valid":"NO"===t.is_atc_valid?"ATC is not valid":t.is_atc_valid," ")}}function uo(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",77)(1,"div",78)(2,"label",79),e.EFF(3,"Konsulta ATC"),e.k0s(),e.nrm(4,"br")(5,"input",80),e.j41(6,"input",81),e.nI1(7,"date"),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.pATC_date,n)||(s.pATC_date=n),e.Njj(n)}),e.k0s()(),e.j41(8,"div",82)(9,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isATCValid())}),e.DNE(10,_o,1,1,"fa-icon",84)(11,po,1,1,"fa-icon",85),e.EFF(12," Check ATC "),e.k0s()(),e.DNE(13,mo,3,5,"div",27),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(6),e.FS9("max",e.i5U(7,7,t.date,"yyyy-MM-dd HH:mm:ss")),e.Y8G("ngModelOptions",e.lJ4(10,pa)),e.R50("ngModel",t.pATC_date),e.R7$(3),e.Y8G("disabled",!t.philhealthForm.value.authorization_transaction_code||!t.pATC_date||t.is_loading||t.is_checking_atc||!t.philhealthForm.value.philhealth_id),e.R7$(),e.Y8G("ngIf",!t.is_checking_atc),e.R7$(),e.Y8G("ngIf",t.is_checking_atc),e.R7$(2),e.Y8G("ngIf",void 0!==t.is_atc_valid)}}function ho(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",72)(1,"div",73)(2,"input",74),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isATCrequired())}),e.k0s(),e.j41(3,"label",75),e.EFF(4,"Check if patient is Walk-in"),e.k0s()(),e.DNE(5,uo,14,11,"div",76),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",t.is_checking_atc),e.R7$(3),e.Y8G("ngIf",!t.philhealthForm.value.walkedin_status)}}function fo(i,l){if(1&i&&e.nrm(0,"fa-icon",65),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function go(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",90)(1,"div",91)(2,"button",92),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isMemberDependentRegistered())}),e.DNE(3,fo,1,1,"fa-icon",63),e.EFF(4),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.is_checking_status),e.R7$(),e.SpI(" ",t.is_checking_status?"checking":"check pin registration"," ")}}function vo(i,l){if(1&i&&(e.j41(0,"div",88),e.nrm(1,"fa-icon",89),e.EFF(2),e.k0s()),2&i){const t=e.XpG();e.Y8G("ngClass",e.eq3(3,Ee,"YES"!==t.is_registered)),e.R7$(),e.Y8G("icon",t.faCircleInfo),e.R7$(),e.SpI(" ","YES"===t.is_registered?"PIN is registered":"NO"===t.is_registered?"PIN not registered":t.is_registered," ")}}function bo(i,l){1&i&&e.nrm(0,"div",38)}function yo(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function ko(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,yo,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.employer_name.errors?null:t.f.employer_name.errors.required)}}function xo(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Fo(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,xo,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.employer_pin.errors?null:t.f.employer_pin.errors.required)}}function Co(i,l){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSearch)}}function Mo(i,l){if(1&i&&e.nrm(0,"fa-icon",65),2&i){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function wo(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr",117)(1,"td",118)(2,"span",119),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.j41(5,"span",120),e.EFF(6),e.k0s()(),e.j41(7,"td",121),e.EFF(8),e.k0s(),e.j41(9,"td",121)(10,"button",122),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectEmployer(n))}),e.nrm(11,"fa-icon",108),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG(4);e.R7$(3),e.JRh(t.name),e.R7$(3),e.JRh(t.address),e.R7$(2),e.SpI(" ",t.philhealthno," "),e.R7$(3),e.Y8G("icon",a.faCheck)}}function jo(i,l){if(1&i&&(e.j41(0,"table",112)(1,"thead")(2,"tr")(3,"th",113),e.EFF(4,"Employer Name"),e.nrm(5,"br"),e.EFF(6,"Address"),e.k0s(),e.j41(7,"th",114),e.EFF(8,"Employer PIN"),e.k0s(),e.nrm(9,"th",115),e.k0s()(),e.j41(10,"tbody"),e.DNE(11,wo,12,4,"tr",116),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(11),e.Y8G("ngForOf",t.employer_list.employers)}}function Io(i,l){if(1&i&&(e.j41(0,"div",123),e.nrm(1,"fa-icon",124),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("icon",t.faCircleNotch)}}function Ro(i,l){if(1&i&&(e.j41(0,"div",109),e.DNE(1,jo,12,1,"table",110)(2,Io,2,1,"div",111),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.searching_employer),e.R7$(),e.Y8G("ngIf",t.searching_employer)}}function Go(i,l){if(1&i&&(e.j41(0,"div",125),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.employer_list?null:t.employer_list.message," ")}}function Eo(i,l){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function To(i,l){if(1&i&&(e.j41(0,"div",35),e.DNE(1,Eo,2,1,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.employer_address.errors?null:t.f.employer_address.errors.required)}}function $o(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",93)(1,"div",40)(2,"h4",9),e.EFF(3,"Employer Details"),e.k0s()(),e.j41(4,"div",94)(5,"label",95),e.EFF(6,"Employer name"),e.k0s(),e.nrm(7,"input",96),e.DNE(8,ko,2,1,"div",13),e.k0s(),e.j41(9,"div",97)(10,"label",98),e.EFF(11,"Employer PEN"),e.k0s(),e.nrm(12,"input",99),e.DNE(13,Fo,2,1,"div",13),e.k0s(),e.j41(14,"div",100)(15,"button",101),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchEmployer())}),e.DNE(16,Co,1,1,"fa-icon",102)(17,Mo,1,1,"fa-icon",63),e.k0s()(),e.DNE(18,Ro,3,2,"div",103)(19,Go,2,1,"div",104),e.j41(20,"div",105)(21,"label",106),e.EFF(22,"Employer address"),e.k0s(),e.nrm(23,"input",107),e.DNE(24,To,2,1,"div",13),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(14,$,t.is_saving&&t.f.employer_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(16,D,t.is_saving&&t.f.employer_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.employer_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(18,$,t.is_saving&&t.f.employer_pin.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(20,D,t.is_saving&&t.f.employer_pin.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.employer_pin.errors),e.R7$(2),e.Y8G("disabled",t.searching_employer),e.R7$(),e.Y8G("ngIf",!t.searching_employer),e.R7$(),e.Y8G("ngIf",t.searching_employer),e.R7$(),e.Y8G("ngIf",(null==t.employer_list?null:t.employer_list.employers)&&!1===t.employer_selected),e.R7$(),e.Y8G("ngIf",null==t.employer_list?null:t.employer_list.message),e.R7$(2),e.Y8G("ngClass",e.eq3(22,$,t.is_saving&&t.f.employer_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(24,D,t.is_saving&&t.f.employer_address.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.employer_address.errors)}}function Do(i,l){1&i&&e.nrm(0,"div",38)}function Yo(i,l){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.R7$(),e.JRh(t.value)}}function So(i,l){if(1&i&&(e.j41(0,"div",126)(1,"div",127)(2,"ul",128),e.DNE(3,Yo,2,1,"li",129),e.nI1(4,"keyvalue"),e.k0s()()()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_errors))}}function No(i,l){1&i&&(e.j41(0,"div",130)(1,"span",131),e.EFF(2,"Record was updated."),e.k0s()()),2&i&&e.Y8G("@openCloseTrigger",void 0)}let Vo=(()=>{class i{resetList(){this.selectedEmployer=null,this.loadEmployers()}loadEmployers(){this.employer$=(0,ee.x)((0,q.of)([]),this.searchInput$.pipe((0,R.p)(t=>null!==t&&t.length>=this.minLengthTerm),(0,te.F)(),(0,ie.B)(800),(0,M.M)(()=>this.employerLoading=!0),(0,ne.n)(t=>this.getEmployer(t).pipe((0,ae.W)(()=>(0,q.of)([])),(0,M.M)(()=>this.employerLoading=!1)))))}getEmployer(t=null){return this.http.post("eclaims/search-employer",{"filter[search]":t,program_code:"mc"}).pipe((0,je.T)(n=>n.data))}onEmployerSelect(t){console.log(t)}searchEmployer(){this.searching_employer=!0,this.employer_selected=!1,this.http.post("eclaims/search-employer",{philhealthno:this.philhealthForm.value.employer_pin,employername:this.philhealthForm.value.employer_name}).subscribe({next:a=>{this.employer_list=a,this.searching_employer=!1},error:a=>console.log(a)})}selectEmployer(t){t&&(this.employer_selected=!0,this.philhealthForm.patchValue({employer_pin:t.philhealthno,employer_name:t.name,employer_address:t.address}),this.employer_list=null)}isATCValid(){this.is_checking_atc=!0;let t={pPIN:this.philhealthForm.value.philhealth_id,pATC:this.philhealthForm.value.authorization_transaction_code,pEffectivityDate:(0,c.Yq)(this.pATC_date,"MM/dd/yyyy","en","Asia/Manila")};this.http.get("konsulta/check-atc",{params:t}).subscribe({next:a=>{console.log(a),this.is_checking_atc=!1,this.is_atc_valid=a.return},error:a=>{this.is_checking_atc=!1,this.http.showError(a.error.message,"ATC Checking Error")}})}getMemberPin(){this.get_pin_error=void 0,this.retrieving_error=null,this.retrieving_pin=!0;let t=this.http.getPatientInfo(),n={program_code:"hf",last_name:"DD"===this.philhealthForm.value.membership_type_id?this.philhealthForm.value.member_last_name:t.last_name,first_name:"DD"===this.philhealthForm.value.membership_type_id?this.philhealthForm.value.member_first_name:t.first_name,middle_name:"DD"===this.philhealthForm.value.membership_type_id?this.philhealthForm.value.member_middle_name:t.middle_name,suffix_name:"DD"===this.philhealthForm.value.membership_type_id?"NA"!==this.philhealthForm.value.member_suffix_name?t.suffix_name:"":"NA"!==t.suffix_name?t.suffix_name:"",birthdate:(0,c.Yq)("DD"===this.philhealthForm.value.membership_type_id?this.philhealthForm.value.member_birthdate:t.birthdate,"MM-dd-yyyy","en","Asia/Manila")};this.http.post("eclaims/get-member-pin",n).subscribe({next:s=>{!1===s.success&&(this.get_pin_error=s.message),this.philhealthForm.patchValue({philhealth_id:s.pin,philhealth_id_confirmation:s.pin}),"DD"===this.philhealthForm.value.membership_type_id&&this.philhealthForm.patchValue({member_pin:s.pin,member_pin_confirmation:s.pin}),this.toastrMessage("success","Philhealth","Philhealth PIN retrieved","retrieving_pin")},error:s=>{console.log(s),404===s.status&&(this.retrieving_error=s.error.data),this.toastr.error(s.error.message,"Member PIN",{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0}),this.retrieving_pin=!1}})}toastrMessage(t,a,n,s){this.toastr[t](n,a),this[s]=!1}isMemberDependentRegistered(){this.is_checking_status=!0,this.http.get("konsulta/check-registered",{params:{pPIN:this.philhealthForm.value.philhealth_id,pType:this.philhealthForm.value.membership_type_id}}).subscribe({next:a=>{console.log(a),this.is_checking_status=!1,this.is_registered=a.return},error:a=>console.log(a)})}onSubmit(){if(this.is_saving=!0,console.log(this.philhealthForm),"YES"!==this.is_atc_valid&&this.philhealthForm.patchValue({authorization_transaction_code:"WALKEDIN",walkedin_status:!0}),this.philhealthForm.valid){let t;t=this.philhealth_to_edit?this.http.update("patient-philhealth/philhealth/",this.philhealth_to_edit.id,this.philhealthForm.value):this.http.post("patient-philhealth/philhealth",this.philhealthForm.value),t.subscribe({next:a=>{console.log(a),this.showAlert=!0,this.philhealthForm.markAsPristine(),this.philhealthForm.disable(),this.toastr.success("Successfully recorded!","Philhealth"),this.closeModal()},error:a=>{console.log(a),this.submit_errors=a.error.errors}})}}get f(){return this.philhealthForm.controls}get philhealthMatchError(){return this.philhealthForm.controls.philhealth_id.value!=this.philhealthForm.controls.philhealth_id_confirmation.value&&this.philhealthForm.get("philhealth_id_confirmation")?.dirty}get philhealthMemberMatchError(){return this.philhealthForm.controls.member_pin.value!=this.philhealthForm.controls.member_pin_confirmation.value&&this.philhealthForm.get("member_pin_confirmation")?.dirty}loadMainLibrary(){this.http.get("libraries/membership-types").subscribe({next:t=>this.membership_types=t.data,error:t=>console.log(t)}),this.http.get("libraries/membership-categories").subscribe({next:t=>this.membership_categories=t.data,error:t=>console.log(t)}),this.http.get("libraries/enlistment-status").subscribe({next:t=>this.enlistment_status=t.data,error:t=>console.log(t)}),this.http.get("libraries/package-types").subscribe({next:t=>this.package_types=t.data,error:t=>console.log(t)}),this.http.get("libraries/member-relationships").subscribe({next:t=>this.member_relationships=t.data,error:t=>console.log(t)}),this.http.get("libraries/suffix-names").subscribe({next:t=>this.suffix_names=t.data,error:t=>console.log(t)})}showMember(){"DD"===this.philhealthForm.value.membership_type_id?(this.show_member_form=!0,this.philhealthForm.controls.member_pin.setValidators([r.k0.required]),this.philhealthForm.controls.member_pin_confirmation.setValidators([r.k0.required]),this.philhealthForm.controls.member_last_name.setValidators([r.k0.required]),this.philhealthForm.controls.member_first_name.setValidators([r.k0.required]),this.philhealthForm.controls.member_middle_name.setValidators([r.k0.required]),this.philhealthForm.controls.member_suffix_name.setValidators([r.k0.required]),this.philhealthForm.controls.member_birthdate.setValidators([r.k0.required]),this.philhealthForm.controls.member_gender.setValidators([r.k0.required]),this.philhealthForm.controls.member_relation_id.setValidators([r.k0.required])):(this.show_member_form=!1,this.philhealthForm.controls.member_pin.clearValidators(),this.philhealthForm.controls.member_pin_confirmation.clearValidators(),this.philhealthForm.controls.member_last_name.clearValidators(),this.philhealthForm.controls.member_first_name.clearValidators(),this.philhealthForm.controls.member_middle_name.clearValidators(),this.philhealthForm.controls.member_suffix_name.clearValidators(),this.philhealthForm.controls.member_birthdate.clearValidators(),this.philhealthForm.controls.member_gender.clearValidators(),this.philhealthForm.controls.member_relation_id.clearValidators(),this.resetMemberDetails()),this.philhealthForm.controls.member_pin.updateValueAndValidity(),this.philhealthForm.controls.member_pin_confirmation.updateValueAndValidity(),this.philhealthForm.controls.member_last_name.updateValueAndValidity(),this.philhealthForm.controls.member_first_name.updateValueAndValidity(),this.philhealthForm.controls.member_middle_name.updateValueAndValidity(),this.philhealthForm.controls.member_suffix_name.updateValueAndValidity(),this.philhealthForm.controls.member_birthdate.updateValueAndValidity(),this.philhealthForm.controls.member_gender.updateValueAndValidity(),this.philhealthForm.controls.member_relation_id.updateValueAndValidity()}resetMemberDetails(){this.philhealthForm.patchValue({member_pin:null,member_pin_confirmation:null,member_last_name:null,member_first_name:null,member_middle_name:null,member_suffix_name:null,member_birthdate:null,member_gender:null,member_relation_id:null})}updateEffectivity(t){if(t)this.philhealthForm.patchValue({effectivity_year:(0,c.Yq)(this.philhealthForm.value.enlistment_date,"yyyy","en","Asia/Manila")}),this.existing_effectivity_year=this.philhealthForm.value.effectivity_year;else{if(this.philhealthForm.patchValue({effectivity_year:(0,c.Yq)(this.philhealthForm.value.enlistment_date,"yyyy","en","Asia/Manila")}),!this.existing_effectivity_year)return this.enlistment_invalid=!1,1;Number(this.philhealthForm.value.effectivity_year)>=2e3&&(this.existing_effectivity_year!==this.philhealthForm.value.effectivity_year?(this.toastr.error("Not allowed to change effectivity year, recorded effectivity year: "+this.existing_effectivity_year,"Philhealth"),this.enlistment_invalid=!0):(this.toastr.success("Enlistment date updated","Philhealth"),this.enlistment_invalid=!1))}}isATCrequired(){"K"===this.philhealthForm.value.package_type_id?(this.philhealthForm.controls.authorization_transaction_code.enable(),this.philhealthForm.patchValue(this.philhealthForm.value.walkedin_status?{authorization_transaction_code:"WALKEDIN"}:{authorization_transaction_code:null})):this.philhealthForm.controls.authorization_transaction_code.disable()}closeModal(){this.toggleModal.emit({modal_name:"philhealth"})}constructor(t,a,n){this.formBuilder=t,this.http=a,this.toastr=n,this.toggleModal=new e.bkB,this.faCheck=_.e68,this.faSpinner=_.z1G,this.faCircleInfo=_.mEO,this.faCircleNotch=_.s4k,this.faSearch=_.MjD,this.error_message="exceeded maximum value",this.error_message_min="does not meet minimum length",this.required_message="this field is required",this.sex_cat=[{id:"M",desc:"Male"},{id:"F",desc:"Female"}],this.philhealthForm=function da(){return new r.gE({philhealth_id:new r.MJ(""),facility_code:new r.MJ(""),patient_id:new r.MJ(""),user_id:new r.MJ(""),enlistment_date:new r.MJ(""),effectivity_year:new r.MJ(""),enlistment_status_id:new r.MJ(""),package_type_id:new r.MJ(""),membership_type_id:new r.MJ(""),membership_category_id:new r.MJ(""),member_pin:new r.MJ(""),member_last_name:new r.MJ(""),member_first_name:new r.MJ(""),member_middle_name:new r.MJ(""),member_suffix_name:new r.MJ(""),member_birthdate:new r.MJ(""),member_gender:new r.MJ(""),member_relation_id:new r.MJ(""),employer_pin:new r.MJ(""),employer_name:new r.MJ(""),employer_address:new r.MJ(""),member_pin_confirmation:new r.MJ(""),philhealth_id_confirmation:new r.MJ(""),authorization_transaction_code:new r.MJ(""),walkedin_status:new r.MJ(null)})}(),this.showChildVitals=!1,this.showAlert=!1,this.is_saving=!1,this.loading=!1,this.show_member_form=!1,this.is_checking_atc=!1,this.is_checking_status=!1,this.searchInput$=new W.B,this.minLengthTerm=3,this.employerLoading=!1,this.employer_selected=!1,this.searching_employer=!1,this.retrieving_pin=!1,this.enlistment_invalid=!1}ngOnInit(){this.loadMainLibrary();let t=this.http.getUserID(),a=this.http.getUserFacility();this.philhealthForm=this.formBuilder.group({philhealth_id:[null,[r.k0.required,r.k0.minLength(12)]],facility_code:[a,r.k0.required],patient_id:[this.patient_info.id,r.k0.required],user_id:[t,r.k0.required],enlistment_date:[null,r.k0.required],effectivity_year:[null,r.k0.required],enlistment_status_id:["1",r.k0.required],package_type_id:["K",r.k0.required],membership_type_id:[null,r.k0.required],membership_category_id:[null,r.k0.required],member_pin:[null,[r.k0.required,r.k0.minLength(12)]],member_last_name:[null,[r.k0.required,r.k0.minLength(2)]],member_first_name:[null,[r.k0.required,r.k0.minLength(2)]],member_middle_name:[null,[r.k0.required,r.k0.minLength(2)]],member_suffix_name:["NA",r.k0.required],member_birthdate:[null,r.k0.required],member_gender:[null,r.k0.required],member_relation_id:[null,r.k0.required],employer_pin:[null],employer_name:[null],employer_address:[null],member_pin_confirmation:[null,[r.k0.required,r.k0.minLength(12)]],philhealth_id_confirmation:[null,[r.k0.required,r.k0.minLength(12)]],authorization_transaction_code:[null,[r.k0.required]],walkedin_status:[!1]}),this.philhealth_to_edit&&(this.philhealthForm.patchValue({...this.philhealth_to_edit}),this.philhealthForm.patchValue({philhealth_id_confirmation:this.philhealth_to_edit.philhealth_id}),this.philhealthForm.patchValue({membership_type_id:this.philhealth_to_edit.membership_type.id}),this.philhealthForm.patchValue({membership_category_id:this.philhealth_to_edit.membership_category.id}),"WALKEDIN"!==this.philhealth_to_edit.authorization_transaction_code&&0===this.philhealth_to_edit.walkedin_status&&(this.is_atc_valid="YES"),"DD"===this.philhealthForm.value.membership_type_id&&(this.philhealthForm.patchValue({member_birthdate:(0,c.Yq)(this.philhealth_to_edit.member_birthdate,"yyyy-MM-dd","en","Asia/Manila")}),this.philhealthForm.patchValue({member_pin_confirmation:this.philhealth_to_edit.member_pin})),this.updateEffectivity(!0),this.showMember()),this.date=(new Date).toISOString().slice(0,10)}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-philhealth-modal"]],viewQuery:function(a,n){if(1&a&&e.GBs(_a,5),2&a){let s;e.mGM(s=e.lsd())&&(n.mySelect=s.first)}},inputs:{patient_info:"patient_info",philhealth_to_edit:"philhealth_to_edit"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:53,vars:44,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-3","px-5"],[1,"flex","justify-between","w-full","-px-5","mt-3"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","pl-5","py-2","mt-2"],["for","enlistment_date",1,"font-semibold",3,"ngClass"],["name","enlistment_date","id","enlistment_date","formControlName","enlistment_date","type","date",1,"input",3,"change","ngClass","max"],["class","invalid-alert",4,"ngIf"],["for","membership_type_id",1,"font-semibold",3,"ngClass"],["name","membership_type_id","id","membership_type_id","formControlName","membership_type_id",1,"input",3,"change","ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","membership_category_id",1,"font-semibold",3,"ngClass"],["name","membership_category_id","id","membership_category_id","formControlName","membership_category_id",1,"input",3,"ngClass"],["class","text-gray-600 border border-slate-100 mx-5",4,"ngIf"],["class","flex item-start flex-wrap pb-3",4,"ngIf"],["class","w-full mx-5 flex flex-col justify-center mt-3",4,"ngIf"],["class","w-full mt-3 py-0.5 rounded-md mx-5 flex justify-center text-red-800 text-xs border border-red-400 bg-red-100",4,"ngIf"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["class","border border-slate-200 rounded-md mx-5 shadow-md w-full",4,"ngIf"],["class","relative w-full flex text-sm px-5 mt-2",4,"ngIf"],[1,"w-full","flex","justify-center"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],["class","flex item-start flex-wrap pb-5 px-5",4,"ngIf"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-500","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:bg-gray-300","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"flex","item-start","flex-wrap","pb-3"],[1,"flex","justify-between","w-full","-px-5","mt-3","rounded-tl","rounded-tr"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","member_relation_id",1,"font-semibold",3,"ngClass"],["name","member_relation_id","id","member_relation_id","formControlName","member_relation_id",1,"input",3,"ngClass"],["for","member_last_name",1,"font-semibold",3,"ngClass"],["name","member_last_name","id","member_last_name","formControlName","member_last_name","type","text",1,"input",3,"ngClass"],["for","member_first_name",1,"font-semibold",3,"ngClass"],["name","member_first_name","id","member_first_name","formControlName","member_first_name","type","text",1,"input",3,"ngClass"],["for","member_middle_name",1,"font-semibold",3,"ngClass"],["name","member_middle_name","id","member_middle_name","formControlName","member_middle_name","type","text",1,"input",3,"ngClass"],["for","member_suffix_name",1,"font-semibold",3,"ngClass"],["name","member_suffix_name","id","member_suffix_name","formControlName","member_suffix_name",1,"input",3,"ngClass"],["for","member_birthdate",1,"font-semibold",3,"ngClass"],["name","member_birthdate","id","member_birthdate","formControlName","member_birthdate","type","date",1,"input",3,"ngClass","max"],["for","member_gender",1,"font-semibold",3,"ngClass"],["name","member_gender","id","member_gender","formControlName","member_gender",1,"input",3,"ngClass"],["for","member_pin",1,"font-semibold",3,"ngClass"],["name","member_pin","id","member_pin","formControlName","member_pin","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","member_pin_confirmation",1,"font-semibold",3,"ngClass"],["name","member_pin_confirmation","id","member_pin_confirmation","formControlName","member_pin_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],[1,"w-full","mx-5","flex","flex-col","justify-center","mt-3"],[1,"flex","justify-center"],["type","button",1,"btn-save",3,"click","disabled"],["animation","spin",3,"icon",4,"ngIf"],["class","flex justify-center",4,"ngIf"],["animation","spin",3,"icon"],[1,"text-rose-500","text-sm","flex","text-center","justify-center","italic"],[1,"w-full","mt-3","py-0.5","rounded-md","mx-5","flex","justify-center","text-red-800","text-xs","border","border-red-400","bg-red-100"],["for","philhealth_id",1,"font-semibold",3,"ngClass"],["name","philhealth_id","id","philhealth_id","formControlName","philhealth_id","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","philhealth_id_confirmation",1,"font-semibold",3,"ngClass"],["name","philhealth_id_confirmation","id","philhealth_id_confirmation","formControlName","philhealth_id_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],[1,"border","border-slate-200","rounded-md","mx-5","shadow-md","w-full"],[1,"flex","justify-start","w-full","ml-5","my-3"],["id","is_walk_in","type","checkbox","formControlName","walkedin_status",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"change","disabled"],["for","is_walk_in"],["class","grid grid-cols-1 w-full ml-5 mb-3",4,"ngIf"],[1,"grid","grid-cols-1","w-full","ml-5","mb-3"],[1,"flex","justify-center","w-full","mb-3"],["for","authorization_transaction_code",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","authorization_transaction_code","name","authorization_transaction_code","id","authorization_transaction_code","placeholder","Patient ATC","formControlName","authorization_transaction_code",1,"input","w-52"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"ngModelChange","max","ngModelOptions","ngModel"],[1,"align-middle","text-center"],["type","button",1,"btn-save","w-44",3,"click","disabled"],["class","py-1 px-2",3,"icon",4,"ngIf"],["class","py-1 px-2","animation","spin",3,"icon",4,"ngIf"],[1,"py-1","px-2",3,"icon"],["animation","spin",1,"py-1","px-2",3,"icon"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"relative","w-full","flex","text-sm","px-5","mt-2"],[1,"w-full","text-sm","md:w-1/2","lg:w-1/2"],[1,"px-5","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-500","hover:text-gray-50",3,"click"],[1,"flex","item-start","flex-wrap","pb-5","px-5"],[1,"w-6/12","relative","text-sm","pl-5","pr-3","py-2","mt-2"],["for","employer_name",1,"font-semibold",3,"ngClass"],["name","employer_name","id","employer_name","formControlName","employer_name","type","text",1,"input",3,"ngClass"],[1,"w-5/12","relative","text-sm","pr-3","py-1.5","mt-2"],["for","employer_pin",1,"font-semibold",3,"ngClass"],["name","employer_pin","id","employer_pin","formControlName","employer_pin","type","text",1,"input",3,"ngClass"],[1,"w-1/12","relative","text-base","pr-5","mt-9"],[1,"bg-blue-500","text-white","rounded-lg","py-2","px-3",3,"click","disabled"],[3,"icon",4,"ngIf"],["class","w-full mx-5 select-none border border-gray-200",4,"ngIf"],["class","w-full mx-5 py-2 text-center italic font-semibold border border-gray-200",4,"ngIf"],[1,"relative","w-full","text-sm","px-5","py-2"],["for","employer_address",1,"font-semibold",3,"ngClass"],["name","employer_address","id","employer_address","formControlName","employer_address","type","text",1,"input",3,"ngClass"],[3,"icon"],[1,"w-full","mx-5","select-none","border","border-gray-200"],["class","table table-auto w-full",4,"ngIf"],["class","flex justify-center w-full py-5",4,"ngIf"],[1,"table","table-auto","w-full"],[1,"w-6/12","text-center"],[1,"w-5/12","text-center"],[1,"w-1/12","text-center"],["class","hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100"],[1,"p-1"],[1,"font-semibold"],[1,"italic","text-xs"],[1,"text-center","p-1"],[1,"text-sm","text-white","bg-blue-500","hover:bg-blue-600","rounded-lg","py-2","px-3",3,"click"],[1,"flex","justify-center","w-full","py-5"],["animation","spin",1,"text-blue-500",3,"icon"],[1,"w-full","mx-5","py-2","text-center","italic","font-semibold","border","border-gray-200"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Philhealth Information "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),e.EFF(11,"Enlistment Details"),e.k0s()(),e.j41(12,"div",10)(13,"label",11),e.EFF(14,"Enlistment Date"),e.k0s(),e.j41(15,"input",12),e.nI1(16,"date"),e.bIt("change",function(){return n.updateEffectivity()}),e.k0s(),e.DNE(17,ua,2,1,"div",13),e.k0s(),e.j41(18,"div",10)(19,"label",14),e.EFF(20,"Membership type"),e.k0s(),e.j41(21,"select",15),e.bIt("change",function(){return n.showMember()}),e.DNE(22,ha,2,2,"option",16),e.k0s(),e.DNE(23,ga,2,1,"div",13),e.k0s(),e.j41(24,"div",10)(25,"label",17),e.EFF(26,"Membership category"),e.k0s(),e.j41(27,"select",18),e.DNE(28,va,2,2,"option",16),e.k0s(),e.DNE(29,ya,2,1,"div",13),e.k0s()(),e.DNE(30,ka,1,0,"div",19),e.j41(31,"div",7),e.DNE(32,za,55,73,"div",20)(33,Wa,1,0,"div",19)(34,Za,6,3,"div",21)(35,eo,2,1,"div",22)(36,ao,5,8,"div",23)(37,co,6,9,"div",23)(38,ho,6,2,"div",24)(39,go,5,2,"div",25),e.j41(40,"div",26),e.DNE(41,vo,3,5,"div",27),e.k0s()(),e.DNE(42,bo,1,0,"div",19)(43,$o,25,26,"div",28)(44,Do,1,0,"div",19)(45,So,5,3,"div",29),e.k0s()(),e.j41(46,"div",30),e.DNE(47,No,3,1,"div",31),e.j41(48,"button",32),e.bIt("click",function(){return n.closeModal()}),e.EFF(49,"Close"),e.k0s(),e.j41(50,"button",33),e.bIt("click",function(){return n.onSubmit()}),e.EFF(51,"Save"),e.k0s()()()()(),e.nrm(52,"div",34)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.philhealthForm),e.R7$(6),e.Y8G("ngClass",e.eq3(32,$,n.is_saving&&n.f.enlistment_date.errors)),e.R7$(2),e.FS9("max",e.i5U(16,29,n.date,"yyyy-MM-dd")),e.Y8G("ngClass",e.eq3(34,D,n.is_saving&&n.f.enlistment_date.errors)),e.R7$(2),e.Y8G("ngIf",n.is_saving&&n.f.enlistment_date.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(36,$,n.is_saving&&n.f.membership_type_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(38,D,n.is_saving&&n.f.membership_type_id.errors)),e.R7$(),e.Y8G("ngForOf",n.membership_types),e.R7$(),e.Y8G("ngIf",n.is_saving&&n.f.membership_type_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(40,$,n.is_saving&&n.f.membership_category_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(42,D,n.is_saving&&n.f.membership_category_id.errors)),e.R7$(),e.Y8G("ngForOf",n.membership_categories),e.R7$(),e.Y8G("ngIf",n.is_saving&&n.f.membership_category_id.errors),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(2),e.Y8G("ngIf",n.show_member_form),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",n.retrieving_error),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id&&n.philhealthForm.controls.authorization_transaction_code.enabled),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id&&n.philhealthForm.controls.authorization_transaction_code.enabled&&n.philhealthForm.value.philhealth_id&&n.philhealthForm.value.philhealth_id_confirmation&&n.philhealthForm.value.membership_type_id&&!n.philhealthMatchError),e.R7$(2),e.Y8G("ngIf",void 0!==n.is_registered),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",null!==n.philhealthForm.value.membership_type_id),e.R7$(),e.Y8G("ngIf",n.submit_errors),e.R7$(2),e.Y8G("ngIf",n.showAlert),e.R7$(3),e.Y8G("disabled",n.philhealthForm.invalid||n.enlistment_invalid))},dependencies:[c.YU,c.Sq,c.bT,b.aY,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.vS,r.j4,r.JD,ca.Zr,c.vh,c.lG],encapsulation:2})}}return i})();function Po(i,l){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.member_pin," "),e.R7$(2),e.E5c(" ",t.member_last_name,", ",t.member_first_name," ",t.member_middle_name," ")}}function Xo(i,l){1&i&&(e.j41(0,"span"),e.EFF(1,"-"),e.k0s())}function Ao(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr",14)(1,"td",15),e.EFF(2),e.k0s(),e.j41(3,"th",16),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",15),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",15),e.EFF(10),e.nrm(11,"br"),e.EFF(12),e.k0s(),e.j41(13,"td",15),e.DNE(14,Po,4,4,"span",17)(15,Xo,2,0,"span",17),e.k0s(),e.j41(16,"td",15)(17,"fa-icon",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.editPhilhealth(n))}),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG();e.R7$(2),e.SpI(" ",t.philhealth_id," "),e.R7$(2),e.SpI(" ",e.brH(5,8,t.enlistment_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.i5U(8,12,t.enlistment_date,"yyyy")," "),e.R7$(3),e.SpI(" ",t.membership_type.desc,""),e.R7$(2),e.SpI(" ",t.membership_category.desc," "),e.R7$(2),e.Y8G("ngIf",t.member_last_name),e.R7$(),e.Y8G("ngIf",!t.member_last_name),e.R7$(2),e.Y8G("icon",a.faPenToSquare)}}let Bo=(()=>{class i{editPhilhealth(t){this.philhealthEdit.emit(t),this.closeModal()}loadPhilhealth(){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":this.patient_info.id,per_page:"all",sort:"-enlistment_date",include:"membershipType,membershipCategory"}}).subscribe({next:t=>{this.philhealth_infos=t.data},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("philhealth-list-modal")}constructor(t){this.http=t,this.toggleModal=new e.bkB,this.philhealthEdit=new e.bkB,this.faPenToSquare=_.LFz}ngOnInit(){this.loadPhilhealth()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-philhealth-list-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal",philhealthEdit:"philhealthEdit"},standalone:!1,decls:31,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap"],[4,"ngIf"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Philhealth Information "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),e.EFF(12,"Philhealth ID"),e.k0s(),e.j41(13,"th",9),e.EFF(14,"Enlistment Date"),e.k0s(),e.j41(15,"th",9),e.EFF(16,"Effectivity Year"),e.k0s(),e.j41(17,"th",9),e.EFF(18,"Membership type "),e.nrm(19,"br"),e.EFF(20,"Membership category"),e.k0s(),e.j41(21,"th",9),e.EFF(22,"Member"),e.k0s(),e.j41(23,"th",9),e.EFF(24,"Action"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,Ao,18,15,"tr",10),e.k0s()()()(),e.j41(27,"div",11)(28,"button",12),e.bIt("click",function(){return n.closeModal()}),e.EFF(29,"Close"),e.k0s()()()()(),e.nrm(30,"div",13)),2&a&&(e.R7$(26),e.Y8G("ngForOf",n.philhealth_infos))},dependencies:[c.Sq,c.bT,b.aY,c.vh],encapsulation:2})}}return i})();var Oo=u(928);const qo=i=>({"bg-orange-500 hover:ring-2 hover:ring-orange-400":i});function Uo(i,l){if(1&i){const t=e.RV6();e.j41(0,"webcam",16),e.bIt("imageCapture",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.captureImg(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("trigger",t.invokeObservable)("width",1200)("height",1200)}}function Lo(i,l){if(1&i&&e.nrm(0,"img",17),2&i){const t=e.XpG();e.Y8G("src",t.sysImage,e.B4B)}}function Ho(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sysImage?n.onSubmit():n.getSnapshot())}),e.EFF(1," Save photo "),e.k0s()}}let Jo=(()=>{class i{getSnapshot(){this.trigger.next(void 0)}captureImg(t){this.webcamImage=t,this.sysImage=this.webcamImage.imageAsDataUrl}toggleCamera(){this.imageData=null,this.webcamImage=null,this.sysImage=null}get invokeObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}onSubmit(){if(this.sysImage){const t=this.dataURItoBlob(this.sysImage),a=new FormData;a.append("image",t),a.append("id",this.id),this.http.post("images",a).subscribe({next:n=>{this.toastr.success("Photo uploaded","Photo"),this.closeModal()},error:n=>console.log(n)})}else this.toastr.error("No image to upload.","Error")}dataURItoBlob(t){const a=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(a.length),d=new Uint8Array(s);for(let y=0;y<a.length;y++)d[y]=a.charCodeAt(y);return new Blob([s],{type:n})}closeModal(){this.toggleModal.emit("photo")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faXmark=_.Jyw,this.trigger=new W.B,this.nextWebcam=new W.B,this.webcamImage=null}ngOnDestroy(){this.trigger.unsubscribe(),this.nextWebcam.unsubscribe()}newPhoto(){}ngOnInit(){this.id=this.http.getPatientInfo().id.toString(),this.for_update=!1,this.imageData&&(this.for_update=!0),this.sysImage=this.imageData}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-photo-modal"]],inputs:{patient_info:"patient_info",imageData:"imageData"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:18,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow-sm"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],["type","button",3,"click"],["size","xl",1,"text-white",3,"icon"],[1,"overflow-y-auto","scrollbar-thin","h-full","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"container","grid","grid-cols-1","w-full"],[1,"flex","justify-center","w-full"],[3,"trigger","width","height","imageCapture",4,"ngIf"],[3,"src",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","px-10",3,"click","ngClass"],["type","button","class","btn-save px-10",3,"click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"imageCapture","trigger","width","height"],[3,"src"],["type","button",1,"btn-save","px-10",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Photo "),e.k0s(),e.j41(6,"button",5),e.bIt("click",function(){return n.closeModal()}),e.nrm(7,"fa-icon",6),e.k0s()(),e.j41(8,"div",7)(9,"div",8)(10,"div",9),e.DNE(11,Uo,1,3,"webcam",10)(12,Lo,1,1,"img",11),e.k0s()()(),e.j41(13,"div",12)(14,"button",13),e.bIt("click",function(){return n.sysImage?n.toggleCamera():n.getSnapshot()}),e.EFF(15),e.k0s(),e.DNE(16,Ho,2,0,"button",14),e.k0s()()()(),e.nrm(17,"div",15)),2&a&&(e.R7$(7),e.Y8G("icon",n.faXmark),e.R7$(4),e.Y8G("ngIf",!n.sysImage),e.R7$(),e.Y8G("ngIf",n.sysImage),e.R7$(2),e.Y8G("ngClass",e.eq3(6,qo,n.sysImage)),e.R7$(),e.SpI(" ",n.sysImage?"Retake photo":"Take a photo"," "),e.R7$(),e.Y8G("ngIf",n.sysImage&&!n.imageData))},dependencies:[c.YU,c.bT,b.aY,Oo.x1],encapsulation:2})}}return i})();function zo(i,l){if(1&i&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Wo(i,l){1&i&&(e.j41(0,"div",9)(1,"label",34),e.EFF(2,"Menopause age"),e.k0s(),e.nrm(3,"input",35),e.k0s())}let Qo=(()=>{class i{onSubmit(){console.log(this.menstrualForm.value),this.http.post("patient-menstrual-history/history",this.menstrualForm.value).subscribe({next:t=>{console.log(t),this.toastr.success("Successfully recorded!","Menstual History"),this.closeModal()},error:t=>console.log(t)})}createForm(){this.patient_info&&(this.menstrualForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],menarche:[null],lmp:[null],period_duration:[null],cycle:[null],pads_per_day:[null],onset_sexual_intercourse:[null],method:["NA",r.k0.required],menopause:[!1,r.k0.required],menopause_age:[null]}),this.menstrual_history.length>0&&this.patchValue())}patchValue(){this.menstrualForm.patchValue({...this.menstrual_history[0]}),this.menstrualForm.patchValue({menopause:0!==this.menstrual_history[0].menopause,lmp:(0,c.Yq)(this.menstrual_history[0].lmp,"yyyy-MM-dd","en","Asia/Manila")}),console.log(this.menstrualForm.value)}closeModal(){this.toggleModal.emit("menstrual")}get f(){return this.menstrualForm.controls}ngOnChanges(t){}constructor(t,a,n){this.formBuilder=t,this.http=a,this.toastr=n,this.loadData=new e.bkB,this.toggleModal=new e.bkB,this.is_saving=!1,this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.menstrualForm=new r.gE({patient_id:new r.MJ(null),menarche:new r.MJ(null),lmp:new r.MJ(null),period_duration:new r.MJ(null),cycle:new r.MJ(null),pads_per_day:new r.MJ(null),onset_sexual_intercourse:new r.MJ(null),method:new r.MJ(null),menopause:new r.MJ(null),menopause_age:new r.MJ(null)})}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-menstrual-modal"]],inputs:{patient_info:"patient_info",menstrual_history:"menstrual_history",fp_method:"fp_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:58,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","smoking"],["name","menarche","id","menarche","formControlName","menarche","type","number",1,"input","disabled:bg-gray-300"],["for","lmp"],["name","lmp","id","lmp","formControlName","lmp","type","date","placeholder","mm/dd/yyyy",1,"input","disabled:bg-gray-300",3,"max"],["for","period_duration"],["name","period_duration","id","period_duration","formControlName","period_duration","type","number",1,"input","disabled:bg-gray-300"],["for","cycle"],["name","cycle","id","cycle","formControlName","cycle","type","number",1,"input","disabled:bg-gray-300"],["for","pads_per_day"],["name","pads_per_day","id","pads_per_day","formControlName","pads_per_day","type","number",1,"input","disabled:bg-gray-300"],["for","onset_sexual_intercourse"],["name","onset_sexual_intercourse","id","onset_sexual_intercourse","formControlName","onset_sexual_intercourse","type","number",1,"input","disabled:bg-gray-300"],["for","method"],["name","method","id","method","formControlName","method",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","menopause"],["name","menopause","id","menopause","formControlName","menopause",1,"input","disabled:bg-gray-300"],[3,"ngValue"],["class","relative text-sm w-1/2 px-5 py-2 mt-2",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","menopause_age"],["name","menopause_age","id","menopause_age","formControlName","menopause_age","type","number",1,"input","disabled:bg-gray-300"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Menstrual History "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12,"Menarche"),e.k0s(),e.nrm(13,"input",11),e.k0s(),e.j41(14,"div",9)(15,"label",12),e.EFF(16,"Last menstrual period"),e.k0s(),e.nrm(17,"input",13),e.k0s()(),e.j41(18,"div",8)(19,"div",9)(20,"label",14),e.EFF(21,"Period duration"),e.k0s(),e.nrm(22,"input",15),e.k0s(),e.j41(23,"div",9)(24,"label",16),e.EFF(25,"Cycle"),e.k0s(),e.nrm(26,"input",17),e.k0s()(),e.j41(27,"div",8)(28,"div",9)(29,"label",18),e.EFF(30,"Pads per day"),e.k0s(),e.nrm(31,"input",19),e.k0s(),e.j41(32,"div",9)(33,"label",20),e.EFF(34,"Onset sexual intercourse"),e.k0s(),e.nrm(35,"input",21),e.k0s()(),e.j41(36,"div",8)(37,"div",9)(38,"label",22),e.EFF(39,"Family planning method"),e.k0s(),e.j41(40,"select",23),e.DNE(41,zo,2,2,"option",24),e.k0s()()(),e.j41(42,"div",8)(43,"div",9)(44,"label",25),e.EFF(45,"Menopause"),e.k0s(),e.j41(46,"select",26)(47,"option",27),e.EFF(48,"Yes"),e.k0s(),e.j41(49,"option",27),e.EFF(50,"No"),e.k0s()()(),e.DNE(51,Wo,4,0,"div",28),e.k0s()()()(),e.j41(52,"div",29)(53,"button",30),e.bIt("click",function(){return n.closeModal()}),e.EFF(54,"Close"),e.k0s(),e.j41(55,"button",31),e.bIt("click",function(){return n.onSubmit()}),e.EFF(56),e.k0s()()()()(),e.nrm(57,"div",32)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.menstrualForm),e.R7$(10),e.Y8G("max",n.max_date),e.R7$(24),e.Y8G("ngForOf",n.fp_method),e.R7$(6),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1),e.R7$(2),e.Y8G("ngIf",!0===(null==n.menstrualForm||null==n.menstrualForm.value?null:n.menstrualForm.value.menopause)),e.R7$(4),e.Y8G("disabled",n.is_saving||n.menstrualForm.invalid),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.Sq,c.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}}return i})();function Ko(i,l){if(1&i&&e.nrm(0,"fa-icon",21),2&i){const t=e.XpG();e.Y8G("icon",t.faSpinner)}}function Zo(i,l){if(1&i&&(e.j41(0,"tr",22)(1,"td",23),e.EFF(2),e.k0s(),e.j41(3,"th",24),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&i){const t=l.$implicit;e.R7$(2),e.SpI(" ",t.operation," "),e.R7$(2),e.SpI(" ",e.brH(5,2,t.operation_date,"MM/dd/yyyy","Asia/Manila")," ")}}let el=(()=>{class i{editSurgical(t){this.surgical_form=t}loadData(){this.http.get("patient-surgical-history/history",{params:{patient_id:this.patient_info.id}}).subscribe({next:t=>{console.log(t.data),this.surgical_list=t.data},error:t=>console.log(t)})}onSubmit(){let t;this.is_saving=!0,this.surgical_form.patient_id=this.patient_info.id,console.log(this.surgical_form),t=this.surgical_form.id?this.http.update("patient-surgical-history/history/",this.surgical_form.id,this.surgical_form):this.http.post("patient-surgical-history/history",this.surgical_form),t.subscribe({next:a=>{console.log(a),this.is_saving=!1,this.toastr.success("Successfully recorded!","Operation History"),this.resetField(),this.loadData()},error:a=>console.log(a)})}resetField(){this.surgical_form.operation=null,this.surgical_form.operation_date=null}closeModal(){this.toggleModal.emit({modal_name:"surgical-history"})}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faSpinner=_.z1G,this.faPenToSquare=_.LFz,this.surgical_list=[],this.surgical_form={patient_id:null,operation:null,operation_date:null},this.is_saving=!1}ngOnInit(){this.loadData()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-surgical-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:33,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-3","gap-4","w-full","text-left","py-2","px-10"],[1,"col-span-1"],["for","operation",1,"text-sm"],["name","operation","type","text",1,"input",3,"ngModelChange","ngModel"],["for","operation_date",1,"text-sm"],["name","operation_date","type","date",1,"input",3,"ngModelChange","ngModel"],["type","button",1,"btn-save","w-full","mt-6","disabled:bg-gray-300",3,"click","disabled"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["animation","spin",1,"mr-2",3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Surgical History "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10,"Surgical procedure"),e.k0s(),e.j41(11,"input",9),e.mxI("ngModelChange",function(d){return e.DH7(n.surgical_form.operation,d)||(n.surgical_form.operation=d),d}),e.k0s()(),e.j41(12,"div",7)(13,"label",10),e.EFF(14,"Date"),e.k0s(),e.j41(15,"input",11),e.mxI("ngModelChange",function(d){return e.DH7(n.surgical_form.operation_date,d)||(n.surgical_form.operation_date=d),d}),e.k0s()(),e.j41(16,"div",7)(17,"button",12),e.bIt("click",function(){return n.onSubmit()}),e.DNE(18,Ko,1,1,"fa-icon",13),e.EFF(19),e.k0s()()(),e.j41(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),e.EFF(24,"Description"),e.k0s(),e.j41(25,"th",16),e.EFF(26,"Surgical Date"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,Zo,6,6,"tr",17),e.k0s()()(),e.j41(29,"div",18)(30,"button",19),e.bIt("click",function(){return n.closeModal()}),e.EFF(31,"Close"),e.k0s()()()()(),e.nrm(32,"div",20)),2&a&&(e.R7$(11),e.R50("ngModel",n.surgical_form.operation),e.R7$(4),e.R50("ngModel",n.surgical_form.operation_date),e.R7$(2),e.Y8G("disabled",!n.surgical_form.operation||!n.surgical_form.operation_date),e.R7$(),e.Y8G("ngIf",n.is_saving),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "),e.R7$(9),e.Y8G("ngForOf",n.surgical_list))},dependencies:[c.Sq,c.bT,b.aY,r.me,r.BC,r.vS,c.vh],encapsulation:2})}}return i})(),tl=(()=>{class i{onDelete(){this.is_saving=!0,this.confirm_code===this.confirmation_code?this.http.delete("patient-surgical-history/history/",this.surgery_to_delete.id).subscribe({next:()=>{this.is_saving=!1,this.toastr.error("Record was deleted!","Surgery record"),this.closeModal()},error:t=>console.log(t)}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){this.toggleModal.emit({modal_name:"surgical-action"})}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faTrash=_.yLS,this.confirm_code="0000",this.is_saving=!1}ngOnInit(){this.generateCode()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-surgical-action-modal"]],inputs:{surgery_to_delete:"surgery_to_delete"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:28,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-5",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e.EFF(10," Your are about to delete a surgical history record for this patient. Please enter the generated delete code in order to proceed. "),e.k0s(),e.j41(11,"div",9)(12,"span",10),e.EFF(13,"Delete Code"),e.k0s(),e.j41(14,"span",11),e.EFF(15),e.k0s()(),e.j41(16,"div",9)(17,"label",12),e.EFF(18,"Enter Code"),e.k0s(),e.j41(19,"input",13),e.mxI("ngModelChange",function(d){return e.DH7(n.confirmation_code,d)||(n.confirmation_code=d),d}),e.k0s()(),e.j41(20,"div",14)(21,"button",15),e.bIt("click",function(){return n.onDelete()}),e.nrm(22,"fa-icon",16),e.EFF(23," Delete "),e.k0s()()()()(),e.j41(24,"div",17)(25,"button",18),e.bIt("click",function(){return n.closeModal()}),e.EFF(26,"Cancel"),e.k0s()()()()(),e.nrm(27,"div",19)),2&a&&(e.R7$(5),e.SpI(" DELETE SURGICAL HISTORY (",n.surgery_to_delete.operation,") "),e.R7$(10),e.JRh(n.confirm_code),e.R7$(4),e.R50("ngModel",n.confirmation_code),e.R7$(2),e.Y8G("disabled",!n.confirmation_code),e.R7$(),e.Y8G("icon",n.faTrash))},dependencies:[b.aY,r.me,r.BC,r.vS],encapsulation:2})}}return i})();var il=u(4626);function nl(i,l){if(1&i&&(e.j41(0,"div",10)(1,"div",11),e.nrm(2,"apx-chart",12),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("series",null==t.chartOptions?null:t.chartOptions.series)("chart",null==t.chartOptions?null:t.chartOptions.chart)("xaxis",null==t.chartOptions?null:t.chartOptions.xaxis)("stroke",null==t.chartOptions?null:t.chartOptions.stroke)("tooltip",null==t.chartOptions?null:t.chartOptions.tooltip)("dataLabels",null==t.chartOptions?null:t.chartOptions.dataLabels)("title",null==t.chartOptions?null:t.chartOptions.title)}}function al(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",14),e.nrm(2,"apx-chart",12),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("series",null==t.WeightChart?null:t.WeightChart.series)("chart",null==t.WeightChart?null:t.WeightChart.chart)("xaxis",null==t.WeightChart?null:t.WeightChart.xaxis)("stroke",null==t.WeightChart?null:t.WeightChart.stroke)("tooltip",null==t.WeightChart?null:t.WeightChart.tooltip)("dataLabels",null==t.WeightChart?null:t.WeightChart.dataLabels)("title",null==t.WeightChart?null:t.WeightChart.title)}}function ol(i,l){if(1&i&&(e.j41(0,"div",13)(1,"div",15),e.nrm(2,"apx-chart",12),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("series",null==t.BmiChart?null:t.BmiChart.series)("chart",null==t.BmiChart?null:t.BmiChart.chart)("xaxis",null==t.BmiChart?null:t.BmiChart.xaxis)("stroke",null==t.BmiChart?null:t.BmiChart.stroke)("tooltip",null==t.BmiChart?null:t.BmiChart.tooltip)("dataLabels",null==t.BmiChart?null:t.BmiChart.dataLabels)("title",null==t.BmiChart?null:t.BmiChart.title)}}function ll(i,l){if(1&i&&(e.j41(0,"div",7),e.DNE(1,nl,3,7,"div",8)(2,al,3,7,"div",9)(3,ol,3,7,"div",9),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.show_bp),e.R7$(),e.Y8G("ngIf",t.show_weight),e.R7$(),e.Y8G("ngIf",t.show_bmi)}}function sl(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div")(3,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggle_content=!n.toggle_content)}),e.nrm(4,"fa-icon",4),e.k0s(),e.EFF(5),e.k0s(),e.j41(6,"div",5),e.EFF(7),e.k0s()(),e.DNE(8,ll,4,3,"div",6),e.k0s()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("icon",t.toggle_content?t.faChevronUp:t.faChevronDown),e.R7$(),e.SpI(" ",t.toggle_content?"HIDE ":"SHOW "," VITALS CHART "),e.R7$(2),e.SpI(" ",t.selected_consult_id?"Consult ID: "+t.selected_consult_id:""," "),e.R7$(),e.Y8G("ngIf",t.show_graphs&&t.toggle_content)}}let rl=(()=>{class i{patientVitals(t){this.vitals_graph.systolic=[],this.vitals_graph.diastolic=[],this.vitals_graph.bp_date=[],this.vitals_graph.weight=[],this.vitals_graph.weight_date=[],Object.entries(t).forEach(([a,n],s)=>{let d=n;d.bp_systolic&&(this.vitals_graph.systolic.push(d.bp_systolic),this.vitals_graph.diastolic.push(d.bp_diastolic),this.vitals_graph.bp_date.push(d.vitals_date)),d.patient_weight&&(this.vitals_graph.weight.push(d.patient_weight),this.vitals_graph.weight_date.push(d.vitals_date)),d.patient_bmi&&(this.vitals_graph.bmi.push(d.patient_bmi),this.vitals_graph.bmi_date.push(d.vitals_date))}),this.vitals_graph.systolic.length>0||this.vitals_graph.diastolic.length>0||this.vitals_graph.weight.length>0||this.vitals_graph.bmi.length>0?(this.selected_chart="all_chart",this.loadChart(this.selected_chart)):this.showChart=!1,this.generateAllChart()}generateBPChart(){this.chartOptions={series:[{name:"Systolic",data:this.vitals_graph.systolic},{name:"Diastolic",data:this.vitals_graph.diastolic}],chart:{height:200,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Blood Pressure History"},xaxis:{type:"datetime",categories:this.vitals_graph.bp_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateWeightChart(){this.WeightChart={series:[{name:"Weight",data:this.vitals_graph.weight}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Weight History"},xaxis:{type:"datetime",categories:this.vitals_graph.weight_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateBMIChart(){this.BmiChart={series:[{name:"BMI",data:this.vitals_graph.bmi}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"BMI History"},xaxis:{type:"datetime",categories:this.vitals_graph.bmi_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}loadChart(t){switch(this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,t){case"bp_chart":this.show_bp=!0;break;case"weight_chart":this.show_weight=!0;break;case"bmi_chart":this.show_bmi=!0;break;case"bmi_weight_chart":this.show_weight=!0,this.show_bmi=!0;break;case"bp_weight_chart":this.show_bp=!0,this.show_weight=!0;break;case"all_chart":this.show_bp=!0,this.show_weight=!0,this.show_bmi=!0}this.showChart=!0}generateAllChart(){this.generateBPChart(),this.generateWeightChart(),this.generateBMIChart()}constructor(){this.faChevronUp=_.w2A,this.faChevronDown=_.Jt$,this.showChart=!1,this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,this.show_graphs=!0,this.vitals_graph={systolic:[],diastolic:[],bp_date:[],weight:[],weight_date:[],bmi:[],bmi_date:[]}}ngOnChanges(t){this.patient_vitals&&this.patientVitals(this.patient_vitals)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-graph"]],inputs:{patient_vitals:"patient_vitals",selected_consult_id:"selected_consult_id"},standalone:!1,features:[e.OA$],decls:1,vars:1,consts:[["class","grid grid-cols-1 w-full h-auto",4,"ngIf"],[1,"grid","grid-cols-1","w-full","h-auto"],[1,"flex","justify-between","ml-5","font-semibold","my-0","text-sky-500"],["type","button",1,"font-normal","px-2","py-1","text-sm","mr-2",3,"click"],["size","lg",3,"icon"],[1,"pt-1","text-blue-500"],["class","cols-span-1 flex w-full mt-3",4,"ngIf"],[1,"cols-span-1","flex","w-full","mt-3"],["class","w-1/3 shadow px-2 mr-2 py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],["class","w-1/3 shadow px-2 ml-2  py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],[1,"w-1/3","shadow","px-2","mr-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","bp-chart"],[3,"series","chart","xaxis","stroke","tooltip","dataLabels","title"],[1,"w-1/3","shadow","px-2","ml-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","weight-chart"],["id","bmi-chart"]],template:function(a,n){1&a&&e.DNE(0,sl,9,4,"div",0),2&a&&e.Y8G("ngIf",n.showChart)},dependencies:[c.bT,b.aY,il.Q],encapsulation:2})}}return i})();function dl(i,l){if(1&i&&(e.j41(0,"option",36),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}let cl=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("patient-pregnancy-history/history",this.pregnancyForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Pregnancy History"),this.closeModal()},error:t=>console.log(t)})}createForm(){this.patient_info&&(this.pregnancyForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],gravidity:[null,r.k0.required],parity:[null,r.k0.required],full_term:[null,r.k0.required],preterm:[null,r.k0.required],abortion:[null,r.k0.required],livebirths:[null,r.k0.required],delivery_type:[null,r.k0.required],induced_hypertension:[null,r.k0.required],with_family_planning:[null,r.k0.required]}),this.pregnancy_history&&this.patchValue())}patchValue(){this.pregnancyForm.patchValue({...this.pregnancy_history}),this.pregnancyForm.patchValue({induced_hypertension:this.pregnancy_history.inducedHypertension.id,with_family_planning:this.pregnancy_history.withFamilyPlanning.id,delivery_type:this.pregnancy_history.libPregnancyDeliveryType.code})}closeModal(){this.toggleModal.emit("preghist")}get f(){return this.pregnancyForm.controls}ngOnChanges(t){}constructor(t,a,n){this.formBuilder=t,this.http=a,this.toastr=n,this.loadData=new e.bkB,this.toggleModal=new e.bkB,this.is_saving=!1,this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.pregnancyForm=new r.gE({patient_id:new r.MJ(null),gravidity:new r.MJ(null),parity:new r.MJ(null),full_term:new r.MJ(null),preterm:new r.MJ(null),abortion:new r.MJ(null),livebirths:new r.MJ(null),delivery_type:new r.MJ(null),induced_hypertension:new r.MJ(null),with_family_planning:new r.MJ(null)})}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-preghist-modal"]],inputs:{patient_info:"patient_info",pregnancy_history:"pregnancy_history",delivery_method:"delivery_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:65,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","gravidity"],["name","gravidity","id","gravidity","formControlName","gravidity","type","number",1,"input","disabled:bg-gray-300"],["for","parity"],["name","parity","id","parity","formControlName","parity","type","number",1,"input","disabled:bg-gray-300"],["for","full_term"],["name","full_term","id","full_term","formControlName","full_term","type","number",1,"input","disabled:bg-gray-300"],["for","preterm"],["name","preterm","id","preterm","formControlName","preterm","type","number",1,"input","disabled:bg-gray-300"],["for","abortion"],["name","abortion","id","abortion","formControlName","abortion","type","number",1,"input","disabled:bg-gray-300"],["for","livebirths"],["name","livebirths","id","livebirths","formControlName","livebirths","type","number",1,"input","disabled:bg-gray-300"],[1,"relative","text-sm","w-full","px-5","py-2","mt-2"],["for","delivery_type"],["name","delivery_type","id","delivery_type","formControlName","delivery_type",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","induced_hypertension"],["name","induced_hypertension","id","induced_hypertension","formControlName","induced_hypertension",1,"input","disabled:bg-gray-300"],["value","N"],["value","Y"],["for","with_family_planning"],["name","with_family_planning","id","with_family_planning","formControlName","with_family_planning",1,"input","disabled:bg-gray-300"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Pregnancy History "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12,"Gravidity"),e.k0s(),e.nrm(13,"input",11),e.k0s(),e.j41(14,"div",9)(15,"label",12),e.EFF(16,"Parity"),e.k0s(),e.nrm(17,"input",13),e.k0s()(),e.j41(18,"div",8)(19,"div",9)(20,"label",14),e.EFF(21,"Full Term"),e.k0s(),e.nrm(22,"input",15),e.k0s(),e.j41(23,"div",9)(24,"label",16),e.EFF(25,"Preterm"),e.k0s(),e.nrm(26,"input",17),e.k0s()(),e.j41(27,"div",8)(28,"div",9)(29,"label",18),e.EFF(30,"Abortion"),e.k0s(),e.nrm(31,"input",19),e.k0s(),e.j41(32,"div",9)(33,"label",20),e.EFF(34,"Livebirths"),e.k0s(),e.nrm(35,"input",21),e.k0s()(),e.j41(36,"div",8)(37,"div",22)(38,"label",23),e.EFF(39,"Delivery Type"),e.k0s(),e.j41(40,"select",24),e.DNE(41,dl,2,2,"option",25),e.k0s()()(),e.j41(42,"div",8)(43,"div",9)(44,"label",26),e.EFF(45,"Induced Hypertension"),e.k0s(),e.j41(46,"select",27)(47,"option",28),e.EFF(48,"No"),e.k0s(),e.j41(49,"option",29),e.EFF(50,"Yes"),e.k0s()()(),e.j41(51,"div",9)(52,"label",30),e.EFF(53,"With Family Planning"),e.k0s(),e.j41(54,"select",31)(55,"option",28),e.EFF(56,"No"),e.k0s(),e.j41(57,"option",29),e.EFF(58,"Yes"),e.k0s()()()()()()(),e.j41(59,"div",32)(60,"button",33),e.bIt("click",function(){return n.closeModal()}),e.EFF(61,"Close"),e.k0s(),e.j41(62,"button",34),e.bIt("click",function(){return n.onSubmit()}),e.EFF(63),e.k0s()()()()(),e.nrm(64,"div",35)),2&a&&(e.R7$(7),e.Y8G("formGroup",n.pregnancyForm),e.R7$(34),e.Y8G("ngForOf",n.delivery_method),e.R7$(21),e.Y8G("disabled",n.is_saving||n.pregnancyForm.invalid),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.Sq,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}}return i})();function _l(i,l){if(1&i){const t=e.RV6();e.j41(0,"input",23),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG();return e.DH7(d.appointment[s.code],n)||(d.appointment[s.code]=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("id",a.appointment[t.code]),e.R50("ngModel",a.appointment[t.code])}}function pl(i,l){if(1&i&&(e.j41(0,"label",24),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,a=e.XpG();e.BMQ("for",a.appointment[t.code]),e.R7$(),e.JRh(t.desc)}}function ml(i,l){if(1&i&&(e.j41(0,"div",20),e.DNE(1,_l,1,2,"input",21)(2,pl,2,2,"label",22),e.k0s()),2&i){const t=l.$implicit;e.R7$(),e.Y8G("ngIf","REF"!==t.code),e.R7$(),e.Y8G("ngIf","REF"!==t.code)}}let ul=(()=>{class i{onSubmit(){if(console.log(this.appointmentForm),Object.keys(this.appointment).length>0){let t=[];Object.entries(this.appointment).forEach(([a,n],s)=>{!0===n&&t.push({appointment_code:a})}),this.appointmentForm.appointment=t,this.appointmentForm.patient_id=this.patient_info.id,this.saveAppointment()}else this.toastr.info("No appointment was selected"),this.is_saving=!1}saveAppointment(){console.log(this.appointmentForm),this.http.post("appointment/schedule",this.appointmentForm).subscribe({next:t=>{console.log(t.data),this.is_saving=!1,this.toastr.success("Successfully recorded!","Set appointment"),this.loadData.emit("appointment"),this.closeModal()},error:t=>console.log(t)})}loadLibraries(){this.http.get("libraries/appointment").subscribe({next:t=>this.appointment_types=t.data,error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("appointment-modal")}constructor(t,a,n){this.formBuilder=t,this.http=a,this.toastr=n,this.loadData=new e.bkB,this.toggleModal=new e.bkB,this.appointment_types=[],this.is_saving=!1,this.appointment={},this.min_date=(0,c.Yq)((new Date).setDate((new Date).getDate()+1),"yyyy-MM-dd","en","Asia/Manila"),this.appointmentForm={patient_id:null,appointment_date:null,appointment:[]}}ngOnChanges(t){console.log("test")}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(r.ok),e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-set-appointment"]],inputs:{patient_info:"patient_info"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:25,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"submit"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","flex-col","px-5","w-full"],[1,"w-full","text-sm","px-5","py-2","mt-2","flex","justify-center"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","appointment_date"],["name","appointment_date","id","appointment_date","type","date",1,"input","disabled:bg-gray-300",3,"ngModelChange","min","ngModel"],[1,"w-full","text-sm","grid","grid-cols-2","gap-3","px-5","py-2","mt-2"],[1,"col-span-2"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"col-span-1"],["type","checkbox","class","border border-slate-500 rounded mr-3",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","font-normal",4,"ngIf"],["type","checkbox",1,"border","border-slate-500","rounded","mr-3",3,"ngModelChange","id","ngModel"],[1,"font-normal"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Set Appointment "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return n.onSubmit()}),e.j41(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e.EFF(13,"Appoinment date"),e.k0s(),e.j41(14,"input",12),e.mxI("ngModelChange",function(d){return e.DH7(n.appointmentForm.appointment_date,d)||(n.appointmentForm.appointment_date=d),d}),e.k0s()()(),e.j41(15,"div",13)(16,"span",14),e.EFF(17,"Type of appointment"),e.k0s(),e.DNE(18,ml,3,2,"div",15),e.k0s()()()()(),e.j41(19,"div",16)(20,"button",17),e.bIt("click",function(){return n.closeModal()}),e.EFF(21,"Close"),e.k0s(),e.j41(22,"button",18),e.bIt("click",function(){return n.onSubmit()}),e.EFF(23),e.k0s()()()()(),e.nrm(24,"div",19)),2&a&&(e.R7$(14),e.Y8G("min",n.min_date),e.R50("ngModel",n.appointmentForm.appointment_date),e.R7$(4),e.Y8G("ngForOf",n.appointment_types),e.R7$(4),e.Y8G("disabled",n.is_saving),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.Sq,c.bT,r.qT,r.me,r.Zm,r.BC,r.cb,r.vS,r.cV],encapsulation:2})}}return i})();function hl(i,l){if(1&i&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function fl(i,l){if(1&i&&e.nrm(0,"fa-icon",26),2&i){const t=e.XpG();e.Y8G("icon",t.faSpinner)}}function gl(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr",27)(1,"td",28),e.EFF(2,"IRON SUPPLEMENT "),e.k0s(),e.j41(3,"th",28),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"th",28),e.EFF(7),e.k0s(),e.j41(8,"th",28)(9,"button",29),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.editSurgical(n))}),e.nrm(10,"fa-icon",30),e.k0s()()()}if(2&i){const t=l.$implicit,a=e.XpG();e.R7$(4),e.SpI(" ",e.brH(5,3,t.service_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",t.quantity," "),e.R7$(3),e.Y8G("icon",a.faPenToSquare)}}function vl(i,l){if(1&i&&(e.j41(0,"tr")(1,"td",31)(2,"div"),e.EFF(3," Loading list... "),e.k0s(),e.j41(4,"div"),e.nrm(5,"fa-icon",32),e.k0s()()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faCircleNotch)}}let bl=(()=>{class i{editSurgical(t){this.service={id:t.id,patient_id:t.patient_id,lib_service_id:t.lib_service.id,service_date:(0,c.Yq)(t.service_date,"yyyy-MM-dd","en"),quantity:t.quantity}}loadData(){this.loading_list=!0,this.http.get("patient-services/service",{params:{patient_id:this.patient_info.id,per_page:"all"}}).subscribe({next:t=>{this.service_list=t.data,this.loading_list=!1},error:t=>console.log(t)})}onSubmit(){let t;this.is_saving=!0,this.service.patient_id=this.patient_info.id,console.log(this.service),t=this.service.id?this.http.update("patient-services/service/",this.service.id,this.service):this.http.post("patient-services/service",this.service),t.subscribe({next:a=>{console.log(a),this.is_saving=!1,this.toastr.success("Successfully recorded!","Services"),this.resetField(),this.loadData()},error:a=>console.log(a)})}resetField(){this.service.id=null,this.service.lib_service_id=null,this.service.service_date=null,this.service.quantity=null}closeModal(){this.toggleModal.emit({modal_name:"services"})}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faSpinner=_.z1G,this.faPenToSquare=_.LFz,this.faCircleNotch=_.s4k,this.service_list=[],this.services_list=[{id:"IRON",desc:"IRON SUPPLEMENT"}],this.service={id:null,patient_id:null,lib_service_id:null,service_date:null,quantity:null},this.is_saving=!1,this.loading_list=!1}ngOnInit(){this.loadData()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(m.k),e.rXU(T.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-services-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:43,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-4","gap-4","w-full","text-left","py-2","px-10"],[1,"col-span-1"],["for","lib_service_id",1,"text-sm"],["name","lib_service_id",1,"input",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","service_date",1,"text-sm"],["name","service_date","type","date",1,"input",3,"ngModelChange","ngModel"],["for","quantity",1,"text-sm"],["name","quantity","type","number",1,"input",3,"ngModelChange","ngModel"],["type","button",1,"btn-save","w-full","mt-6","disabled:bg-gray-300",3,"click","disabled"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["animation","spin",1,"mr-2",3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],[3,"click"],[1,"text-orange-500",3,"icon"],["colspan","4",1,"text-center","text-xl"],["animation","spin",3,"icon"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Services History "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10,"Service"),e.k0s(),e.j41(11,"select",9),e.mxI("ngModelChange",function(d){return e.DH7(n.service.lib_service_id,d)||(n.service.lib_service_id=d),d}),e.DNE(12,hl,2,2,"option",10),e.k0s()(),e.j41(13,"div",7)(14,"label",11),e.EFF(15,"Service Date"),e.k0s(),e.j41(16,"input",12),e.mxI("ngModelChange",function(d){return e.DH7(n.service.service_date,d)||(n.service.service_date=d),d}),e.k0s()(),e.j41(17,"div",7)(18,"label",13),e.EFF(19,"Qty"),e.k0s(),e.j41(20,"input",14),e.mxI("ngModelChange",function(d){return e.DH7(n.service.quantity,d)||(n.service.quantity=d),d}),e.k0s()(),e.j41(21,"div",7)(22,"button",15),e.bIt("click",function(){return n.onSubmit()}),e.DNE(23,fl,1,1,"fa-icon",16),e.EFF(24),e.k0s()()(),e.j41(25,"table",17)(26,"thead",18)(27,"tr")(28,"th",19),e.EFF(29,"Service Rendered"),e.k0s(),e.j41(30,"th",19),e.EFF(31,"Service Date"),e.k0s(),e.j41(32,"th",19),e.EFF(33,"Qty"),e.k0s(),e.j41(34,"th",19),e.EFF(35,"Action"),e.k0s()()(),e.j41(36,"tbody"),e.DNE(37,gl,11,7,"tr",20)(38,vl,6,1,"tr",21),e.k0s()()(),e.j41(39,"div",22)(40,"button",23),e.bIt("click",function(){return n.closeModal()}),e.EFF(41,"Close"),e.k0s()()()()(),e.nrm(42,"div",24)),2&a&&(e.R7$(11),e.R50("ngModel",n.service.lib_service_id),e.R7$(),e.Y8G("ngForOf",n.services_list),e.R7$(4),e.R50("ngModel",n.service.service_date),e.R7$(4),e.R50("ngModel",n.service.quantity),e.R7$(2),e.Y8G("disabled",!n.service.lib_service_id||!n.service.service_date),e.R7$(),e.Y8G("ngIf",n.is_saving),e.R7$(),e.SpI(" ",n.is_saving?"Saving":n.service.id?"Update":"Save"," "),e.R7$(13),e.Y8G("ngForOf",n.service_list),e.R7$(),e.Y8G("ngIf",n.loading_list))},dependencies:[c.Sq,c.bT,b.aY,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.vS,c.vh],encapsulation:2})}}return i})();const yl=i=>({"text-rose-400":i});function kl(i,l){if(1&i&&e.nrm(0,"app-graph",60),2&i){const t=e.XpG();e.Y8G("patient_vitals",t.patient_vitals)("selected_consult_id",t.selected_consult_id)}}function xl(i,l){1&i&&e.nrm(0,"router-outlet")}function Fl(i,l){if(1&i&&(e.j41(0,"span",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.getInitials((null==t.patient_info?null:t.patient_info.first_name)+" "+(null==t.patient_info?null:t.patient_info.last_name)))}}function Cl(i,l){if(1&i&&e.nrm(0,"img",62),2&i){const t=e.XpG();e.Y8G("src",t.imageData,e.B4B)}}function Ml(i,l){1&i&&(e.j41(0,"span",16),e.EFF(1," (Adolescent) "),e.k0s())}function wl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-module-modal",63),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("module"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("user_facility",t.user_facility)("philhealth_details",t.philhealth_details)("patient_info",t.patient_info)("patient_age",t.patient_age)}}function jl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-lab-request",64),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("lab-request"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("lab_req_list",t.lab_req_list)("patient_info",t.patient_info)("consult_id",t.consult_id)}}function Il(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-history-modal",65),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("history"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("history_list",t.history_list)("past_medical",t.past_medical)}}function Rl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-fam-history-modal",66),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("history_list",t.history_list)("family_medical",t.family_medical)}}function Gl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-lifestyle-modal",67),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("social_history",t.social_history)}}function El(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-menstrual-modal",68),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("menstrual_history",t.menstrual_history)("fp_method",t.fp_method)}}function Tl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-preghist-modal",69),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("pregnancy_history",t.pregnancy_history)("delivery_method",t.delivery_method)}}function $l(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-vitals-modal",70),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("vitals"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_age",t.patient_age)("patient_info",t.patient_info)("vitals_to_edit",t.vitals_to_edit)}}function Dl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-vitals-list-modal",71),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("vitals-list"))})("vitalsEdit",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.vitalsEdit(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("user_facility",t.user_facility)("patient_info",t.patient_info)}}function Yl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-philhealth-modal",72),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("philhealth_to_edit",t.philhealth_to_edit)}}function Sl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-philhealth-list-modal",73),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("philhealth-list"))})("philhealthEdit",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.philhealthEdit(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)}}function Nl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-vaccine-modal",74),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("vaccine"))})("loadData",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.loadData(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)("vaccines_given",t.vaccines_given)}}function Vl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-vaccine-action-modal",75),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("vaccine_to_edit",t.vaccine_to_edit)}}function Pl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-services-modal",76),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("services"))})("loadData",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.loadData(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)}}function Xl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-surgical-modal",77),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)}}function Al(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-surgical-action-modal",78),e.bIt("toggleModal",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("surgery_to_delete",t.surgery_to_delete)}}function Bl(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-allergies-modal",79),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("allergies"))}),e.k0s()}}function Ol(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-medication-modal",79),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("medication"))}),e.k0s()}}function ql(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-death-modal",80),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("death"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("death_record",t.death_record)("patient_info",t.patient_info)}}function Ul(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-photo-modal",81),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("photo"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("imageData",t.imageData)("patient_info",t.patient_info)}}function Ll(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-set-appointment",76),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("appointment-modal"))})("loadData",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.loadData(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_info",t.patient_info)}}let Hl=(()=>{class i{reloadChild(t){switch(t){case"ncd":this.reloadNCDVitals.emit();break;case"lab":this.reloadLabs.emit()}}loadData(t){("past_medical"===t||"all"===t)&&this.pastMedical.loadData(this.patient_info.id),("family_medical"===t||"all"===t)&&this.familyMedical.loadData(this.patient_info.id),("vaccines"===t||"all"===t)&&this.vaccine.loadData(this.patient_info.id),("philhealth"===t||"all"===t)&&this.philhealth.loadData(this.patient_info.id),("services"===t||"all"===t)&&this.services.loadData(this.patient_info.id),"M"===this.patient_info.gender?this.show_female_history=!1:(this.show_female_history=!0,!0===this.show_female_history&&("menstrual_history"===t||"all"===t)&&this.menstrualHistory.loadData(this.patient_info.id),!0===this.show_female_history&&("pregnancy_history"===t||"all"===t)&&this.preghist.loadData(this.patient_info.id)),("social_history"===t||"all"===t)&&this.socialHistory.loadData(this.patient_info.id),("surgical_history"===t||"all"===t)&&"dn"!==this.active_loc&&this.surgicalHistory.loadData(this.patient_info.id),("vitals"===t||"all"===t)&&this.vitals.loadData(this.patient_info.id),("appointment"===t||"all"===t)&&this.appointment.loadData(this.patient_info.id),("laboratory"===t||"all"===t)&&"lab"!==this.active_loc&&this.laboratories.loadData(this.patient_info.id),("prescription"===t||"all"===t)&&"dispensing"!==this.active_loc&&this.prescriptions.loadData(this.patient_info.id),("death"===t||"all"===t)&&this.death.loadData(this.patient_info.id)}navigateTo(t){this.router.navigate(["/patient/"+t,{id:this.patient_info.id}])}editPatient(t){t&&this.router.navigate(["/edit-patient",{id:t}])}getPatient(t){this.active_loc_id=this.http.getUrlParams(),this.active_loc=this.active_loc_id.loc,this.consult_id=this.active_loc_id.consult_id??null,t||this.active_loc_id.patient_id&&this.patient_id!==this.active_loc_id.patient_id?(this.patient_id=this.active_loc_id.patient_id,this.http.get("patient/"+this.active_loc_id.patient_id).subscribe({next:a=>{this.patient_info=a.data,this.show_form=!0,this.http.setPatientInfo(this.patient_info),t||this.loadData("all"),this.accordions.vitals=!0,this.accordions.lab_request=!0,this.accordions.prescriptions=!0,this.accordions.appointment=!0,this.getImage(a.data)},error:a=>{console.log(a)}})):this.reloadData()}getImage(t){this.imageData=null,t.image_url&&this.http.get("images/"+t.id,{responseType:"blob"}).subscribe({next:a=>{const n=new FileReader;n.onloadend=()=>{this.imageData=this.sanitizer.bypassSecurityTrustUrl(n.result)},n.readAsDataURL(a)},error:a=>console.log(a)})}reloadData(){switch(this.active_loc){case"lab":this.loadData("prescription");break;case"dispensing":this.loadData("laboratory");break;default:this.loadData("laboratory"),this.loadData("prescription")}}setDetails(t){this[t.var_name]=t.data}setSurgicalHistory(t){this.surgical_history=t}setPastMedical(t){this.past_medical=t}setFamilyMedical(t){this.family_medical=t}setMenstrual(t){this.menstrual_history=t}setLabList(t){this.lab_req_list=t}setVaccineGiven(t){this.vaccines_given=t}setVitals(t){this.patient_vitals=t}vitalsEdit(t){this.vitals_to_edit=t,this.toggleModal("vitals")}philhealthEdit(t){this.philhealth_to_edit=t,this.toggleModal("philhealth")}toggleModal(t,a){"fam-history"===t||"history"===t?(this.history_list?this.modals[t]=!this.modals[t]:this.loadLibrary("libraries/medical-history","history_list",t),"history"===t&&!1===this.modals.history&&this.loadData("past_medical"),"fam-history"===t&&!1===this.modals["fam-history"]&&this.loadData("family_medical")):"surgical-history"===t.modal_name||"surgical-action"===t.modal_name?(this.modals[t.modal_name]=!this.modals[t.modal_name],"surgical-action"===t.modal_name&&!0===this.modals["surgical-action"]&&(this.surgery_to_delete=t.data),("surgical-history"===t.modal_name&&!1===this.modals["surgical-history"]||"surgical-action"===t.modal_name&&!1===this.modals["surgical-action"])&&(this.loadData("surgical_history"),this.surgery_to_delete=null)):"menstrual"===t?(this.fp_method?this.modals[t]=!this.modals[t]:this.loadLibrary("libraries/family-planning-method","fp_method","menstrual"),"menstrual"===t&&!1===this.modals.menstrual&&this.loadData("menstrual_history")):"preghist"===t?(this.delivery_method?this.modals[t]=!this.modals[t]:this.loadLibrary("libraries/pregnancy-delivery-type","delivery_method","preghist"),"preghist"===t&&!1===this.modals.preghist&&this.loadData("pregnancy_history")):(this.modals[t.modal_name??t]=!this.modals[t.modal_name??t],"vitals"===t&&!1===this.modals[t]&&(0==this.modals.vitals&&(this.vitals_to_edit=null),this.loadData("vitals")),"philhealth"===t.modal_name&&!1===this.modals[t.modal_name]&&(!1===this.modals.philhealth&&(this.philhealth_to_edit=null),this.loadData("philhealth")),"vaccine"===t.modal_name&&!0===this.modals[t.modal_name]&&(this.vaccines_given=t.data),"vaccine-action"===t.modal_name&&(!0===this.modals[t.modal_name]?this.vaccine_to_edit=t.data:this.loadData("vaccines")),"photo"===t&&!this.modals.photo&&this.getPatient(!0),"lifestyle"===t&&!1===this.modals.lifestyle&&this.loadData("social_history"),"lab-request"===t&&!1===this.modals[t]&&this.loadData("laboratory"),"death"===t&&!1===this.modals[t]&&this.loadData("death"),"services"===t&&!1===this.modals[t]&&this.loadData("services"))}toggleAccordion(t){this.accordions[t]=!this.accordions[t]}loadLibrary(t,a,n){this.http.get(t).subscribe({next:s=>{this[a]=s.data,this.modals[n]=!this.modals[n]},error:s=>console.log(s)})}getInitials(t){return[...t.matchAll(/\b\w/g)].join("")}getAge(){if(this.patient_info&&this.patient_info.birthdate){let t=this.ageService.calcuateAge(this.patient_info.birthdate);return this.patient_age=t,t.age+" "+t.type+(t.age>1?"s old":" old")}}setConsultId(){const t=this.http.getUrlParams().consult_id??null;this.selected_consult_id=t}constructor(t,a,n,s,d){this.router=t,this.http=a,this.ageService=n,this.sanitizer=s,this.route=d,this.reloadNCDVitals=new e.bkB,this.reloadLabs=new e.bkB,this.show_female_history=!0,this.no_graph_list=["lab","dispensing"],this.faNotesMedical=_.UPF,this.faFlask=_.rIc,this.faHeart=_.qcK,this.faExclamationCircle=_.tUE,this.faPenSquare=_.iUr,this.faClipboardUser=_.pkH,this.faCamera=_.rwq,this.faBuildingCircleArrowRight=_.PHx,this.show_form=!1,this.show_vitals=!1,this.lab_request=!1,this.accordions=[],this.modals=[],this.imageData=null,this.navigationEnd$=this.router.events.pipe((0,R.p)(y=>y instanceof o.wF),(0,M.M)(()=>{this.setConsultId(),this.getPatient()}))}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.getPatient(),this.setConsultId(),this.navigationEnd$.subscribe()}static{this.\u0275fac=function(a){return new(a||i)(e.rXU(o.Ix),e.rXU(m.k),e.rXU(li.V),e.rXU(si.up),e.rXU(o.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-patient-info"]],viewQuery:function(a,n){if(1&a&&(e.GBs(fe,5),e.GBs(z,5),e.GBs(xe,5),e.GBs(ge,5),e.GBs(p,5),e.GBs(be,5),e.GBs(ye,5),e.GBs(ke,5),e.GBs(K,5),e.GBs(Le,5),e.GBs(Fe,5),e.GBs(ve,5),e.GBs(Ce,5),e.GBs(Me,5),e.GBs(we,5)),2&a){let s;e.mGM(s=e.lsd())&&(n.pastMedical=s.first),e.mGM(s=e.lsd())&&(n.familyMedical=s.first),e.mGM(s=e.lsd())&&(n.vaccine=s.first),e.mGM(s=e.lsd())&&(n.philhealth=s.first),e.mGM(s=e.lsd())&&(n.laboratories=s.first),e.mGM(s=e.lsd())&&(n.prescriptions=s.first),e.mGM(s=e.lsd())&&(n.socialHistory=s.first),e.mGM(s=e.lsd())&&(n.surgicalHistory=s.first),e.mGM(s=e.lsd())&&(n.menstrualHistory=s.first),e.mGM(s=e.lsd())&&(n.pregnancyHistory=s.first),e.mGM(s=e.lsd())&&(n.vitals=s.first),e.mGM(s=e.lsd())&&(n.preghist=s.first),e.mGM(s=e.lsd())&&(n.appointment=s.first),e.mGM(s=e.lsd())&&(n.death=s.first),e.mGM(s=e.lsd())&&(n.services=s.first)}},standalone:!1,decls:81,vars:74,consts:[[1,"grid","grid-cols-11","mt-4","gap-4"],[1,"col-span-8"],[3,"patient_vitals","selected_consult_id",4,"ngIf"],[4,"ngIf"],[1,"col-span-3"],[1,"rounded-xl","text-gray-600","border","border-slate-100"],[1,"block","m-0","relative","p-0","scrollbar-thumb-white","hover:scrollbar-thumb-blue-300","scrollbar-track-white"],[1,"flex","sticky","top-0","bg-white","rounded-lg","border-2","border-gray-400","shadow-md","p-2"],[1,"mr-2"],[1,"group","cursor-pointer","inline-flex","overflow-hidden","relative","justify-center","items-center","w-24","h-24","bg-gray-100","rounded-full","hover:bg-gray-700","hover:opacity-50",3,"click"],["class","font-medium text-gray-600 opacity-100 group-hover:opacity-50",4,"ngIf"],["class","scale-[1.4]","alt","Profile Image",3,"src",4,"ngIf"],[1,"absolute","text-white","opacity-0","group-hover:opacity-100"],["size","xl",3,"icon"],[1,"m-1","leading-tight"],[1,"block","text-sm","text-blue-500","font-medium"],[1,"block","text-xs"],["class","block text-xs",4,"ngIf"],[1,"flex","mb-0","justify-between"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-blue-500","mr-2",3,"click","icon"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"click","icon","ngClass"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"click","icon"],["size","lg",1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-amber-500","mr-2",3,"click","icon"],[1,"block","mx-5","pb-5","border-b","border-gray-200"],[1,"mt-4","flex","justify-center"],["type","button",1,"w-48","h-10","inline-flex","mr-2","justify-center","px-5","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-sky-500","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-sky-500",3,"click"],[3,"toggleAccordion","toggleModal","setDetails","accordions"],[1,"mt-4","leading-tight"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"block","text-xs","pl-3"],[3,"setDetails","toggleAccordion","toggleModal","accordions"],[3,"toggleAccordion","toggleModal","accordions"],[3,"toggleAccordion","navigateTo","accordions","consult_id","patient_info"],[3,"toggleAccordion","navigateTo","toggleModal","setLabList","accordions"],[3,"toggleAccordion","toggleModal","setVitals","accordions"],[3,"toggleAccordion","toggleModal","setVaccineGiven","accordions"],[3,"toggleAccordion","toggleModal","setPastMedical","accordions"],[3,"toggleAccordion","toggleModal","setMenstrual","accordions"],[3,"toggleAccordion","toggleModal","setFamilyMedical","accordions"],[3,"toggleAccordion","toggleModal","setSurgicalHistory","accordions"],[3,"user_facility","philhealth_details","patient_info","patient_age","toggleModal",4,"ngIf"],[3,"lab_req_list","patient_info","consult_id","toggleModal",4,"ngIf"],[3,"patient_info","history_list","past_medical","toggleModal",4,"ngIf"],[3,"patient_info","history_list","family_medical","toggleModal",4,"ngIf"],[3,"patient_info","social_history","toggleModal",4,"ngIf"],[3,"patient_info","menstrual_history","fp_method","toggleModal",4,"ngIf"],[3,"patient_info","pregnancy_history","delivery_method","toggleModal",4,"ngIf"],[3,"patient_age","patient_info","vitals_to_edit","toggleModal",4,"ngIf"],[3,"user_facility","patient_info","toggleModal","vitalsEdit",4,"ngIf"],[3,"patient_info","philhealth_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","philhealthEdit",4,"ngIf"],[3,"patient_info","vaccines_given","toggleModal","loadData",4,"ngIf"],[3,"vaccine_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","loadData",4,"ngIf"],[3,"patient_info","toggleModal",4,"ngIf"],[3,"surgery_to_delete","toggleModal",4,"ngIf"],[3,"toggleModal",4,"ngIf"],[3,"death_record","patient_info","toggleModal",4,"ngIf"],[3,"imageData","patient_info","toggleModal",4,"ngIf"],[3,"patient_vitals","selected_consult_id"],[1,"font-medium","text-gray-600","opacity-100","group-hover:opacity-50"],["alt","Profile Image",1,"scale-[1.4]",3,"src"],[3,"toggleModal","user_facility","philhealth_details","patient_info","patient_age"],[3,"toggleModal","lab_req_list","patient_info","consult_id"],[3,"toggleModal","patient_info","history_list","past_medical"],[3,"toggleModal","patient_info","history_list","family_medical"],[3,"toggleModal","patient_info","social_history"],[3,"toggleModal","patient_info","menstrual_history","fp_method"],[3,"toggleModal","patient_info","pregnancy_history","delivery_method"],[3,"toggleModal","patient_age","patient_info","vitals_to_edit"],[3,"toggleModal","vitalsEdit","user_facility","patient_info"],[3,"toggleModal","patient_info","philhealth_to_edit"],[3,"toggleModal","philhealthEdit","patient_info"],[3,"toggleModal","loadData","patient_info","vaccines_given"],[3,"toggleModal","vaccine_to_edit"],[3,"toggleModal","loadData","patient_info"],[3,"toggleModal","patient_info"],[3,"toggleModal","surgery_to_delete"],[3,"toggleModal"],[3,"toggleModal","death_record","patient_info"],[3,"toggleModal","imageData","patient_info"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,kl,1,2,"app-graph",2)(3,xl,1,0,"router-outlet",3),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),e.bIt("click",function(){return n.toggleModal("photo")}),e.DNE(10,Fl,2,1,"span",10)(11,Cl,1,1,"img",11),e.j41(12,"span",12),e.nrm(13,"fa-icon",13),e.k0s()()(),e.j41(14,"div",14)(15,"span",15),e.EFF(16),e.k0s(),e.j41(17,"span",16),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.DNE(20,Ml,2,0,"span",17),e.j41(21,"div",18)(22,"div")(23,"fa-icon",19),e.bIt("click",function(){return n.navigateTo("itr")}),e.k0s(),e.j41(24,"fa-icon",20),e.bIt("click",function(){return n.toggleModal("vitals-list")}),e.k0s(),e.j41(25,"fa-icon",21),e.bIt("click",function(){return n.navigateTo("lab")}),e.k0s(),e.nrm(26,"fa-icon",22)(27,"fa-icon",22),e.j41(28,"fa-icon",23),e.bIt("click",function(){return n.editPatient(null==n.patient_info?null:n.patient_info.id)}),e.k0s()()()()(),e.j41(29,"div",24)(30,"div",25)(31,"button",26),e.bIt("click",function(){return n.toggleModal("module")}),e.EFF(32," Navigate Programs "),e.k0s(),e.nrm(33,"app-referral"),e.k0s(),e.j41(34,"app-death-record",27),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setDetails",function(d){return n.setDetails(d)}),e.k0s(),e.j41(35,"div",28)(36,"span",29),e.EFF(37," ADDRESS "),e.k0s(),e.j41(38,"span",30),e.EFF(39),e.nrm(40,"br"),e.EFF(41),e.k0s()(),e.j41(42,"div",28)(43,"span",29),e.EFF(44," CONTACT NUMBER "),e.k0s(),e.j41(45,"span",30),e.EFF(46),e.k0s()(),e.j41(47,"app-philhealth",31),e.bIt("setDetails",function(d){return n.setDetails(d)})("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)}),e.k0s()(),e.j41(48,"app-appointment",32),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)}),e.k0s(),e.j41(49,"app-prescriptions",33),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("navigateTo",function(d){return n.navigateTo(d)}),e.k0s(),e.j41(50,"app-laboratory",34),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("navigateTo",function(d){return n.navigateTo(d)})("toggleModal",function(d){return n.toggleModal(d)})("setLabList",function(d){return n.setLabList(d)}),e.k0s(),e.j41(51,"app-vitals",35),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setVitals",function(d){return n.setVitals(d)}),e.k0s(),e.j41(52,"app-vaccine",36),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setVaccineGiven",function(d){return n.setVaccineGiven(d)}),e.k0s(),e.j41(53,"app-services",36),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setVaccineGiven",function(d){return n.setVaccineGiven(d)}),e.k0s(),e.j41(54,"app-past-medical",37),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setPastMedical",function(d){return n.setPastMedical(d)}),e.k0s(),e.j41(55,"app-menstrual-history",38),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setMenstrual",function(d){return n.setMenstrual(d)}),e.k0s(),e.j41(56,"app-preghist",27),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setDetails",function(d){return n.setDetails(d)}),e.k0s(),e.j41(57,"app-family-medical",39),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setFamilyMedical",function(d){return n.setFamilyMedical(d)}),e.k0s(),e.j41(58,"app-social-history",27),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setDetails",function(d){return n.setDetails(d)}),e.k0s(),e.j41(59,"app-surgical-history",40),e.bIt("toggleAccordion",function(d){return n.toggleAccordion(d)})("toggleModal",function(d){return n.toggleModal(d)})("setSurgicalHistory",function(d){return n.setSurgicalHistory(d)}),e.k0s()()()()(),e.DNE(60,wl,1,4,"app-module-modal",41)(61,jl,1,3,"app-lab-request",42)(62,Il,1,3,"app-history-modal",43)(63,Rl,1,3,"app-fam-history-modal",44)(64,Gl,1,2,"app-lifestyle-modal",45)(65,El,1,3,"app-menstrual-modal",46)(66,Tl,1,3,"app-preghist-modal",47)(67,$l,1,3,"app-vitals-modal",48)(68,Dl,1,2,"app-vitals-list-modal",49)(69,Yl,1,2,"app-philhealth-modal",50)(70,Sl,1,1,"app-philhealth-list-modal",51)(71,Nl,1,2,"app-vaccine-modal",52)(72,Vl,1,1,"app-vaccine-action-modal",53)(73,Pl,1,1,"app-services-modal",54)(74,Xl,1,1,"app-surgical-modal",55)(75,Al,1,1,"app-surgical-action-modal",56)(76,Bl,1,0,"app-allergies-modal",57)(77,Ol,1,0,"app-medication-modal",57)(78,ql,1,2,"app-death-modal",58)(79,Ul,1,2,"app-photo-modal",59)(80,Ll,1,1,"app-set-appointment",54)),2&a&&(e.R7$(2),e.Y8G("ngIf",-1===n.no_graph_list.indexOf(n.active_loc)),e.R7$(),e.Y8G("ngIf",n.show_form),e.R7$(7),e.Y8G("ngIf",!n.imageData),e.R7$(),e.Y8G("ngIf",n.imageData),e.R7$(2),e.Y8G("icon",n.faCamera),e.R7$(3),e.LHq(" ",null==n.patient_info?null:n.patient_info.last_name,", ",null==n.patient_info?null:n.patient_info.first_name," ",null==n.patient_info?null:n.patient_info.middle_name," ","NA"===(null==n.patient_info?null:n.patient_info.suffix_name)?"":null==n.patient_info?null:n.patient_info.suffix_name," "),e.R7$(2),e.LHq(" ",e.brH(19,68,null==n.patient_info?null:n.patient_info.birthdate,"MM/dd/yyyy","Asia/Manila")," [",n.getAge(),"][",null==n.patient_info?null:n.patient_info.gender,"]",null!=n.patient_info&&n.patient_info.gender_identity?"["+n.patient_info.gender_identity.desc+"]":""," "),e.R7$(2),e.Y8G("ngIf","year"===(null==n.patient_age?null:n.patient_age.type)&&(null==n.patient_age?null:n.patient_age.age)>=10&&(null==n.patient_age?null:n.patient_age.age)<26),e.R7$(3),e.Y8G("icon",n.faClipboardUser),e.R7$(),e.Y8G("icon",n.faHeart)("ngClass",e.eq3(72,yl,n.latest_vitals)),e.R7$(),e.Y8G("icon",n.faFlask),e.R7$(),e.Y8G("icon",n.faNotesMedical),e.R7$(),e.Y8G("icon",n.faExclamationCircle),e.R7$(),e.Y8G("icon",n.faPenSquare),e.R7$(6),e.Y8G("accordions",n.accordions),e.R7$(5),e.LHq(" ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.address?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.address)+", ":"-"," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.name?"Brgy. "+(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.name)+", ":""," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.municipality.name?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.municipality.name)+", ":""," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.province.name?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.province.name)+", ":""," "),e.R7$(2),e.SpI(" ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.region.name?null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.region.name:""," "),e.R7$(5),e.SpI(" ",null==n.patient_info?null:n.patient_info.mobile_number," "),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions)("consult_id",n.consult_id)("patient_info",n.patient_info),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.HbH(n.show_female_history?"visible":"hidden"),e.Y8G("accordions",n.accordions),e.R7$(),e.HbH(n.show_female_history?"visible":"hidden"),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("accordions",n.accordions),e.R7$(),e.Y8G("ngIf",n.modals.module),e.R7$(),e.Y8G("ngIf",n.modals["lab-request"]),e.R7$(),e.Y8G("ngIf",n.modals.history),e.R7$(),e.Y8G("ngIf",n.modals["fam-history"]),e.R7$(),e.Y8G("ngIf",n.modals.lifestyle),e.R7$(),e.Y8G("ngIf",n.modals.menstrual),e.R7$(),e.Y8G("ngIf",n.modals.preghist),e.R7$(),e.Y8G("ngIf",n.modals.vitals),e.R7$(),e.Y8G("ngIf",n.modals["vitals-list"]),e.R7$(),e.Y8G("ngIf",n.modals.philhealth),e.R7$(),e.Y8G("ngIf",n.modals["philhealth-list"]),e.R7$(),e.Y8G("ngIf",n.modals.vaccine),e.R7$(),e.Y8G("ngIf",n.modals["vaccine-action"]),e.R7$(),e.Y8G("ngIf",n.modals.services),e.R7$(),e.Y8G("ngIf",n.modals["surgical-history"]),e.R7$(),e.Y8G("ngIf",n.modals["surgical-action"]),e.R7$(),e.Y8G("ngIf",n.modals.allergies),e.R7$(),e.Y8G("ngIf",n.modals.medication),e.R7$(),e.Y8G("ngIf",n.modals.death),e.R7$(),e.Y8G("ngIf",n.modals.photo),e.R7$(),e.Y8G("ngIf",n.modals["appointment-modal"]))},dependencies:[c.YU,c.bT,o.n3,b.aY,ri.m,di.v,Zi,_n,xn,Fn,Mn,jn,Dn,Sn,Vn,On,ra,Vo,Bo,Jo,be,fe,z,xe,Fe,ge,p,ye,Me,ke,K,Qo,el,tl,rl,ve,cl,Ce,ul,we,bl,c.vh],encapsulation:2})}}return i})()},41:(J,X,u)=>{u.d(X,{V:()=>o});var e=u(4438);let o=(()=>{class _{constructor(){}calcuateAge(M,m){let c,v,b=new Date(M);v=m?new Date(m):Date.now();let Y=Math.abs(v-b.getTime()),S=+(Math.round(parseFloat(Y/864e5/365.25+"e2"))+"e-2");if(S<1){let G=Math.floor(Y/864e5/30);c=G<1?{age:Math.floor(Y/864e5),type:"day"}:{age:G,type:"month"}}else c={age:S,type:"year"};return c}static{this.\u0275fac=function(m){return new(m||_)}}static{this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},1757:(J,X,u)=>{u.d(X,{F:()=>_});var e=u(177),o=u(4438);let _=(()=>{class R{dateFormat(m){try{return(0,e.Yq)(m,"yyyy-MM-dd","en","Asia/Manila")}catch{return"Date is not valid"}}timeFormatAmPm(m){try{return(0,e.Yq)(m,"hh:mma","en","Asia/Manila")}catch{return"Date is not valid"}}timeFormat(m){try{return(0,e.Yq)(m,"HH:mm:ss","en","Asia/Manila")}catch{return"Date is not valid"}}getLabelValue(m,c){const b=new Date(m.value.start_date),v=new Date(m.value.end_date),Y=b.getFullYear(),S=v.getFullYear();if((!m.value.start_date||!m.value.end_date)&&m.value.month&&m.value.year){const f=m.value.month-1,A=m.value.year,B=new Date(A,f,1),L=new Date(A,f+1,0);m.value.start_date=B,m.value.end_date=L}let G={labelType:null,labelDate:(0,e.Yq)(m.value.start_date,"MMM dd, yyyy","en","Asia/Manila")+" to "+(0,e.Yq)(m.value.end_date,"MMM dd, yyyy","en","Asia/Manila"),labelYear:Y===S?Y:Y+" to "+S,labelPopulation:this.getPop(c,S)};if(1===b.getDate()&&this.isLastDayOfMonth(v)&&Y===S){const f=b.getMonth()+1,A=v.getMonth()+1;if(G.labelYear=Y,f===A)G.labelType="M1",G.labelDate=(0,e.Yq)(b,"MMMM","en","Asia/Manila");else switch(f+"-"+A){case"1-3":G.labelType="Q1",G.labelDate="1st Quarter";break;case"4-6":G.labelType="Q1",G.labelDate="2nd Quarter";break;case"7-9":G.labelType="Q1",G.labelDate="3rd Quarter";break;case"10-12":G.labelType="Q1",G.labelDate="4th Quarter";break;case"1-12":G.labelType="A1",G.labelDate="January to December"}}return G}isLastDayOfMonth(m){return 1===new Date(m.getFullYear(),m.getMonth(),m.getDate()+1).getDate()}getPop(m,c){return m.projected_population[0]&&+m.projected_population[0].year===c?m.projected_population[0].total_population??"-":"-"}static{this.\u0275fac=function(c){return new(c||R)}}static{this.\u0275prov=o.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},1196:(J,X,u)=>{u.d(X,{j:()=>o});var e=u(4438);let o=(()=>{class _{getVisitType(M){switch(M){case"ab":return"Animal Bite";case"at":return"Adolescent";case"cc":return"Child Care";case"cn":return"Consultation";case"cv":return"COVID-19";case"dn":return"Dental";case"fp":return"Family Planning";case"lp":return"Leprosy";case"mc":return"Maternal Care";case"mh":return"Mental Health";case"ml":return"Malaria";case"ncd":return"Non Communicable Disease";case"tb":return"TB Dots";case"gbv":return"Gender Based Violence"}}getURL(M){switch(M){case"CBC":return"laboratory/consult-laboratory-cbc";case"CRTN":return"laboratory/consult-laboratory-creatinine";case"CXRAY":return"laboratory/consult-laboratory-chestxray";case"ECG":return"laboratory/consult-laboratory-ecg";case"FBS":return"laboratory/consult-laboratory-fbs";case"RBS":return"laboratory/consult-laboratory-rbs";case"HBA":return"laboratory/consult-laboratory-hba1c";case"PSMR":return"laboratory/consult-laboratory-papsmear";case"PPD":return"laboratory/consult-laboratory-ppd";case"SPTM":return"laboratory/consult-laboratory-sputum";case"FCAL":return"laboratory/consult-laboratory-fecalysis";case"LPFL":return"laboratory/consult-laboratory-lipid-profile";case"URN":return"laboratory/consult-laboratory-urinalysis";case"OGTT":return"laboratory/consult-laboratory-oral-glucose";case"FOBT":return"laboratory/consult-laboratory-fecal-occult";case"GRMS":return"laboratory/consult-laboratory-gram-stain";case"MCRP":return"laboratory/consult-laboratory-microscopy";case"BCHM":return"laboratory/consult-laboratory-blood-chemistry";case"BPSY":return"laboratory/consult-laboratory-biopsy";case"USND":return"laboratory/consult-laboratory-ultrasound";case"SYPH":return"laboratory/consult-laboratory-syphilis";case"HEMA":return"laboratory/consult-laboratory-hematology";case"RDT":return"laboratory/consult-laboratory-dengue";case"MRDT":return"laboratory/consult-laboratory-malaria";case"WETS":return"laboratory/consult-laboratory-wet-smear";case"SRLG":return"laboratory/consult-laboratory-serology";case"KOH":return"laboratory/consult-laboratory-potassium";case"SSMR":return"laboratory/consult-laboratory-skin-slit";case"GXPT":return"laboratory/consult-laboratory-geneXpert";case"CCS":return"laboratory/consult-laboratory-cervical-cancer";default:return""}}constructor(){}static{this.\u0275fac=function(m){return new(m||_)}}static{this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},5797:(J,X,u)=>{u.d(X,{I:()=>R});var e=u(177),o=u(4438),_=u(1757);let R=(()=>{class M{constructor(c){this.dateHelper=c}getLatestToday(c,b){let v=c[0];return Object.entries(c).reverse().forEach(([Y,S],G)=>{let f=S;!v.patient_height&&f.patient_height&&(v.patient_height=f.patient_height),!v.patient_weight&&f.patient_weight&&(v.patient_weight=f.patient_weight),!v.patient_right_vision_acuity&&f.patient_right_vision_acuity&&(v.patient_right_vision_acuity=f.patient_right_vision_acuity),!v.patient_left_vision_acuity&&f.patient_left_vision_acuity&&(v.patient_left_vision_acuity=f.patient_left_vision_acuity);let B,A=this.dateHelper.dateFormat(f.vitals_date);B=(0,e.Yq)(b||new Date,"yyyy-MM-dd","en","Asia/Manila"),A===B?(f.bp_systolic&&(v.bp_systolic=f.bp_systolic,v.bp_diastolic=f.bp_diastolic,v.bp_color=this.getChartColor(v)),null!==f.patient_spo2&&(v.patient_spo2=f.patient_spo2),f.patient_temp&&(v.patient_temp=f.patient_temp),f.patient_heart_rate&&(v.patient_heart_rate=f.patient_heart_rate),f.patient_respiratory_rate&&(v.patient_respiratory_rate=f.patient_respiratory_rate),f.patient_pulse_rate&&(v.patient_pulse_rate=f.patient_pulse_rate),f.patient_head_circumference&&(v.patient_head_circumference=f.patient_head_circumference),f.patient_muac&&(v.patient_muac=f.patient_muac),f.patient_chest&&(v.patient_chest=f.patient_chest),f.patient_abdomen&&(v.patient_abdomen=f.patient_abdomen),f.patient_waist&&(v.patient_waist=f.patient_waist),f.patient_hip&&(v.patient_hip=f.patient_hip),f.patient_limbs&&(v.patient_limbs=f.patient_limbs),f.patient_skinfold_thickness&&(v.patient_skinfold_thickness=f.patient_skinfold_thickness)):f.bp_systolic&&(v.bp_color=this.getChartColor(v))}),v&&(v.oxygen_color=this.getBloodOxygenColor(v),v.temp_color=this.getTempColor(v)),v}getChartColor(c){return c.bp_systolic?c.bp_systolic>=140||c.bp_diastolic>=90?"text-red-500 font-semibold":c.bp_systolic>=121&&c.bp_systolic<=139||c.bp_diastolic>=81&&c.bp_diastolic<=89?"text-yellow-500 font-semibold":c.bp_systolic>=90&&c.bp_systolic<=120||c.bp_diastolic>=60&&c.bp_diastolic<=80?"text-green-500 font-semibold":void 0:"text-gray-800"}getBloodOxygenColor(c){return c.patient_spo2?c.patient_spo2>=95&&c.patient_spo2<=100?"text-green-500 font-semibold":c.patient_spo2>=90&&c.patient_spo2<=94?"text-yellow-500 font-semibold":c.patient_spo2<90?"text-red-500 font-semibold":void 0:"text-gray-800"}getTempColor(c){return c.patient_temp?c.patient_temp>37.5?"text-red-500 font-semibold":void 0:"text-gray-800"}static{this.\u0275fac=function(b){return new(b||M)(o.KVO(_.F))}}static{this.\u0275prov=o.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},9028:(J,X,u)=>{u.d(X,{v:()=>I});var e=u(177),o=u(4438),_=u(9417),R=u(60),M=u(5383),m=u(7468),c=u(3318),b=u(5794);function v(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.code),o.R7$(),o.JRh(p.name)}}function Y(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.code),o.R7$(),o.JRh(p.name)}}function S(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.code),o.R7$(),o.JRh(p.name)}}function G(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.code),o.R7$(),o.Lme("",p.facility_name," (",p.health_facility_type,")")}}function f(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.id),o.R7$(),o.JRh(p.desc)}}function A(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.code),o.R7$(),o.JRh(p.desc)}}function B(h,E){1&h&&(o.j41(0,"div",28)(1,"label",41),o.EFF(2,"Reason Remarks"),o.k0s(),o.nrm(3,"input",42),o.k0s())}function L(h,E){if(1&h&&(o.j41(0,"option",40),o.EFF(1),o.k0s()),2&h){const p=E.$implicit;o.Y8G("value",p.id),o.R7$(),o.JRh(p.desc)}}function z(h,E){if(1&h&&(o.j41(0,"div",28)(1,"label",43),o.EFF(2,"Reason for Uncoordinated Referral"),o.k0s(),o.j41(3,"select",44)(4,"option",22),o.EFF(5,"- Choose Reason -"),o.k0s(),o.DNE(6,L,2,2,"option",23),o.k0s()()),2&h){const p=o.XpG(2);o.R7$(6),o.Y8G("ngForOf",p.uncoordinated_list)}}function F(h,E){1&h&&(o.j41(0,"div",28)(1,"label",45),o.EFF(2,"Uncoordinated Remarks"),o.k0s(),o.nrm(3,"input",46),o.k0s())}function N(h,E){if(1&h){const p=o.RV6();o.j41(0,"form",13),o.bIt("submit",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.onSubmit())}),o.j41(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"label",18),o.EFF(6,"Appointment Date"),o.k0s(),o.nrm(7,"input",19),o.k0s()(),o.j41(8,"div",17)(9,"label",20),o.EFF(10,"Region"),o.k0s(),o.j41(11,"select",21),o.bIt("change",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.loadDemog("regions",x.referralForm.value.region,"provinces"))}),o.j41(12,"option",22),o.EFF(13,"- Choose Region -"),o.k0s(),o.DNE(14,v,2,2,"option",23),o.k0s()(),o.j41(15,"div",17)(16,"label",24),o.EFF(17,"Province"),o.k0s(),o.j41(18,"select",25),o.bIt("change",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.loadDemog("provinces",x.referralForm.value.province,"municipalities"))}),o.j41(19,"option",22),o.EFF(20,"- Choose Province -"),o.k0s(),o.DNE(21,Y,2,2,"option",23),o.k0s()(),o.j41(22,"div",17)(23,"label",26),o.EFF(24,"Municipality"),o.k0s(),o.j41(25,"select",27),o.bIt("change",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.loadFacilities(x.referralForm.value.municipality))}),o.j41(26,"option",22),o.EFF(27,"- Choose Municipality/City -"),o.k0s(),o.DNE(28,S,2,2,"option",23),o.k0s()(),o.j41(29,"div",28)(30,"label",29),o.EFF(31,"Refer to"),o.k0s(),o.j41(32,"select",30)(33,"option",22),o.EFF(34,"- Choose Facility -"),o.k0s(),o.DNE(35,G,2,3,"option",23),o.k0s()(),o.j41(36,"div",31)(37,"div")(38,"label",32),o.EFF(39,"Referral Reason"),o.k0s(),o.j41(40,"select",33)(41,"option",22),o.EFF(42,"- Choose Reason -"),o.k0s(),o.DNE(43,f,2,2,"option",23),o.k0s()(),o.j41(44,"div")(45,"label",34),o.EFF(46,"Referral Category"),o.k0s(),o.j41(47,"select",35)(48,"option",22),o.EFF(49,"- Choose Category -"),o.k0s(),o.DNE(50,A,2,2,"option",23),o.k0s()()(),o.DNE(51,B,4,0,"div",36),o.j41(52,"div",37),o.nrm(53,"input",38),o.j41(54,"label",39),o.EFF(55,"Uncoordinated Referral"),o.k0s()(),o.DNE(56,z,7,1,"div",36)(57,F,4,0,"div",36),o.k0s()()()}if(2&h){const p=o.XpG();o.Y8G("formGroup",p.referralForm),o.R7$(7),o.Y8G("min",p.max_date),o.R7$(7),o.Y8G("ngForOf",p.regions),o.R7$(7),o.Y8G("ngForOf",p.provinces),o.R7$(7),o.Y8G("ngForOf",p.municipalities),o.R7$(7),o.Y8G("ngForOf",p.facilities),o.R7$(8),o.Y8G("ngForOf",p.reason_list),o.R7$(7),o.Y8G("ngForOf",p.category_list),o.R7$(),o.Y8G("ngIf","99"===p.referralForm.value.referral_reason_id),o.R7$(5),o.Y8G("ngIf",p.referralForm.value.uncoordinated_flag),o.R7$(),o.Y8G("ngIf","99"===p.referralForm.value.referral_uncoordinated_id)}}function g(h,E){if(1&h&&(o.j41(0,"div",47),o.nrm(1,"fa-icon",48),o.j41(2,"span",49),o.EFF(3,"Loading libraries..."),o.k0s()()),2&h){const p=o.XpG();o.R7$(),o.Y8G("icon",p.faCircleNotch)}}let j=(()=>{class h{get f(){return this.referralForm.controls}loadFacilities(p){"0"!==p?(this.f.referral_facility_code.enable(),this.http.get("libraries/facilities",{params:{"filter[municipality_code]":p,per_page:"all"}}).subscribe({next:k=>{this.facilities=k.data},error:k=>console.log(k)})):(this.facilities=null,this.referralForm.patchValue({facility_code:"0"}),this.f.referral_facility_code.disable())}loadDemog(p,k,x){k&&"0"!==k?this.http.get("libraries/"+p+"/"+k,{params:{include:x}}).subscribe({next:O=>{this[x]=O.data[x],this.disaledSelection(p,k)},error:O=>console.log(O)}):this.disaledSelection(p,k)}disaledSelection(p,k){"regions"==p?(this.municipalities=null,this.facilities=null,this.f.municipality.disable(),this.f.referral_facility_code.disable(),"0"===k?this.f.province.disable():this.f.province.enable()):"provinces"==p?(this.facilities=null,this.f.referral_facility_code.disable(),"0"===k?this.f.municipality.disable():this.f.municipality.enable()):(this.f.province.disable(),this.f.municipality.disable(),this.f.referral_facility_code.disable())}loadLibraries(){this.show_form=!1;const p=this.http.get("libraries/regions"),k=this.http.get("libraries/referral-category"),x=this.http.get("libraries/referral-reason"),O=this.http.get("libraries/referral-refusal"),se=this.http.get("libraries/referral-uncoordinated");(0,m.p)([p,k,x,O,se]).subscribe({next:([Q,re,K,de,ce])=>{this.regions=Q.data,this.category_list=re.data,this.reason_list=K.data,this.refusal_list=de.data,this.uncoordinated_list=ce.data,this.createForm(),this.show_form=!0},error:Q=>console.log(Q)})}createForm(){this.referralForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_id],consult_id:[this.consult_id],appointment_date:[null,_.k0.required],appointment_code:["REF"],referral_facility_code:[null,_.k0.required],region:[null],province:[null],municipality:[null],referral_reason_id:[null,_.k0.required],referral_category_id:[null,_.k0.required],referral_reason:[null],uncoordinated_flag:[!1],referral_uncoordinated_id:[null],uncoordinated_others:[null]}),this.loadDemog()}onSubmit(){this.is_saving=!0,this.http.post("appointment/schedule",{appointment:[{appointment_code:this.referralForm.value.appointment_code}],patient_id:this.referralForm.value.patient_id,consult_id:this.referralForm.value.consult_id,appointment_date:this.referralForm.value.appointment_date,referral_facility_code:this.referralForm.value.referral_facility_code,referral_reason_id:this.referralForm.value.referral_reason_id,referral_category_id:this.referralForm.value.referral_category_id,referral_reason:this.referralForm.value.referral_reason,referral_uncoordinated_id:this.referralForm.value.referral_uncoordinated_id,uncoordinated_others:this.referralForm.value.uncoordinated_others}).subscribe({next:k=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Set appointment"),this.loadData.emit("appointment"),this.closeModal()},error:k=>console.log(k)})}closeModal(){this.toggleModal.emit("referral-modal")}constructor(p,k,x){this.formBuilder=p,this.http=k,this.toastr=x,this.loadData=new o.bkB,this.toggleModal=new o.bkB,this.faCircleNotch=M.s4k,this.max_date=(0,e.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.referralForm=new _.gE({patient_id:new _.MJ(""),consult_id:new _.MJ(""),appointment_date:new _.MJ(""),appointment_code:new _.MJ(""),referral_facility_code:new _.MJ(""),region:new _.MJ(""),province:new _.MJ(""),municipality:new _.MJ(""),referral_reason:new _.MJ(""),referral_category_id:new _.MJ(""),referral_reason_id:new _.MJ(""),uncoordinated_flag:new _.MJ(!1),referral_uncoordinated_id:new _.MJ(""),uncoordinated_others:new _.MJ("")}),this.show_form=!1}ngOnInit(){this.consult_id=this.http.getUrlParams().consult_id,this.patient_id=this.http.getUrlParams().patient_id,this.program_code=this.http.getUrlParams().loc,this.loadLibraries()}ngOnChanges(p){this.consult_id=this.http.getUrlParams().consult_id,this.patient_id=this.http.getUrlParams().patient_id,this.program_code=this.http.getUrlParams().loc}static{this.\u0275fac=function(k){return new(k||h)(o.rXU(_.ok),o.rXU(c.k),o.rXU(b.tw))}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["app-referral-form"]],outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[o.OA$],decls:16,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full max-w-3xl text-left text-gray-500 dark:text-gray-400",3,"formGroup","submit",4,"ngIf"],[1,"flex","justify-center","items-center"],["class","flex justify-center items-center space-x-2 py-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"submit","formGroup"],[1,"p-5"],[1,"grid","grid-cols-9","gap-x-4","gap-y-2"],[1,"col-span-9","grid","grid-cols-9","gap-x-4","gap-y-2"],[1,"col-span-3"],["for","appointment_date"],["type","date","name","appointment_date","id","appointment_date","formControlName","appointment_date",1,"input",3,"min"],["for","region",1,"input-label"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","province",1,"input-label"],["id","province","name","province","formControlName","province",1,"first:italic","input","disabled:bg-gray-300",3,"change"],["for","municipality",1,"input-label"],["id","municipality","name","municipality","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"change"],[1,"col-span-9"],["for","referral_facility_code",1,"input-label"],["id","referral_facility_code","name","referral_facility_code","formControlName","referral_facility_code",1,"input","disabled:bg-gray-300"],[1,"col-span-9","grid-cols-2","grid","gap-x-4","gap-y-2"],["for","referral_reason_id"],["id","referral_reason_id","name","referral_reason_id","formControlName","referral_reason_id",1,"input","disabled:bg-gray-300"],["for","referral_category_id"],["id","referral_category_id","name","referral_category_id","formControlName","referral_category_id",1,"input","disabled:bg-gray-300"],["class","col-span-9",4,"ngIf"],[1,"col-span-9","border-t","border-gray-100","pt-2"],["type","checkbox","name","uncoordinated_flag","id","uncoordinated_flag","formControlName","uncoordinated_flag",1,"input-checkbox"],["for","uncoordinated_flag",1,"pl-2","mt-1","select-none"],[3,"value"],["for","referral_reason"],["type","text","name","referral_reason","id","referral_reason","formControlName","referral_reason",1,"input"],["for","referral_uncoordinated_id"],["id","referral_uncoordinated_id","name","referral_uncoordinated_id","formControlName","referral_uncoordinated_id",1,"input","disabled:bg-gray-300"],["for","uncoordinated_others"],["type","text","name","uncoordinated_others","id","uncoordinated_others","formControlName","uncoordinated_others",1,"input"],[1,"flex","justify-center","items-center","space-x-2","py-20"],["animation","spin",1,"text-blue-500",3,"icon"],[1,"text-blue-500"]],template:function(k,x){1&k&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o.EFF(5," Referral "),o.k0s()(),o.j41(6,"div",5),o.DNE(7,N,58,11,"form",6),o.j41(8,"div",7),o.DNE(9,g,4,1,"div",8),o.k0s()(),o.j41(10,"div",9)(11,"button",10),o.bIt("click",function(){return x.closeModal()}),o.EFF(12,"Close"),o.k0s(),o.j41(13,"button",11),o.bIt("click",function(){return x.onSubmit()}),o.EFF(14),o.k0s()()()()(),o.nrm(15,"div",12)),2&k&&(o.R7$(7),o.Y8G("ngIf",x.show_form),o.R7$(2),o.Y8G("ngIf",!x.show_form),o.R7$(4),o.Y8G("disabled",x.is_saving||x.referralForm.invalid),o.R7$(),o.SpI(" ",x.is_saving?"Saving":"Save"," "))},dependencies:[e.MD,e.Sq,e.bT,_.X1,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.j4,_.JD,R.dX,R.aY],encapsulation:2})}}return h})();function w(h,E){if(1&h){const p=o.RV6();o.j41(0,"app-referral-form",3),o.bIt("toggleModal",function(x){o.eBV(p);const O=o.XpG();return o.Njj(O.toggleModal(x))}),o.k0s()}}let I=(()=>{class h{constructor(){this.faBuildingCircleArrowRight=M.PHx,this.modals=[]}toggleModal(p){this.modals[p]=!this.modals[p]}static{this.\u0275fac=function(k){return new(k||h)}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["app-referral"]],decls:3,vars:2,consts:[[1,"text-white","pr-2","pl-3","py-2","rounded-md","bg-orange-500",3,"click"],[3,"icon"],[3,"toggleModal",4,"ngIf"],[3,"toggleModal"]],template:function(k,x){1&k&&(o.j41(0,"button",0),o.bIt("click",function(){return x.toggleModal("referral-modal")}),o.nrm(1,"fa-icon",1),o.k0s(),o.DNE(2,w,1,0,"app-referral-form",2)),2&k&&(o.R7$(),o.Y8G("icon",x.faBuildingCircleArrowRight),o.R7$(),o.Y8G("ngIf",x.modals["referral-modal"]))},dependencies:[j,R.dX,R.aY,e.MD,e.bT],encapsulation:2})}}return h})()},334:(J,X,u)=>{u.d(X,{m:()=>z});var e=u(177),o=u(4438),_=u(9417),R=u(60),M=u(5383),m=u(3318),c=u(5794);const b=F=>({hidden:F});function v(F,N){if(1&F&&(o.j41(0,"div",24),o.EFF(1),o.k0s()),2&F){const g=o.XpG(2);o.R7$(),o.SpI(" Consult ID: ",g.consult_id," ")}}function Y(F,N){if(1&F&&(o.j41(0,"option",25),o.EFF(1),o.k0s()),2&F){const g=N.$implicit;o.Y8G("value",g.code),o.R7$(),o.JRh(g.desc)}}function S(F,N){1&F&&(o.j41(0,"div",26)(1,"div",27),o.EFF(2," You are requesting this lab independently. "),o.nrm(3,"br"),o.j41(4,"span",28),o.EFF(5," If you wish to link this lab request to an open consult please open that specific consult and try to request again. "),o.k0s()()())}function G(F,N){if(1&F&&(o.j41(0,"div",32)(1,"span",33),o.EFF(2),o.k0s(),o.j41(3,"span",34),o.EFF(4),o.nI1(5,"date"),o.k0s()()),2&F){const g=N.$implicit;o.R7$(2),o.SpI("",g.laboratory.desc," "),o.R7$(2),o.SpI("",o.brH(5,2,g.request_date,"MM/dd/yyyy","Asia/Manila")," ")}}function f(F,N){if(1&F&&(o.j41(0,"div",29)(1,"span",30),o.EFF(2,"Pending Laboratories"),o.k0s(),o.DNE(3,G,6,6,"div",31),o.k0s()),2&F){const g=o.XpG(2);o.R7$(3),o.Y8G("ngForOf",g.pending_list)}}function A(F,N){if(1&F){const g=o.RV6();o.j41(0,"div",35)(1,"input",36),o.bIt("click",function(){const w=o.eBV(g).$implicit,I=o.XpG(2);return o.Njj(I.updateList(w.code))}),o.mxI("ngModelChange",function(w){const I=o.eBV(g).$implicit,h=o.XpG(2);return o.DH7(h.labs[I.code],w)||(h.labs[I.code]=w),o.Njj(w)}),o.k0s(),o.j41(2,"label",37),o.EFF(3),o.k0s()()}if(2&F){const g=N.$implicit,j=o.XpG(2);o.Y8G("ngClass",o.eq3(8,b,"PSMR"===g.code&&"M"===j.patient_info.gender||"done"===g.lab_result)),o.R7$(),o.Y8G("disabled",j.consult_done||!j.request_date),o.R50("ngModel",j.labs[g.code]),o.BMQ("id",g.code),o.R7$(),o.HbH(g.konsulta_active?"text-blue-600":"text-gray-700"),o.BMQ("for",g.code),o.R7$(),o.JRh(g.desc)}}function B(F,N){if(1&F){const g=o.RV6();o.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),o.EFF(5,"Request Date"),o.k0s(),o.j41(6,"input",16),o.mxI("ngModelChange",function(w){o.eBV(g);const I=o.XpG();return o.DH7(I.request_date,w)||(I.request_date=w),o.Njj(w)}),o.k0s()(),o.DNE(7,v,2,1,"div",17),o.j41(8,"div")(9,"div",14)(10,"label",15),o.EFF(11,"Recommended by physician?"),o.k0s(),o.j41(12,"select",18),o.mxI("ngModelChange",function(w){o.eBV(g);const I=o.XpG();return o.DH7(I.is_recommended,w)||(I.is_recommended=w),o.Njj(w)}),o.nrm(13,"option"),o.DNE(14,Y,2,2,"option",19),o.k0s()()(),o.DNE(15,S,6,0,"div",20)(16,f,4,1,"div",21),o.j41(17,"div",22),o.DNE(18,A,4,10,"div",23),o.k0s()()()()}if(2&F){const g=o.XpG();o.R7$(6),o.R50("ngModel",g.request_date),o.Y8G("max",g.max_date),o.R7$(),o.Y8G("ngIf",g.consult_id),o.R7$(5),o.R50("ngModel",g.is_recommended),o.R7$(2),o.Y8G("ngForOf",g.recommended),o.R7$(),o.Y8G("ngIf",!g.consult_id),o.R7$(),o.Y8G("ngIf",g.pending_list),o.R7$(2),o.Y8G("ngForOf",g.lab_list)}}function L(F,N){if(1&F&&(o.j41(0,"div",38)(1,"span",39),o.nrm(2,"fa-icon",40),o.EFF(3,"Loading... "),o.k0s()()),2&F){const g=o.XpG();o.R7$(2),o.Y8G("icon",g.faCircleNotch)}}let z=(()=>{class F{updateList(g){!0===this.labs[g]?this.count-=1:this.count+=1}loadLabs(){this.http.get("libraries/laboratory-recommendations").subscribe({next:g=>{this.recommended=g.data,this.http.get("libraries/laboratories").subscribe({next:j=>{this.lab_list=j.data,console.log(this.lab_list),Object.entries(this.lab_list).forEach(([w,I],h)=>{let E=I;this.code_list.find(p=>p===E.code)&&(E.lab_result="done")}),this.show_form=!0},error:j=>console.log(j)})},error:g=>console.log(g)})}onSubmit(){this.is_saving=!0,Object.entries(this.labs).forEach(([g,j],w)=>{if(!0===j){let I={request_date:this.request_date,patient_id:this.patient_info.id,lab_code:g,recommendation_code:this.is_recommended,request_status_code:"RQ"};this.consult_id&&(I.consult_id=this.consult_id),this.http.post("laboratory/consult-laboratories",I).subscribe({next:()=>{this.count-1===w&&this.saveDone()},error:h=>this.toastr.error(h,"Request Error")})}else this.count-1===w&&this.saveDone()})}saveDone(){this.showToastr(),this.is_saving=!1,this.closeModal()}showToastr(){this.toastr.success("laboratory requested","Lab Request")}closeModal(){this.toggleModal.emit("lab-request")}getPendingList(){this.pending_list=[],this.code_list=[],Object.entries(this.lab_req_list).forEach(([g,j],w)=>{let I=j;!I.lab_result&&"RQ"===I.request_status_code&&(this.pending_list.push(I),this.code_list.push(I.laboratory.code))})}constructor(g,j){this.http=g,this.toastr=j,this.toggleModal=new o.bkB,this.faCircleNotch=M.s4k,this.max_date=(0,e.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.labs=[],this.is_saving=!1,this.count=0,this.show_form=!1}ngOnChanges(g){this.getPendingList(),this.loadLabs()}static{this.\u0275fac=function(j){return new(j||F)(o.rXU(m.k),o.rXU(c.tw))}}static{this.\u0275cmp=o.VBU({type:F,selectors:[["app-lab-request"]],inputs:{patient_info:"patient_info",consult_id:"consult_id",lab_req_list:"lab_req_list"},outputs:{toggleModal:"toggleModal"},features:[o.OA$],decls:14,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],["class","overflow-y-auto h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 flex justify-center",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-left","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-2","p-5","w-full","px-5"],[1,"col-span-1","grid","grid-cols-2","w-full"],["for","request_date",1,"input-label","text-left","pt-3","pr-5"],["type","date",1,"input","w-44",3,"ngModelChange","ngModel","max"],["class","input-label col-span-1 pl-5 pt-3",4,"ngIf"],["type","date",1,"input","w-44",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-2 flex justify-center w-full mt-3",4,"ngIf"],["class","col-span-2 grid grid-cols-2 pt-5 pl-5",4,"ngIf"],[1,"col-span-2","flex","flex-wrap","pt-5","pl-5"],["class","w-1/2 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-label","col-span-1","pl-5","pt-3"],[3,"value"],[1,"col-span-2","flex","justify-center","w-full","mt-3"],[1,"bg-orange-100","border","border-orange-500","p-3","rounded-md","text-orange-700"],[1,"text-sm","font-normal"],[1,"col-span-2","grid","grid-cols-2","pt-5","pl-5"],[1,"col-span-2"],["class","col-span-1 mb-2 flex justify-between",4,"ngFor","ngForOf"],[1,"col-span-1","mb-2","flex","justify-between"],[1,"w-1/2"],[1,"w-1/2","text-right","mr-5"],[1,"w-1/2","mb-2",3,"ngClass"],["type","checkbox",1,"rounded-md","border","border-gray-400","p-2","disabled:bg-gray-200",3,"click","ngModelChange","disabled","ngModel"],[1,"pl-2","pt-1"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","flex","justify-center"],[1,"mt-28"],["animation","spin",1,"text-blue-500","mr-2",3,"icon"]],template:function(j,w){1&j&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o.EFF(5," Laboratory Request "),o.k0s()(),o.DNE(6,B,19,8,"div",5)(7,L,4,1,"div",6),o.j41(8,"div",7)(9,"button",8),o.bIt("click",function(){return w.closeModal()}),o.EFF(10,"Close"),o.k0s(),o.j41(11,"button",9),o.bIt("click",function(){return w.onSubmit()}),o.EFF(12," Request "),o.k0s()()()()(),o.nrm(13,"div",10)),2&j&&(o.R7$(6),o.Y8G("ngIf",w.show_form),o.R7$(),o.Y8G("ngIf",!w.show_form),o.R7$(4),o.Y8G("disabled",!w.request_date||0===w.count||!w.is_recommended||w.is_saving))},dependencies:[R.dX,R.aY,_.YN,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.vS,_.X1,e.MD,e.YU,e.Sq,e.bT,e.vh],encapsulation:2})}}return F})()}}]);