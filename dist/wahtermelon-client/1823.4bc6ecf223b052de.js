"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[1823],{1823:(Wo,b,l)=>{l.r(b),l.d(b,{MaternalcareModule:()=>Qo});var _=l(177),h=l(3895),d=l(5383),e=l(4438),f=l(3318),v=l(5794),g=l(60),k=l(9217),y=l(9596),x=l(9206),a=l(9417);function C(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function G(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,C,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.pre_registration_date.errors?null:t.mcr_form.controls.pre_registration_date.errors.required)}}function j(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",30)(1,"h3",31),e.EFF(2,"Registration Date"),e.k0s(),e.j41(3,"div",32)(4,"div",33),e.nrm(5,"fa-icon",34),e.k0s(),e.j41(6,"input",35),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(7,G,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA")),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.pre_registration_date.errors)}}function F(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function w(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,F,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.lmp_date.errors?null:t.mcr_form.controls.lmp_date.errors.required)}}function R(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",30)(1,"h3",39),e.EFF(2,"LMP Date"),e.k0s(),e.j41(3,"div",32)(4,"div",33),e.nrm(5,"fa-icon",40),e.k0s(),e.j41(6,"input",41),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.getEDC(n.target.value,"input"))}),e.k0s()(),e.DNE(7,w,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA")),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.lmp_date.errors)}}function I(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function T(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function E(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,T,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_gravidity.errors?null:t.mcr_form.controls.initial_gravidity.errors.required)}}function M(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",42)(1,"h3"),e.EFF(2,"Gravidity"),e.k0s(),e.DNE(3,I,1,1,"fa-icon",43),e.j41(4,"input",44),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,E,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_gravidity.errors)}}function N(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function P(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Y(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,P,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_parity.errors?null:t.mcr_form.controls.initial_parity.errors.required)}}function X(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"h3"),e.EFF(2,"Parity"),e.k0s(),e.DNE(3,N,1,1,"fa-icon",43),e.j41(4,"input",47),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Y,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_parity.errors)}}function $(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function D(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function V(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,D,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_full_term.errors?null:t.mcr_form.controls.initial_full_term.errors.required)}}function S(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h3"),e.EFF(2,"Full-Term"),e.k0s(),e.DNE(3,$,1,1,"fa-icon",43),e.j41(4,"input",49),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,V,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_full_term.errors)}}function O(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function B(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function U(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,B,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_preterm.errors?null:t.mcr_form.controls.initial_preterm.errors.required)}}function q(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",42)(1,"h3"),e.EFF(2,"Pre-Term"),e.k0s(),e.DNE(3,O,1,1,"fa-icon",43),e.j41(4,"input",50),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,U,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_preterm.errors)}}function z(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function J(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function K(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,J,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_abortion.errors?null:t.mcr_form.controls.initial_abortion.errors.required)}}function H(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",51)(1,"h3"),e.EFF(2,"Abortions"),e.k0s(),e.DNE(3,z,1,1,"fa-icon",43),e.j41(4,"input",52),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,K,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_abortion.errors)}}function A(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function L(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Q(i,s){if(1&i&&(e.j41(0,"div",37),e.DNE(1,L,2,0,"div",38),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.mcr_form.controls.initial_livebirths.errors?null:t.mcr_form.controls.initial_livebirths.errors.required)}}function W(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",53)(1,"h3"),e.EFF(2,"Live Births"),e.k0s(),e.DNE(3,A,1,1,"fa-icon",43),e.j41(4,"input",54),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Q,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.mcr_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.mcr_form.controls.initial_livebirths.errors)}}function Z(i,s){if(1&i&&(e.j41(0,"div",4)(1,"div",5)(2,"button",6),e.EFF(3," Maternal Care Record "),e.k0s(),e.j41(4,"div",7),e.nrm(5,"fa-icon",8),e.j41(6,"div",9)(7,"h1",10),e.EFF(8,"IMPORTANT"),e.k0s(),e.j41(9,"p",11),e.EFF(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.k0s()()()(),e.j41(11,"div",12)(12,"div",13),e.DNE(13,j,8,3,"div",14)(14,R,8,3,"div",14),e.k0s(),e.j41(15,"div",15)(16,"div",16)(17,"h1",17),e.EFF(18," Important Dates "),e.k0s()(),e.j41(19,"h3",18),e.EFF(20,"EDC Date"),e.j41(21,"p",19),e.EFF(22),e.nI1(23,"date"),e.k0s()(),e.j41(24,"h3",20),e.EFF(25,"AOG (Weeks) "),e.j41(26,"p"),e.EFF(27),e.k0s()(),e.j41(28,"h3",21),e.EFF(29,"End of 1st Trimester"),e.j41(30,"p",19),e.EFF(31),e.nI1(32,"date"),e.k0s()(),e.j41(33,"h3",21),e.EFF(34,"End of 2nd Trimester"),e.j41(35,"p",19),e.EFF(36),e.nI1(37,"date"),e.k0s()(),e.j41(38,"h3",21),e.EFF(39,"End of 3rd Trimester"),e.j41(40,"p",19),e.EFF(41),e.nI1(42,"date"),e.k0s()()(),e.j41(43,"div",22)(44,"div",23)(45,"h1",24),e.EFF(46," Obstetric Score "),e.k0s()(),e.DNE(47,M,6,2,"div",25)(48,X,6,2,"div",26)(49,S,6,2,"div",27)(50,q,6,2,"div",25)(51,H,6,2,"div",28)(52,W,6,2,"div",29),e.k0s()()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faInfoCircle),e.R7$(8),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(8),e.JRh(t.edc_date!=t.today.toLocaleDateString("en-CA")?e.brH(23,17,t.edc_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(4),e.ZvI("font-medium ",t.aog_date.includes("-")?"text-red-500":"",""),e.R7$(),e.SpI("",t.aog_date," "),e.R7$(4),e.JRh(t.first_tri!=t.today.toLocaleDateString("en-CA")?e.brH(32,21,t.first_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.second_tri!=t.today.toLocaleDateString("en-CA")?e.brH(37,25,t.second_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.third_tri!=t.today.toLocaleDateString("en-CA")?e.brH(42,29,t.third_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused)}}function ee(i,s){1&i&&(e.j41(0,"div",65),e.EFF(1,"Successfully Saved!"),e.k0s())}function te(i,s){if(1&i&&e.nrm(0,"fa-icon",59),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function ie(i,s){if(1&i&&e.nrm(0,"fa-icon",66),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function ne(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",55)(1,"div",56),e.DNE(2,ee,2,0,"div",57),e.j41(3,"div",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancel())}),e.nrm(4,"fa-icon",59),e.j41(5,"button",60),e.EFF(6,"Cancel"),e.k0s()(),e.j41(7,"div",61),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveForm(n.mcr_form.value))}),e.DNE(8,te,1,1,"fa-icon",62)(9,ie,1,1,"fa-icon",63),e.j41(10,"button",64),e.EFF(11),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(3),e.ZvI("cursor-pointer flex border-check hover:drop-shadow-md ",t.updating?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white"),e.R7$(),e.Y8G("ngIf",!t.loading),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("disabled",t.loading),e.R7$(),e.SpI(" ",t.updating?t.loading?"Updating":"Update":t.loading?"Saving":"Save"," ")}}let oe=(()=>{class i{constructor(t,o,n){this.http=t,this.formBuilder=o,this.toastr=n,this.date=new Date,this.faCalendarDay=d.isQ,this.faTimes=d.GRI,this.faClose=d.yYc,this.faTimesCircle=d.s0Q,this.faSave=d.hSh,this.faSpinner=d.s4k,this.faPencil=d.zLW,this.faAngleDown=d.tdl,this.faInfoCircle=d.iW_,this.faCaretRight=d.fU5,this.error_message="",this.keyUp=[],this.buttons=[],this.mcr_form=new a.gE({pre_registration_date:new a.MJ(""),lmp_date:new a.MJ(""),initial_gravidity:new a.MJ(""),initial_parity:new a.MJ(""),initial_full_term:new a.MJ(""),initial_preterm:new a.MJ(""),initial_abortion:new a.MJ(""),initial_livebirths:new a.MJ("")}),this.patient_mc_id=new e.bkB}ngOnInit(){this.today=new Date,this.focused=!1,this.updating=!1,this.loading=!1,this.saved=!1,this.getMCR()}setToastr(){}getMCR(){this.patient_mc_record?(this.patient_mc_record.pre_registration?(this.mcr_data=this.patient_mc_record.pre_registration,this.getEDC(this.mcr_data.lmp_date,"db")):(this.mcr_data=-1,this.getEDC(this.today,"any")),this.updating=!0):(this.mcr_data=-1,this.getEDC(this.today,"any")),this.createForm()}createForm(){let t=this.http.getUserID(),o=this.http.getUserFacility();this.mcr_form=this.formBuilder.group({patient_id:[this.patient_id,[a.k0.required,a.k0.minLength(2)]],user_id:[t,[a.k0.required,a.k0.minLength(2)]],facility_code:[o,[a.k0.required,a.k0.minLength(2)]],pre_registration_date:[-1==this.mcr_data?(new Date).toISOString().substring(0,10):new Date(this.mcr_data.pre_registration_date).toISOString().substring(0,10),[a.k0.required]],lmp_date:[-1==this.mcr_data?null:new Date(this.mcr_data.lmp_date).toISOString().substring(0,10),[a.k0.required]],initial_gravidity:[-1==this.mcr_data?null:this.mcr_data.initial_gravidity,[a.k0.required]],initial_parity:[-1==this.mcr_data?null:this.mcr_data.initial_parity,[a.k0.required]],initial_full_term:[-1==this.mcr_data?0:this.mcr_data.initial_full_term,[a.k0.required]],initial_preterm:[-1==this.mcr_data?0:this.mcr_data.initial_preterm,[a.k0.required]],initial_abortion:[-1==this.mcr_data?0:this.mcr_data.initial_abortion,[a.k0.required]],initial_livebirths:[-1==this.mcr_data?0:this.mcr_data.initial_livebirths,[a.k0.required]]})}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}saveForm(){let t,o;this.loading=!0,this.updating?(t=this.http.update("maternal-care/mc-preregistrations/",this.mcr_data.id,this.mcr_form.value),o="Succesfully updated!"):(t=this.http.post("maternal-care/mc-preregistrations",this.mcr_form.value),o="Succesfully saved!"),this.mcr_form.valid?t.subscribe({next:r=>{this.patient_mc_id.emit(r.patient_mc_id)},error:r=>console.log(r),complete:()=>{this.saved=!0,this.toastr.success(o,"Maternal Care Record",{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.loading=!1}}):this.loading=!1}onKeyUp(t,o){this.keyUp.includes(o)?""==t&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}buttonShow(t){this.buttons=[],this.buttons.includes(t)||this.buttons.push(t)}cancel(){this.keyUp=[],this.getMCR()}edit(){this.mcr_form.enable()}getEDC(t,o){this.edc_date="db"==o?new Date(this.mcr_data.edc_date).toISOString().substring(0,10):t?new Date(t).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.first_tri="db"==o?new Date(this.mcr_data.trimester1_date).toISOString().substring(0,10):t?new Date(t).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.second_tri="db"==o?new Date(this.mcr_data.trimester2_date).toISOString().substring(0,10):t?new Date(t).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.third_tri="db"==o?new Date(this.mcr_data.trimester3_date).toISOString().substring(0,10):t?new Date(t).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),"input"==o&&""!=t&&(this.edc_date=new Date(this.edc_date).setDate(new Date(this.edc_date).getDate()+280),this.first_tri=new Date(this.first_tri).setDate(new Date(this.first_tri).getDate()+84),this.second_tri=new Date(this.second_tri).setDate(new Date(this.second_tri).getDate()+189),this.third_tri=this.edc_date),this.aog_date=new Date,this.aog_date.setHours(0,0,0,0);var n=t?new Date(t):new Date;n.setHours(0,0,0,0);const r=6048e5;var c=((this.aog_date.getTime()-n.getTime())/r).toFixed(2),u=Number(c)-Math.trunc(Number(c));if(Number(c)>1)if(Math.trunc(Number(c))>1)if(u>0)var p=Math.trunc(Number(c))+" weeks and "+(7*u).toFixed(0)+" days";else 0==u&&(p=Math.trunc(Number(c))+" weeks");else 1==Math.trunc(Number(c))&&u>0&&(p=Math.trunc(Number(c)).toFixed(0)+" week and "+(7*u).toFixed(0)+" days");else 1==Number(c)?p=Number(c).toFixed(0)+" week":Number(c)<1&&(c=JSON.stringify(Math.round((this.aog_date.getTime()-n.getTime())/r*7)),Number(c)>1||Number(c)<=0?p=c+" days":1==Number(c)&&(p=c+" day"));this.aog_date=p}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-mcr"]],inputs:{patient_id:"patient_id",patient_mc_record:"patient_mc_record"},outputs:{patient_mc_id:"patient_mc_id"},standalone:!1,decls:4,vars:3,consts:[[1,"z-0"],[3,"ngSubmit","formGroup"],["class","grid gap-4 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"grid","gap-4","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-40","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","mb-4","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-4",4,"ngIf"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border","mb-4",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center","relative"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","m-2","border",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"text-sm","font-bold","text-pink-500","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 14 / span 14"],[1,"select-none"],["class","transitions col-span-4 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 row-start-3 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none group mx-2 mb-2",4,"ngIf"],[1,"transitions","col-span-4"],["for","pre_registration_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","pre_registration_date",1,"text-blue-400",3,"icon"],["formControlName","pre_registration_date","id","pre_registration_date","name","pre_registration_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed","invalid:border-red-400",3,"keyup.escape","change","max"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],["for","lmp_date"],["size","lg","for","lmp_date",1,"text-blue-400",3,"icon"],["formControlName","lmp_date","id","lmp_date","name","lmp_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup.escape","change","max"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-400",3,"icon",4,"ngIf"],["type","number","formControlName","initial_gravidity","id","initial_gravidity","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-400",3,"icon"],[1,"transitions","col-span-4","row-start-3","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_parity","id","initial_parity","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2"],["type","number","formControlName","initial_full_term","id","initial_full_term","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["type","number","formControlName","initial_preterm","id","initial_preterm","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_abortion","id","initial_abortion","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_livebirths","id","initial_livebirths","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],["type","button",1,"font-bold","button-out","border-check-red",3,"disabled"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],["animation","spin",1,"mr-2",3,"icon"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.saveForm()}),e.DNE(2,Z,53,33,"div",2)(3,ne,12,9,"div",3),e.k0s()()),2&o&&(e.R7$(),e.Y8G("formGroup",n.mcr_form),e.R7$(),e.Y8G("ngIf",!n.focused),e.R7$(),e.Y8G("ngIf",!n.focused&&n.mcr_form.enabled))},dependencies:[_.bT,g.aY,a.qT,a.me,a.Q0,a.BC,a.cb,a.VZ,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]})}}return i})();function re(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function se(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,re,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.post_registration_date.errors?null:t.postpartum_form.controls.post_registration_date.errors.required)}}function ae(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"h3",47),e.EFF(2,"Registration "),e.k0s(),e.j41(3,"div",48)(4,"div",49),e.nrm(5,"fa-icon",50),e.k0s(),e.j41(6,"input",51),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(7,se,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA")),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.post_registration_date.errors)}}function de(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function ce(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,de,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.delivery_date.errors?null:t.postpartum_form.controls.delivery_date.errors.required)}}function _e(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h3",55),e.EFF(2,"Delivery"),e.k0s(),e.j41(3,"div",56)(4,"div",49),e.nrm(5,"fa-icon",57),e.k0s(),e.j41(6,"input",58),e.nI1(7,"date"),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(8,ce,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",e.i5U(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.delivery_date.errors)}}function le(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function pe(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,le,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.admission_date.errors?null:t.postpartum_form.controls.admission_date.errors.required)}}function ue(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",59)(1,"h3",60),e.EFF(2,"Admission "),e.k0s(),e.j41(3,"div",56)(4,"div",49),e.nrm(5,"fa-icon",61),e.k0s(),e.j41(6,"input",62),e.nI1(7,"date"),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(8,pe,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",e.i5U(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.admission_date.errors)}}function me(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function fe(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,me,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.discharge_date.errors?null:t.postpartum_form.controls.discharge_date.errors.required)}}function ge(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",59)(1,"h3",63),e.EFF(2,"Discharge "),e.k0s(),e.j41(3,"div",56)(4,"div",49),e.nrm(5,"fa-icon",64),e.k0s(),e.j41(6,"input",65),e.nI1(7,"date"),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(8,fe,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",e.i5U(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.discharge_date.errors)}}function ve(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function he(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function be(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,he,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.gravidity.errors?null:t.postpartum_form.controls.gravidity.errors.required)}}function ke(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",66)(1,"h3"),e.EFF(2,"Gravidity"),e.k0s(),e.DNE(3,ve,1,1,"fa-icon",67),e.j41(4,"input",68),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,be,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.gravidity.errors)}}function ye(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function xe(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Ce(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,xe,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.parity.errors?null:t.postpartum_form.controls.parity.errors.required)}}function Ge(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",70)(1,"h3"),e.EFF(2,"Parity"),e.k0s(),e.DNE(3,ye,1,1,"fa-icon",67),e.j41(4,"input",71),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Ce,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.parity.errors)}}function je(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Fe(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function we(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,Fe,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.full_term.errors?null:t.postpartum_form.controls.full_term.errors.required)}}function Re(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",72)(1,"h3"),e.EFF(2,"Full-Term"),e.k0s(),e.DNE(3,je,1,1,"fa-icon",67),e.j41(4,"input",73),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,we,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.full_term.errors)}}function Ie(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Te(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Ee(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,Te,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.preterm.errors?null:t.postpartum_form.controls.preterm.errors.required)}}function Me(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",66)(1,"h3"),e.EFF(2,"Pre-Term"),e.k0s(),e.DNE(3,Ie,1,1,"fa-icon",67),e.j41(4,"input",74),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Ee,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.preterm.errors)}}function Ne(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Pe(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Ye(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,Pe,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.abortion.errors?null:t.postpartum_form.controls.abortion.errors.required)}}function Xe(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",75)(1,"h3"),e.EFF(2,"Abortions"),e.k0s(),e.DNE(3,Ne,1,1,"fa-icon",67),e.j41(4,"input",76),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Ye,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.abortion.errors)}}function $e(i,s){if(1&i&&e.nrm(0,"fa-icon",69),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function De(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Ve(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,De,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.livebirths.errors?null:t.postpartum_form.controls.livebirths.errors.required)}}function Se(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",77)(1,"h3"),e.EFF(2,"Live Births"),e.k0s(),e.DNE(3,$e,1,1,"fa-icon",67),e.j41(4,"input",78),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Ve,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&t.postpartum_form.disabled),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.livebirths.errors)}}function Oe(i,s){1&i&&(e.j41(0,"div",80),e.EFF(1," Please fill up forms upto 'Barangay' "),e.k0s())}function Be(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,Oe,2,0,"div",79),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==t.postpartum_form.controls.barangay_code.errors?null:t.postpartum_form.controls.barangay_code.errors.required)||(null==t.postpartum_form.controls.delivery_location_code.errors?null:t.postpartum_form.controls.delivery_location_code.errors.required))}}function Ue(i,s){if(1&i&&(e.j41(0,"option",83),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code)("selected","HOME"===t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function qe(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",81)(1,"h3"),e.EFF(2,"Delivery Location"),e.k0s(),e.j41(3,"select",82),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,Ue,2,3,"option",42),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.delivery_location)}}function ze(i,s){if(1&i&&e.nrm(0,"option",84),2&i){const t=e.XpG(2);e.Y8G("selected",!t.selected_regions)}}function Je(i,s){if(1&i&&(e.j41(0,"option",83),e.EFF(1),e.k0s()),2&i){const t=s.$implicit,o=e.XpG(2);e.Y8G("value",t.code)("selected",t.code===o.selected_regions),e.R7$(),e.SpI(" ",t.name," ")}}function Ke(i,s){if(1&i&&(e.j41(0,"option",89),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.name," ")}}function He(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",86)(1,"h3",39),e.EFF(2),e.k0s(),e.j41(3,"select",87),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(3);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(3);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG().$implicit,c=e.XpG(2);return e.Njj(c.loadDemog(r.loc,n.target.value,r.includes))}),e.DNE(4,Ke,2,2,"option",88),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(2),e.JRh(t.name),e.R7$(),e.FS9("formControlName",t.fname),e.FS9("id",t.fname),e.R7$(),e.Y8G("ngForOf",o[t.loc])}}function Ae(i,s){if(1&i&&(e.j41(0,"div"),e.DNE(1,He,5,4,"div",85),e.k0s()),2&i){const t=s.$implicit,o=e.XpG(2);e.ZvI("transitions col-span-4  border-check relative mx-2 ","Municipality"==t.name||"Barangay"==t.name?"mb-2":"",""),e.R7$(),e.Y8G("ngIf",o[t.loc])}}function Le(i,s){if(1&i&&(e.j41(0,"option",89),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function Qe(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function We(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,Qe,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.attendant_code.errors?null:t.postpartum_form.controls.attendant_code.errors.required)}}function Ze(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",81)(1,"h3"),e.EFF(2,"Birth Attendant"),e.k0s(),e.j41(3,"select",90),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,Le,2,2,"option",88),e.k0s(),e.DNE(5,We,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.attendants),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.attendant_code.errors)}}function et(i,s){if(1&i&&(e.j41(0,"option",89),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function tt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function it(i,s){if(1&i&&(e.j41(0,"div",52),e.DNE(1,tt,2,0,"div",53),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_form.controls.outcome_code.errors?null:t.postpartum_form.controls.outcome_code.errors.required)}}function nt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",81)(1,"h3"),e.EFF(2,"Pregnancy Outcome"),e.k0s(),e.j41(3,"select",91),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,et,2,2,"option",88),e.k0s(),e.DNE(5,it,2,1,"div",36),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.preg_outcome),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.postpartum_form.controls.outcome_code.errors)}}function ot(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",92)(1,"h3",93),e.EFF(2,"Mother initiated breastfeeding within 24 hours"),e.k0s(),e.j41(3,"div",94)(4,"label",95)(5,"div",96)(6,"input",97),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.bfdCheck(n.target.value))}),e.k0s(),e.nrm(7,"div",98)(8,"div",99),e.k0s()(),e.j41(9,"div",48)(10,"div",49),e.nrm(11,"fa-icon",100),e.k0s(),e.j41(12,"input",101),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(9),e.HbH(t.bfd?"visible":"invisible"),e.R7$(2),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA"))}}function rt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1",8),e.EFF(5," Important Dates "),e.k0s()(),e.j41(6,"h3",9),e.EFF(7,"EDC Date"),e.j41(8,"p",10),e.EFF(9),e.nI1(10,"date"),e.k0s()(),e.j41(11,"h3",9),e.EFF(12,"LMP Date"),e.j41(13,"p",10),e.EFF(14),e.nI1(15,"date"),e.k0s()(),e.j41(16,"h3",11),e.EFF(17,"End of 1st Trimester"),e.j41(18,"p",10),e.EFF(19),e.nI1(20,"date"),e.k0s()(),e.j41(21,"h3",11),e.EFF(22,"End of 2nd Trimester"),e.j41(23,"p",10),e.EFF(24),e.nI1(25,"date"),e.k0s()(),e.j41(26,"h3",11),e.EFF(27,"End of 3rd Trimester"),e.j41(28,"p",10),e.EFF(29),e.nI1(30,"date"),e.k0s()()()(),e.j41(31,"div",12)(32,"button",13),e.EFF(33,"Postpartum"),e.k0s(),e.j41(34,"div",14),e.nrm(35,"fa-icon",15),e.j41(36,"div",16)(37,"h1",17),e.EFF(38,"IMPORTANT"),e.k0s(),e.j41(39,"p",18),e.EFF(40,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.k0s()()()(),e.j41(41,"div",5)(42,"div",19)(43,"div",20)(44,"div",21),e.DNE(45,ae,8,3,"div",22)(46,_e,9,6,"div",23)(47,ue,9,6,"div",24)(48,ge,9,6,"div",24),e.k0s()(),e.j41(49,"div",20)(50,"div",25)(51,"div",26)(52,"h1",27),e.EFF(53," Obstetric Score "),e.k0s()(),e.DNE(54,ke,6,2,"div",28)(55,Ge,6,2,"div",29)(56,Re,6,2,"div",30)(57,Me,6,2,"div",28)(58,Xe,6,2,"div",31)(59,Se,6,2,"div",32),e.k0s()(),e.j41(60,"div",20)(61,"div",33)(62,"div",34)(63,"h1",35),e.EFF(64," Place of Occurence "),e.DNE(65,Be,2,1,"div",36),e.k0s()(),e.DNE(66,qe,5,1,"div",37),e.j41(67,"div",38)(68,"h3",39),e.EFF(69,"Region"),e.k0s(),e.j41(70,"select",40),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.loadDemog("regions",n.target.value,"provinces"))}),e.DNE(71,ze,1,1,"option",41)(72,Je,2,3,"option",42),e.k0s()(),e.DNE(73,Ae,2,4,"div",43),e.k0s()(),e.j41(74,"div",20)(75,"div",33)(76,"div",34)(77,"h1",27),e.EFF(78," Other Details "),e.k0s()(),e.DNE(79,Ze,6,2,"div",37)(80,nt,6,2,"div",44)(81,ot,13,4,"div",45),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(9),e.JRh(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.brH(10,24,t.patient_mc_record.pre_registration.edc_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.brH(15,28,t.patient_mc_record.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.brH(20,32,t.patient_mc_record.pre_registration.trimester1_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.brH(25,36,t.patient_mc_record.pre_registration.trimester2_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(5),e.JRh(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.brH(30,40,t.patient_mc_record.pre_registration.trimester3_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.R7$(6),e.Y8G("icon",t.faInfoCircle),e.R7$(10),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(6),e.Y8G("ngIf",t.is_saving&&(t.postpartum_form.controls.barangay_code.errors||t.postpartum_form.controls.delivery_location_code.errors)),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(5),e.Y8G("ngIf",!t.selected_regions),e.R7$(),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngForOf",t.demog),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused)}}function st(i,s){1&i&&(e.j41(0,"div",114),e.EFF(1,"Successfully Saved!"),e.k0s())}function at(i,s){if(1&i&&e.nrm(0,"fa-icon",109),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function dt(i,s){if(1&i&&e.nrm(0,"fa-icon",115),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function ct(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",102)(1,"div",103),e.nrm(2,"input",104),e.j41(3,"label",105),e.EFF(4,"End Pregnancy Record"),e.k0s()(),e.j41(5,"div",106),e.DNE(6,st,2,0,"div",107),e.j41(7,"div",108),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancel())}),e.nrm(8,"fa-icon",109),e.j41(9,"button",110),e.EFF(10,"Cancel"),e.k0s()(),e.j41(11,"div",111),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveForm(n.postpartum_form.value))}),e.DNE(12,at,1,1,"fa-icon",112)(13,dt,1,1,"fa-icon",113),e.j41(14,"button",110),e.EFF(15),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(3),e.ZvI("cursor-pointer flex border-check hover:drop-shadow-md ",t.updating?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white"),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(2),e.SpI(" ",t.updating?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function _t(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",116)(1,"div",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit())}),e.j41(2,"div",118),e.nrm(3,"fa-icon",109),e.j41(4,"button",119),e.bIt("keyup.enter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.uncheck(n.target.id+r.fphx_cat))}),e.EFF(5,"Edit"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faPencil)}}let lt=(()=>{class i{constructor(t,o){this.http=t,this.formBuilder=o,this.keyUp=[],this.buttons=[],this.faCalendarDay=d.isQ,this.faTimes=d.GRI,this.faClose=d.yYc,this.faTimesCircle=d.s0Q,this.faSave=d.hSh,this.faPencil=d.zLW,this.faSpinner=d.s4k,this.faAngleDown=d.tdl,this.faInfoCircle=d.iW_,this.faCaretRight=d.fU5,this.postpartum_form=new a.gE({post_registration_date:new a.MJ(""),admission_date:new a.MJ(""),discharge_date:new a.MJ(""),delivery_date:new a.MJ(""),delivery_location_code:new a.MJ(""),barangay_code:new a.MJ(""),gravidity:new a.MJ(!1),parity:new a.MJ(!1),full_term:new a.MJ(!1),preterm:new a.MJ(!1),abortion:new a.MJ(!1),livebirths:new a.MJ(!1),outcome_code:new a.MJ(!1),healthy_baby:new a.MJ(!1),birth_weight:new a.MJ(!1),attendant_code:new a.MJ(!1),breastfeeding:new a.MJ(!1),breastfed_date:new a.MJ(!1),end_pregnancy:new a.MJ(!1),postpartum_remarks:new a.MJ(!1)}),this.gravidity=new Number,this.parity=new Number,this.full_term=new Number,this.live_births=new Number,this.abortions=new Number,this.pre_term=new Number,this.demog=[{name:"Province",loc:"provinces",includes:"municipalities",fname:"p_code"},{name:"Municipality",loc:"municipalities",includes:"barangays",fname:"m_code"},{name:"Barangay",loc:"barangays",includes:"",fname:"barangay_code"}],this.postpartum_bool=new e.bkB,this.post_mc_data=new e.bkB}ngOnInit(){this.getMCR(),this.filter="",this.today=new Date,this.is_saving=!1,this.saved=!1}getMCR(){this.patient_mc_record?(this.mcr_data=this.patient_mc_record,this.patient_mc_record.post_registration&&(this.updating=!0)):this.mcr_data=-1,this.createForm(this.mcr_data)}createForm(t){let o;o=t.post_registration?t.post_registration:"";let c,u,p,n=this.http.getUserID(),r=this.http.getUserFacility();o&&""!=o.barangay.code&&(this.selected_regions=o.barangay.region.code,c=o.barangay.province.code,u=o.barangay.municipality.code,p=o.barangay.code,this.loadDemog("regions",this.selected_regions,"provinces"),this.loadDemog("provinces",c,"municipalities"),this.loadDemog("municipalities",u,"barangays"),this.loadDemog("barangays",p,"")),this.postpartum_form=this.formBuilder.group({facility_code:[r],patient_id:[this.patient_id],user_id:[n],post_registration_date:[0!=o.length?new Date(o.post_registration_date).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),[a.k0.required]],admission_date:[0!=o.length?o.admission_date.substring(0,19):"",[a.k0.required]],discharge_date:[0!=o.length?o.discharge_date:"",[a.k0.required]],delivery_date:[0!=o.length?o.delivery_date:"",[a.k0.required]],delivery_location_code:[0!=o.length?o.delivery_location.code:"",[a.k0.required]],barangay_code:[0!=o.length?o.barangay.code:"",[a.k0.required]],p_code:[0!=o.length?c:"",[a.k0.required]],m_code:[0!=o.length?u:"",[a.k0.required]],gravidity:[0!=o.length?o.gravidity:"",[a.k0.required]],parity:[0!=o.length?o.parity:"",[a.k0.required]],full_term:[0!=o.length?o.full_term:"",[a.k0.required]],preterm:[0!=o.length?o.preterm:"",[a.k0.required]],abortion:[0!=o.length?o.abortion:"",[a.k0.required]],livebirths:[0!=o.length?o.livebirths:"",[a.k0.required]],outcome_code:[0!=o.length?o.outcome.code:"",[a.k0.required]],healthy_baby:[0==o.length||o.healthy_baby],birth_weight:[0!=o.length?o.birth_weight:0],attendant_code:[0!=o.length?o.attendant.code:"",[a.k0.required]],breastfeeding:[0!=o.length&&o.breastfeeding],breastfed_date:[0!=o.length?new Date(o.breastfed_date).toISOString().substring(0,10):null],end_pregnancy:[0!=o.length&&o.end_pregnancy],postpartum_remarks:[0!=o.length?o.postpartum_remarks:""]}),this.bfd=0!=o.length&&!!o.breastfeeding}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}saveForm(t){this.is_saving=!0,this.postpartum_form.value.delivery_date=16==this.postpartum_form.value.delivery_date.length?this.postpartum_form.value.delivery_date.replace("T"," ")+":00":this.postpartum_form.value.delivery_date.replace("T"," "),this.postpartum_form.value.admission_date=16==this.postpartum_form.value.admission_date.length?this.postpartum_form.value.admission_date.replace("T"," ")+":00":this.postpartum_form.value.admission_date.replace("T"," "),this.postpartum_form.value.discharge_date=16==this.postpartum_form.value.discharge_date.length?this.postpartum_form.value.discharge_date.replace("T"," ")+":00":this.postpartum_form.value.discharge_date.replace("T"," ");let o={},n=this.postpartum_form.value;for(let r in n)0==this.postpartum_form.value.breastfeeding?"breastfed_date"!=r&&(o[r]=n[String(r)]):o=n;if(this.postpartum_form.valid){let r;r=this.updating?this.http.update("maternal-care/mc-postregistrations/",this.mcr_data.post_registration.id,o):this.http.post("maternal-care/mc-postregistrations",o),r.subscribe({next:c=>{console.log(c," data from saving postpartum"),this.post_mc_data.emit(c.patient_mc_id)},error:c=>console.log(c),complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1},1500)}})}else this.is_saving=!1;this.postpartum_bool.emit(this.postpartum_form.value)}bfdCheck(t){this.bfd=!this.bfd}onKeyUp(t,o){this.keyUp.includes(o)?""==t&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}loadDemog(t,o,n){"regions"==t?(this.municipalities=null,this.barangays=null):"provinces"==t&&(this.barangays=null),this.http.get("libraries/"+t+"/"+o,{params:{include:n,per_page:"all"}}).subscribe({next:r=>{this[n]=r.data[n]},error:r=>console.log(r)})}buttonShow(t){this.buttons=[],this.buttons.includes(t)||this.buttons.push(t)}cancel(){this.bfd=!1,this.keyUp=[]}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-postpartum"]],inputs:{delivery_location:"delivery_location",regions:"regions",attendants:"attendants",preg_outcome:"preg_outcome",patient_id:"patient_id",patient_mc_record:"patient_mc_record"},outputs:{postpartum_bool:"postpartum_bool",post_mc_data:"post_mc_data"},standalone:!1,decls:4,vars:4,consts:[[3,"submit","formGroup"],["class","grid gap-2 relative animates-dropdown","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","flex w-auto border-check mb-7 w-12/12",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[2,"grid-column","span 16 / span 16"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-24","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(21, minmax(0, 1fr))"],["class","transitions col-span-6",4,"ngIf"],["class","transitions col-span-7 col-start-1",4,"ngIf"],["class","transitions col-span-7",4,"ngIf"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","m-2","border","group",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"text-pink-500","form-check","p-2","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400",2,"grid-column","span 14 / span 14"],[1,"select-none"],["class","transitions col-span-4 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 row-start-3 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none group mx-2 mb-2",4,"ngIf"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","m-2","border","group",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"form-check","p-2","font-bold","text-sm","border","border-dashed","border-gray-300","group-hover:border-blue-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 14 / span 14"],[1,"select-none","flex"],["class","invalid-alert",4,"ngIf"],["class","transitions col-span-4 border-check relative mx-2",4,"ngIf"],[1,"transitions","col-span-4","border-check","relative","mx-2","last-of-type:mb-2"],[1,"capitalize"],["id","regions",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],["value","",3,"selected",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["class","transitions col-span-4  border-check relative mx-2",4,"ngIf"],["class","transitions col-span-6 mx-2",4,"ngIf"],[1,"transitions","col-span-6"],["for","post_registration_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","post_registration_date",1,"text-blue-500",3,"icon"],["formControlName","post_registration_date","id","post_registration_date","name","post_registration_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup","keyup.escape","change","max"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-7","col-start-1"],["for","delivery_date"],[1,"grid",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["size","lg","for","delivery_date",1,"text-blue-400",3,"icon"],["formControlName","delivery_date","id","delivery_date","name","delivery_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup","keyup.escape","change","max"],[1,"transitions","col-span-7"],["for","admission_date"],["size","lg","for","admission_date",1,"text-blue-400",3,"icon"],["formControlName","admission_date","id","admission_date","name","admission_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup","keyup.escape","change","max"],["for","discharge_date"],["size","lg","for","discharge_date",1,"text-blue-400",3,"icon"],["formControlName","discharge_date","id","discharge_date","name","discharge_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup","keyup.escape","change","max"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-400",3,"icon",4,"ngIf"],["type","number","formControlName","gravidity","min","0","id","gravidity",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-400",3,"icon"],[1,"transitions","col-span-4","row-start-3","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","parity","min","0","id","parity",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2"],["type","number","formControlName","full_term","min","0","id","full_term",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["type","number","formControlName","preterm","min","0","id","preterm",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","abortion","min","0","id","abortion",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","livebirths","min","0","id","livebirths",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["class","ml-2 font-light",4,"ngIf"],[1,"ml-2","font-light"],[1,"transitions","col-span-4","border-check","relative","mx-2"],["formControlName","delivery_location_code","id","delivery_location_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],[3,"value","selected"],["value","",3,"selected"],["class","",4,"ngIf"],[1,""],[1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","attendant_code","id","attendant_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],["formControlName","outcome_code","id","outcome_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],[1,"transitions","col-span-6","mx-2"],["for","breastfeeding"],[1,"flex","w-full","mb-2"],["for","breastfeeding",1,"mx-2","flex","items-center","cursor-pointer","w-max"],[1,"relative"],["type","checkbox","formControlName","breastfeeding","id","breastfeeding",1,"sr-only","peer",3,"click"],[1,"block","bg-gray-200","w-12","h-7","rounded-full","peer-checked:bg-green-400","border","border-gray-300","peer-checked:border-green-500","hover:bg-gray-300"],[1,"dot","absolute","left-1","top-1","bg-white","w-5","h-5","rounded-full","transition","drop-shadow-md"],["size","lg","for","breastfed_date",1,"text-blue-500",3,"icon"],["formControlName","breastfed_date","id","breastfed_date","name","breastfed_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup","keyup.escape","change","max"],[1,"flex","w-auto","border-check","mb-7","w-12/12"],[1,"inline-flex","bg-white","rounded-lg","mr-auto","border","border-gray-400","hover:border-pink-400","drop-shadow-md","hover:drop-shadow-lg","w-full","py-2","px-4","ml-2"],["formControlName","end_pregnancy","id","end_pregnancy","type","checkbox",1,"rounded-md","check-style","text-pink-400"],["for","end_pregnancy",1,"ml-2","font-bold","text-sm","m-auto","text-pink-500"],[1,"inline-flex","ml-auto","h-max","mt-2"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000 w-52 ml-2",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000","w-52","ml-2"],["animation","spin",1,"mr-2",3,"icon"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0","cursor-pointer",3,"click"],[1,"flex","border-check","bg-orange-300","hover:bg-orange-400","py-1","rounded-full","text-white","px-2"],["type","submit",1,"font-bold","button-out","border-check-red","typed-out",3,"keyup.enter"]],template:function(o,n){1&o&&(e.j41(0,"form",0),e.bIt("submit",function(){return n.saveForm(n.postpartum_form.value)}),e.DNE(1,rt,82,44,"div",1)(2,ct,16,8,"div",2)(3,_t,6,1,"div",3),e.k0s()),2&o&&(e.Y8G("formGroup",n.postpartum_form),e.R7$(),e.Y8G("ngIf",!n.focused),e.R7$(),e.Y8G("ngIf",!n.focused&&n.postpartum_form.enabled),e.R7$(),e.Y8G("ngIf",!n.focused&&n.postpartum_form.disabled))},dependencies:[_.Sq,_.bT,g.aY,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.VZ,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.exce[_ngcontent-%COMP%]{width:1.5rem!important;height:1.5rem!important}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{transform:translate(100%);background-color:#fff}"]})}}return i})();function pt(i,s){if(1&i&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Aen(1==t.hospital_flag&&0==t.monitor_flag?"color: rgb(220 38 38);":""),e.HbH(0==t.hospital_flag&&1==t.monitor_flag?"text-blue-500":""),e.FS9("value",t.id),e.R7$(),e.SpI(" ",t.risk_name," ")}}function ut(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function mt(i,s){if(1&i&&(e.j41(0,"div",22),e.DNE(1,ut,2,0,"div",23),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.risk_form.controls.risk_id.errors?null:t.risk_form.controls.risk_id.errors.required)}}function ft(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",16)(1,"h3",17),e.EFF(2,"Risk Factors"),e.k0s(),e.j41(3,"select",18),e.bIt("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,pt,2,6,"option",19),e.k0s(),e.DNE(5,mt,2,1,"div",20),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.risk_factors),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.risk_form.controls.risk_id.errors)}}function gt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function vt(i,s){if(1&i&&(e.j41(0,"div",22),e.DNE(1,gt,2,0,"div",23),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.risk_form.controls.date_detected.errors?null:t.risk_form.controls.date_detected.errors.required)}}function ht(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",24)(1,"h3",25),e.EFF(2,"Date Detected"),e.k0s(),e.j41(3,"div",26)(4,"div",27),e.nrm(5,"fa-icon",28),e.k0s(),e.j41(6,"input",29),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(7,vt,2,1,"div",20),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA")),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.risk_form.controls.date_detected.errors)}}function bt(i,s){1&i&&(e.j41(0,"div",40),e.EFF(1,"Successfully Saved!"),e.k0s())}function kt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",32)(1,"div",33),e.DNE(2,bt,2,0,"div",34),e.j41(3,"div",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancel())}),e.nrm(4,"fa-icon",36),e.j41(5,"button",37),e.EFF(6,"Cancel"),e.k0s()(),e.j41(7,"div",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveForm(n.risk_form.value))}),e.nrm(8,"fa-icon",36),e.j41(9,"button",39),e.EFF(10,"Save"),e.k0s()()()()}if(2&i){const t=e.XpG(3);e.R7$(2),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(4),e.Y8G("icon",t.faSave),e.R7$(),e.Y8G("disabled",t.is_saving)}}function yt(i,s){if(1&i&&(e.j41(0,"div",30),e.DNE(1,kt,11,4,"div",31),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.focused&&t.risk_form.enabled)}}function xt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",49)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div",47)(4,"h3"),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"div",50),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.edit(n))}),e.j41(8,"button",51),e.nrm(9,"fa-icon",52),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(),e.ZvI(" col-span-8 relative select-none mx-2 ",0==t.risk.hospital_flag&&1==t.risk.monitor_flag?"text-blue-500":1==t.risk.hospital_flag&&0==t.risk.monitor_flag?"text-red-500":"",""),e.R7$(),e.JRh(t.risk.risk_name),e.R7$(3),e.JRh(e.brH(6,6,t.date_detected,"MM/dd/yyyy","Asia/Manila")),e.R7$(4),e.Y8G("icon",o.faPencil)}}function Ct(i,s){if(1&i&&(e.j41(0,"div",41)(1,"div",42)(2,"div",43)(3,"h1",44),e.EFF(4," Summary "),e.k0s()(),e.j41(5,"div",45)(6,"div",46)(7,"h3"),e.EFF(8,"Factors"),e.k0s()(),e.j41(9,"div",47)(10,"h3"),e.EFF(11,"Date"),e.k0s()()(),e.DNE(12,xt,10,10,"div",48),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(12),e.Y8G("ngForOf",t.risk_catch)}}function Gt(i,s){if(1&i&&(e.j41(0,"div",2)(1,"div",3)(2,"button",4),e.EFF(3,"Risk Factors"),e.k0s(),e.j41(4,"div",5),e.nrm(5,"fa-icon",6),e.j41(6,"div",7)(7,"h1",8),e.EFF(8,"IMPORTANT"),e.k0s(),e.j41(9,"p",9),e.EFF(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.k0s()()()(),e.j41(11,"div",10)(12,"div",11),e.DNE(13,ft,6,2,"div",12)(14,ht,8,3,"div",13),e.k0s()(),e.DNE(15,yt,2,1,"div",14)(16,Ct,13,1,"div",15),e.k0s()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faInfoCircle),e.R7$(8),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused&&!t.risk_form.disabled),e.R7$(),e.Y8G("ngIf",t.risk_catch.length>0)}}let jt=(()=>{class i{constructor(t,o,n){this.http=t,this.formBuilder=o,this.toastr=n,this.faCalendarDay=d.isQ,this.faTimes=d.GRI,this.faClose=d.yYc,this.faTimesCircle=d.s0Q,this.faSave=d.hSh,this.faPencil=d.zLW,this.faAngleDown=d.tdl,this.faInfoCircle=d.iW_,this.faCaretRight=d.fU5,this.risk_form=new a.gE({risk_id:new a.MJ(""),date_detected:new a.MJ("")}),this.factor=new String,this.keyUp=[],this.buttons=[],this.hide=[],this.risk_catch=[],this.risk_to_edit=null}ngOnInit(){this.loadLibraries(),this.searching=!1,this.today=new Date,this.is_saving=!1,this.saved=!1}loadLibraries(){this.http.get("libraries/mc-risk-factors",{params:{per_page:"all"}}).subscribe({next:t=>{this.risk_factors=t.data,this.loadModule()},error:t=>{this.http.showError(t.error.message,"Risk Factor Library")}})}loadModule(){this.patient_mc_record?(this.module_data=this.patient_mc_record,console.log(this.module_data," module data from  loadModule - RISK FACTOR")):this.module_data=-1,this.createForm(),-1!=this.module_data&&this.getRisk()}createForm(){let t=this.http.getUserID(),o=this.http.getUserFacility();this.risk_form=this.formBuilder.group({patient_mc_id:[-1==this.module_data?null:this.module_data.id,[a.k0.required]],facility_code:[o,[a.k0.required]],patient_id:[this.patient_id,[a.k0.required]],user_id:[t,[a.k0.required]],risk_id:["",[a.k0.required]],date_detected:[(new Date).toISOString().substring(0,10),[a.k0.required]]})}getRisk(){this.http.get("maternal-care/mc-risk-factors?patient_mc_id="+this.module_data.id).subscribe({next:t=>{console.log(t," get risks"),this.risk_catch=t.data},error:t=>console.log(t)})}searchfocus(){document.getElementById("searchbar").focus(),this.searching=!0}searchblur(){this.searching=!1}saveForm(t){if(console.log(t),this.is_saving=!0,this.risk_form.valid){let o,n,r="Risk Factors";this.risk_to_edit?(o=this.http.update("maternal-care/mc-risk-factors/",this.risk_to_edit,t),n="Succesfully updated!"):(o=this.http.post("maternal-care/mc-risk-factors",t),n="Succesfully saved!"),o.subscribe({next:c=>{console.log(c.data," data from saving risks"),this.risk_catch=c.data,this.risk_to_edit=null},error:c=>console.log(c),complete:()=>{this.toastr.success(n,r,{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.is_saving=!1,this.createForm()}})}}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}onKeyUp(t,o){this.keyUp.includes(o)?""==t&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}buttonShow(t){this.buttons=[],this.buttons.includes(t)||this.buttons.push(t)}cancel(){this.hide=[],this.keyUp=[],this.risk_form.reset()}edit(t){console.log(t),this.risk_form.reset(),this.createForm(),this.risk_form.patchValue({id:t.id,risk_id:t.risk.id,date_detected:(0,_.Yq)(t.date_detected,"yyyy-MM-dd","en","Asia/Manila")}),this.risk_to_edit=t.id,console.log(this.risk_form," factor value"),console.log(t," risk_id edit")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-riskfactors"]],inputs:{patient_mc_record:"patient_mc_record",patient_id:"patient_id"},standalone:!1,decls:2,vars:2,consts:[[3,"formGroup"],["class","grid gap-4 relative","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-4","relative",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","top-1",2,"left","5.5rem"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"relative","drop-modal",2,"grid-column","span 16 / span 16"],[1,"drop-modal","grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class"," col-span-10 border-check relative select-none",4,"ngIf"],["class"," col-span-4",4,"ngIf"],["class"," drop-modal relative w-auto border-check mb-2 -mt-5","style","grid-column: span 14 / span 14; grid-column-start: 3;",4,"ngIf"],["style","grid-column: span 16 / span 16;",4,"ngIf"],[1,"col-span-10","border-check","relative","select-none"],["for","risk_id"],["formControlName","risk_id","id","risk_id",1,"z-50","peer","text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change","keyup","keyup.escape"],["class","p-2 flex-wrap",3,"class","style","value",4,"ngFor","ngForOf"],["class","invalid-alert",4,"ngIf"],[1,"p-2","flex-wrap",3,"value"],[1,"invalid-alert"],[4,"ngIf"],[1,"col-span-4"],["for","date_detected"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","date_detected",1,"text-blue-500",3,"icon"],["formControlName","date_detected","id","date_detected","name","date_detected","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup.escape","change","max"],[1,"drop-modal","relative","w-auto","border-check","mb-2","-mt-5",2,"grid-column","span 14 / span 14","grid-column-start","3"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"cursor-pointer","flex","border-check","hover:drop-shadow-md","bg-green-300","hover:bg-green-400","py-1","rounded-full","text-white","px-3","peer-hover:bg-white","peer-hover:text-green-400",3,"click"],["type","button",1,"font-bold","button-out","border-check-red",3,"disabled"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[2,"grid-column","span 16 / span 16"],[1,"mb-5","grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mx-2","border","group",2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"select-none"],[1,"text-sm","grid","grid-cols-11","pb-1","font-medium",2,"grid-column","span 11 / span 11"],[1,"col-span-8","relative","select-none","mx-2"],[1,"col-span-2","relative","select-none","mx-2"],["class","text-sm grid grid-cols-11 hover:bg-blue-100 hover:font-medium","style","grid-column: span 11 / span 11;",4,"ngFor","ngForOf"],[1,"text-sm","grid","grid-cols-11","hover:bg-blue-100","hover:font-medium",2,"grid-column","span 11 / span 11"],[1,"relative","select-none","mx-2",3,"click"],["type","button",1,"w-full"],["size","lg",1,"mr-2","hover:text-orange-300",3,"icon"]],template:function(o,n){1&o&&(e.j41(0,"form",0),e.DNE(1,Gt,17,5,"div",1),e.k0s()),2&o&&(e.Y8G("formGroup",n.risk_form),e.R7$(),e.Y8G("ngIf",!n.focused))},dependencies:[_.Sq,_.bT,g.aY,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_visible_drop{0%{opacity:0}to{opacity:1}}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]})}}return i})();function Ft(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function wt(i,s){if(1&i&&(e.j41(0,"div",41)(1,"h3",42),e.EFF(2,"Visit Count"),e.k0s(),e.DNE(3,Ft,1,1,"fa-icon",43),e.j41(4,"div",44),e.EFF(5),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.JRh(t.value)}}function Rt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function It(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,Rt,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.prenatal_date.errors?null:t.prenatal_form.controls.prenatal_date.errors.required)}}function Tt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"h3",47),e.EFF(2,"Date"),e.k0s(),e.j41(3,"div",48)(4,"div",49),e.nrm(5,"fa-icon",50),e.k0s(),e.j41(6,"input",51),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(7,It,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(),e.FS9("max",t.today.toLocaleDateString("en-CA")),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.prenatal_date.errors)}}function Et(i,s){if(1&i&&(e.j41(0,"option",59),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.FS9("value",t.code),e.Y8G("selected","Mass Palpable - NA"===t.desc),e.R7$(),e.SpI(" ",t.desc," ")}}function Mt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Nt(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,Mt,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.presentation_code.errors?null:t.prenatal_form.controls.presentation_code.errors.required)}}function Pt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",55)(1,"h3",56),e.EFF(2,"Fetal Presentation"),e.k0s(),e.j41(3,"select",57),e.bIt("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,Et,2,3,"option",58),e.k0s(),e.DNE(5,Nt,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.fetals),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.presentation_code.errors)}}function Yt(i,s){1&i&&(e.j41(0,"div",60)(1,"div",61)(2,"h3",62),e.EFF(3,"Seen Outside RHU"),e.k0s(),e.nrm(4,"input",63),e.k0s()())}function Xt(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function $t(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",64)(1,"h3",65),e.EFF(2,"Fundic Height"),e.k0s(),e.DNE(3,Xt,1,1,"fa-icon",43),e.j41(4,"input",66),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.j41(5,"small",67),e.EFF(6,"error_message"),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1)}}function Dt(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Vt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",68)(1,"h3",69),e.EFF(2,"FHR"),e.k0s(),e.DNE(3,Dt,1,1,"fa-icon",43),e.j41(4,"input",70),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.j41(5,"small",67),e.EFF(6,"error_message"),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(),e.HbH(0>=t.prenatal_form.get("fhr").value?"mb-2":"")}}function St(i,s){if(1&i&&(e.j41(0,"option",59),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("selected","N/A"===t.desc)("value",t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function Ot(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",71)(1,"h3",72),e.EFF(2,"FHR Location"),e.k0s(),e.j41(3,"select",73),e.bIt("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.DNE(4,St,2,3,"option",58),e.k0s()()}if(2&i){const t=e.XpG(2);e.Y8G("hidden",0>=t.prenatal_form.get("fhr").value),e.R7$(4),e.Y8G("ngForOf",t.fhr_lib)}}function Bt(i,s){if(1&i){const t=e.RV6();e.j41(0,"label",74)(1,"div")(2,"input",75),e.bIt("change",function(n){const r=e.eBV(t).$implicit,c=e.XpG(2);return c.onKeyUp(n.target.value,n.target.id),e.Njj(c.quadrant(r.code))}),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(2);e.ZvI("","NA"===t.code?"hidden":""," w-24 lg:w-60 md:w-40 sm:w-24"),e.FS9("for",t.code),e.R7$(),e.Aen("RUQ"===t.code||"LUQ"===t.code?"height: 62.5%":"height: 37.5%"),e.ZBM("absolute ","NA"===t.code?"hidden":""," ","RUQ"===t.code?"top-0 z-40":""," ","RLQ"===t.code?"bottom-0 z-40":""," ","LUQ"===t.code?"top-0 right-0 z-40":""," ","LLQ"===t.code?"bottom-0 right-0 z-40":""," w-1/2 hover:bg-gray-400/75 rounded-tl-md border-t border-l  cursor-pointer group"),e.R7$(),e.Aen("RUQ"===t.code?"transform: translate(100%,150%);":"LUQ"===t.code?"transform: translateY(150%);":""),e.ZBM("z-50 rounded-md ","NA"===t.code?"hidden":""," ","RUQ"===t.code?"fhr_chart_u translate-x-full rounded-tl-full":""," ","RLQ"===t.code?"fhr_chart rounded-bl-full translate-x-full":""," ","LUQ"===t.code?"rounded-tr-full fhr_chart_u":""," ","LLQ"===t.code?"fhr_chart rounded-br-full":""," bg-white/25 checked:text-pink-400/75 disabled:opacity-25 border-dashed border border-pink-500 checked:border-dashed checked:border checked:border-pink-300 focus:ring-1 focus:ring-pink-400 group-hover:bg-gray-300 group-hover:checked:bg-pink-400 focus:ring-offset-0"),e.FS9("id",t.code),e.Y8G("checked",o.prenatal_form.get("location_code").value===t.code&&""!==o.prenatal_form.get("fhr").value)("disabled",0>=o.prenatal_form.get("fhr").value)("value",t.code)}}function Ut(i,s){if(1&i&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI("(",t.cm_value,")")}}function qt(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function zt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Jt(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,zt,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.patient_height.errors?null:t.prenatal_form.controls.patient_height.errors.required)}}function Kt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",76)(1,"h3",77),e.EFF(2,"Height"),e.k0s(),e.DNE(3,Ut,2,1,"h3",54)(4,qt,1,1,"fa-icon",43),e.j41(5,"input",78),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("input",function(n){e.eBV(t);const r=e.XpG(2);return r.onKeyUp(n.target.value,n.target.id),e.Njj(r.cmCatcher(n.target.value))}),e.k0s(),e.DNE(6,Jt,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.cm_value),e.R7$(),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.patient_height.errors)}}function Ht(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function At(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Lt(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,At,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.bp_systolic.errors?null:t.prenatal_form.controls.bp_systolic.errors.required)}}function Qt(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",79)(1,"h3",80),e.EFF(2,"Systolic"),e.k0s(),e.DNE(3,Ht,1,1,"fa-icon",43),e.j41(4,"input",81),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Lt,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.bp_systolic.errors)}}function Wt(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Zt(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function ei(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,Zt,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.bp_diastolic.errors?null:t.prenatal_form.controls.bp_diastolic.errors.required)}}function ti(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",82)(1,"h3",83),e.EFF(2,"Diastolic"),e.k0s(),e.DNE(3,Wt,1,1,"fa-icon",43),e.j41(4,"input",84),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,ei,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.bp_diastolic.errors)}}function ii(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function ni(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function oi(i,s){if(1&i&&(e.j41(0,"div",53),e.DNE(1,ni,2,0,"div",54),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.prenatal_form.controls.patient_weight.errors?null:t.prenatal_form.controls.patient_weight.errors.required)}}function ri(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",85)(1,"h3",86),e.EFF(2,"Weight (kg)"),e.k0s(),e.DNE(3,ii,1,1,"fa-icon",43),e.j41(4,"input",87),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,oi,2,1,"div",52),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.prenatal_form.controls.patient_weight.errors)}}function si(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function ai(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",88)(1,"h3",89),e.EFF(2,"Remarks"),e.k0s(),e.DNE(3,si,1,1,"fa-icon",43),e.j41(4,"textarea",90),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.EFF(5,"                    "),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1)}}function di(i,s){1&i&&(e.j41(0,"div",101),e.EFF(1,"Successfully Saved!"),e.k0s())}function ci(i,s){if(1&i&&e.nrm(0,"fa-icon",95),2&i){const t=e.XpG(3);e.Y8G("icon",t.faSave)}}function _i(i,s){if(1&i&&e.nrm(0,"fa-icon",102),2&i){const t=e.XpG(3);e.Y8G("icon",t.faSpinner)}}function li(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",91)(1,"div",92),e.DNE(2,di,2,0,"div",93),e.j41(3,"div",94),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.cancel())}),e.nrm(4,"fa-icon",95),e.j41(5,"button",96),e.EFF(6,"Cancel"),e.k0s()(),e.j41(7,"div",97),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveForm(n.prenatal_form.value))}),e.DNE(8,ci,1,1,"fa-icon",98)(9,_i,1,1,"fa-icon",99),e.j41(10,"button",100),e.EFF(11),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(3),e.ZvI("cursor-pointer flex  hover:drop-shadow-md ",t.edit_bool?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white peer-hover:text-green-400"),e.Y8G("disabled",t.is_saving),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(2),e.SpI(" ",t.edit_bool?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function pi(i,s){if(1&i&&e.nrm(0,"fa-icon",117),2&i){const t=e.XpG(4);e.Y8G("icon",t.faCircleCheck)}}function ui(i,s){if(1&i&&e.nrm(0,"fa-icon",118),2&i){const t=e.XpG(4);e.Y8G("icon",t.faTimesCircle)}}function mi(i,s){if(1&i&&e.nrm(0,"fa-icon",119),2&i){const t=e.XpG(4);e.Y8G("icon",t.faPencil)}}function fi(i,s){if(1&i){const t=e.RV6();e.j41(0,"tr",110)(1,"td",111),e.EFF(2),e.k0s(),e.j41(3,"td",111),e.EFF(4),e.k0s(),e.j41(5,"td",111),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",111),e.EFF(9),e.k0s(),e.j41(10,"td",111),e.EFF(11),e.k0s(),e.j41(12,"td",111),e.EFF(13),e.k0s(),e.j41(14,"td",111),e.EFF(15),e.k0s(),e.j41(16,"td",111),e.EFF(17),e.k0s(),e.j41(18,"td",111),e.EFF(19),e.k0s(),e.j41(20,"td",111),e.EFF(21),e.k0s(),e.j41(22,"td",111),e.EFF(23),e.k0s(),e.j41(24,"td",111),e.DNE(25,pi,1,1,"fa-icon",112)(26,ui,1,1,"fa-icon",113),e.k0s(),e.j41(27,"td",114),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.edit(n))}),e.j41(28,"button",115),e.DNE(29,mi,1,1,"fa-icon",116),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(2),e.JRh(t.visit_sequence),e.R7$(2),e.Lme("",t.trimester,"",1===t.trimester?"st":2===t.trimester?"nd":3===t.trimester?"rd":"th"," "),e.R7$(2),e.JRh(e.i5U(7,19,t.prenatal_date,"MM/dd/yyy")),e.R7$(3),e.LHq(" ",t.aog_weeks,"",t.aog_weeks?t.aog_weeks>1?" weeks":" week":""," ",t.aog_days,"",t.aog_days?t.aog_days>1?" days":" day":""," "),e.R7$(2),e.JRh(t.patient_weight),e.R7$(2),e.Lme("",t.bp_systolic,"/",t.bp_diastolic,""),e.R7$(2),e.JRh(null===t.fundic_height?"-":t.fundic_height),e.R7$(2),e.JRh(null===t.fhr?"-":t.fhr),e.R7$(2),e.JRh(0===t.fhr||null===t.fhr?"-":t.location_code),e.R7$(2),e.JRh(t.presentation_code),e.R7$(2),e.JRh(t.remarks?t.remarks:"-"),e.R7$(2),e.Y8G("ngIf",t.private),e.R7$(),e.Y8G("ngIf",!t.private),e.R7$(3),e.Y8G("ngIf",!o.edit_bool)}}function gi(i,s){if(1&i&&(e.j41(0,"div",3)(1,"div",103)(2,"div",104)(3,"h1",33),e.EFF(4," Visits "),e.k0s()(),e.j41(5,"div",105)(6,"table",106)(7,"thead",107)(8,"tr")(9,"th",108),e.EFF(10,"No."),e.k0s(),e.j41(11,"th",108),e.EFF(12,"Trimester"),e.k0s(),e.j41(13,"th",108),e.EFF(14,"Date"),e.k0s(),e.j41(15,"th",108),e.EFF(16,"AOG"),e.k0s(),e.j41(17,"th",108),e.EFF(18,"Weight (kg)"),e.k0s(),e.j41(19,"th",108),e.EFF(20,"BP"),e.k0s(),e.j41(21,"th",108),e.EFF(22,"Fundic Height"),e.k0s(),e.j41(23,"th",108),e.EFF(24,"FHR"),e.k0s(),e.j41(25,"th",108),e.EFF(26,"FHR Location"),e.k0s(),e.j41(27,"th",108),e.EFF(28,"Fetal Presentation"),e.k0s(),e.j41(29,"th",108),e.EFF(30,"Remarks"),e.k0s(),e.j41(31,"th",108),e.EFF(32,"Outside"),e.k0s(),e.nrm(33,"th",108),e.k0s()(),e.j41(34,"tbody"),e.DNE(35,fi,30,22,"tr",109),e.k0s()()()()()),2&i){const t=e.XpG(2);e.R7$(),e.ZvI("mb-5 grid rounded-lg hover:drop-shadow-lg drop-shadow-md bg-white rounded-lg hover:border border-gray-300 hover:border-blue-400 mx-2  border overflow-y-scroll scrollbar-thin scrollbar-thumb-white hover:scrollbar-thumb-blue-300 scrollbar-track-white ",4>t.prenatal_data.length?"h-max":"h-96"," relative"),e.R7$(34),e.Y8G("ngForOf",t.prenatal_data)}}function vi(i,s){if(1&i&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),e.EFF(5," Important Dates "),e.k0s()(),e.j41(6,"h3",7),e.EFF(7,"EDC Date"),e.j41(8,"p",8),e.EFF(9),e.nI1(10,"date"),e.k0s()(),e.j41(11,"h3",7),e.EFF(12,"LMP Date"),e.j41(13,"p",8),e.EFF(14),e.nI1(15,"date"),e.k0s()(),e.j41(16,"h3",9),e.EFF(17,"End of 1st Trimester"),e.j41(18,"p",8),e.EFF(19),e.nI1(20,"date"),e.k0s()(),e.j41(21,"h3",9),e.EFF(22,"End of 2nd Trimester"),e.j41(23,"p",8),e.EFF(24),e.nI1(25,"date"),e.k0s()(),e.j41(26,"h3",9),e.EFF(27,"End of 3rd Trimester"),e.j41(28,"p",8),e.EFF(29),e.nI1(30,"date"),e.k0s()()()(),e.j41(31,"div",10)(32,"button",11),e.EFF(33,"Prenatal"),e.k0s(),e.j41(34,"div",12),e.nrm(35,"fa-icon",13),e.j41(36,"div",14)(37,"h1",15),e.EFF(38,"IMPORTANT"),e.k0s(),e.j41(39,"p",16),e.EFF(40,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.k0s()()()(),e.j41(41,"div",3)(42,"div",17),e.DNE(43,wt,6,2,"div",18)(44,Tt,8,3,"div",19)(45,Pt,6,2,"div",20)(46,Yt,5,0,"div",21),e.k0s()(),e.j41(47,"div",22)(48,"div",23),e.DNE(49,$t,7,1,"div",24)(50,Vt,7,3,"div",25)(51,Ot,5,2,"div",26),e.k0s()(),e.j41(52,"div",27),e.DNE(53,Bt,3,26,"label",28),e.nrm(54,"img",29),e.k0s(),e.j41(55,"div",30)(56,"div",31)(57,"div",32)(58,"h1",33),e.EFF(59," Vitals "),e.k0s()(),e.DNE(60,Kt,7,3,"div",34)(61,Qt,6,2,"div",35)(62,ti,6,2,"div",36)(63,ri,6,2,"div",37)(64,ai,6,1,"div",38),e.k0s()(),e.DNE(65,li,12,9,"div",39)(66,gi,36,4,"div",40),e.k0s()),2&i){const t=e.XpG();e.R7$(9),e.JRh(e.brH(10,23,t.patient_mc_record.pre_registration.edc_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(5),e.JRh(e.brH(15,27,t.patient_mc_record.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(5),e.JRh(e.brH(20,31,t.patient_mc_record.pre_registration.trimester1_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(5),e.JRh(e.brH(25,35,t.patient_mc_record.pre_registration.trimester2_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(5),e.JRh(e.brH(30,39,t.patient_mc_record.pre_registration.trimester3_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(6),e.Y8G("icon",t.faInfoCircle),e.R7$(8),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(3),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(2),e.Y8G("ngForOf",t.fhr_lib),e.R7$(),e.HbH(""!==t.prenatal_form.get("fhr").value?"":"opacity-25"),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused&&t.prenatal_form.enabled),e.R7$(),e.Y8G("ngIf",0!==t.prenatal_data.length)}}let hi=(()=>{class i{constructor(t,o,n){this.http=t,this.formBuilder=o,this.toastr=n,this.faCalendarDay=d.isQ,this.faTimes=d.GRI,this.faClose=d.yYc,this.faTimesCircle=d.s0Q,this.faSave=d.hSh,this.faPencil=d.zLW,this.faAngleDown=d.tdl,this.faInfoCircle=d.iW_,this.faCaretRight=d.fU5,this.faCircleCheck=d.QRE,this.faSpinner=d.s4k,this.prenatal_form=new a.gE({prenatal_date:new a.MJ(""),patient_height:new a.MJ(""),patient_weight:new a.MJ(""),bp_systolic:new a.MJ(""),bp_diastolic:new a.MJ(""),fundic_height:new a.MJ(""),presentation_code:new a.MJ(""),fhr:new a.MJ(""),location_code:new a.MJ(""),remarks:new a.MJ(""),private:new a.MJ("")}),this.fhr=new Number,this.fundic_height=new Number,this.fhr_location_id=new String,this.fetal_presentation_id=new String,this.patient_height=new Number,this.patient_weight=new Number,this.bp_systolic=new Number,this.bp_diastolic=new Number,this.consult_id=new Number,this.mc_id=new Number,this.user_id=new Number,this.trimester=new Number,this.remarks=new String,this.cm_value="",this.modal_id="",this.prenatal_mc_data=new e.bkB,this.mcPrenatal_id=[],this.keyUp=[],this.buttons=[],this.catch_array=[],this.hide=[],this.prenatal_data=[]}ngOnInit(){this.value=1,this.today=new Date,this.getMCR()}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}flipVitals(t){t!=this.modal_id?(this.modal_id=t,this.vitals_modal=!0):this.vitals_modal=!this.vitals_modal}saveForm(t){this.is_saving=!0;let o=this.catch_array.findIndex(n=>n.visit_sequence===this.value);if(-1!=o&&this.catch_array.splice(o,1),console.log(this.prenatal_form.valid,this.prenatal_form.value),this.prenatal_form.valid){this.actual_height&&(this.prenatal_form.value.patient_height=this.actual_height);let n={},r=this.prenatal_form.value;for(let m in r)null!=r[String(m)]&&(n[m]=r[String(m)]);let c,p,u="Prenatal Visit";this.edit_bool?(c=this.http.update("maternal-care/mc-prenatal/",this.edit_id,n),p="Succesfully updated!"):(c=this.http.post("maternal-care/mc-prenatal",n),p="Succesfully saved!"),console.log(n,this.prenatal_form.value," filtered saveform"),c.subscribe({next:m=>{console.log(m.data," data from saving prenatal"),this.prenatal_data=m.data,this.prenatal_mc_data.emit(m.data),this.value=this.prenatal_data[0].visit_sequence+1},error:m=>{console.log(m),this.is_saving=!1},complete:()=>{this.toastr.success(p,u,{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.edit_bool=!1,this.getMCR(),this.is_saving=!1}})}else this.is_saving=!1;console.log(this.prenatal_form.value," prenatal form"),this.catch_array.push(this.prenatal_form.value),this.catch_array.sort(function(n,r){return n.visit_sequence-r.visit_sequence})}trackByFn(t,o){return t}getMCR(){this.prenatal_data=[],console.log(this.patient_mc_record," from getMCR - prenatal;"),console.log(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:this.patient_mc_record.prenatal_visit," try getmcr"),(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:1==this.patient_mc_record.prenatal_visit.length)&&(console.log("it went true"),this.value=this.patient_mc_record.prenatal_visit[0].visit_sequence+1,this.prenatal_data=this.patient_mc_record.prenatal_visit),this.createForm()}createForm(){let t;(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:1==this.patient_mc_record.prenatal_visit.length)?t=this.patient_mc_record.prenatal_visit[0]:(console.log(" its false coz prenatal is 0"),t=this.patient_mc_record.prenatal_visit);let o=this.http.getUserID(),n=this.http.getUserFacility();this.prenatal_form=this.formBuilder.group({patient_mc_id:[this.patient_mc_record.id,[a.k0.required,a.k0.minLength(2)]],facility_code:[n,[a.k0.required,a.k0.minLength(2)]],patient_id:[this.patient_id,[a.k0.required,a.k0.minLength(2)]],user_id:[o,[a.k0.required,a.k0.minLength(2)]],prenatal_date:[(new Date).toISOString().substring(0,10),[a.k0.required]],patient_height:[0!=t.length?t.patient_height:0,[a.k0.required,a.k0.minLength(2)]],patient_weight:[0!=t.length?t.patient_weight:0,[a.k0.required,a.k0.minLength(2)]],bp_systolic:["",[a.k0.required,a.k0.minLength(2)]],bp_diastolic:["",[a.k0.required,a.k0.minLength(2)]],fundic_height:[null],presentation_code:["",[a.k0.required,a.k0.minLength(2)]],fhr:[null],location_code:["NA"],remarks:[""],private:[0]})}quadrant(t){this.prenatal_form.get("location_code").value==t?(this.prenatal_form.get("location_code").setValue("N/A"),this.keyUp.splice(this.keyUp.indexOf(t),1)):this.prenatal_form.get("location_code").setValue(t)}onKeyUp(t,o){console.log(t+" this is my data input"),this.keyUp.includes(o)?""==t&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o),console.log(this.keyUp)}clearForm(t){this.prenatal_form.get(t).reset()}cmCatcher(t,o){console.log(t," cmCatcher"),o=t.split(" "),console.log(o[0]),o[0]>9?(this.feet=t/30.48,this.decimal=this.feet-Math.trunc(this.feet),this.in=12*this.decimal,this.in=+this.in.toFixed(2),this.actual_height=t,this.cm_value=Math.trunc(this.feet)+"ft "+this.in+" in",console.log("h value is ",Math.trunc(this.feet),"ft ",this.in," in")):(console.log(t.lastIndexOf(" ")),console.log(t.lastIndexOf(",")),1==t.lastIndexOf(" ")?(t=t.split(" "),this.feet=30.48*t[0],this.feet=+this.feet.toFixed(1),console.log(t[1]>12),t[1]>=12&&(t[1]=11),this.in=2.54*t[1],this.in=+this.in.toFixed(1),this.actual_height=this.feet+this.in,this.cm_value=this.feet+this.in+" cm"):(this.feet=30.48*t,this.feet=+this.feet.toFixed(1),this.actual_height=this.feet,this.cm_value=this.feet+" cm"))}buttonShow(t){this.buttons=[],this.buttons.includes(t)||this.buttons.push(t)}cancel(){this.hide=[],this.keyUp=[],this.edit_bool=!1,this.is_saving=!1,this.getMCR(),console.log("canceling")}edit(t){this.edit_bool=!0,console.log(t," data to be editesd"),this.edit_form={patient_mc_id:t.patient_mc_id,patient_id:this.patient_id,prenatal_date:t.prenatal_date,patient_height:t.patient_height,patient_weight:t.patient_weight,bp_systolic:t.bp_systolic,bp_diastolic:t.bp_diastolic,fundic_height:t.fundic_height,presentation_code:t.presentation_code,fhr:t.fhr,location_code:t.location_code,private:t.private,remarks:t.remarks},this.prenatal_form.patchValue(this.edit_form),this.value=t.visit_sequence,console.log(this.edit_form," edit form"),console.log(t.id," id pre edit"),this.edit_id=t.id,this.edit_bool=!0}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-prenatal"]],inputs:{fetals:"fetals",fhr_lib:"fhr_lib",patient_mc_record:"patient_mc_record",patient_id:"patient_id"},outputs:{prenatal_mc_data:"prenatal_mc_data"},standalone:!1,decls:2,vars:2,consts:[[3,"ngSubmit","formGroup"],["class","grid gap-2 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[2,"grid-column","span 16 / span 16"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-16","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-pink-400","p-2","pt-4","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-2 row-span-2  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-3",4,"ngIf"],["class","transitions col-span-4 col-start-7  relative select-none",4,"ngIf"],["class","transitions col-span-3 mx-2",4,"ngIf"],[1,"row-span-3","col-span-4"],[1,"grid","gap-2","grid-cols-4","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border"],["class","transitions col-span-4  relative select-none group mx-2 mt-2",4,"ngIf"],["class","transitions col-span-4  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4  relative select-none mx-2 mb-2",3,"hidden",4,"ngIf"],[1,"col-span-4","relative","h-max","border","border-gray-300","drop-shadow-md","hover:drop-shadow-lg","rounded-md"],[3,"for","class",4,"ngFor","ngForOf"],["src","assets\\img\\abdomen.png","alt","...",1,"w-24","lg:w-60","md:w-40","sm:w-24","object-contain","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","rounded-lg"],[2,"grid-column","span 7 / span 7","grid-column-end","17"],[1,"grid","gap-2","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border","group",2,"grid-template-columns","repeat(6, minmax(0, 1fr))"],[1,"text-pink-500","px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400",2,"grid-column","span 6 / span 6"],[1,"select-none"],["class","transitions col-span-2  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-2  relative select-none group ml-2 mb-2",4,"ngIf"],["class","transitions col-span-2  relative select-none group mr-2 mb-2",4,"ngIf"],["class","transitions col-span-2 col-start-1  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4   relative select-none group mx-2 mb-2",4,"ngIf"],["class","relative w-auto  mb-10 w-12/12","style","grid-column: span 16 / span 16;",4,"ngIf"],["style","grid-column: span 16 / span 16;",4,"ngIf"],[1,"transitions","col-span-2","row-span-2","relative","select-none","group","mx-2"],["for","visit_sequence",1,"whitespace-nowrap"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-300",3,"icon",4,"ngIf"],[1,"text-center","text-2xl","font-bold","py-2","border-gray-300","border","rounded-lg"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-300",3,"icon"],[1,"transitions","col-span-4","col-start-3"],["for","prenatal_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","prenatal_date",1,"text-blue-500",3,"icon"],["formControlName","prenatal_date","id","prenatal_date","name","prenatal_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup.escape","change","max"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-4","col-start-7","relative","select-none"],["for","presentation_code"],["formControlName","presentation_code","id","presentation_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change"],["class","p-2 flex-wrap",3,"selected","value",4,"ngFor","ngForOf"],[1,"p-2","flex-wrap",3,"selected","value"],[1,"transitions","col-span-3","mx-2"],[1,"border-check-red","group"],["for","private"],["type","checkbox","formControlName","private",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-4","relative","select-none","group","mx-2","mt-2"],["for","fundic_height"],["type","number","formControlName","fundic_height","min","0","id","fundic_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"hidden","peer-invalid:block","text-red-400"],[1,"transitions","col-span-4","relative","select-none","group","mx-2"],["for","fhr"],["type","number","formControlName","fhr","min","0","id","fhr",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","relative","select-none","mx-2","mb-2",3,"hidden"],["for","location_code"],["formControlName","location_code","id","location_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change"],[3,"for"],["type","checkbox",3,"change","checked","disabled","id","value"],[1,"transitions","col-span-2","relative","select-none","group","mx-2"],["for","patient_height"],["type","text","formControlName","patient_height","id","patient_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","input"],[1,"transitions","col-span-2","relative","select-none","group","ml-2","mb-2"],["for","bp_systolic"],["type","number","formControlName","bp_systolic","min","0","id","bp_systolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","relative","select-none","group","mr-2","mb-2"],["for","bp_diastolic"],["type","number","formControlName","bp_diastolic","min","0","id","bp_diastolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","col-start-1","relative","select-none","group","mx-2"],["for","patient_weight"],["type","number","formControlName","patient_weight","min","0","id","patient_weight",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","relative","select-none","group","mx-2","mb-2"],["for","remarks"],["type","text","formControlName","remarks","id","remarks",1,"remarks","font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"relative","w-auto","mb-10","w-12/12",2,"grid-column","span 16 / span 16"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","-red"],[3,"click","disabled"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],["animation","spin",1,"mr-2",3,"icon"],[2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"h-max","px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 11 / span 11"],[1,"table-auto","relative"],[1,"sticky","top-0","bg-white"],[1,"px-2"],["class","hover:bg-blue-100 group",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100","group"],[1,"px-2","font-normal"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],[1,"px-2",3,"click"],["type","button",1,"w-full"],["size","lg","class","mr-2 hover:text-orange-300 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","md",1,"text-green-400",3,"icon"],["size","md",1,"text-red-400",3,"icon"],["size","lg",1,"mr-2","hover:text-orange-300","invisible","group-hover:visible",3,"icon"]],template:function(o,n){1&o&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return n.saveForm(n.prenatal_form.value)}),e.DNE(1,vi,67,43,"div",1),e.k0s()),2&o&&(e.Y8G("formGroup",n.prenatal_form),e.R7$(),e.Y8G("ngIf",!n.focused))},dependencies:[_.Sq,_.bT,g.aY,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.VZ,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.remarks[_ngcontent-%COMP%]{min-height:5rem;max-height:8rem;width:100%}.fhr_chart[_ngcontent-%COMP%]{height:60%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:40%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]})}}return i})();function bi(i,s){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openModal())}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("icon",t.faPenToSquare)}}function ki(i,s){1&i&&(e.j41(0,"div",16),e.EFF(1,"No records found."),e.k0s())}function yi(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openModal())}),e.EFF(1,"Add"),e.k0s()}}function xi(i,s){1&i&&(e.j41(0,"th",21),e.EFF(1,"Positive"),e.k0s())}function Ci(i,s){1&i&&(e.j41(0,"th",21),e.EFF(1,"Penicillin"),e.k0s())}function Gi(i,s){if(1&i&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.JRh(e.brH(2,1,t.service_date,"MM/dd/yyyy","Asia/Manila"))}}function ji(i,s){if(1&i){const t=e.RV6();e.j41(0,"input",39),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2).index,c=e.XpG(3);return e.DH7(c.service_list[r].service_date,n)||(c.service_list[r].service_date=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG(2).index,o=e.XpG(3);e.R50("ngModel",o.service_list[t].service_date)}}function Fi(i,s){if(1&i){const t=e.RV6();e.j41(0,"input",40),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2).index,c=e.XpG(3);return e.DH7(c.service_list[r].service_qty,n)||(c.service_list[r].service_qty=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG(2).index,o=e.XpG(3);e.R50("ngModel",o.service_list[t].service_qty)}}function wi(i,s){if(1&i&&e.nrm(0,"fa-icon",44),2&i){const t=e.XpG(6);e.Y8G("icon",t.faCircleCheck)}}function Ri(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(6);e.Y8G("icon",t.faTimesCircle)}}function Ii(i,s){1&i&&(e.j41(0,"p"),e.EFF(1,"-"),e.k0s())}function Ti(i,s){if(1&i){const t=e.RV6();e.j41(0,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(3).index,c=e.XpG(3);return e.DH7(c.service_list[r].positive_result,n)||(c.service_list[r].positive_result=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG(3).index,o=e.XpG(3);e.R50("ngModel",o.service_list[t].positive_result)}}function Ei(i,s){if(1&i&&(e.j41(0,"th",26),e.DNE(1,wi,1,1,"fa-icon",41)(2,Ri,1,1,"fa-icon",42)(3,Ii,2,0,"p",27)(4,Ti,1,1,"input",43),e.k0s()),2&i){const t=e.XpG(2),o=t.$implicit,n=t.index,r=e.XpG(3);e.R7$(),e.Y8G("ngIf",o.positive_result&&o.group.pos&&r.edit!==n),e.R7$(),e.Y8G("ngIf",!o.positive_result&&o.group.pos&&r.edit!==n),e.R7$(),e.Y8G("ngIf",!o.group.pos),e.R7$(),e.Y8G("ngIf",r.edit===n&&o.group.pos)}}function Mi(i,s){if(1&i&&e.nrm(0,"fa-icon",44),2&i){const t=e.XpG(6);e.Y8G("icon",t.faCircleCheck)}}function Ni(i,s){if(1&i&&e.nrm(0,"fa-icon",45),2&i){const t=e.XpG(6);e.Y8G("icon",t.faTimesCircle)}}function Pi(i,s){1&i&&(e.j41(0,"p"),e.EFF(1,"-"),e.k0s())}function Yi(i,s){if(1&i){const t=e.RV6();e.j41(0,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(3).index,c=e.XpG(3);return e.DH7(c.service_list[r].intake_penicillin,n)||(c.service_list[r].intake_penicillin=n),e.Njj(n)}),e.k0s()}if(2&i){const t=e.XpG(3).index,o=e.XpG(3);e.R50("ngModel",o.service_list[t].intake_penicillin)}}function Xi(i,s){if(1&i&&(e.j41(0,"th",26),e.DNE(1,Mi,1,1,"fa-icon",41)(2,Ni,1,1,"fa-icon",42)(3,Pi,2,0,"p",27)(4,Yi,1,1,"input",43),e.k0s()),2&i){const t=e.XpG(2),o=t.$implicit,n=t.index,r=e.XpG(3);e.R7$(),e.Y8G("ngIf",o.intake_penicillin&&o.group.pen&&r.edit!==n),e.R7$(),e.Y8G("ngIf",!o.intake_penicillin&&o.group.pen&&r.edit!==n),e.R7$(),e.Y8G("ngIf",!o.group.pen),e.R7$(),e.Y8G("ngIf",r.edit===n&&o.group.pen)}}function $i(i,s){if(1&i&&(e.j41(0,"p",47),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.JRh(t.visit_type_code)}}function Di(i,s){if(1&i&&(e.j41(0,"option",50),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function Vi(i,s){if(1&i){const t=e.RV6();e.j41(0,"select",48),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2).index,c=e.XpG(3);return e.DH7(c.service_list[r].visit_type_code,n)||(c.service_list[r].visit_type_code=n),e.Njj(n)}),e.DNE(1,Di,2,2,"option",49),e.k0s()}if(2&i){const t=e.XpG(2).index,o=e.XpG(3);e.R50("ngModel",o.service_list[t].visit_type_code),e.R7$(),e.Y8G("ngForOf",o.visit_type)}}function Si(i,s){if(1&i&&e.nrm(0,"fa-icon",51),2&i){const t=e.XpG(5);e.Y8G("icon",t.faPencil)}}function Oi(i,s){if(1&i&&e.nrm(0,"fa-icon",52),2&i){const t=e.XpG(5);e.Y8G("icon",t.faTimes)}}function Bi(i,s){if(1&i&&e.nrm(0,"fa-icon",53),2&i){const t=e.XpG(5);e.Y8G("icon",t.faSpinner)}}function Ui(i,s){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,r=e.XpG(3);return e.Njj(r.saveEdit(n))}),e.k0s()}if(2&i){const t=e.XpG(5);e.Y8G("icon",t.faSave)}}function qi(i,s){if(1&i){const t=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.EFF(2),e.k0s(),e.j41(3,"th",26),e.DNE(4,Gi,3,5,"p",27)(5,ji,1,1,"input",28),e.k0s(),e.j41(6,"th",26)(7,"p"),e.EFF(8),e.k0s(),e.DNE(9,Fi,1,1,"input",29),e.k0s(),e.DNE(10,Ei,5,4,"th",30)(11,Xi,5,4,"th",30),e.j41(12,"th",31),e.DNE(13,$i,2,1,"p",32)(14,Vi,2,2,"select",33),e.k0s(),e.j41(15,"th",26)(16,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,r=e.XpG(3);return e.Njj(r.enableEdit(n))}),e.DNE(17,Si,1,1,"fa-icon",35),e.k0s(),e.j41(18,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,r=e.XpG(3);return e.Njj(r.enableEdit(n))}),e.DNE(19,Oi,1,1,"fa-icon",36),e.k0s(),e.j41(20,"button"),e.DNE(21,Bi,1,1,"fa-icon",37)(22,Ui,1,1,"fa-icon",38),e.k0s()()()}if(2&i){const t=e.XpG(),o=t.$implicit,n=t.index,r=e.XpG(3);e.R7$(2),e.JRh(o.service.desc),e.R7$(2),e.Y8G("ngIf",r.edit!==n),e.R7$(),e.Y8G("ngIf",r.edit===n),e.R7$(3),e.SpI(" ",o.group.qty&&o.service_qty?r.edit===n?"":o.service_qty:"-",""),e.R7$(),e.Y8G("ngIf",r.edit===n&&o.group.qty),e.R7$(),e.Y8G("ngIf","Prenatal"===r.services_form.value.visit_status),e.R7$(),e.Y8G("ngIf","Prenatal"===r.services_form.value.visit_status),e.R7$(2),e.Y8G("ngIf",r.edit!==n),e.R7$(),e.Y8G("ngIf",r.edit===n),e.R7$(3),e.Y8G("ngIf",r.edit!==n),e.R7$(2),e.Y8G("ngIf",r.edit===n),e.R7$(2),e.Y8G("ngIf",r.is_saving&&r.edit===n),e.R7$(),e.Y8G("ngIf",r.edit===n&&!r.is_saving)}}function zi(i,s){if(1&i&&(e.j41(0,"tbody"),e.DNE(1,qi,23,13,"tr",24),e.k0s()),2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.visit_status===o.services_form.value.visit_status)}}function Ji(i,s){if(1&i&&(e.j41(0,"div",18)(1,"table",19)(2,"thead",20)(3,"tr")(4,"th",21),e.EFF(5,"Descriptions"),e.k0s(),e.j41(6,"th",21),e.EFF(7,"Date"),e.k0s(),e.j41(8,"th",21),e.EFF(9,"Quantity"),e.k0s(),e.DNE(10,xi,2,0,"th",22)(11,Ci,2,0,"th",22),e.j41(12,"th",21),e.EFF(13,"Visit Type"),e.k0s(),e.nrm(14,"th",21),e.k0s()(),e.DNE(15,zi,2,1,"tbody",23),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(10),e.Y8G("ngIf","Prenatal"===t.services_form.value.visit_status),e.R7$(),e.Y8G("ngIf","Prenatal"===t.services_form.value.visit_status),e.R7$(4),e.Y8G("ngForOf",t.service_list)}}function Ki(i,s){if(1&i&&(e.j41(0,"div",3)(1,"div",4)(2,"button",5),e.EFF(3),e.k0s(),e.j41(4,"div",6),e.DNE(5,bi,1,1,"fa-icon",7),e.k0s()(),e.j41(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11),e.DNE(10,ki,2,0,"div",12)(11,yi,2,0,"button",13)(12,Ji,16,3,"div",14),e.k0s()()()()()),2&i){const t=e.XpG();e.R7$(3),e.SpI("",3===t.module?"Prenatal":4===t.module?"Postpartum":"Services"," Services"),e.R7$(2),e.Y8G("ngIf",0!==t.service_list.length),e.R7$(5),e.Y8G("ngIf",0===t.service_list.length),e.R7$(),e.Y8G("ngIf",0===t.service_list.length),e.R7$(),e.Y8G("ngIf",0!==t.service_list.length)}}function Hi(i,s){1&i&&(e.j41(0,"th"),e.EFF(1,"Quantity"),e.k0s())}function Ai(i,s){if(1&i&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.pos_name)}}function Li(i,s){1&i&&(e.j41(0,"th"),e.EFF(1,"Penicillin"),e.k0s())}function Qi(i,s){if(1&i){const t=e.RV6();e.j41(0,"td",72)(1,"input",76),e.bIt("ngModel",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.getNG(n.id,"service_qty"))})("change",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.onChange(n.desc,n.id,"service_qty"))}),e.k0s()()}}function Wi(i,s){if(1&i){const t=e.RV6();e.j41(0,"td",72)(1,"input",77),e.bIt("change",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.onChange(n.desc,n.id,"positive_result"))})("ngModel",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.getNG(n.id,"positive_result"))}),e.k0s()()}}function Zi(i,s){if(1&i){const t=e.RV6();e.j41(0,"td",72)(1,"input",78),e.bIt("change",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.onChange(n.desc,n.id,"intake_penicillin"))})("ngModel",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.getNG(n.id,"intake_penicillin"))}),e.k0s()()}}function en(i,s){if(1&i&&(e.j41(0,"option",50),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.desc," ")}}function tn(i,s){if(1&i){const t=e.RV6();e.j41(0,"tbody")(1,"tr",71)(2,"td",72),e.EFF(3),e.k0s(),e.j41(4,"td",72)(5,"input",73),e.bIt("ngModel",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.getNG(n.id,"service_date"))})("change",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.onChange(n.desc,n.id,"service_date"))}),e.k0s()(),e.DNE(6,Qi,2,0,"td",74)(7,Wi,2,0,"td",74)(8,Zi,2,0,"td",74),e.j41(9,"td",72)(10,"select",75),e.bIt("change",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.onChange(n.desc,n.id,"visit_type_code"))})("ngModel",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.getNG(n.id,"visit_type_code"))}),e.DNE(11,en,2,2,"option",49),e.k0s()()()()}if(2&i){const t=s.$implicit,o=e.XpG().$implicit,n=e.XpG(2);e.HbH("Postpartum"===n.services_form.value.visit_status?"VITA"===t.id||"IRON"===t.id?"":"hidden":""),e.R7$(3),e.JRh(t.desc),e.R7$(3),e.Y8G("ngIf",o.qty),e.R7$(),e.Y8G("ngIf",o.pos),e.R7$(),e.Y8G("ngIf",o.pen),e.R7$(3),e.Y8G("ngForOf",n.visit_type)}}function nn(i,s){if(1&i&&(e.j41(0,"div",69)(1,"table")(2,"thead")(3,"tr"),e.nrm(4,"th"),e.j41(5,"th"),e.EFF(6,"Date"),e.k0s(),e.DNE(7,Hi,2,0,"th",27)(8,Ai,2,1,"th",27)(9,Li,2,0,"th",27),e.j41(10,"th"),e.EFF(11,"Visit Type"),e.k0s()()(),e.DNE(12,tn,12,8,"tbody",70),e.k0s()()),2&i){const t=s.$implicit,o=e.XpG(2);e.R7$(),e.ZvI("table-auto border-separate border-spacing-2 border bg-white w-full ","Postpartum"===o.services_form.value.visit_status?"G1"===t.name?"":"hidden":"",""),e.R7$(6),e.Y8G("ngIf",t.qty),e.R7$(),e.Y8G("ngIf",t.pos),e.R7$(),e.Y8G("ngIf",t.pen),e.R7$(3),e.Y8G("ngForOf",t.service)}}function on(i,s){1&i&&(e.j41(0,"div",79),e.EFF(1," Successfully Saved! "),e.k0s())}function rn(i,s){if(1&i){const t=e.RV6();e.j41(0,"form",55)(1,"div",56)(2,"div",57)(3,"div",58)(4,"button",5),e.EFF(5," Services "),e.k0s()(),e.j41(6,"div",59),e.DNE(7,nn,13,7,"div",60),e.k0s(),e.j41(8,"div",61)(9,"div",62)(10,"div",63),e.DNE(11,on,2,0,"div",64),e.j41(12,"div",65),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeModal())}),e.nrm(13,"fa-icon",66),e.j41(14,"button",67),e.EFF(15," Cancel "),e.k0s()(),e.j41(16,"div",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveForm())}),e.nrm(17,"fa-icon",66),e.j41(18,"button",67),e.EFF(19," Save "),e.k0s()()()()()()()()}if(2&i){const t=e.XpG();e.Y8G("formGroup",t.services_form),e.R7$(7),e.Y8G("ngForOf",t.group_list),e.R7$(4),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(4),e.Y8G("icon",t.faSave)}}function sn(i,s){1&i&&e.nrm(0,"div",80)}let an=(()=>{class i{constructor(t,o){this.http=t,this.formBuilder=o,this.services_form=new a.gE({service_date:new a.MJ(""),service_qty:new a.MJ(""),intake_penicillin:new a.MJ(""),positive_result:new a.MJ("")}),this.modalStats=new e.bkB,this.faTimes=d.GRI,this.faSave=d.hSh,this.faInfoCircle=d.iW_,this.faPenToSquare=d.LFz,this.faTimesCircle=d.s0Q,this.faCircleCheck=d.QRE,this.faPencil=d.zLW,this.faSpinner=d.s4k,this.serviceChanges=[],this.service_array=[],this.service_list=[],this.array_form=[],this.group_list=[{name:"G1",qty:!0,pos:!1,pos_name:"",pen:!1,service:[]},{name:"G2",qty:!1,pos:!1,pos_name:"",pen:!1,service:[]},{name:"G3",qty:!1,pos:!0,pos_name:"Positive",pen:!0,service:[]},{name:"G4",qty:!1,pos:!0,pos_name:"Positive",pen:!1,service:[]},{name:"G5",qty:!1,pos:!0,pos_name:"Anemia",pen:!1,service:[]}]}ngOnInit(){this.user_id=this.http.getUserID(),this.facility_code=this.http.getUserFacility(),this.createForm();for(let t=0;t<11;t++)this.serviceChanges.push(this.services_form.value);this.getServices(),this.tagServiceGroup(),this.today=new Date,this.modal=!1}enableEdit(t){this.edit=this.edit!=t?t:"s",console.log(this.edit,this.edit!=t,t," enableEdit()")}saveForm(){this.is_saving=!0,console.log(this.serviceChanges),this.serviceChanges.forEach(t=>{""!=t.service_id&&(console.log(this.serviceChanges.map(o=>o.service_id).indexOf(t.service_id)," logging index of with id"),console.log("commiting to save ",t),this.http.post("maternal-care/mc-services",t).subscribe({next:o=>{console.log(o.data," data from saving services"),this.getServices()},error:o=>console.log(o),complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1,this.closeModal()},1500)}}))}),this.createForm()}getServices(){this.http.get("maternal-care/mc-services?filter[patient_mc_id]="+this.patient_mc_record.id).subscribe({next:t=>{console.log(t," get services"),this.service_list=t.data,this.service_list.forEach(o=>{"DENT"==o.service.id||"HIV"==o.service.id?o.group=this.group_list[1]:"IRON"==o.service.id||"VITA"==o.service.id||"CALC"==o.service.id||"IODN"==o.service.id||"DWRMG"==o.service.id?o.group=this.group_list[0]:"SYP"==o.service.id?o.group=this.group_list[2]:"HEPB"==o.service.id||"DIBTS"==o.service.id?o.group=this.group_list[3]:"CBC"==o.service.id&&(o.group=this.group_list[4])}),console.log(this.service_list," get service after pushing group")},error:t=>console.log(t)})}tagServiceGroup(){this.lib_services.forEach(t=>{"DENT"==t.id||"HIV"==t.id?this.group_list[1].service.push(t):"IRON"==t.id||"VITA"==t.id||"CALC"==t.id||"IODN"==t.id||"DWRMG"==t.id?this.group_list[0].service.push(t):"SYP"==t.id?this.group_list[2].service.push(t):"HEPB"==t.id||"DIBTS"==t.id?this.group_list[3].service.push(t):"CBC"==t.id&&this.group_list[4].service.push(t)}),console.log(this.group_list," after tagging groups")}createForm(){this.lib_services.forEach(t=>this.array_form.push({service_date:(new Date).toISOString().substring(0,10),visit_type_code:"",visit_status:3==this.module?"Prenatal":4==this.module?"Postpartum":"Services",service_qty:"",positive_result:!1,intake_penicillin:!1,service_id:t.id})),this.services_form=this.formBuilder.group({service_date:[(new Date).toISOString().substring(0,10),[a.k0.required]],visit_type_code:["",[a.k0.required]],visit_status:[3==this.module?"Prenatal":4==this.module?"Postpartum":"Services"],service_qty:[0],positive_result:[!1],intake_penicillin:[!1],service_id:[""]})}getNG(t,o){return this.serviceChanges[this.array_form.map(n=>n.service_id).indexOf(t)][o]}saveEdit(t){let o;console.log(this.service_list[t]," saveEdit bnoy"),o={patient_mc_id:this.service_list[t].patient_mc_id,patient_id:this.service_list[t].patient_id,service_id:this.service_list[t].service.id,visit_type_code:this.service_list[t].visit_type_code,visit_status:this.service_list[t].visit_status,service_date:this.service_list[t].service_date,service_qty:this.service_list[t].service_qty,positive_result:this.service_list[t].positive_result,intake_penicillin:this.service_list[t].intake_penicillin},console.log(o," show edits"),this.is_saving=!0,this.http.update("maternal-care/mc-services/",this.service_list[t].id,o).subscribe({next:n=>{console.log(n.data," data from saving services"),this.getServices(),this.service_list[t].push(n.data)},error:n=>{console.log(n),this.is_saving=!1},complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1,this.closeModal()},1500),this.edit="s"}})}onChange(t,o,n){let r=this.array_form.map(c=>c.service_id).indexOf(o);this.serviceChanges[r]={patient_mc_id:this.patient_mc_record.id,facility_code:this.facility_code,patient_id:this.patient_id,user_id:this.user_id,visit_type_code:"visit_type_code"==n?this.services_form.value[n]:this.serviceChanges[r].visit_type_code,visit_status:this.services_form.value.visit_status,intake_penicillin:"intake_penicillin"==n?this.services_form.value[n]:this.serviceChanges[r].intake_penicillin,positive_result:"positive_result"==n?this.services_form.value[n]:this.serviceChanges[r].positive_result,service_date:"service_date"==n?this.services_form.value[n]:this.serviceChanges[r].service_date,service_qty:"service_qty"==n?this.services_form.value[n]:this.serviceChanges[r].service_qty,service_id:o},console.log(this.serviceChanges," these are the changes with the description: ",t)}openModal(){console.log("opening modal"),this.modal=!this.modal,this.modalStats.emit(this.modal),this.createForm()}closeModal(){console.log("opening modal"),this.modal=!1,this.modalStats.emit(this.modal)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-services"]],inputs:{lib_services:"lib_services",visit_type:"visit_type",patient_id:"patient_id",patient_mc_record:"patient_mc_record",module:"module"},outputs:{modalStats:"modalStats"},standalone:!1,decls:3,vars:3,consts:[["class","grid gap-4 relative animates-dropdown","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["id","defaultModal","tabindex","-1","style","z-index:210","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog",3,"formGroup",4,"ngIf"],["class","opacity-50 fixed inset-0 bg-black ","style","z-index:200",4,"ngIf"],[1,"grid","gap-4","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","right-2","top-1"],["size","md","class","text-white hover:text-gray-500",3,"icon","click",4,"ngIf"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(9, minmax(0, 1fr))"],["class","font-light col-span-4",4,"ngIf"],["class","col-start-[9] bg-green-400 rounded hover:bg-green-500 font-medium text-white my-1 mx-2",3,"click",4,"ngIf"],["class","text-sm pb-1 font-semibold h-max  overflow-x-auto","style","grid-column: span 9 / span 9;",4,"ngIf"],["size","md",1,"text-white","hover:text-gray-500",3,"click","icon"],[1,"font-light","col-span-4"],[1,"col-start-[9]","bg-green-400","rounded","hover:bg-green-500","font-medium","text-white","my-1","mx-2",3,"click"],[1,"text-sm","pb-1","font-semibold","h-max","overflow-x-auto",2,"grid-column","span 9 / span 9"],[1,"table-auto","overflow-x-auto"],[1,"sticky","top-0"],[1,"px-2"],["class","px-2",4,"ngIf"],[4,"ngFor","ngForOf"],["class","hover:bg-blue-100 group",4,"ngIf"],[1,"hover:bg-blue-100","group"],[1,"px-2","font-normal"],[4,"ngIf"],["id","service_date","name","service_date","type","date","class","calendar-style col-span-8 rounded border-solid border border-zinc-300 focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none disabled:cursor-not-allowed",3,"ngModel","ngModelChange",4,"ngIf"],["type","number","min","0","class","in-style font-medium disabled:group-hover:font-semibold peer invalid:border-red-500 border-check focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none rounded border-solid border border-zinc-300 placeholder-black placeholder-opacity-100 disabled:cursor-not-allowed disabled:border-0  disabled:pl-5  disabled:typed-out disabled:group-hover:bg-gray-100 disabled:rounded-full",3,"ngModel","ngModelChange",4,"ngIf"],["class","px-2 font-normal",4,"ngIf"],[1,"px-2","font-normal",2,"text-transform","lowercase"],["class","capitalize",4,"ngIf"],["id","visit_type_code","class","text-ellipsis bg-white text-align-left drop_btn border-check focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none rounded border-solid border border-zinc-300 placeholder-black placeholder-opacity-100 disabled:cursor-not-allowed",3,"ngModel","ngModelChange",4,"ngIf"],[3,"click"],["size","lg","class","text-gray-400 hover:text-orange-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","lg","class","text-gray-400 hover:text-red-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["animation","spin","class","pl-4 text-gray-400 hover:text-blue-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","lg","class","pl-4 text-gray-400 hover:text-blue-400 invisible group-hover:visible",3,"icon","click",4,"ngIf"],["id","service_date","name","service_date","type","date",1,"calendar-style","col-span-8","rounded","border-solid","border","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"ngModelChange","ngModel"],["type","number","min","0",1,"in-style","font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"ngModelChange","ngModel"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["min","0","type","checkbox","class","check-style h-6 w-6 border border-gray-400 rounded-md bg-white checked:bg-blue-400 checked:border-blue-500 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",3,"ngModel","ngModelChange",4,"ngIf"],["size","md",1,"text-red-400",3,"icon"],["size","md",1,"text-green-400",3,"icon"],["min","0","type","checkbox",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"ngModelChange","ngModel"],[1,"capitalize"],["id","visit_type_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","lg",1,"text-gray-400","hover:text-orange-400","invisible","group-hover:visible",3,"icon"],["size","lg",1,"text-gray-400","hover:text-red-400","invisible","group-hover:visible",3,"icon"],["animation","spin",1,"pl-4","text-gray-400","hover:text-blue-400","invisible","group-hover:visible",3,"icon"],["size","lg",1,"pl-4","text-gray-400","hover:text-blue-400","invisible","group-hover:visible",3,"click","icon"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","210",3,"formGroup"],[1,"p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"grid","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"border","border-blue-400","col-span-2","p-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],[1,"bg-gray-100","overflow-y-scroll","scrollbar-thin","scrollbar-thumb-white","hover:scrollbar-thumb-blue-300","scrollbar-track-white","h-96",2,"grid-column","span 16 / span 16"],["class","m-4",4,"ngFor","ngForW-full","ngForOf"],[1,"pr-2","bg-white","rounded-b-lg",2,"grid-column","span 16 / span 16"],[1,"relative","w-auto","border-check","mb-2","w-12/12","flex"],[1,"inline-flex","ml-auto","mt-2"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"mr-2","cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"cursor-pointer","flex","border-check","hover:drop-shadow-md","bg-green-300","hover:bg-green-400","py-1","rounded-full","text-white","px-3","peer-hover:bg-white","peer-hover:text-green-400",3,"click"],[1,"m-4"],[3,"class",4,"ngFor","ngForOf"],[1,"pb-2","hover:bg-blue-100"],[1,"font-normal","px-4"],["formControlName","service_date","id","service_date","name","service_date","type","date","width","auto",1,"col-span-8","rounded","border-solid","border","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"ngModel","change"],["class","font-normal px-4",4,"ngIf"],["formControlName","visit_type_code","id","visit_type_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change","ngModel"],["type","number","formControlName","service_qty","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"ngModel","change"],["type","checkbox","formControlName","positive_result",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"change","ngModel"],["type","checkbox","formControlName","intake_penicillin",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"change","ngModel"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[1,"opacity-50","fixed","inset-0","bg-black",2,"z-index","200"]],template:function(o,n){1&o&&e.DNE(0,Ki,13,5,"div",0)(1,rn,20,5,"form",1)(2,sn,1,0,"div",2),2&o&&(e.Y8G("ngIf",!n.focused),e.R7$(),e.Y8G("ngIf",n.modal),e.R7$(),e.Y8G("ngIf",n.modal))},dependencies:[_.Sq,_.bT,g.aY,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.VZ,a.vS,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.in-style[_ngcontent-%COMP%]{width:5rem;height:1.7rem}.calendar-style[_ngcontent-%COMP%]{height:1.7rem}.remarks[_ngcontent-%COMP%]{min-height:5rem;max-height:8rem;width:100%}.fhr_chart[_ngcontent-%COMP%]{height:60%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:40%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]})}}return i})();function dn(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function cn(i,s){if(1&i&&(e.j41(0,"div",32)(1,"h3",33),e.EFF(2,"Visit Count"),e.k0s(),e.DNE(3,dn,1,1,"fa-icon",34),e.nrm(4,"input",35),e.j41(5,"div",36),e.EFF(6),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(),e.Y8G("value",t.value),e.R7$(2),e.SpI(" ",t.value," ")}}function _n(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function ln(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,_n,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.visit_type.errors?null:t.postpartum_visit_form.controls.visit_type.errors.required)}}function pn(i,s){if(1&i&&(e.j41(0,"div",38)(1,"h3",39),e.EFF(2,"Visit Type"),e.k0s(),e.j41(3,"select",40)(4,"option",41),e.EFF(5,"Clinic Visit"),e.k0s(),e.j41(6,"option",42),e.EFF(7,"Home Visit"),e.k0s()(),e.DNE(8,ln,2,1,"div",43),e.k0s()),2&i){const t=e.XpG(2);e.R7$(8),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.visit_type.errors)}}function un(i,s){if(1&i&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI("(",t.cm_value,")")}}function mn(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function fn(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function gn(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,fn,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.patient_height.errors?null:t.postpartum_visit_form.controls.patient_height.errors.required)}}function vn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"h3",47),e.EFF(2,"Height"),e.k0s(),e.DNE(3,un,2,1,"h3",45)(4,mn,1,1,"fa-icon",34),e.j41(5,"input",48),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return r.onKeyUp(n.target.value,n.target.id),e.Njj(r.cmCatcher(n.target.value))}),e.k0s(),e.DNE(6,gn,2,1,"div",43),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(),e.Y8G("hidden",t.cm_value),e.R7$(2),e.Y8G("ngIf",t.cm_value),e.R7$(),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.patient_height.errors)}}function hn(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function bn(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function kn(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,bn,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.bp_systolic.errors?null:t.postpartum_visit_form.controls.bp_systolic.errors.required)}}function yn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",49)(1,"h3",50),e.EFF(2,"Systolic"),e.k0s(),e.DNE(3,hn,1,1,"fa-icon",34),e.j41(4,"input",51),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,kn,2,1,"div",43),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.bp_systolic.errors)}}function xn(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function Cn(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Gn(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,Cn,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.bp_diastolic.errors?null:t.postpartum_visit_form.controls.bp_diastolic.errors.required)}}function jn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",52)(1,"h3",53),e.EFF(2,"Diastolic"),e.k0s(),e.DNE(3,xn,1,1,"fa-icon",34),e.j41(4,"input",54),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Gn,2,1,"div",43),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.bp_diastolic.errors)}}function Fn(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCaretRight)}}function wn(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function Rn(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,wn,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.patient_weight.errors?null:t.postpartum_visit_form.controls.patient_weight.errors.required)}}function In(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",55)(1,"h3",56),e.EFF(2,"Weight (kg)"),e.k0s(),e.DNE(3,Fn,1,1,"fa-icon",34),e.j41(4,"input",57),e.bIt("keyup",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))})("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.clearForm(n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s(),e.DNE(5,Rn,2,1,"div",43),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.focused&&!1),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.patient_weight.errors)}}function Tn(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Required field "),e.k0s())}function En(i,s){if(1&i&&(e.j41(0,"div",44),e.DNE(1,Tn,2,0,"div",45),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.postpartum_visit_form.controls.postpartum_date.errors?null:t.postpartum_visit_form.controls.postpartum_date.errors.required)}}function Mn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",58)(1,"h3",59),e.EFF(2,"Date"),e.k0s(),e.j41(3,"div",60)(4,"div",61),e.nrm(5,"fa-icon",62),e.k0s(),e.j41(6,"input",63),e.bIt("keyup.escape",function(n){e.eBV(t);const r=e.XpG(2);return n.target.value="",e.Njj(r.onKeyUp(n.target.value,n.target.id))})("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onKeyUp(n.target.value,n.target.id))}),e.k0s()(),e.DNE(7,En,2,1,"div",43),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("icon",t.faCalendarDay),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.postpartum_visit_form.controls.postpartum_date.errors)}}function Nn(i,s){if(1&i&&(e.j41(0,"div",64)(1,"div",65),e.nrm(2,"input",66),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[0].name," ")}}function Pn(i,s){if(1&i&&(e.j41(0,"div",64)(1,"div",65),e.nrm(2,"input",68),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[1].name," ")}}function Yn(i,s){if(1&i&&(e.j41(0,"div",69)(1,"div",70),e.nrm(2,"input",71),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[2].name," ")}}function Xn(i,s){if(1&i&&(e.j41(0,"div",72)(1,"div",65),e.nrm(2,"input",73),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[3].name," ")}}function $n(i,s){if(1&i&&(e.j41(0,"div",64)(1,"div",70),e.nrm(2,"input",74),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[4].name," ")}}function Dn(i,s){if(1&i&&(e.j41(0,"div",75)(1,"div",76),e.nrm(2,"input",77),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[5].name," ")}}function Vn(i,s){if(1&i&&(e.j41(0,"div",75)(1,"div",76),e.nrm(2,"input",78),e.j41(3,"label",67),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.toggle_questionaire[6].name," ")}}function Sn(i,s){if(1&i&&(e.j41(0,"div",4)(1,"div",5)(2,"button",6),e.EFF(3,"Visits (Postpartum)"),e.k0s(),e.j41(4,"div",7),e.nrm(5,"fa-icon",8),e.j41(6,"div",9)(7,"h1",10),e.EFF(8,"IMPORTANT"),e.k0s(),e.j41(9,"p",11),e.EFF(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.k0s()()()(),e.j41(11,"div",12)(12,"div",13),e.DNE(13,cn,7,3,"div",14)(14,pn,9,1,"div",15),e.k0s()(),e.j41(15,"div",16)(16,"div",17)(17,"div",18)(18,"h1",19),e.EFF(19," Vitals "),e.k0s()(),e.DNE(20,vn,7,4,"div",20)(21,yn,6,2,"div",21)(22,jn,6,2,"div",22)(23,In,6,2,"div",23)(24,Mn,8,2,"div",24),e.k0s()(),e.j41(25,"div",25)(26,"div",26)(27,"div",27)(28,"h1",19),e.EFF(29," Postpartum Events "),e.k0s()(),e.DNE(30,Nn,5,1,"div",28)(31,Pn,5,1,"div",28)(32,Yn,5,1,"div",29)(33,Xn,5,1,"div",30)(34,$n,5,1,"div",28)(35,Dn,5,1,"div",31)(36,Vn,5,1,"div",31),e.k0s()()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faInfoCircle),e.R7$(8),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(6),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused),e.R7$(),e.Y8G("ngIf",!t.focused)}}function On(i,s){1&i&&(e.j41(0,"div",88),e.EFF(1," Successfully Saved!"),e.k0s())}function Bn(i,s){if(1&i&&e.nrm(0,"fa-icon",83),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Un(i,s){if(1&i&&e.nrm(0,"fa-icon",89),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function qn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",79)(1,"div",80),e.DNE(2,On,2,0,"div",81),e.j41(3,"div",82),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancel())}),e.nrm(4,"fa-icon",83),e.j41(5,"button",84),e.EFF(6,"Cancel"),e.k0s()(),e.j41(7,"div",85),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveForm())}),e.DNE(8,Bn,1,1,"fa-icon",86)(9,Un,1,1,"fa-icon",87),e.j41(10,"button",84),e.EFF(11),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.saved),e.R7$(2),e.Y8G("icon",t.faTimes),e.R7$(3),e.ZvI("cursor-pointer flex border-check hover:drop-shadow-md ",t.edit_bool?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white peer-hover:text-green-400"),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(2),e.SpI(" ",t.edit_bool?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function zn(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",79)(1,"div",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit())}),e.j41(2,"div",91),e.nrm(3,"fa-icon",83),e.j41(4,"button",92),e.bIt("keyup.enter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.uncheck(n.target.id+r.fphx_cat))}),e.EFF(5,"Edit"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faPencil)}}function Jn(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function Kn(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function Hn(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function An(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function Ln(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function Qn(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function Wn(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function Zn(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function eo(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function to(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function io(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function no(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function oo(i,s){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faCircleCheck)}}function ro(i,s){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faTimesCircle)}}function so(i,s){if(1&i&&e.nrm(0,"fa-icon",109),2&i){const t=e.XpG(3);e.Y8G("icon",t.faPencil)}}function ao(i,s){if(1&i){const t=e.RV6();e.j41(0,"tr",100)(1,"th",101),e.EFF(2),e.k0s(),e.j41(3,"th",101),e.EFF(4),e.k0s(),e.j41(5,"th",101),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"th",101),e.EFF(9),e.k0s(),e.j41(10,"th",101),e.EFF(11),e.k0s(),e.j41(12,"th",101),e.EFF(13),e.k0s(),e.j41(14,"th",101),e.DNE(15,Jn,1,1,"fa-icon",102)(16,Kn,1,1,"fa-icon",103),e.k0s(),e.j41(17,"th",101),e.DNE(18,Hn,1,1,"fa-icon",102)(19,An,1,1,"fa-icon",103),e.k0s(),e.j41(20,"th",101),e.DNE(21,Ln,1,1,"fa-icon",102)(22,Qn,1,1,"fa-icon",103),e.k0s(),e.j41(23,"th",101),e.DNE(24,Wn,1,1,"fa-icon",102)(25,Zn,1,1,"fa-icon",103),e.k0s(),e.j41(26,"th",101),e.DNE(27,eo,1,1,"fa-icon",102)(28,to,1,1,"fa-icon",103),e.k0s(),e.j41(29,"th",101),e.DNE(30,io,1,1,"fa-icon",102)(31,no,1,1,"fa-icon",103),e.k0s(),e.j41(32,"th",101),e.DNE(33,oo,1,1,"fa-icon",102)(34,ro,1,1,"fa-icon",103),e.k0s(),e.j41(35,"th",104)(36,"button",105),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.edit(n))}),e.DNE(37,so,1,1,"fa-icon",106),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(t.visit_sequence),e.R7$(2),e.JRh(t.postpartum_week),e.R7$(2),e.JRh(e.brH(7,22,t.postpartum_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(3),e.JRh(t.patient_height),e.R7$(2),e.JRh(t.patient_weight),e.R7$(2),e.Lme("",t.bp_systolic,"/",t.bp_diastolic,""),e.R7$(2),e.Y8G("ngIf",t.fever),e.R7$(),e.Y8G("ngIf",!t.fever),e.R7$(2),e.Y8G("ngIf",t.vaginal_infection),e.R7$(),e.Y8G("ngIf",!t.vaginal_infection),e.R7$(2),e.Y8G("ngIf",t.vaginal_bleeding),e.R7$(),e.Y8G("ngIf",!t.vaginal_bleeding),e.R7$(2),e.Y8G("ngIf",t.pallor),e.R7$(),e.Y8G("ngIf",!t.pallor),e.R7$(2),e.Y8G("ngIf",t.cord_ok),e.R7$(),e.Y8G("ngIf",!t.cord_ok),e.R7$(2),e.Y8G("ngIf",t.breastfeeding),e.R7$(),e.Y8G("ngIf",!t.breastfeeding),e.R7$(2),e.Y8G("ngIf",t.family_planning),e.R7$(),e.Y8G("ngIf",!t.family_planning),e.R7$(3),e.Y8G("ngIf",!o.edit_bool)}}function co(i,s){if(1&i&&(e.j41(0,"div",93)(1,"div",94)(2,"div",95)(3,"h1",19),e.EFF(4," Postpartum Visits "),e.k0s()(),e.j41(5,"div",96)(6,"table",97)(7,"thead")(8,"tr")(9,"th",98),e.EFF(10,"No."),e.k0s(),e.j41(11,"th",98),e.EFF(12,"Week"),e.k0s(),e.j41(13,"th",98),e.EFF(14,"Date"),e.k0s(),e.j41(15,"th",98),e.EFF(16,"Height (cm)"),e.k0s(),e.j41(17,"th",98),e.EFF(18,"Weight (kg)"),e.k0s(),e.j41(19,"th",98),e.EFF(20,"BP"),e.k0s(),e.j41(21,"th",98),e.EFF(22,"Fever > 38 C"),e.k0s(),e.j41(23,"th",98),e.EFF(24,"Vaginal Infection"),e.k0s(),e.j41(25,"th",98),e.EFF(26,"Vaginal Bleeding"),e.k0s(),e.j41(27,"th",98),e.EFF(28,"Pallor"),e.k0s(),e.j41(29,"th",98),e.EFF(30,"Baby's Cord OK"),e.k0s(),e.j41(31,"th",98),e.EFF(32,"Breastfeeding"),e.k0s(),e.j41(33,"th",98),e.EFF(34,"FP Method"),e.k0s(),e.nrm(35,"th",98),e.k0s()(),e.j41(36,"tbody"),e.DNE(37,ao,38,26,"tr",99),e.k0s()()()()()),2&i){const t=e.XpG();e.R7$(37),e.Y8G("ngForOf",t.postpartum_data)}}let _o=(()=>{class i{constructor(t,o){this.http=t,this.formBuilder=o,this.faCalendarDay=d.isQ,this.faTimes=d.GRI,this.faClose=d.yYc,this.faTimesCircle=d.s0Q,this.faSave=d.hSh,this.faSpinner=d.s4k,this.faPencil=d.zLW,this.faAngleDown=d.tdl,this.faInfoCircle=d.iW_,this.faCaretRight=d.fU5,this.faCircleCheck=d.QRE,this.postpartum_visit_form=new a.gE({postpartum_date:new a.MJ(""),visit_type:new a.MJ(""),patient_height:new a.MJ(""),patient_weight:new a.MJ(""),bp_systolic:new a.MJ(""),bp_diastolic:new a.MJ(""),breastfeeding:new a.MJ(""),family_planning:new a.MJ(""),fever:new a.MJ(""),vaginal_infection:new a.MJ(""),vaginal_bleeding:new a.MJ(""),pallor:new a.MJ(""),cord_ok:new a.MJ("")}),this.patient_height=new Number,this.patient_weight=new Number,this.bp_systolic=new Number,this.bp_diastolic=new Number,this.mc_id=new Number,this.user_id=new Number,this.post_visit_data=new e.bkB,this.cm_value="",this.keyUp=[],this.buttons=[],this.postpartum_data=[],this.toggle_questionaire=[{name:"Vaginal infection",form_name:"vaginal_infection"},{name:"Vaginal bleeding",form_name:"vaginal_bleeding"},{name:"Fever > 38*C",form_name:"fever"},{name:"Pallor",form_name:"pallor"},{name:"Baby's cord OK",form_name:"cord_ok"},{name:"Patient Breastfeeds baby",form_name:"breastfeeding"},{name:"Family Planning Method",form_name:"family_planning"}]}ngOnInit(){this.value=1,this.getMCR(),this.edit_bool=!1,this.focused=!1}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}getMCR(){0!=this.patient_mc_record.length&&((this.patient_mc_record.postpartum_visit[0]?this.patient_mc_record.postpartum_visit[0]:1==this.patient_mc_record.postpartum_visit.length)&&(this.value=this.patient_mc_record.postpartum_visit[0].visit_sequence+1,this.postpartum_data=this.patient_mc_record.postpartum_visit),this.createForm(this.patient_mc_record))}createForm(t){let r,o=this.http.getUserID(),n=this.http.getUserFacility();r=(this.patient_mc_record.postpartum_visit[0]?this.patient_mc_record.postpartum_visit[0]:1==this.patient_mc_record.postpartum_visit.length)?t.postpartum_visit[0]:t.postpartum_visit,this.postpartum_visit_form=this.formBuilder.group({patient_mc_id:[t.id],facility_code:[n],patient_id:[this.patient_id],user_id:[o],postpartum_date:[(new Date).toISOString().substring(0,10),[a.k0.required]],visit_type:["",[a.k0.required]],patient_height:[r?r.patient_height:"",[a.k0.required]],patient_weight:[r?r.patient_weight:"",[a.k0.required]],bp_systolic:["",[a.k0.required]],bp_diastolic:["",[a.k0.required]],breastfeeding:[!1],family_planning:[!1],fever:[!1],vaginal_infection:[!1],vaginal_bleeding:[!1],pallor:[!1],cord_ok:[!1]})}edit(t){this.edit_bool=!0,this.edit_form={patient_mc_id:t.patient_mc_id,patient_id:this.patient_id,postpartum_date:t.postpartum_date,visit_type:t.visit_type,patient_height:t.patient_height,patient_weight:t.patient_weight,bp_systolic:t.bp_systolic,bp_diastolic:t.bp_diastolic,breastfeeding:t.breastfeeding,family_planning:t.family_planning,fever:t.fever,vaginal_infection:t.vaginal_infection,vaginal_bleeding:t.vaginal_bleeding,pallor:t.pallor,cord_ok:t.cord_ok},this.postpartum_visit_form.patchValue(this.edit_form),this.value=0,this.value=t.visit_sequence,this.edit_id=t.id,this.edit_bool=!0}saveForm(){if(this.is_saving=!0,this.postpartum_visit_form.valid){let t;this.actual_height&&(this.postpartum_visit_form.value.patient_height=this.actual_height,this.edit_form&&(this.edit_form.patient_height=this.actual_height)),t=this.edit_bool?this.http.update("maternal-care/mc-postpartum/",this.edit_id,this.postpartum_visit_form.value):this.http.post("maternal-care/mc-postpartum",this.postpartum_visit_form.value),t.subscribe({next:o=>{this.postpartum_data=o.data,this.post_visit_data.emit(o.data),this.value=this.postpartum_data[0].visit_sequence+1},error:o=>console.log(o),complete:()=>{this.is_saving=!1,this.saved=!0,this.edit_bool=!1,this.edit_form=[],this.createForm(this.patient_mc_record),setTimeout(()=>{this.saved=!1},1500)}})}else this.is_saving=!1}onKeyUp(t,o){this.keyUp.includes(o)?""==t&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}clearForm(t){this.postpartum_visit_form.get(t).reset()}cmCatcher(t,o){t.split(" ")[0]>9?(this.feet=t/30.48,this.decimal=this.feet-Math.trunc(this.feet),this.in=12*this.decimal,this.in=+this.in.toFixed(2),this.actual_height=t,this.cm_value=Math.trunc(this.feet)+"ft "+this.in+" in",console.log("h value is ",Math.trunc(this.feet),"ft ",this.in," in")):1==t.lastIndexOf(" ")?(t=t.split(" "),this.feet=30.48*t[0],this.feet=+this.feet.toFixed(1),t[1]>=12&&(t[1]=11),this.in=2.54*t[1],this.in=+this.in.toFixed(1),this.actual_height=this.feet+this.in,this.cm_value=this.feet+this.in+" cm"):(this.feet=30.48*t,this.feet=+this.feet.toFixed(1),this.actual_height=this.feet,this.cm_value=this.feet+" cm")}buttonShow(t){this.buttons=[],this.buttons.includes(t)||this.buttons.push(t)}cancel(){this.keyUp=[],this.edit_bool=!1,this.getMCR()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-postvisits"]],inputs:{patient_mc_record:"patient_mc_record",patient_id:"patient_id"},outputs:{post_visit_data:"post_visit_data"},standalone:!1,decls:5,vars:5,consts:[[3,"ngSubmit","formGroup"],["class","grid gap-2 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],["style","grid-column: span 16 / span 16;","class","mt-12",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-36","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-pink-400","p-2","pt-4","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-2 row-span-2 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none",4,"ngIf"],[2,"grid-column","span 6 / span 6"],[1,"grid","gap-2","grid-cols-6","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border","group"],[1,"col-span-6","text-pink-500","form-check","px-2","py-1","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400"],[1,"select-none"],["class","transitions col-span-2 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-2 border-check relative select-none group ml-2 mb-2",4,"ngIf"],["class","transitions col-span-2 border-check relative select-none group mr-2 mb-2",4,"ngIf"],["class","transitions col-span-2 col-start-1 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-3 mb-2 mx-2",4,"ngIf"],[2,"grid-column","span 10 / span 10"],[1,"grid","grid-cols-8","gap-2","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mr-2","border"],[1,"col-span-9","text-gray-500","form-check","px-2","py-1","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400"],["class","transitions col-span-3 mx-2",4,"ngIf"],["class","transitions col-span-3 mx-2 col-start-1",4,"ngIf"],["class","transitions col-span-3 mx-2 col-start-7 row-start-2",4,"ngIf"],["class","transitions col-span-4 mx-2",4,"ngIf"],[1,"transitions","col-span-2","row-span-2","border-check","relative","select-none","group","mx-2"],["for","visit_sequence",1,"whitespace-nowrap"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-300",3,"icon",4,"ngIf"],["type","text","formControlName","visit_sequence","id","visit_sequence","hidden","",1,"text-lg","font-medium","disabled:group-hover:font-semibold","peer","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"value"],[1,"text-center","text-2xl","font-bold","py-2","border-gray-300","border","rounded-lg"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-300",3,"icon"],[1,"transitions","col-span-4","border-check","relative","select-none"],["for","fetal_presentation_id"],["formControlName","visit_type","name","visit_type","id","visit_type",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed"],["value","CLINIC"],["value","HOME"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-2","border-check","relative","select-none","group","mx-2"],["for","patient_height",3,"hidden"],["type","text","formControlName","patient_height","id","patient_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","border-check","relative","select-none","group","ml-2","mb-2"],["for","bp_systolic"],["type","number","formControlName","bp_systolic","id","bp_systolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","border-check","relative","select-none","group","mr-2","mb-2"],["for","bp_diastolic"],["type","number","formControlName","bp_diastolic","id","bp_diastolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","col-start-1","border-check","relative","select-none","group","mx-2"],["for","patient_weight"],["type","number","formControlName","patient_weight","id","patient_weight",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-3","mb-2","mx-2"],["for","postpartum_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","postpartum_date",1,"text-blue-500",3,"icon"],["formControlName","postpartum_date","id","postpartum_date","name","postpartum_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup.escape","change"],[1,"transitions","col-span-3","mx-2"],[1,"border-check-red","pt-2","group"],["type","checkbox","formControlName","vaginal_infection",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","1","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["name","check",1,"text-gray-800","cursor-pointer"],["type","checkbox","formControlName","vaginal_bleeding",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-3","mx-2","col-start-1"],[1,"border-check-red","group"],["type","checkbox","formControlName","fever",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-3","mx-2","col-start-7","row-start-2"],["type","checkbox","formControlName","pallor",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["type","checkbox","formControlName","cord_ok",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-4","mx-2"],[1,"border-check-red","py-5","group"],["type","checkbox","formControlName","breastfeeding",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["type","checkbox","formControlName","family_planning",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],["animation","spin",1,"mr-2",3,"icon"],[1,"absolute","inline-flex","right-0","cursor-pointer",3,"click"],[1,"flex","border-check","bg-orange-300","hover:bg-orange-400","py-1","rounded-full","text-white","px-2"],["type","submit",1,"font-bold","button-out","border-check-red","typed-out",3,"keyup.enter"],[1,"mt-12",2,"grid-column","span 16 / span 16"],[1,"mb-5","grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mx-2","border",2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 11 / span 11"],[1,"table-auto","w-full"],[1,"font-semibold"],["class","hover:bg-blue-100 group",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100","group"],[1,"font-normal"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],[1,"px-2"],["type","button",3,"click"],["size","lg","class","text-gray-400 hover:text-orange-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","md",1,"text-green-400",3,"icon"],["size","md",1,"text-red-400",3,"icon"],["size","lg",1,"text-gray-400","hover:text-orange-400","invisible","group-hover:visible",3,"icon"]],template:function(o,n){1&o&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return n.saveForm()}),e.DNE(1,Sn,37,15,"div",1)(2,qn,12,8,"div",2)(3,zn,6,1,"div",2)(4,co,38,1,"div",3),e.k0s()),2&o&&(e.Y8G("formGroup",n.postpartum_visit_form),e.R7$(),e.Y8G("ngIf",!n.focused),e.R7$(),e.Y8G("ngIf",!n.focused&&n.postpartum_visit_form.enabled),e.R7$(),e.Y8G("ngIf",!n.focused&&n.postpartum_visit_form.disabled),e.R7$(),e.Y8G("ngIf",0!=n.postpartum_data.length))},dependencies:[_.Sq,_.bT,g.aY,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.BC,a.cb,a.j4,a.JD,_.vh],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}label[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem;-webkit-user-select:none;user-select:none}.remarks[_ngcontent-%COMP%]{height:4rem;width:100%;resize:none}.fhr_chart[_ngcontent-%COMP%]{height:70%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:30%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{transform:translate(100%);background-color:#fff}"]})}}return i})();var lo=l(7468);function po(i,s){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function uo(i,s){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function mo(i,s){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function fo(i,s){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function go(i,s){if(1&i&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}let vo=(()=>{class i{get f(){return this.terminateForm.controls}closeModal(){this.toggleModal.emit()}onSubmit(){}loadDemog(t,o,n){"regions"==t?(this.municipalities=null,this.barangays=null):"provinces"==t&&(this.barangays=null),this.http.get("libraries/"+t+"/"+o,{params:{include:n,per_page:"all"}}).subscribe({next:r=>{this[n]=r.data[n]},error:r=>console.log(r)})}loadLibraries(){const t=this.http.get("libraries/mc-pregnancy-terminations"),o=this.http.get("libraries/regions",{params:{per_page:"all"}});(0,lo.p)([t,o]).subscribe({next:([n,r])=>{this.regions=r.data,this.termination_causes=n.data,this.createForm()},error:n=>console.log(n)})}createForm(){this.terminateForm=this.formBuilder.nonNullable.group({id:[""],pregnancy_termination_date:[""],pregnancy_termination_code:[""],pregnancy_termination_cause:[""],pregnancy_termination_barangay_code:[""],region_code:[""],province_code:[""],municipality_code:[""],barangay_code:[""]})}constructor(t,o){this.http=t,this.formBuilder=o,this.toggleModal=new e.bkB,this.terminateForm=new a.gE({id:new a.MJ(null),pregnancy_termination_date:new a.MJ(null),pregnancy_termination_code:new a.MJ(null),pregnancy_termination_cause:new a.MJ(null),pregnancy_termination_barangay_code:new a.MJ(null),region_code:new a.MJ(null),province_code:new a.MJ(null),municipality_code:new a.MJ(null),barangay_code:new a.MJ(null)}),this.regions=[],this.provinces=[],this.municipalities=null,this.barangays=[],this.termination_causes=[]}ngOnInit(){console.log(this.municipalities),this.loadLibraries()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-terminate-pregnancy"]],outputs:{toggleModal:"toggleModal"},standalone:!1,decls:55,vars:11,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"select-none","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500"],[1,"mt-2","text-sm","font-bold","text-white"],[1,"max-h-96","p-5","overflow-y-auto"],[1,"flex","item-start","flex-wrap"],[1,"grid","grid-cols-2","gap-4","w-full","rounded-lg","text-center",3,"formGroup"],[1,"text-left","text-sm"],["type","date","formControlName","pregnancy_termination_date",1,"input"],["formControlName","pregnancy_termination_code",1,"input"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-2","text-left","text-sm"],["formControlName","region_code",1,"input",3,"change"],["formControlName","province_code",1,"input",3,"change"],["formControlName","municipality_code",1,"input",3,"change"],["formControlName","barangay_code",1,"input"],[1,"col-span-2","text-left","flex","flex-col"],["rows","4","formControlName","pregnancy_termination_cause",1,"input"],[1,"flex","justify-end","py-2","px-5","space-x-4","rounded-b","border-t","border-t-gray-400"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-rose-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-rose-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Terminate Pregnancy "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"form",7)(9,"div",8)(10,"label"),e.EFF(11,"Termination Date"),e.k0s(),e.nrm(12,"input",9),e.k0s(),e.j41(13,"div",8)(14,"label"),e.EFF(15,"Cause of Termination"),e.k0s(),e.j41(16,"select",10)(17,"option",11),e.EFF(18,"-"),e.k0s(),e.DNE(19,po,2,2,"option",12),e.k0s()(),e.j41(20,"div",13)(21,"label"),e.EFF(22,"Region"),e.k0s(),e.j41(23,"select",14),e.bIt("change",function(){return n.loadDemog("regions",n.terminateForm.value.region_code,"provinces")}),e.j41(24,"option",11),e.nrm(25,"i"),e.k0s(),e.DNE(26,uo,2,2,"option",12),e.k0s()(),e.j41(27,"div",13)(28,"label"),e.EFF(29,"Province"),e.k0s(),e.j41(30,"select",15),e.bIt("change",function(){return n.loadDemog("provinces",n.terminateForm.value.province_code,"municipalities")}),e.nrm(31,"option",11),e.DNE(32,mo,2,2,"option",12),e.k0s()(),e.j41(33,"div",13)(34,"label"),e.EFF(35,"Municipality"),e.k0s(),e.j41(36,"select",16),e.bIt("change",function(){return n.loadDemog("municipalities",n.terminateForm.value.municipality_code,"barangays")}),e.nrm(37,"option",11),e.DNE(38,fo,2,2,"option",12),e.k0s()(),e.j41(39,"div",13)(40,"label"),e.EFF(41,"Barangay"),e.k0s(),e.j41(42,"select",17),e.nrm(43,"option",11),e.DNE(44,go,2,2,"option",12),e.k0s()(),e.j41(45,"div",18)(46,"label"),e.EFF(47,"Details of Pregnancy Termination"),e.k0s(),e.nrm(48,"textarea",19),e.k0s()()()(),e.j41(49,"div",20)(50,"button",21),e.bIt("click",function(){return n.closeModal()}),e.EFF(51,"Cancel"),e.k0s(),e.j41(52,"button",22),e.bIt("click",function(){return n.onSubmit()}),e.EFF(53,"Terminate"),e.k0s()()()()(),e.nrm(54,"div",23)),2&o&&(e.R7$(8),e.Y8G("formGroup",n.terminateForm),e.R7$(9),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.termination_causes),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.regions),e.R7$(5),e.Y8G("ngValue",null),e.R7$(),e.Y8G("ngForOf",n.provinces),e.R7$(5),e.Y8G("ngValue",null),e.R7$(),e.Y8G("ngForOf",n.municipalities),e.R7$(5),e.Y8G("ngValue",null),e.R7$(),e.Y8G("ngForOf",n.barangays))},dependencies:[_.Sq,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return i})();function ho(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchPage(2))}),e.EFF(1," VISIT DETAILS "),e.k0s()}if(2&i){const t=e.XpG();e.HbH(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function bo(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchPage(3))}),e.EFF(1," ECLAIMS "),e.k0s()}if(2&i){const t=e.XpG();e.HbH(3===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function ko(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("end_visit"))}),e.nrm(1,"fa-icon",14),e.EFF(2," End Visit "),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("icon",t.faDoorClosed)}}function yo(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(3))}),e.EFF(1," Prenatal "),e.k0s()}if(2&i){const t=e.XpG(2);e.HbH(3===t.module?"tabs-main-true":"tabs-main-false")}}function xo(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(4))}),e.EFF(1," Postpartum "),e.k0s()}if(2&i){const t=e.XpG(2);e.HbH(4===t.module?"tabs-main-true":"tabs-main-false")}}function Co(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(8))}),e.EFF(1," Caserate "),e.k0s()}if(2&i){const t=e.XpG(2);e.HbH(8===t.module?"tabs-main-true":"tabs-main-false")}}function Go(i,s){if(1&i){const t=e.RV6();e.j41(0,"nav",15)(1,"div",16)(2,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchTab(2))}),e.EFF(3," Maternal Care Record "),e.k0s(),e.DNE(4,yo,2,2,"button",18)(5,xo,2,2,"button",18)(6,Co,2,2,"button",18),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.HbH(2===t.module?"tabs-main-true":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",t.patient_mc_record&&t.prenatal),e.R7$(),e.Y8G("ngIf",t.patient_mc_record&&t.prenatal),e.R7$(),e.Y8G("ngIf",t.patient_mc_record&&t.prenatal)}}function jo(i,s){1&i&&(e.j41(0,"div",33),e.EFF(1,"No records found."),e.k0s())}function Fo(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.switchPage(2))}),e.EFF(1,"Add"),e.k0s()}}function wo(i,s){if(1&i&&e.nrm(0,"fa-icon",44),2&i){const t=e.XpG(5);e.Y8G("icon",t.faSpinner)}}function Ro(i,s){if(1&i){const t=e.RV6();e.j41(0,"tr",40)(1,"th",41),e.EFF(2),e.nI1(3,"date"),e.nI1(4,"date"),e.k0s(),e.j41(5,"th",41),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"th",41),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"th",41),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"th",41),e.EFF(15),e.nI1(16,"date"),e.k0s(),e.j41(17,"th",41),e.EFF(18),e.k0s(),e.j41(19,"th",41)(20,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.openMCR(n.id))}),e.DNE(21,wo,1,1,"fa-icon",43),e.EFF(22),e.k0s()()()}if(2&i){const t=s.$implicit,o=e.XpG(4);e.R7$(2),e.JRh(t.pre_registration?"MCR: "+e.brH(3,8,t.pre_registration.pre_registration_date,"MM/dd/yyyy","Asia/Manila"):"Post: "+e.brH(4,12,t.post_registration.post_registration_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(4),e.JRh(t.pre_registration?e.brH(7,16,t.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.post_registration?e.brH(10,20,t.post_registration.delivery_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.post_registration?e.brH(13,24,t.post_registration.admission_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.post_registration?e.brH(16,28,t.post_registration.discharge_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.post_registration&&t.post_registration.end_pregnancy?"Closed":"Open"),e.R7$(3),e.Y8G("ngIf",o.loading&&t.id===o.view_id),e.R7$(),e.SpI(" ",o.loading&&t.id===o.view_id?"":"View"," ")}}function Io(i,s){if(1&i&&(e.j41(0,"div",35)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th",38),e.EFF(5,"Registration Date"),e.k0s(),e.j41(6,"th",38),e.EFF(7,"LMP Date"),e.k0s(),e.j41(8,"th",38),e.EFF(9,"Delivery Date"),e.k0s(),e.j41(10,"th",38),e.EFF(11,"Admission Date"),e.k0s(),e.j41(12,"th",38),e.EFF(13,"Discharge Date"),e.k0s(),e.j41(14,"th",38),e.EFF(15,"Status"),e.k0s(),e.j41(16,"th",38),e.EFF(17,"Action"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,Ro,23,32,"tr",39),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(19),e.Y8G("ngForOf",t.patient_mc_list)}}function To(i,s){if(1&i&&(e.j41(0,"div",22)(1,"div",23)(2,"div",24)(3,"button",25),e.EFF(4,"Records"),e.k0s()(),e.j41(5,"div",26)(6,"div",27)(7,"div",28)(8,"div",29),e.DNE(9,jo,2,0,"div",30)(10,Fo,2,0,"button",31)(11,Io,20,1,"div",32),e.k0s()()()()()()),2&i){const t=e.XpG(2);e.R7$(9),e.Y8G("ngIf",!t.patient_mc_list),e.R7$(),e.Y8G("ngIf",!t.patient_mc_list),e.R7$(),e.Y8G("ngIf",!!t.patient_mc_list&&0!==t.patient_mc_list.length)}}function Eo(i,s){if(1&i&&(e.j41(0,"div",45)(1,"div",46),e.nrm(2,"fa-icon",47),e.k0s(),e.j41(3,"div",48),e.EFF(4," Loading... "),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function Mo(i,s){if(1&i&&(e.j41(0,"div",19),e.DNE(1,To,12,3,"div",20)(2,Eo,5,1,"div",21),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.show_list),e.R7$(),e.Y8G("ngIf",!t.show_list)}}function No(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-mcr",52),e.bIt("patient_mc_id",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.showPreServ(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function Po(i,s){if(1&i&&e.nrm(0,"app-riskfactors",53),2&i){const t=e.XpG(2);e.Y8G("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function Yo(i,s){if(1&i&&(e.j41(0,"div",19)(1,"div",49),e.DNE(2,No,1,2,"app-mcr",50),e.k0s(),e.j41(3,"div",49),e.DNE(4,Po,1,2,"app-riskfactors",51),e.k0s()()),2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.patient_id),e.R7$(2),e.Y8G("ngIf",""!==t.patient_mc_record)}}function Xo(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-services",56),e.bIt("modalStats",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.openModal(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function $o(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",19)(1,"div",49)(2,"app-prenatal",54),e.bIt("prenatal_mc_data",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.updatePrenatal(n))}),e.k0s()(),e.j41(3,"div",49),e.DNE(4,Xo,1,5,"app-services",55),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)("fetals",t.fetals)("fhr_lib",t.fhr_lib),e.R7$(2),e.Y8G("ngIf",t.visit_type)}}function Do(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-postvisits",60),e.bIt("post_visit_data",function(n){e.eBV(t);const r=e.XpG(3);return e.Njj(r.updatePostVisit(n))}),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function Vo(i,s){if(1&i&&(e.j41(0,"div",49),e.DNE(1,Do,1,2,"app-postvisits",59),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.patient_id)}}function So(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-services",56),e.bIt("modalStats",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.openModal(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function Oo(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",19)(1,"div",49)(2,"app-postpartum",57),e.bIt("postpartum_bool",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.postValue(n))})("post_mc_data",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.updatePost(n))}),e.k0s()(),e.DNE(3,Vo,2,1,"div",58),e.j41(4,"div",49),e.DNE(5,So,1,5,"app-services",55),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("patient_mc_record",t.patient_mc_record)("delivery_location",t.delivery_location)("regions",t.regions)("attendants",t.attendants)("preg_outcome",t.preg_outcome)("patient_id",t.patient_id),e.R7$(),e.Y8G("ngIf",t.post_value&&t.patient_mc_record),e.R7$(2),e.Y8G("ngIf",t.visit_type)}}function Bo(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-services",56),e.bIt("modalStats",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.openModal(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function Uo(i,s){if(1&i&&(e.j41(0,"div",61)(1,"div",49),e.DNE(2,Bo,1,5,"app-services",55),e.k0s()()),2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.visit_type)}}function qo(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-end-visit",62),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("end_visit"))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("consult_id",t.consult_id)("consult_date",null==t.consult_details?null:t.consult_details.consult_date)("patient_id",null==t.consult_details?null:t.consult_details.patient.id)("pt_group","mc")}}function zo(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-terminate-pregnancy",63),e.bIt("toggleModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("terminate-pregnancy"))}),e.k0s()}}function Jo(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-caserate",64),e.bIt("switchPage",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.switchPage(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("patient_id",t.patient_mc_record.patient_id)("program_id",t.patient_mc_record.id)("program_name","mc")("max_date",t.max_date)}}function Ko(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-eclaims",65),e.bIt("switchPage",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.switchPage(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("program_id",t.patient_mc_record.id)("selected_case",t.patient_mc_record)("program_name","mc")("max_date",t.max_date)}}const Ho=[{path:"",component:(()=>{class i{switchPage(t){this.pages=t}switchTab(t){this.module=t}toggleModal(t){this.modals[t]=!this.modals[t]}postValue(t){t&&(this.post_value=!0)}mcrID(t,o){this.http.get("maternal-care/mc-records",{params:{type:t,patient_id:o}}).subscribe({next:r=>{r.data.length>0&&(this.patient_mc_list=r.data,(!this.patient_mc_list[0].post_registration||!this.patient_mc_list[0].post_registration.end_pregnancy)&&this.openMCR(this.patient_mc_list[0].id)),this.show_list=!0},error:r=>{this.http.showError(r.error.message,"Maternal Care")}})}openMCR(t){this.loading=!0,this.view_id=t,t&&this.http.get("maternal-care/mc-records/"+t,{params:{location:"show"}}).subscribe({next:o=>{this.patient_mc_record=o.data,this.mcr=!0,this.patient_mc_record.pre_registration?(this.prenatal=!0,this.patient_mc_record.post_registration&&0!=this.patient_mc_record.post_registration.length&&(this.post_value=!0)):!this.patient_mc_record.pre_registration&&this.patient_mc_record.post_registration&&(this.prenatal=!1,this.mcr=!1)},error:o=>console.log(o),complete:()=>{this.loading=!1,this.patient_mc_record.pre_registration?1===this.pages&&(this.pages=2,this.module=2):(this.pages=2,this.module=4)}})}loadLibraries(){this.libraries.forEach(t=>{this.http.get("libraries/"+t.location,{params:{per_page:"all"}}).subscribe({next:o=>{this[t.var_name]=o.data,this.loadConsultDetails()},error:o=>console.log(o)})})}showPreServ(t){""!=t&&this.openMCR(t),this.prenatal=!0}openModal(t){this.modalStats=t}updatePrenatal(t){this.patient_mc_record.prenatal_visit=t}updatePost(t){this.openMCR(t)}updatePostVisit(t){this.patient_mc_record.postpartum_visit=t}endVisit(){this.http.update("consultation/records/",this.consult_id,{consult_done:1,patient_id:this.consult_details[0].patient.id,user_id:this.consult_details[0].user.id,consult_date:this.consult_details[0].consult_date,pt_group:this.consult_details[0].pt_group}).subscribe({error:o=>console.log(o),complete:()=>{this.proceedItr()}})}proceedItr(){this.router.navigate(["/patient/itr",{id:this.patient_id}])}loadConsultDetails(){this.http.get("consultation/records",{params:{id:this.consult_id}}).subscribe(t=>{this.consult_details=t.data[0],this.mcrID("all",this.patient_id)})}constructor(t,o,n){this.http=t,this.router=o,this.toastr=n,this.faDoorClosed=d.K_I,this.faPersonWalking=d.kH$,this.faPenToSquare=d.LFz,this.faSpinner=d.z1G,this.faCircleNotch=d.s4k,this.patient_mc_record="",this.show_list=!1,this.libraries=[{var_name:"fetals",location:"mc-presentations"},{var_name:"fhr_lib",location:"mc-locations"},{var_name:"delivery_location",location:"mc-delivery-locations"},{var_name:"regions",location:"regions?include=provinces"},{var_name:"attendants",location:"mc-attendants"},{var_name:"preg_outcome",location:"mc-outcomes"},{var_name:"lib_services",location:"mc-services"},{var_name:"visit_type",location:"mc-visit-type"}],this.pages=1,this.module=2,this.modals=[]}ngOnInit(){this.mcr=!0,this.module=2,this.post_value=!1,this.loading=!1,this.loadLibraries(),this.active_loc_id=this.http.getUrlParams(),this.patient_id=this.active_loc_id.patient_id,this.consult_id=this.active_loc_id.consult_id}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(f.k),e.rXU(h.Ix),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-maternalcare"]],standalone:!1,decls:18,vars:15,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","fade-in mb-20",4,"ngIf"],["class","fade-in mb-20 z-20",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"toggleModal",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[3,"program_id","selected_case","program_name","max_date","switchPage",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],[1,"fade-in","mb-20"],["class","w-12/12 px-4 pb-10 border-solid border-2 border-zinc-100 border-l-0 border-r-0 border-t-0 p-3",4,"ngIf"],["class","grid grid-cols-1 my-20",4,"ngIf"],[1,"w-12/12","px-4","pb-10","border-solid","border-2","border-zinc-100","border-l-0","border-r-0","border-t-0","p-3"],[1,"grid","gap-4","relative","animates-dropdown"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(9, minmax(0, 1fr))"],["class","font-light col-span-4",4,"ngIf"],["class","col-start-[9] bg-green-400 rounded hover:bg-green-500 font-medium text-white my-1 mx-2",3,"click",4,"ngIf"],["class","text-sm pb-1 font-semibold h-max overflow-x-auto","style","grid-column: span 9 / span 9;",4,"ngIf"],[1,"font-light","col-span-4"],[1,"col-start-[9]","bg-green-400","rounded","hover:bg-green-500","font-medium","text-white","my-1","mx-2",3,"click"],[1,"text-sm","pb-1","font-semibold","h-max","overflow-x-auto",2,"grid-column","span 9 / span 9"],[1,"table-auto","relative","w-full"],[1,"sticky","top-0"],[1,"px-2"],["class","hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100"],[1,"px-2","font-normal"],[1,"px-2","py-1","bg-blue-400","text-white","font-bold","rounded","hover:bg-blue-500",3,"click"],["class","mx-3","animation","spin",3,"icon",4,"ngIf"],["animation","spin",1,"mx-3",3,"icon"],[1,"grid","grid-cols-1","my-20"],[1,"flex","justify-center","text-blue-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"],[1,"w-12/12","px-8","pb-10","border-solid","border-2","border-zinc-100","border-l-0","border-r-0","border-t-0","p-3"],[3,"patient_mc_record","patient_id","patient_mc_id",4,"ngIf"],[3,"patient_mc_record","patient_id",4,"ngIf"],[3,"patient_mc_id","patient_mc_record","patient_id"],[3,"patient_mc_record","patient_id"],[3,"prenatal_mc_data","patient_mc_record","patient_id","fetals","fhr_lib"],[3,"patient_mc_record","module","lib_services","visit_type","patient_id","modalStats",4,"ngIf"],[3,"modalStats","patient_mc_record","module","lib_services","visit_type","patient_id"],[3,"postpartum_bool","post_mc_data","patient_mc_record","delivery_location","regions","attendants","preg_outcome","patient_id"],["class","w-12/12 px-8 pb-10 border-solid border-2 border-zinc-100 border-l-0 border-r-0 border-t-0 p-3",4,"ngIf"],[3,"patient_mc_record","patient_id","post_visit_data",4,"ngIf"],[3,"post_visit_data","patient_mc_record","patient_id"],[1,"fade-in","mb-20","z-20"],[3,"toggleModal","consult_id","consult_date","patient_id","pt_group"],[3,"toggleModal"],[3,"switchPage","patient_id","program_id","program_name","max_date"],[3,"switchPage","program_id","selected_case","program_name","max_date"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"nav",1)(2,"button",2),e.bIt("click",function(){return n.switchPage(1)}),e.EFF(3," HISTORY "),e.k0s(),e.DNE(4,ho,2,2,"button",3)(5,bo,2,2,"button",3),e.k0s(),e.j41(6,"div",4),e.DNE(7,ko,3,1,"button",5),e.k0s()(),e.DNE(8,Go,7,5,"nav",6)(9,Mo,3,2,"div",7)(10,Yo,5,2,"div",7)(11,$o,5,5,"div",7)(12,Oo,6,8,"div",7)(13,Uo,3,1,"div",8)(14,qo,1,4,"app-end-visit",9)(15,zo,1,0,"app-terminate-pregnancy",10)(16,Jo,1,4,"app-caserate",11)(17,Ko,1,4,"app-eclaims",12)),2&o&&(e.R7$(2),e.HbH(1===n.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",n.show_list&&n.patient_id&&n.mcr),e.R7$(),e.Y8G("ngIf",n.show_list&&n.patient_id&&n.mcr),e.R7$(2),e.Y8G("ngIf",n.show_list&&!(null!=n.consult_details&&n.consult_details.consult_done)),e.R7$(),e.Y8G("ngIf",2===n.pages),e.R7$(),e.Y8G("ngIf",1===n.pages),e.R7$(),e.Y8G("ngIf",2===n.pages&&2===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&3===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&4===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&5===n.module),e.R7$(),e.Y8G("ngIf",n.modals.end_visit),e.R7$(),e.Y8G("ngIf",n.modals["terminate-pregnancy"]),e.R7$(),e.Y8G("ngIf",2===n.pages&&8===n.module),e.R7$(),e.Y8G("ngIf",3===n.pages))},dependencies:[_.Sq,_.bT,g.aY,k.u,y.G,x.i,oe,lt,jt,hi,an,_o,vo,_.vh],styles:["@keyframes _ngcontent-%COMP%_pulse-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-in .3s forwards ease-in}.service-modal[_ngcontent-%COMP%]{z-index:200!important}"]})}}return i})()}];let Ao=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(Ho),h.iI]})}}return i})();var Lo=l(4959);let Qo=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[_.MD,Ao,g.dX,a.YN,a.X1,k.u,y.G,Lo.u]})}}return i})()}}]);