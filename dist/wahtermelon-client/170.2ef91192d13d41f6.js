"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[170],{9451:(E,P,u)=>{u.d(P,{M:()=>nl});var e=u(5879),d=u(3602),_=u(590),k=u(2181),q=u(9397),h=u(265),c=u(6814),v=u(5597);function Y(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("family-history"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions["family-history"]?t.faChevronUp:t.faChevronDown)}}function w(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function O(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("(",t.history.length,")")}}function j(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function x(i,a){if(1&i&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.libmedicalHistory.history_desc," "),e.xp6(2),e.hij(" ",t.remarks," ")}}function m(i,a){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,x,5,2,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",t.history)("ngForTrackBy",t.identify)}}function p(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,m,2,3,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions["family-history"])}}const g=function(i){return{"opacity-70":i}};let Z=(()=>{var i;class a{loadData(o){this.http.get("patient-history/history",{params:{patient_id:o,category:"2"}}).subscribe({next:n=>{this.setFamilyMedical.emit(n.data),this.history=n.data},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setFamilyMedical=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faMinus=_.Kl4}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-family-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setFamilyMedical:"setFamilyMedical"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,Y,1,1,"fa-icon",3),e.YNc(4,w,1,1,"fa-icon",4),e._uU(5," FAMILY MEDICAL HISTORY "),e.YNc(6,O,2,1,"span",5),e.qZA(),e.TgZ(7,"fa-icon",6),e.NdJ("click",function(){return n.modalToggle("fam-history")}),e.qZA()(),e.YNc(8,j,9,0,"div",5),e.YNc(9,p,2,1,"div",5),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(7,g,0===(null==n.history?null:n.history.length)||!n.history)),e.xp6(1),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("ngIf",0===(null==n.history?null:n.history.length)||!n.history),e.xp6(2),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.history),e.xp6(1),e.Q6J("ngIf",n.history))},dependencies:[c.mk,c.sg,c.O5,v.BN]}),a})();function y(i,a){1&i&&(e.TgZ(0,"div")(1,"div",8)(2,"div",9),e._UZ(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),e.qZA()()())}function A(i,a){if(1&i&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.laboratory.desc," ")}}function b(i,a){if(1&i&&(e.TgZ(0,"span",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,t.request_date,"MM/dd/yyyy","Asia/Manila")," ")}}const T=function(i){return{hidden:i}};function M(i,a){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,A,2,1,"span",15),e.YNc(2,b,3,5,"span",16),e.qZA()),2&i){const t=a.$implicit;e.Q6J("ngClass",e.VKq(3,T,t.lab_result||"RQ"!==t.request_status_code)),e.xp6(1),e.Q6J("ngIf",!t.result||"N"===t.result.lab_status_code),e.xp6(1),e.Q6J("ngIf",!t.result||"N"===t.result.lab_status_code)}}function N(i,a){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,M,3,5,"div",13),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",t.lab_list)}}function Q(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,N,2,2,"div",11),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordions.lab_request)}}function L(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("lab_request"))}),e.qZA(),e._uU(4," PENDING LABS "),e.qZA(),e.TgZ(5,"span")(6,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modalToggle("lab-request"))}),e._uU(7,"request"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.navigate("lab"))}),e._uU(9,"open lab"),e.qZA()()(),e.YNc(10,y,9,0,"div",7),e.YNc(11,Q,2,1,"div",7),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.accordions.lab_request?t.faChevronUp:t.faChevronDown),e.xp6(7),e.Q6J("ngIf",!t.lab_list),e.xp6(1),e.Q6J("ngIf",t.lab_list)}}let K=(()=>{var i;class a{loadData(o){this.http.get("laboratory/consult-laboratories",{params:{patient_id:o,sort:"-request_date",include:"laboratory"}}).subscribe({next:l=>{this.lab_list=l.data,this.setLabList.emit(this.lab_list)},error:l=>console.log(l)})}navigate(o){this.navigateTo.emit(o)}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o,n){this.http=o,this.router=n,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.navigateTo=new e.vpe,this.setLabList=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.lab_request=!1,this.show_form=!1,this.navigationEnd$=this.router.events.pipe((0,k.h)(l=>l instanceof d.m2),(0,q.b)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(d.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-laboratory"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",navigateTo:"navigateTo",setLabList:"setLabList"},decls:1,vars:1,consts:[["class","block pt-4 justify-items-start mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mr-2","bg-amber-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-amber-400",3,"click"],[1,"bg-green-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-green-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block pt-2",4,"ngIf"],[1,"block","pt-2"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],["class","block font-medium text-xs",4,"ngIf"],["class","block text-xs",4,"ngIf"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(o,n){1&o&&e.YNc(0,L,12,3,"div",0),2&o&&e.Q6J("ngIf","lab"!==(null==n.active_loc_id?null:n.active_loc_id.loc))},dependencies:[c.mk,c.sg,c.O5,v.BN,c.uU]}),a})();function B(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("menstrual"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions.menstrual?t.faChevronUp:t.faChevronDown)}}function ge(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function he(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function fe(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"span",15),e._uU(3," Menarche "),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()(),e.TgZ(6,"div",14)(7,"span",15),e._uU(8," Last menstrual period "),e.qZA(),e.TgZ(9,"span",16),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",14)(13,"span",15),e._uU(14," Period duration "),e.qZA(),e.TgZ(15,"span",16),e._uU(16),e.qZA()(),e.TgZ(17,"div",14)(18,"span",15),e._uU(19," Cycle "),e.qZA(),e.TgZ(20,"span",16),e._uU(21),e.qZA()(),e.TgZ(22,"div",14)(23,"span",15),e._uU(24," Pads/day "),e.qZA(),e.TgZ(25,"span",16),e._uU(26),e.qZA()(),e.TgZ(27,"div",14)(28,"span",15),e._uU(29," Onset sexual intercourse "),e.qZA(),e.TgZ(30,"span",16),e._uU(31),e.qZA()(),e.TgZ(32,"div",14)(33,"span",15),e._uU(34," FP method "),e.qZA(),e.TgZ(35,"span",16),e._uU(36),e.qZA()(),e.TgZ(37,"div",14)(38,"span",15),e._uU(39," Menopause "),e.qZA(),e.TgZ(40,"span",16),e._uU(41),e.qZA()(),e.TgZ(42,"div",14)(43,"span",15),e._uU(44," Menopause age "),e.qZA(),e.TgZ(45,"span",16),e._uU(46),e.qZA()()()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.menarche," "),e.xp6(5),e.hij(" ",e.Dn7(11,10,null==t.menstrual_history?null:t.menstrual_history.lmp,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(6),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.period_duration," "),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.cycle," "),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.pads_per_day," "),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.onset_sexual_intercourse," "),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.method," "),e.xp6(5),e.hij(" ",1===(null==t.menstrual_history?null:t.menstrual_history.menopause)?"Yes":"No"," "),e.xp6(5),e.hij(" ",null==t.menstrual_history?null:t.menstrual_history.menopause_age," ")}}function ve(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,fe,47,14,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.menstrual)}}const be=function(i){return{"opacity-70":i}};let te=(()=>{var i;class a{loadData(o){this.http.get("patient-menstrual-history/history",{params:{patient_id:o}}).subscribe({next:n=>{this.setMenstrual.emit(n.data),this.show_form=!0,this.menstrual_history=n.data[0]},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setMenstrual=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faMinus=_.Kl4,this.show_form=!1}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menstrual-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setMenstrual:"setMenstrual"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,B,1,1,"fa-icon",3),e.YNc(4,ge,1,1,"fa-icon",4),e._uU(5," MENSTRUAL HISTORY "),e.qZA(),e.TgZ(6,"fa-icon",5),e.NdJ("click",function(){return n.modalToggle("menstrual")}),e.qZA()(),e.YNc(7,he,9,0,"div",6),e.YNc(8,ve,2,1,"div",6),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(6,be,!n.menstrual_history)),e.xp6(1),e.Q6J("ngIf",n.menstrual_history),e.xp6(1),e.Q6J("ngIf",!n.menstrual_history),e.xp6(2),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(1),e.Q6J("ngIf",n.show_form))},dependencies:[c.mk,c.O5,v.BN,c.uU]}),a})();function xe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("history"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions.history?t.faChevronUp:t.faChevronDown)}}function ye(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function Ze(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("(",t.history.length,")")}}function we(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function Ce(i,a){if(1&i&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.libmedicalHistory.history_desc," "),e.xp6(2),e.hij(" ",t.remarks," ")}}function Te(i,a){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,Ce,5,2,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",t.history)("ngForTrackBy",t.identify)}}function Me(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Te,2,3,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.history)}}const Ae=function(i){return{"opacity-70":i}};let ie=(()=>{var i;class a{loadData(o){this.http.get("patient-history/history",{params:{patient_id:o,category:"1"}}).subscribe({next:n=>{this.setPastMedical.emit(n.data),this.history=n.data},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setPastMedical=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faMinus=_.Kl4}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-past-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setPastMedical:"setPastMedical"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,xe,1,1,"fa-icon",3),e.YNc(4,ye,1,1,"fa-icon",4),e._uU(5," PAST MEDICAL HISTORY "),e.YNc(6,Ze,2,1,"span",5),e.qZA(),e.TgZ(7,"fa-icon",6),e.NdJ("click",function(){return n.modalToggle("history")}),e.qZA()(),e.YNc(8,we,9,0,"div",5),e.YNc(9,Me,2,1,"div",5),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(7,Ae,0===(null==n.history?null:n.history.length)||!n.history)),e.xp6(1),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("ngIf",0===(null==n.history?null:n.history.length)||!n.history),e.xp6(2),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.history),e.xp6(1),e.Q6J("ngIf",n.history))},dependencies:[c.mk,c.sg,c.O5,v.BN]}),a})();function ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modalToggle("philhealth-list"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.faTableList)}}const qe=function(i){return{"text-red-500":i}};let ne=(()=>{var i;class a{loadData(o){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":o,per_page:"1",sort:"-enlistment_date"}}).subscribe({next:n=>{this.philhealth_info=n.data[0],this.http.setPhilhealhtInfo(this.philhealth_info),this.setDetails.emit({var_name:"philhealth_details",data:n.data[0]}),this.show_philhealth=!0},error:n=>console.log(n)})}get philhealthColor(){return!!this.philhealth_info&&(0,c.p6)(this.philhealth_info.enlistment_date,"yyyy","en","Asia/Manila")<(0,c.p6)(new Date,"yyyy","en","Asia/Manila")}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setDetails=new e.vpe,this.faPlusCircle=_.KtF,this.faTableList=_.u7T,this.show_philhealth=!1}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-philhealth"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:17,vars:12,consts:[[1,"mt-4","leading-tight"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"grid","grid-cols-2","pl-3","w-full",3,"ngClass"],[1,"col-span-1","text-xs"],[1,"col-span-1","text-xs","text-right"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"icon","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," PHILHEALTH "),e.qZA(),e.TgZ(4,"span"),e.YNc(5,ke,1,1,"fa-icon",3),e.TgZ(6,"fa-icon",4),e.NdJ("click",function(){return n.modalToggle("philhealth")}),e.qZA()()(),e.TgZ(7,"div",5)(8,"span",6),e._uU(9),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"span",6),e._uU(14," ATC "),e.qZA(),e.TgZ(15,"span",7),e._uU(16),e.qZA()()()),2&o&&(e.xp6(5),e.Q6J("ngIf",n.philhealth_info),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngClass",e.VKq(10,qe,n.philhealthColor)),e.xp6(2),e.hij(" ",null==n.philhealth_info?null:n.philhealth_info.philhealth_id," "),e.xp6(2),e.hij(" ",e.Dn7(12,6,null==n.philhealth_info?null:n.philhealth_info.enlistment_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(5),e.hij(" ",null==n.philhealth_info?null:n.philhealth_info.authorization_transaction_code," "))},dependencies:[c.mk,c.O5,v.BN,c.uU]}),a})();function Ie(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("preghist"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions.preghist?t.faChevronUp:t.faChevronDown)}}function Ue(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function Je(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function Ne(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"span",15),e._uU(3," FPAL "),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()(),e.TgZ(6,"div",14)(7,"span",15),e._uU(8," GP "),e.qZA(),e.TgZ(9,"span",16),e._uU(10),e.qZA()(),e.TgZ(11,"div",14)(12,"span",15),e._uU(13," Delivery method "),e.qZA(),e.TgZ(14,"span",16),e._uU(15),e.qZA()(),e.TgZ(16,"div",14)(17,"span",15),e._uU(18," With family planning "),e.qZA(),e.TgZ(19,"span",16),e._uU(20),e.qZA()(),e.TgZ(21,"div",14)(22,"span",15),e._uU(23," Induced hypertension "),e.qZA(),e.TgZ(24,"span",16),e._uU(25),e.qZA()()()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(5),e.HOy(" ",null==t.pregnancy_history?null:t.pregnancy_history.full_term,", ",null==t.pregnancy_history?null:t.pregnancy_history.preterm,", ",null==t.pregnancy_history?null:t.pregnancy_history.abortion,", ",null==t.pregnancy_history?null:t.pregnancy_history.livebirths," "),e.xp6(5),e.AsE(" ",null==t.pregnancy_history?null:t.pregnancy_history.gravidity,", ",null==t.pregnancy_history?null:t.pregnancy_history.parity," "),e.xp6(5),e.hij(" ",null==t.pregnancy_history?null:t.pregnancy_history.libPregnancyDeliveryType.desc," "),e.xp6(5),e.hij(" ",null==t.pregnancy_history?null:t.pregnancy_history.withFamilyPlanning.desc," "),e.xp6(5),e.hij(" ",null==t.pregnancy_history?null:t.pregnancy_history.inducedHypertension.desc," ")}}function Qe(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ne,26,10,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.preghist)}}const Fe=function(i){return{"opacity-70":i}};let oe=(()=>{var i;class a{loadData(o){this.http.get("patient-pregnancy-history/history",{params:{patient_id:o}}).subscribe({next:n=>{this.show_form=!0,this.pregnancy_history=n.data[0],this.setDetails.emit({var_name:"pregnancy_history",data:this.pregnancy_history})},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setDetails=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faMinus=_.Kl4,this.show_form=!1}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-preghist"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,Ie,1,1,"fa-icon",3),e.YNc(4,Ue,1,1,"fa-icon",4),e._uU(5," PREGNANCY HISTORY "),e.qZA(),e.TgZ(6,"fa-icon",5),e.NdJ("click",function(){return n.modalToggle("preghist")}),e.qZA()(),e.YNc(7,Je,9,0,"div",6),e.YNc(8,Qe,2,1,"div",6),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(6,Fe,!n.pregnancy_history)),e.xp6(1),e.Q6J("ngIf",n.pregnancy_history),e.xp6(1),e.Q6J("ngIf",!n.pregnancy_history),e.xp6(2),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(1),e.Q6J("ngIf",n.show_form))},dependencies:[c.mk,c.O5,v.BN]}),a})(),Pe=(()=>{var i;class a{constructor(){this.faMinus=_.Kl4}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pregnancy-history"]],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"pregnancy-history works!"),e.qZA())}}),a})();function De(i,a){1&i&&(e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"div",9)(4,"div",9)(5,"div",9)(6,"div",9)(7,"div",9)(8,"div",9),e.qZA()()())}function Ve(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.konsulta_medicine?t.konsulta_medicine.desc:t.added_medicine," "),e.xp6(2),e.hij(" ",t.quantity," ")}}function Ye(i,a){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,Ve,5,2,"div",12),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",t.prescriptions)("ngForTrackBy",t.identify)}}function Oe(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ye,2,3,"div",10),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordions.prescriptions)}}function je(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("prescriptions"))}),e.qZA(),e._uU(4," PRESCRIPTIONS "),e.qZA(),e.TgZ(5,"span")(6,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.navigate("dispensing"))}),e._uU(7,"dispensing"),e.qZA()()(),e.YNc(8,De,9,0,"div",6),e.YNc(9,Oe,2,1,"div",6),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.accordions.prescriptions?t.faChevronUp:t.faChevronDown),e.xp6(5),e.Q6J("ngIf",!t.prescriptions),e.xp6(1),e.Q6J("ngIf",t.prescriptions)}}let ae=(()=>{var i;class a{toggle(o){this.toggleAccordion.emit(o)}navigate(o){this.navigateTo.emit(o)}identify(o,n){return n.id}loadData(o){this.http.get("medicine/prescriptions",{params:{patient_id:o,status:"dispensing"}}).subscribe({next:l=>{this.prescriptions=l.data},error:l=>console.log(l)})}loadPrescriptions(){this.patient_info&&this.http.get("medicine/prescriptions",{params:{patient_id:this.patient_info.id,status:"dispensing"}}).subscribe({next:n=>{console.log(n.data),this.prescriptions=n.data},error:n=>console.log(n)})}constructor(o,n){this.http=o,this.router=n,this.toggleAccordion=new e.vpe,this.navigateTo=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.libraries={konsulta_medicine_code:{var_name:"medicine_desc",location:"konsulta-medicines",value:""}},this.no_pres_form=["dispensing","cn"],this.navigationEnd$=this.router.events.pipe((0,k.h)(l=>l instanceof d.m2),(0,q.b)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(d.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-prescriptions"]],inputs:{accordions:"accordions",consult_id:"consult_id",patient_info:"patient_info"},outputs:{toggleAccordion:"toggleAccordion",navigateTo:"navigateTo"},decls:1,vars:1,consts:[["class","block pt-4 justify-items-start mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"bg-blue-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-blue-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1 border-dashed border-b border-slate-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1","border-dashed","border-b","border-slate-200"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(o,n){1&o&&e.YNc(0,je,10,3,"div",0),2&o&&e.Q6J("ngIf",-1===n.no_pres_form.indexOf(null==n.active_loc_id?null:n.active_loc_id.loc))},dependencies:[c.sg,c.O5,v.BN]}),a})();function Se(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("lifestyle"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions.lifestyle?t.faChevronUp:t.faChevronDown)}}function Ee(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function Le(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function He(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"span",15),e._uU(3," Smoker "),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()(),e.TgZ(6,"div",14)(7,"span",15),e._uU(8," Pack year "),e.qZA(),e.TgZ(9,"span",16),e._uU(10),e.qZA()(),e.TgZ(11,"div",14)(12,"span",15),e._uU(13," Alcohol "),e.qZA(),e.TgZ(14,"span",16),e._uU(15),e.qZA()(),e.TgZ(16,"div",14)(17,"span",15),e._uU(18," Bottle per day "),e.qZA(),e.TgZ(19,"span",16),e._uU(20),e.qZA()(),e.TgZ(21,"div",14)(22,"span",15),e._uU(23," Illicit drugs "),e.qZA(),e.TgZ(24,"span",16),e._uU(25),e.qZA()(),e.TgZ(26,"div",14)(27,"span",15),e._uU(28," Sexually Active "),e.qZA(),e.TgZ(29,"span",16),e._uU(30),e.qZA()()()),2&i){const t=e.oxw(2);let o,n;e.Q6J("@openCloseAccordion",void 0),e.xp6(5),e.hij(" ",null==t.social_history?null:t.social_history.smoking," "),e.xp6(5),e.hij(" ",null!==(o=null==t.social_history?null:t.social_history.pack_per_year)&&void 0!==o?o:"-"," "),e.xp6(5),e.hij(" ",null==t.social_history?null:t.social_history.alcohol," "),e.xp6(5),e.hij(" ",null!==(n=null==t.social_history?null:t.social_history.bottles_per_day)&&void 0!==n?n:"-"," "),e.xp6(5),e.hij(" ",null==t.social_history?null:t.social_history.illicit_drugs," "),e.xp6(5),e.hij(" ",null==t.social_history?null:t.social_history.sexually_active," ")}}function Ke(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,He,31,7,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.lifestyle)}}const Ge=function(i){return{"opacity-70":i}};let le=(()=>{var i;class a{loadData(o){this.http.get("patient-social-history/history",{params:{patient_id:o}}).subscribe({next:n=>{this.social_history=0!==n.data.length?n.data[0]:[],this.setDetails.emit({var_name:"social_history",data:this.social_history})},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setDetails=new e.vpe,this.faPlusCircle=_.KtF,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faMinus=_.Kl4}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-social-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,Se,1,1,"fa-icon",3),e.YNc(4,Ee,1,1,"fa-icon",4),e._uU(5," LIFESTYLE "),e.qZA(),e.TgZ(6,"fa-icon",5),e.NdJ("click",function(){return n.modalToggle("lifestyle")}),e.qZA()(),e.YNc(7,Le,9,0,"div",6),e.YNc(8,Ke,2,1,"div",6),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(6,Ge,!n.social_history)),e.xp6(1),e.Q6J("ngIf",n.social_history),e.xp6(1),e.Q6J("ngIf",!n.social_history),e.xp6(2),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.social_history),e.xp6(1),e.Q6J("ngIf",n.social_history))},dependencies:[c.mk,c.O5,v.BN]}),a})();function Re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("surgical-history"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions["surgical-history"]?t.faChevronUp:t.faChevronDown)}}function Be(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function ze(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("(",t.history.length,")")}}function We(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function $e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16)(2,"fa-icon",17),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.modalToggle("surgical-action",l))}),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"span",18),e._uU(5),e.ALo(6,"date"),e.qZA()()}if(2&i){const t=a.$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("icon",o.faTrashCan),e.xp6(1),e.hij(" ",t.operation," "),e.xp6(2),e.hij(" ",e.Dn7(6,3,t.operation_date,"MM/dd/yyyy","Asia/Manila")," ")}}function Xe(i,a){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,$e,7,7,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",t.history)("ngForTrackBy",t.identify)}}function et(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Xe,2,3,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions["surgical-history"])}}const tt=function(i){return{"opacity-70":i}};let re=(()=>{var i;class a{loadData(o){this.http.get("patient-surgical-history/history",{params:{patient_id:o,category:"1"}}).subscribe({next:n=>{this.setSurgicalHistory.emit(n.data),this.history=n.data},error:n=>console.log(n)})}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o,n){this.toggleModal.emit({modal_name:o,data:n})}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setSurgicalHistory=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faTrashCan=_.Vui,this.faMinus=_.Kl4}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-surgical-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setSurgicalHistory:"setSurgicalHistory"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 text-gray-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 text-gray-500 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-gray-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"text-rose-500","hover:cursor-pointer",3,"icon","click"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,Re,1,1,"fa-icon",3),e.YNc(4,Be,1,1,"fa-icon",4),e._uU(5," SURGICAL HISTORY "),e.YNc(6,ze,2,1,"span",5),e.qZA(),e.TgZ(7,"fa-icon",6),e.NdJ("click",function(){return n.modalToggle("surgical-history")}),e.qZA()(),e.YNc(8,We,9,0,"div",5),e.YNc(9,et,2,1,"div",5),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(7,tt,0===(null==n.history?null:n.history.length)||!n.history)),e.xp6(1),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("ngIf",0===(null==n.history?null:n.history.length)||!n.history),e.xp6(2),e.Q6J("ngIf",(null==n.history?null:n.history.length)>=1),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.history),e.xp6(1),e.Q6J("ngIf",n.history))},dependencies:[c.mk,c.sg,c.O5,v.BN,c.uU]}),a})();function it(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle("vaccines"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.accordions.vaccines?t.faChevronUp:t.faChevronDown)}}function nt(i,a){if(1&i&&e._UZ(0,"fa-icon",8),2&i){const t=e.oxw();e.Q6J("icon",t.faMinus)}}function ot(i,a){1&i&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),e.qZA()()())}function at(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"fa-icon",21),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.toggleActionModal("vaccine-action",l))}),e.qZA(),e.TgZ(2,"span",15)(3,"span",22),e._uU(4),e.qZA(),e._UZ(5,"br"),e._uU(6),e.qZA(),e.TgZ(7,"span",18),e._uU(8),e.ALo(9,"date"),e.qZA()()}if(2&i){const t=a.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("icon",o.faPenToSquare),e.xp6(3),e.AsE("",o.covid_array.includes(t.vaccine_id)?t.vaccines.vaccine_desc:t.vaccine_id," - ",t.dose," Dose"),e.xp6(2),e.hij("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public",") "),e.xp6(2),e.hij(" ",t.vaccine_date?e.Dn7(9,5,t.vaccine_date,"MM/dd/yyyy","Asia/Manila"):"-"," ")}}function lt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"span",15)(3,"span",16),e._uU(4,"IMMUNIZATION STATUS: "),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",17),e._uU(7),e.qZA()(),e.TgZ(8,"span",18),e._UZ(9,"br"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.YNc(12,at,10,9,"div",19),e.qZA()),2&i){const t=e.oxw(2);let o;e.Q6J("@openCloseAccordion",void 0),e.xp6(7),e.Oqu(null!==(o=null==t.immunization_status?null:t.immunization_status.immunization_status)&&void 0!==o?o:"-"),e.xp6(3),e.Oqu(null!=t.immunization_status&&t.immunization_status.immunization_status?e.Dn7(11,4,null==t.immunization_status?null:t.immunization_status.vaccine_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(2),e.Q6J("ngForOf",t.vaccine_list)}}function rt(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,lt,13,8,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.vaccines)}}const st=function(i){return{"opacity-70":i}};let se=(()=>{var i;class a{loadData(o){this.http.get("patient-vaccines/vaccines-records",{params:{patient_id:o,sort:"-vaccine_date"}}).subscribe({next:n=>{this.vaccine_list=n.data,this.immunization_status=n.status,this.checkVaccineStatus(this.vaccine_list)},error:n=>{console.log(n)}})}checkVaccineStatus(o){var n=[];Object.entries(o).reverse().forEach(([l,s],f)=>{var C=s;n[C.vaccines.vaccine_id]||(n[C.vaccines.vaccine_id]=[]);let F={id:C.id,vaccine_id:C.vaccines.vaccine_id,vaccine_date:C.vaccine_date,dose:this.getNumberSuffix(Object.keys(n[C.vaccines.vaccine_id]).length+1)};n[C.vaccines.vaccine_id][C.id]=F,this.vaccine_list[l].dose=n[C.vaccines.vaccine_id][C.id].dose}),this.vaccines_given=n,this.setVaccineGiven.emit(this.vaccines_given),this.show_vaccines=!0}toggleActionModal(o,n){this.toggleModal.emit({modal_name:o,data:n})}getNumberSuffix(o){var n=o%10,l=o%100;return 1==n&&11!=l?o+"st":2==n&&12!=l?o+"nd":3==n&&13!=l?o+"rd":o+"th"}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){console.log(this.vaccines_given),this.toggleModal.emit({modal_name:o,data:this.vaccines_given})}constructor(o){this.http=o,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setVaccineGiven=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faPenToSquare=_.Yai,this.faMinus=_.Kl4,this.vaccine_list=[],this.show_vaccines=!1,this.covid_array=["ASTRA","JANDJ","MODER","NOVAV","PFIZE","SINOP","SPUTN"]}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vaccine"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVaccineGiven:"setVaccineGiven"},decls:9,vars:9,consts:[[1,"block","justify-items-start","mx-5","mb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center","mb-5","border-b","border-b-gray-100"],[1,"font-medium","text-xs","flex-auto"],[1,"font-semibold"],[1,"font-bold","text-l"],[1,"italic","text-xs","flex-auto","text-right"],["class","flex pl-3 justify-between items-center mb-3 border-b border-b-gray-100",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center","mb-3","border-b","border-b-gray-100"],[1,"mx-0","my-0","text-amber-400","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[1,"font-bold"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.YNc(3,it,1,1,"fa-icon",3),e.YNc(4,nt,1,1,"fa-icon",4),e._uU(5),e.qZA(),e.TgZ(6,"fa-icon",5),e.NdJ("click",function(){return n.modalToggle("vaccine")}),e.qZA()(),e.YNc(7,ot,9,0,"div",6),e.YNc(8,rt,2,1,"div",6),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(7,st,0===(null==n.vaccine_list?null:n.vaccine_list.length)||!n.vaccine_list)),e.xp6(1),e.Q6J("ngIf",(null==n.vaccine_list?null:n.vaccine_list.length)>0),e.xp6(1),e.Q6J("ngIf",0===(null==n.vaccine_list?null:n.vaccine_list.length)||!n.vaccine_list),e.xp6(1),e.hij(" VACCINES ",(null==n.vaccine_list?null:n.vaccine_list.length)>0?"("+n.vaccine_list.length+")":""," "),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.show_vaccines),e.xp6(1),e.Q6J("ngIf",n.show_vaccines&&(null==n.vaccine_list?null:n.vaccine_list.length)>0))},dependencies:[c.mk,c.sg,c.O5,v.BN,c.uU]}),a})();var dt=u(9833),de=u(2756);function ct(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("(",e.xi3(2,1,null==t.latest_vitals?null:t.latest_vitals.vitals_date,"MM/dd/yyyy hh:mm:ss a"),")")}}function _t(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modalToggle("vitals-list"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("icon",t.faTableList)}}function pt(i,a){1&i&&(e.TgZ(0,"div")(1,"div",8)(2,"div",9),e._UZ(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),e.qZA()()())}const H=function(i){return{"text-red-500":i}};function ut(i,a){if(1&i&&(e.TgZ(0,"div",17)(1,"span",14),e._uU(2," BMI "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(3,H,!(null==t.latest_vitals||!t.latest_vitals.patient_bmi)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_bmi_class))),e.xp6(4),e.AsE(" ",null!=t.latest_vitals&&t.latest_vitals.patient_bmi?null==t.latest_vitals?null:t.latest_vitals.patient_bmi:"-"," ",null!=t.latest_vitals&&t.latest_vitals.patient_bmi_class?"("+(null==t.latest_vitals?null:t.latest_vitals.patient_bmi_class)+")":""," ")}}function mt(i,a){if(1&i&&(e.TgZ(0,"div",17)(1,"span",14),e._uU(2," Weight for age "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(2,H,!(null==t.latest_vitals||!t.latest_vitals.patient_weight_for_age)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age))),e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age?null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age:""," ")}}function gt(i,a){if(1&i&&(e.TgZ(0,"div",17)(1,"span",14),e._uU(2," Height for age "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(2,H,!(null==t.latest_vitals||!t.latest_vitals.patient_height_for_age)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age))),e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_height_for_age?null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age:""," ")}}function ht(i,a){if(1&i&&(e.TgZ(0,"div",17)(1,"span",14),e._uU(2," Weight for Height "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(2,H,!(null==t.latest_vitals||!t.latest_vitals.patient_weight_for_height)&&"Normal"!==(null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height))),e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_height?null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height:""," ")}}function ft(i,a){if(1&i&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.ALo(3,"number"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.AsE(" ",null!=t.latest_vitals&&t.latest_vitals.patient_right_vision_acuity_distance?e.xi3(2,2,null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity_distance,"1.0-0"):"-"," | ",null!=t.latest_vitals&&t.latest_vitals.patient_right_vision_acuity?e.xi3(3,5,null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity,"1.0-0"):"-"," ")}}function vt(i,a){if(1&i&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.ALo(3,"number"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.AsE(" ",null!=t.latest_vitals&&t.latest_vitals.patient_left_vision_acuity_distance?e.xi3(2,2,null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity_distance,"1.0-0"):"-"," | ",null!=t.latest_vitals&&t.latest_vitals.patient_left_vision_acuity?e.xi3(3,5,null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity,"1.0-0"):"-"," ")}}function bt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Head Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_head_circumference?(null==t.latest_vitals?null:t.latest_vitals.patient_head_circumference)+" cm":""," ")}}function xt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Mid-Upper Arm Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_muac?(null==t.latest_vitals?null:t.latest_vitals.patient_muac)+" cm":""," ")}}function yt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Chest Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_chest?(null==t.latest_vitals?null:t.latest_vitals.patient_chest)+" cm":""," ")}}function Zt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Abdominal Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_abdomen?(null==t.latest_vitals?null:t.latest_vitals.patient_abdomen)+" cm":""," ")}}function wt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Waist Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_waist?(null==t.latest_vitals?null:t.latest_vitals.patient_waist)+" cm":"-"," ")}}function Ct(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Hip Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_hip?(null==t.latest_vitals?null:t.latest_vitals.patient_hip)+" cm":"-"," ")}}function Tt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Limbs Circumference "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_limbs?(null==t.latest_vitals?null:t.latest_vitals.patient_limbs)+" cm":""," ")}}function Mt(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2," Skinfold Thickness "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_skinfold_thickness?(null==t.latest_vitals?null:t.latest_vitals.patient_skinfold_thickness)+" cm":""," ")}}function At(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"span",14),e._uU(3," Weight "),e.qZA(),e.TgZ(4,"span",15),e._uU(5),e.qZA()(),e.TgZ(6,"div",13)(7,"span",14),e._uU(8),e.qZA(),e.TgZ(9,"span",15),e._uU(10),e.qZA()(),e.YNc(11,ut,5,5,"div",16),e.YNc(12,mt,5,4,"div",16),e.YNc(13,gt,5,4,"div",16),e.YNc(14,ht,5,4,"div",16),e.TgZ(15,"div",13)(16,"span",14),e._uU(17," Blood Pressure "),e.qZA(),e.TgZ(18,"span",15),e._uU(19),e.qZA()(),e.TgZ(20,"div",17)(21,"span",14),e._uU(22," Blood Oxygen (SpO2) "),e.qZA(),e.TgZ(23,"span",15),e._uU(24),e.ALo(25,"number"),e.qZA()(),e.TgZ(26,"div",17)(27,"span",14),e._uU(28," Temperature "),e.qZA(),e.TgZ(29,"span",15),e._uU(30),e.qZA()(),e.TgZ(31,"div",13)(32,"span",14),e._uU(33," Heart Rate "),e.qZA(),e.TgZ(34,"span",15),e._uU(35),e.ALo(36,"number"),e.qZA()(),e.TgZ(37,"div",13)(38,"span",14),e._uU(39," Respiratory Rate "),e.qZA(),e.TgZ(40,"span",15),e._uU(41),e.ALo(42,"number"),e.qZA()(),e.TgZ(43,"div",13)(44,"span",14),e._uU(45," Pulse Rate "),e.qZA(),e.TgZ(46,"span",15),e._uU(47),e.ALo(48,"number"),e.qZA()(),e.TgZ(49,"div",13)(50,"span",14),e._uU(51," Visual Acuity (Right) "),e.qZA(),e.YNc(52,ft,4,8,"span",18),e.qZA(),e.TgZ(53,"div",19)(54,"span",14),e._uU(55," Visual Acuity (Left) "),e.qZA(),e.YNc(56,vt,4,8,"span",18),e.qZA(),e.YNc(57,bt,5,1,"div",20),e.YNc(58,xt,5,1,"div",20),e.YNc(59,yt,5,1,"div",20),e.YNc(60,Zt,5,1,"div",20),e.YNc(61,wt,5,1,"div",20),e.YNc(62,Ct,5,1,"div",20),e.YNc(63,Tt,5,1,"div",20),e.YNc(64,Mt,5,1,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(5),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight?(null==t.latest_vitals?null:t.latest_vitals.patient_weight)+" kg":"-"," "),e.xp6(3),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age||null!=t.latest_vitals&&t.latest_vitals.patient_height_for_age||null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_height?"Length":"Height"," "),e.xp6(2),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_height?(null==t.latest_vitals?null:t.latest_vitals.patient_height)+" cm":"-"," "),e.xp6(1),e.Q6J("ngIf",!(null!=t.latest_vitals&&t.latest_vitals.patient_weight_for_age)),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_age),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_height_for_age),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_weight_for_height),e.xp6(5),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.bp_systolic?(null==t.latest_vitals?null:t.latest_vitals.bp_systolic)+"/"+(null==t.latest_vitals?null:t.latest_vitals.bp_diastolic):"-"," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,H,!(null==t.latest_vitals||!t.latest_vitals.patient_spo2)&&(null==t.latest_vitals?null:t.latest_vitals.patient_spo2)<95)),e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_spo2?e.xi3(25,26,null==t.latest_vitals?null:t.latest_vitals.patient_spo2,"1.0-0")+" %":"-"," "),e.xp6(2),e.Q6J("ngClass",e.VKq(40,H,(null==t.latest_vitals?null:t.latest_vitals.patient_temp)>=37.6)),e.xp6(4),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_temp?(null==t.latest_vitals?null:t.latest_vitals.patient_temp)+" C":"-"," "),e.xp6(5),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_heart_rate?e.xi3(36,29,null==t.latest_vitals?null:t.latest_vitals.patient_heart_rate,"1.0-0"):"-"," "),e.xp6(6),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_respiratory_rate?e.xi3(42,32,null==t.latest_vitals?null:t.latest_vitals.patient_respiratory_rate,"1.0-0"):"-"," "),e.xp6(6),e.hij(" ",null!=t.latest_vitals&&t.latest_vitals.patient_pulse_rate?e.xi3(48,35,null==t.latest_vitals?null:t.latest_vitals.patient_pulse_rate,"1.0-0"):"-"," "),e.xp6(5),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_right_vision_acuity),e.xp6(4),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_left_vision_acuity),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_head_circumference),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_muac),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_chest),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_abdomen),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_waist),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_hip),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_limbs),e.xp6(1),e.Q6J("ngIf",null==t.latest_vitals?null:t.latest_vitals.patient_skinfold_thickness)}}function kt(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,At,65,42,"div",11),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.vitals)}}let ce=(()=>{var i;class a{loadData(o){this.http.get("patient-vitals/vitals",{params:{patient_id:o,sort:"-vitals_date",per_page:15}}).subscribe({next:n=>{let l=n.data;if(l.length>0){let s=n.data[0].bp_systolic,f=n.data[0].bp_diastolic;this.latest_vitals=this.vitalsCharts.getLatestToday(l),l[0].bp_systolic=s,l[0].bp_diastolic=f,this.show_vitals=!0,this.setVitals.emit(l)}else this.show_vitals=!0,this.latest_vitals=null},error:n=>{this.show_vitals=!0,console.log(n)}})}getLatestToday(o){this.latest_vitals=o.length>0?this.vitalsCharts.getLatestToday(o):null}toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}constructor(o,n,l){this.http=o,this.vitalsCharts=n,this.dateHelper=l,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setVitals=new e.vpe,this.faPlusCircle=_.KtF,this.faTableList=_.u7T,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.show_vitals=!1}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(dt.i),e.Y36(de.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vitals"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVitals:"setVitals"},decls:11,vars:6,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngIf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],["class","block text-xs",4,"ngIf"],[1,"flex","pl-3","pb-5","justify-between","items-center"],["class","flex pl-3 justify-between items-center",4,"ngIf"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"fa-icon",3),e.NdJ("click",function(){return n.toggle("vitals")}),e.qZA(),e._uU(4," VITAL SIGNS "),e.YNc(5,ct,3,4,"span",4),e.qZA(),e.TgZ(6,"span"),e.YNc(7,_t,1,1,"fa-icon",5),e.TgZ(8,"fa-icon",6),e.NdJ("click",function(){return n.modalToggle("vitals")}),e.qZA()()(),e.YNc(9,pt,9,0,"div",4),e.YNc(10,kt,2,1,"div",4),e.qZA()),2&o&&(e.xp6(3),e.Q6J("icon",n.accordions.vitals?n.faChevronUp:n.faChevronDown),e.xp6(2),e.Q6J("ngIf",n.latest_vitals),e.xp6(2),e.Q6J("ngIf",n.latest_vitals),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.show_vitals),e.xp6(1),e.Q6J("ngIf",n.show_vitals))},dependencies:[c.mk,c.O5,v.BN,c.JJ,c.uU]}),a})();var J=u(2425);function qt(i,a){1&i&&(e.TgZ(0,"div")(1,"div",6)(2,"div",7),e._UZ(3,"div",8)(4,"div",8)(5,"div",8)(6,"div",8)(7,"div",8)(8,"div",8),e.qZA()()())}function It(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.appointment_desc," ")}}function Ut(i,a){if(1&i&&(e.TgZ(0,"span",18)(1,"strong"),e._uU(2,"Referred from:"),e.qZA(),e._uU(3),e._UZ(4,"br"),e.TgZ(5,"strong"),e._uU(6,"Referred to:"),e.qZA(),e._uU(7),e._UZ(8,"br"),e._uU(9),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.facility_name," "),e.xp6(4),e.hij(" ",t.referral_facility_name," "),e.xp6(2),e.hij(" Referral reason: ",t.referral_reason," ")}}function Jt(i,a){if(1&i&&(e.TgZ(0,"span",16),e.YNc(1,It,2,1,"span",5),e.YNc(2,Ut,10,3,"span",17),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.referral_facility_name),e.xp6(1),e.Q6J("ngIf",t.referral_facility_name)}}function Nt(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span",13)(2,"span",14),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,Jt,3,2,"span",15),e.qZA()()),2&i){const t=a.$implicit;e.xp6(3),e.hij("",e.Dn7(4,2,t.key,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(2),e.Q6J("ngForOf",t.value)}}function Qt(i,a){if(1&i&&(e.TgZ(0,"div",10),e.YNc(1,Nt,6,6,"div",11),e.ALo(2,"keyvalue"),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@openCloseAccordion",void 0),e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,t.appointment_list))}}function Ft(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Qt,3,4,"div",9),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.accordions.appointment)}}const Pt=function(i){return{"opacity-70":i}};let _e=(()=>{var i;class a{toggle(o){this.toggleAccordion.emit(o)}modalToggle(o){this.toggleModal.emit(o)}loadData(o){this.show_appointment=!0,this.http.get("appointment/schedule",{params:{patient_id:o,per_page:"all"}}).subscribe({next:l=>{this.appointment_list=l[0]},error:l=>console.log(l)})}constructor(o,n){this.http=o,this.toastr=n,this.toggleAccordion=new e.vpe,this.toggleModal=new e.vpe,this.setVaccineGiven=new e.vpe,this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.faPlusCircle=_.KtF,this.faPenToSquare=_.Yai,this.faMinus=_.Kl4,this.appointment_list=[],this.show_appointment=!1}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-appointment"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVaccineGiven:"setVaccineGiven"},decls:8,vars:8,consts:[[1,"block","justify-items-start","mx-5","mb-5","mt-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mb-3 border-b border-b-gray-100",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center","mb-3","border-b","border-b-gray-100"],[1,"font-medium","text-xs","flex","flex-col"],[1,"font-bold"],["class","font-normal pl-3",4,"ngFor","ngForOf"],[1,"font-normal","pl-3"],["class","text-orange-500 font-medium italic",4,"ngIf"],[1,"text-orange-500","font-medium","italic"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"fa-icon",3),e.NdJ("click",function(){return n.toggle("appointment")}),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"fa-icon",4),e.NdJ("click",function(){return n.modalToggle("appointment-modal")}),e.qZA()(),e.YNc(6,qt,9,0,"div",5),e.YNc(7,Ft,2,1,"div",5),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(6,Pt,0===(null==n.appointment_list?null:n.appointment_list.length)||!n.appointment_list)),e.xp6(1),e.Q6J("icon",n.accordions.appointment?n.faChevronUp:n.faChevronDown),e.xp6(1),e.hij(" APPOINTMENTS ",(null==n.appointment_list?null:n.appointment_list.length)>0?"("+n.appointment_list.length+")":""," "),e.xp6(1),e.Q6J("icon",n.faPlusCircle),e.xp6(1),e.Q6J("ngIf",!n.show_appointment),e.xp6(1),e.Q6J("ngIf",n.show_appointment&&n.appointment_list))},dependencies:[c.mk,c.sg,c.O5,v.BN,c.uU,c.Nd]}),a})();var Dt=u(8789),Vt=u(6593),Yt=u(6215),r=u(6223);const Ot=new r.cw({facility_code:new r.NI(""),patient_id:new r.NI(""),user_id:new r.NI(""),vitals_date:new r.NI(""),patient_temp:new r.NI(null),patient_height:new r.NI(null),patient_weight:new r.NI(null),patient_head_circumference:new r.NI(null),patient_skinfold_thickness:new r.NI(null),bp_systolic:new r.NI(null),bp_diastolic:new r.NI(null),patient_heart_rate:new r.NI(null),patient_respiratory_rate:new r.NI(null),patient_pulse_rate:new r.NI(null),patient_waist:new r.NI(null),patient_hip:new r.NI(null),patient_limbs:new r.NI(null),patient_muac:new r.NI(null),patient_chest:new r.NI(null),patient_abdomen:new r.NI(null),patient_spo2:new r.NI(null),vitals_height_ft:new r.NI(null),vitals_height_in:new r.NI(null),vitals_waist_in:new r.NI(null),vitals_date_temp:new r.NI(""),vitals_time_temp:new r.NI(""),patient_left_vision_acuity_distance:new r.NI(null),patient_left_vision_acuity:new r.NI(null),patient_right_vision_acuity_distance:new r.NI(null),patient_right_vision_acuity:new r.NI(null)});function jt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_weight.errors.max.max+")"," ")}}function St(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message_min+" ("+t.f.patient_weight.errors.min.min+")"," ")}}function Et(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,jt,2,1,"div",23),e.YNc(2,St,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_weight.errors?null:t.f.patient_weight.errors.max),e.xp6(1),e.Q6J("ngIf",null==t.f.patient_weight.errors?null:t.f.patient_weight.errors.min)}}function Lt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_temp.errors.max.max+")"," ")}}function Ht(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Lt,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_temp.errors?null:t.f.patient_temp.errors.max)}}function Kt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Length in ft"),e.qZA())}function Gt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Height in ft"),e.qZA())}function Rt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Length in cm"),e.qZA())}function Bt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Height in cm"),e.qZA())}function zt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_height.errors.max.max+")"," ")}}function Wt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message_min+" ("+t.f.patient_height.errors.min.min+")"," ")}}function $t(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,zt,2,1,"div",23),e.YNc(2,Wt,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_height.errors?null:t.f.patient_height.errors.max),e.xp6(1),e.Q6J("ngIf",null==t.f.patient_height.errors?null:t.f.patient_height.errors.min)}}function Xt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_spo2.errors.max.max+")"," ")}}function ei(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Xt,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_spo2.errors?null:t.f.patient_spo2.errors.max)}}function ti(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_heart_rate.errors.max.max+")"," ")}}function ii(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ti,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_heart_rate.errors?null:t.f.patient_heart_rate.errors.max)}}function ni(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_pulse_rate.errors.max.max+")"," ")}}function oi(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ni,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_pulse_rate.errors?null:t.f.patient_pulse_rate.errors.max)}}function ai(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_respiratory_rate.errors.max.max+")"," ")}}function li(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ai,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_respiratory_rate.errors?null:t.f.patient_respiratory_rate.errors.max)}}function ri(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_head_circumference.errors.max.max+")"," ")}}function si(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ri,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_head_circumference.errors?null:t.f.patient_head_circumference.errors.max)}}function di(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",57),e._uU(2,"Head Circumference(Centimeters)"),e.qZA(),e._UZ(3,"input",58),e.YNc(4,si,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_head_circumference.errors)}}function ci(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_muac.errors.max.max+")"," ")}}function _i(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ci,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_muac.errors?null:t.f.patient_muac.errors.max)}}function pi(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",59),e._uU(2,"MUAC (Centimeters)"),e.qZA(),e._UZ(3,"input",60),e.YNc(4,_i,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_muac.errors)}}function ui(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_abdomen.errors.max.max+")"," ")}}function mi(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ui,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_abdomen.errors?null:t.f.patient_abdomen.errors.max)}}function gi(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",61),e._uU(2,"Abdominal Circumference(Centimeters)"),e.qZA(),e._UZ(3,"input",62),e.YNc(4,mi,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_abdomen.errors)}}function hi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_chest.errors.max.max+")"," ")}}function fi(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,hi,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_chest.errors?null:t.f.patient_chest.errors.max)}}function vi(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",63),e._uU(2,"Chest Circumference(Centimeters)"),e.qZA(),e._UZ(3,"input",64),e.YNc(4,fi,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_chest.errors)}}function bi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_hip.errors.max.max+")"," ")}}function xi(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,bi,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_hip.errors?null:t.f.patient_hip.errors.max)}}function yi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_waist.errors.max.max+")"," ")}}function Zi(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,yi,2,1,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.patient_waist.errors?null:t.f.patient_waist.errors.max)}}function wi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_limbs.errors.max.max+")"," ")}}function Ci(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,wi,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_limbs.errors?null:t.f.patient_limbs.errors.max)}}function Ti(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",65),e._uU(2,"Limbs (Centimeters)"),e.qZA(),e._UZ(3,"input",66),e.YNc(4,Ci,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_limbs.errors)}}function Mi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.error_message+" ("+t.f.patient_skinfold_thickness.errors.max.max+")"," ")}}function Ai(i,a){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Mi,2,1,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.patient_skinfold_thickness.errors?null:t.f.patient_skinfold_thickness.errors.max)}}function ki(i,a){if(1&i&&(e.TgZ(0,"div",11)(1,"label",67),e._uU(2,"Skinfold Thickness (Centimeters)"),e.qZA(),e._UZ(3,"input",68),e.YNc(4,Ai,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.f.patient_skinfold_thickness.errors)}}let qi=(()=>{var i;class a{constructor(o,n,l,s){this.formBuilder=o,this.http=n,this.toastr=l,this.dateHelper=s,this.toggleModal=new e.vpe,this.vitalsForm=Ot,this.error_message="exceeded maximum value",this.error_message_min="exceeded minimum value",this.showChildVitals=!1}onSubmit(){let o;this.vitalsForm.patchValue({vitals_date:this.vitalsForm.value.vitals_date_temp+" "+this.vitalsForm.value.vitals_time_temp}),o=this.vitals_to_edit?this.http.update("patient-vitals/vitals/",this.vitals_to_edit.id,this.vitalsForm.value):this.http.post("patient-vitals/vitals",this.vitalsForm.value),o.subscribe({next:()=>{this.vitalsForm.markAsPristine(),this.vitalsForm.disable(),this.toastr.success("Successfully recorded!","Vital signs"),this.closeModal()},error:n=>console.log(n)})}get f(){return this.vitalsForm.controls}ftChange(){this.vitalsForm.patchValue({patient_height:(12*this.vitalsForm.value.vitals_height_ft*2.54+2.54*this.vitalsForm.value.vitals_height_in).toFixed(2)})}cmChange(){let o=.393701*this.vitalsForm.value.patient_height/12,n=Math.floor(o),l=Math.round(12*(o-n));this.vitalsForm.patchValue({vitals_height_ft:n}),this.vitalsForm.patchValue({vitals_height_in:l})}cmToInch(){this.vitalsForm.patchValue({vitals_waist_in:(.393701*this.vitalsForm.value.patient_waist).toFixed(2)})}inchToCm(){this.vitalsForm.patchValue({patient_waist:(2.54*this.vitalsForm.value.vitals_waist_in).toFixed(2)})}closeModal(){this.toggleModal.emit("vitals-modal")}checkIfChild(){this.showChildVitals="year"==this.patient_age.type&&this.patient_age.age<=6||"month"==this.patient_age.type||"day"==this.patient_age.type}ngOnInit(){let o=new Date,n=this.http.getUserID(),l=this.http.getUserFacility();this.vitalsForm=this.formBuilder.group({facility_code:[l,r.kI.required],patient_id:[this.patient_info.id,r.kI.required],vitals_date:[null,r.kI.required],user_id:[n,r.kI.required],patient_temp:[null,r.kI.max(50)],patient_height:[null,[r.kI.min(10),r.kI.max(272)]],patient_weight:[null,[r.kI.min(1),r.kI.max(200)]],patient_head_circumference:[null,r.kI.max(200)],patient_skinfold_thickness:[null,r.kI.max(200)],bp_systolic:[null],bp_diastolic:[null],patient_heart_rate:[null,r.kI.max(300)],patient_respiratory_rate:[null,r.kI.max(300)],patient_pulse_rate:[null,r.kI.max(300)],patient_waist:[null,r.kI.max(300)],patient_hip:[null,r.kI.max(300)],patient_limbs:[null,r.kI.max(300)],patient_muac:[null,r.kI.max(300)],patient_chest:[null,r.kI.max(300)],patient_abdomen:[null,r.kI.max(300)],patient_spo2:[null,r.kI.max(100)],vitals_waist_in:[null],vitals_height_ft:[null,r.kI.max(8)],vitals_height_in:[null,r.kI.max(11)],vitals_date_temp:[(0,c.p6)(o,"yyyy-MM-dd","en","Asia/Manila"),r.kI.required],vitals_time_temp:[(0,c.p6)(o,"HH:mm:ss","en","Asia/Manila"),r.kI.required],patient_right_vision_acuity_distance:[20],patient_right_vision_acuity:[null],patient_left_vision_acuity_distance:[20],patient_left_vision_acuity:[null]}),this.vitals_to_edit&&(this.vitalsForm.patchValue({...this.vitals_to_edit}),this.vitalsForm.patchValue({vitals_date_temp:this.dateHelper.dateFormat(this.vitalsForm.value.vitals_date)}),this.vitalsForm.patchValue({vitals_time_temp:this.dateHelper.timeFormat(this.vitalsForm.value.vitals_date)}),this.cmChange()),this.date=(new Date).toISOString().slice(0,10),this.checkIfChild()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W),e.Y36(de.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vitals-modal"]],inputs:{patient_age:"patient_age",patient_info:"patient_info",vitals_to_edit:"vitals_to_edit"},outputs:{toggleModal:"toggleModal"},decls:125,vars:25,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","vitals_date_temp",1,"font-semibold"],["name","vitals_date_temp","id","vitals_date_temp","formControlName","vitals_date_temp","type","date","placeholder","mm/dd/yyyy",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input",3,"max"],["for","vitals_time_temp",1,"font-semibold"],["name","vitals_time_temp","id","vitals_time_temp","formControlName","vitals_time_temp","type","time","step","1","placeholder","Input Time",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"text-gray-600","border","border-slate-100","mx-5"],["for","patient_weight",1,"font-semibold"],["name","patient_weight","id","patient_weight","formControlName","patient_weight","type","number","placeholder","Enter weight in kilograms",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","invalid-alert",4,"ngIf"],["for","patient_temp",1,"font-semibold"],["name","patient_temp","id","patient_temp","formControlName","patient_temp","type","number","placeholder","Enter temperature in celcius",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","vitals_height_ft",1,"font-semibold"],[4,"ngIf"],[1,"flex"],["name","vitals_height_ft","id","vitals_height_ft","formControlName","vitals_height_ft","type","number","placeholder","Feet",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["name","vitals_height_in","id","vitals_height_in","formControlName","vitals_height_in","type","number","placeholder","Inches",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["for","patient_height",1,"font-semibold"],["name","patient_height","id","patient_height","formControlName","patient_height","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["for","bp_systolic",1,"font-semibold"],["name","bp_systolic","id","bp_systolic","formControlName","bp_systolic","type","number","placeholder","Systolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["name","bp_diastolic","id","bp_diastolic","formControlName","bp_diastolic","type","number","placeholder","Diastolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_spo2",1,"font-semibold"],["name","patient_spo2","id","patient_spo2","formControlName","patient_spo2","type","number","placeholder","SpO2",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_heart_rate",1,"font-semibold"],["name","patient_heart_rate","id","patient_heart_rate","formControlName","patient_heart_rate","type","number","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_pulse_rate",1,"font-semibold"],["name","patient_pulse_rate","id","patient_pulse_rate","formControlName","patient_pulse_rate","type","text","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_respiratory_rate",1,"font-semibold"],["name","patient_respiratory_rate","id","patient_respiratory_rate","formControlName","patient_respiratory_rate","type","number","placeholder","Breaths per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_right_vision_acuity_distance",1,"font-semibold"],[1,"grid","grid-cols-3"],["name","patient_right_vision_acuity_distance","id","patient_right_vision_acuity_distance","formControlName","patient_right_vision_acuity_distance","type","number","placeholder","Distance",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["name","patient_right_vision_acuity","id","patient_right_vision_acuity","formControlName","patient_right_vision_acuity","type","number","placeholder","Right eye visual acuity",1,"col-span-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_left_vision_acuity_distance",1,"font-semibold"],["name","patient_left_vision_acuity_distance","id","patient_left_vision_acuity_distance","formControlName","patient_left_vision_acuity_distance","type","number","placeholder","Distance",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["name","patient_left_vision_acuity","id","patient_left_vision_acuity","formControlName","patient_left_vision_acuity","type","number","placeholder","Left eye visual acuity",1,"col-span-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","patient_hip",1,"font-semibold"],["name","patient_hip","id","patient_hip","formControlName","patient_hip","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_waist",1,"font-semibold"],["name","patient_waist","id","patient_waist","formControlName","patient_waist","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],["for","patient_head_circumference",1,"font-semibold"],["name","patient_head_circumference","id","patient_head_circumference","formControlName","patient_head_circumference","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_muac",1,"font-semibold"],["name","patient_muac","id","patient_muac","formControlName","patient_muac","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_abdomen",1,"font-semibold"],["name","patient_abdomen","id","patient_abdomen","formControlName","patient_abdomen","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_chest",1,"font-semibold"],["name","patient_chest","id","patient_chest","formControlName","patient_chest","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_limbs",1,"font-semibold"],["name","patient_limbs","id","patient_limbs","formControlName","patient_limbs","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_skinfold_thickness",1,"font-semibold"],["name","patient_skinfold_thickness","id","patient_skinfold_thickness","formControlName","patient_skinfold_thickness","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," VITAL SIGNS "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),e._uU(11,"Date & Time"),e.qZA()(),e.TgZ(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Date"),e.qZA(),e._UZ(16,"input",13),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"div",11)(19,"label",14),e._uU(20,"Time"),e.qZA(),e._UZ(21,"input",15),e.qZA()()(),e._UZ(22,"div",16),e.TgZ(23,"div",7)(24,"div",8)(25,"h4",9),e._uU(26,"Details"),e.qZA()(),e.TgZ(27,"div",10)(28,"div",11)(29,"label",17),e._uU(30,"Weight (Kilograms)"),e.qZA(),e._UZ(31,"input",18),e.YNc(32,Et,3,2,"div",19),e.qZA(),e.TgZ(33,"div",11)(34,"label",20),e._uU(35,"Temperature (Celcius)"),e.qZA(),e._UZ(36,"input",21),e.YNc(37,Ht,2,1,"div",19),e.qZA()(),e.TgZ(38,"div",10)(39,"div",11)(40,"label",22),e.YNc(41,Kt,2,0,"span",23),e.YNc(42,Gt,2,0,"span",23),e.qZA(),e.TgZ(43,"div",24)(44,"input",25),e.NdJ("input",function(){return n.ftChange()}),e.qZA(),e.TgZ(45,"input",26),e.NdJ("input",function(){return n.ftChange()}),e.qZA()()(),e.TgZ(46,"div",11)(47,"label",27),e.YNc(48,Rt,2,0,"span",23),e.YNc(49,Bt,2,0,"span",23),e.qZA(),e.TgZ(50,"input",28),e.NdJ("input",function(){return n.cmChange()}),e.qZA(),e.YNc(51,$t,3,2,"div",19),e.qZA()(),e.TgZ(52,"div",10)(53,"div",11)(54,"label",29),e._uU(55,"Blood Pressure"),e.qZA(),e.TgZ(56,"div",24),e._UZ(57,"input",30)(58,"input",31),e.qZA()(),e.TgZ(59,"div",11)(60,"label",32),e._uU(61,"Blood Oxygen (SpO2)"),e.qZA(),e._UZ(62,"input",33),e.YNc(63,ei,2,1,"div",19),e.qZA()(),e.TgZ(64,"div",10)(65,"div",11)(66,"label",34),e._uU(67,"Heart Rate"),e.qZA(),e._UZ(68,"input",35),e.YNc(69,ii,2,1,"div",19),e.qZA(),e.TgZ(70,"div",11)(71,"label",36),e._uU(72,"Pulse Rate"),e.qZA(),e._UZ(73,"input",37),e.YNc(74,oi,2,1,"div",19),e.qZA()(),e.TgZ(75,"div",10)(76,"div",11)(77,"label",38),e._uU(78,"Respiratory Rate"),e.qZA(),e._UZ(79,"input",39),e.YNc(80,li,2,1,"div",19),e.qZA()(),e.TgZ(81,"div",10)(82,"div",11)(83,"label",40),e._uU(84,"Visual Acuity (Right)"),e.qZA(),e.TgZ(85,"div",41),e._UZ(86,"input",42)(87,"input",43),e.qZA()(),e.TgZ(88,"div",11)(89,"label",44),e._uU(90,"Visual Acuity (Left)"),e.qZA(),e.TgZ(91,"div",41),e._UZ(92,"input",45)(93,"input",46),e.qZA()()()(),e._UZ(94,"div",16),e.TgZ(95,"div",7)(96,"div",8)(97,"h4",9),e._uU(98,"Body Measurement"),e.qZA()(),e.TgZ(99,"div",10),e.YNc(100,di,5,1,"div",47),e.YNc(101,pi,5,1,"div",47),e.qZA(),e.TgZ(102,"div",10),e.YNc(103,gi,5,1,"div",47),e.YNc(104,vi,5,1,"div",47),e.qZA(),e.TgZ(105,"div",10)(106,"div",11)(107,"label",48),e._uU(108,"Hip Circumference (Centimeters)"),e.qZA(),e._UZ(109,"input",49),e.YNc(110,xi,2,1,"div",19),e.qZA(),e.TgZ(111,"div",11)(112,"label",50),e._uU(113,"Waist Circumference (Centimeters)"),e.qZA(),e._UZ(114,"input",51),e.YNc(115,Zi,2,1,"div",19),e.qZA()(),e.TgZ(116,"div",10),e.YNc(117,Ti,5,1,"div",47),e.YNc(118,ki,5,1,"div",47),e.qZA()()()(),e.TgZ(119,"div",52)(120,"button",53),e.NdJ("click",function(){return n.closeModal()}),e._uU(121,"Close"),e.qZA(),e.TgZ(122,"button",54),e.NdJ("click",function(){return n.onSubmit()}),e._uU(123,"Save"),e.qZA()()()()(),e._UZ(124,"div",55)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.vitalsForm),e.xp6(9),e.s9C("max",e.xi3(17,22,n.date,"yyyy-MM-dd")),e.xp6(16),e.Q6J("ngIf",n.f.patient_weight.errors),e.xp6(5),e.Q6J("ngIf",n.f.patient_temp.errors),e.xp6(4),e.Q6J("ngIf",n.showChildVitals),e.xp6(1),e.Q6J("ngIf",!n.showChildVitals),e.xp6(6),e.Q6J("ngIf",n.showChildVitals),e.xp6(1),e.Q6J("ngIf",!n.showChildVitals),e.xp6(2),e.Q6J("ngIf",n.f.patient_height.errors),e.xp6(12),e.Q6J("ngIf",n.f.patient_spo2.errors),e.xp6(6),e.Q6J("ngIf",n.f.patient_heart_rate.errors),e.xp6(5),e.Q6J("ngIf",n.f.patient_pulse_rate.errors),e.xp6(6),e.Q6J("ngIf",n.f.patient_respiratory_rate.errors),e.xp6(20),e.Q6J("ngIf",n.showChildVitals),e.xp6(1),e.Q6J("ngIf",n.showChildVitals),e.xp6(2),e.Q6J("ngIf",n.showChildVitals),e.xp6(1),e.Q6J("ngIf",n.showChildVitals),e.xp6(6),e.Q6J("ngIf",n.f.patient_hip.errors),e.xp6(5),e.Q6J("ngIf",n.f.patient_waist.errors),e.xp6(2),e.Q6J("ngIf",n.showChildVitals),e.xp6(1),e.Q6J("ngIf",n.showChildVitals),e.xp6(4),e.Q6J("disabled",n.vitalsForm.pristine))},dependencies:[c.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,c.uU]}),a})(),Ii=(()=>{var i;class a{constructor(){this.toggleModal=new e.vpe}ngOnInit(){}closeModal(){this.toggleModal.emit("death-modal")}}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-death-modal"]],outputs:{toggleModal:"toggleModal"},decls:149,vars:0,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button",1,"px-3","py-1.5","bg-white","text-gray-600","text-sm","font-medium","leading-normal","rounded","shadow-md","focus:shadow-lg","focus:outline-none","hover:ring-2","hover:ring-gray-300","active:shadow-lg","transition","duration-150","ease-in-out","flex","align-center","transform","hover:scale-110"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-printer","mr-1"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"],["d","M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"],["x","7","y","13","width","10","height","8","rx","2"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2"],[1,"relative"],[1,"flex","absolute","inset-y-0","left-0","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-calendar-time","text-blue-500"],["d","M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"],["cx","18","cy","18","r","4"],["d","M15 3v4"],["d","M7 3v4"],["d","M3 11h16"],["d","M18 16.496v1.504l1 1"],["type","text","placeholder","Select Date","onfocus","(this.type='date')","placeholder","Select date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-clock","text-blue-500"],["cx","12","cy","12","r","9"],["points","12 7 12 12 15 15"],["type","text","placeholder","Input Time","onfocus","(this.type='time')",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-certificate","text-blue-500"],["cx","15","cy","15","r","3"],["d","M13 17.5v4.5l2 -1.5l2 1.5v-4.5"],["d","M10 19h-5a2 2 0 0 1 -2 -2v-10c0 -1.1 .9 -2 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -1 1.73"],["x1","6","y1","9","x2","18","y2","9"],["x1","6","y1","12","x2","9","y2","12"],["x1","6","y1","15","x2","8","y2","15"],["type","text","placeholder","Input Type of Death",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-map-pin","text-blue-500"],["cx","12","cy","11","r","3"],["d","M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"],["type","text","placeholder","Input Place of Death",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-1"],["type","text","placeholder","Select Region",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Province",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Municipality",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Barangay",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","px-10","py-2","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-notes","text-blue-500"],["x","5","y","3","width","14","height","18","rx","2"],["x1","9","y1","7","x2","15","y2","7"],["x1","9","y1","11","x2","15","y2","11"],["x1","9","y1","15","x2","13","y2","15"],["type","text","placeholder","Input Immediate Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","px-10","py-2"],["type","text","placeholder","Input Antecedent Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Input Underlying Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-pencil","text-blue-500"],["d","M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"],["x1","13.5","y1","6.5","x2","17.5","y2","10.5"],["type","text","placeholder","Input Remarks",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," DEATH RECORD "),e.qZA(),e.TgZ(6,"button",5),e.O4$(),e.TgZ(7,"svg",6),e._UZ(8,"path",7)(9,"path",8)(10,"path",9)(11,"rect",10),e.qZA(),e._uU(12,"Print "),e.qZA()(),e.kcU(),e.TgZ(13,"div",11)(14,"table",12)(15,"div",13)(16,"div",14)(17,"h4",15),e._uU(18,"Registry Information"),e.qZA()(),e.TgZ(19,"div",16)(20,"label"),e._uU(21,"Date of Death"),e.qZA(),e.TgZ(22,"div",17)(23,"div",18),e.O4$(),e.TgZ(24,"svg",19),e._UZ(25,"path",7)(26,"path",20)(27,"circle",21)(28,"path",22)(29,"path",23)(30,"path",24)(31,"path",25),e.qZA()(),e.kcU(),e._UZ(32,"input",26),e.qZA()(),e.TgZ(33,"div",16)(34,"label"),e._uU(35,"Time of Death"),e.qZA(),e.TgZ(36,"div",17)(37,"div",18),e.O4$(),e.TgZ(38,"svg",27),e._UZ(39,"path",7)(40,"circle",28)(41,"polyline",29),e.qZA()(),e.kcU(),e._UZ(42,"input",30),e.qZA()(),e.TgZ(43,"div",31)(44,"label"),e._uU(45,"Type of Death"),e.qZA(),e.TgZ(46,"div",17)(47,"div",18),e.O4$(),e.TgZ(48,"svg",32),e._UZ(49,"path",7)(50,"circle",33)(51,"path",34)(52,"path",35)(53,"line",36)(54,"line",37)(55,"line",38),e.qZA()(),e.kcU(),e._UZ(56,"input",39),e.qZA()(),e.TgZ(57,"div",31)(58,"label"),e._uU(59,"Place of Death"),e.qZA(),e.TgZ(60,"div",17)(61,"div",18),e.O4$(),e.TgZ(62,"svg",40),e._UZ(63,"path",7)(64,"circle",41)(65,"path",42),e.qZA()(),e.kcU(),e._UZ(66,"input",43),e.qZA()()(),e._UZ(67,"div",44),e.TgZ(68,"div",13)(69,"div",14)(70,"h4",15),e._uU(71,"Place of Occurence"),e.qZA()(),e.TgZ(72,"div",45)(73,"label"),e._uU(74,"Region"),e.qZA(),e.TgZ(75,"div",17),e._UZ(76,"input",46),e.qZA()(),e.TgZ(77,"div",45)(78,"label"),e._uU(79,"Province"),e.qZA(),e.TgZ(80,"div",17),e._UZ(81,"input",47),e.qZA()(),e.TgZ(82,"div",31)(83,"label"),e._uU(84,"Municipality"),e.qZA(),e.TgZ(85,"div",17),e._UZ(86,"input",48),e.qZA()(),e.TgZ(87,"div",31)(88,"label"),e._uU(89,"Barangay"),e.qZA(),e.TgZ(90,"div",17),e._UZ(91,"input",49),e.qZA()()(),e._UZ(92,"div",44),e.TgZ(93,"div",13)(94,"div",14)(95,"h4",15),e._uU(96,"Cause of Death"),e.qZA()(),e.TgZ(97,"div",50)(98,"label"),e._uU(99,"Immediate Cause"),e.qZA(),e.TgZ(100,"div",17)(101,"div",18),e.O4$(),e.TgZ(102,"svg",51),e._UZ(103,"path",7)(104,"rect",52)(105,"line",53)(106,"line",54)(107,"line",55),e.qZA()(),e.kcU(),e._UZ(108,"input",56),e.qZA()(),e.TgZ(109,"div",57)(110,"label"),e._uU(111,"Antecedent Cause"),e.qZA(),e.TgZ(112,"div",17)(113,"div",18),e.O4$(),e.TgZ(114,"svg",51),e._UZ(115,"path",7)(116,"rect",52)(117,"line",53)(118,"line",54)(119,"line",55),e.qZA()(),e.kcU(),e._UZ(120,"input",58),e.qZA()(),e.TgZ(121,"div",57)(122,"label"),e._uU(123,"Underlying Cause"),e.qZA(),e.TgZ(124,"div",17)(125,"div",18),e.O4$(),e.TgZ(126,"svg",51),e._UZ(127,"path",7)(128,"rect",52)(129,"line",53)(130,"line",54)(131,"line",55),e.qZA()(),e.kcU(),e._UZ(132,"input",59),e.qZA()(),e.TgZ(133,"div",57)(134,"label"),e._uU(135,"Remarks"),e.qZA(),e.TgZ(136,"div",17)(137,"div",18),e.O4$(),e.TgZ(138,"svg",60),e._UZ(139,"path",7)(140,"path",61)(141,"line",62),e.qZA()(),e.kcU(),e._UZ(142,"input",63),e.qZA()()()()(),e.TgZ(143,"div",64)(144,"button",65),e.NdJ("click",function(){return n.closeModal()}),e._uU(145,"Close"),e.qZA(),e.TgZ(146,"button",66),e.NdJ("click",function(){return n.closeModal()}),e._uU(147,"Save"),e.qZA()()()()(),e._UZ(148,"div",67))}}),a})();const Ui=[{group:"Child Care Vaccines",vaccines:[{vaccine_id:"BCG",vaccine_desc:"BCG"},{vaccine_id:"VAR",vaccine_desc:"Varicella"},{vaccine_id:"FLU",vaccine_desc:"Flu Vaccine"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"HPV",vaccine_desc:"HPV"},{vaccine_id:"DPT",vaccine_desc:"DPT"},{vaccine_id:"HB",vaccine_desc:"HB"},{vaccine_id:"OPV",vaccine_desc:"OPV"},{vaccine_id:"PCV",vaccine_desc:"PCV"},{vaccine_id:"Penta",vaccine_desc:"Penta"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"MCV",vaccine_desc:"MCV"}]},{group:"Maternal Care",vaccines:[{vaccine_id:"TD",vaccine_desc:"Tetanus Dipteria"}]}];function Ji(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.vaccine_id,")")}}function Ni(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.vaccineForm.vaccine_date[l.vaccine_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.s9C("name","vaccine_date."+t.vaccine_id),e.s9C("id","vaccine_date."+t.vaccine_id),e.Q6J("ngModel",o.vaccineForm.vaccine_date[t.vaccine_id])}}function Qi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",31),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.vaccineForm.lot_no[l.vaccine_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.s9C("name","lot_no."+t.vaccine_id),e.s9C("id","lot_no."+t.vaccine_id),e.Q6J("ngModel",o.vaccineForm.lot_no[t.vaccine_id])}}function Fi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.vaccineForm.batch_no[l.vaccine_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.s9C("name","batch_no."+t.vaccine_id),e.s9C("id","batch_no."+t.vaccine_id),e.Q6J("ngModel",o.vaccineForm.batch_no[t.vaccine_id])}}function Pi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.vaccineForm.facility_name[l.vaccine_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.s9C("name","facility_name."+t.vaccine_id),e.s9C("id","facility_name."+t.vaccine_id),e.Q6J("ngModel",o.vaccineForm.facility_name[t.vaccine_id])}}function Di(i,a){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij("",t.value.dose," Dose "),e.xp6(2),e.hij(": ",t.value.vaccine_date?e.Dn7(5,2,t.value.vaccine_date,"MM/dd/yyyy","Asia/Manila"):"-","")}}function Vi(i,a){if(1&i&&(e.TgZ(0,"div",35)(1,"table",36)(2,"thead")(3,"tr")(4,"th"),e._uU(5),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Date Administered"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,Di,6,6,"tr",37),e.ALo(10,"keyvalue"),e.qZA()()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(5),e.Oqu(t.vaccine_id),e.xp6(4),e.Q6J("ngForOf",e.lcZ(10,2,o.vaccines_given[t.vaccine_id]))}}function Yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"label",19),e._uU(3),e.YNc(4,Ji,2,1,"span",20),e.qZA(),e.TgZ(5,"div",21)(6,"select",22),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.vaccineForm.vaccine_status[s.vaccine_id]=n)}),e.TgZ(7,"option"),e._uU(8,"-"),e.qZA(),e.TgZ(9,"option",23),e._uU(10,"Done"),e.qZA(),e.TgZ(11,"option",24),e._uU(12,"Done Outside - Private"),e.qZA(),e.TgZ(13,"option",25),e._uU(14,"Done Outside - Public"),e.qZA()(),e.YNc(15,Ni,2,3,"div",26),e.YNc(16,Qi,2,3,"div",26),e.YNc(17,Fi,2,3,"div",26),e.YNc(18,Pi,2,3,"div",27),e.YNc(19,Vi,11,4,"div",28),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw(2);e.xp6(2),e.s9C("for","vaccine_status."+t.vaccine_id),e.xp6(1),e.hij(" ",t.vaccine_desc," "),e.xp6(1),e.Q6J("ngIf",!o.covid_array.includes(t.vaccine_id)),e.xp6(2),e.s9C("id","vaccine_status."+t.vaccine_id),e.s9C("name","vaccine_status."+t.vaccine_id),e.Q6J("ngModel",o.vaccineForm.vaccine_status[t.vaccine_id]),e.xp6(9),e.Q6J("ngIf","-"!==o.vaccineForm.vaccine_status[t.vaccine_id]&&""!==o.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==o.vaccineForm.vaccine_status[t.vaccine_id]),e.xp6(1),e.Q6J("ngIf",o.covid_array.includes(t.vaccine_id)&&"-"!==o.vaccineForm.vaccine_status[t.vaccine_id]&&""!==o.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==o.vaccineForm.vaccine_status[t.vaccine_id]),e.xp6(1),e.Q6J("ngIf",o.covid_array.includes(t.vaccine_id)&&"-"!==o.vaccineForm.vaccine_status[t.vaccine_id]&&""!==o.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==o.vaccineForm.vaccine_status[t.vaccine_id]),e.xp6(1),e.Q6J("ngIf",o.covid_array.includes(t.vaccine_id)&&"-"!==o.vaccineForm.vaccine_status[t.vaccine_id]&&""!==o.vaccineForm.vaccine_status[t.vaccine_id]&&void 0!==o.vaccineForm.vaccine_status[t.vaccine_id]),e.xp6(1),e.Q6J("ngIf",o.vaccines_given&&o.vaccines_given[t.vaccine_id])}}function Oi(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"h4",15),e._uU(3),e.qZA()(),e.YNc(4,Yi,20,11,"div",16),e.qZA()),2&i){const t=a.$implicit;e.xp6(3),e.Oqu(t.value.name),e.xp6(1),e.Q6J("ngForOf",t.value.items)}}let ji=(()=>{var i;class a{constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.loadData=new e.vpe,this.error_message="exceeded maximum value",this.vaccine_list=Ui,this.vaccineForm={vaccine_status:[],vaccine_date:[],lot_no:[],batch_no:[],facility_name:[]},this.vaccine_grouped=[],this.showAlert=!1,this.covid_array=["ASTRA","JANDJ","MODER","NOVAV","PFIZE","SINOP","SPUTN","SINOV"]}onSubmit(){var o=[];if(Object.entries(this.vaccineForm.vaccine_status).forEach(([l,s],f)=>{"-"!=s&&o.push({vaccine_id:l,vaccine_date:this.vaccineForm.vaccine_date[l]?this.vaccineForm.vaccine_date[l]:null,status_id:s,lot_no:this.vaccineForm.lot_no[l]?this.vaccineForm.lot_no[l]:null,batch_no:this.vaccineForm.batch_no[l]?this.vaccineForm.batch_no[l]:null,facility_name:this.vaccineForm.facility_name[l]?this.vaccineForm.facility_name[l]:null})}),o.length>0){let l=this.http.getUserID();var n={patient_id:this.patient_info.id,user_id:l,vaccines:o};console.log(n),this.http.post("patient-vaccines/vaccines",n).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Vaccine record"),this.loadData.emit("vaccines")},error:f=>console.log(f),complete:()=>console.log("success")})}}closeModal(){this.toggleModal.emit("vaccine-moodal")}loadLibraries(){this.http.get("libraries/vaccine").subscribe(n=>{const l=n.data;console.log(n.data);const s=l.reduce((F,D)=>{if("DPT"!==D.vaccine_id){D.vaccine_module=this.getName(D.vaccine_module);const V=F[D.vaccine_module]||[];V.push(D),F[D.vaccine_module]=V}return F},{});let C=[];["Child Care","General","Animal Bite","NCD","Maternal Care","COVID-19"].forEach(F=>{C.push({name:F,items:s[F]})}),this.vaccine_grouped=C,console.log(this.vaccine_grouped)})}getName(o){let n;switch(o){case"animalbite":n="Animal Bite";break;case"ccdev":n="Child Care";break;case"gen":n="General";break;case"mc":n="Maternal Care";break;case"ncd":n="NCD";break;case"covid":n="COVID-19"}return n}ngOnInit(){this.loadLibraries()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vaccine-modal"]],inputs:{patient_info:"patient_info",vaccines_given:"vaccines_given"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},decls:18,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-gray-600","border","border-slate-100","mx-5"],["class","flex item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],["class","w-full mx-10",4,"ngFor","ngForOf"],[1,"w-full","mx-10"],[1,"grid","grid-cols-3","gap-4"],[1,"col-span-1","pt-2",3,"for"],[4,"ngIf"],[1,"col-span-2","grid","grid-cols-2"],[1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","id","name","ngModelChange"],["value","1"],["value","2"],["value","3"],["class","col-span-1",4,"ngIf"],["class","col-span-2",4,"ngIf"],["class","border border-slate-200 rounded-lg my-3 bg-slate-100 col-span-2",4,"ngIf"],[1,"col-span-1"],["type","date","placeholder","Enter vaccine date",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],["type","text","placeholder","Enter Lot No",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],["type","text","placeholder","Enter Batch No",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],[1,"col-span-2"],["type","text","placeholder","Enter Facility Name",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],[1,"border","border-slate-200","rounded-lg","my-3","bg-slate-100","col-span-2"],[1,"table-auto","w-full","m-3"],[4,"ngFor","ngForOf"],[1,"pl-5"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," VACCINES "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e._UZ(8,"div",7),e.YNc(9,Oi,5,2,"div",8),e.ALo(10,"keyvalue"),e._UZ(11,"div",7),e.qZA()(),e.TgZ(12,"div",9)(13,"button",10),e.NdJ("click",function(){return n.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return n.onSubmit()}),e._uU(16,"Save"),e.qZA()()()()(),e._UZ(17,"div",12)),2&o&&(e.xp6(9),e.Q6J("ngForOf",e.lcZ(10,1,n.vaccine_grouped)))},dependencies:[c.sg,c.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.F,c.uU,c.Nd]}),a})(),Si=(()=>{var i;class a{constructor(){}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medication-modal"]],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"medication-modal works!"),e.qZA())}}),a})();function Ei(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"input",13),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.patient_history.medical_history_id[s.id]=n)}),e.qZA(),e.TgZ(3,"label",14),e._uU(4),e.qZA()(),e.TgZ(5,"div",15)(6,"input",16),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.patient_history.remarks[s.id]=n)}),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.Q2q("id","patient_history",t.id,""),e.Q6J("ngModel",o.patient_history.medical_history_id[t.id]),e.xp6(1),e.Q2q("for","patient_history",t.id,""),e.xp6(1),e.Oqu(t.history_desc),e.xp6(2),e.Q6J("ngModel",o.patient_history.remarks[t.id])}}let Li=(()=>{var i;class a{onSubmit(){var o=[];Object.entries(this.patient_history.medical_history_id).forEach(([l,s],f)=>{if(!0===s){let C={category:1,medical_history_id:l,remarks:this.patient_history.remarks[l]?this.patient_history.remarks[l]:null};console.log(C),o.push(C)}}),o.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:o}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Past Medical History"),this.loadData.emit("past_medical"),this.closeModal()},error:l=>console.log(l),complete:()=>console.log("success")})}patchData(){this.past_medical&&Object.entries(this.past_medical).forEach(([o,n],l)=>{let s=n;this.patient_history.medical_history_id[s.medical_history_id]=!0,s.remarks&&(this.patient_history.remarks[s.medical_history_id]=s.remarks)})}closeModal(){this.toggleModal.emit("history")}constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.loadData=new e.vpe,this.patient_history={medical_history_id:[],remarks:[]}}ngOnChanges(o){this.patchData()}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-history-modal"]],inputs:{patient_info:"patient_info",past_medical:"past_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},features:[e.TTD],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-2"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModel","ngModelChange"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Past Medical History "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Ei,7,5,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return n.closeModal()}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e._uU(12,"Save"),e.qZA()()()()(),e._UZ(13,"div",10)),2&o&&(e.xp6(7),e.Q6J("ngForOf",n.history_list))},dependencies:[c.sg,r.Fj,r.Wl,r.JJ,r.On]}),a})();function Hi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"input",13),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.patient_history.medical_history_id[s.id]=n)}),e.qZA(),e.TgZ(3,"label",14),e._uU(4),e.qZA()(),e.TgZ(5,"div",15)(6,"input",16),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.patient_history.remarks[s.id]=n)}),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.Q2q("id","patient_history",t.id,""),e.Q6J("ngModel",o.patient_history.medical_history_id[t.id]),e.xp6(1),e.Q2q("for","patient_history",t.id,""),e.xp6(1),e.Oqu(t.history_desc),e.xp6(2),e.Q6J("ngModel",o.patient_history.remarks[t.id])}}let Ki=(()=>{var i;class a{onSubmit(){var o=[];Object.entries(this.patient_history.medical_history_id).forEach(([l,s],f)=>{!0===s&&o.push({category:2,medical_history_id:l,remarks:this.patient_history.remarks[l]?this.patient_history.remarks[l]:null})}),o.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:o}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Family Medical History"),this.loadData.emit("family_medical"),this.closeModal()},error:l=>console.log(l),complete:()=>console.log("success")})}patchData(){this.family_medical&&(console.log(this.family_medical),Object.entries(this.family_medical).forEach(([o,n],l)=>{let s=n;this.patient_history.medical_history_id[s.medical_history_id]=!0,s.remarks&&(this.patient_history.remarks[s.medical_history_id]=s.remarks)}))}ngOnChanges(o){this.patchData()}closeModal(){this.toggleModal.emit("fam-history")}constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.loadData=new e.vpe,this.patient_history={medical_history_id:[],remarks:[]}}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-fam-history-modal"]],inputs:{patient_info:"patient_info",family_medical:"family_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},features:[e.TTD],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-5"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModel","ngModelChange"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Family Medical History "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Hi,7,5,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return n.closeModal()}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e._uU(12,"Save"),e.qZA()()()()(),e._UZ(13,"div",10)),2&o&&(e.xp6(7),e.Q6J("ngForOf",n.history_list))},dependencies:[c.sg,r.Fj,r.Wl,r.JJ,r.On]}),a})();function Gi(i,a){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ri(i,a){1&i&&(e.TgZ(0,"div",9)(1,"label",25),e._uU(2,"Number of Pack Year"),e.qZA(),e._UZ(3,"input",26),e.qZA())}function Bi(i,a){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function zi(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"label",27),e._uU(2,"Bottles per day"),e.qZA(),e._UZ(3,"input",28),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.f.bottles_per_day.disabled)}}function Wi(i,a){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function $i(i,a){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}let Xi=(()=>{var i;class a{get f(){return this.lifestyleForm.controls}onSubmit(){this.is_saving=!0,console.log(this.lifestyleForm),this.http.post("patient-social-history/history",this.lifestyleForm.value).subscribe({next:o=>{console.log(o.data),this.saveComplete()},error:o=>console.log(o)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Social History"),this.closeModal()}disableFields(){"Y"!==this.lifestyleForm.value.smoking?this.lifestyleForm.patchValue({pack_per_year:null}):this.lifestyleForm.controls.pack_per_year.enable(),"Y"!==this.lifestyleForm.value.alcohol?this.lifestyleForm.patchValue({bottles_per_day:null}):this.lifestyleForm.controls.bottles_per_day.enable()}loadLibraries(){this.http.get("libraries/social-history").subscribe({next:o=>this.answers=o.data,error:o=>console.log(o)}),this.http.get("libraries/ncd-answers-s2").subscribe({next:o=>this.answers_yn=o.data,error:o=>console.log(o)})}createForm(){this.patient_info&&(this.lifestyleForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],smoking:[null,r.kI.required],pack_per_year:[null],alcohol:[null,r.kI.required],bottles_per_day:[null],illicit_drugs:[null,r.kI.required],sexually_active:[null,r.kI.required]}),this.disableFields())}closeModal(){this.toggleModal.emit("lifestyle")}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.loadData=new e.vpe,this.toggleModal=new e.vpe,this.is_saving=!1,this.lifestyleForm=new r.cw({patient_id:new r.NI(""),smoking:new r.NI(""),pack_per_year:new r.NI(null),alcohol:new r.NI(null),bottles_per_day:new r.NI(null),illicit_drugs:new r.NI(null),sexually_active:new r.NI(null)})}ngOnChanges(o){this.lifestyleForm.patchValue({...this.social_history}),this.disableFields()}ngOnInit(){this.createForm(),this.loadLibraries(),console.log(this.social_history),this.social_history&&this.lifestyleForm.patchValue({...this.social_history})}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lifestyle-modal"]],inputs:{patient_info:"patient_info",social_history:"social_history"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[e.TTD],decls:41,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup","submit"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","smoking"],["id","smoking","name","smoking","formControlName","smoking",1,"input",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","alcohol"],["id","alcohol","name","alcohol","formControlName","alcohol",1,"input",3,"change"],["for","illicit_drugs"],["id","illicit_drugs","name","illicit_drugs","formControlName","illicit_drugs",1,"input"],["for","sexually_active"],["id","sexually_active","name","sexually_active","formControlName","sexually_active",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","pack_per_year"],["name","pack_per_year","id","pack_per_year","formControlName","pack_per_year","type","number",1,"input","disabled:bg-gray-300"],["for","bottles_per_day"],["name","bottles_per_day","id","bottles_per_day","formControlName","bottles_per_day","type","number",1,"input","disabled:bg-gray-300",3,"disabled"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Social/Personal History "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12,"Smoking"),e.qZA(),e.TgZ(13,"select",11),e.NdJ("change",function(){return n.disableFields()}),e.YNc(14,Gi,2,2,"option",12),e.qZA()(),e.YNc(15,Ri,4,0,"div",13),e.qZA(),e.TgZ(16,"div",8)(17,"div",9)(18,"label",14),e._uU(19,"Alcohol"),e.qZA(),e.TgZ(20,"select",15),e.NdJ("change",function(){return n.disableFields()}),e.YNc(21,Bi,2,2,"option",12),e.qZA()(),e.YNc(22,zi,4,1,"div",13),e.qZA(),e.TgZ(23,"div",8)(24,"div",9)(25,"label",16),e._uU(26,"Illicit Drug"),e.qZA(),e.TgZ(27,"select",17),e.YNc(28,Wi,2,2,"option",12),e.qZA()()(),e.TgZ(29,"div",8)(30,"div",9)(31,"label",18),e._uU(32,"Sexually Active"),e.qZA(),e.TgZ(33,"select",19),e.YNc(34,$i,2,2,"option",12),e.qZA()()()()()(),e.TgZ(35,"div",20)(36,"button",21),e.NdJ("click",function(){return n.closeModal()}),e._uU(37,"Close"),e.qZA(),e.TgZ(38,"button",22),e.NdJ("click",function(){return n.onSubmit()}),e._uU(39),e.qZA()()()()(),e._UZ(40,"div",23)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.lifestyleForm),e.xp6(7),e.Q6J("ngForOf",n.answers),e.xp6(1),e.Q6J("ngIf","Y"===n.lifestyleForm.value.smoking),e.xp6(6),e.Q6J("ngForOf",n.answers),e.xp6(1),e.Q6J("ngIf","Y"===n.lifestyleForm.value.alcohol),e.xp6(6),e.Q6J("ngForOf",n.answers),e.xp6(6),e.Q6J("ngForOf",n.answers_yn),e.xp6(4),e.Q6J("disabled",n.is_saving||n.lifestyleForm.invalid),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.sg,c.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u]}),a})();function en(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"label",13),e._uU(2),e.qZA(),e.TgZ(3,"select",14)(4,"option"),e._uU(5,"-"),e.qZA(),e.TgZ(6,"option",15),e._uU(7,"Yes"),e.qZA(),e.TgZ(8,"option",16),e._uU(9,"None"),e.qZA()()()),2&i){const t=a.$implicit;e.xp6(2),e.hij("",t.name," Allergy")}}let tn=(()=>{var i;class a{constructor(){this.toggleModal=new e.vpe,this.allergies=[{id:1,name:"Drug"},{id:2,name:"Food"},{id:3,name:"Insect"},{id:4,name:"Latex"},{id:5,name:"Mold"},{id:6,name:"Pet"},{id:7,name:"Pollen"}]}onSubmit(){console.log("test")}closeModal(){this.toggleModal.emit("allergies-modal")}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-allergies-modal"]],outputs:{toggleModal:"toggleModal"},decls:15,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],["class","grid grid-cols-2 gap-4 mx-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-2","gap-4","mx-10"],["for","vitals_date",1,"col-span-1","pt-2"],["id","vaccine.vaccine_id","name","vaccine.vaccine_id",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["value","true"],["value","false"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," VACCINES "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.YNc(8,en,10,1,"div",7),e.qZA()(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._uU(13,"Save"),e.qZA()()()()(),e._UZ(14,"div",11)),2&o&&(e.xp6(8),e.Q6J("ngForOf",n.allergies))},dependencies:[c.sg,r._Y,r.YN,r.Kr,r.JL,r.F]}),a})();var S=u(6825);function nn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2," Your are about to delete a vaccine record for this patient. Please enter the generated delete code in order to proceed. "),e.qZA(),e.TgZ(3,"div",25)(4,"span",26),e._uU(5,"Delete Code"),e.qZA(),e.TgZ(6,"span",27),e._uU(7),e.qZA()(),e.TgZ(8,"div",25)(9,"label",28),e._uU(10,"Enter Code"),e.qZA(),e.TgZ(11,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.confirmation_code=n)}),e.qZA()(),e.TgZ(12,"div",30)(13,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onDelete())}),e._UZ(14,"fa-icon",6),e._uU(15," Delete "),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.confirm_code),e.xp6(4),e.Q6J("ngModel",t.confirmation_code),e.xp6(2),e.Q6J("disabled",!t.confirmation_code),e.xp6(1),e.Q6J("icon",t.faTrash)}}let on=(()=>{var i;class a{constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.faTrash=_.$aW,this.confirm_code="0000",this.showDeleteCode=!1,this.showAlert=!1,this.showAlertDelete=!1,this.disableSave=!1}onUpdate(){this.http.update("patient-vaccines/vaccines/",this.vaccine.id,this.vaccine).subscribe({next:()=>{this.showToastr("success","Succcessfully updated!","Vaccine record")},error:o=>console.log(o)})}onDelete(){this.confirm_code===this.confirmation_code?this.http.delete("patient-vaccines/vaccines/",this.vaccine.id).subscribe({next:()=>{this.disableSave=!0,this.showToastr("error","Record was deleted!","Vaccine record")},error:o=>console.log(o),complete:()=>console.log("updated")}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"),console.log("error"))}showToastr(o,n,l){this.toastr[o](n,l),this.closeModal()}showDeleteForm(){this.showDeleteCode=!0,this.generateCode()}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){console.log("test"),this.toggleModal.emit({modal_name:"vaccine-action"})}ngOnInit(){this.vaccine={...this.vaccine_to_edit}}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vaccine-action-modal"]],inputs:{vaccine_to_edit:"vaccine_to_edit"},outputs:{toggleModal:"toggleModal"},decls:34,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-4","py-2.5","transition","duration-150","ease-in-out",3,"click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","status_id"],["id","status_id","name","status_id",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"disabled","ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["for","vaccine_date"],["name","vaccine_date","id","vaccine_date","type","date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"disabled","ngModel","ngModelChange"],["class","grid grid-cols-3 px-5 py-5 mt-10 mx-10 w-full bg-red-50 rounded-lg text-center",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.showDeleteForm()}),e._UZ(7,"fa-icon",6),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Status"),e.qZA(),e.TgZ(14,"select",12),e.NdJ("ngModelChange",function(s){return n.vaccine.status_id=s}),e.TgZ(15,"option"),e._uU(16,"-"),e.qZA(),e.TgZ(17,"option",13),e._uU(18,"Done"),e.qZA(),e.TgZ(19,"option",14),e._uU(20,"Done Outside - Private"),e.qZA(),e.TgZ(21,"option",15),e._uU(22,"Done Outside - Public"),e.qZA()()(),e.TgZ(23,"div",10)(24,"label",16),e._uU(25,"Vaccine Date"),e.qZA(),e.TgZ(26,"input",17),e.NdJ("ngModelChange",function(s){return n.vaccine.vaccine_date=s}),e.qZA()()(),e.YNc(27,nn,16,4,"div",18),e.qZA()(),e.TgZ(28,"div",19)(29,"button",20),e.NdJ("click",function(){return n.closeModal()}),e._uU(30,"Close"),e.qZA(),e.TgZ(31,"button",21),e.NdJ("click",function(){return n.onUpdate()}),e._uU(32,"Update"),e.qZA()()()()(),e._UZ(33,"div",22)),2&o&&(e.xp6(5),e.hij(" UPDATE/DELETE VACCINE (",n.vaccine.vaccine_id,") "),e.xp6(2),e.Q6J("icon",n.faTrash),e.xp6(7),e.Q6J("disabled",n.disableSave)("ngModel",n.vaccine.status_id),e.xp6(12),e.Q6J("disabled",n.disableSave)("ngModel",n.vaccine.vaccine_date),e.xp6(1),e.Q6J("ngIf",n.showDeleteCode),e.xp6(4),e.Q6J("disabled",n.disableSave))},dependencies:[c.O5,v.BN,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On],data:{animation:[(0,S.X$)("openCloseTrigger",[(0,S.eR)(":enter",[(0,S.oB)({width:0,opacity:0}),(0,S.jt)("200ms",(0,S.oB)({opacity:"100%"}))]),(0,S.eR)(":leave",[(0,S.jt)("100ms",(0,S.oB)({opacity:0}))])])]}}),a})();function an(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.editVitals(n))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("icon",t.faPenToSquare)}}const ln=function(i){return{"bg-gray-50":i}};function rn(i,a){if(1&i&&(e.TgZ(0,"tr",15)(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e._UZ(7,"br"),e._uU(8),e.qZA(),e.TgZ(9,"td",17),e._uU(10),e._UZ(11,"br"),e._uU(12),e.qZA(),e.TgZ(13,"td",17),e._uU(14),e.qZA(),e.TgZ(15,"td",17),e._uU(16),e.ALo(17,"number"),e._UZ(18,"br"),e._uU(19),e.ALo(20,"number"),e._UZ(21,"br"),e._uU(22),e.ALo(23,"number"),e._UZ(24,"br"),e._uU(25),e.ALo(26,"number"),e.qZA(),e.TgZ(27,"td",17),e._uU(28),e._UZ(29,"br"),e._uU(30),e._UZ(31,"br"),e._uU(32),e._UZ(33,"br"),e._uU(34),e._UZ(35,"br"),e._uU(36),e._UZ(37,"br"),e._uU(38),e._UZ(39,"br"),e._uU(40),e._UZ(41,"br"),e._uU(42),e.qZA(),e.TgZ(43,"td",18),e.YNc(44,an,1,1,"fa-icon",19),e.qZA()()),2&i){const t=a.$implicit,o=a.odd,n=e.oxw();let l,s,f,C,F,D,V,G,R,W,$,X,ee;e.Q6J("ngClass",e.VKq(37,ln,o)),e.xp6(2),e.hij(" ",t.vitals_date," "),e.xp6(2),e.lnq(" ",t.bp_systolic,"",t.bp_systolic?"/":"-","",t.bp_diastolic," "),e.xp6(2),e.hij(" ",t.patient_height?t.patient_height+" cm":"-"," "),e.xp6(2),e.hij(" ",t.patient_weight?t.patient_weight+" kg":"-"," "),e.xp6(2),e.AsE(" Right: ",t.patient_right_vision_acuity_distance?t.patient_right_vision_acuity_distance:"-","|",t.patient_right_vision_acuity?t.patient_right_vision_acuity:"-"," "),e.xp6(2),e.AsE(" Left: ",t.patient_left_vision_acuity_distance?t.patient_left_vision_acuity_distance:"-","|",t.patient_left_vision_acuity?t.patient_left_vision_acuity:"-"," "),e.xp6(2),e.hij(" ",null!==(l=t.patient_temp)&&void 0!==l?l:"-"," "),e.xp6(2),e.hij(" SpO2: ",e.xi3(17,25,t.patient_spo2,null!==(s="1.0-0")&&void 0!==s?s:"-")," "),e.xp6(3),e.hij(" Heart Rate: ",e.xi3(20,28,t.patient_heart_rate,null!==(f="1.0-0")&&void 0!==f?f:"-")," "),e.xp6(3),e.hij(" Pulse Rate: ",e.xi3(23,31,t.patient_pulse_rate,null!==(C="1.0-0")&&void 0!==C?C:"-")," "),e.xp6(3),e.hij(" Resp Rate: ",e.xi3(26,34,t.patient_respiratory_rate,null!==(F="1.0-0")&&void 0!==F?F:"-")," "),e.xp6(3),e.hij(" Head: ",null!==(D=t.patient_head_circumference)&&void 0!==D?D:"-"," "),e.xp6(2),e.hij(" MUAC: ",null!==(V=t.patient_muac)&&void 0!==V?V:"-"," "),e.xp6(2),e.hij(" Chest: ",null!==(G=t.patient_chest)&&void 0!==G?G:"-"," "),e.xp6(2),e.hij(" Abdmn: ",null!==(R=t.patient_abdomen)&&void 0!==R?R:"-"," "),e.xp6(2),e.hij(" Waist: ",null!==(W=t.patient_waist)&&void 0!==W?W:"-"," "),e.xp6(2),e.hij(" Hip: ",null!==($=t.patient_hip)&&void 0!==$?$:"-"," "),e.xp6(2),e.hij(" Limbs: ",null!==(X=t.patient_limbs)&&void 0!==X?X:"-"," "),e.xp6(2),e.hij(" Skinfold: ",null!==(ee=t.patient_skinfold_thickness)&&void 0!==ee?ee:"-"," "),e.xp6(2),e.Q6J("ngIf",t.facility_code===n.user_facility)}}function sn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",21)(2,"div",22)(3,"div")(4,"p",23),e._uU(5," Showing "),e.TgZ(6,"span",24),e._uU(7),e.qZA(),e._uU(8," to "),e.TgZ(9,"span",24),e._uU(10),e.qZA(),e._uU(11," of "),e.TgZ(12,"span",24),e._uU(13),e.qZA(),e._uU(14," results "),e.qZA()(),e.TgZ(15,"div")(16,"nav",25)(17,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadVitals(1))}),e._UZ(18,"fa-icon",27),e.qZA(),e.TgZ(19,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadVitals(n.current_page-1))}),e._UZ(20,"fa-icon",27),e._uU(21,"Previous "),e.qZA(),e.TgZ(22,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadVitals(n.current_page+1))}),e._uU(23," Next"),e._UZ(24,"fa-icon",29),e.qZA(),e.TgZ(25,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadVitals(n.last_page))}),e._UZ(26,"fa-icon",29),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(4),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}let dn=(()=>{var i;class a{constructor(o){this.http=o,this.toggleModal=new e.vpe,this.vitalsEdit=new e.vpe,this.faPenToSquare=_.Yai,this.faChevronRight=_._tD,this.faChevronLeft=_.A35,this.faAnglesLeft=_._Wx,this.faAnglesRight=_.ccb,this.per_page=5}editVitals(o){this.vitalsEdit.emit(o),this.closeModal()}onSubmit(){}loadVitals(o){let n={params:{}};o&&(n.params.page=o),n.params.per_page=this.per_page,n.params.patient_id=this.patient_info.id,n.params.sort="-vitals_date",this.http.get("patient-vitals/vitals",n).subscribe({next:l=>{console.log(l.data),this.vitals_list=l.data,this.current_page=l.meta.current_page,this.last_page=l.meta.last_page,this.from=l.meta.from,this.to=l.meta.to,this.total=l.meta.total},error:l=>console.log(l),complete:()=>console.log("Vitals signs loaded")})}closeModal(){this.toggleModal.emit("vaccine-moodal")}ngOnInit(){this.loadVitals()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vitals-list-modal"]],inputs:{patient_info:"patient_info",user_facility:"user_facility"},outputs:{toggleModal:"toggleModal",vitalsEdit:"vitalsEdit"},decls:36,vars:2,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-3"],["class","bg-white border-b",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b",3,"ngClass"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap","align-top"],[1,"py-4","px-6","align-top"],[1,"py-4","px-6"],["class","mx-0 my-0 text-amber-500 hover:cursor-pointer flex-none mr-2",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Vitals Signs "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),e._uU(12,"Date & Time"),e.qZA(),e.TgZ(13,"th",9),e._uU(14,"Blood Pressure"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"Weight & "),e._UZ(17,"br"),e._uU(18," Height"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Visual Acuity"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"Temp (C)"),e.qZA(),e.TgZ(23,"th",9),e._uU(24,"O2 sat, Heart/Pulse/Resp Rate"),e.qZA(),e.TgZ(25,"th",9),e._uU(26,"Body Measurement"),e.qZA(),e.TgZ(27,"th",9),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,rn,45,39,"tr",10),e.qZA()()(),e.YNc(31,sn,27,11,"div",11),e.qZA(),e.TgZ(32,"div",12)(33,"button",13),e.NdJ("click",function(){return n.closeModal()}),e._uU(34,"Close"),e.qZA()()()()(),e._UZ(35,"div",14)),2&o&&(e.xp6(30),e.Q6J("ngForOf",n.vitals_list),e.xp6(1),e.Q6J("ngIf",(null==n.vitals_list?null:n.vitals_list.length)>=1))},dependencies:[c.mk,c.sg,c.O5,v.BN,c.JJ]}),a})();function cn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.onModuleSelect(n.itr))}),e._UZ(1,"fa-icon",22),e._uU(2," Patient ITR "),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("disabled",t.is_loading),e.xp6(1),e.Q6J("icon",t.faHouse)}}function _n(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.onModuleSelect(n.lab))}),e._UZ(1,"fa-icon",22),e._uU(2," Laboratory "),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("disabled",t.is_loading),e.xp6(1),e.Q6J("icon",t.faFlask)}}const pe=function(i){return{"enabled:bg-green-500 enabled:hover:ring-green-300":i}};function pn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.onModuleSelect(n.cn))}),e._UZ(1,"fa-icon",22),e._uU(2," Consultation "),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("disabled",t.is_loading)("ngClass",e.VKq(3,pe,t.cn.consult_active)),e.xp6(1),e.Q6J("icon",t.faUserDoctor)}}function un(i,a){if(1&i&&e._UZ(0,"fa-icon",22),2&i){const t=e.oxw(5);e.Q6J("icon",t.faClipboard)}}function mn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.onModuleSelect(l.value))}),e.YNc(1,un,1,1,"fa-icon",24),e._uU(2),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw(4);e.Q6J("disabled",o.is_loading)("ngClass",e.VKq(4,pe,t.value.consult_active)),e.xp6(1),e.Q6J("ngIf",t.value.consult_active),e.xp6(1),e.hij(" ",t.value.name," ")}}function gn(i,a){if(1&i&&(e.TgZ(0,"div",14)(1,"div",15)(2,"h4",16),e._uU(3),e.qZA()(),e.TgZ(4,"div",17),e.YNc(5,cn,3,2,"button",18),e.YNc(6,_n,3,2,"button",18),e.YNc(7,pn,3,5,"button",19),e.YNc(8,mn,3,6,"button",20),e.ALo(9,"keyvalue"),e.qZA()()),2&i){const t=a.$implicit;e.xp6(3),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf","Others"!==t.key),e.xp6(1),e.Q6J("ngIf","Others"!==t.key),e.xp6(1),e.Q6J("ngIf","Others"!==t.key),e.xp6(1),e.Q6J("ngForOf",e.lcZ(9,5,t.value.modules))}}function hn(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,gn,10,7,"div",13),e.ALo(2,"keyvalue"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.list_modules))}}function fn(i,a){1&i&&(e.TgZ(0,"div",52),e._uU(1," Please check if the ATC is valid before you proceed. "),e.qZA())}function vn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"label",46),e._uU(3,"Konsulta ATC"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(4);return e.KtG(l.pATC=n)}),e.qZA(),e.TgZ(6,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(4);return e.KtG(l.pATC_date=n)}),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.isATCValid())}),e._UZ(9,"fa-icon",50),e.qZA()(),e.YNc(10,fn,2,0,"div",51),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(5),e.Q6J("ngModel",t.pATC),e.xp6(1),e.s9C("max",e.xi3(7,7,t.date,"yyyy-MM-dd HH:mm:ss")),e.Q6J("ngModel",t.pATC_date),e.xp6(2),e.Q6J("disabled",!t.pATC||!t.pATC_date||t.is_loading||t.is_checking_atc),e.xp6(1),e.Q6J("icon",t.is_checking_atc?t.faSpinner:t.faCheck)("spin",t.is_checking_atc),e.xp6(1),e.Q6J("ngIf",t.pATC&&!t.is_atc_valid)}}const bn=function(i){return{"bg-red-100 text-red-900":i}};function xn(i,a){if(1&i&&(e.TgZ(0,"div",53),e._UZ(1,"fa-icon",54),e._uU(2),e.qZA()),2&i){const t=e.oxw(4);e.Q6J("ngClass",e.VKq(3,bn,!t.is_atc_valid)),e.xp6(1),e.Q6J("icon",t.faCircleInfo),e.xp6(1),e.hij(" ",t.is_atc_valid?"ATC is valid":"ATC is not valid"," ")}}function yn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(3);return e.KtG(l.is_walk_in=n)}),e.qZA(),e._uU(3,"Check if patient is Walk-in "),e.qZA(),e.YNc(4,vn,11,10,"div",42),e.YNc(5,xn,3,5,"div",43),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("disabled",t.is_checking_atc)("ngModel",t.is_walk_in),e.xp6(2),e.Q6J("ngIf",!t.is_walk_in),e.xp6(1),e.Q6J("ngIf",void 0!==t.is_atc_valid)}}function Zn(i,a){1&i&&(e.TgZ(0,"div",55)(1,"div",56),e._uU(2," ATC checking is not available. Philhealth pin not found. "),e.qZA()())}function wn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",25),e._uU(2," No active visit for\xa0"),e.TgZ(3,"span",26),e._uU(4),e.qZA(),e._uU(5,". Would you like to create a new\xa0"),e.TgZ(6,"span",26),e._uU(7),e.qZA(),e._uU(8," visit? "),e.qZA(),e.TgZ(9,"div",27)(10,"div",28)(11,"label",29),e._uU(12,"Consultation Date"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.consult_date=n)}),e.qZA(),e.TgZ(15,"input",31),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.consult_time=n)}),e.qZA()(),e.YNc(16,yn,6,4,"div",32),e.YNc(17,Zn,3,0,"div",33),e.TgZ(18,"div",34)(19,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onCreateCancel())}),e._uU(20,"Cancel"),e.qZA(),e.TgZ(21,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onCreateNew(n.selected_module))}),e._uU(22,"Proceed"),e.qZA()()(),e.TgZ(23,"div",37),e._UZ(24,"fa-icon",38),e._uU(25," Consultation date default value is today. You may change the date for backencoding. "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.selected_module.name," "),e.xp6(3),e.hij(" ",t.selected_module.name,"\xa0"),e.xp6(7),e.Q6J("max",t.max_date)("ngModel",t.consult_date),e.xp6(1),e.Q6J("ngModel",t.consult_time),e.xp6(1),e.Q6J("ngIf",t.philhealth_details),e.xp6(1),e.Q6J("ngIf",!t.philhealth_details),e.xp6(2),e.Q6J("disabled",t.is_checking_atc),e.xp6(2),e.Q6J("disabled",!t.consult_date||t.is_loading||t.is_checking_atc),e.xp6(3),e.Q6J("icon",t.faCircleInfo)}}function Cn(i,a){if(1&i&&(e.TgZ(0,"div",10),e.YNc(1,hn,3,3,"div",11),e.YNc(2,wn,26,10,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.show_new),e.xp6(1),e.Q6J("ngIf",t.show_new)}}let Tn=(()=>{var i;class a{isATCValid(){this.is_checking_atc=!0;let o={pPIN:this.philhealth_details.philhealth_id,pATC:this.pATC,pEffectivityDate:(0,c.p6)(this.pATC_date,"MM/dd/yyyy","en","Asia/Manila")};this.http.get("konsulta/check-atc",{params:o}).subscribe({next:n=>{this.is_checking_atc=!1,this.is_atc_valid="YES"===n.return},error:n=>console.log(n)})}selectPrograms(){"F"==this.patient_info.gender&&"year"===this.patient_age.type&&this.patient_age.age>=9&&(this.list_modules.General.modules.mc=this.mc),("year"===this.patient_age.type&&this.patient_age.age<7||"year"!==this.patient_age.type)&&(this.list_modules.General.modules.cc=this.cc),"year"===this.patient_age.type&&this.patient_age.age>=9&&(this.list_modules.General.modules.fp=this.fp)}onModuleSelect(o){let n=o.location;this.is_loading=!0,"gbv"===n||"itr"===n||"lab"===n?(this.router.navigate(["/patient/"+n,{id:this.patient_info.id}]),this.closeModal()):"/patient/"+n===this.router.url.split(";")[0]?!1===o.consult_active?(this.show_new=!0,this.selected_module=o,this.is_loading=!1):(this.router.url.split("=")[2]!=o.id&&this.router.navigate(["/patient/"+n,{id:this.patient_info.id,consult_id:o.id}]),this.closeModal()):(!1===o.consult_active?this.show_new=!0:(this.show_new=!1,this.router.navigate(["/patient/"+n,{id:this.patient_info.id,consult_id:o.id}]),this.closeModal()),this.selected_module=o,this.is_loading=!1)}onCreateCancel(){this.show_new=!1}onCreateNew(o){this.is_loading=!0;let n=this.http.getUserID();this.http.post("consultation/records",{patient_id:this.patient_info.id,user_id:n,consult_date:this.consult_date+" "+this.consult_time+":00",consult_done:0,pt_group:o.group,authorization_transaction_code:this.is_atc_valid?this.is_walk_in?"WALKEDIN":this.pATC||""!==this.pATC?this.pATC:"WALKEDIN":"WALKEDIN",walkedin_status:!this.is_atc_valid}).subscribe({next:s=>{this.toastr.success("Successfully created!","New visit"),this.router.navigate(["/patient/"+o.location,{id:this.patient_info.id,consult_id:s.data.id}]),this.closeModal()},error:s=>console.log(s.error.message)})}closeModal(){this.is_loading=!1,this.toggleModal.emit("module")}constructor(o,n,l){this.router=o,this.http=n,this.toastr=l,this.toggleModal=new e.vpe,this.max_date=(0,c.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.faClipboard=_.Yjj,this.faCircleInfo=_.DBf,this.faHouse=_.wp6,this.faUserDoctor=_.x3j,this.faFlask=_.jZZ,this.faCheck=_.LEp,this.faSpinner=_.LM3,this.list_modules={General:{modules:{}},Others:{modules:{ab:{name:"Animal Bite",location:"ab",group:"ab",consult_active:!1,id:null},tb:{name:"Tuberculosis",location:"tb",group:"tb",consult_active:!1,id:null},ncd:{name:"NCD",location:"ncd",group:"ncd",consult_active:!1,id:null}}}},this.itr={name:"Patient ITR",location:"itr",group:"",consult_active:!1,id:null},this.lab={name:"Laboratory",location:"lab",group:"",consult_active:!1,id:null},this.cn={name:"Consultation",location:"cn",group:"cn",consult_active:!1,id:null},this.mc={name:"Maternal Care",location:"mc",group:"mc",consult_active:!1,id:null},this.cc={name:"Child Care",location:"cc",group:"cc",consult_active:!1,id:null},this.gbv={name:"GBV",location:"gbv",group:"gbv",consult_active:!1,id:null},this.fp={name:"Family Planning",location:"fp",group:"fp",consult_active:!1,id:null},this.show_new=!1,this.is_loading=!1,this.show_form=!1,this.is_checking_atc=!1,this.selected_module="",this.arr_allowed=["MD","WCPD","MSWDO"]}checkOpenConsult(o){Object.entries(o).forEach(([n,l],s)=>{let f=l;"cn"===f.pt_group&&this.user_fac===f.facility.code&&(this.cn.consult_active=!0,this.cn.id=f.id),Object.entries(this.list_modules).forEach(([C,F],D)=>{Object.entries(F.modules).forEach(([V,G],R)=>{f.pt_group===V&&(this.list_modules[C].modules[V].consult_active=!0,this.list_modules[C].modules[V].id=f.id)})})}),this.show_form=!0}ngOnInit(){this.user_fac=this.http.getUserFacility();let o=this.http.getUserFromJSON();this.pos=o.designation_code?o.designation_code:o.designation.code,this.selectPrograms(),this.http.get("consultation/records",{params:{consult_done:0,patient_id:this.patient_info.id}}).subscribe({next:l=>{l.data.length>0&&this.checkOpenConsult(l.data),this.show_form=!0},error:l=>console.log(l)})}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(d.F0),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-module-modal"]],inputs:{patient_info:"patient_info",patient_age:"patient_age",philhealth_details:"philhealth_details"},outputs:{toggleModal:"toggleModal"},decls:12,vars:2,consts:[[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","px-5","bg-gray-400",3,"disabled","click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[1,"overflow-y-auto","overflow-x-hidden","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","item-start","flex-wrap","pb-5"],[1,"w-full","px-5","my-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-3","gap-4","mx-10"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"disabled","click"],["size","lg",1,"mx-0","my-0","text-white","mr-2",3,"icon"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"disabled","ngClass","click"],["class","mx-0 my-0 text-white mr-2","size","lg",3,"icon",4,"ngIf"],[1,"flex","justify-center","w-full","my-5"],[1,"font-semibold"],[1,"flex","flex-col"],[1,"flex","justify-start","pb-3","w-full","ml-10"],["for","consult_date",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","date","name","consult_date","id","consult_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModel","ngModelChange"],["type","time","name","consult_time","id","consult_time","placeholder","HH:mm AM/PM",1,"input","w-52",3,"ngModel","ngModelChange"],["class","border border-slate-200 rounded-md mx-10 shadow-md",4,"ngIf"],["class","border border-yellow-400 text-yellow-700 rounded-md mx-10 bg-yellow-100",4,"ngIf"],[1,"flex","justify-center","mt-5"],["type","button",1,"btn-save","px-10","bg-amber-500","mr-2","disabled:bg-gray-300",3,"disabled","click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"flex","mx-16","mt-5","p-2","rounded-md","bg-blue-100","border","border-blue-200","text-blue-900"],["size","lg",1,"flex-none","my-0","text-blue-900","m-2",3,"icon"],[1,"border","border-slate-200","rounded-md","mx-10","shadow-md"],[1,"flex","justify-start","w-full","ml-5","my-3"],["type","checkbox",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"disabled","ngModel","ngModelChange"],["class","grid grid-cols-1 w-full ml-5 mb-3",4,"ngIf"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],[1,"grid","grid-cols-1","w-full","ml-5","mb-3"],[1,"flex","justify-start","w-full","ml-5","mb-3"],["for","pATC",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","text","name","pATC","id","pATC","placeholder","Patient ATC",1,"input","w-52",3,"ngModel","ngModelChange"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModel","ngModelChange"],["type","button",1,"h-9","mt-1","text-sm","rounded-md","text-white","bg-blue-500","disabled:bg-gray-300",3,"disabled","click"],[1,"py-1","px-2",3,"icon","spin"],["class","flex-1 flex text-xs text-red-500 italic",4,"ngIf"],[1,"flex-1","flex","text-xs","text-red-500","italic"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"border","border-yellow-400","text-yellow-700","rounded-md","mx-10","bg-yellow-100"],[1,"p-3"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6," Health Programs "),e.qZA()(),e.YNc(7,Cn,3,2,"div",6),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return n.closeModal()}),e._uU(10,"Close"),e.qZA()()()()()(),e._UZ(11,"div",9)),2&o&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(2),e.Q6J("disabled",n.is_loading))},dependencies:[c.mk,c.sg,c.O5,v.BN,r.Fj,r.Wl,r.JJ,r.On,c.uU,c.Nd]}),a})();var An=u(3997),kn=u(3620),qn=u(4664),In=u(6306),Un=u(7398),Jn=u(5211),ue=u(2096),z=u(8645),Nn=u(8839);const Qn=["mySelect"];function Fn(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Pn(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Fn,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.enlistment_date.errors?null:t.f.enlistment_date.errors.required)}}function Dn(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Vn(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Yn(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Vn,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.enlistment_status_id.errors?null:t.f.enlistment_status_id.errors.required)}}function On(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function jn(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Sn(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,jn,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.package_type_id.errors?null:t.f.package_type_id.errors.required)}}function En(i,a){if(1&i&&e._UZ(0,"fa-icon",57),2&i){const t=e.oxw();e.Q6J("icon",t.faCircleNotch)}}function Ln(i,a){if(1&i&&(e.TgZ(0,"div",58),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.retrieving_error," ")}}function Hn(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Kn(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Philhealth ID must be 12 characters "),e.qZA())}function Gn(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Hn,2,1,"div",55),e.YNc(2,Kn,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.philhealth_id.errors?null:t.f.philhealth_id.errors.required),e.xp6(1),e.Q6J("ngIf",t.is_saving&&(null==t.f.philhealth_id.errors?null:t.f.philhealth_id.errors.minLength))}}function Rn(i,a){1&i&&(e.TgZ(0,"div",54)(1,"div"),e._uU(2," Philhealth number does not match "),e.qZA()())}function Bn(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function zn(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Philhealth ID must be 12 characters "),e.qZA())}function Wn(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Bn,2,1,"div",55),e.YNc(2,zn,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.philhealth_id_confirmation.errors?null:t.f.philhealth_id_confirmation.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.philhealth_id_confirmation.errors?null:t.f.philhealth_id_confirmation.errors.minLength)}}const $n=function(){return{standalone:!0}};function Xn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",63)(1,"label",64),e._uU(2,"Konsulta ATC"),e.qZA(),e._UZ(3,"br")(4,"input",65),e.TgZ(5,"input",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(2);return e.KtG(l.pATC_date=n)}),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isATCValid())})("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isATCValid())}),e._UZ(8,"fa-icon",68),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(5),e.s9C("max",e.xi3(6,6,t.date,"yyyy-MM-dd HH:mm:ss")),e.Q6J("ngModelOptions",e.DdM(9,$n))("ngModel",t.pATC_date),e.xp6(2),e.Q6J("disabled",!t.philhealthForm.value.authorization_transaction_code||!t.pATC_date||t.is_loading||t.is_checking_atc||!t.philhealthForm.value.philhealth_id),e.xp6(1),e.Q6J("icon",t.is_checking_atc?t.faSpinner:t.faCheck)("spin",t.is_checking_atc)}}const me=function(i){return{"bg-red-100 text-red-900":i}};function eo(i,a){if(1&i&&(e.TgZ(0,"div",69),e._UZ(1,"fa-icon",70),e._uU(2),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,me,"YES"!==t.is_atc_valid)),e.xp6(1),e.Q6J("icon",t.faCircleInfo),e.xp6(1),e.hij(" ","YES"===t.is_atc_valid?"ATC is valid":"NO"===t.is_atc_valid?"ATC is not valid":t.is_atc_valid," ")}}function to(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60)(2,"input",61),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.isATCrequired())}),e.qZA(),e._uU(3,"Check if patient is Walk-in "),e.qZA(),e.YNc(4,Xn,9,10,"div",62),e.YNc(5,eo,3,5,"div",39),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.is_checking_atc),e.xp6(2),e.Q6J("ngIf",!t.philhealthForm.value.walkedin_status),e.xp6(1),e.Q6J("ngIf",void 0!==t.is_atc_valid)}}function io(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function no(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function oo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,no,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.membership_type_id.errors?null:t.f.membership_type_id.errors.required)}}function ao(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function lo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function ro(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,lo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.membership_category_id.errors?null:t.f.membership_category_id.errors.required)}}function so(i,a){if(1&i&&e._UZ(0,"fa-icon",57),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)}}function co(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.isMemberDependentRegistered())}),e.YNc(3,so,1,1,"fa-icon",25),e._uU(4),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.is_checking_status),e.xp6(1),e.hij(" ",t.is_checking_status?"checking":"check pin registration"," ")}}function _o(i,a){if(1&i&&(e.TgZ(0,"div",69),e._UZ(1,"fa-icon",70),e._uU(2),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,me,"YES"!==t.is_registered)),e.xp6(1),e.Q6J("icon",t.faCircleInfo),e.xp6(1),e.hij(" ","YES"===t.is_registered?"PIN is registered":"NO"===t.is_registered?"PIN not registered":t.is_registered," ")}}function po(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function uo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,po,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.employer_pin.errors?null:t.f.employer_pin.errors.required)}}function mo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function go(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,mo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.employer_name.errors?null:t.f.employer_name.errors.required)}}function ho(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function fo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,ho,2,1,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.employer_address.errors?null:t.f.employer_address.errors.required)}}function vo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function bo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Philhealth ID must be 12 characters "),e.qZA())}function xo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,vo,2,1,"div",55),e.YNc(2,bo,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_pin.errors?null:t.f.member_pin.errors.required),e.xp6(1),e.Q6J("ngIf",t.is_saving&&(null==t.f.member_pin.errors?null:t.f.member_pin.errors.minLength))}}function yo(i,a){1&i&&(e.TgZ(0,"div",54)(1,"div"),e._uU(2," Philhealth number does not match "),e.qZA()())}function Zo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function wo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Philhealth ID must be 12 characters "),e.qZA())}function Co(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Zo,2,1,"div",55),e.YNc(2,wo,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_pin_confirmation.errors?null:t.f.member_pin_confirmation.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.member_pin_confirmation.errors?null:t.f.member_pin_confirmation.errors.minLength)}}function To(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Mo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Ao(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Mo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_relation_id.errors?null:t.f.member_relation_id.errors.required)}}function ko(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function qo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," field must have at least 2 characters "),e.qZA())}function Io(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,ko,2,1,"div",55),e.YNc(2,qo,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_last_name.errors?null:t.f.member_last_name.errors.required),e.xp6(1),e.Q6J("ngIf",t.is_saving&&(null==t.f.member_last_name.errors?null:t.f.member_last_name.errors.minLength))}}function Uo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Jo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," field must have at least 2 characters "),e.qZA())}function No(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Uo,2,1,"div",55),e.YNc(2,Jo,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_first_name.errors?null:t.f.member_first_name.errors.required),e.xp6(1),e.Q6J("ngIf",t.is_saving&&(null==t.f.member_first_name.errors?null:t.f.member_first_name.errors.minLength))}}function Qo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Fo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," field must have at least 2 characters "),e.qZA())}function Po(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Qo,2,1,"div",55),e.YNc(2,Fo,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_middle_name.errors?null:t.f.member_middle_name.errors.required),e.xp6(1),e.Q6J("ngIf",t.is_saving&&(null==t.f.member_middle_name.errors?null:t.f.member_middle_name.errors.minLength))}}function Do(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.suffix_desc)}}function Vo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Yo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Vo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_suffix_name.errors?null:t.f.member_suffix_name.errors.required)}}function Oo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function jo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Oo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_birthdate.errors?null:t.f.member_birthdate.errors.required)}}function So(i,a){if(1&i&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Eo(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Lo(i,a){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Eo,2,1,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.member_gender.errors?null:t.f.member_gender.errors.required)}}const I=function(i){return{"text-red-500":i}},U=function(i){return{"invalid-input":i}};function Ho(i,a){if(1&i&&(e.TgZ(0,"div",7)(1,"div",22)(2,"h4",9),e._uU(3,"Member Details"),e.qZA()(),e.TgZ(4,"div",27)(5,"label",74),e._uU(6,"Member philhealth number"),e.qZA(),e._UZ(7,"input",75),e.YNc(8,xo,3,2,"div",13),e.qZA(),e.TgZ(9,"div",27)(10,"label",76),e._uU(11,"Confirm Philhealth ID"),e.qZA(),e._UZ(12,"input",77),e.YNc(13,yo,3,0,"div",13),e.YNc(14,Co,3,2,"div",13),e.qZA(),e.TgZ(15,"div",27)(16,"label",78),e._uU(17,"Member relation"),e.qZA(),e.TgZ(18,"select",79),e.YNc(19,To,2,2,"option",17),e.qZA(),e.YNc(20,Ao,2,1,"div",13),e.qZA(),e._UZ(21,"div",27),e.TgZ(22,"div",27)(23,"label",80),e._uU(24,"Member last name"),e.qZA(),e._UZ(25,"input",81),e.YNc(26,Io,3,2,"div",13),e.qZA(),e.TgZ(27,"div",27)(28,"label",82),e._uU(29,"Member first name"),e.qZA(),e._UZ(30,"input",83),e.YNc(31,No,3,2,"div",13),e.qZA(),e.TgZ(32,"div",27)(33,"label",84),e._uU(34,"Member middle name"),e.qZA(),e._UZ(35,"input",85),e.YNc(36,Po,3,2,"div",13),e.qZA(),e.TgZ(37,"div",27)(38,"label",86),e._uU(39,"Member suffix name"),e.qZA(),e.TgZ(40,"select",87),e.YNc(41,Do,2,2,"option",17),e.qZA(),e.YNc(42,Yo,2,1,"div",13),e.qZA(),e.TgZ(43,"div",27)(44,"label",88),e._uU(45,"Member birthdate"),e.qZA(),e._UZ(46,"input",89),e.ALo(47,"date"),e.YNc(48,jo,2,1,"div",13),e.qZA(),e.TgZ(49,"div",27)(50,"label",90),e._uU(51,"Member gender"),e.qZA(),e.TgZ(52,"select",91),e.YNc(53,So,2,2,"option",17),e.qZA(),e.YNc(54,Lo,2,1,"div",13),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(37,I,t.is_saving&&t.f.member_pin.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(39,U,t.is_saving&&t.f.member_pin.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_pin.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(41,I,t.is_saving&&t.f.member_pin_confirmation.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(43,U,t.is_saving&&t.f.member_pin_confirmation.errors)),e.xp6(1),e.Q6J("ngIf",t.philhealthMemberMatchError),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_pin_confirmation.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(45,I,t.is_saving&&t.f.member_relation_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(47,U,t.is_saving&&t.f.member_relation_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.member_relationships),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_relation_id.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(49,I,t.is_saving&&t.f.member_last_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(51,U,t.is_saving&&t.f.member_last_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_last_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(53,I,t.is_saving&&t.f.member_first_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(55,U,t.is_saving&&t.f.member_first_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_first_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(57,I,t.is_saving&&t.f.member_middle_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(59,U,t.is_saving&&t.f.member_middle_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_middle_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(61,I,t.is_saving&&t.f.member_suffix_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(63,U,t.is_saving&&t.f.member_suffix_name.errors)),e.xp6(1),e.Q6J("ngForOf",t.suffix_names),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_suffix_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(65,I,t.is_saving&&t.f.member_birthdate.errors)),e.xp6(2),e.s9C("max",e.xi3(47,34,t.date,"yyyy-MM-dd")),e.Q6J("ngClass",e.VKq(67,U,t.is_saving&&t.f.member_birthdate.errors)),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.f.member_birthdate.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(69,I,t.is_saving&&t.f.member_gender.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(71,U,t.is_saving&&t.f.member_gender.errors)),e.xp6(1),e.Q6J("ngForOf",t.sex_cat),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.member_gender.errors)}}function Ko(i,a){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.value)}}function Go(i,a){if(1&i&&(e.TgZ(0,"div",92)(1,"div",93)(2,"ul",94),e.YNc(3,Ko,2,1,"li",95),e.ALo(4,"keyvalue"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.submit_errors))}}function Ro(i,a){1&i&&(e.TgZ(0,"div",96)(1,"span",97),e._uU(2,"Record was updated."),e.qZA()()),2&i&&e.Q6J("@openCloseTrigger",void 0)}let Bo=(()=>{var i;class a{resetList(){this.selectedEmployer=null,this.loadEmployers()}loadEmployers(){this.employer$=(0,Jn.z)((0,ue.of)([]),this.searchInput$.pipe((0,k.h)(o=>null!==o&&o.length>=this.minLengthTerm),(0,An.x)(),(0,kn.b)(800),(0,q.b)(()=>this.employerLoading=!0),(0,qn.w)(o=>this.getEmployer(o).pipe((0,In.K)(()=>(0,ue.of)([])),(0,q.b)(()=>this.employerLoading=!1)))))}getEmployer(o=null){return this.http.post("eclaims/search-employer",{"filter[search]":o,program_code:"mc"}).pipe((0,Un.U)(l=>l.data))}onEmployerSelect(o){console.log(o)}isATCValid(){this.is_checking_atc=!0;let o={pPIN:this.philhealthForm.value.philhealth_id,pATC:this.philhealthForm.value.authorization_transaction_code,pEffectivityDate:(0,c.p6)(this.pATC_date,"MM/dd/yyyy","en","Asia/Manila")};this.http.get("konsulta/check-atc",{params:o}).subscribe({next:n=>{console.log(n),this.is_checking_atc=!1,this.is_atc_valid=n.return},error:n=>console.log(n)})}getMemberPin(){this.retrieving_error=null,this.retrieving_pin=!0;let o=this.http.getPatientInfo(),n={program_code:"hf",last_name:o.last_name,first_name:o.first_name,middle_name:o.middle_name,suffix_name:"NA"!==o.suffix_name?o.suffix_name:"",birthdate:(0,c.p6)(o.birthdate,"MM-dd-yyyy","en","Asia/Manila")};this.http.post("eclaims/get-member-pin",n).subscribe({next:l=>{console.log(l),this.philhealthForm.patchValue({philhealth_id:l.data,philhealth_id_confirmation:l.data}),this.toastrMessage("success","Philhealth","Philhealth PIN retrieved","retrieving_pin")},error:l=>{404===l.status&&(this.retrieving_error=l.error.data),this.toastr.error(l.error.message,"Member PIN",{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0})}})}toastrMessage(o,n,l,s){this.toastr[o](l,n),this[s]=!1}isMemberDependentRegistered(){this.is_checking_status=!0,this.http.get("konsulta/check-registered",{params:{pPIN:this.philhealthForm.value.philhealth_id,pType:this.philhealthForm.value.membership_type_id}}).subscribe({next:n=>{console.log(n),this.is_checking_status=!1,this.is_registered=n.return},error:n=>console.log(n)})}onSubmit(){if(this.is_saving=!0,console.log(this.philhealthForm),"YES"!==this.is_atc_valid&&this.philhealthForm.patchValue({authorization_transaction_code:"WALKEDIN",walkedin_status:!0}),this.philhealthForm.valid){let o;o=this.philhealth_to_edit?this.http.update("patient-philhealth/philhealth/",this.philhealth_to_edit.id,this.philhealthForm.value):this.http.post("patient-philhealth/philhealth",this.philhealthForm.value),o.subscribe({next:n=>{console.log(n),this.showAlert=!0,this.philhealthForm.markAsPristine(),this.philhealthForm.disable(),this.toastr.success("Successfully recorded!","Philhealth"),this.closeModal()},error:n=>{console.log(n),this.submit_errors=n.error.errors}})}}get f(){return this.philhealthForm.controls}get philhealthMatchError(){return this.philhealthForm.controls.philhealth_id.value!=this.philhealthForm.controls.philhealth_id_confirmation.value&&this.philhealthForm.get("philhealth_id_confirmation")?.dirty}get philhealthMemberMatchError(){return this.philhealthForm.controls.member_pin.value!=this.philhealthForm.controls.member_pin_confirmation.value&&this.philhealthForm.get("member_pin_confirmation")?.dirty}loadMainLibrary(){this.http.get("libraries/membership-types").subscribe({next:o=>this.membership_types=o.data,error:o=>console.log(o)}),this.http.get("libraries/membership-categories").subscribe({next:o=>this.membership_categories=o.data,error:o=>console.log(o)}),this.http.get("libraries/enlistment-status").subscribe({next:o=>this.enlistment_status=o.data,error:o=>console.log(o)}),this.http.get("libraries/package-types").subscribe({next:o=>this.package_types=o.data,error:o=>console.log(o)}),this.http.get("libraries/member-relationships").subscribe({next:o=>this.member_relationships=o.data,error:o=>console.log(o)}),this.http.get("libraries/suffix-names").subscribe({next:o=>this.suffix_names=o.data,error:o=>console.log(o)})}showMember(){"DD"===this.philhealthForm.value.membership_type_id?(this.show_member_form=!0,this.philhealthForm.controls.member_pin.setValidators([r.kI.required]),this.philhealthForm.controls.member_pin_confirmation.setValidators([r.kI.required]),this.philhealthForm.controls.member_last_name.setValidators([r.kI.required]),this.philhealthForm.controls.member_first_name.setValidators([r.kI.required]),this.philhealthForm.controls.member_middle_name.setValidators([r.kI.required]),this.philhealthForm.controls.member_suffix_name.setValidators([r.kI.required]),this.philhealthForm.controls.member_birthdate.setValidators([r.kI.required]),this.philhealthForm.controls.member_gender.setValidators([r.kI.required]),this.philhealthForm.controls.member_relation_id.setValidators([r.kI.required])):(this.show_member_form=!1,this.philhealthForm.controls.member_pin.clearValidators(),this.philhealthForm.controls.member_pin_confirmation.clearValidators(),this.philhealthForm.controls.member_last_name.clearValidators(),this.philhealthForm.controls.member_first_name.clearValidators(),this.philhealthForm.controls.member_middle_name.clearValidators(),this.philhealthForm.controls.member_suffix_name.clearValidators(),this.philhealthForm.controls.member_birthdate.clearValidators(),this.philhealthForm.controls.member_gender.clearValidators(),this.philhealthForm.controls.member_relation_id.clearValidators(),this.resetMemberDetails()),this.philhealthForm.controls.member_pin.updateValueAndValidity(),this.philhealthForm.controls.member_pin_confirmation.updateValueAndValidity(),this.philhealthForm.controls.member_last_name.updateValueAndValidity(),this.philhealthForm.controls.member_first_name.updateValueAndValidity(),this.philhealthForm.controls.member_middle_name.updateValueAndValidity(),this.philhealthForm.controls.member_suffix_name.updateValueAndValidity(),this.philhealthForm.controls.member_birthdate.updateValueAndValidity(),this.philhealthForm.controls.member_gender.updateValueAndValidity(),this.philhealthForm.controls.member_relation_id.updateValueAndValidity()}resetMemberDetails(){this.philhealthForm.patchValue({member_pin:null,member_pin_confirmation:null,member_last_name:null,member_first_name:null,member_middle_name:null,member_suffix_name:null,member_birthdate:null,member_gender:null,member_relation_id:null})}updateEffectivity(){this.philhealthForm.patchValue({effectivity_year:(0,c.p6)(this.philhealthForm.value.enlistment_date,"yyyy","en","Asia/Manila")})}isATCrequired(){"K"===this.philhealthForm.value.package_type_id?(this.philhealthForm.controls.authorization_transaction_code.enable(),this.philhealthForm.patchValue(this.philhealthForm.value.walkedin_status?{authorization_transaction_code:"WALKEDIN"}:{authorization_transaction_code:null})):this.philhealthForm.controls.authorization_transaction_code.disable()}closeModal(){this.toggleModal.emit({modal_name:"philhealth"})}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.toggleModal=new e.vpe,this.faCheck=_.LEp,this.faSpinner=_.LM3,this.faCircleInfo=_.DBf,this.faCircleNotch=_.IJ7,this.error_message="exceeded maximum value",this.error_message_min="does not meet minimum length",this.required_message="this field is required",this.sex_cat=[{id:"M",desc:"Male"},{id:"F",desc:"Female"}],this.philhealthForm=function Mn(){return new r.cw({philhealth_id:new r.NI(""),facility_code:new r.NI(""),patient_id:new r.NI(""),user_id:new r.NI(""),enlistment_date:new r.NI(""),effectivity_year:new r.NI(""),enlistment_status_id:new r.NI(""),package_type_id:new r.NI(""),membership_type_id:new r.NI(""),membership_category_id:new r.NI(""),member_pin:new r.NI(""),member_last_name:new r.NI(""),member_first_name:new r.NI(""),member_middle_name:new r.NI(""),member_suffix_name:new r.NI(""),member_birthdate:new r.NI(""),member_gender:new r.NI(""),member_relation_id:new r.NI(""),employer_pin:new r.NI(""),employer_name:new r.NI(""),employer_address:new r.NI(""),member_pin_confirmation:new r.NI(""),philhealth_id_confirmation:new r.NI(""),authorization_transaction_code:new r.NI(""),walkedin_status:new r.NI(null)})}(),this.showChildVitals=!1,this.showAlert=!1,this.is_saving=!1,this.loading=!1,this.show_member_form=!1,this.is_checking_atc=!1,this.is_checking_status=!1,this.searchInput$=new z.x,this.minLengthTerm=3,this.employerLoading=!1,this.retrieving_pin=!1}ngOnInit(){this.loadMainLibrary();let o=this.http.getUserID(),n=this.http.getUserFacility();this.philhealthForm=this.formBuilder.group({philhealth_id:[null,[r.kI.required,r.kI.minLength(12)]],facility_code:[n,r.kI.required],patient_id:[this.patient_info.id,r.kI.required],user_id:[o,r.kI.required],enlistment_date:[null,r.kI.required],effectivity_year:[null,r.kI.required],enlistment_status_id:["1",r.kI.required],package_type_id:["K",r.kI.required],membership_type_id:[null,r.kI.required],membership_category_id:[null,r.kI.required],member_pin:[null,[r.kI.required,r.kI.minLength(12)]],member_last_name:[null,[r.kI.required,r.kI.minLength(2)]],member_first_name:[null,[r.kI.required,r.kI.minLength(2)]],member_middle_name:[null,[r.kI.required,r.kI.minLength(2)]],member_suffix_name:["NA",r.kI.required],member_birthdate:[null,r.kI.required],member_gender:[null,r.kI.required],member_relation_id:[null,r.kI.required],employer_pin:[null],employer_name:[null],employer_address:[null],member_pin_confirmation:[null,[r.kI.required,r.kI.minLength(12)]],philhealth_id_confirmation:[null,[r.kI.required,r.kI.minLength(12)]],authorization_transaction_code:[null,[r.kI.required]],walkedin_status:[!1]}),this.philhealth_to_edit&&(this.philhealthForm.patchValue({...this.philhealth_to_edit}),this.philhealthForm.patchValue({philhealth_id_confirmation:this.philhealth_to_edit.philhealth_id}),this.philhealthForm.patchValue({membership_type_id:this.philhealth_to_edit.membership_type.id}),this.philhealthForm.patchValue({membership_category_id:this.philhealth_to_edit.membership_category.id}),"WALKEDIN"!==this.philhealth_to_edit.authorization_transaction_code&&0===this.philhealth_to_edit.walkedin_status&&(this.is_atc_valid="YES"),"DD"===this.philhealthForm.value.membership_type_id&&(this.philhealthForm.patchValue({member_birthdate:(0,c.p6)(this.philhealth_to_edit.member_birthdate,"yyyy-MM-dd","en","Asia/Manila")}),this.philhealthForm.patchValue({member_pin_confirmation:this.philhealth_to_edit.member_pin})),this.showMember()),this.date=(new Date).toISOString().slice(0,10)}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-philhealth-modal"]],viewQuery:function(o,n){if(1&o&&e.Gf(Qn,5),2&o){let l;e.iGM(l=e.CRH())&&(n.mySelect=l.first)}},inputs:{patient_info:"patient_info",philhealth_to_edit:"philhealth_to_edit"},outputs:{toggleModal:"toggleModal"},decls:98,vars:92,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5","px-5"],[1,"flex","justify-between","w-full","-px-5","mt-3"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","pl-5","py-2","mt-1"],["for","enlistment_date",1,"font-semibold",3,"ngClass"],["name","enlistment_date","id","enlistment_date","formControlName","enlistment_date","type","date",1,"input",3,"ngClass","max","change"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","px-5","py-2","mt-1"],["for","enlistment_status_id",1,"font-semibold",3,"ngClass"],["name","enlistment_status_id","id","enlistment_status_id","formControlName","enlistment_status_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","pr-5","py-2","mt-1"],["for","package_type_id",1,"font-semibold",3,"ngClass"],["name","package_type_id","id","package_type_id","formControlName","package_type_id",1,"input",3,"ngClass","change"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"flex","justify-between","w-full","-px-5","mt-3","rounded-tl","rounded-tr"],[1,"w-full","mx-5","flex","justify-center"],["type","button",1,"btn-save",3,"disabled","click"],["spin","true",3,"icon",4,"ngIf"],["class","w-full mt-3 py-0.5 rounded-md mx-5 flex justify-center text-red-800 text-xs border border-red-400 bg-red-100",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","philhealth_id",1,"font-semibold",3,"ngClass"],["name","philhealth_id","id","philhealth_id","formControlName","philhealth_id","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","philhealth_id_confirmation",1,"font-semibold",3,"ngClass"],["name","philhealth_id_confirmation","id","philhealth_id_confirmation","formControlName","philhealth_id_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["class","border border-slate-200 rounded-md mx-5 shadow-md w-full",4,"ngIf"],["for","membership_type_id",1,"font-semibold",3,"ngClass"],["name","membership_type_id","id","membership_type_id","formControlName","membership_type_id",1,"input",3,"ngClass","change"],["for","membership_category_id",1,"font-semibold",3,"ngClass"],["name","membership_category_id","id","membership_category_id","formControlName","membership_category_id",1,"input",3,"ngClass"],["class","relative w-full flex text-sm px-5 mt-2",4,"ngIf"],[1,"w-full","flex","justify-center"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],["for","employer_pin",1,"font-semibold",3,"ngClass"],["name","employer_pin","id","employer_pin","formControlName","employer_pin","type","text",1,"input",3,"ngClass"],["for","employer_name",1,"font-semibold",3,"ngClass"],["name","employer_name","id","employer_name","formControlName","employer_name","type","text",1,"input",3,"ngClass"],[1,"relative","w-full","text-sm","px-5","py-2","mt-2"],["for","employer_address",1,"font-semibold",3,"ngClass"],["name","employer_address","id","employer_address","formControlName","employer_address","type","text",1,"input",3,"ngClass"],["class","flex item-start flex-wrap pb-5 px-5",4,"ngIf"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-500","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:bg-gray-300","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"],["spin","true",3,"icon"],[1,"w-full","mt-3","py-0.5","rounded-md","mx-5","flex","justify-center","text-red-800","text-xs","border","border-red-400","bg-red-100"],[1,"border","border-slate-200","rounded-md","mx-5","shadow-md","w-full"],[1,"flex","justify-start","w-full","ml-5","my-3"],["type","checkbox","formControlName","walkedin_status",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"disabled","change"],["class","flex justify-start w-full ml-5 mb-3",4,"ngIf"],[1,"flex","justify-start","w-full","ml-5","mb-3"],["for","authorization_transaction_code",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","authorization_transaction_code","name","authorization_transaction_code","id","authorization_transaction_code","placeholder","Patient ATC","formControlName","authorization_transaction_code",1,"input","w-52"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModelOptions","ngModel","ngModelChange"],["type","button",1,"h-9","mt-1","text-sm","rounded-md","text-white","bg-blue-500","disabled:bg-gray-300",3,"disabled","click"],[1,"py-1","px-2",3,"icon","spin"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"relative","w-full","flex","text-sm","px-5","mt-2"],[1,"w-full","text-sm","md:w-1/2","lg:w-1/2"],[1,"px-5","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-500","hover:text-gray-50",3,"click"],["for","member_pin",1,"font-semibold",3,"ngClass"],["name","member_pin","id","member_pin","formControlName","member_pin","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","member_pin_confirmation",1,"font-semibold",3,"ngClass"],["name","member_pin_confirmation","id","member_pin_confirmation","formControlName","member_pin_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","member_relation_id",1,"font-semibold",3,"ngClass"],["name","member_relation_id","id","member_relation_id","formControlName","member_relation_id",1,"input",3,"ngClass"],["for","member_last_name",1,"font-semibold",3,"ngClass"],["name","member_last_name","id","member_last_name","formControlName","member_last_name","type","text",1,"input",3,"ngClass"],["for","member_first_name",1,"font-semibold",3,"ngClass"],["name","member_first_name","id","member_first_name","formControlName","member_first_name","type","text",1,"input",3,"ngClass"],["for","member_middle_name",1,"font-semibold",3,"ngClass"],["name","member_middle_name","id","member_middle_name","formControlName","member_middle_name","type","text",1,"input",3,"ngClass"],["for","member_suffix_name",1,"font-semibold",3,"ngClass"],["name","member_suffix_name","id","member_suffix_name","formControlName","member_suffix_name",1,"input",3,"ngClass"],["for","member_birthdate",1,"font-semibold",3,"ngClass"],["name","member_birthdate","id","member_birthdate","formControlName","member_birthdate","type","date",1,"input",3,"ngClass","max"],["for","member_gender",1,"font-semibold",3,"ngClass"],["name","member_gender","id","member_gender","formControlName","member_gender",1,"input",3,"ngClass"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Philhealth Information "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),e._uU(11,"Enlistment Details"),e.qZA()(),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"Enlistment Date"),e.qZA(),e.TgZ(15,"input",12),e.NdJ("change",function(){return n.updateEffectivity()}),e.ALo(16,"date"),e.qZA(),e.YNc(17,Pn,2,1,"div",13),e.qZA(),e.TgZ(18,"div",14)(19,"label",15),e._uU(20,"Enlistment status"),e.qZA(),e.TgZ(21,"select",16),e.YNc(22,Dn,2,2,"option",17),e.qZA(),e.YNc(23,Yn,2,1,"div",13),e.qZA(),e.TgZ(24,"div",18)(25,"label",19),e._uU(26,"Enlistment type"),e.qZA(),e.TgZ(27,"select",20),e.NdJ("change",function(){return n.isATCrequired()}),e.YNc(28,On,2,2,"option",17),e.qZA(),e.YNc(29,Sn,2,1,"div",13),e.qZA()(),e._UZ(30,"div",21),e.TgZ(31,"div",7)(32,"div",22)(33,"h4",9),e._uU(34,"Patient Details"),e.qZA()(),e.TgZ(35,"div",23)(36,"button",24),e.NdJ("click",function(){return n.getMemberPin()}),e.YNc(37,En,1,1,"fa-icon",25),e._uU(38," Get Philhealth PIN "),e.qZA()(),e.YNc(39,Ln,2,1,"div",26),e.TgZ(40,"div",27)(41,"label",28),e._uU(42,"Philhealth ID"),e.qZA(),e._UZ(43,"input",29),e.YNc(44,Gn,3,2,"div",13),e.qZA(),e.TgZ(45,"div",27)(46,"label",30),e._uU(47,"Confirm Philhealth ID"),e.qZA(),e._UZ(48,"input",31),e.YNc(49,Rn,3,0,"div",13),e.YNc(50,Wn,3,2,"div",13),e.qZA(),e.YNc(51,to,6,3,"div",32),e.TgZ(52,"div",27)(53,"label",33),e._uU(54,"Membership type"),e.qZA(),e.TgZ(55,"select",34),e.NdJ("change",function(){return n.showMember()}),e.YNc(56,io,2,2,"option",17),e.qZA(),e.YNc(57,oo,2,1,"div",13),e.qZA(),e.TgZ(58,"div",27)(59,"label",35),e._uU(60,"Membership category"),e.qZA(),e.TgZ(61,"select",36),e.YNc(62,ao,2,2,"option",17),e.qZA(),e.YNc(63,ro,2,1,"div",13),e.qZA(),e.YNc(64,co,5,2,"div",37),e.TgZ(65,"div",38),e.YNc(66,_o,3,5,"div",39),e.qZA()(),e._UZ(67,"div",21),e.TgZ(68,"div",7)(69,"div",22)(70,"h4",9),e._uU(71,"Employer Details"),e.qZA()(),e.TgZ(72,"div",27)(73,"label",40),e._uU(74,"Employer PEN"),e.qZA(),e._UZ(75,"input",41),e.YNc(76,uo,2,1,"div",13),e.qZA(),e.TgZ(77,"div",27)(78,"label",42),e._uU(79,"Employer name"),e.qZA(),e._UZ(80,"input",43),e.YNc(81,go,2,1,"div",13),e.qZA(),e.TgZ(82,"div",44)(83,"label",45),e._uU(84,"Employer address"),e.qZA(),e._UZ(85,"input",46),e.YNc(86,fo,2,1,"div",13),e.qZA()(),e._UZ(87,"div",21),e.YNc(88,Ho,55,73,"div",47),e._UZ(89,"div",21),e.YNc(90,Go,5,3,"div",48),e.qZA()(),e.TgZ(91,"div",49),e.YNc(92,Ro,3,1,"div",50),e.TgZ(93,"button",51),e.NdJ("click",function(){return n.closeModal()}),e._uU(94,"Close"),e.qZA(),e.TgZ(95,"button",52),e.NdJ("click",function(){return n.onSubmit()}),e._uU(96,"Save"),e.qZA()()()()(),e._UZ(97,"div",53)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.philhealthForm),e.xp6(6),e.Q6J("ngClass",e.VKq(52,I,n.is_saving&&n.f.enlistment_date.errors)),e.xp6(2),e.s9C("max",e.xi3(16,49,n.date,"yyyy-MM-dd")),e.Q6J("ngClass",e.VKq(54,U,n.is_saving&&n.f.enlistment_date.errors)),e.xp6(2),e.Q6J("ngIf",n.is_saving&&n.f.enlistment_date.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(56,I,n.is_saving&&n.f.enlistment_status_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(58,U,n.is_saving&&n.f.enlistment_status_id.errors)),e.xp6(1),e.Q6J("ngForOf",n.enlistment_status),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.enlistment_status_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(60,I,n.is_saving&&n.f.package_type_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(62,U,n.is_saving&&n.f.package_type_id.errors)),e.xp6(1),e.Q6J("ngForOf",n.package_types),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.package_type_id.errors),e.xp6(7),e.Q6J("disabled",n.retrieving_pin),e.xp6(1),e.Q6J("ngIf",n.retrieving_pin),e.xp6(2),e.Q6J("ngIf",n.retrieving_error),e.xp6(2),e.Q6J("ngClass",e.VKq(64,I,n.is_saving&&n.f.philhealth_id.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(66,U,n.is_saving&&n.f.philhealth_id.errors)),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.philhealth_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(68,I,n.is_saving&&n.f.philhealth_id_confirmation.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(70,U,n.is_saving&&n.f.philhealth_id_confirmation.errors)),e.xp6(1),e.Q6J("ngIf",n.philhealthMatchError),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.philhealth_id_confirmation.errors),e.xp6(1),e.Q6J("ngIf",n.philhealthForm.controls.authorization_transaction_code.enabled),e.xp6(2),e.Q6J("ngClass",e.VKq(72,I,n.is_saving&&n.f.membership_type_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(74,U,n.is_saving&&n.f.membership_type_id.errors)),e.xp6(1),e.Q6J("ngForOf",n.membership_types),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.membership_type_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(76,I,n.is_saving&&n.f.membership_category_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(78,U,n.is_saving&&n.f.membership_category_id.errors)),e.xp6(1),e.Q6J("ngForOf",n.membership_categories),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.membership_category_id.errors),e.xp6(1),e.Q6J("ngIf",n.philhealthForm.controls.authorization_transaction_code.enabled&&n.philhealthForm.value.philhealth_id&&n.philhealthForm.value.philhealth_id_confirmation&&n.philhealthForm.value.membership_type_id&&!n.philhealthMatchError),e.xp6(2),e.Q6J("ngIf",void 0!==n.is_registered),e.xp6(7),e.Q6J("ngClass",e.VKq(80,I,n.is_saving&&n.f.employer_pin.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(82,U,n.is_saving&&n.f.employer_pin.errors)),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.employer_pin.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(84,I,n.is_saving&&n.f.employer_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(86,U,n.is_saving&&n.f.employer_name.errors)),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.employer_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(88,I,n.is_saving&&n.f.employer_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(90,U,n.is_saving&&n.f.employer_address.errors)),e.xp6(1),e.Q6J("ngIf",n.is_saving&&n.f.employer_address.errors),e.xp6(2),e.Q6J("ngIf",n.show_member_form),e.xp6(2),e.Q6J("ngIf",n.submit_errors),e.xp6(2),e.Q6J("ngIf",n.showAlert),e.xp6(3),e.Q6J("disabled",n.philhealthForm.invalid))},dependencies:[c.mk,c.sg,c.O5,v.BN,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.On,r.sg,r.u,Nn.Z6,c.uU,c.Nd]}),a})();function zo(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.member_pin," "),e.xp6(2),e.lnq(" ",t.member_last_name,", ",t.member_first_name," ",t.member_middle_name," ")}}function Wo(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function $o(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",14)(1,"td",15),e._uU(2),e.qZA(),e.TgZ(3,"th",16),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",15),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td",15),e._uU(10),e._UZ(11,"br"),e._uU(12),e.qZA(),e.TgZ(13,"td",15),e.YNc(14,zo,4,4,"span",17),e.YNc(15,Wo,2,0,"span",17),e.qZA(),e.TgZ(16,"td",15)(17,"fa-icon",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editPhilhealth(l))}),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",t.philhealth_id," "),e.xp6(2),e.hij(" ",e.Dn7(5,8,t.enlistment_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",e.xi3(8,12,t.enlistment_date,"yyyy")," "),e.xp6(3),e.hij(" ",t.membership_type.desc,""),e.xp6(2),e.hij(" ",t.membership_category.desc," "),e.xp6(2),e.Q6J("ngIf",t.member_last_name),e.xp6(1),e.Q6J("ngIf",!t.member_last_name),e.xp6(2),e.Q6J("icon",o.faPenToSquare)}}let Xo=(()=>{var i;class a{editPhilhealth(o){this.philhealthEdit.emit(o),this.closeModal()}loadPhilhealth(){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":this.patient_info.id,per_page:"all",sort:"-enlistment_date",include:"membershipType,membershipCategory"}}).subscribe({next:o=>{this.philhealth_infos=o.data},error:o=>console.log(o)})}closeModal(){this.toggleModal.emit("philhealth-list-modal")}constructor(o){this.http=o,this.toggleModal=new e.vpe,this.philhealthEdit=new e.vpe,this.faPenToSquare=_.Yai}ngOnInit(){this.loadPhilhealth()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-philhealth-list-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal",philhealthEdit:"philhealthEdit"},decls:31,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap"],[4,"ngIf"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Philhealth Information "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),e._uU(12,"Philhealth ID"),e.qZA(),e.TgZ(13,"th",9),e._uU(14,"Enlistment Date"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"Effectivity Year"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"Membership type "),e._UZ(19,"br"),e._uU(20,"Membership category"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"Member"),e.qZA(),e.TgZ(23,"th",9),e._uU(24,"Action"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,$o,18,15,"tr",10),e.qZA()()()(),e.TgZ(27,"div",11)(28,"button",12),e.NdJ("click",function(){return n.closeModal()}),e._uU(29,"Close"),e.qZA()()()()(),e._UZ(30,"div",13)),2&o&&(e.xp6(26),e.Q6J("ngForOf",n.philhealth_infos))},dependencies:[c.sg,c.O5,v.BN,c.uU]}),a})();var ea=u(2982);function ta(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"webcam",16),e.NdJ("imageCapture",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.captureImg(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("trigger",t.invokeObservable)("width",1200)("height",1200)}}function ia(i,a){if(1&i&&e._UZ(0,"img",17),2&i){const t=e.oxw();e.Q6J("src",t.sysImage,e.LSH)}}function na(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.sysImage?n.onSubmit():n.getSnapshot())}),e._uU(1," Save photo "),e.qZA()}}const oa=function(i){return{"bg-orange-500 hover:ring-2 hover:ring-orange-400":i}};let aa=(()=>{var i;class a{getSnapshot(){this.trigger.next(void 0)}captureImg(o){this.webcamImage=o,this.sysImage=this.webcamImage.imageAsDataUrl}toggleCamera(){this.imageData=null,this.webcamImage=null,this.sysImage=null}get invokeObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}onSubmit(){if(this.sysImage){const o=this.dataURItoBlob(this.sysImage),n=new FormData;n.append("image",o),n.append("id",this.id),this.http.post("images",n).subscribe({next:l=>{this.toastr.success("Photo uploaded","Photo"),this.closeModal()},error:l=>console.log(l)})}else this.toastr.error("No image to upload.","Error")}dataURItoBlob(o){const n=atob(o.split(",")[1]),l=o.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(n.length),f=new Uint8Array(s);for(let C=0;C<n.length;C++)f[C]=n.charCodeAt(C);return new Blob([s],{type:l})}closeModal(){this.toggleModal.emit("vaccine-moodal")}constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.faXmark=_.g82,this.trigger=new z.x,this.nextWebcam=new z.x,this.webcamImage=null}ngOnDestroy(){this.trigger.unsubscribe(),this.nextWebcam.unsubscribe()}newPhoto(){}ngOnInit(){this.id=this.http.getPatientInfo().id.toString(),this.for_update=!1,this.imageData&&(this.for_update=!0),this.sysImage=this.imageData}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-photo-modal"]],inputs:{patient_info:"patient_info",imageData:"imageData"},outputs:{toggleModal:"toggleModal"},decls:18,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow-sm"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],["type","button",3,"click"],["size","xl",1,"text-white",3,"icon"],[1,"overflow-y-auto","scrollbar-thin","h-full","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"container","grid","grid-cols-1","w-full"],[1,"flex","justify-center","w-full"],[3,"trigger","width","height","imageCapture",4,"ngIf"],[3,"src",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","px-10",3,"ngClass","click"],["type","button","class","btn-save px-10",3,"click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"trigger","width","height","imageCapture"],[3,"src"],["type","button",1,"btn-save","px-10",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Photo "),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.closeModal()}),e._UZ(7,"fa-icon",6),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e.YNc(11,ta,1,3,"webcam",10),e.YNc(12,ia,1,1,"img",11),e.qZA()()(),e.TgZ(13,"div",12)(14,"button",13),e.NdJ("click",function(){return n.sysImage?n.toggleCamera():n.getSnapshot()}),e._uU(15),e.qZA(),e.YNc(16,na,2,0,"button",14),e.qZA()()()(),e._UZ(17,"div",15)),2&o&&(e.xp6(7),e.Q6J("icon",n.faXmark),e.xp6(4),e.Q6J("ngIf",!n.sysImage),e.xp6(1),e.Q6J("ngIf",n.sysImage),e.xp6(2),e.Q6J("ngClass",e.VKq(6,oa,n.sysImage)),e.xp6(1),e.hij(" ",n.sysImage?"Retake photo":"Take a photo"," "),e.xp6(1),e.Q6J("ngIf",n.sysImage&&!n.imageData))},dependencies:[c.mk,c.O5,v.BN,ea.i3]}),a})();function la(i,a){if(1&i&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ra(i,a){1&i&&(e.TgZ(0,"div",9)(1,"label",34),e._uU(2,"Menopause age"),e.qZA(),e._UZ(3,"input",35),e.qZA())}let sa=(()=>{var i;class a{onSubmit(){console.log(this.menstrualForm.value),this.http.post("patient-menstrual-history/history",this.menstrualForm.value).subscribe({next:o=>{console.log(o),this.toastr.success("Successfully recorded!","Menstual History"),this.closeModal()},error:o=>console.log(o)})}createForm(){this.patient_info&&(this.menstrualForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],menarche:[null],lmp:[null,r.kI.required],period_duration:[null],cycle:[null],pads_per_day:[null],onset_sexual_intercourse:[null],method:["NA",r.kI.required],menopause:[!1,r.kI.required],menopause_age:[null]}),this.menstrual_history&&this.patchValue())}patchValue(){this.menstrualForm.patchValue({...this.menstrual_history[0]}),this.menstrualForm.patchValue({menopause:0!==this.menstrual_history[0].menopause,lmp:(0,c.p6)(this.menstrual_history[0].lmp,"yyyy-MM-dd","en","Asia/Manila")}),console.log(this.menstrualForm.value)}closeModal(){this.toggleModal.emit("menstrual")}get f(){return this.menstrualForm.controls}ngOnChanges(o){}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.loadData=new e.vpe,this.toggleModal=new e.vpe,this.is_saving=!1,this.max_date=(0,c.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.menstrualForm=new r.cw({patient_id:new r.NI(null),menarche:new r.NI(null),lmp:new r.NI(null),period_duration:new r.NI(null),cycle:new r.NI(null),pads_per_day:new r.NI(null),onset_sexual_intercourse:new r.NI(null),method:new r.NI(null),menopause:new r.NI(null),menopause_age:new r.NI(null)})}ngOnInit(){this.createForm()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menstrual-modal"]],inputs:{patient_info:"patient_info",menstrual_history:"menstrual_history",fp_method:"fp_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[e.TTD],decls:58,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","smoking"],["name","menarche","id","menarche","formControlName","menarche","type","number",1,"input","disabled:bg-gray-300"],["for","lmp"],["name","lmp","id","lmp","formControlName","lmp","type","date","placeholder","mm/dd/yyyy",1,"input","disabled:bg-gray-300",3,"max"],["for","period_duration"],["name","period_duration","id","period_duration","formControlName","period_duration","type","number",1,"input","disabled:bg-gray-300"],["for","cycle"],["name","cycle","id","cycle","formControlName","cycle","type","number",1,"input","disabled:bg-gray-300"],["for","pads_per_day"],["name","pads_per_day","id","pads_per_day","formControlName","pads_per_day","type","number",1,"input","disabled:bg-gray-300"],["for","onset_sexual_intercourse"],["name","onset_sexual_intercourse","id","onset_sexual_intercourse","formControlName","onset_sexual_intercourse","type","number",1,"input","disabled:bg-gray-300"],["for","method"],["name","method","id","method","formControlName","method",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","menopause"],["name","menopause","id","menopause","formControlName","menopause",1,"input","disabled:bg-gray-300"],[3,"ngValue"],["class","relative text-sm w-1/2 px-5 py-2 mt-2",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","menopause_age"],["name","menopause_age","id","menopause_age","formControlName","menopause_age","type","number",1,"input","disabled:bg-gray-300"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Menstrual History "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12,"Menarche"),e.qZA(),e._UZ(13,"input",11),e.qZA(),e.TgZ(14,"div",9)(15,"label",12),e._uU(16,"Last menstrual period"),e.qZA(),e._UZ(17,"input",13),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label",14),e._uU(21,"Period duration"),e.qZA(),e._UZ(22,"input",15),e.qZA(),e.TgZ(23,"div",9)(24,"label",16),e._uU(25,"Cycle"),e.qZA(),e._UZ(26,"input",17),e.qZA()(),e.TgZ(27,"div",8)(28,"div",9)(29,"label",18),e._uU(30,"Pads per day"),e.qZA(),e._UZ(31,"input",19),e.qZA(),e.TgZ(32,"div",9)(33,"label",20),e._uU(34,"Onset sexual intercourse"),e.qZA(),e._UZ(35,"input",21),e.qZA()(),e.TgZ(36,"div",8)(37,"div",9)(38,"label",22),e._uU(39,"Family planning method"),e.qZA(),e.TgZ(40,"select",23),e.YNc(41,la,2,2,"option",24),e.qZA()()(),e.TgZ(42,"div",8)(43,"div",9)(44,"label",25),e._uU(45,"Menopause"),e.qZA(),e.TgZ(46,"select",26)(47,"option",27),e._uU(48,"Yes"),e.qZA(),e.TgZ(49,"option",27),e._uU(50,"No"),e.qZA()()(),e.YNc(51,ra,4,0,"div",28),e.qZA()()()(),e.TgZ(52,"div",29)(53,"button",30),e.NdJ("click",function(){return n.closeModal()}),e._uU(54,"Close"),e.qZA(),e.TgZ(55,"button",31),e.NdJ("click",function(){return n.onSubmit()}),e._uU(56),e.qZA()()()()(),e._UZ(57,"div",32)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.menstrualForm),e.xp6(10),e.Q6J("max",n.max_date),e.xp6(24),e.Q6J("ngForOf",n.fp_method),e.xp6(6),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngIf",!0===n.menstrualForm.value.menopause),e.xp6(4),e.Q6J("disabled",n.is_saving||n.menstrualForm.invalid),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.sg,c.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u]}),a})();function da(i,a){if(1&i&&e._UZ(0,"fa-icon",21),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function ca(i,a){if(1&i&&(e.TgZ(0,"tr",22)(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"th",24),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.operation," "),e.xp6(2),e.hij(" ",e.Dn7(5,2,t.operation_date,"MM/dd/yyyy","Asia/Manila")," ")}}let _a=(()=>{var i;class a{editSurgical(o){this.surgical_form=o}loadData(){this.http.get("patient-surgical-history/history",{params:{patient_id:this.patient_info.id}}).subscribe({next:o=>{console.log(o.data),this.surgical_list=o.data},error:o=>console.log(o)})}onSubmit(){let o;this.is_saving=!0,this.surgical_form.patient_id=this.patient_info.id,console.log(this.surgical_form),o=this.surgical_form.id?this.http.update("patient-surgical-history/history/",this.surgical_form.id,this.surgical_form):this.http.post("patient-surgical-history/history",this.surgical_form),o.subscribe({next:n=>{console.log(n),this.is_saving=!1,this.toastr.success("Successfully recorded!","Operation History"),this.resetField(),this.loadData()},error:n=>console.log(n)})}resetField(){this.surgical_form.operation=null,this.surgical_form.operation_date=null}closeModal(){this.toggleModal.emit({modal_name:"surgical-history"})}constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.faSpinner=_.LM3,this.faPenToSquare=_.Yai,this.surgical_list=[],this.surgical_form={patient_id:null,operation:null,operation_date:null},this.is_saving=!1}ngOnInit(){this.loadData()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-surgical-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal"},decls:33,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-3","gap-4","w-full","text-left","py-2","px-10"],[1,"col-span-1"],["for","operation",1,"text-sm"],["name","operation","type","text",1,"input",3,"ngModel","ngModelChange"],["for","operation_date",1,"text-sm"],["name","operation_date","type","date",1,"input",3,"ngModel","ngModelChange"],["type","button",1,"btn-save","w-full","mt-6","disabled:bg-gray-300",3,"disabled","click"],["spin","true","class","mr-2",3,"icon",4,"ngIf"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["spin","true",1,"mr-2",3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Surgical History "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Surgical procedure"),e.qZA(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(s){return n.surgical_form.operation=s}),e.qZA()(),e.TgZ(12,"div",7)(13,"label",10),e._uU(14,"Date"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(s){return n.surgical_form.operation_date=s}),e.qZA()(),e.TgZ(16,"div",7)(17,"button",12),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(18,da,1,1,"fa-icon",13),e._uU(19),e.qZA()()(),e.TgZ(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"th",16),e._uU(26,"Surgical Date"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,ca,6,6,"tr",17),e.qZA()()(),e.TgZ(29,"div",18)(30,"button",19),e.NdJ("click",function(){return n.closeModal()}),e._uU(31,"Close"),e.qZA()()()()(),e._UZ(32,"div",20)),2&o&&(e.xp6(11),e.Q6J("ngModel",n.surgical_form.operation),e.xp6(4),e.Q6J("ngModel",n.surgical_form.operation_date),e.xp6(2),e.Q6J("disabled",!n.surgical_form.operation||!n.surgical_form.operation_date),e.xp6(1),e.Q6J("ngIf",n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "),e.xp6(9),e.Q6J("ngForOf",n.surgical_list))},dependencies:[c.sg,c.O5,v.BN,r.Fj,r.JJ,r.On,c.uU]}),a})(),pa=(()=>{var i;class a{onDelete(){this.is_saving=!0,this.confirm_code===this.confirmation_code?this.http.delete("patient-surgical-history/history/",this.surgery_to_delete.id).subscribe({next:()=>{this.is_saving=!1,this.toastr.error("Record was deleted!","Surgery record"),this.closeModal()},error:o=>console.log(o)}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){this.toggleModal.emit({modal_name:"surgical-action"})}constructor(o,n){this.http=o,this.toastr=n,this.toggleModal=new e.vpe,this.faTrash=_.$aW,this.confirm_code="0000",this.is_saving=!1}ngOnInit(){this.generateCode()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-surgical-action-modal"]],inputs:{surgery_to_delete:"surgery_to_delete"},outputs:{toggleModal:"toggleModal"},decls:28,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-5",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10," Your are about to delete a surgical history record for this patient. Please enter the generated delete code in order to proceed. "),e.qZA(),e.TgZ(11,"div",9)(12,"span",10),e._uU(13,"Delete Code"),e.qZA(),e.TgZ(14,"span",11),e._uU(15),e.qZA()(),e.TgZ(16,"div",9)(17,"label",12),e._uU(18,"Enter Code"),e.qZA(),e.TgZ(19,"input",13),e.NdJ("ngModelChange",function(s){return n.confirmation_code=s}),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e.NdJ("click",function(){return n.onDelete()}),e._UZ(22,"fa-icon",16),e._uU(23," Delete "),e.qZA()()()()(),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){return n.closeModal()}),e._uU(26,"Cancel"),e.qZA()()()()(),e._UZ(27,"div",19)),2&o&&(e.xp6(5),e.hij(" DELETE SURGICAL HISTORY (",n.surgery_to_delete.operation,") "),e.xp6(10),e.Oqu(n.confirm_code),e.xp6(4),e.Q6J("ngModel",n.confirmation_code),e.xp6(2),e.Q6J("disabled",!n.confirmation_code),e.xp6(1),e.Q6J("icon",n.faTrash))},dependencies:[v.BN,r.Fj,r.JJ,r.On]}),a})();var ua=u(6903);function ma(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10),e._UZ(2,"apx-chart",11),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("series",null==t.chartOptions?null:t.chartOptions.series)("chart",null==t.chartOptions?null:t.chartOptions.chart)("xaxis",null==t.chartOptions?null:t.chartOptions.xaxis)("stroke",null==t.chartOptions?null:t.chartOptions.stroke)("tooltip",null==t.chartOptions?null:t.chartOptions.tooltip)("dataLabels",null==t.chartOptions?null:t.chartOptions.dataLabels)("title",null==t.chartOptions?null:t.chartOptions.title)}}function ga(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"apx-chart",11),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("series",null==t.WeightChart?null:t.WeightChart.series)("chart",null==t.WeightChart?null:t.WeightChart.chart)("xaxis",null==t.WeightChart?null:t.WeightChart.xaxis)("stroke",null==t.WeightChart?null:t.WeightChart.stroke)("tooltip",null==t.WeightChart?null:t.WeightChart.tooltip)("dataLabels",null==t.WeightChart?null:t.WeightChart.dataLabels)("title",null==t.WeightChart?null:t.WeightChart.title)}}function ha(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"div",14),e._UZ(2,"apx-chart",11),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("series",null==t.BmiChart?null:t.BmiChart.series)("chart",null==t.BmiChart?null:t.BmiChart.chart)("xaxis",null==t.BmiChart?null:t.BmiChart.xaxis)("stroke",null==t.BmiChart?null:t.BmiChart.stroke)("tooltip",null==t.BmiChart?null:t.BmiChart.tooltip)("dataLabels",null==t.BmiChart?null:t.BmiChart.dataLabels)("title",null==t.BmiChart?null:t.BmiChart.title)}}function fa(i,a){if(1&i&&(e.TgZ(0,"div",6),e.YNc(1,ma,3,7,"div",7),e.YNc(2,ga,3,7,"div",8),e.YNc(3,ha,3,7,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.show_bp),e.xp6(1),e.Q6J("ngIf",t.show_weight),e.xp6(1),e.Q6J("ngIf",t.show_bmi)}}function va(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"button",3),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggle_content=!n.toggle_content)}),e._UZ(3,"fa-icon",4),e.qZA(),e._uU(4),e.qZA(),e.YNc(5,fa,4,3,"div",5),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.toggle_content?t.faChevronUp:t.faChevronDown),e.xp6(1),e.hij(" ",t.toggle_content?"HIDE ":"SHOW "," VITALS CHART "),e.xp6(1),e.Q6J("ngIf",t.show_graphs&&t.toggle_content)}}let ba=(()=>{var i;class a{patientVitals(o){this.vitals_graph.systolic=[],this.vitals_graph.diastolic=[],this.vitals_graph.bp_date=[],this.vitals_graph.weight=[],this.vitals_graph.weight_date=[],Object.entries(o).forEach(([n,l],s)=>{let f=l;f.bp_systolic&&(this.vitals_graph.systolic.push(f.bp_systolic),this.vitals_graph.diastolic.push(f.bp_diastolic),this.vitals_graph.bp_date.push(f.vitals_date)),f.patient_weight&&(this.vitals_graph.weight.push(f.patient_weight),this.vitals_graph.weight_date.push(f.vitals_date)),f.patient_bmi&&(this.vitals_graph.bmi.push(f.patient_bmi),this.vitals_graph.bmi_date.push(f.vitals_date))}),this.vitals_graph.systolic.length>0||this.vitals_graph.diastolic.length>0||this.vitals_graph.weight.length>0||this.vitals_graph.bmi.length>0?(this.selected_chart="all_chart",this.loadChart(this.selected_chart)):this.showChart=!1,this.generateAllChart()}generateBPChart(){this.chartOptions={series:[{name:"Systolic",data:this.vitals_graph.systolic},{name:"Diastolic",data:this.vitals_graph.diastolic}],chart:{height:200,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Blood Pressure History"},xaxis:{type:"datetime",categories:this.vitals_graph.bp_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateWeightChart(){this.WeightChart={series:[{name:"Weight",data:this.vitals_graph.weight}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Weight History"},xaxis:{type:"datetime",categories:this.vitals_graph.weight_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateBMIChart(){this.BmiChart={series:[{name:"BMI",data:this.vitals_graph.bmi}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"BMI History"},xaxis:{type:"datetime",categories:this.vitals_graph.bmi_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}loadChart(o){switch(this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,o){case"bp_chart":this.show_bp=!0;break;case"weight_chart":this.show_weight=!0;break;case"bmi_chart":this.show_bmi=!0;break;case"bmi_weight_chart":this.show_weight=!0,this.show_bmi=!0;break;case"bp_weight_chart":this.show_bp=!0,this.show_weight=!0;break;case"all_chart":this.show_bp=!0,this.show_weight=!0,this.show_bmi=!0}this.showChart=!0}generateAllChart(){this.generateBPChart(),this.generateWeightChart(),this.generateBMIChart()}constructor(){this.faChevronUp=_.mTx,this.faChevronDown=_.ptq,this.showChart=!1,this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,this.show_graphs=!0,this.vitals_graph={systolic:[],diastolic:[],bp_date:[],weight:[],weight_date:[],bmi:[],bmi_date:[]}}ngOnChanges(o){this.patient_vitals&&this.patientVitals(this.patient_vitals)}ngOnInit(){}}return(i=a).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-graph"]],inputs:{patient_vitals:"patient_vitals"},features:[e.TTD],decls:1,vars:1,consts:[["class","grid grid-cols-1 w-full h-auto",4,"ngIf"],[1,"grid","grid-cols-1","w-full","h-auto"],[1,"w-full","flex","ml-5","font-semibold","my-0","text-sky-500"],["type","button",1,"font-normal","px-2","py-1","text-sm","mr-2",3,"click"],["size","lg",3,"icon"],["class","cols-span-1 flex w-full mt-3",4,"ngIf"],[1,"cols-span-1","flex","w-full","mt-3"],["class","w-1/3 shadow px-2 mr-2 py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],["class","w-1/3 shadow px-2 ml-2  py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],[1,"w-1/3","shadow","px-2","mr-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","bp-chart"],[3,"series","chart","xaxis","stroke","tooltip","dataLabels","title"],[1,"w-1/3","shadow","px-2","ml-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","weight-chart"],["id","bmi-chart"]],template:function(o,n){1&o&&e.YNc(0,va,6,3,"div",0),2&o&&e.Q6J("ngIf",n.showChart)},dependencies:[c.O5,v.BN,ua.x]}),a})();function xa(i,a){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}let ya=(()=>{var i;class a{onSubmit(){this.is_saving=!0,this.http.post("patient-pregnancy-history/history",this.pregnancyForm.value).subscribe({next:o=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Pregnancy History"),this.closeModal()},error:o=>console.log(o)})}createForm(){this.patient_info&&(this.pregnancyForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],gravidity:[null,r.kI.required],parity:[null,r.kI.required],full_term:[null,r.kI.required],preterm:[null,r.kI.required],abortion:[null,r.kI.required],livebirths:[null,r.kI.required],delivery_type:[null,r.kI.required],induced_hypertension:[null,r.kI.required],with_family_planning:[null,r.kI.required]}),this.pregnancy_history&&this.patchValue())}patchValue(){this.pregnancyForm.patchValue({...this.pregnancy_history}),this.pregnancyForm.patchValue({induced_hypertension:this.pregnancy_history.inducedHypertension.id,with_family_planning:this.pregnancy_history.withFamilyPlanning.id,delivery_type:this.pregnancy_history.libPregnancyDeliveryType.code})}closeModal(){this.toggleModal.emit("preghist")}get f(){return this.pregnancyForm.controls}ngOnChanges(o){}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.loadData=new e.vpe,this.toggleModal=new e.vpe,this.is_saving=!1,this.max_date=(0,c.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.pregnancyForm=new r.cw({patient_id:new r.NI(null),gravidity:new r.NI(null),parity:new r.NI(null),full_term:new r.NI(null),preterm:new r.NI(null),abortion:new r.NI(null),livebirths:new r.NI(null),delivery_type:new r.NI(null),induced_hypertension:new r.NI(null),with_family_planning:new r.NI(null)})}ngOnInit(){this.createForm()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-preghist-modal"]],inputs:{patient_info:"patient_info",pregnancy_history:"pregnancy_history",delivery_method:"delivery_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[e.TTD],decls:65,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","gravidity"],["name","gravidity","id","gravidity","formControlName","gravidity","type","number",1,"input","disabled:bg-gray-300"],["for","parity"],["name","parity","id","parity","formControlName","parity","type","number",1,"input","disabled:bg-gray-300"],["for","full_term"],["name","full_term","id","full_term","formControlName","full_term","type","number",1,"input","disabled:bg-gray-300"],["for","preterm"],["name","preterm","id","preterm","formControlName","preterm","type","number",1,"input","disabled:bg-gray-300"],["for","abortion"],["name","abortion","id","abortion","formControlName","abortion","type","number",1,"input","disabled:bg-gray-300"],["for","livebirths"],["name","livebirths","id","livebirths","formControlName","livebirths","type","number",1,"input","disabled:bg-gray-300"],[1,"relative","text-sm","w-full","px-5","py-2","mt-2"],["for","delivery_type"],["name","delivery_type","id","delivery_type","formControlName","delivery_type",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","induced_hypertension"],["name","induced_hypertension","id","induced_hypertension","formControlName","induced_hypertension",1,"input","disabled:bg-gray-300"],["value","N"],["value","Y"],["for","with_family_planning"],["name","with_family_planning","id","with_family_planning","formControlName","with_family_planning",1,"input","disabled:bg-gray-300"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Pregnancy History "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12,"Gravidity"),e.qZA(),e._UZ(13,"input",11),e.qZA(),e.TgZ(14,"div",9)(15,"label",12),e._uU(16,"Parity"),e.qZA(),e._UZ(17,"input",13),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"label",14),e._uU(21,"Full Term"),e.qZA(),e._UZ(22,"input",15),e.qZA(),e.TgZ(23,"div",9)(24,"label",16),e._uU(25,"Preterm"),e.qZA(),e._UZ(26,"input",17),e.qZA()(),e.TgZ(27,"div",8)(28,"div",9)(29,"label",18),e._uU(30,"Abortion"),e.qZA(),e._UZ(31,"input",19),e.qZA(),e.TgZ(32,"div",9)(33,"label",20),e._uU(34,"Livebirths"),e.qZA(),e._UZ(35,"input",21),e.qZA()(),e.TgZ(36,"div",8)(37,"div",22)(38,"label",23),e._uU(39,"Delivery Type"),e.qZA(),e.TgZ(40,"select",24),e.YNc(41,xa,2,2,"option",25),e.qZA()()(),e.TgZ(42,"div",8)(43,"div",9)(44,"label",26),e._uU(45,"Induced Hypertension"),e.qZA(),e.TgZ(46,"select",27)(47,"option",28),e._uU(48,"No"),e.qZA(),e.TgZ(49,"option",29),e._uU(50,"Yes"),e.qZA()()(),e.TgZ(51,"div",9)(52,"label",30),e._uU(53,"With Family Planning"),e.qZA(),e.TgZ(54,"select",31)(55,"option",28),e._uU(56,"No"),e.qZA(),e.TgZ(57,"option",29),e._uU(58,"Yes"),e.qZA()()()()()()(),e.TgZ(59,"div",32)(60,"button",33),e.NdJ("click",function(){return n.closeModal()}),e._uU(61,"Close"),e.qZA(),e.TgZ(62,"button",34),e.NdJ("click",function(){return n.onSubmit()}),e._uU(63),e.qZA()()()()(),e._UZ(64,"div",35)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.pregnancyForm),e.xp6(34),e.Q6J("ngForOf",n.delivery_method),e.xp6(21),e.Q6J("disabled",n.is_saving||n.pregnancyForm.invalid),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.sg,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u]}),a})();function Za(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw();return e.KtG(s.appointment[l.code]=n)}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("id",o.appointment[t.code])("ngModel",o.appointment[t.code])}}function wa(i,a){if(1&i&&(e.TgZ(0,"label",24),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.uIk("for",o.appointment[t.code]),e.xp6(1),e.Oqu(t.desc)}}function Ca(i,a){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Za,1,2,"input",21),e.YNc(2,wa,2,2,"label",22),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","REF"!==t.code),e.xp6(1),e.Q6J("ngIf","REF"!==t.code)}}let Ta=(()=>{var i;class a{onSubmit(){if(console.log(this.appointmentForm),Object.keys(this.appointment).length>0){let o=[];Object.entries(this.appointment).forEach(([n,l],s)=>{!0===l&&o.push({appointment_code:n})}),this.appointmentForm.appointment=o,this.appointmentForm.patient_id=this.patient_info.id,this.saveAppointment()}else this.toastr.info("No appointment was selected"),this.is_saving=!1}saveAppointment(){console.log(this.appointmentForm),this.http.post("appointment/schedule",this.appointmentForm).subscribe({next:o=>{console.log(o.data),this.is_saving=!1,this.toastr.success("Successfully recorded!","Set appointment"),this.loadData.emit("appointment"),this.closeModal()},error:o=>console.log(o)})}loadLibraries(){this.http.get("libraries/appointment").subscribe({next:o=>this.appointment_types=o.data,error:o=>console.log(o)})}closeModal(){this.toggleModal.emit("appointment-modal")}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.loadData=new e.vpe,this.toggleModal=new e.vpe,this.appointment_types=[],this.is_saving=!1,this.appointment={},this.min_date=(0,c.p6)((new Date).setDate((new Date).getDate()+1),"yyyy-MM-dd","en","Asia/Manila"),this.appointmentForm={patient_id:null,appointment_date:null,appointment:[]}}ngOnChanges(o){console.log("test")}ngOnInit(){this.loadLibraries()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-set-appointment"]],inputs:{patient_info:"patient_info"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[e.TTD],decls:25,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"submit"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","flex-col","px-5","w-full"],[1,"w-full","text-sm","px-5","py-2","mt-2","flex","justify-center"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","appointment_date"],["name","appointment_date","id","appointment_date","type","date",1,"input","disabled:bg-gray-300",3,"min","ngModel","ngModelChange"],[1,"w-full","text-sm","grid","grid-cols-2","gap-3","px-5","py-2","mt-2"],[1,"col-span-2"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"col-span-1"],["type","checkbox","class","border border-slate-500 rounded mr-3",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","font-normal",4,"ngIf"],["type","checkbox",1,"border","border-slate-500","rounded","mr-3",3,"id","ngModel","ngModelChange"],[1,"font-normal"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Set Appointment "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Appoinment date"),e.qZA(),e.TgZ(14,"input",12),e.NdJ("ngModelChange",function(s){return n.appointmentForm.appointment_date=s}),e.qZA()()(),e.TgZ(15,"div",13)(16,"span",14),e._uU(17,"Type of appointment"),e.qZA(),e.YNc(18,Ca,3,2,"div",15),e.qZA()()()()(),e.TgZ(19,"div",16)(20,"button",17),e.NdJ("click",function(){return n.closeModal()}),e._uU(21,"Close"),e.qZA(),e.TgZ(22,"button",18),e.NdJ("click",function(){return n.onSubmit()}),e._uU(23),e.qZA()()()()(),e._UZ(24,"div",19)),2&o&&(e.xp6(14),e.Q6J("min",n.min_date)("ngModel",n.appointmentForm.appointment_date),e.xp6(4),e.Q6J("ngForOf",n.appointment_types),e.xp6(4),e.Q6J("disabled",n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.sg,c.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.On,r.F]}),a})();function Ma(i,a){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Aa(i,a){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function ka(i,a){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function qa(i,a){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.AsE("",t.facility_name," (",t.health_facility_type,")")}}let Ia=(()=>{var i;class a{get f(){return this.referralForm.controls}loadFacilities(o){"0"!==o?(this.f.referral_facility_code.enable(),this.http.get("libraries/facilities",{params:{"filter[municipality_code]":o,per_page:"all"}}).subscribe({next:n=>{this.facilities=n.data},error:n=>console.log(n)})):(this.facilities=null,this.referralForm.patchValue({facility_code:"0"}),this.f.referral_facility_code.disable())}loadDemog(o,n,l){n&&"0"!==n?this.http.get("libraries/"+o+"/"+n,{params:{include:l}}).subscribe({next:s=>{this[l]=s.data[l],this.disaledSelection(o,n)},error:s=>console.log(s)}):this.disaledSelection(o,n)}disaledSelection(o,n){"regions"==o?(this.municipalities=null,this.facilities=null,this.f.municipality.disable(),this.f.referral_facility_code.disable(),"0"===n?this.f.province.disable():this.f.province.enable()):"provinces"==o?(this.facilities=null,this.f.referral_facility_code.disable(),"0"===n?this.f.municipality.disable():this.f.municipality.enable()):(this.f.province.disable(),this.f.municipality.disable(),this.f.referral_facility_code.disable())}loadLibraries(){this.http.get("libraries/regions").subscribe({next:o=>this.regions=o.data,error:o=>console.log(o)}),this.createForm()}createForm(){this.patient_info&&(this.referralForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],appointment_date:[null,r.kI.required],appointment_code:["REF"],referral_facility_code:[null,r.kI.required],region:[null],province:[null],municipality:[null],referral_reason:[null]})),this.loadDemog()}onSubmit(){this.is_saving=!0,this.http.post("appointment/schedule",{appointment:[{appointment_code:this.referralForm.value.appointment_code}],patient_id:this.referralForm.value.patient_id,appointment_date:this.referralForm.value.appointment_date,referral_facility_code:this.referralForm.value.referral_facility_code,referral_reason:this.referralForm.value.referral_reason}).subscribe({next:n=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Set appointment"),this.loadData.emit("appointment"),this.closeModal()},error:n=>console.log(n)})}closeModal(){this.toggleModal.emit("referral-modal")}constructor(o,n,l){this.formBuilder=o,this.http=n,this.toastr=l,this.loadData=new e.vpe,this.toggleModal=new e.vpe,this.max_date=(0,c.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.referralForm=new r.cw({patient_id:new r.NI(""),appointment_date:new r.NI(""),appointment_code:new r.NI(""),referral_facility_code:new r.NI(""),region:new r.NI(""),province:new r.NI(""),municipality:new r.NI(""),referral_reason:new r.NI("")})}ngOnInit(){this.loadLibraries()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(h.O),e.Y36(J._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-referral-modal"]],inputs:{patient_info:"patient_info"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},decls:52,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup","submit"],[1,"p-5"],[1,"grid","grid-cols-9","gap-4"],[1,"col-span-9"],["for","appointment_date"],["type","date","name","appointment_date","id","appointment_date","formControlName","appointment_date",1,"input",3,"min"],[1,"col-span-3"],["for","region",1,"input-label"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","province",1,"input-label"],["id","province","name","province","formControlName","province",1,"first:italic","input","disabled:bg-gray-300",3,"change"],["for","municipality",1,"input-label"],["id","municipality","name","municipality","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"change"],["for","referral_facility_code",1,"input-label"],["id","referral_facility_code","name","referral_facility_code","formControlName","referral_facility_code",1,"input","disabled:bg-gray-300"],["for","referral_reason"],["type","text","name","referral_reason","id","referral_reason","formControlName","referral_reason",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Referral "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12,"Appointment Date"),e.qZA(),e._UZ(13,"input",11),e.qZA(),e.TgZ(14,"div",12)(15,"label",13),e._uU(16,"Region"),e.qZA(),e.TgZ(17,"select",14),e.NdJ("change",function(){return n.loadDemog("regions",n.referralForm.value.region,"provinces")}),e.TgZ(18,"option",15),e._uU(19,"- Choose Region -"),e.qZA(),e.YNc(20,Ma,2,2,"option",16),e.qZA()(),e.TgZ(21,"div",12)(22,"label",17),e._uU(23,"Province"),e.qZA(),e.TgZ(24,"select",18),e.NdJ("change",function(){return n.loadDemog("provinces",n.referralForm.value.province,"municipalities")}),e.TgZ(25,"option",15),e._uU(26,"- Choose Province -"),e.qZA(),e.YNc(27,Aa,2,2,"option",16),e.qZA()(),e.TgZ(28,"div",12)(29,"label",19),e._uU(30,"Municipality"),e.qZA(),e.TgZ(31,"select",20),e.NdJ("change",function(){return n.loadFacilities(n.referralForm.value.municipality)}),e.TgZ(32,"option",15),e._uU(33,"- Choose Municipality/City -"),e.qZA(),e.YNc(34,ka,2,2,"option",16),e.qZA()(),e.TgZ(35,"div",9)(36,"label",21),e._uU(37,"Refer to"),e.qZA(),e.TgZ(38,"select",22)(39,"option",15),e._uU(40,"- Choose Facility -"),e.qZA(),e.YNc(41,qa,2,3,"option",16),e.qZA()(),e.TgZ(42,"div",9)(43,"label",23),e._uU(44,"Reason for referral"),e.qZA(),e._UZ(45,"input",24),e.qZA()()()()(),e.TgZ(46,"div",25)(47,"button",26),e.NdJ("click",function(){return n.closeModal()}),e._uU(48,"Close"),e.qZA(),e.TgZ(49,"button",27),e.NdJ("click",function(){return n.onSubmit()}),e._uU(50),e.qZA()()()()(),e._UZ(51,"div",28)),2&o&&(e.xp6(7),e.Q6J("formGroup",n.referralForm),e.xp6(6),e.Q6J("min",n.max_date),e.xp6(7),e.Q6J("ngForOf",n.regions),e.xp6(7),e.Q6J("ngForOf",n.provinces),e.xp6(7),e.Q6J("ngForOf",n.municipalities),e.xp6(7),e.Q6J("ngForOf",n.facilities),e.xp6(8),e.Q6J("disabled",n.is_saving||n.referralForm.invalid),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.sg,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u]}),a})();function Ua(i,a){if(1&i&&e._UZ(0,"app-graph",60),2&i){const t=e.oxw();e.Q6J("patient_vitals",t.patient_vitals)}}function Ja(i,a){1&i&&e._UZ(0,"router-outlet")}function Na(i,a){if(1&i&&(e.TgZ(0,"span",61),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.getInitials((null==t.patient_info?null:t.patient_info.first_name)+" "+(null==t.patient_info?null:t.patient_info.last_name)))}}function Qa(i,a){if(1&i&&e._UZ(0,"img",62),2&i){const t=e.oxw();e.Q6J("src",t.imageData,e.LSH)}}function Fa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-module-modal",63),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("module"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("user_facility",t.user_facility)("philhealth_details",t.philhealth_details)("patient_info",t.patient_info)("patient_age",t.patient_age)}}function Pa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-lab-request",64),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("lab-request"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("lab_req_list",t.lab_req_list)("patient_info",t.patient_info)("consult_id",t.consult_id)}}function Da(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-history-modal",65),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("history"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("history_list",t.history_list)("past_medical",t.past_medical)}}function Va(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-fam-history-modal",66),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("history_list",t.history_list)("family_medical",t.family_medical)}}function Ya(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-lifestyle-modal",67),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("social_history",t.social_history)}}function Oa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-menstrual-modal",68),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("menstrual_history",t.menstrual_history)("fp_method",t.fp_method)}}function ja(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-preghist-modal",69),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("pregnancy_history",t.pregnancy_history)("delivery_method",t.delivery_method)}}function Sa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-vitals-modal",70),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("vitals"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_age",t.patient_age)("patient_info",t.patient_info)("vitals_to_edit",t.vitals_to_edit)}}function Ea(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-vitals-list-modal",71),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("vitals-list"))})("vitalsEdit",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.vitalsEdit(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("user_facility",t.user_facility)("patient_info",t.patient_info)}}function La(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-philhealth-modal",72),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("philhealth_to_edit",t.philhealth_to_edit)}}function Ha(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-philhealth-list-modal",73),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("philhealth-list"))})("philhealthEdit",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.philhealthEdit(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)}}function Ka(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-vaccine-modal",74),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("vaccine"))})("loadData",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loadData(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)("vaccines_given",t.vaccines_given)}}function Ga(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-vaccine-action-modal",75),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("vaccine_to_edit",t.vaccine_to_edit)}}function Ra(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-surgical-modal",76),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)}}function Ba(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-surgical-action-modal",77),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("surgery_to_delete",t.surgery_to_delete)}}function za(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-allergies-modal",78),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("allergies"))}),e.qZA()}}function Wa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-medication-modal",78),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("medication"))}),e.qZA()}}function $a(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-death-modal",78),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("death"))}),e.qZA()}}function Xa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-photo-modal",79),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("photo"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("imageData",t.imageData)("patient_info",t.patient_info)}}function el(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-set-appointment",80),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("appointment-modal"))})("loadData",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loadData(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)}}function tl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-referral-modal",80),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("referral-modal"))})("loadData",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loadData(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_info",t.patient_info)}}const il=function(i){return{"text-rose-400":i}};let nl=(()=>{var i;class a{reloadChild(o){switch(o){case"ncd":this.reloadNCDVitals.emit();break;case"lab":this.reloadLabs.emit()}}constructor(o,n,l,s){this.router=o,this.http=n,this.ageService=l,this.sanitizer=s,this.reloadNCDVitals=new e.vpe,this.reloadLabs=new e.vpe,this.no_graph_list=["lab","dispensing"],this.faNotesMedical=_.AKf,this.faFlask=_.jZZ,this.faHeart=_.m6i,this.faExclamationCircle=_.RLE,this.faPenSquare=_.e0A,this.faClipboardUser=_.e_0,this.faCamera=_._jT,this.faBuildingCircleArrowRight=_.w8b,this.show_form=!1,this.show_vitals=!1,this.lab_request=!1,this.accordions=[],this.modals=[],this.imageData=null,this.navigationEnd$=this.router.events.pipe((0,k.h)(f=>f instanceof d.m2),(0,q.b)(()=>{this.getPatient()}))}loadData(o){("past_medical"===o||"all"===o)&&this.pastMedical.loadData(this.patient_info.id),("family_medical"===o||"all"===o)&&this.familyMedical.loadData(this.patient_info.id),("vaccines"===o||"all"===o)&&this.vaccine.loadData(this.patient_info.id),("philhealth"===o||"all"===o)&&this.philhealth.loadData(this.patient_info.id),("social_history"===o||"all"===o)&&this.socialHistory.loadData(this.patient_info.id),("surgical_history"===o||"all"===o)&&this.surgicalHistory.loadData(this.patient_info.id),("menstrual_history"===o||"all"===o)&&this.menstrualHistory.loadData(this.patient_info.id),("pregnancy_history"===o||"all"===o)&&this.preghist.loadData(this.patient_info.id),("vitals"===o||"all"===o)&&this.vitals.loadData(this.patient_info.id),("appointment"===o||"all"===o)&&this.appointment.loadData(this.patient_info.id),("laboratory"===o||"all"===o)&&"lab"!==this.active_loc&&this.laboratories.loadData(this.patient_info.id),("prescription"===o||"all"===o)&&"dispensing"!==this.active_loc&&this.prescriptions.loadData(this.patient_info.id)}navigateTo(o){this.router.navigate(["/patient/"+o,{id:this.patient_info.id}])}editPatient(o){o&&this.router.navigate(["/edit-patient",{id:o}])}getPatient(){this.active_loc_id=this.http.getUrlParams(),this.active_loc=this.active_loc_id.loc,this.consult_id=this.active_loc_id.consult_id??null,this.patient_id!==this.active_loc_id.patient_id?(this.patient_id=this.active_loc_id.patient_id,this.http.get("patient/"+this.active_loc_id.patient_id).subscribe({next:o=>{this.patient_info=o.data,console.log(this.patient_info),this.show_form=!0,this.http.setPatientInfo(this.patient_info),this.loadData("all"),this.accordions.vitals=!0,this.accordions.lab_request=!0,this.accordions.prescriptions=!0,this.accordions.appointment=!0,this.patient_info.image_url&&this.getImage(o.data)},error:o=>{console.log(o)}})):this.reloadData()}getImage(o){this.http.get("images/"+o.id,{responseType:"blob"}).subscribe({next:n=>{const l=new FileReader;l.onloadend=()=>{this.imageData=this.sanitizer.bypassSecurityTrustUrl(l.result)},l.readAsDataURL(n)},error:n=>console.log(n)})}reloadData(){switch(this.active_loc){case"lab":this.loadData("prescription");break;case"dispensing":this.loadData("laboratory");break;default:this.loadData("laboratory"),this.loadData("prescription")}}setDetails(o){this[o.var_name]=o.data}setSurgicalHistory(o){this.surgical_history=o}setPastMedical(o){this.past_medical=o}setFamilyMedical(o){this.family_medical=o}setMenstrual(o){this.menstrual_history=o}setLabList(o){this.lab_req_list=o}setVaccineGiven(o){this.vaccines_given=o}setVitals(o){this.patient_vitals=o}vitalsEdit(o){this.vitals_to_edit=o,this.toggleModal("vitals")}philhealthEdit(o){this.philhealth_to_edit=o,this.toggleModal("philhealth")}toggleModal(o,n){"fam-history"===o||"history"===o?(this.history_list?this.modals[o]=!this.modals[o]:this.loadLibrary("libraries/medical-history","history_list",o),"history"===o&&!1===this.modals.history&&this.loadData("past_medical"),"fam-history"===o&&!1===this.modals["fam-history"]&&this.loadData("family_medical")):"surgical-history"===o.modal_name||"surgical-action"===o.modal_name?(this.modals[o.modal_name]=!this.modals[o.modal_name],"surgical-action"===o.modal_name&&!0===this.modals["surgical-action"]&&(this.surgery_to_delete=o.data),("surgical-history"===o.modal_name&&!1===this.modals["surgical-history"]||"surgical-action"===o.modal_name&&!1===this.modals["surgical-action"])&&(this.loadData("surgical_history"),this.surgery_to_delete=null)):"menstrual"===o?(this.fp_method?this.modals[o]=!this.modals[o]:this.loadLibrary("libraries/family-planning-method","fp_method","menstrual"),"menstrual"===o&&!1===this.modals.menstrual&&this.loadData("menstrual_history")):"preghist"===o?(this.delivery_method?this.modals[o]=!this.modals[o]:this.loadLibrary("libraries/pregnancy-delivery-type","delivery_method","preghist"),"preghist"===o&&!1===this.modals.preghist&&this.loadData("pregnancy_history")):(this.modals[o.modal_name??o]=!this.modals[o.modal_name??o],"vitals"===o&&!1===this.modals[o]&&(0==this.modals.vitals&&(this.vitals_to_edit=null),this.loadData("vitals")),"philhealth"===o.modal_name&&!1===this.modals[o.modal_name]&&(!1===this.modals.philhealth&&(this.philhealth_to_edit=null),this.loadData("philhealth")),"vaccine"===o.modal_name&&!0===this.modals[o.modal_name]&&(this.vaccines_given=o.data),"vaccine-action"===o.modal_name&&(!0===this.modals[o.modal_name]?this.vaccine_to_edit=o.data:this.loadData("vaccines")),"photo"===o&&!this.modals.photo&&this.getImage(this.patient_info),"lifestyle"===o&&!1===this.modals.lifestyle&&this.loadData("social_history"),"lab-request"===o&&!1===this.modals[o]&&this.loadData("laboratory"))}toggleAccordion(o){this.accordions[o]=!this.accordions[o]}loadLibrary(o,n,l){this.http.get(o).subscribe({next:s=>{this[n]=s.data,this.modals[l]=!this.modals[l]},error:s=>console.log(s)})}getInitials(o){return[...o.matchAll(/\b\w/g)].join("")}getAge(){if(this.patient_info&&this.patient_info.birthdate){let o=this.ageService.calcuateAge(this.patient_info.birthdate);return this.patient_age=o,o.age+" "+o.type+(o.age>1?"s old":" old")}}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.getPatient(),this.navigationEnd$.subscribe()}}return(i=a).\u0275fac=function(o){return new(o||i)(e.Y36(d.F0),e.Y36(h.O),e.Y36(Dt.J),e.Y36(Vt.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-info"]],viewQuery:function(o,n){if(1&o&&(e.Gf(ie,5),e.Gf(Z,5),e.Gf(se,5),e.Gf(ne,5),e.Gf(K,5),e.Gf(ae,5),e.Gf(le,5),e.Gf(re,5),e.Gf(te,5),e.Gf(Pe,5),e.Gf(ce,5),e.Gf(oe,5),e.Gf(_e,5)),2&o){let l;e.iGM(l=e.CRH())&&(n.pastMedical=l.first),e.iGM(l=e.CRH())&&(n.familyMedical=l.first),e.iGM(l=e.CRH())&&(n.vaccine=l.first),e.iGM(l=e.CRH())&&(n.philhealth=l.first),e.iGM(l=e.CRH())&&(n.laboratories=l.first),e.iGM(l=e.CRH())&&(n.prescriptions=l.first),e.iGM(l=e.CRH())&&(n.socialHistory=l.first),e.iGM(l=e.CRH())&&(n.surgicalHistory=l.first),e.iGM(l=e.CRH())&&(n.menstrualHistory=l.first),e.iGM(l=e.CRH())&&(n.pregnancyHistory=l.first),e.iGM(l=e.CRH())&&(n.vitals=l.first),e.iGM(l=e.CRH())&&(n.preghist=l.first),e.iGM(l=e.CRH())&&(n.appointment=l.first)}},decls:79,vars:67,consts:[[1,"grid","grid-cols-11","mt-4","gap-4"],[1,"col-span-8"],[3,"patient_vitals",4,"ngIf"],[4,"ngIf"],[1,"col-span-3"],[1,"rounded-xl","text-gray-600","border","border-slate-100"],[1,"block","m-0","relative","p-0","scrollbar-thumb-white","hover:scrollbar-thumb-blue-300","scrollbar-track-white"],[1,"flex","justify-items-start","sticky","top-0","bg-white","rounded-lg","border-2","border-gray-400","shadow-md","p-2"],[1,"mr-2"],[1,"group","cursor-pointer","inline-flex","overflow-hidden","relative","justify-center","items-center","w-24","h-24","bg-gray-100","rounded-full","hover:bg-gray-700","hover:opacity-50",3,"click"],["class","font-medium text-gray-600 opacity-100 group-hover:opacity-50",4,"ngIf"],["class","scale-[1.4]","alt","Profile Image",3,"src",4,"ngIf"],[1,"absolute","text-white","opacity-0","group-hover:opacity-100"],["size","xl",3,"icon"],[1,"m-1","leading-tight"],[1,"block","text-sm","text-blue-500","font-medium"],[1,"block","text-xs"],[1,"flex","mb-0","justify-between"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-blue-500","mr-2",3,"icon","click"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"icon","ngClass","click"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"icon","click"],["size","lg",1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-amber-500","mr-2",3,"icon","click"],[1,"block","justify-items-start","mx-5","pb-5","border-b","border-gray-200"],[1,"mt-4","flex","justify-center"],["type","button",1,"w-48","h-10","inline-flex","mr-2","justify-center","px-5","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-sky-500","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-sky-500",3,"click"],[1,"pl-3","pr-2","rounded-md","h-10","bg-orange-500","text-white",3,"click"],[3,"icon"],[1,"mt-4","leading-tight"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"block","text-xs","pl-3"],[3,"accordions","setDetails","toggleAccordion","toggleModal"],[3,"accordions","toggleAccordion","toggleModal"],[3,"accordions","consult_id","patient_info","toggleAccordion","navigateTo"],[3,"accordions","toggleAccordion","navigateTo","toggleModal","setLabList"],[3,"accordions","toggleAccordion","toggleModal","setVitals"],[3,"accordions","toggleAccordion","toggleModal","setVaccineGiven"],[3,"accordions","toggleAccordion","toggleModal","setPastMedical"],[3,"accordions","toggleAccordion","toggleModal","setMenstrual"],[3,"accordions","toggleAccordion","toggleModal","setDetails"],[3,"accordions","toggleAccordion","toggleModal","setFamilyMedical"],[3,"accordions","toggleAccordion","toggleModal","setSurgicalHistory"],[3,"user_facility","philhealth_details","patient_info","patient_age","toggleModal",4,"ngIf"],[3,"lab_req_list","patient_info","consult_id","toggleModal",4,"ngIf"],[3,"patient_info","history_list","past_medical","toggleModal",4,"ngIf"],[3,"patient_info","history_list","family_medical","toggleModal",4,"ngIf"],[3,"patient_info","social_history","toggleModal",4,"ngIf"],[3,"patient_info","menstrual_history","fp_method","toggleModal",4,"ngIf"],[3,"patient_info","pregnancy_history","delivery_method","toggleModal",4,"ngIf"],[3,"patient_age","patient_info","vitals_to_edit","toggleModal",4,"ngIf"],[3,"user_facility","patient_info","toggleModal","vitalsEdit",4,"ngIf"],[3,"patient_info","philhealth_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","philhealthEdit",4,"ngIf"],[3,"patient_info","vaccines_given","toggleModal","loadData",4,"ngIf"],[3,"vaccine_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal",4,"ngIf"],[3,"surgery_to_delete","toggleModal",4,"ngIf"],[3,"toggleModal",4,"ngIf"],[3,"imageData","patient_info","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","loadData",4,"ngIf"],[3,"patient_vitals"],[1,"font-medium","text-gray-600","opacity-100","group-hover:opacity-50"],["alt","Profile Image",1,"scale-[1.4]",3,"src"],[3,"user_facility","philhealth_details","patient_info","patient_age","toggleModal"],[3,"lab_req_list","patient_info","consult_id","toggleModal"],[3,"patient_info","history_list","past_medical","toggleModal"],[3,"patient_info","history_list","family_medical","toggleModal"],[3,"patient_info","social_history","toggleModal"],[3,"patient_info","menstrual_history","fp_method","toggleModal"],[3,"patient_info","pregnancy_history","delivery_method","toggleModal"],[3,"patient_age","patient_info","vitals_to_edit","toggleModal"],[3,"user_facility","patient_info","toggleModal","vitalsEdit"],[3,"patient_info","philhealth_to_edit","toggleModal"],[3,"patient_info","toggleModal","philhealthEdit"],[3,"patient_info","vaccines_given","toggleModal","loadData"],[3,"vaccine_to_edit","toggleModal"],[3,"patient_info","toggleModal"],[3,"surgery_to_delete","toggleModal"],[3,"toggleModal"],[3,"imageData","patient_info","toggleModal"],[3,"patient_info","toggleModal","loadData"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ua,1,1,"app-graph",2),e.YNc(3,Ja,1,0,"router-outlet",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),e.NdJ("click",function(){return n.toggleModal("photo")}),e.YNc(10,Na,2,1,"span",10),e.YNc(11,Qa,1,1,"img",11),e.TgZ(12,"span",12),e._UZ(13,"fa-icon",13),e.qZA()()(),e.TgZ(14,"div",14)(15,"span",15),e._uU(16),e.qZA(),e.TgZ(17,"span",16),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"div",17)(21,"div")(22,"fa-icon",18),e.NdJ("click",function(){return n.navigateTo("itr")}),e.qZA(),e.TgZ(23,"fa-icon",19),e.NdJ("click",function(){return n.toggleModal("vitals-list")}),e.qZA(),e.TgZ(24,"fa-icon",20),e.NdJ("click",function(){return n.navigateTo("lab")}),e.qZA(),e._UZ(25,"fa-icon",21)(26,"fa-icon",21),e.TgZ(27,"fa-icon",22),e.NdJ("click",function(){return n.editPatient(null==n.patient_info?null:n.patient_info.id)}),e.qZA()()()()(),e.TgZ(28,"div",23)(29,"div",24)(30,"button",25),e.NdJ("click",function(){return n.toggleModal("module")}),e._uU(31," Navigate Programs "),e.qZA(),e.TgZ(32,"button",26),e.NdJ("click",function(){return n.toggleModal("referral-modal")}),e._UZ(33,"fa-icon",27),e.qZA()(),e.TgZ(34,"div",28)(35,"span",29),e._uU(36," ADDRESS "),e.qZA(),e.TgZ(37,"span",30),e._uU(38),e._UZ(39,"br"),e._uU(40),e.qZA()(),e.TgZ(41,"div",28)(42,"span",29),e._uU(43," CONTACT NUMBER "),e.qZA(),e.TgZ(44,"span",30),e._uU(45),e.qZA()(),e.TgZ(46,"app-philhealth",31),e.NdJ("setDetails",function(s){return n.setDetails(s)})("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)}),e.qZA()(),e.TgZ(47,"app-appointment",32),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)}),e.qZA(),e.TgZ(48,"app-prescriptions",33),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("navigateTo",function(s){return n.navigateTo(s)}),e.qZA(),e.TgZ(49,"app-laboratory",34),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("navigateTo",function(s){return n.navigateTo(s)})("toggleModal",function(s){return n.toggleModal(s)})("setLabList",function(s){return n.setLabList(s)}),e.qZA(),e.TgZ(50,"app-vitals",35),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setVitals",function(s){return n.setVitals(s)}),e.qZA(),e.TgZ(51,"app-vaccine",36),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setVaccineGiven",function(s){return n.setVaccineGiven(s)}),e.qZA(),e.TgZ(52,"app-past-medical",37),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setPastMedical",function(s){return n.setPastMedical(s)}),e.qZA(),e.TgZ(53,"app-menstrual-history",38),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setMenstrual",function(s){return n.setMenstrual(s)}),e.qZA(),e.TgZ(54,"app-preghist",39),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setDetails",function(s){return n.setDetails(s)}),e.qZA(),e.TgZ(55,"app-family-medical",40),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setFamilyMedical",function(s){return n.setFamilyMedical(s)}),e.qZA(),e.TgZ(56,"app-social-history",39),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setDetails",function(s){return n.setDetails(s)}),e.qZA(),e.TgZ(57,"app-surgical-history",41),e.NdJ("toggleAccordion",function(s){return n.toggleAccordion(s)})("toggleModal",function(s){return n.toggleModal(s)})("setSurgicalHistory",function(s){return n.setSurgicalHistory(s)}),e.qZA()()()()(),e.YNc(58,Fa,1,4,"app-module-modal",42),e.YNc(59,Pa,1,3,"app-lab-request",43),e.YNc(60,Da,1,3,"app-history-modal",44),e.YNc(61,Va,1,3,"app-fam-history-modal",45),e.YNc(62,Ya,1,2,"app-lifestyle-modal",46),e.YNc(63,Oa,1,3,"app-menstrual-modal",47),e.YNc(64,ja,1,3,"app-preghist-modal",48),e.YNc(65,Sa,1,3,"app-vitals-modal",49),e.YNc(66,Ea,1,2,"app-vitals-list-modal",50),e.YNc(67,La,1,2,"app-philhealth-modal",51),e.YNc(68,Ha,1,1,"app-philhealth-list-modal",52),e.YNc(69,Ka,1,2,"app-vaccine-modal",53),e.YNc(70,Ga,1,1,"app-vaccine-action-modal",54),e.YNc(71,Ra,1,1,"app-surgical-modal",55),e.YNc(72,Ba,1,1,"app-surgical-action-modal",56),e.YNc(73,za,1,0,"app-allergies-modal",57),e.YNc(74,Wa,1,0,"app-medication-modal",57),e.YNc(75,$a,1,0,"app-death-modal",57),e.YNc(76,Xa,1,2,"app-photo-modal",58),e.YNc(77,el,1,1,"app-set-appointment",59),e.YNc(78,tl,1,1,"app-referral-modal",59)),2&o&&(e.xp6(2),e.Q6J("ngIf",-1===n.no_graph_list.indexOf(n.active_loc)),e.xp6(1),e.Q6J("ngIf",n.show_form),e.xp6(7),e.Q6J("ngIf",!n.imageData),e.xp6(1),e.Q6J("ngIf",n.imageData),e.xp6(2),e.Q6J("icon",n.faCamera),e.xp6(3),e.HOy(" ",null==n.patient_info?null:n.patient_info.last_name,", ",null==n.patient_info?null:n.patient_info.first_name," ",null==n.patient_info?null:n.patient_info.middle_name," ","NA"===(null==n.patient_info?null:n.patient_info.suffix_name)?"":null==n.patient_info?null:n.patient_info.suffix_name," "),e.xp6(2),e.lnq(" ",e.Dn7(19,61,null==n.patient_info?null:n.patient_info.birthdate,"MM/dd/yyyy","Asia/Manila")," [",n.getAge(),"][",null==n.patient_info?null:n.patient_info.gender,"] "),e.xp6(4),e.Q6J("icon",n.faClipboardUser),e.xp6(1),e.Q6J("icon",n.faHeart)("ngClass",e.VKq(65,il,n.latest_vitals)),e.xp6(1),e.Q6J("icon",n.faFlask),e.xp6(1),e.Q6J("icon",n.faNotesMedical),e.xp6(1),e.Q6J("icon",n.faExclamationCircle),e.xp6(1),e.Q6J("icon",n.faPenSquare),e.xp6(6),e.Q6J("icon",n.faBuildingCircleArrowRight),e.xp6(5),e.HOy(" ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.address?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.address)+", ":"-"," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.name?"Brgy. "+(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.name)+", ":""," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.municipality.name?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.municipality.name)+", ":""," ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.province.name?(null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.province.name)+", ":""," "),e.xp6(2),e.hij(" ",null!=n.patient_info&&null!=n.patient_info.household_folder&&n.patient_info.household_folder.barangay.region.name?null==n.patient_info||null==n.patient_info.household_folder?null:n.patient_info.household_folder.barangay.region.name:""," "),e.xp6(5),e.hij(" ",null==n.patient_info?null:n.patient_info.mobile_number," "),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions)("consult_id",n.consult_id)("patient_info",n.patient_info),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("accordions",n.accordions),e.xp6(1),e.Q6J("ngIf",n.modals.module),e.xp6(1),e.Q6J("ngIf",n.modals["lab-request"]),e.xp6(1),e.Q6J("ngIf",n.modals.history),e.xp6(1),e.Q6J("ngIf",n.modals["fam-history"]),e.xp6(1),e.Q6J("ngIf",n.modals.lifestyle),e.xp6(1),e.Q6J("ngIf",n.modals.menstrual),e.xp6(1),e.Q6J("ngIf",n.modals.preghist),e.xp6(1),e.Q6J("ngIf",n.modals.vitals),e.xp6(1),e.Q6J("ngIf",n.modals["vitals-list"]),e.xp6(1),e.Q6J("ngIf",n.modals.philhealth),e.xp6(1),e.Q6J("ngIf",n.modals["philhealth-list"]),e.xp6(1),e.Q6J("ngIf",n.modals.vaccine),e.xp6(1),e.Q6J("ngIf",n.modals["vaccine-action"]),e.xp6(1),e.Q6J("ngIf",n.modals["surgical-history"]),e.xp6(1),e.Q6J("ngIf",n.modals["surgical-action"]),e.xp6(1),e.Q6J("ngIf",n.modals.allergies),e.xp6(1),e.Q6J("ngIf",n.modals.medication),e.xp6(1),e.Q6J("ngIf",n.modals.death),e.xp6(1),e.Q6J("ngIf",n.modals.photo),e.xp6(1),e.Q6J("ngIf",n.modals["appointment-modal"]),e.xp6(1),e.Q6J("ngIf",n.modals["referral-modal"]))},dependencies:[c.mk,c.O5,d.lC,v.BN,Yt.h,qi,Ii,ji,Si,Li,Ki,Xi,tn,on,dn,Tn,Bo,Xo,aa,ae,ie,Z,se,ce,ne,K,le,re,te,sa,_a,pa,ba,oe,ya,_e,Ta,Ia,c.uU]}),a})()},8789:(E,P,u)=>{u.d(P,{J:()=>d});var e=u(5879);let d=(()=>{var _;class k{constructor(){}calcuateAge(h,c){let v,w,Y=new Date(h);w=c?new Date(c):Date.now();let O=Math.abs(w-Y.getTime()),j=+(Math.round(parseFloat(O/864e5/365.25+"e2"))+"e-2");if(j<1){let x=Math.floor(O/864e5/30);v=x<1?{age:Math.floor(O/864e5),type:"day"}:{age:x,type:"month"}}else v={age:j,type:"year"};return v}}return(_=k).\u0275fac=function(h){return new(h||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),k})()},2756:(E,P,u)=>{u.d(P,{Y:()=>_});var e=u(6814),d=u(5879);let _=(()=>{var k;class q{dateFormat(c){try{return(0,e.p6)(c,"yyyy-MM-dd","en","Asia/Manila")}catch{return"Date is not valid"}}timeFormatAmPm(c){try{return(0,e.p6)(c,"hh:mma","en","Asia/Manila")}catch{return"Date is not valid"}}timeFormat(c){try{return(0,e.p6)(c,"HH:mm:ss","en","Asia/Manila")}catch{return"Date is not valid"}}}return(k=q).\u0275fac=function(c){return new(c||k)},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),q})()},6603:(E,P,u)=>{u.d(P,{y:()=>d});var e=u(5879);let d=(()=>{var _;class k{getVisitType(h){switch(h){case"ab":return"Animal Bite";case"at":return"Adolescent";case"cc":return"Child Care";case"cn":return"Consultation";case"cv":return"COVID-19";case"dn":return"Dental";case"fp":return"Family Planning";case"lp":return"Leprosy";case"mc":return"Maternal Care";case"mh":return"Mental Health";case"ml":return"Malaria";case"ncd":return"Non Communicable Disease";case"tb":return"TB Dots";case"gbv":return"Gender Based Violence"}}getURL(h){switch(h){case"CBC":return"laboratory/consult-laboratory-cbc";case"CRTN":return"laboratory/consult-laboratory-creatinine";case"CXRAY":return"laboratory/consult-laboratory-chestxray";case"ECG":return"laboratory/consult-laboratory-ecg";case"FBS":return"laboratory/consult-laboratory-fbs";case"RBS":return"laboratory/consult-laboratory-rbs";case"HBA":return"laboratory/consult-laboratory-hba1c";case"PSMR":return"laboratory/consult-laboratory-papsmear";case"PPD":return"laboratory/consult-laboratory-ppd";case"SPTM":return"laboratory/consult-laboratory-sputum";case"FCAL":return"laboratory/consult-laboratory-fecalysis";case"LPFL":return"laboratory/consult-laboratory-lipid-profile";case"URN":return"laboratory/consult-laboratory-urinalysis";case"OGTT":return"laboratory/consult-laboratory-oral-glucose";case"FOBT":return"laboratory/consult-laboratory-fecal-occult";case"GRMS":return"laboratory/consult-laboratory-gram-stain";case"MCRP":return"laboratory/consult-laboratory-microscopy";default:return""}}constructor(){}}return(_=k).\u0275fac=function(h){return new(h||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),k})()},9833:(E,P,u)=>{u.d(P,{i:()=>k});var e=u(6814),d=u(5879),_=u(2756);let k=(()=>{var q;class h{constructor(v){this.dateHelper=v}getLatestToday(v,Y){let w=v[0];return Object.entries(v).reverse().forEach(([O,j],x)=>{let m=j;!w.patient_height&&m.patient_height&&(w.patient_height=m.patient_height),!w.patient_weight&&m.patient_weight&&(w.patient_weight=m.patient_weight),!w.patient_right_vision_acuity&&m.patient_right_vision_acuity&&(w.patient_right_vision_acuity=m.patient_right_vision_acuity),!w.patient_left_vision_acuity&&m.patient_left_vision_acuity&&(w.patient_left_vision_acuity=m.patient_left_vision_acuity);let g,p=this.dateHelper.dateFormat(m.vitals_date);g=(0,e.p6)(Y||new Date,"yyyy-MM-dd","en","Asia/Manila"),p===g&&(m.bp_systolic&&(w.bp_systolic=m.bp_systolic,w.bp_diastolic=m.bp_diastolic),m.patient_spo2&&(w.patient_spo2=m.patient_spo2),m.patient_temp&&(w.patient_temp=m.patient_temp),m.patient_heart_rate&&(w.patient_heart_rate=m.patient_heart_rate),m.patient_respiratory_rate&&(w.patient_respiratory_rate=m.patient_respiratory_rate),m.patient_pulse_rate&&(w.patient_pulse_rate=m.patient_pulse_rate),m.patient_head_circumference&&(w.patient_head_circumference=m.patient_head_circumference),m.patient_muac&&(w.patient_muac=m.patient_muac),m.patient_chest&&(w.patient_chest=m.patient_chest),m.patient_abdomen&&(w.patient_abdomen=m.patient_abdomen),m.patient_waist&&(w.patient_waist=m.patient_waist),m.patient_hip&&(w.patient_hip=m.patient_hip),m.patient_limbs&&(w.patient_limbs=m.patient_limbs),m.patient_skinfold_thickness&&(w.patient_skinfold_thickness=m.patient_skinfold_thickness))}),w}}return(q=h).\u0275fac=function(v){return new(v||q)(d.LFG(_.Y))},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),h})()},6215:(E,P,u)=>{u.d(P,{h:()=>Z});var e=u(6814),d=u(5879),_=u(6223),k=u(5597),q=u(590),h=u(265),c=u(2425);function v(y,A){if(1&y&&(d.TgZ(0,"div",24),d._uU(1),d.qZA()),2&y){const b=d.oxw(2);d.xp6(1),d.hij(" Consult ID: ",b.consult_id," ")}}function Y(y,A){if(1&y&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&y){const b=A.$implicit;d.Q6J("value",b.code),d.xp6(1),d.Oqu(b.desc)}}function w(y,A){1&y&&(d.TgZ(0,"div",26)(1,"div",27),d._uU(2," You are requesting this lab independently. "),d._UZ(3,"br"),d.TgZ(4,"span",28),d._uU(5," If you wish to link this lab request to an open consult please open that specify consult and try to request again. "),d.qZA()()())}function O(y,A){if(1&y&&(d.TgZ(0,"div",32)(1,"span",33),d._uU(2),d.qZA(),d.TgZ(3,"span",34),d._uU(4),d.ALo(5,"date"),d.qZA()()),2&y){const b=A.$implicit;d.xp6(2),d.hij("",b.laboratory.desc," "),d.xp6(2),d.hij("",d.Dn7(5,2,b.request_date,"MM/dd/yyyy","Asia/Manila")," ")}}function j(y,A){if(1&y&&(d.TgZ(0,"div",29)(1,"span",30),d._uU(2,"Pending Laboratories"),d.qZA(),d.YNc(3,O,6,6,"div",31),d.qZA()),2&y){const b=d.oxw(2);d.xp6(3),d.Q6J("ngForOf",b.pending_list)}}const x=function(y){return{hidden:y}};function m(y,A){if(1&y){const b=d.EpF();d.TgZ(0,"div",35)(1,"input",36),d.NdJ("click",function(){const N=d.CHM(b).$implicit,Q=d.oxw(2);return d.KtG(Q.updateList(N.code))})("ngModelChange",function(M){const Q=d.CHM(b).$implicit,L=d.oxw(2);return d.KtG(L.labs[Q.code]=M)}),d.qZA(),d._uU(2),d.qZA()}if(2&y){const b=A.$implicit,T=d.oxw(2);d.Q6J("ngClass",d.VKq(4,x,"PSMR"===b.code&&"M"===T.patient_info.gender||"done"===b.lab_result)),d.xp6(1),d.Q6J("disabled",T.consult_done||!T.request_date)("ngModel",T.labs[b.code]),d.xp6(1),d.hij(" ",b.desc," ")}}function p(y,A){if(1&y){const b=d.EpF();d.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),d._uU(5,"Request Date"),d.qZA(),d.TgZ(6,"input",16),d.NdJ("ngModelChange",function(M){d.CHM(b);const N=d.oxw();return d.KtG(N.request_date=M)}),d.qZA()(),d.YNc(7,v,2,1,"div",17),d.TgZ(8,"div")(9,"div",14)(10,"label",15),d._uU(11,"Recommended by physician?"),d.qZA(),d.TgZ(12,"select",18),d.NdJ("ngModelChange",function(M){d.CHM(b);const N=d.oxw();return d.KtG(N.is_recommended=M)}),d._UZ(13,"option"),d.YNc(14,Y,2,2,"option",19),d.qZA()()(),d.YNc(15,w,6,0,"div",20),d.YNc(16,j,4,1,"div",21),d.TgZ(17,"div",22),d.YNc(18,m,3,6,"div",23),d.qZA()()()()}if(2&y){const b=d.oxw();d.xp6(6),d.Q6J("ngModel",b.request_date)("max",b.max_date),d.xp6(1),d.Q6J("ngIf",b.consult_id),d.xp6(5),d.Q6J("ngModel",b.is_recommended),d.xp6(2),d.Q6J("ngForOf",b.recommended),d.xp6(1),d.Q6J("ngIf",!b.consult_id),d.xp6(1),d.Q6J("ngIf",b.pending_list),d.xp6(2),d.Q6J("ngForOf",b.lab_list)}}function g(y,A){if(1&y&&(d.TgZ(0,"div",37)(1,"span",38),d._UZ(2,"fa-icon",39),d._uU(3,"Loading... "),d.qZA()()),2&y){const b=d.oxw();d.xp6(2),d.Q6J("icon",b.faCircleNotch)}}let Z=(()=>{var y;class A{updateList(T){!0===this.labs[T]?this.count-=1:this.count+=1}loadLabs(){this.http.get("libraries/laboratory-recommendations").subscribe({next:T=>{this.recommended=T.data,this.http.get("libraries/laboratories").subscribe({next:M=>{this.lab_list=M.data,Object.entries(this.lab_list).forEach(([N,Q],L)=>{let K=Q;this.code_list.find(B=>B===K.code)&&(K.lab_result="done")}),this.show_form=!0},error:M=>console.log(M)})},error:T=>console.log(T)})}onSubmit(){this.is_saving=!0,Object.entries(this.labs).forEach(([T,M],N)=>{if(!0===M){let Q={request_date:this.request_date,patient_id:this.patient_info.id,lab_code:T,recommendation_code:this.is_recommended,request_status_code:"RQ"};this.consult_id&&(Q.consult_id=this.consult_id),this.http.post("laboratory/consult-laboratories",Q).subscribe({next:()=>{this.count-1===N&&this.saveDone()},error:L=>this.toastr.error(L,"Request Error")})}else this.count-1===N&&this.saveDone()})}saveDone(){this.showToastr(),this.is_saving=!1,this.closeModal()}showToastr(){this.toastr.success("laboratory requested","Lab Request")}closeModal(){this.toggleModal.emit("lab-request")}getPendingList(){this.pending_list=[],this.code_list=[],Object.entries(this.lab_req_list).forEach(([T,M],N)=>{let Q=M;!Q.lab_result&&"RQ"===Q.request_status_code&&(this.pending_list.push(Q),this.code_list.push(Q.laboratory.code))})}constructor(T,M){this.http=T,this.toastr=M,this.toggleModal=new d.vpe,this.faCircleNotch=q.IJ7,this.max_date=(0,e.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.labs=[],this.is_saving=!1,this.count=0,this.show_form=!1}ngOnChanges(T){this.getPendingList(),this.loadLabs()}}return(y=A).\u0275fac=function(T){return new(T||y)(d.Y36(h.O),d.Y36(c._W))},y.\u0275cmp=d.Xpm({type:y,selectors:[["app-lab-request"]],inputs:{patient_info:"patient_info",consult_id:"consult_id",lab_req_list:"lab_req_list"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[d.TTD,d.jDz],decls:14,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],["class","overflow-y-auto h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 flex justify-center",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-left","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-2","p-5","w-full","px-5"],[1,"col-span-1","grid","grid-cols-2","w-full"],["for","request_date",1,"input-label","text-left","pt-3","pr-5"],["type","date",1,"input","w-44",3,"ngModel","max","ngModelChange"],["class","input-label col-span-1 pl-5 pt-3",4,"ngIf"],["type","date",1,"input","w-44",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-2 flex justify-center w-full mt-3",4,"ngIf"],["class","col-span-2 grid grid-cols-2 pt-5 pl-5",4,"ngIf"],[1,"col-span-2","flex","flex-wrap","pt-5","pl-5"],["class","w-1/2 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-label","col-span-1","pl-5","pt-3"],[3,"value"],[1,"col-span-2","flex","justify-center","w-full","mt-3"],[1,"bg-orange-100","border","border-orange-500","p-3","rounded-md","text-orange-700"],[1,"text-sm","font-normal"],[1,"col-span-2","grid","grid-cols-2","pt-5","pl-5"],[1,"col-span-2"],["class","col-span-1 mb-2 flex justify-between",4,"ngFor","ngForOf"],[1,"col-span-1","mb-2","flex","justify-between"],[1,"w-1/2"],[1,"w-1/2","text-right","mr-5"],[1,"w-1/2","mb-2",3,"ngClass"],["type","checkbox",1,"rounded-md","border","border-gray-400","p-2","disabled:bg-gray-200",3,"disabled","ngModel","click","ngModelChange"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","flex","justify-center"],[1,"mt-28"],["spin","true",1,"text-blue-500","mr-2",3,"icon"]],template:function(T,M){1&T&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),d._uU(5," Laboratory Request "),d.qZA()(),d.YNc(6,p,19,8,"div",5),d.YNc(7,g,4,1,"div",6),d.TgZ(8,"div",7)(9,"button",8),d.NdJ("click",function(){return M.closeModal()}),d._uU(10,"Close"),d.qZA(),d.TgZ(11,"button",9),d.NdJ("click",function(){return M.onSubmit()}),d._uU(12," Request "),d.qZA()()()()(),d._UZ(13,"div",10)),2&T&&(d.xp6(6),d.Q6J("ngIf",M.show_form),d.xp6(1),d.Q6J("ngIf",!M.show_form),d.xp6(4),d.Q6J("disabled",!M.request_date||0===M.count||!M.is_recommended||M.is_saving))},dependencies:[k.uH,k.BN,_.u5,_.YN,_.Kr,_.Fj,_.Wl,_.EJ,_.JJ,_.On,_.UX,e.ez,e.mk,e.sg,e.O5,e.uU]}),A})()},2982:(E,P,u)=>{u.d(P,{Tm:()=>w,i3:()=>v});var e=u(5879),d=u(6814);const _=["video"],k=["canvas"];function q(x,m){if(1&x){const p=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(p);const Z=e.oxw();return e.KtG(Z.rotateVideoInput(!0))}),e.qZA()}}class h{constructor(m,p,g){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=p,this._imageAsDataUrl=m,this._imageData=g}static getDataFromDataUrl(m,p){return m.replace(`data:${p};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=h.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class c{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((m,p)=>{navigator.mediaDevices.enumerateDevices().then(g=>{m(g.filter(Z=>"videoinput"===Z.kind))}).catch(g=>{p(g.message||g)})}):Promise.reject("enumerateDevices() not supported.")}}let v=(()=>{class x{constructor(){this.width=640,this.height=480,this.videoOptions=x.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=x.DEFAULT_IMAGE_TYPE,this.imageQuality=x.DEFAULT_IMAGE_QUALITY,this.imageCapture=new e.vpe,this.initError=new e.vpe,this.imageClick=new e.vpe,this.cameraSwitched=new e.vpe,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(p){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=p.subscribe(()=>{this.takeSnapshot()})}set switchCamera(p){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=p.subscribe(g=>{"string"==typeof g?this.switchToVideoInput(g):this.rotateVideoInput(!1!==g)})}static getMediaConstraintsForDevice(p,g){const Z=g||this.DEFAULT_VIDEO_OPTIONS;return p&&(Z.deviceId={exact:p}),Z}static getDeviceIdFromMediaStreamTrack(p){if(p.getSettings&&p.getSettings()&&p.getSettings().deviceId)return p.getSettings().deviceId;if(p.getConstraints&&p.getConstraints()&&p.getConstraints().deviceId){const g=p.getConstraints().deviceId;return x.getValueFromConstrainDOMString(g)}}static getFacingModeFromMediaStreamTrack(p){if(p){if(p.getSettings&&p.getSettings()&&p.getSettings().facingMode)return p.getSettings().facingMode;if(p.getConstraints&&p.getConstraints()&&p.getConstraints().facingMode){const g=p.getConstraints().facingMode;return x.getValueFromConstrainDOMString(g)}}}static isUserFacing(p){const g=x.getFacingModeFromMediaStreamTrack(p);return!!g&&"user"===g.toLowerCase()}static getValueFromConstrainDOMString(p){if(p){if(p instanceof String)return String(p);if(Array.isArray(p)&&Array(p).length>0)return String(p[0]);if("object"==typeof p){if(p.exact)return String(p.exact);if(p.ideal)return String(p.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(p=>{this.initError.next({message:p}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const p=this.nativeVideoElement,g={width:this.width,height:this.height};p.videoWidth&&(g.width=p.videoWidth,g.height=p.videoHeight);const Z=this.canvas.nativeElement;Z.width=g.width,Z.height=g.height;const y=Z.getContext("2d");y.drawImage(p,0,0);const A=this.imageType?this.imageType:x.DEFAULT_IMAGE_TYPE,T=Z.toDataURL(A,this.imageQuality?this.imageQuality:x.DEFAULT_IMAGE_QUALITY);let M=null;this.captureImageData&&(M=y.getImageData(0,0,Z.width,Z.height)),this.imageCapture.next(new h(T,A,M))}rotateVideoInput(p){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(p?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(p){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(p,this.videoOptions)}videoResize(){}get videoWidth(){const p=this.getVideoAspectRatio();return Math.min(this.width,this.height*p)}get videoHeight(){const p=this.getVideoAspectRatio();return Math.min(this.height,this.width/p)}get videoStyleClasses(){let p="";return this.isMirrorImage()&&(p+="mirrored "),p.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const p=this.nativeVideoElement;return p.videoWidth&&p.videoWidth>0&&p.videoHeight&&p.videoHeight>0?p.videoWidth/p.videoHeight:this.width/this.height}initWebcam(p,g){const Z=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const y=x.getMediaConstraintsForDevice(p,g);navigator.mediaDevices.getUserMedia({video:y}).then(A=>{this.mediaStream=A,Z.srcObject=A,Z.play(),this.activeVideoSettings=A.getVideoTracks()[0].getSettings();const b=x.getDeviceIdFromMediaStreamTrack(A.getVideoTracks()[0]);this.cameraSwitched.next(b),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=b?this.availableVideoInputs.findIndex(T=>T.deviceId===b):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(A=>{this.initError.next({message:A.message,mediaStreamError:A})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let p="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?p=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(p=this.mirrorImage.x.toLowerCase())),p){case"always":return!0;case"never":return!1}}return x.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(p=>p.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((p,g)=>{c.getAvailableVideoInputs().then(Z=>{this.availableVideoInputs=Z,p(Z)}).catch(Z=>{this.availableVideoInputs=[],g(Z)})})}}return x.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},x.DEFAULT_IMAGE_TYPE="image/jpeg",x.DEFAULT_IMAGE_QUALITY=.92,x.\u0275fac=function(p){return new(p||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["webcam"]],viewQuery:function(p,g){if(1&p&&(e.Gf(_,7),e.Gf(k,7)),2&p){let Z;e.iGM(Z=e.CRH())&&(g.video=Z.first),e.iGM(Z=e.CRH())&&(g.canvas=Z.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(p,g){1&p&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return g.imageClick.next()}),e.TgZ(1,"video",1,2),e.NdJ("resize",function(){return g.videoResize()}),e.qZA(),e.YNc(3,q,1,0,"div",3),e._UZ(4,"canvas",4,5),e.qZA()),2&p&&(e.xp6(1),e.Tol(g.videoStyleClasses),e.Q6J("width",g.videoWidth)("height",g.videoHeight),e.xp6(2),e.Q6J("ngIf",g.allowCameraSwitch&&g.availableVideoInputs.length>1&&g.videoInitialized),e.xp6(1),e.Q6J("width",g.width)("height",g.height))},dependencies:[d.O5],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),x})(),w=(()=>{class x{}return x.\u0275fac=function(p){return new(p||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[[d.ez]]}),x})()}}]);