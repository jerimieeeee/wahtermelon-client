"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[733],{5733:(U,_,i)=>{i.r(_),i.d(_,{KonsultaMasterlistModule:()=>k});var d=i(6814),c=i(3602),l=i(590),t=i(5879),m=i(265),p=i(6223),g=i(5597),b=i(2425);function h(a,s){if(1&a&&t._UZ(0,"fa-icon",17),2&a){const n=t.oxw();t.Q6J("icon",n.faSpinner)}}let f=(()=>{var a;class s{closeModal(){this.toggleModal.emit("set_date")}onSubmit(){this.is_loading=!0;let o={pStartDate:(0,d.p6)(this.pStartDate,"MM/dd/yyyy","en","Asia/Manila"),pEndDate:(0,d.p6)(this.pEndDate,"MM/dd/yyyy","en","Asia/Manila")};this.http.get("konsulta/registration-list",{params:o}).subscribe({next:e=>{console.log(e),this.loadList.emit(),this.is_loading=!1,this.closeModal()},error:e=>{this.is_loading=!1,this.toastr.error(e.error.message,"Masterlist",{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0})}})}constructor(o,e){this.http=o,this.toastr=e,this.toggleModal=new t.vpe,this.loadList=new t.vpe,this.is_loading=!1,this.faSpinner=l.LM3}}return(a=s).\u0275fac=function(o){return new(o||a)(t.Y36(m.O),t.Y36(b._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-set-date"]],outputs:{toggleModal:"toggleModal",loadList:"loadList"},decls:23,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-2xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-72","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-1","mt-10"],[1,"relative","w-1/2","text-sm","px-5","py-2","mt-2","mx-auto"],["for","pStartDate"],["name","pStartDate","id","pStartDate","type","date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],["for","pEndDate"],["name","pEndDate","id","pEndDate","type","date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"disabled","click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],["spin","true","class","mr-2",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["spin","true",1,"mr-2",3,"icon"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," EXTRACT REGISTRATION MASTERLIST "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Start Date"),t.qZA(),t.TgZ(11,"input",9),t.NdJ("ngModelChange",function(u){return e.pStartDate=u}),t.qZA()(),t.TgZ(12,"div",7)(13,"label",10),t._uU(14,"End Date"),t.qZA(),t.TgZ(15,"input",11),t.NdJ("ngModelChange",function(u){return e.pEndDate=u}),t.qZA()()()(),t.TgZ(16,"div",12)(17,"button",13),t.NdJ("click",function(){return e.closeModal()}),t._uU(18,"Close"),t.qZA(),t.TgZ(19,"button",14),t.NdJ("click",function(){return e.onSubmit()}),t.YNc(20,h,1,1,"fa-icon",15),t._uU(21),t.qZA()()()()(),t._UZ(22,"div",16)),2&o&&(t.xp6(11),t.Q6J("ngModel",e.pStartDate),t.xp6(4),t.Q6J("ngModel",e.pEndDate),t.xp6(2),t.Q6J("disabled",e.is_loading),t.xp6(2),t.Q6J("disabled",e.is_loading),t.xp6(1),t.Q6J("ngIf",e.is_loading),t.xp6(1),t.hij(" ",e.is_loading?"Loading...":"Get List"," "))},dependencies:[d.O5,p.Fj,p.JJ,p.On,g.BN]}),s})();function y(a,s){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const n=s.$implicit;t.xp6(1),t.Oqu(n.value)}}function x(a,s){if(1&a&&(t.TgZ(0,"div",20)(1,"div",21)(2,"ul",22),t.YNc(3,y,2,1,"li",23),t.ALo(4,"keyvalue"),t.qZA()()()),2&a){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,n.submit_error))}}const M=function(a){return{"bg-gray-50":a}};function Z(a,s){if(1&a&&(t.TgZ(0,"tr",24)(1,"td",25),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"th",26),t._uU(5),t.qZA(),t.TgZ(6,"td",25),t._uU(7),t.ALo(8,"date"),t._UZ(9,"br"),t._uU(10),t.qZA(),t.TgZ(11,"td",25),t._uU(12),t.qZA(),t.TgZ(13,"td",25),t._uU(14),t.qZA(),t.TgZ(15,"td",25),t._uU(16),t.qZA(),t.TgZ(17,"td",25),t._uU(18),t.qZA(),t.TgZ(19,"td",25),t._uU(20),t.ALo(21,"date"),t._UZ(22,"br"),t._uU(23),t.qZA()()),2&a){const n=s.$implicit;t.Q6J("ngClass",t.VKq(29,M,s.odd)),t.xp6(2),t.hij(" ",t.Dn7(3,17,n.assigned_date,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.HOy(" ",n.last_name,", ",n.first_name," ",n.middle_name," ",n.suffix_name," "),t.xp6(2),t.hij(" ",t.Dn7(8,21,n.birthdate,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.hij(" ",n.gender," "),t.xp6(2),t.hij(" ",n.philhealth_id," "),t.xp6(2),t.hij(" ",n.membership_type_id," "),t.xp6(2),t.HOy(" ",n.member_last_name,", ",n.member_first_name," ",n.member_middle_name," ",n.member_suffix_name," "),t.xp6(2),t.hij(" ",n.member_pin," "),t.xp6(2),t.hij(" ",t.Dn7(21,25,n.member_birthdate,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.hij(" ",n.member_gender," ")}}function v(a,s){if(1&a){const n=t.EpF();t.TgZ(0,"div")(1,"div",27)(2,"div",28)(3,"div")(4,"p",29),t._uU(5," Showing "),t.TgZ(6,"span",30),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",30),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",30),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.TgZ(15,"div")(16,"nav",31)(17,"button",32),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.loadList(1))}),t._UZ(18,"fa-icon",33),t.qZA(),t.TgZ(19,"button",34),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.loadList(e.current_page-1))}),t._UZ(20,"fa-icon",33),t._uU(21,"Previous "),t.qZA(),t.TgZ(22,"button",34),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.loadList(e.current_page+1))}),t._uU(23," Next"),t._UZ(24,"fa-icon",35),t.qZA(),t.TgZ(25,"button",36),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.loadList(e.last_page))}),t._UZ(26,"fa-icon",35),t.qZA()()()()()()}if(2&a){const n=t.oxw();t.xp6(7),t.Oqu(n.from),t.xp6(3),t.Oqu(n.to),t.xp6(3),t.Oqu(n.total),t.xp6(4),t.Q6J("disabled",1===n.current_page),t.xp6(1),t.Q6J("icon",n.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===n.current_page),t.xp6(1),t.Q6J("icon",n.faChevronLeft),t.xp6(2),t.Q6J("disabled",n.current_page===n.last_page),t.xp6(2),t.Q6J("icon",n.faChevronRight),t.xp6(1),t.Q6J("disabled",n.current_page===n.last_page),t.xp6(1),t.Q6J("icon",n.faAnglesRight)}}function T(a,s){if(1&a){const n=t.EpF();t.TgZ(0,"app-set-date",37),t.NdJ("toggleModal",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.toggleModal(e))})("loadList",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.loadList(e))}),t.qZA()}}const C=[{path:"",component:(()=>{var a;class s{toggleModal(o){this.modal[o]=!this.modal[o]}showList(o){this.konsulta_list=o.ASSIGNMENT}loadList(o){let e={params:{}};this.search_item&&(e.params.search=this.search_item),this.search_pin&&(e.params["filter[philhealth_id]"]=this.search_pin),this.search_year&&(e.params["filter[effectivity_year]"]=this.search_year),o&&(e.params.page=o),e.params.per_page=this.per_page,this.http.get("konsulta/registration-lists",e).subscribe({next:r=>{this.konsulta_list=r.data,this.current_page=r.meta.current_page,this.last_page=r.meta.last_page,this.from=r.meta.from,this.to=r.meta.to,this.total=r.meta.total},error:r=>{console.log(r)}})}constructor(o){this.http=o,this.faSpinner=l.LM3,this.faChevronLeft=l.A35,this.faChevronRight=l._tD,this.faAnglesLeft=l._Wx,this.faAnglesRight=l.ccb,this.faSearch=l.wn1,this.faRotate=l.go9,this.faCalendarDays=l.WRo,this.faArrowsRotate=l.T80,this.per_page=10,this.konsulta_list=[],this.modal=[]}ngOnInit(){this.loadList()}}return(a=s).\u0275fac=function(o){return new(o||a)(t.Y36(m.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-konsulta-masterlist"]],decls:54,vars:9,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],["type","button",1,"text-blue-500","px-4",3,"click"],[1,"",3,"icon"],[1,"flex"],["type","text","placeholder","search name...",1,"border","border-gray-300","rounded-l-lg","text-sm","w-44",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","search pin...",1,"border","border-gray-300","text-sm","w-44",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","assigned year...",1,"border","border-gray-300","text-sm","w-44",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"px-4","mr-5","bg-blue-500","text-white","rounded-r-lg",3,"click"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"w-1/12","py-3","px-6"],["scope","col",1,"w-3/12","py-3","px-6"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"toggleModal","loadList",4,"ngIf"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],[1,"bg-white","border-t",3,"ngClass"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6","font-medium"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[3,"toggleModal","loadList"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return e.toggleModal("set_date")}),t._UZ(5,"fa-icon",5),t.qZA(),t._uU(6," Konsulta Masterlist "),t.qZA(),t._UZ(7,"div"),t.TgZ(8,"div",6)(9,"input",7),t.NdJ("ngModelChange",function(u){return e.search_item=u})("keyup.enter",function(){return e.loadList()}),t.qZA(),t.TgZ(10,"input",8),t.NdJ("ngModelChange",function(u){return e.search_pin=u})("keyup.enter",function(){return e.loadList()}),t.qZA(),t.TgZ(11,"input",9),t.NdJ("ngModelChange",function(u){return e.search_year=u})("keyup.enter",function(){return e.loadList()}),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return e.loadList()}),t._UZ(13,"fa-icon",5),t.qZA()()(),t.YNc(14,x,5,3,"div",11),t.TgZ(15,"div")(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th",15),t._uU(21,"Assign"),t._UZ(22,"br"),t._uU(23," Date"),t.qZA(),t.TgZ(24,"th",16),t._uU(25,"Assigned "),t._UZ(26,"br"),t._uU(27," Name"),t.qZA(),t.TgZ(28,"th",15),t._uU(29,"Birtdate | "),t._UZ(30,"br"),t._uU(31,"Gender"),t.qZA(),t.TgZ(32,"th",15),t._uU(33,"Pin"),t.qZA(),t.TgZ(34,"th",15),t._uU(35,"Membership "),t._UZ(36,"br"),t._uU(37," Type"),t.qZA(),t.TgZ(38,"th",16),t._uU(39,"Primary "),t._UZ(40,"br"),t._uU(41," Name"),t.qZA(),t.TgZ(42,"th",16),t._uU(43,"Primary "),t._UZ(44,"br"),t._uU(45," Pin"),t.qZA(),t.TgZ(46,"th",16),t._uU(47,"Birtdate | "),t._UZ(48,"br"),t._uU(49,"Gender"),t.qZA()()(),t.TgZ(50,"tbody"),t.YNc(51,Z,24,31,"tr",17),t.qZA()()()()(),t.YNc(52,v,27,11,"div",18),t.qZA(),t.YNc(53,T,1,0,"app-set-date",19)),2&o&&(t.xp6(5),t.Q6J("icon",e.faArrowsRotate),t.xp6(4),t.Q6J("ngModel",e.search_item),t.xp6(1),t.Q6J("ngModel",e.search_pin),t.xp6(1),t.Q6J("ngModel",e.search_year),t.xp6(2),t.Q6J("icon",e.faSearch),t.xp6(1),t.Q6J("ngIf",e.submit_error),t.xp6(37),t.Q6J("ngForOf",e.konsulta_list),t.xp6(1),t.Q6J("ngIf",(null==e.konsulta_list?null:e.konsulta_list.length)>=1),t.xp6(1),t.Q6J("ngIf",e.modal.set_date))},dependencies:[d.mk,d.sg,d.O5,p.Fj,p.JJ,p.On,g.BN,f,d.uU,d.Nd]}),s})()}];let A=(()=>{var a;class s{}return(a=s).\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.Bz.forChild(C),c.Bz]}),s})(),k=(()=>{var a;class s{}return(a=s).\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.ez,A,p.u5,g.uH]}),s})()}}]);