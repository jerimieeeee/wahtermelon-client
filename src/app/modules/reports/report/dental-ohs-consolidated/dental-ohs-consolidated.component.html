<div class="grid grid-cols-1 w-full">
  <div class="flex justify-between w-full text-blue-500 font-semibold text-lg p-3" >
    <span class="text-center"> CONSOLIDATED ORAL HEALTH STATUS, SERVICES AND MEDICAL HISTORY MONTHLY REPORT </span>
 <span>
<!--      &lt;!&ndash; <fa-icon *ngIf="exporting" [icon]="faCircleNotch" animation="spin" class="text-blue-500 text-sm mr-3">Exporting...</fa-icon> &ndash;&gt;-->
<!--      <button [disabled]="pdf_exported" type="button" class="text-2xl mr-5 text-red-600 disabled:text-gray-600" (click)="exportP()">-->
<!--        <fa-icon [icon]="faFilePdf"></fa-icon>-->
<!--      </button>-->
<!--      <button  type="button" class="text-2xl" (click)="exportX()">-->
<!--        <fa-icon [icon]="faFileExcel" class="text-green-700"></fa-icon>-->
<!--      </button>-->
    </span>
  </div>
    <div class="flex flex-col pb-5">
      <div class="sm:-mx-6 lg:-mx-8">
        <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8 overflow-x-auto">
          <table class="dental-consolidated min-w-full border border-gray-400 select-none" id="reportForm">
            <thead class="text-xs px-1.5">
              <tr class="border border-l text-center border-black">
                <th rowspan="3" class="border border-l border-black w-52"></th>
                <th colspan="3">Pregnant Women</th>
                <th rowspan="2" colspan="2">Infant (0-11mos.)</th>
                <th colspan="10">Under Five Children</th>
                <th colspan="12">School Age Children</th>
                <th rowspan="2" colspan="2">Adolescent 10-19 Y/O</th>
                <th rowspan="2" colspan="2">Adult 20-59 Y/O</th>
                <th rowspan="2" colspan="2">Older Persons 60 Y/O and Above</th>
                <th rowspan="2" colspan="2">Total All Ages</th>
                <th rowspan="3">Grand Total</th>
              </tr>
              <tr class="border border-l text-center border-black">
                <!-- <td></td> -->
                <td rowspan="2">10-14 y/o</td>
                <td rowspan="2">15-19 y/o</td>
                <td rowspan="2">20-49 y/o</td>
                <td colspan="2">1</td>
                <td colspan="2">2</td>
                <td colspan="2">3</td>
                <td colspan="2">4</td>
                <td colspan="2">Total</td>
                <td colspan="2">5</td>
                <td colspan="2">6</td>
                <td colspan="2">7</td>
                <td colspan="2">8</td>
                <td colspan="2">9</td>
                <td colspan="2">Total</td>
              </tr>
              <tr class="border border-l text-center border-black">
                <!-- <td></td> -->
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
                <td>M</td> <td>F</td>
              </tr>
              <tr class="px-10 border-black border-b" *ngFor="let attendExam of attendedExamined">
                <td class="px-3 text-right">
                  {{ attendExam.title }}
                </td>
                <td *ngFor="let var_name of indicatorVar"
                    (click)="attended_examined[var_name.title+attendExam.varTrail] > 0 && showNameList(var_name.namelist_var, attendExam.params, var_name.gender, var_name.age)"
                    class="text-center" [ngClass]="{'cursor-pointer text-blue-500 font-semibold': attended_examined[var_name.title+attendExam.varTrail] > 0}">
                  {{ attended_examined[var_name.title+attendExam.varTrail] ?? 0 }}
                </td>
              </tr>

              <ng-container *ngFor="let header of headerList">
                <tr class="border-black border-b " >
                  <td colspan="37" class="px-3 text-left font-bold" [ngClass]="{
                    'bg-gray-300' : header.level === 1,
                    'font-normal bg-gray-200' : header.level === 2,
                  }">
                    {{ header.title }}
                  </td>
                </tr>
                <tr *ngFor="let indicator of this[header.id]">
                  <td class="pl-6 w-28">{{ indicator.title }}</td>
                  <td *ngFor="let var_name of indicatorVar"
                      (click)="this[header.para][var_name.title+indicator.varTrail] > 0 && showNameList(var_name.namelist_var, indicator.params, var_name.gender, var_name.age)"
                      class="text-center w-6 "
                      [ngClass]="{
                        'cursor-pointer text-blue-500 font-semibold': this[header.para][var_name.title+indicator.varTrail] > 0,
                        'bg-gray-400': isBlank(var_name.title, indicator.varTrail)
                      }">
                    {{ isBlank(var_name.title, indicator.varTrail) ? '' : this[header.para][var_name.title+indicator.varTrail] ?? 0 }}
                  </td>
                </tr>
              </ng-container>
            </thead>
          </table>
        </div>
      </div>
    </div>
</div>

<app-show-name-list
  *ngIf="openList"
  (toggleModal)="toggleModal()"
  [name_list_params]="name_list_params"
  [selectedBrgy]="selectedBrgy"
  [selectedCode]="selectedCode"
  [reportForm]="reportForm"
  [url]="url"
  [loc]="'itr'"
>
</app-show-name-list>

