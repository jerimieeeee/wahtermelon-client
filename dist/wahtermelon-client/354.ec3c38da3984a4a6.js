"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[354],{8354:(Q,T,c)=>{c.r(T),c.d(T,{NcdModule:()=>li});var d=c(6895),a=c(2216),b=c(5749),p=c(2687);let v;function y(i,s,t=!1){t&&v?v.unsubscribe():v=i.subscribe(()=>s())}var e=c(4650),g=c(4691),f=c(3746),Z=c(8696),n=c(4006),m=c(3396);const S=[{id:"family_hx_hypertension",desc:"Hypertension"},{id:"family_hx_stroke",desc:"Stroke"},{id:"family_hx_heart_attack",desc:"Heart Attack"},{id:"family_hx_diabetes",desc:"Diabetes"},{id:"family_hx_asthma",desc:"Asthma"},{id:"family_hx_cancer",desc:"Cancer"},{id:"family_hx_kidney_disease",desc:"Kidney Disease"}],O=[{code:"C",desc:"Circumcised"},{code:"U",desc:"Uncircumcised"}],R=[{question_id:"1",question_e:"Have you felt any pain or discomfort, or any pressure or heaviness in your chest?",question_t:"Nakakaramdam ka ba ng pananakit o kabigatan ng iyong dibdib?"},{question_id:"2",question_e:"Do you feel pain in the center or left chest or left arm?",question_t:"Ang pananakit ba ay nararanasan sa gitna o kaliwang bahagi ng dibdib, o sa kaliwang braso?"},{question_id:"3",question_e:"Do you feel chest pain when you're walking uphill or in a hurry?",question_t:"Nararamdaman mo ba ito kapag ikaw ay nagmamadali o naglalakad nang mabilis o paakyat?"},{question_id:"4",question_e:"Do you sit down when you feel the pain while walking?",question_t:"Tumitigil ka ba sa paglalakad kapag sumasakit ang iyong dibdib?"},{question_id:"5",question_e:"Does the pain go away when you stand still or when you place a tablet under your tongue?",question_t:"Nawawala ba ang sakit kapag ikaw ay hindi kumilos o kapag naglagay ka ng gamot sa ilalim ng iyong dila?"},{question_id:"6",question_e:"Does the pain go away in less than 10 minutes?",question_t:"Nawawala ba ang sakit sa loob ng 10 minuto?"},{question_id:"7",question_e:"Have you ever had a severe chest pain which lasted for half an hour or more?",question_t:"Nakakaramdam ka ba ng pananakit ng dibdib na tumatagal ng kalahating oras o higit pa?"}],Y=new n.cw({consult_id:new n.NI(null),patient_id:new n.NI(null),location:new n.NI(null),client_type:new n.NI(null),assessment_date:new n.NI(null),family_hx_hypertension:new n.NI(null),family_hx_stroke:new n.NI(null),family_hx_heart_attack:new n.NI(null),family_hx_diabetes:new n.NI(null),family_hx_asthma:new n.NI(null),family_hx_cancer:new n.NI(null),family_hx_kidney_disease:new n.NI(null),smoking:new n.NI(null),alcohol_intake:new n.NI(null),excessive_alcohol_intake:new n.NI(null),high_fat:new n.NI(null),intake_vegetables:new n.NI(null),intake_fruits:new n.NI(null),physical_activity:new n.NI(null),presence_diabetes:new n.NI(null),diabetes_medications:new n.NI(null),polyphagia:new n.NI(null),polydipsia:new n.NI(null),polyuria:new n.NI(null),obesity:new n.NI(null),central_adiposity:new n.NI(null),bmi:new n.NI(null),waist_line:new n.NI(null),raised_bp:new n.NI(null),avg_systolic:new n.NI(null),avg_diastolic:new n.NI(null),systolic_1st:new n.NI(null),diastolic_1st:new n.NI(null),systolic_2nd:new n.NI(null),diastolic_2nd:new n.NI(null)});var x=c(7185);function M(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function V(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.obesity?"Yes":"No")}}function P(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function K(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.central_adiposity?"Yes (at risk)":"No (not at risk)")}}function E(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function D(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.waist_line+" cm")}}function L(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"No 1st BP reading"),e.qZA())}function j(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.systolic_1st+"/"+t.riskAssessForm.value.diastolic_1st)}}function H(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"No 2nd BP reading"),e.qZA())}function B(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.systolic_2nd+"/"+t.riskAssessForm.value.diastolic_2nd)}}function G(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function $(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.riskAssessForm.value.avg_systolic+"/"+t.riskAssessForm.value.avg_diastolic," ")}}function W(i,s){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function z(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.raised_bp?"Yes":"No")}}function X(i,s){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function ee(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function te(i,s){if(1&i&&(e.TgZ(0,"div",13)(1,"h4",4),e._uU(2,"Client Type: "),e.qZA(),e.TgZ(3,"select",40),e.YNc(4,ee,2,2,"option",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.clients)}}function ie(i,s){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id)("selected","N"===t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ne(i,s){if(1&i&&(e.TgZ(0,"div",42)(1,"h4",4),e._uU(2),e.qZA(),e.TgZ(3,"select",43),e.YNc(4,ie,2,3,"option",44),e.qZA()()),2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(2),e.hij("",t.desc,":"),e.xp6(1),e.Q6J("formControlName",t.id)("name",t.id),e.xp6(1),e.Q6J("ngForOf",o.logical)}}function oe(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function se(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function re(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ae(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function le(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function de(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ue(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ce(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function _e(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function pe(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"h1",4),e._uU(2,"Undertaking medications:"),e.qZA(),e.TgZ(3,"select",46),e.YNc(4,_e,2,2,"option",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.logical)}}function me(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ge(i,s){if(1&i&&(e.TgZ(0,"div",30)(1,"h1",4),e._uU(2,"Polyphagia"),e.qZA(),e.TgZ(3,"select",47),e.YNc(4,me,2,2,"option",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.logical)}}function fe(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function he(i,s){if(1&i&&(e.TgZ(0,"div",30)(1,"h1",4),e._uU(2,"Polydipsia"),e.qZA(),e.TgZ(3,"select",48),e.YNc(4,fe,2,2,"option",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.logical)}}function be(i,s){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ve(i,s){if(1&i&&(e.TgZ(0,"div",30)(1,"h1",4),e._uU(2,"Polyuria"),e.qZA(),e.TgZ(3,"select",49),e.YNc(4,be,2,2,"option",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.logical)}}const Ze=function(i){return{"invalid-input":i}};function xe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e.TgZ(1,"div",11)(2,"div",12)(3,"h4",2),e._uU(4,"NCD High Risk Assessment"),e.qZA()(),e.TgZ(5,"div",13)(6,"h4",4),e._uU(7,"Location:"),e.qZA(),e.TgZ(8,"select",14),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkDiabetes())}),e.YNc(9,X,2,2,"option",15),e.qZA()(),e.YNc(10,te,5,1,"div",16),e.TgZ(11,"div",17)(12,"h4",4),e._uU(13,"Assessment Date:"),e.qZA(),e._UZ(14,"input",18),e.qZA()(),e.TgZ(15,"div",19)(16,"div",20)(17,"h4",2),e._uU(18,"Family History:"),e.qZA()(),e.YNc(19,ne,5,4,"div",21),e.qZA(),e.TgZ(20,"div",19)(21,"div",20)(22,"h4",2),e._uU(23,"Personal / Socio History:"),e.qZA()(),e.TgZ(24,"div",22)(25,"h1",4),e._uU(26,"Smoking:"),e.qZA(),e.TgZ(27,"select",23),e.YNc(28,oe,2,2,"option",24),e.qZA()(),e.TgZ(29,"div",22)(30,"h1",4),e._uU(31,"Alcohol Intake:"),e.qZA(),e.TgZ(32,"select",25),e.YNc(33,se,2,2,"option",24),e.qZA()(),e.TgZ(34,"div",22)(35,"h1",4),e._uU(36,"Excessive Alcohol Intake:"),e.qZA(),e.TgZ(37,"select",26),e.YNc(38,re,2,2,"option",24),e.qZA()(),e.TgZ(39,"div",22)(40,"h1",4),e._uU(41,"High Fat / High Salt Intake:"),e.qZA(),e.TgZ(42,"select",27),e.YNc(43,ae,2,2,"option",24),e.qZA()(),e.TgZ(44,"div",22)(45,"h1",4),e._uU(46,"Dietary Fiber Intake of Fruits:"),e.qZA(),e.TgZ(47,"select",28),e.YNc(48,le,2,2,"option",24),e.qZA()(),e.TgZ(49,"div",22)(50,"h1",4),e._uU(51,"Physical Activity:"),e.qZA(),e.TgZ(52,"select",29),e.YNc(53,de,2,2,"option",24),e.qZA()(),e.TgZ(54,"div",30)(55,"h1",4),e._uU(56,"Dietary Fiber Intake of Vegetables:"),e.qZA(),e.TgZ(57,"select",31),e.YNc(58,ue,2,2,"option",24),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20)(61,"h4",2),e._uU(62,"Presence or Absence of Diabetes:"),e.qZA()(),e.TgZ(63,"div",32)(64,"h1",4),e._uU(65,"Diagnose with Diabetes"),e.qZA(),e.TgZ(66,"select",33),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkDiabetes())}),e.YNc(67,ce,2,2,"option",24),e.qZA()(),e.YNc(68,pe,5,1,"div",34),e.YNc(69,ge,5,1,"div",35),e.YNc(70,he,5,1,"div",35),e.YNc(71,ve,5,1,"div",35),e.qZA(),e.TgZ(72,"div",36)(73,"button",37),e._UZ(74,"fa-icon",38),e._uU(75),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.riskAssessForm),e.xp6(8),e.Q6J("ngClass",e.VKq(20,Ze,t.is_saving&&t.f.location.errors)),e.xp6(1),e.Q6J("ngForOf",t.location),e.xp6(1),e.Q6J("ngIf",2===t.f.location.value),e.xp6(9),e.Q6J("ngForOf",t.family_history),e.xp6(9),e.Q6J("ngForOf",t.smoking),e.xp6(5),e.Q6J("ngForOf",t.alcohol),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(9),e.Q6J("ngForOf",t.logical),e.xp6(1),e.Q6J("ngIf",2===t.f.location.value),e.xp6(1),e.Q6J("ngIf",2===t.f.location.value),e.xp6(1),e.Q6J("ngIf",2===t.f.location.value),e.xp6(1),e.Q6J("ngIf",2===t.f.location.value),e.xp6(3),e.Q6J("icon",t.is_saving?t.faSpinner:t.faSave)("spin",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save"," ")}}let k=(()=>{class i{onSubmit(){if(this.is_saving=!0,this.riskAssessForm.valid){let t;t=this.consult_details&&this.consult_details.assessment_date?this.http.update("non-communicable-disease/risk-assessment/",this.consult_details.id,this.riskAssessForm.value):this.http.post("non-communicable-disease/risk-assessment",this.riskAssessForm.value),t.subscribe({next:o=>{this.is_saving=!1,this.toastr.success("Recorded successfully!","Risk Assessment"),this.loadRisk.emit()},error:o=>console.log(o)})}}setAdiposity(t){let o;o="M"===this.patient_info.gender&&t>=90||"F"===this.patient_info.gender&&t>=80,this.riskAssessForm.patchValue({central_adiposity:o})}checkDiabetes(){2===this.riskAssessForm.value.location?(this.f.diabetes_medications.enable(),this.f.polyphagia.enable(),this.f.polydipsia.enable(),this.f.polyuria.enable(),this.f.client_type.enable()):(this.riskAssessForm.patchValue({diabetes_medications:"X",polyphagia:"X",polydipsia:"X",polyuria:"X"}),this.f.client_type.disable()),console.log(this.f)}getVitalsToday(t,o){t&&o&&(this.riskAssessForm.patchValue({assessment_date:(0,d.p6)(o.consult_date,"yyyy-MM-dd","en","Asia/Manila")}),Object.entries(t).reverse().every(([r,l],_)=>{let u=l;return u.patient_bmi&&this.riskAssessForm.patchValue({bmi:u.patient_bmi}),u.patient_bmi&&this.riskAssessForm.patchValue({obesity:u.patient_bmi>=25}),u.patient_bmi_class&&(this.vitals_today.patient_bmi_class=u.patient_bmi_class),(0,d.p6)(u.vitals_date,"yyyy-MM-dd","en","Asia/Manila")===(0,d.p6)(o.consult_date,"yyyy-MM-dd","en","Asia/Manila")&&(u.bp_systolic&&(this.riskAssessForm.value.systolic_1st?this.riskAssessForm.value.systolic_1st&&!this.riskAssessForm.value.systolic_2nd?(this.riskAssessForm.patchValue({systolic_2nd:u.bp_systolic,diastolic_2nd:u.bp_diastolic}),this.setAverage()):(this.riskAssessForm.patchValue({systolic_1st:this.riskAssessForm.value.systolic_2nd,diastolic_1st:this.riskAssessForm.value.diastolic_2nd}),this.riskAssessForm.patchValue({systolic_2nd:u.bp_systolic,diastolic_2nd:u.bp_diastolic}),this.setAverage()):this.riskAssessForm.patchValue({systolic_1st:u.bp_systolic,diastolic_1st:u.bp_diastolic})),!this.riskAssessForm.value.waist_line&&u.patient_waist&&(this.riskAssessForm.patchValue({waist_line:u.patient_waist}),this.setAdiposity(u.patient_waist))),!(this.riskAssessForm.value.systolic_1st&&this.riskAssessForm.value.diastolic_1st&&this.riskAssessForm.value.systolic_2nd&&this.riskAssessForm.value.diastolic_2nd&&this.vitals_today.patient_waist>0&&Object(t).length-1===_)}),this.checkIfComplete())}checkIfComplete(){this.riskAssessForm.value.bmi&&void 0!==this.riskAssessForm.value.obesity&&this.riskAssessForm.value.avg_systolic&&this.riskAssessForm.value.avg_diastolic&&this.riskAssessForm.value.waist_line&&(this.show_form=!0)}setAverage(){this.riskAssessForm.patchValue({avg_systolic:(this.riskAssessForm.value.systolic_1st+this.riskAssessForm.value.systolic_2nd)/2,avg_diastolic:(this.riskAssessForm.value.diastolic_1st+this.riskAssessForm.value.diastolic_2nd)/2}),this.riskAssessForm.patchValue(this.riskAssessForm.value.avg_systolic>=140&&this.riskAssessForm.value.avg_diastolic>=90?{raised_bp:!0}:{raised_bp:!1})}loadLibraries(){this.http.get("libraries/ncd-locations").subscribe({next:t=>this.location=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-smoking").subscribe({next:t=>this.smoking=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-answers").subscribe({next:t=>this.logical=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-answers-s2").subscribe({next:t=>this.logical2=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-client-types").subscribe({next:t=>this.clients=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-alcohol-intake").subscribe({next:t=>this.alcohol=t.data,error:t=>console.log(t)})}get f(){return this.riskAssessForm.controls}constructor(t,o,r){this.http=t,this.formBuilder=o,this.toastr=r,this.loadRisk=new e.vpe,this.faInforCircle=p.sqG,this.faSave=m.r6l,this.faSpinner=p.LM3,this.family_history=S,this.riskAssessForm=Y,this.is_saving=!1,this.show_form=!1,this.vitals_today={patient_waist:null,patient_bmi_class:null}}ngOnChanges(t){this.patient_info&&this.consult_details&&this.creatFormValidation(),this.consult_details&&this.consult_details.assessment_date?(this.riskAssessForm.patchValue({...this.consult_details}),this.riskAssessForm.patchValue({assessment_date:(0,d.p6)(this.consult_details.assessment_date,"yyyy-MM-dd","en","Asia/Manila")}),this.checkDiabetes(),this.show_form=!0):this.getVitalsToday(this.vitals,this.consult_details)}creatFormValidation(){let t;t=this.consult_details.assessment_date?this.consult_details.consult_id:this.consult_details.id,this.riskAssessForm=this.formBuilder.nonNullable.group({consult_id:[t],patient_id:[this.patient_info.id],location:[null,n.kI.required],client_type:[null,n.kI.required],assessment_date:[this.consult_details.consult_date,n.kI.required],family_hx_hypertension:[null,n.kI.required],family_hx_stroke:[null,n.kI.required],family_hx_heart_attack:[null,n.kI.required],family_hx_diabetes:[null,n.kI.required],family_hx_asthma:[null,n.kI.required],family_hx_cancer:[null,n.kI.required],family_hx_kidney_disease:[null,n.kI.required],smoking:[null,n.kI.required],alcohol_intake:[null,n.kI.required],excessive_alcohol_intake:[null,n.kI.required],high_fat:[null,n.kI.required],intake_vegetables:[null,n.kI.required],intake_fruits:[null,n.kI.required],physical_activity:[null,n.kI.required],presence_diabetes:[null,n.kI.required],diabetes_medications:[null,n.kI.required],waist_line:[null,n.kI.required],polyphagia:[null,n.kI.required],polydipsia:[null,n.kI.required],polyuria:[null,n.kI.required],obesity:[null,n.kI.required],central_adiposity:[null,n.kI.required],bmi:[null,n.kI.required],raised_bp:[null,n.kI.required],avg_systolic:[null,n.kI.required],avg_diastolic:[null,n.kI.required],systolic_1st:[null,n.kI.required],diastolic_1st:[null,n.kI.required],systolic_2nd:[null,n.kI.required],diastolic_2nd:[null,n.kI.required]}),this.checkDiabetes()}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-assessment"]],inputs:{patient_info:"patient_info",consult_details:"consult_details",vitals:"vitals",ncd_details:"ncd_details"},outputs:{loadRisk:"loadRisk"},features:[e.TTD],decls:45,vars:16,consts:[[1,"grid","grid-cols-12","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","justify-between","w-full","bg-yellow-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-1"],[1,"text-sm","col-span-3","w-full","px-5","mt-5","mb-4","relative"],[1,"mb-1"],["class","text-red-500",4,"ngIf"],[4,"ngIf"],[1,"text-sm","col-span-3","w-full","px-5","mb-5","relative"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-red-500"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-2","rounded-tl","rounded-tr"],[1,"text-sm","col-span-4","px-5","mt-4","mb-4"],["formControlName","location","name","location",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"ngClass","change"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-sm col-span-4 px-5 mt-4 mb-4",4,"ngIf"],[1,"text-sm","col-span-4","px-5","mt-4","mb-6"],["formControlName","assessment_date","type","date","name","assessment_date","disabled","",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full","disabled:bg-gray-300"],[1,"grid","grid-cols-12","shadow-md","rounded-xl","mb-8"],[1,"col-span-12","flex","justify-between","w-full","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],["class","text-sm col-span-4 w-full px-5 mt-4 mb-4",4,"ngFor","ngForOf"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-4","relative"],["formControlName","smoking","name","smoking",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[3,"value",4,"ngFor","ngForOf"],["formControlName","alcohol_intake","name","alcohol_intake",1,"text-sm","-select","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","excessive_alcohol_intake","name","excessive_alcohol_intake",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","high_fat","name","high_fat",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","intake_fruits","name","intake_fruits",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","physical_activity","name","physical_activity",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-6","relative"],["formControlName","intake_vegetables","name","intake_vegetables",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[1,"text-sm","col-span-6","w-full","px-5","mt-4","mb-6","relative"],["formControlName","presence_diabetes","name","presence_diabetes",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"change"],["class","text-sm col-span-6 w-full px-5 mt-4 mb-6 relative",4,"ngIf"],["class","text-sm col-span-4 w-full px-5 mt-4 mb-6 relative",4,"ngIf"],[1,"flex","justify-end"],["type","submit","name","add-btn",1,"btn-save","px-10","disabled:bg-gray-300"],[3,"icon","spin"],[3,"ngValue"],["formControlName","client_type",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[3,"value"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-4"],[1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"formControlName","name"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","diabetes_medications","name","diabetes_medications",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polyphagia","name","polyphagia",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polydipsia","name","polydipsia",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polyuria","name","polyuria",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Patient have the following symptoms:"),e.qZA()(),e.TgZ(4,"div",3)(5,"h1",4),e._uU(6,"Obesity:"),e.qZA(),e.YNc(7,M,2,0,"label",5),e.YNc(8,V,2,1,"label",6),e.qZA(),e.TgZ(9,"div",3)(10,"h1",4),e._uU(11,"BMI:"),e.qZA(),e.TgZ(12,"label"),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"h1",4),e._uU(16,"Central Adiposity:"),e.qZA(),e.YNc(17,P,2,0,"label",5),e.YNc(18,K,2,1,"label",6),e.qZA(),e.TgZ(19,"div",3)(20,"h1",4),e._uU(21,"Waist Circumference:"),e.qZA(),e.YNc(22,E,2,0,"label",5),e.YNc(23,D,2,1,"label",6),e.qZA(),e.TgZ(24,"div",7)(25,"h1",4),e._uU(26,"BP 1st Reading:"),e.qZA(),e.YNc(27,L,2,0,"label",5),e.YNc(28,j,2,1,"label",6),e.qZA(),e.TgZ(29,"div",7)(30,"h1",4),e._uU(31,"BP 2nd Reading:"),e.qZA(),e.YNc(32,H,2,0,"label",5),e.YNc(33,B,2,1,"label",6),e.qZA(),e.TgZ(34,"div",7)(35,"h1",4),e._uU(36,"Average Blood Pressure:"),e.qZA(),e.YNc(37,G,2,0,"label",5),e.YNc(38,$,2,1,"label",6),e.qZA(),e.TgZ(39,"div",7)(40,"h1",4),e._uU(41,"Raised Blood Pressure (>=140/90): "),e.qZA(),e.YNc(42,W,2,0,"label",5),e.YNc(43,z,2,1,"label",6),e.qZA()(),e.YNc(44,xe,76,22,"form",8)),2&t&&(e.xp6(7),e.Q6J("ngIf",!o.riskAssessForm.value.bmi),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.bmi),e.xp6(5),e.hij("",o.riskAssessForm.value.bmi," "),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.waist_line),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.waist_line),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.waist_line),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.waist_line),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_1st),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.systolic_1st),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_2nd),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.systolic_2nd),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_2nd),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.avg_systolic),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.avg_systolic),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.avg_systolic),e.xp6(1),e.Q6J("ngIf",o.show_form))},dependencies:[d.mk,d.sg,d.O5,a.BN,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();const Te=function(i){return{"background-color":i}},ye=function(i){return{color:i}};function qe(i,s){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h4",3),e._uU(3,"Risk Stratification Details"),e.qZA()(),e.TgZ(4,"table",4)(5,"tbody")(6,"tr",5)(7,"td",6),e._uU(8,"Risk Level"),e.qZA(),e.TgZ(9,"td",7),e._uU(10),e.qZA()(),e.TgZ(11,"tr",5)(12,"td",6),e._uU(13,"Location of Assessment"),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA()(),e.TgZ(16,"tr",5)(17,"td",6),e._uU(18,"Presence of Diabetes"),e.qZA(),e.TgZ(19,"td",6),e._uU(20),e.qZA()(),e.TgZ(21,"tr",5)(22,"td",6),e._uU(23,"Patient Gender"),e.qZA(),e.TgZ(24,"td",6),e._uU(25),e.qZA()(),e.TgZ(26,"tr",5)(27,"td",6),e._uU(28,"Patient Age"),e.qZA(),e.TgZ(29,"td",6),e._uU(30),e.qZA()(),e.TgZ(31,"tr",5)(32,"td",6),e._uU(33,"Smoking Status"),e.qZA(),e.TgZ(34,"td",6),e._uU(35),e.qZA()(),e.TgZ(36,"tr",9)(37,"td",6),e._uU(38,"Actual Systolic Blood Pressure"),e.qZA(),e.TgZ(39,"td",6),e._uU(40),e.qZA()()()(),e.TgZ(41,"div",10)(42,"h1",11),e._uU(43,"Health Information"),e.qZA(),e.TgZ(44,"ul",12)(45,"li",13),e._uU(46,"All individuals with persistent raised BP \u2265 160/100 mmHg should be given antihypertensive treatment."),e.qZA(),e.TgZ(47,"li",13),e._uU(48,"All patients with established diabetes and cardiovascular disease (coronary heart disease, myocardial infarction, transient ischaemic attacks, cerebrovascular disease or peripheral vascular disease); if stable, should continue the treatment already prescribed and be considered as with risk > 30%."),e.qZA(),e.TgZ(49,"li",13),e._uU(50,"All individuals with total cholesterol at or above 8 mmol/l (320mg/dl) should be given lifestyle advise and statins."),e.qZA()(),e.TgZ(51,"ul",12)(52,"li",13),e._uU(53,"Counsel on diet, physical activity, smoking cessation, (Protocol 3P and 4P)."),e.qZA(),e.TgZ(54,"li",13),e._uU(55,"If risk < 10%, follow up in 12 months."),e.qZA(),e.TgZ(56,"li",13),e._uU(57,"If risk 10 to < 20%, follow up every 3 months until the targets are met, then 6-9 months thereafter."),e.qZA()(),e.TgZ(58,"ul",12)(59,"li",13),e._uU(60,"Counsel on diet, physical activity, smoking cessation, (Protocols 3P and 4P)."),e.qZA(),e.TgZ(61,"li",13),e._uU(62,"Persistent BP \u2265 140/90 mmHg (in DM \u2265 130/80 mmHg) consider a low dose of one of the drugs. Hydrochlorthiazide 25-50 mg daily. Enalapril 5-20 mg daily. Atenolol 50-100 mg daily. Amiodipine 5-10 mg daily"),e.qZA(),e.TgZ(63,"li",13),e._uU(64,"Follow-up every 3-6 months."),e.qZA()(),e.TgZ(65,"ul",14)(66,"li",13),e._uU(67,"Counsel on diet, physical activity, smoking cessation."),e.qZA(),e.TgZ(68,"li",13),e._uU(69,"Persistent BP \u2265 130/80 should be given one of the drugs: thiazide, ACE inhibitor, beta blocker, calcium channel blocker. "),e.qZA(),e.TgZ(70,"li",13),e._uU(71,"Give a statin."),e.qZA(),e.TgZ(72,"li",13),e._uU(73,"Follow-up every three months."),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(9,Te,null==t.risk_strat?null:t.risk_strat.color)),e.xp6(8),e.Q6J("ngStyle",e.VKq(11,ye,null==t.risk_strat?null:t.risk_strat.color)),e.xp6(1),e.Oqu(null==t.risk_strat?null:t.risk_strat.risk_level),e.xp6(5),e.Oqu(null==t.risk_strat?null:t.risk_strat.type),e.xp6(5),e.Oqu(null!=t.risk_strat&&t.risk_strat.diabetes_present?"Y":"N"),e.xp6(5),e.Oqu("M"===(null==t.info?null:t.info.gender)?"Male":"Female"),e.xp6(5),e.Oqu(null==t.info?null:t.info.age),e.xp6(5),e.Oqu(null!=t.risk_strat&&t.risk_strat.smoking_status?"Y":"N"),e.xp6(5),e.Oqu(null==t.risk_strat?null:t.risk_strat.sbp)}}let N=(()=>{class i{loadRiskStrat(){this.http.get("non-communicable-disease/risk-stratification",{params:{patient_id:this.patient_id}}).subscribe({next:o=>{this.show_form=!0,this.info=o.data[0],this.risk_strat=o.risk_stratification},error:o=>console.log(o)})}constructor(t,o){this.http=t,this.toastr=o,this.faInfoCircle=p.sqG,this.show_form=!1}ngOnInit(){this.loadRiskStrat()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-stratification"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},decls:1,vars:1,consts:[["class","grid grid-cols-12 item-start flex-wrap shadow-md rounded-xl mb-4 mt-8",4,"ngIf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8"],[1,"col-span-12","flex","px-5","py-3","rounded-tl","rounded-tr",3,"ngStyle"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"text-sm","col-span-6","col-start-1","table-auto","border-r-2","border-gray-200"],[1,"border-b-2","border-gray-200"],[1,"px-5","py-3"],[1,"px-5","py-3","text-gray","font-bold","text-lg",3,"ngStyle"],[1,"px-5","py-3","capitalize"],[1,""],[1,"text-sm","col-span-6","col-start-7","table-auto","overflow-y-auto","h-96"],[1,"px-5","py-5","font-bold"],[1,"list-disc","px-8"],[1,"py-3"],[1,"list-disc","px-8","mb-4"]],template:function(t,o){1&t&&e.YNc(0,qe,74,13,"div",0),2&t&&e.Q6J("ngIf",o.show_form)},dependencies:[d.O5,d.PC]}),i})();const Ae=new n.cw({consult_ncd_risk_id:new n.NI(null),patient_ncd_id:new n.NI(null),consult_id:new n.NI(null),patient_id:new n.NI(null),question1:new n.NI(null),question2:new n.NI(null),question3:new n.NI(null),question4:new n.NI(null),question5:new n.NI(null),question6:new n.NI(null),question7:new n.NI(null),question8:new n.NI(null),angina_heart_attack:new n.NI(null),stroke_tia:new n.NI(null)});function we(i,s){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ke(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"h1",10),e._uU(3),e.qZA(),e.TgZ(4,"h1",23),e._uU(5),e.qZA()(),e.TgZ(6,"div",13)(7,"select",24),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.getAnginaValue())}),e.YNc(8,we,2,2,"option",15),e.qZA()()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(3),e.AsE("",t.question_id,". ",t.question_e," "),e.xp6(2),e.Oqu(t.question_t),e.xp6(2),e.Q6J("formControlName","question"+t.question_id)("name","question"+t.question_id),e.xp6(1),e.Q6J("ngForOf",o.logical2)}}function Ne(i,s){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function Ce(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSave)}}function Ie(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)}}const C=function(i){return{"bg-red-400":i}},I=function(i){return{"text-red-400":i}};function Ue(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e.TgZ(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Angina or Heart Attack"),e.qZA()(),e.YNc(5,ke,9,6,"div",5),e._UZ(6,"div",6),e.TgZ(7,"p",7)(8,"b"),e._uU(9,"Note:"),e.qZA(),e._uU(10," If the answer is "),e.TgZ(11,"b"),e._uU(12,"YES"),e.qZA(),e._uU(13," to either questions 3, 4, 5, 6, or 7, the patient may have angina or heart attack, and must see a doctor. "),e.qZA()(),e.TgZ(14,"div",8)(15,"div",3)(16,"h4",4),e._uU(17,"Stroke or Transient Ischemic Attack"),e.qZA()(),e.TgZ(18,"div",9)(19,"h1",10),e._uU(20," 8. Have you experienced any of the following: "),e.qZA(),e.TgZ(21,"ul",11)(22,"li"),e._uU(23,"Difficulty in talking."),e.qZA(),e.TgZ(24,"li"),e._uU(25,"Weakness of arm and/or legs on one side of the body or numbness on one side of the body?"),e.qZA()(),e.TgZ(26,"h1",12),e._uU(27," Have you experienced any of the following: "),e.qZA(),e.TgZ(28,"ul",11)(29,"li"),e._uU(30,"Hirap sa pagsasalita."),e.qZA(),e.TgZ(31,"li"),e._uU(32,"Panghihina ng braso at/o ng binti o pamamanhid ng kalahating bahagi ng katawan?"),e.qZA()()(),e.TgZ(33,"div",13)(34,"select",14),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.getStrokeTia())}),e.YNc(35,Ne,2,2,"option",15),e.qZA()(),e._UZ(36,"div",16),e.TgZ(37,"p",7)(38,"b"),e._uU(39,"Note:"),e.qZA(),e._uU(40," If the answer to question 8 is "),e.TgZ(41,"b"),e._uU(42,"YES"),e.qZA(),e._uU(43,", the patient may be having TIA or stroke, and must see a doctor. "),e.qZA()(),e.TgZ(44,"div",17)(45,"button",18),e.YNc(46,Ce,1,1,"fa-icon",19),e.YNc(47,Ie,1,1,"fa-icon",20),e._uU(48," Save "),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.questionnaireForm),e.xp6(2),e.Q6J("ngClass",e.VKq(10,C,"Y"===t.questionnaireForm.value.angina_heart_attack)),e.xp6(3),e.Q6J("ngForOf",t.questionnaire),e.xp6(2),e.Q6J("ngClass",e.VKq(12,I,"Y"===t.questionnaireForm.value.angina_heart_attack)),e.xp6(8),e.Q6J("ngClass",e.VKq(14,C,"Y"===t.questionnaireForm.value.stroke_tia)),e.xp6(20),e.Q6J("ngForOf",t.logical2),e.xp6(2),e.Q6J("ngClass",e.VKq(16,I,"Y"===t.questionnaireForm.value.stroke_tia)),e.xp6(8),e.Q6J("disabled",t.questionnaireForm.invalid||t.is_saving),e.xp6(1),e.Q6J("ngIf",!t.is_saving),e.xp6(1),e.Q6J("ngIf",t.is_saving)}}let U=(()=>{class i{loadLibraries(){this.http.get("libraries/ncd-answers-s2").subscribe({next:t=>{this.logical2=t.data,console.log(t.data)},error:t=>console.log(t)})}getAnginaValue(){this.questionnaireForm.patchValue("Y"===this.questionnaireForm.value.question3||"Y"===this.questionnaireForm.value.question4||"Y"===this.questionnaireForm.value.question5||"Y"===this.questionnaireForm.value.question6||"Y"===this.questionnaireForm.value.question7?{angina_heart_attack:"Y"}:{angina_heart_attack:"N"})}getStrokeTia(){this.questionnaireForm.patchValue("Y"===this.questionnaireForm.value.question8?{stroke_tia:"Y"}:{stroke_tia:"N"})}identify(t,o){return o.id}onSubmit(){this.is_saving=!0,this.questionnaireForm.valid&&this.http.post("non-communicable-disease/risk-questionnaire",this.questionnaireForm.value).subscribe({next:t=>{console.log(t),this.toastr.success("Recorded successfully!","Questionnaire"),this.is_saving=!1},error:t=>console.log(t)})}getRecord(){this.consult_details&&(this.questionnaireForm.patchValue({...this.consult_details.riskQuestionnaire}),this.getAnginaValue(),this.getStrokeTia(),this.show_form=!0)}createForm(){this.consult_details&&this.consult_details.assessment_date&&(this.questionnaireForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[this.consult_details.id],patient_ncd_id:[this.consult_details.patient_ncd_id],consult_id:[this.consult_details.consult_id,n.kI.required],patient_id:[this.consult_details.patient_id,n.kI.required],question1:[null,n.kI.required],question2:[null,n.kI.required],question3:[null,n.kI.required],question4:[null,n.kI.required],question5:[null,n.kI.required],question6:[null,n.kI.required],question7:[null,n.kI.required],question8:[null,n.kI.required],angina_heart_attack:[null,n.kI.required],stroke_tia:[null,n.kI.required]}),this.getRecord())}ngOnChanges(t){this.createForm()}constructor(t,o,r){this.http=t,this.formBuilder=o,this.toastr=r,this.faInfoCircle=p.sqG,this.faSave=m.r6l,this.faSpinner=p.LM3,this.questionnaireForm=Ae,this.is_saving=!1,this.show_form=!1,this.questionnaire=R}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-questionnaire"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-t-xl",3,"ngClass"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],["class","col-span-full grid grid-cols-12",4,"ngFor","ngForOf"],[1,"text-sm","col-start-1","col-span-12","border-b-2","border-gray-200","mt-2","mb-4"],[1,"text-sm","col-start-1","col-span-12","w-full","px-5","mt-2","mb-4",3,"ngClass"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8"],[1,"text-sm","col-start-1","col-span-9","w-full","px-5","mt-4","mb-4"],[1,"mb-1"],[1,"list-disc","px-8"],[1,"mb-1","px-4","mt-2"],[1,"col-start-10","col-span-3","px-5"],["formControlName","question8","name","question8",1,"text-sm","mt-4","bg-white","border-gray-300","border","px-2","p-2.5","rounded-md","w-full",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-start-1","col-span-12","border-b-2","border-gray-200","mt-2","mb-1"],[1,"flex","justify-end"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],[1,"col-span-full","grid","grid-cols-12"],[1,"text-sm","col-start-1","col-span-9","w-full","px-5","mt-4","mb-4","grid","grid-cols-1"],[1,"pl-3","italic"],[1,"text-sm","mt-4","bg-white","border-gray-300","border","px-2","p-2.5","rounded-md","w-full",3,"formControlName","name","change"],[3,"value"],[1,"mr-2",3,"icon"],["spin","true",1,"mr-2",3,"icon"]],template:function(t,o){1&t&&e.YNc(0,Ue,49,18,"form",0),2&t&&e.Q6J("ngIf",o.show_form)},dependencies:[d.mk,d.sg,d.O5,a.BN,n._Y,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function Fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(r){const _=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.patient_diagnosis[_.id]=r)}),e.qZA(),e.TgZ(2,"label",20),e._uU(3),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q2q("id","patient_diagnosis",t.id,""),e.Q6J("ngModel",o.patient_diagnosis[t.id]),e.xp6(1),e.Q2q("for","patient_diagnosis",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Je(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(r){const _=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.patient_target_organ[_.id]=r)}),e.qZA(),e.TgZ(2,"label",20),e._uU(3),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q2q("id","patient_target_organ",t.id,""),e.Q6J("ngModel",o.patient_target_organ[t.id]),e.xp6(1),e.Q2q("for","patient_target_organ",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Qe(i,s){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function Se(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"h1",21),e._uU(2),e.qZA(),e.TgZ(3,"select",22),e.NdJ("ngModelChange",function(r){const _=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.ncd_record[_.code]=r)}),e.YNc(4,Qe,2,2,"option",23),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(2),e.Oqu(t.desc),e.xp6(1),e.Q6J("ngModel",o.ncd_record[t.code]),e.xp6(1),e.Q6J("ngForOf",o.physical_examination_result)}}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(r){const _=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.patient_counseling[_.id]=r)}),e.qZA(),e.TgZ(2,"label",25),e._uU(3),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q2q("id","patient_counseling",t.id,""),e.Q6J("ngModel",o.patient_counseling[t.id]),e.xp6(1),e.Q2q("for","patient_counseling",t.id,""),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Re(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function Ye(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}let F=(()=>{class i{loadLibraries(){Object.entries(this.libraries).forEach(([t,o],r)=>{let l=o;this.http.get("libraries/"+l.url).subscribe({next:_=>{this[l.var_name]=_.data},error:_=>console.log(_)})})}getRecord(){this.consult_details.patientNcdRecord&&(this.ncd_record=this.consult_details.patientNcdRecord,this.consult_details&&Object.keys(this.consult_details.ncdRecordTargetOrgan).length>0&&(this.patient_target_organ=this.loadIndexSelected(this.consult_details.ncdRecordTargetOrgan,"target_organ_code")),this.consult_details&&Object.keys(this.consult_details.ncdRecordDiagnosis).length>0&&(this.patient_diagnosis=this.loadIndexSelected(this.consult_details.ncdRecordDiagnosis,"diagnosis_code")),this.consult_details&&Object.keys(this.consult_details.ncdRecordCounselling).length>0&&(this.patient_counseling=this.loadIndexSelected(this.consult_details.ncdRecordCounselling,"counselling_code")))}loadIndexSelected(t,o){let r=[];return Object.keys(t).length>0&&Object.entries(t).forEach(([l,_],u)=>{r[_[o]]=!0}),r}onSubmit(){this.ncd_record.patient_ncd_id=this.consult_details.patient_ncd_id,this.ncd_record.consult_ncd_risk_id=this.consult_details.id,this.ncd_record.patient_id=this.consult_details.patient_id,this.ncd_record.consultation_date=(0,d.p6)(this.consult_details.assessment_date,"yyyy-MM-dd","en","Asia/Manila"),this.ncd_record.diagnosis_code=this.getIndexVal(this.patient_diagnosis),this.ncd_record.counselling_code=this.getIndexVal(this.patient_counseling),this.ncd_record.target_organ_code=this.getIndexVal(this.patient_target_organ),this.http.post("non-communicable-disease/patient-record",this.ncd_record).subscribe({next:t=>{console.log(t),this.toastr.success("Successfully recorded!","NCD Record")},error:t=>console.log(t)})}getIndexVal(t){let o=[];return t.forEach((r,l)=>{!0===r&&o.push(l)}),o}constructor(t,o){this.http=t,this.toastr=o,this.faSave=m.r6l,this.faInfoCircle=p.sqG,this.faSpinner=p.LM3,this.is_saving=!1,this.patient_counseling=[],this.patient_target_organ=[],this.patient_diagnosis=[],this.ncd_record={current_medications:null,palpitation_heart:null,peripheral_pulses:null,abdomen:null,heart:null,lungs:null,sensation_feet:null,other_findings:null,other_infos:null},this.logical=[{code:"Y",desc:"Yes"},{code:"N",desc:"No"},{code:"U",desc:"Unknown"},{code:"X",desc:"Not Applicable"}],this.physical_examination=[{code:"palpitation_heart",desc:"Palpitation of heart"},{code:"peripheral_pulses",desc:"Palpation of peripheral pulses"},{code:"abdomen",desc:"Palpation of abdomen"},{code:"heart",desc:"Auscultation of heart"},{code:"lungs",desc:"Auscultation of lungs"},{code:"sensation_feet",desc:"If DM, sensation of feet and foot pulses"}],this.libraries=[{var_name:"counselling",url:"ncd-record-counselling"},{var_name:"diagnosis",url:"ncd-record-diagnosis"},{var_name:"target_organ",url:"ncd-record-target-organ"},{var_name:"physical_examination_result",url:"ncd-physical-exam"}]}ngOnInit(){this.loadLibraries()}ngOnChanges(t){this.getRecord()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-record"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:53,vars:10,consts:[[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-t-xl"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"col-span-12"],[1,"text-sm","col-span-12","px-5","mt-4"],[1,"font-bold","text-md","mt-2","mb-2","text-lg","text-blue-500"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5"],[1,"mb-1","font-semibold"],["name","text","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full",3,"ngModel","ngModelChange"],[1,"text-sm","col-span-12","px-5"],[1,"col-span-12","grid","grid-cols-12","gap-4","ml-10","mb-6"],["class","text-sm col-span-6 ",4,"ngFor","ngForOf"],[1,"col-span-12","grid","grid-cols-12","gap-4","ml-10","mb-6","mr-5"],["class","text-sm col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","flex","justify-end","mr-5","mb-5"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","spin","true",3,"icon",4,"ngIf"],[1,"text-sm","col-span-6"],["type","checkbox",1,"h-4","w-4","border-gray-400","text-blue-500","rounded-md","mr-3",3,"ngModel","ngModelChange"],[1,"ml-1","align-middle"],[1,"mb-1"],["name","family_hx_hypertension",1,"text-sm","form-select","bg-white","border-gray-200","border","p-2.5","rounded-md","w-full",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ml-1","align-middle",3,"value"],[1,"mr-3",3,"icon"],["spin","true",1,"mr-3",3,"icon"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Patient NCD Consulting Record"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h4",5),e._uU(7,"Current Medications"),e.qZA()(),e.TgZ(8,"div",6)(9,"h4",7),e._uU(10,"List current medications"),e.qZA(),e.TgZ(11,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.current_medications=l}),e.qZA()()(),e.TgZ(12,"div",3)(13,"div",9)(14,"h4",5),e._uU(15,"Diagnosis & Associated Clinical Conditions"),e.qZA()(),e.TgZ(16,"div",10),e.YNc(17,Fe,4,4,"div",11),e.qZA()(),e.TgZ(18,"div",3)(19,"div",9)(20,"h4",5),e._uU(21,"Target Organ Damage"),e.qZA()(),e.TgZ(22,"div",10),e.YNc(23,Je,4,4,"div",11),e.qZA()(),e.TgZ(24,"div",3)(25,"div",9)(26,"h4",5),e._uU(27,"Physical Examination"),e.qZA()(),e.TgZ(28,"div",12),e.YNc(29,Se,5,3,"div",13),e.qZA(),e.TgZ(30,"div",6)(31,"h4",7),e._uU(32,"Other significant findings/ Laboratory results"),e.qZA(),e.TgZ(33,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.other_findings=l}),e.qZA()()(),e.TgZ(34,"div",3)(35,"div",9)(36,"h4",5),e._uU(37,"Provided Counselling On"),e.qZA()(),e.TgZ(38,"div",10),e.YNc(39,Oe,4,5,"div",11),e.qZA()(),e.TgZ(40,"div",3)(41,"div",4)(42,"h4",5),e._uU(43,"Others"),e.qZA()(),e.TgZ(44,"div",6)(45,"h4",7),e._uU(46,"Other information"),e.qZA(),e.TgZ(47,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.other_infos=l}),e.qZA()()(),e.TgZ(48,"div",14)(49,"button",15),e.NdJ("click",function(){return o.onSubmit()}),e.YNc(50,Re,1,1,"fa-icon",16),e.YNc(51,Ye,1,1,"fa-icon",17),e._uU(52," Save "),e.qZA()()()),2&t&&(e.xp6(11),e.Q6J("ngModel",o.ncd_record.current_medications),e.xp6(6),e.Q6J("ngForOf",o.diagnosis),e.xp6(6),e.Q6J("ngForOf",o.target_organ),e.xp6(6),e.Q6J("ngForOf",o.physical_examination),e.xp6(4),e.Q6J("ngModel",o.ncd_record.other_findings),e.xp6(6),e.Q6J("ngForOf",o.counselling),e.xp6(8),e.Q6J("ngModel",o.ncd_record.other_infos),e.xp6(2),e.Q6J("disabled",o.is_saving),e.xp6(1),e.Q6J("ngIf",!o.is_saving),e.xp6(1),e.Q6J("ngIf",o.is_saving))},dependencies:[d.sg,d.O5,a.BN,n.YN,n.Kr,n.Fj,n.Wl,n.EJ,n.JJ,n.On]}),i})();const Me=[{code:"Y",desc:"Yes"},{code:"N",desc:"No"}],Ve=[{code:"a",desc:"Positive"},{code:"b",desc:"Negative"},{code:"c",desc:"Suspect Cancer"}],Pe=new n.cw({ncd_id:new n.NI(null),patient_id:new n.NI(null),facility_code:new n.NI(null),abdomen_code:new n.NI(null),abdomen_remarks:new n.NI(null),abdominal_surgery:new n.NI(null),abdominal_surgery_remarks:new n.NI(null),abortion:new n.NI(null),allergies:new n.NI(null),allergies_remarks:new n.NI(null),any_spouse:new n.NI(null),any_spouse_remarks:new n.NI(null),breast_code:new n.NI(null),breast_remarks:new n.NI(null),cancer:new n.NI(null),cancer_remarks:new n.NI(null),chest_code:new n.NI(null),chest_remarks:new n.NI(null),children:new n.NI(null),cigarettes:new n.NI(null),client:new n.NI(null),client_remarks:new n.NI(null),counseling:new n.NI(null),current_medication:new n.NI(null),duration:new n.NI(null),first_intercourse:new n.NI(null),first_preg:new n.NI(null),full_term:new n.NI(null),gravidity:new n.NI(null),heart_code:new n.NI(null),heart_remarks:new n.NI(null),heent_code:new n.NI(null),heent_remarks:new n.NI(null),livebirths:new n.NI(null),medication_remarks:new n.NI(null),months:new n.NI(null),pap_smear:new n.NI(null),pap_smear_findings:new n.NI(null),parity:new n.NI(null),pelvic_code:new n.NI(null),pelvic_remarks:new n.NI(null),preterm:new n.NI(null),previous_screening:new n.NI(null),recto_vaginal:new n.NI(null),sexual_partners:new n.NI(null),skin_code:new n.NI(null),skin_remarks:new n.NI(null),smoking:new n.NI(null),smoking_remarks:new n.NI(null),spouse:new n.NI(null),treatment:new n.NI(null),vaginal_bleeding:new n.NI(null),vaginal_discharge:new n.NI(null),via_findings:new n.NI(null),via_result:new n.NI(null),years:new n.NI(null),glands:new n.NI(null),glands_remarks:new n.NI(null),speculum:new n.NI(null),speculum_remarks:new n.NI(null),motion_tenderness:new n.NI(null),tenderness:new n.NI(null),size:new n.NI(null),shape:new n.NI(null),uterus:new n.NI(null),menarche:new n.NI(null),lmp:new n.NI(null),aog:new n.NI(null),bleeding_pattern:new n.NI(null),pads:new n.NI(null),referral:new n.NI(null)});function Ke(i,s){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),e._uU(5,"Number of children"),e.qZA(),e._UZ(6,"input",17),e.qZA()()()())}function Ee(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function De(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Le(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function je(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function He(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Be(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.code)}}function Ge(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function $e(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function We(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ze(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Xe(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function et(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function tt(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function it(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",18)(2,"h4",19),e._uU(3,"A. OB-GYNE History"),e.qZA()(),e.TgZ(4,"div",13)(5,"h4",20),e._uU(6,"Menstrual history"),e.qZA(),e.TgZ(7,"div",21)(8,"div",22)(9,"h4",16),e._uU(10,"Menarche"),e.qZA(),e._UZ(11,"input",23),e.qZA(),e.TgZ(12,"div",22)(13,"h4",16),e._uU(14,"Last menstrual period (LMP)"),e.qZA(),e._UZ(15,"input",24),e.qZA(),e.TgZ(16,"div",22)(17,"h4",16),e._uU(18,"AOG"),e.qZA(),e._UZ(19,"input",25),e.qZA(),e.TgZ(20,"div",22)(21,"h4",16),e._uU(22,"Menstrual bleeding pattern"),e.qZA(),e.TgZ(23,"select",26)(24,"option",27),e._uU(25,"Regular"),e.qZA(),e.TgZ(26,"option",28),e._uU(27,"Irregular"),e.qZA()()(),e.TgZ(28,"div",22)(29,"h4",16),e._uU(30,"Number of pads/day"),e.qZA(),e._UZ(31,"input",29),e.qZA()()(),e.TgZ(32,"div",30)(33,"h4",20),e._uU(34,"Menstrual history"),e.qZA(),e.TgZ(35,"div",21)(36,"div",15)(37,"h4",16),e._uU(38,"Gravidity"),e.qZA(),e._UZ(39,"input",31),e.qZA(),e.TgZ(40,"div",15)(41,"h4",16),e._uU(42,"Parity"),e.qZA(),e._UZ(43,"input",32),e.qZA(),e.TgZ(44,"div",33)(45,"h4",16),e._uU(46,"Full-term"),e.qZA(),e._UZ(47,"input",34),e.qZA(),e.TgZ(48,"div",33)(49,"h4",16),e._uU(50,"Preterm"),e.qZA(),e._UZ(51,"input",35),e.qZA(),e.TgZ(52,"div",33)(53,"h4",16),e._uU(54,"Abortion"),e.qZA(),e._UZ(55,"input",36),e.qZA(),e.TgZ(56,"div",33)(57,"h4",16),e._uU(58,"Livebirths"),e.qZA(),e._UZ(59,"input",37),e.qZA(),e.TgZ(60,"div",15)(61,"h4",16),e._uU(62,"Age at first full term pregnancy (high risk if below 17 years old)"),e.qZA(),e._UZ(63,"input",38),e.qZA()()(),e.TgZ(64,"div",30)(65,"h4",20),e._uU(66,"Oral Contraceptives Use (Duration)"),e.qZA(),e.TgZ(67,"div",21)(68,"div",15)(69,"h4",16),e._uU(70,"Number of years"),e.qZA(),e._UZ(71,"input",39),e.qZA(),e.TgZ(72,"div",15)(73,"h4",16),e._uU(74,"Number of months"),e.qZA(),e._UZ(75,"input",40),e.qZA()()(),e.TgZ(76,"div",30)(77,"h4",20),e._uU(78,"History of previous cervical cancer screening"),e.qZA(),e.TgZ(79,"div",21)(80,"div",22)(81,"h4",16),e._uU(82,"History of previous screening"),e.qZA(),e.TgZ(83,"select",41),e.YNc(84,Ee,2,2,"option",42),e.qZA()(),e.TgZ(85,"div",22)(86,"h4",16),e._uU(87,"VIA (Result)"),e.qZA(),e.TgZ(88,"select",43),e.YNc(89,De,2,2,"option",42),e.qZA()(),e.TgZ(90,"div",22)(91,"h4",16),e._uU(92,"Pap smear (Result)"),e.qZA(),e.TgZ(93,"select",44),e.YNc(94,Le,2,2,"option",42),e.qZA()()()(),e.TgZ(95,"div",30)(96,"h4",20),e._uU(97,"History of abnormal vaginal discharge / bleeding"),e.qZA(),e.TgZ(98,"div",21)(99,"div",15)(100,"h4",16),e._uU(101,"Discharge"),e.qZA(),e.TgZ(102,"select",45),e.YNc(103,je,2,2,"option",42),e.qZA()(),e.TgZ(104,"div",15)(105,"h4",16),e._uU(106,"Bleeding"),e.qZA(),e.TgZ(107,"select",46),e.YNc(108,He,2,2,"option",42),e.qZA()()()(),e.TgZ(109,"div",18)(110,"h4",19),e._uU(111,"B. Sexual History"),e.qZA()(),e.TgZ(112,"div",13)(113,"h4",20),e._uU(114,"History"),e.qZA(),e.TgZ(115,"div",21)(116,"div",22)(117,"h4",16),e._uU(118,"Age at first intercourse"),e.qZA(),e._UZ(119,"input",47),e.qZA(),e.TgZ(120,"div",22)(121,"h4",16),e._uU(122,"Number of sexual partner/s"),e.qZA(),e._UZ(123,"input",48),e.qZA(),e.TgZ(124,"div",22)(125,"h4",16),e._uU(126,"Spouse/Partner/s"),e.qZA(),e.TgZ(127,"select",49),e.YNc(128,Be,2,2,"option",42),e.qZA()()()(),e.TgZ(129,"div",13)(130,"h4",20),e._uU(131,"STI History"),e.qZA(),e.TgZ(132,"div",21)(133,"div",22)(134,"h4",16),e._uU(135,"Client"),e.qZA(),e.TgZ(136,"select",50),e.YNc(137,Ge,2,2,"option",42),e.qZA()(),e.TgZ(138,"div",51)(139,"h4",16),e._uU(140,"Specify"),e.qZA(),e._UZ(141,"input",52),e.qZA(),e.TgZ(142,"div",22)(143,"h4",16),e._uU(144,"Any of spouse/partner/s"),e.qZA(),e.TgZ(145,"select",53),e.YNc(146,$e,2,2,"option",42),e.qZA()(),e.TgZ(147,"div",51)(148,"h4",16),e._uU(149,"Specify"),e.qZA(),e._UZ(150,"input",54),e.qZA()()(),e.TgZ(151,"div",18)(152,"h4",19),e._uU(153,"C. Family and Social History"),e.qZA()(),e.TgZ(154,"div",13)(155,"div",21)(156,"div",22)(157,"h4",16),e._uU(158,"Family history of cancer"),e.qZA(),e.TgZ(159,"select",55),e.YNc(160,We,2,2,"option",42),e.qZA()(),e.TgZ(161,"div",51)(162,"h4",16),e._uU(163,"Specify"),e.qZA(),e._UZ(164,"input",56),e.qZA(),e.TgZ(165,"div",22)(166,"h4",16),e._uU(167,"Smoking"),e.qZA(),e.TgZ(168,"select",57),e.YNc(169,ze,2,2,"option",42),e.qZA()(),e.TgZ(170,"div",22)(171,"h4",16),e._uU(172,"Year started"),e.qZA(),e._UZ(173,"input",17),e.qZA(),e.TgZ(174,"div",22)(175,"h4",16),e._uU(176,"Number of cigarettes sticks/day"),e.qZA(),e._UZ(177,"input",17),e.qZA()()(),e.TgZ(178,"div",18)(179,"h4",19),e._uU(180,"D. Medical History"),e.qZA()(),e.TgZ(181,"div",13)(182,"div",21)(183,"div",22)(184,"h4",16),e._uU(185,"Current medication"),e.qZA(),e.TgZ(186,"select",58),e.YNc(187,Xe,2,2,"option",42),e.qZA()(),e.TgZ(188,"div",51)(189,"h4",16),e._uU(190,"Specify"),e.qZA(),e._UZ(191,"input",59),e.qZA(),e.TgZ(192,"div",22)(193,"h4",16),e._uU(194,"Allergies"),e.qZA(),e.TgZ(195,"select",60),e.YNc(196,et,2,2,"option",42),e.qZA()(),e.TgZ(197,"div",51)(198,"h4",16),e._uU(199,"Specify"),e.qZA(),e._UZ(200,"input",61),e.qZA(),e.TgZ(201,"div",22)(202,"h4",16),e._uU(203,"Abdominal surgery"),e.qZA(),e.TgZ(204,"select",62),e.YNc(205,tt,2,2,"option",42),e.qZA()(),e.TgZ(206,"div",51)(207,"h4",16),e._uU(208,"Specify"),e.qZA(),e._UZ(209,"input",63),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(84),e.Q6J("ngForOf",t.answer_yna),e.xp6(5),e.Q6J("ngForOf",t.answer_screening),e.xp6(5),e.Q6J("ngForOf",t.answer_screening),e.xp6(9),e.Q6J("ngForOf",t.answer_yna),e.xp6(5),e.Q6J("ngForOf",t.answer_yna),e.xp6(20),e.Q6J("ngForOf",t.circumcision),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(14),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(18),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn)}}function nt(i,s){1&i&&e._UZ(0,"div",12)}function ot(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function st(i,s){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function rt(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",15)(4,"h4",16),e._uU(5,"VIA findings"),e.qZA(),e.TgZ(6,"select",66),e.YNc(7,ot,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",15)(9,"h4",16),e._uU(10,"Pap smear findings"),e.qZA(),e.TgZ(11,"select",67),e.YNc(12,st,2,2,"option",42),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.answer_screening),e.xp6(5),e.Q6J("ngForOf",t.answer_screening)}}function at(i,s){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Counseling"),e.qZA(),e.TgZ(6,"textarea",69),e._uU(7,"\n            "),e.qZA()()()()())}function lt(i,s){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Treatment and other care given"),e.qZA(),e.TgZ(6,"textarea",70),e._uU(7,"\n            "),e.qZA()()()()())}function dt(i,s){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Referral"),e.qZA(),e.TgZ(6,"textarea",71),e._uU(7,"\n            "),e.qZA()()()()())}function ut(i,s){if(1&i&&e._UZ(0,"fa-icon",72),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function ct(i,s){if(1&i&&e._UZ(0,"fa-icon",73),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}const h=function(i){return{"rounded-b-xl":i}};let J=(()=>{class i{loadLibraries(){}onSubmit(){this.is_saving=!0}toggleModal(t){this.modals[t]=void 0!==this.modals[t]&&!this.modals[t]}constructor(t){this.http=t,this.faSpinner=p.LM3,this.faInfoCircle=p.sqG,this.faTimes=p.NBC,this.faSave=p.r6l,this.faChevronCircleDown=p.yh$,this.faChevronCircleUp=p._qI,this.modals=[],this.casdtForm=Pe,this.is_saving=!1,this.size=[{code:"small",desc:"Small"},{code:"normal",desc:"Normal"},{code:"large",desc:"Large"}],this.shape=[{code:"pear",desc:"Pear Shaped"},{code:"horn",desc:"Horn Shaped"},{code:"heart",desc:"Heart Shaped"},{code:"double",desc:"Double"},{code:"tshaped",desc:"T-Shaped"},{code:"tipped",desc:"Tipped"}],this.position=[{code:"mid",desc:"Mid"},{code:"anteflexed",desc:"Anteflexed"},{code:"retroflexed",desc:"Retroflexed"},{code:"retroverted",desc:"Retroverted"},{code:"anteverted",desc:"Anteverted"}],this.circumcision=O,this.answer_yn=Me,this.answer_screening=Ve}ngOnInit(){console.log(this.casdtForm)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-casdt"]],decls:55,vars:40,consts:[[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-4"],[1,"col-span-12","flex","justify-between","bg-blue-500","p-3","rounded-t-xl",3,"ngClass"],[1,"font-bold","text-white"],["type","button",1,"text-white",3,"click"],["size","lg",3,"icon"],["class","col-span-12",4,"ngIf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4"],[1,"flex","justify-end","w-full"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","spin","true",3,"icon",4,"ngIf"],[1,"col-span-12"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5"],[1,"col-span-12","grid","grid-cols-12","gap-4","mt-4"],[1,"text-sm","col-span-6"],[1,"mb-1","font-semibold"],["name","children","formControlName","children","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12","px-5","mt-4"],[1,"font-bold","text-md","mt-2","mb-2","text-lg","text-blue-500"],[1,"mb-1","text-md","uppercase","font-bold"],[1,"col-span-12","grid","grid-cols-12","gap-4"],[1,"text-sm","col-span-4"],["name","menarche","formControlName","menarche",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","lmp","formControlName","lmp","type","date",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","aog","formControlName","aog","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","bleeding_pattern","formControlName","bleeding_pattern",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["value","R"],["value","I"],["name","pads","formControlName","pads","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5","mt-12"],["name","gravidity","formControlName","gravidity","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","parity","formControlName","parity","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-3"],["name","full_term","formControlName","full_term","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","preterm","formControlName","preterm","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abortion","formControlName","abortion","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","livebirths","formControlName","livebirths","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","first_preg","formControlName","first_preg","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","years","formControlName","years","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","months","formControlName","months","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","previous_screening","formControlName","previous_screening",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[3,"value",4,"ngFor","ngForOf"],["name","via_result","formControlName","via_result",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","pap_smear","formControlName","pap_smear",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","vaginal_discharge","formControlName","vaginal_discharge",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","vaginal_bleeding","formControlName","vaginal_bleeding",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","first_intercourse","formControlName","first_intercourse","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","sexual_partners","formControlName","sexual_partners","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","spouse","formControlName","spouse",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","client","formControlName","client",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-8"],["name","client_remarks","formControlName","client_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","any_spouse","formControlName","any_spouse",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","any_spouse_remarks","formControlName","any_spouse_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","cancer","formControlName","cancer",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","cancer_remarks","formControlName","cancer_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","smoking","formControlName","smoking",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","current_medication","formControlName","current_medication",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","medication_remarks","formControlName","medication_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","allergies","formControlName","allergies",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","allergies_remarks","formControlName","allergies_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abdominal_surgery","formControlName","abdominal_surgery",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abdominal_surgery_remarks","formControlName","abdominal_surgery_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[3,"value"],[1,"col-span-12","grid","grid-cols-12","gap-4","mt-5"],["name","via_findings","formControlName","via_findings",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","pap_smear_findings","formControlName","pap_smear_findings",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12"],["name","counseling","formControlName","counseling","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","treatment","formControlName","treatment","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","referral","formControlName","referral","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"mr-3",3,"icon"],["spin","true",1,"mr-3",3,"icon"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"I. Personal Information"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.toggleModal("I")}),e._UZ(6,"fa-icon",5),e.qZA()(),e.YNc(7,Ke,7,0,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",2)(10,"h4",3),e._uU(11,"II. History Taking"),e.qZA(),e.TgZ(12,"button",4),e.NdJ("click",function(){return o.toggleModal("II")}),e._UZ(13,"fa-icon",5),e.qZA()(),e.YNc(14,it,210,13,"div",6),e.qZA(),e.TgZ(15,"div",7)(16,"div",2)(17,"h4",3),e._uU(18,"III. Physical Examination"),e.qZA(),e.TgZ(19,"button",4),e.NdJ("click",function(){return o.toggleModal("III")}),e._UZ(20,"fa-icon",5),e.qZA()(),e.YNc(21,nt,1,0,"div",6),e.qZA(),e.TgZ(22,"div",7)(23,"div",2)(24,"h4",3),e._uU(25,"IV. Screening Results"),e.qZA(),e.TgZ(26,"button",4),e.NdJ("click",function(){return o.toggleModal("IV")}),e._UZ(27,"fa-icon",5),e.qZA()(),e.YNc(28,rt,13,2,"div",6),e.qZA(),e.TgZ(29,"div",7)(30,"div",2)(31,"h4",3),e._uU(32,"V. Counseling Given"),e.qZA(),e.TgZ(33,"button",4),e.NdJ("click",function(){return o.toggleModal("V")}),e._UZ(34,"fa-icon",5),e.qZA()(),e.YNc(35,at,8,0,"div",6),e.qZA(),e.TgZ(36,"div",7)(37,"div",2)(38,"h4",3),e._uU(39,"VI. Treatment and Other Care Given"),e.qZA(),e.TgZ(40,"button",4),e.NdJ("click",function(){return o.toggleModal("VI")}),e._UZ(41,"fa-icon",5),e.qZA()(),e.YNc(42,lt,8,0,"div",6),e.qZA(),e.TgZ(43,"div",7)(44,"div",2)(45,"h4",3),e._uU(46,"VII. Referral"),e.qZA(),e.TgZ(47,"button",4),e.NdJ("click",function(){return o.toggleModal("VII")}),e._UZ(48,"fa-icon",5),e.qZA()(),e.YNc(49,dt,8,0,"div",6),e.qZA(),e.TgZ(50,"div",8)(51,"button",9),e.YNc(52,ut,1,1,"fa-icon",10),e.YNc(53,ct,1,1,"fa-icon",11),e._uU(54),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.casdtForm),e.xp6(2),e.Q6J("ngClass",e.VKq(26,h,void 0!==o.modals.I&&!o.modals.I)),e.xp6(4),e.Q6J("icon",void 0===o.modals.I||o.modals.I?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.I||o.modals.I),e.xp6(2),e.Q6J("ngClass",e.VKq(28,h,void 0!==o.modals.II&&!o.modals.II)),e.xp6(4),e.Q6J("icon",void 0===o.modals.II||o.modals.II?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.II||o.modals.II),e.xp6(2),e.Q6J("ngClass",e.VKq(30,h,void 0!==o.modals.III&&!o.modals.III)),e.xp6(4),e.Q6J("icon",void 0===o.modals.III||o.modals.III?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.III||o.modals.III),e.xp6(2),e.Q6J("ngClass",e.VKq(32,h,void 0!==o.modals.IV&&!o.modals.IV)),e.xp6(4),e.Q6J("icon",void 0===o.modals.IV||o.modals.IV?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.IV||o.modals.IV),e.xp6(2),e.Q6J("ngClass",e.VKq(34,h,void 0!==o.modals.V&&!o.modals.V)),e.xp6(4),e.Q6J("icon",void 0===o.modals.V||o.modals.V?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.V||o.modals.V),e.xp6(2),e.Q6J("ngClass",e.VKq(36,h,void 0!==o.modals.VI&&!o.modals.VI)),e.xp6(4),e.Q6J("icon",void 0===o.modals.VI||o.modals.VI?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.VI||o.modals.VI),e.xp6(2),e.Q6J("ngClass",e.VKq(38,h,void 0!==o.modals.VII&&!o.modals.VII)),e.xp6(4),e.Q6J("icon",void 0===o.modals.VII||o.modals.VII?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.VII||o.modals.VII),e.xp6(2),e.Q6J("disabled",o.is_saving),e.xp6(1),e.Q6J("ngIf",!o.is_saving),e.xp6(1),e.Q6J("ngIf",o.is_saving),e.xp6(1),e.hij(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[d.mk,d.sg,d.O5,a.BN,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();const _t=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),fbs:new n.NI(""),rbs:new n.NI(""),raised_blood_glucose:new n.NI("")}),pt=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),total_cholesterol:new n.NI(""),raised_blood_lipid:new n.NI("")}),mt=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),ketone:new n.NI(""),presence_of_urine_ketone:new n.NI("")}),gt=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),protein:new n.NI(""),presence_of_urine_protein:new n.NI("")});function ft(i,s){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"FBS >= 126 mg/dl"),e.qZA(),e.TgZ(3,"li"),e._uU(4,"RBS >= 200 mg/dl"),e.qZA()())}function ht(i,s){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"FBS < 126 mg/dl"),e.qZA(),e.TgZ(3,"li"),e._uU(4,"RBS < 200 mg/dl"),e.qZA()())}const A=function(i){return{"bg-red-200 border border-red-300":i}};function bt(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e.TgZ(3,"ul",23),e.YNc(4,ft,5,0,"div",24),e.YNc(5,ht,5,0,"div",24),e.qZA(),e._UZ(6,"input",25),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,A,!0===t.glucoseForm.value.raised_blood_glucose)),e.xp6(2),e.Oqu(!0===t.glucoseForm.value.raised_blood_glucose?"Raised blood glucose":"Normal blood glucose"),e.xp6(2),e.Q6J("ngIf",!0===t.glucoseForm.value.raised_blood_glucose),e.xp6(1),e.Q6J("ngIf",!1===t.glucoseForm.value.raised_blood_glucose)}}function vt(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Zt(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function xt(i,s){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"Cholesterol >= 200mg/100ml"),e.qZA()())}function Tt(i,s){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"Cholesterol < 200mg/100ml"),e.qZA()())}function yt(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e.TgZ(3,"ul",23),e.YNc(4,xt,3,0,"div",24),e.YNc(5,Tt,3,0,"div",24),e.qZA(),e._UZ(6,"input",28),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,A,!0===t.bloodLipidForm.value.raised_blood_lipid)),e.xp6(2),e.Oqu(!0===t.bloodLipidForm.value.raised_blood_lipid?"Raised blood lipids":"Normal blood lipids"),e.xp6(2),e.Q6J("ngIf",!0===t.bloodLipidForm.value.raised_blood_lipid),e.xp6(1),e.Q6J("ngIf",!1===t.bloodLipidForm.value.raised_blood_lipid)}}function qt(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function At(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function wt(i,s){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function kt(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e._UZ(3,"input",30),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,A,!0===t.urineKetonesForm.value.presence_of_urine_ketone)),e.xp6(2),e.Oqu(!0===t.urineKetonesForm.value.presence_of_urine_ketone?"Traces or amount of urine ketone was found":"No traces or amount of urine ketone was found")}}function Nt(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Ct(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function It(i,s){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ut(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e._UZ(3,"input",31),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,A,!0===t.urineProteinForm.value.presence_of_urine_protein)),e.xp6(2),e.Oqu(!0===t.urineProteinForm.value.presence_of_urine_protein?"Traces or amount of urine protein was found":"No traces or amount of urine protein was found")}}function Ft(i,s){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Jt(i,s){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}let Qt=(()=>{class i{loadLibraries(){this.http.get("libraries/ncd-risk-screening-urine-ketones").subscribe({next:t=>this.ketones_list=t.data,error:t=>console.log(t)}),this.http.get("libraries/ncd-risk-screening-urine-protein").subscribe({next:t=>this.protein_list=t.data,error:t=>console.log(t)})}loadScreenings(){this.consult_details&&(this.consult_details.riskScreeningGlucose&&(this.consult_details.riskScreeningGlucose.date_taken=(0,d.p6)(this.consult_details.riskScreeningGlucose.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.glucoseForm.patchValue({...this.consult_details.riskScreeningGlucose}),this.glucoseForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningGlucose.id)),this.raisedGlucose()),this.consult_details.riskScreeningLipid&&(this.consult_details.riskScreeningLipid.date_taken=(0,d.p6)(this.consult_details.riskScreeningLipid.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.bloodLipidForm.patchValue({...this.consult_details.riskScreeningLipid}),this.bloodLipidForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningLipid.id)),this.raisedLipids()),this.consult_details.riskScreeningKetones&&(this.consult_details.riskScreeningKetones.date_taken=(0,d.p6)(this.consult_details.riskScreeningKetones.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.urineKetonesForm.patchValue({...this.consult_details.riskScreeningKetones}),this.urineKetonesForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningKetones.id)),this.urineKetone()),this.consult_details.riskScreeningProtein&&(this.consult_details.riskScreeningProtein.date_taken=(0,d.p6)(this.consult_details.riskScreeningProtein.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.urineProteinForm.patchValue({...this.consult_details.riskScreeningProtein}),this.urineProteinForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningProtein.id)),this.urineProtein()))}raisedGlucose(){(this.glucoseForm.value.fbs>0||this.glucoseForm.value.rbs>0)&&this.glucoseForm.patchValue(this.glucoseForm.value.fbs>=126||this.glucoseForm.value.rbs>=200?{raised_blood_glucose:!0}:{raised_blood_glucose:!1})}raisedLipids(){this.bloodLipidForm.value.total_cholesterol>0&&this.bloodLipidForm.patchValue(this.bloodLipidForm.value.total_cholesterol>=5.1?{raised_blood_lipid:!0}:{raised_blood_lipid:!1})}urineKetone(){console.log(this.urineKetonesForm.value.ketone),this.urineKetonesForm.value.ketone&&this.urineKetonesForm.patchValue("1"!==this.urineKetonesForm.value.ketone?{presence_of_urine_ketone:!0}:{presence_of_urine_ketone:!1})}urineProtein(){this.urineProteinForm.value.protein&&this.urineProteinForm.patchValue("1"!=this.urineProteinForm.value.protein?{presence_of_urine_protein:!0}:{presence_of_urine_protein:!1})}onSubmit(t,o){if(this.is_saving[t]=!0,this[t+"Form"].valid){let r=this.getURL(t);this.http.post(r,this[t+"Form"].value).subscribe({next:l=>{this.is_saving[t]=!1,this.toastr.success("Recorded successfully!","Risk screening")},error:l=>console.log(l)})}}getURL(t){switch(t){case"glucose":return this.urls[0].url;case"bloodLipid":return this.urls[1].url;case"urineKetones":return this.urls[2].url;case"urineProtein":return this.urls[3].url}}constructor(t,o,r){this.http=t,this.formBuilder=o,this.toastr=r,this.faInfoCircle=p.sqG,this.faSave=m.r6l,this.faSpinner=p.LM3,this.is_saving={glucose:!1,bloodLipid:!1,urineKetones:!1,urineProtein:!1},this.glucoseForm=_t,this.bloodLipidForm=pt,this.urineKetonesForm=mt,this.urineProteinForm=gt,this.urls=[{group:"glucoseForm",url:"non-communicable-disease/risk-screening-blood-glucose"},{group:"bloodLipidForm",url:"non-communicable-disease/risk-screening-blood-lipid"},{group:"urineKetonesForm",url:"non-communicable-disease/risk-screening-urine-ketones"},{group:"urineProteinForm",url:"non-communicable-disease/risk-screening-urine-protein"}]}createForm(){let t=this.consult_details.id,o=this.consult_details.patient_ncd_id;this.glucoseForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[t,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],fbs:[null],rbs:[null],raised_blood_glucose:[null,n.kI.required]}),this.bloodLipidForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[t,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],total_cholesterol:[null,n.kI.required],raised_blood_lipid:[null,n.kI.required]}),this.urineKetonesForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[t,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],ketone:[null,n.kI.required],presence_of_urine_ketone:[null,n.kI.required]}),this.urineProteinForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[t,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],protein:[null,n.kI.required],presence_of_urine_protein:[null,n.kI.required]})}ngOnInit(){this.loadLibraries()}ngOnChanges(t){this.consult_details&&this.consult_details.assessment_date&&(this.createForm(),this.loadScreenings())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-screening"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:82,vars:26,consts:[[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8","overflow-y-auto"],[1,"col-span-12","row-start-1","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"col-span-12","grid","grid-cols-12","gap-x-5","px-5",3,"formGroup","ngSubmit"],[1,"text-sm","col-span-4","mt-4","mb-4"],[1,"mb-2"],["name","date_taken","formControlName","date_taken","type","date","placeholder","mm/dd/yyyy",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["name","fbs","formControlName","fbs","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["name","rbs","formControlName","rbs","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["class","text-sm col-span-12 mb-6 p-3 rounded-lg",3,"ngClass",4,"ngIf"],[1,"col-span-12","flex","justify-end","border-t","border-slate-200","pt-5"],["type","submit",1,"btn-save","px-10","mr-5","mb-5","disabled:bg-gray-400",3,"disabled"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"relative","text-sm","col-span-6","mt-4","mb-4"],[1,"text-sm","col-span-6","mt-4","mb-4"],["name","total_cholesterol","formControlName","total_cholesterol","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["name","ketone","formControlName","ketone",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8","overflow-y-auto"],["name","protein","formControlName","protein",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"change"],[1,"text-sm","col-span-12","mb-6","p-3","rounded-lg",3,"ngClass"],[1,"list-disc","pl-10"],[4,"ngIf"],["hidden","","name","raised_blood_glucose","formControlName","raised_blood_glucose","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"],["hidden","","name","raised_blood_lipid","formControlName","raised_blood_lipid","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],[3,"value"],["hidden","","name","presence_of_urine_ketone","formControlName","presence_of_urine_ketone","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],["hidden","","name","presence_of_urine_protein","formControlName","presence_of_urine_protein","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Blood Glucose Test"),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("glucose",o.glucoseForm.value)}),e.TgZ(5,"div",4)(6,"h4",5),e._uU(7,"Date Taken"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"h4",5),e._uU(11,"If atleast 8 hours, record FBS (mg/dl)"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("input",function(){return o.raisedGlucose()}),e.qZA()(),e.TgZ(13,"div",4)(14,"h4",5),e._uU(15,"Record RBS (mg/dl)"),e.qZA(),e.TgZ(16,"input",8),e.NdJ("input",function(){return o.raisedGlucose()}),e.qZA()(),e.YNc(17,bt,7,6,"div",9),e.TgZ(18,"div",10)(19,"button",11),e.YNc(20,vt,1,1,"fa-icon",12),e.YNc(21,Zt,1,1,"fa-icon",13),e._uU(22),e.qZA()()()(),e.TgZ(23,"div",0)(24,"div",14)(25,"h4",2),e._uU(26,"Blood Lipid Test"),e.qZA()(),e.TgZ(27,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("bloodLipid",o.bloodLipidForm.value)}),e.TgZ(28,"div",15)(29,"h4",5),e._uU(30,"Date Taken"),e.qZA(),e._UZ(31,"input",6),e.qZA(),e.TgZ(32,"div",16)(33,"h4",5),e._uU(34,"Total Cholesterol (mmol/l)"),e.qZA(),e.TgZ(35,"input",17),e.NdJ("input",function(){return o.raisedLipids()}),e.qZA()(),e.YNc(36,yt,7,6,"div",9),e.TgZ(37,"div",10)(38,"button",11),e.YNc(39,qt,1,1,"fa-icon",12),e.YNc(40,At,1,1,"fa-icon",13),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",0)(43,"div",14)(44,"h4",2),e._uU(45,"Urine Test for Ketones"),e.qZA()(),e.TgZ(46,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("urineKetones",o.urineKetonesForm.value)}),e.TgZ(47,"div",15)(48,"h4",5),e._uU(49,"Date Taken"),e.qZA(),e._UZ(50,"input",6),e.qZA(),e.TgZ(51,"div",16)(52,"h4",5),e._uU(53,"Urine Ketone"),e.qZA(),e.TgZ(54,"select",18),e.NdJ("change",function(){return o.urineKetone()}),e.YNc(55,wt,2,2,"option",19),e.qZA()(),e.YNc(56,kt,4,4,"div",9),e.TgZ(57,"div",10)(58,"button",11),e.YNc(59,Nt,1,1,"fa-icon",12),e.YNc(60,Ct,1,1,"fa-icon",13),e._uU(61),e.qZA()()()(),e.TgZ(62,"div",20)(63,"div",14)(64,"h4",2),e._uU(65,"Urine Test for Protein"),e.qZA()(),e.TgZ(66,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("urineProtein",o.urineProteinForm.value)}),e.TgZ(67,"div",15)(68,"h4",5),e._uU(69,"Date Taken"),e.qZA(),e._UZ(70,"input",6),e.qZA(),e.TgZ(71,"div",16)(72,"h4",5),e._uU(73,"Urine Protein"),e.qZA(),e.TgZ(74,"select",21),e.NdJ("change",function(){return o.urineProtein()}),e.YNc(75,It,2,2,"option",19),e.qZA()(),e.YNc(76,Ut,4,4,"div",9),e.TgZ(77,"div",10)(78,"button",11),e.YNc(79,Ft,1,1,"fa-icon",12),e.YNc(80,Jt,1,1,"fa-icon",13),e._uU(81),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.glucoseForm),e.xp6(13),e.Q6J("ngIf",o.glucoseForm.value.raised_blood_glucose),e.xp6(2),e.Q6J("disabled",o.glucoseForm.invalid||!o.glucoseForm.value.rbs&&!o.glucoseForm.value.fbs||o.is_saving.glucose),e.xp6(1),e.Q6J("ngIf",o.is_saving.glucose),e.xp6(1),e.Q6J("ngIf",!o.is_saving.glucose),e.xp6(1),e.hij(" ",o.is_saving.glucose?"Saving":o.glucoseForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.bloodLipidForm),e.xp6(9),e.Q6J("ngIf",o.bloodLipidForm.value.raised_blood_lipid),e.xp6(2),e.Q6J("disabled",o.bloodLipidForm.invalid||o.is_saving.bloodLipid),e.xp6(1),e.Q6J("ngIf",o.is_saving.bloodLipid),e.xp6(1),e.Q6J("ngIf",!o.is_saving.bloodLipid),e.xp6(1),e.hij(" ",o.is_saving.bloodLipid?"Saving":o.bloodLipidForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.urineKetonesForm),e.xp6(9),e.Q6J("ngForOf",o.ketones_list),e.xp6(1),e.Q6J("ngIf",o.urineKetonesForm.value.presence_of_urine_ketone),e.xp6(2),e.Q6J("disabled",o.urineKetonesForm.invalid||o.is_saving.urineKetones),e.xp6(1),e.Q6J("ngIf",o.is_saving.urineKetones),e.xp6(1),e.Q6J("ngIf",!o.is_saving.urineKetones),e.xp6(1),e.hij(" ",o.is_saving.urineKetones?"Saving":o.urineKetonesForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.urineProteinForm),e.xp6(9),e.Q6J("ngForOf",o.protein_list),e.xp6(1),e.Q6J("ngIf",o.urineProteinForm.value.presence_of_urine_protein),e.xp6(2),e.Q6J("disabled",o.urineProteinForm.invalid||o.is_saving.urineProtein),e.xp6(1),e.Q6J("ngIf",o.is_saving.urineProtein),e.xp6(1),e.Q6J("ngIf",!o.is_saving.urineProtein),e.xp6(1),e.hij(" ",o.is_saving.urineProtein?"Saving":o.urineProteinForm.value.id?"Update":"Save"," "))},dependencies:[d.mk,d.sg,d.O5,a.BN,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function St(i,s){if(1&i&&(e.TgZ(0,"div",27),e._UZ(1,"input",28),e.TgZ(2,"span",29),e._uU(3),e.qZA()()),2&i){const t=s.$implicit;e.xp6(3),e.hij(" ",t.desc,"")}}function Ot(i,s){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.desc," ")}}function Rt(i,s){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("selected","None"==t.desc),e.xp6(1),e.hij(" ",t.desc," ")}}function Yt(i,s){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("selected","None"==t.desc),e.xp6(1),e.hij(" ",t.desc," ")}}function Mt(i,s){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("selected","None"==t.desc),e.xp6(1),e.hij(" ",t.desc," ")}}function Vt(i,s){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("selected","None"==t.desc),e.xp6(1),e.hij(" ",t.desc," ")}}function Pt(i,s){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.desc," ")}}let Kt=(()=>{class i{constructor(){this.faInfoCircle=p.sqG,this.eye=[{code:"blurred",desc:"Blurred (Malabo, maulap o mausok)"},{code:"floaters",desc:"Floaters (May lumulutang)"},{code:"tearing",desc:"Tearing (Pagluluha)"},{code:"pain",desc:"Pain (Mahapdi, masakit o mabigat sa pakiramdam)"},{code:"redness",desc:"Redness (Namumula)"},{code:"glare",desc:"Glare (Nasisilaw)"},{code:"discharge",desc:"Discharge (May muta)"},{code:"photopsia",desc:"Photopsia (May kumikislap)"},{code:"itchiness",desc:"Itchiness (Makati)"}],this.opthal=[{code:"a",desc:"Eye Injury"},{code:"b",desc:"Foreign Body"}],this.vision_eye=[{code:"right",desc:"Right Eye"},{code:"left",desc:"Left Eye"},{code:"both",desc:"Both Eye"},{code:"none",desc:"None"}],this.refer=[{code:"improve",desc:"If VA is 20/40 to 20/100 but IMPROVES WITH PINHOLE: Refer to OPTOMETRIST"},{code:"not",desc:"If VA is 20/40 to 20/100 but DOES NOT IMPROVE WITH PINHOLE: Refer to OPHTHALMOLOGIST"},{code:"worse",desc:"If VA is 20/200 or worse: Refer to OPHTHALMOLOGIST"}]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-casdt2"]],decls:60,vars:9,consts:[[1,"grid","grid-cols-12","flex","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8","overflow-y-auto"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,""],[1,"peer","text-white","hover:text-white","z-50","px-2",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-60","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"col-start-1","col-span-12","px-5","mt-4","mb-6"],[1,"font-bold"],["class","text-sm col-span-4 w-full px-5 mb-6",4,"ngFor","ngForOf"],[1,"text-sm","col-start-1","col-span-12","w-full","px-5","mt-2","mb-6"],[1,"mb-2","font-semibold"],["name","family_hx_hypertension",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],["ng-value","vision.desc",4,"ngFor","ngForOf"],[1,"col-start-1","col-span-12","row-start-1","border-b-2","border-gray-300","mt-2","mb-2"],[1,"grid","grid-cols-12","flex","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","row-start-1","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"col-start-1","col-span-12","row-start-2","px-5","mt-4","mb-4"],[1,"text-sm","col-start-1","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],[1,"mb-2"],["ng-value","vision.desc",3,"selected",4,"ngFor","ngForOf"],[1,"text-sm","col-start-4","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],[1,"text-sm","col-start-7","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],[1,"text-sm","col-start-10","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],[1,"text-sm","col-start-1","col-span-12","w-full","row-start-4","px-5","mt-2","mb-6"],["ng-value","refers.desc",3,"selected",4,"ngFor","ngForOf"],[1,"text-sm","col-span-4","w-full","px-5","mb-6"],["type","checkbox",1,"form-checkbox","h-4","w-4","border-gray-400","text-blue-500","rounded-full"],[1,"ml-1","align-middle"],["ng-value","vision.desc"],["ng-value","vision.desc",3,"selected"],["ng-value","refers.desc",3,"selected"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Eye Assessment"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"fa-icon",4),e.TgZ(6,"div",5)(7,"h1",6),e._uU(8,"IMPORTANT"),e.qZA(),e.TgZ(9,"p",7),e._uU(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(11,"div",8)(12,"h4",9),e._uU(13,"A. Eye Complaints (Check all applicable)"),e.qZA()(),e.YNc(14,St,4,1,"div",10),e.TgZ(15,"div",11)(16,"h1",12),e._uU(17,"Refer immediately to opthalmologist"),e.qZA(),e.TgZ(18,"select",13),e.YNc(19,Ot,2,1,"option",14),e.qZA()()(),e._UZ(20,"div",15),e.TgZ(21,"div",16)(22,"div",17)(23,"h4",2),e._uU(24,"Vision Assessment"),e.qZA(),e.TgZ(25,"div",3),e._UZ(26,"fa-icon",4),e.TgZ(27,"div",5)(28,"h1",6),e._uU(29,"IMPORTANT"),e.qZA(),e.TgZ(30,"p",7),e._uU(31,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(32,"div",18)(33,"h4",9),e._uU(34,"B. Vision Screening"),e.qZA()(),e.TgZ(35,"div",19)(36,"h1",20),e._uU(37,"Unaided"),e.qZA(),e.TgZ(38,"select",13),e.YNc(39,Rt,2,2,"option",21),e.qZA()(),e.TgZ(40,"div",22)(41,"h1",20),e._uU(42,"Pinhole"),e.qZA(),e.TgZ(43,"select",13),e.YNc(44,Yt,2,2,"option",21),e.qZA()(),e.TgZ(45,"div",23)(46,"h1",20),e._uU(47,"Improved"),e.qZA(),e.TgZ(48,"select",13),e.YNc(49,Mt,2,2,"option",21),e.qZA()(),e.TgZ(50,"div",24)(51,"h1",20),e._uU(52,"Aided"),e.qZA(),e.TgZ(53,"select",13),e.YNc(54,Vt,2,2,"option",21),e.qZA()(),e.TgZ(55,"div",25)(56,"h1",20),e._uU(57,"Refer to eyecare professional"),e.qZA(),e.TgZ(58,"select",13),e.YNc(59,Pt,2,1,"option",26),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("icon",o.faInfoCircle),e.xp6(9),e.Q6J("ngForOf",o.eye),e.xp6(5),e.Q6J("ngForOf",o.opthal),e.xp6(7),e.Q6J("icon",o.faInfoCircle),e.xp6(13),e.Q6J("ngForOf",o.vision_eye),e.xp6(5),e.Q6J("ngForOf",o.vision_eye),e.xp6(5),e.Q6J("ngForOf",o.vision_eye),e.xp6(5),e.Q6J("ngForOf",o.vision_eye),e.xp6(5),e.Q6J("ngForOf",o.refer))},dependencies:[d.sg,a.BN,n.YN,n.Kr]}),i})();function Et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleModal())}),e._UZ(1,"fa-icon",8),e._uU(2," End Visit "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faDoorClosed)}}function Dt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchTab(2))}),e._uU(1," RISK SCREENING "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(2===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Lt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchTab(3))}),e._uU(1," QUESTIONNAIRE "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(3===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function jt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchTab(4))}),e._uU(1," RISK STRATIFICATION "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(4===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.switchTab(5))}),e._uU(1," PATIENT RECORD "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(5===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Bt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"app-risk-assessment",16),e.NdJ("loadRisk",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.loadRisk())}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_info",t.patient_info)("consult_details",t.consult_details)("vitals",t.vitals)}}function Gt(i,s){if(1&i&&e._UZ(0,"app-risk-screening",17),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function $t(i,s){if(1&i&&e._UZ(0,"app-questionnaire",18),2&i){const t=e.oxw(2);e.Q6J("consult_details",t.consult_details)}}function Wt(i,s){if(1&i&&e._UZ(0,"app-risk-stratification",17),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function zt(i,s){if(1&i&&e._UZ(0,"app-patient-record",17),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function Xt(i,s){if(1&i&&e._UZ(0,"app-casdt",17),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function ei(i,s){if(1&i&&e._UZ(0,"app-casdt2",17),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function ti(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"div",9),e.TgZ(2,"nav",10)(3,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.switchTab(1))}),e._uU(4," RISK ASSESSMENT "),e.qZA(),e.YNc(5,Dt,2,2,"button",11),e.YNc(6,Lt,2,2,"button",11),e.YNc(7,jt,2,2,"button",11),e.YNc(8,Ht,2,2,"button",11),e.qZA(),e.TgZ(9,"div",12),e.YNc(10,Bt,1,3,"app-risk-assessment",13),e.YNc(11,Gt,1,2,"app-risk-screening",14),e.YNc(12,$t,1,1,"app-questionnaire",15),e.YNc(13,Wt,1,2,"app-risk-stratification",14),e.YNc(14,zt,1,2,"app-patient-record",14),e.YNc(15,Xt,1,2,"app-casdt",14),e.YNc(16,ei,1,2,"app-casdt2",14),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Tol(1===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(2),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(2),e.Q6J("ngIf",1===t.module),e.xp6(1),e.Q6J("ngIf",2===t.module),e.xp6(1),e.Q6J("ngIf",3===t.module),e.xp6(1),e.Q6J("ngIf",4===t.module),e.xp6(1),e.Q6J("ngIf",5===t.module),e.xp6(1),e.Q6J("ngIf",6===t.module),e.xp6(1),e.Q6J("ngIf",7===t.module)}}function ii(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",26)(1,"td",27),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e._UZ(5,"td",28),e.TgZ(6,"td",28),e._uU(7),e.qZA(),e.TgZ(8,"td",28)(9,"button",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.openNCD(l))}),e._uU(10),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij(" ",t.assessment_date?e.Dn7(3,3,t.assessment_date,"MM/dd/yyyy","Asia/Manila"):e.Dn7(4,7,t.consult_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(5),e.hij(" ",t.location?1===t.location?"Community":"Facility":"-"," "),e.xp6(3),e.hij(" ",t.consult_done?"View":"Open"," ")}}function ni(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,ii,11,11,"tr",25),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ncd_list)("ngForTrackBy",t.identify)}}function oi(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",19)(2,"div",20),e._uU(3," NCD Visits "),e.qZA(),e.TgZ(4,"div",21)(5,"table",22)(6,"thead",23)(7,"tr")(8,"th",24),e._uU(9,"Assessment Date"),e.qZA(),e.TgZ(10,"th",24),e._uU(11,"Risk Stratification"),e.qZA(),e.TgZ(12,"th",24),e._uU(13,"Location"),e.qZA(),e.TgZ(14,"th",24),e._uU(15,"Actions"),e.qZA()()(),e.YNc(16,ni,2,2,"tbody",5),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(16),e.Q6J("ngIf",t.ncd_list)}}function si(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"app-end-visit",30),e.NdJ("toggleModal",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("consult_id",t.consult_details_temp.id)("patient_id",t.consult_details_temp.patient?t.consult_details_temp.patient.id:t.consult_details_temp.patient_id)("consult_date",t.consult_details_temp.consult_date)("pt_group","ncd")}}const ri=[{path:"",component:(()=>{class i{constructor(t,o,r,l){this.route=t,this.http=o,this.router=r,this.patientInfo=l,this.show_end=!1,this.faDoorClosed=p.TH0,this.loadVitals=this.loadVitals.bind(this),y(l.reloadNCDVitals,this.loadVitals)}ngOnDestroy(){y(this.patientInfo.reloadNCDVitals,this.loadVitals,!0)}openNCD(t){this.router.navigate(["/patient/ncd",{id:t.patient_id??t.patient.id,consult_id:t.consult_id??t.id}]),this.consult_details=t,this.modules=2}toggleModal(){this.show_end=!this.show_end}loadNCD(t,o){this.http.get("non-communicable-disease/risk-assessment",{params:{consult_id:t}}).subscribe({next:l=>{l.data.length>0?(l.data[0].consult_date=l.data[0].assessment_date,this.consult_details=l.data[0]):this.consult_details=this.consult_details_temp},error:l=>console.log(l)})}loadRisk(){this.http.get("non-communicable-disease/risk-assessment",{params:{patient_id:this.patient_id,sort:"-assessment_date"}}).subscribe({next:o=>{this.risk_list=o.data,this.risk_list&&this.fillConsult()},error:o=>console.log(o)})}loadConsult(){this.http.get("consultation/records",{params:{patient_id:this.patient_id,pt_group:"ncd",sort:"-consult_date"}}).subscribe({next:o=>{this.ncd_list=o.data,this.consult_details_temp=o.data[0],this.loadRisk()},error:o=>console.log(o)})}fillConsult(){Object.entries(this.ncd_list).forEach(([t,o],r)=>{let l=o,_=this.risk_list.find(u=>u.consult_id===l.id);_&&(this.ncd_list[r]=_,this.ncd_list[r].consult_done=l.consult_done),Object.keys(this.ncd_list).length-1===r&&this.loadNCD(this.consult_id)})}loadVitals(){this.http.get("patient-vitals/vitals",{params:{patient_id:this.patient_id,sort:"-vitals_date",per_page:15}}).subscribe({next:t=>{let o=t.data;if(o.length>0){let l=t.data[0].bp_diastolic;o[0].bp_systolic=t.data[0].bp_systolic,o[0].bp_diastolic=l,this.vitals=o}},error:t=>console.log(t)})}patientVitals(t){}ngOnInit(){this.module=1,this.modules=1,this.patient_info=this.http.getPatientInfo(),this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadConsult(),this.loadVitals()}switchTab(t){this.module=0,this.module=t}switchTabs(t){this.modules=0,this.modules=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.gz),e.Y36(g.O),e.Y36(b.F0),e.Y36(f.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ncd"]],decls:11,vars:8,consts:[[1,"flex"],[1,"flex","flex-row","whitespace-nowrap","text-sm","max-w-xl","mt-5"],[1,"text-gray-600","border-b-2","border-gray-200","block","hover:text-blue-500","hover:border-blue-500","mr-6","pb-2",3,"click"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],[4,"ngIf"],[3,"consult_id","patient_id","consult_date","pt_group","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"text-gray-600","border","border-slate-100","mt-5"],[1,"mt-4","flex","flex-row","whitespace-nowrap","sm:text-xs","md:text-xs","overflow-x-auto","no-scrollbar","lg:text-xs"],["class","text-gray-600 border-b-2 border-gray-200 block hover:text-blue-500 hover:border-blue-500 mr-6 pb-2",3,"class","click",4,"ngIf"],[1,"grid","grid-col-8"],[3,"patient_info","consult_details","vitals","loadRisk",4,"ngIf"],[3,"patient_id","consult_details",4,"ngIf"],[3,"consult_details",4,"ngIf"],[3,"patient_info","consult_details","vitals","loadRisk"],[3,"patient_id","consult_details"],[3,"consult_details"],[1,"border","border-slate-200","shadow-md","rounded-xl","mt-5"],[1,"w-full","bg-green-500","text-white","rounded-t-xl","p-3","font-semibold"],[1,"w-full","p-5"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"text-center","py-3","px-3","w-3/12"],["class","bg-white border-b last:border-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","border-b","last:border-0"],[1,"py-4","px-3","text-center"],["scope","row",1,"py-4","px-3","font-medium","text-gray-900","text-center"],["type","button",1,"btn-save",3,"click"],[3,"consult_id","patient_id","consult_date","pt_group","toggleModal"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return o.switchTabs(1)}),e._uU(3," NCD HISTORY "),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return o.switchTabs(2)}),e._uU(5," NCD CONSULT "),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,Et,3,1,"button",4),e.qZA()(),e.YNc(8,ti,17,13,"div",5),e.YNc(9,oi,17,1,"div",5),e.YNc(10,si,1,4,"app-end-visit",6)),2&t&&(e.xp6(2),e.Tol(1===o.modules?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(2),e.Tol(2===o.modules?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(3),e.Q6J("ngIf",!(null!=o.consult_details&&o.consult_details.consult_done)),e.xp6(1),e.Q6J("ngIf",2===o.modules),e.xp6(1),e.Q6J("ngIf",1===o.modules),e.xp6(1),e.Q6J("ngIf",o.ncd_list&&o.show_end))},dependencies:[d.sg,d.O5,a.BN,Z.F,k,N,U,F,J,Qt,Kt,d.uU],styles:[".what[_ngcontent-%COMP%]:active{color:#00f;text-decoration:underline}"]}),i})()},{path:"risk-stratification",component:N},{path:"risk-assessment",component:k},{path:"questionnaire",component:U},{path:"patient-record",component:F},{path:"casdt",component:J}];let ai=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[b.Bz.forChild(ri),b.Bz]}),i})(),li=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,a.uH,ai,n.u5,n.UX,Z.F]}),i})()},8696:(Q,T,c)=>{c.d(T,{F:()=>g});var d=c(6895),a=c(4650),b=c(4006),p=c(2216),v=c(4691),y=c(5749),e=c(7185);let g=(()=>{class f{onSubmit(){let n;this.is_saving=!0,n=this.consult_date&&this.pt_group?{patient_id:this.patient_id,consult_date:this.consult_date,pt_group:this.pt_group,consult_done:!0}:{},this.http.update("consultation/records/",this.consult_id,n).subscribe({next:m=>{console.log(m),this.is_saving=!1,this.toastr.info("Visit was ended"),this.router.navigate(["/patient/itr",{id:this.patient_id}])},error:m=>console.log(m)})}constructor(n,m,q){this.http=n,this.router=m,this.toastr=q,this.toggleModal=new a.vpe,this.is_saving=!1}closeModal(){this.toggleModal.emit("end_visit")}}return f.\u0275fac=function(n){return new(n||f)(a.Y36(v.O),a.Y36(y.F0),a.Y36(e._W))},f.\u0275cmp=a.Xpm({type:f,selectors:[["app-end-visit"]],inputs:{consult_id:"consult_id",consult_date:"consult_date",patient_id:"patient_id",pt_group:"pt_group"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[a.jDz],decls:20,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"h-40"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-3","py-3","mt-10","mx-10","w-full","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200","font-semibold","text-lg"],[1,"col-span-3","text-left","mb-2","pb-2","text-sm"],[1,"flex","justify-end","py-2","px-5","space-x-4","rounded-b"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-rose-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-rose-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(n,m){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),a._uU(5," End Visit "),a.qZA()(),a.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),a._uU(10," Do you really want to end this visit? "),a.qZA(),a.TgZ(11,"div",9),a._uU(12),a.ALo(13,"date"),a.qZA()()()(),a.TgZ(14,"div",10)(15,"button",11),a.NdJ("click",function(){return m.closeModal()}),a._uU(16,"Cancel"),a.qZA(),a.TgZ(17,"button",12),a.NdJ("click",function(){return m.onSubmit()}),a._uU(18,"End Visit"),a.qZA()()()()(),a._UZ(19,"div",13)),2&n&&(a.xp6(12),a.hij(" Visit date & time: ",a.xi3(13,2,m.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),a.xp6(5),a.Q6J("disabled",m.is_saving))},dependencies:[p.uH,b.u5,d.ez,d.uU],changeDetection:0}),f})()}}]);