<div class="flex mt-5 mb-3">
      <h4 class="font-bold text-gray-600 text-sm">FIRST VISIT</h4>
      <div class="relative">
        <fa-icon [icon]="faInfoCircle" class="peer ml-3 text-gray-300 hover:text-gray-500 z-50"></fa-icon>
        <div
            class="absolute text-sm bg-gradient-to-b from-stone-500 to-gray-400 p-2 rounded-md border border-gray-500  text-white drop-shadow-lg opacity-90 border-check z-50 w-60 invisible peer-hover:visible">
            <h1 class="font-bold drop-shadow-lg">IMPORTANT</h1>
            <p class="font-light drop-shadow-lg">Once saved, the information will be displayed in the input boxes
                and shall not be editable unless Edit button is pressed.</p>
        </div>
    </div>
</div>
    <!--Admission Date & Time Section-->
<form [formGroup]="visitForm" (submit)="onSubmit()">

<div class="card mb-6">

      <div class="card-header bg-blue-500">
        <h4 class="font-semibold text-white text-sm uppercase">Admission Information</h4>
      </div>

      <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2 mt-2">
          <label>Admission Date & Time</label>

        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"></path>
              <circle cx="18" cy="18" r="4"></circle>
              <path d="M15 3v4"></path>
              <path d="M7 3v4"></path>
              <path d="M3 11h16"></path>
              <path d="M18 16.496v1.504l1 1"></path>
           </svg>
          </div>
         <input type="datetime-local" placeholder="Select Date and Time" class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Select date" formControlName="admission_date" required>
        </div>

        <div *ngIf="form_saving && f.admission_date.errors" class="invalid-alert mt-1">
          <div *ngIf="f.admission_date.errors?.['required']">
            {{ required_message }}
          </div>
        </div>

      </div>


        <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2 mt-2">
          <label>Discharge Date & Time</label>



        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"></path>
              <circle cx="18" cy="18" r="4"></circle>
              <path d="M15 3v4"></path>
              <path d="M7 3v4"></path>
              <path d="M3 11h16"></path>
              <path d="M18 16.496v1.504l1 1"></path>
           </svg>
          </div>
         <input type="datetime-local" placeholder="Select Date and Time"  class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Select date" formControlName="discharge_date" required>
        </div>

        <div *ngIf="form_saving && f.discharge_date.errors" class="invalid-alert mt-1">
          <div *ngIf="f.discharge_date.errors?.['required']">
            {{ required_message }}
          </div>
        </div>

        </div>

        <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2">
          <label>Weight at Birth (kg)</label>



        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-scale-outline text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <rect x="3" y="3" width="18" height="18" rx="4"></rect>
              <path d="M12 7c1.956 0 3.724 .802 4.994 2.095l-2.956 2.904a3 3 0 0 0 -2.038 -.799a3 3 0 0 0 -2.038 .798l-2.956 -2.903a6.979 6.979 0 0 1 4.994 -2.095z"></path>
           </svg>
          </div>
         <input type="number" class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Input weight" [ngClass]="{'invalid-input': form_saving && f.birth_weight.errors}" formControlName="birth_weight" required>
        </div>

        <div *ngIf="form_saving && f.birth_weight.errors" class="invalid-alert mt-1">
          <div *ngIf="f.birth_weight.errors?.['required']">
            {{ required_message }}
          </div>
          <div *ngIf="f.birth_weight.errors?.['minlength']">
            Minimum of 2 character.
          </div>
        </div>

        </div>

        <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2">
          <label>Mother's Name</label>



        <!-- <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-search text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <circle cx="12" cy="7" r="4"></circle>
              <path d="M6 21v-2a4 4 0 0 1 4 -4h1"></path>
              <circle cx="16.5" cy="17.5" r="2.5"></circle>
              <path d="M18.5 19.5l2.5 2.5"></path>
           </svg>
          </div>
         <input type="text" class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Search Mother's Name" formControlName="mothers_name" required>
        </div> -->

        <ng-select class="search-custom mt-1" placeholder="Search Mother"
          [items]="patients$ | async"
          [minTermLength]="minLengthTerm"
          [loading]="patientLoading"
          typeToSearchText="Search Mother's Name"
          [typeahead]="searchInput$"
          [clearable]="false"
          bindValue="class_id"
          bindLabel="class_name"
          (change)="hideItemName()"
          formControlName="mothers_id">
          <ng-template ng-label-tmp let-item="item" class="">
            <div class="flex">
              <!-- <img src="./assets/img/profile_1.jpg" alt="profile_img" class="rounded-full w-8 h-8 mr-2" /> -->
              <div *ngIf="!hideName"><p class="" >{{patient_info2?.first_name}} {{patient_info2?.middle_name}} {{patient_info2?.last_name}}</p></div>

              <div ><p class="">{{item?.first_name}} {{item?.middle_name}} {{item?.last_name}}</p></div>
            </div>



        </ng-template>
          <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
            <!-- <a href="itr"> -->
              <div class="grid grid-flow-col auto-cols-max">

                  <div class="my-auto mr-3">
                    <!-- <img src="./assets/img/profile_1.jpg" alt="profile_img" class="rounded-full w-14 h-14 mx-auto mr-2" /> -->
                    <div class="inline-flex overflow-hidden relative justify-center items-center w-14 h-14 bg-gray-100 rounded-full dark:bg-gray-600">
                      <span class="font-medium text-gray-600 dark:text-gray-300">{{ getInitials(item.last_name+' '+item.first_name) }}</span>
                    </div>
                  </div>
                  <div>
                    <h5 class="text-blue-400" [ngOptionHighlight]="search">{{ item.last_name }}, {{ item.first_name }}</h5>
                    <h6 class="text-muted">{{ item.birthdate }}</h6>
                    <h6 class="text-muted">{{ item.brgy }}, {{ item.muncity }}</h6>
                  </div>
              </div>
            <!-- </a> -->
          </ng-template>

          <ng-template ng-footer-tmp>
            <a class="text-blue-600" routerLink="/registration"> Create a new record</a>
          </ng-template>
        </ng-select>

        <div *ngIf="form_saving && f.mothers_id.errors" class="invalid-alert mt-1">
          <div *ngIf="f.mothers_id.errors?.['required']">
            {{ required_message }}
          </div>
          <div *ngIf="f.mothers_id.errors?.['minlength']">
            Minimum of 2 character.
          </div>
        </div>

        </div>

        <div class="flex w-full flex-col px-5 pt-3">

          <button type="button" class="btn-add ml-auto mr-5" (click)="onSubmit()" *ngIf="!patient_info">
            <fa-icon *ngIf="!is_saving" class="mr-1" [icon]="faSave"></fa-icon>
            <fa-icon *ngIf="is_saving" class="mr-1" [icon]="faSpinner" [spin]="true"></fa-icon>
           {{ is_saving ? 'Saving' : 'Save' }}
          </button>
          <button type="button" class="btn-add ml-auto mr-5" (click)="onSubmit()" *ngIf="patient_info">
            <fa-icon *ngIf="!is_saving" class="mr-1" [icon]="faSave"></fa-icon>
            <fa-icon *ngIf="is_saving" class="mr-1" [icon]="faSpinner" [spin]="true"></fa-icon>
           {{ is_saving ? 'Updating' : 'Update' }}
          </button>
        </div>



</div>
</form>

    <!--Birth Info Section-->
<!-- <div class="card mt-5 mb-7">

      <div class="card-header">
        <h4 class="font-semibold text-white text-sm uppercase">Birth Information</h4>
      </div>

        <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2">
          <label>Weight at Birth (kg)</label>



        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-scale-outline text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <rect x="3" y="3" width="18" height="18" rx="4"></rect>
              <path d="M12 7c1.956 0 3.724 .802 4.994 2.095l-2.956 2.904a3 3 0 0 0 -2.038 -.799a3 3 0 0 0 -2.038 .798l-2.956 -2.903a6.979 6.979 0 0 1 4.994 -2.095z"></path>
           </svg>
          </div>
         <input type="text" class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Input weight">
        </div>

        </div>

        <div class="relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2">
          <label>Mother's Name</label>



        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-search text-blue-500" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <circle cx="12" cy="7" r="4"></circle>
              <path d="M6 21v-2a4 4 0 0 1 4 -4h1"></path>
              <circle cx="16.5" cy="17.5" r="2.5"></circle>
              <path d="M18.5 19.5l2.5 2.5"></path>
           </svg>
          </div>
         <input type="text" class="mt-1 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Search Mother's Name">
        </div>

        </div>

        <div class="flex w-full flex-col px-5 pt-4">
          <button type="button" class="btn-add ml-auto" (click)="saveBirth()">
            <fa-icon *ngIf="is_saving2" class="mr-1" [icon]="faSave"></fa-icon>
            <fa-icon *ngIf="is_saving" class="mr-1" [icon]="faSpinner" [spin]="true"></fa-icon>
           {{ is_saving ? 'Saving' : 'Save' }}
          </button>
        </div>

</div> -->

<!--Essential Newborn Care Modal-->
   <!-- Main modal -->
   <div *ngIf="showAlert" id="defaultModal" tabindex="-1" class="overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex" aria-modal="true" role="dialog" style="z-index:59">
    <div class="relative p-4 w-full max-w-sm h-auto md:h-auto">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex w-full justify-between items-start p-4 rounded-t border-b dark:border-gray-600">
                <h3 class="mt-1 font-bold text-md text-blue-500 dark:text-white">
                   Alert
                </h3>
                <button type="button" class="text-gray-500 bg-transparent hover:bg-red-500 hover:text-white rounded text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" (click)="toggleAlertModal()">
                    <svg aria-hidden="true" class="w-5 h-5 rounded" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
          <div class="h-20 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100">
            <table class="w-full max-w-sm text-left text-gray-500 dark:text-gray-400">
              <thead class="text-sm text-gray-700 dark:bg-gray-700 dark:text-gray-400">
                <tr class="sticky top-0 z-50 bg-gray-50">

                </tr>
              </thead>
                <tbody>
                  <div  class="px-10 pt-5 align-middle text-center">
                    <label *ngIf="modalFilter == 'S'" for="" class="align-middle">Data Successfully Saved!</label>
                    <label *ngIf="modalFilter == 'E'" for="" class="align-middle">Error in Saving! Please check required fields</label>
                  </div>


                </tbody>
            </table>
          </div>

            <!-- Modal footer -->
            <div class="flex justify-end py-4 px-6 space-x-4 rounded-b border-t border-gray-200 dark:border-gray-600">
              <button  type="button" class="btn-cancel" (click)="toggleAlertModal()">Close</button>

            </div>
        </div>
    </div>
  </div>


<div *ngIf="showAlert" class="opacity-50 fixed inset-0 z-50 bg-black"></div>
