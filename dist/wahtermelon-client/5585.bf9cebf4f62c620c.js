"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[5585],{5585:(Dl,J,h)=>{h.r(J),h.d(J,{GbvModule:()=>wl,options:()=>Cl});var _=h(177),N=h(1317),c=h(5383),e=h(4438),p=h(3318),m=h(60),f=h(614),s=h(9417);function V(){return new s.gE({id:new s.MJ(""),patient_id:new s.MJ(""),patient_gbv_id:new s.MJ(""),consent_flag:new s.MJ(!1),consent_relation_to_child_id:new s.MJ(""),case_number:new s.MJ(""),case_date:new s.MJ(""),primary_complaint_id:new s.MJ(""),primary_complaint_remarks:new s.MJ(""),physical_abuse_flag:new s.MJ(!1),sexual_abuse_flag:new s.MJ(!1),neglect_abuse_flag:new s.MJ(!1),emotional_abuse_flag:new s.MJ(!1),economic_abuse_flag:new s.MJ(!1),utv_abuse_flag:new s.MJ(!1),others_abuse_flag:new s.MJ(!1),others_abuse_remarks:new s.MJ(""),neglect_remarks:new s.MJ(""),behavioral_remarks:new s.MJ(""),service_id:new s.MJ(""),service_remarks:new s.MJ(""),region:new s.MJ(""),province:new s.MJ(""),municipality:new s.MJ(""),same_address_flag:new s.MJ(!1),barangay_code:new s.MJ(""),address:new s.MJ(""),direction_to_address:new s.MJ(""),guardian_name:new s.MJ(""),guardian_address:new s.MJ(""),relation_to_child_id:new s.MJ(""),guardian_contact_info:new s.MJ(""),economic_status_id:new s.MJ(""),number_of_children:new s.MJ(""),number_of_individual_members:new s.MJ(""),number_of_family:new s.MJ(""),incest_case_flag:new s.MJ(!1),sleeping_arrangement_id:new s.MJ(""),sleeping_arrangement_remarks:new s.MJ(""),same_bed_adult_male_flag:new s.MJ(!1),same_bed_adult_female_flag:new s.MJ(!1),same_bed_child_male_flag:new s.MJ(!1),same_bed_child_female_flag:new s.MJ(!1),same_room_adult_male_flag:new s.MJ(!1),same_room_adult_female_flag:new s.MJ(!1),same_room_child_male_flag:new s.MJ(!1),same_room_child_female_flag:new s.MJ(!1),abuse_living_arrangement_id:new s.MJ(""),abuse_living_arrangement_remarks:new s.MJ(""),present_living_arrangement_id:new s.MJ(""),present_living_arrangement_remarks:new s.MJ(""),vaw_physical_flag:new s.MJ(!1),vaw_sexual_flag:new s.MJ(!1),vaw_psychological_flag:new s.MJ(!1),vaw_economic_flag:new s.MJ(!1),rape_sex_intercourse_flag:new s.MJ(!1),rape_sex_assault_flag:new s.MJ(!1),rape_incest_flag:new s.MJ(!1),rape_statutory_flag:new s.MJ(!1),rape_marital_flag:new s.MJ(!1),harassment_verbal_flag:new s.MJ(!1),harassment_physical_flag:new s.MJ(!1),harassment_object_flag:new s.MJ(!1),child_abuse_engaged_flag:new s.MJ(!1),child_abuse_sexual_flag:new s.MJ(!1),child_abuse_physical_flag:new s.MJ(!1),child_abuse_emotional_flag:new s.MJ(!1),child_abuse_economic_flag:new s.MJ(!1),wcpd_others:new s.MJ("")})}var g=h(5794),q=h(5188);const I=n=>({"text-red-500":n}),E=n=>({"invalid-input":n});function P(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function A(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,P,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.name.errors?null:t.f.name.errors.required)}}function H(n,o){if(1&n&&(e.j41(0,"option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function U(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function L(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,U,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.child_relation_id.errors?null:t.f.child_relation_id.errors.required)}}function z(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function W(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,z,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.gender.errors?null:t.f.gender.errors.required)}}function Q(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function Z(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,Q,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.tb_treatment_outcome_code.errors?null:t.f.tb_treatment_outcome_code.errors.required)}}function K(n,o){if(1&n&&(e.j41(0,"option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.status_desc)}}function ee(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function te(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,ee,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.civil_status_code.errors?null:t.f.civil_status_code.errors.required)}}function ne(n,o){if(1&n&&(e.j41(0,"option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.occupation_desc)}}function ie(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ae(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,ie,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.occupation.errors?null:t.f.occupation.errors.required)}}function se(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function oe(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,se,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.company.errors?null:t.f.company.errors.required)}}function re(n,o){if(1&n&&(e.j41(0,"option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.education_desc)}}function le(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function _e(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,le,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.education_code.errors?null:t.f.education_code.errors.required)}}function de(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ce(n,o){if(1&n&&(e.j41(0,"div",38),e.DNE(1,de,2,1,"div",39),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.school.errors?null:t.f.school.errors.required)}}let pe=(()=>{class n{get f(){return this.familyForm.controls}onSubmit(){let t;t=this.selected_member?this.http.update("gender-based-violence/patient-gbv-family-composition/",this.selected_member.id,this.familyForm.value):this.http.post("gender-based-violence/patient-gbv-family-composition",this.familyForm.value),t.subscribe({next:a=>{console.log(a),this.toastr.success("Successfully recorded!","Family"),this.closeModal()},error:a=>console.log(a)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Treatment Outcome"),this.closeModal()}loadLibraries(){this.http.get("libraries/child-relation").subscribe({next:t=>this.child_relations=t.data,error:t=>console.log(t)}),this.http.get("libraries/civil-statuses").subscribe({next:t=>this.civil_statuses=t.data,error:t=>console.log(t)}),this.http.get("libraries/occupations").subscribe({next:t=>this.occupations=t.data,error:t=>console.log(t)}),this.http.get("libraries/education").subscribe({next:t=>this.educations=t.data,error:t=>console.log(t)})}createForm(){this.familyForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[this.patient_gbv_id],name:[null,s.k0.required],child_relation_id:[null,s.k0.required],living_with_child_flag:[!1],age:[null,s.k0.required],gender:[null],civil_status_code:[null,s.k0.required],employed_flag:[null],occupation_code:[null],education_code:[null],weekly_income:[null],school:[null],company:[null],contact_information:[null]}),this.loadLibraries(),this.loadSelectedMember()}loadSelectedMember(){this.familyForm.patchValue({...this.selected_member}),this.familyForm.patchValue({child_relation_id:this.selected_member.relation?this.selected_member.relation.id:null}),console.log(this.selected_member)}closeModal(){this.toggleModal.emit("add_family")}constructor(t,a,i){this.formBuilder=t,this.http=a,this.toastr=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_error=!1,this.required_message="Required field",this.familyForm=new s.gE({id:new s.MJ(""),patient_id:new s.MJ(""),patient_gbv_id:new s.MJ(""),name:new s.MJ(""),child_relation_id:new s.MJ(""),living_with_child_flag:new s.MJ(!1),age:new s.MJ(""),gender:new s.MJ(""),civil_status_code:new s.MJ(""),employed_flag:new s.MJ(""),occupation_code:new s.MJ(""),education_code:new s.MJ(""),weekly_income:new s.MJ(""),school:new s.MJ(""),company:new s.MJ(""),contact_information:new s.MJ("")})}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(s.ok),e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-family-composition"]],inputs:{patient_id:"patient_id",patient_gbv_id:"patient_gbv_id",selected_member:"selected_member"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:73,vars:70,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","formControlName","living_with_child_flag",1,"input-checkbox"],[1,"pl-3","py-0.5"],["for","name",3,"ngClass"],["type","text","name","name","id","name","formControlName","name",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","child_relation_id",3,"ngClass"],["name","child_relation_id","id","child_relation_id","formControlName","child_relation_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","gender",3,"ngClass"],["name","gender","id","gender","formControlName","gender",1,"input",3,"ngClass"],["value","M"],["value","F"],["for","age",3,"ngClass"],["type","number","name","casagee_number","id","age","formControlName","age",1,"input",3,"ngClass"],["for","civil_status_code",3,"ngClass"],["name","civil_status_code","id","civil_status_code","formControlName","civil_status_code",1,"input",3,"ngClass"],["for","occupation_code",3,"ngClass"],["name","occupation_code","id","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],[1,"col-span-3"],["for","company",3,"ngClass"],["type","text","name","company","id","company","formControlName","company",1,"input",3,"ngClass"],["for","education_code",3,"ngClass"],["name","education_code","id","education_code","formControlName","education_code",1,"input",3,"ngClass"],["for","school",3,"ngClass"],["type","text","name","school","id","school","formControlName","school",1,"input",3,"ngClass"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Family Member Details "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div",8),e.nrm(10,"input",9),e.j41(11,"label",10),e.EFF(12,"Living with child"),e.k0s()(),e.j41(13,"div",8)(14,"label",11),e.EFF(15,"Name"),e.k0s(),e.nrm(16,"input",12),e.DNE(17,A,2,1,"div",13),e.k0s(),e.j41(18,"div")(19,"label",14),e.EFF(20,"Relation to child"),e.k0s(),e.j41(21,"select",15),e.DNE(22,H,2,2,"option",16),e.k0s(),e.DNE(23,L,2,1,"div",13),e.k0s(),e.j41(24,"div")(25,"label",17),e.EFF(26,"Gender"),e.k0s(),e.j41(27,"select",18)(28,"option",19),e.EFF(29,"Male"),e.k0s(),e.j41(30,"option",20),e.EFF(31,"Female"),e.k0s()(),e.DNE(32,W,2,1,"div",13),e.k0s(),e.j41(33,"div")(34,"label",21),e.EFF(35,"Age"),e.k0s(),e.nrm(36,"input",22),e.DNE(37,Z,2,1,"div",13),e.k0s(),e.j41(38,"div")(39,"label",23),e.EFF(40,"Civil Status"),e.k0s(),e.j41(41,"select",24),e.DNE(42,K,2,2,"option",16),e.k0s(),e.DNE(43,te,2,1,"div",13),e.k0s(),e.j41(44,"div")(45,"label",25),e.EFF(46,"Employement"),e.k0s(),e.j41(47,"select",26),e.DNE(48,ne,2,2,"option",16),e.k0s(),e.DNE(49,ae,2,1,"div",13),e.k0s(),e.j41(50,"div",27)(51,"label",28),e.EFF(52,"Company"),e.k0s(),e.nrm(53,"input",29),e.DNE(54,oe,2,1,"div",13),e.k0s(),e.j41(55,"div")(56,"label",30),e.EFF(57,"Education"),e.k0s(),e.j41(58,"select",31),e.DNE(59,re,2,2,"option",16),e.k0s(),e.DNE(60,_e,2,1,"div",13),e.k0s(),e.j41(61,"div",27)(62,"label",32),e.EFF(63,"School"),e.k0s(),e.nrm(64,"input",33),e.DNE(65,ce,2,1,"div",13),e.k0s()()()(),e.j41(66,"div",34)(67,"button",35),e.bIt("click",function(){return i.closeModal()}),e.EFF(68,"Close"),e.k0s(),e.j41(69,"button",36),e.bIt("click",function(){return i.onSubmit()}),e.nrm(70,"fa-icon"),e.EFF(71),e.k0s()()()()(),e.nrm(72,"div",37)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.familyForm),e.R7$(7),e.Y8G("ngClass",e.eq3(34,I,i.show_error&&i.f.name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(36,E,i.show_error&&i.f.name.errors)),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(38,I,i.show_error&&i.f.child_relation_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(40,E,i.show_error&&i.f.child_relation_id.errors)),e.R7$(),e.Y8G("ngForOf",i.child_relations),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.child_relation_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(42,I,i.show_error&&i.f.gender.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(44,E,i.show_error&&i.f.gender.errors)),e.R7$(5),e.Y8G("ngIf",i.show_error&&i.f.gender.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(46,I,i.show_error&&i.f.age.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(48,E,i.show_error&&i.f.age.errors)),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.tb_treatment_outcome_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(50,I,i.show_error&&i.f.outcome_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(52,E,i.show_error&&i.f.civil_status_code.errors)),e.R7$(),e.Y8G("ngForOf",i.civil_statuses),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.civil_status_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(54,I,i.show_error&&i.f.outcome_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(56,E,i.show_error&&i.f.occupation_code.errors)),e.R7$(),e.Y8G("ngForOf",i.occupations),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.occupation.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(58,I,i.show_error&&i.f.company.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(60,E,i.show_error&&i.f.company.errors)),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.company.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(62,I,i.show_error&&i.f.outcome_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(64,E,i.show_error&&i.f.education_code.errors)),e.R7$(),e.Y8G("ngForOf",i.educations),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.education_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(66,I,i.show_error&&i.f.school.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(68,E,i.show_error&&i.f.school.errors)),e.R7$(),e.Y8G("ngIf",i.show_error&&i.f.school.errors),e.R7$(4),e.Y8G("disabled",i.is_saving||i.familyForm.invalid),e.R7$(2),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();var G=h(7468);const k=n=>({"text-red-500":n}),F=n=>({"invalid-input":n});function ue(n,o){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function fe(n,o){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.occupation_desc)}}function ge(n,o){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.education_desc)}}function ve(n,o){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function be(n,o){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function he(n,o){if(1&n&&(e.j41(0,"div",28)(1,"div",16)(2,"label",29),e.EFF(3,"Full name"),e.k0s(),e.nrm(4,"input",30),e.k0s(),e.j41(5,"div")(6,"label",31),e.EFF(7,"Nickname"),e.k0s(),e.nrm(8,"input",32),e.k0s(),e.j41(9,"div")(10,"label",33),e.EFF(11,"Age"),e.k0s(),e.nrm(12,"input",34),e.k0s(),e.j41(13,"div")(14,"label",35),e.EFF(15,"Occupation"),e.k0s(),e.j41(16,"select",36),e.DNE(17,fe,2,2,"option",19),e.k0s()(),e.j41(18,"div")(19,"label",37),e.EFF(20,"Education"),e.k0s(),e.j41(21,"select",38),e.DNE(22,ge,2,2,"option",19),e.k0s()(),e.j41(23,"div",16),e.nrm(24,"input",39),e.j41(25,"label",40),e.EFF(26,"Is the person known to child/adolescent/woman?"),e.k0s()(),e.j41(27,"div")(28,"label",41),e.EFF(29,"Relation to child"),e.k0s(),e.j41(30,"select",42),e.DNE(31,ve,2,2,"option",19),e.k0s()(),e.j41(32,"div")(33,"label",43),e.EFF(34,"Current location"),e.k0s(),e.j41(35,"select",44),e.DNE(36,be,2,2,"option",19),e.k0s()(),e.j41(37,"div",16)(38,"label",45),e.EFF(39,"Permanent Address/location"),e.k0s(),e.nrm(40,"input",46),e.k0s(),e.j41(41,"div",16)(42,"label",47),e.EFF(43,"Current Address/location"),e.k0s(),e.nrm(44,"input",48),e.k0s(),e.j41(45,"div",49),e.EFF(46," History of substance abuse "),e.k0s(),e.j41(47,"div",50)(48,"div"),e.nrm(49,"input",51),e.j41(50,"label",52),e.EFF(51,"Alcohol"),e.k0s()(),e.j41(52,"div"),e.nrm(53,"input",53),e.j41(54,"label",54),e.EFF(55,"Drugs"),e.k0s()(),e.j41(56,"div"),e.nrm(57,"input",55),e.j41(58,"label",56),e.EFF(59,"Other substance"),e.k0s()()(),e.j41(60,"div")(61,"label",57),e.EFF(62,"Name of drugs"),e.k0s(),e.nrm(63,"input",58),e.k0s(),e.j41(64,"div")(65,"label",59),e.EFF(66,"Name of substance"),e.k0s(),e.nrm(67,"input",60),e.k0s(),e.j41(68,"div",49),e.EFF(69," History of violence "),e.k0s(),e.j41(70,"div",61)(71,"div"),e.nrm(72,"input",62),e.j41(73,"label",63),e.EFF(74,"Abused as a child"),e.k0s()(),e.j41(75,"div"),e.nrm(76,"input",64),e.j41(77,"label",65),e.EFF(78,"Abused as a spouse"),e.k0s()(),e.j41(79,"div"),e.nrm(80,"input",66),e.j41(81,"label",67),e.EFF(82,"Spouse abuser"),e.k0s()(),e.j41(83,"div",16),e.nrm(84,"input",68),e.j41(85,"label",69),e.EFF(86,"Withness family violence"),e.k0s()()(),e.j41(87,"div",49),e.EFF(88," Criminal History "),e.k0s(),e.j41(89,"div"),e.nrm(90,"input",70),e.j41(91,"label",71),e.EFF(92,"Previous conviction for similar offense"),e.k0s()(),e.j41(93,"div"),e.nrm(94,"input",72),e.j41(95,"label",73),e.EFF(96,"Previous conviction for other offense"),e.k0s()(),e.j41(97,"div"),e.nrm(98,"input",74),e.j41(99,"label",75),e.EFF(100,"Previous police blotter/barangay report"),e.k0s()(),e.j41(101,"div",16)(102,"label",76),e.EFF(103,"Reported for"),e.k0s(),e.nrm(104,"input",77),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngClass",e.eq3(28,k,t.show_error&&t.f.perpetrator_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(30,F,t.show_error&&t.f.perpetrator_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(32,k,t.show_error&&t.f.perpetrator_nickname.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(34,F,t.show_error&&t.f.perpetrator_nickname.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(36,k,t.show_error&&t.f.perpetrator_age.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(38,F,t.show_error&&t.f.perpetrator_age.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(40,k,t.show_error&&t.f.occupation_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(42,F,t.show_error&&t.f.occupation_code.errors)),e.R7$(),e.Y8G("ngForOf",t.occupations),e.R7$(2),e.Y8G("ngClass",e.eq3(44,k,t.show_error&&t.f.education_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(46,F,t.show_error&&t.f.education_code.errors)),e.R7$(),e.Y8G("ngForOf",t.educations),e.R7$(6),e.Y8G("ngClass",e.eq3(48,k,t.show_error&&t.f.relation_to_child_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(50,F,t.show_error&&t.f.relation_to_child_id.errors)),e.R7$(),e.Y8G("ngForOf",t.child_relations),e.R7$(2),e.Y8G("ngClass",e.eq3(52,k,t.show_error&&t.f.location_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(54,F,t.show_error&&t.f.location_id.errors)),e.R7$(),e.Y8G("ngForOf",t.perpetrator_locations),e.R7$(2),e.Y8G("ngClass",e.eq3(56,k,t.show_error&&t.f.perpetrator_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(58,F,t.show_error&&t.f.perpetrator_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(60,k,t.show_error&&t.f.perpetrator_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(62,F,t.show_error&&t.f.perpetrator_address.errors)),e.R7$(17),e.Y8G("ngClass",e.eq3(64,k,t.show_error&&t.f.abuse_drugs_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(66,F,t.show_error&&t.f.abuse_drugs_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(68,k,t.show_error&&t.f.abuse_others_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(70,F,t.show_error&&t.f.abuse_others_remarks.errors)),e.R7$(35),e.Y8G("ngClass",e.eq3(72,k,t.show_error&&t.f.criminal_barangay_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(74,F,t.show_error&&t.f.criminal_barangay_remarks.errors))}}function ke(n,o){if(1&n){const t=e.RV6();e.j41(0,"form",14),e.bIt("submit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.j41(1,"div",15)(2,"div",16)(3,"label",17),e.EFF(4,"Gender"),e.k0s(),e.j41(5,"select",18),e.DNE(6,ue,2,2,"option",19),e.k0s()(),e.j41(7,"div",20),e.nrm(8,"input",21),e.j41(9,"label",22),e.EFF(10,"LGBTQ"),e.k0s()(),e.j41(11,"div",23),e.nrm(12,"input",24),e.j41(13,"label",25),e.EFF(14,"Is the perpetrator unknown?"),e.k0s()(),e.DNE(15,he,105,76,"div",26),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.perpetratorForm),e.R7$(3),e.Y8G("ngClass",e.eq3(5,k,t.show_error&&t.f.case_number.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(7,F,t.show_error&&t.f.gender.errors)),e.R7$(),e.Y8G("ngForOf",t.genders),e.R7$(9),e.Y8G("ngIf",!t.perpetratorForm.value.perpetrator_unknown_flag)}}function Fe(n,o){if(1&n&&(e.j41(0,"div",78)(1,"span",79),e.nrm(2,"fa-icon",80),e.k0s(),e.j41(3,"span",81),e.EFF(4," Loading... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function ye(n,o){if(1&n&&e.nrm(0,"fa-icon",82),2&n){const t=e.XpG();e.Y8G("icon",t.faSave)}}function je(n,o){if(1&n&&e.nrm(0,"fa-icon",83),2&n){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}let O=(()=>{class n{onSubmit(){let t;console.log(this.perpetratorForm.value),this.perpetratorForm.value.perpetrator_unknown_flag&&this.disableDetails(),t=this.perpetratorForm.value.id?this.http.update("gender-based-violence/patient-gbv-perpetrator/",this.perpetratorForm.value.id,this.perpetratorForm.value):this.http.post("gender-based-violence/patient-gbv-perpetrator",this.perpetratorForm.value),t.subscribe({next:a=>{console.log(a),this.toastr.success("Successfully Recorded","Alleged Perpetator"),this.closeModal()},error:a=>console.log(a)})}disableDetails(){this.perpetratorForm.patchValue({perpetrator_name:null,perpetrator_nickname:null,perpetrator_age:null,occupation_code:null,education_code:null,known_to_child_flag:null,relation_to_child_id:null,location_id:null,perpetrator_address:null,perpetrator_current_address:null,abuse_alcohol_flag:null,abuse_drugs_flag:null,abuse_others_flag:null,abuse_drugs_remarks:null,abuse_others_remarks:null,abused_as_child_flag:null,abused_as_spouse_flag:null,spouse_abuser_flag:null,family_violence_flag:null,criminal_conviction_similar_flag:null,criminal_conviction_other_flag:null,criminal_record_unknown_flag:null,criminal_barangay_flag:null,criminal_barangay_remarks:null})}loadLibraries(){const t=this.http.get("libraries/occupations"),a=this.http.get("libraries/child-relation"),i=this.http.get("libraries/gbv-perpetrator-location"),r=this.http.get("libraries/education");(0,G.p)([t,a,i,r]).subscribe({next:([l,d,u,w])=>{this.occupations=l.data,this.child_relations=d.data,this.perpetrator_locations=u.data,this.educations=w.data,console.log(w),this.createForm()},error:l=>console.log(l)})}createForm(){this.perpetratorForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],intake_id:[this.intake_id],gender:[null],lgbtq_flag:[!1],perpetrator_unknown_flag:[!1],perpetrator_name:[null],perpetrator_nickname:[null],perpetrator_age:[null],occupation_code:[null],education_code:[null],known_to_child_flag:[!1],relation_to_child_id:[null],location_id:[null],perpetrator_address:[null],perpetrator_current_address:[null],abuse_alcohol_flag:[!1],abuse_drugs_flag:[!1],abuse_others_flag:[!1],abuse_drugs_remarks:[null],abuse_others_remarks:[null],abused_as_child_flag:[!1],abused_as_spouse_flag:[!1],spouse_abuser_flag:[!1],family_violence_flag:[!1],criminal_conviction_similar_flag:[!1],criminal_conviction_other_flag:[!1],criminal_record_unknown_flag:[!1],criminal_barangay_flag:[!1],criminal_barangay_remarks:[null]}),this.selected_perpetrator.data?this.patchData():this.show_form=!0}patchData(){console.log(this.selected_perpetrator),this.perpetratorForm.patchValue({...this.selected_perpetrator.data}),this.show_form=!0}closeModal(){this.toggleModal.emit("perpetrators")}get f(){return this.perpetratorForm.controls}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.genders=[{id:"M",desc:"Male"},{id:"F",desc:"Female"}],this.perpetratorForm=function me(){return new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),intake_id:new s.MJ(null),gender:new s.MJ(null),lgbtq_flag:new s.MJ(null),perpetrator_unknown_flag:new s.MJ(null),perpetrator_name:new s.MJ(null),perpetrator_nickname:new s.MJ(null),perpetrator_age:new s.MJ(null),occupation_code:new s.MJ(null),education_code:new s.MJ(null),known_to_child_flag:new s.MJ(null),relation_to_child_id:new s.MJ(null),location_id:new s.MJ(null),perpetrator_address:new s.MJ(null),perpetrator_current_address:new s.MJ(null),abuse_alcohol_flag:new s.MJ(null),abuse_drugs_flag:new s.MJ(null),abuse_others_flag:new s.MJ(null),abuse_drugs_remarks:new s.MJ(null),abuse_others_remarks:new s.MJ(null),abused_as_child_flag:new s.MJ(null),abused_as_spouse_flag:new s.MJ(null),spouse_abuser_flag:new s.MJ(null),family_violence_flag:new s.MJ(null),criminal_conviction_similar_flag:new s.MJ(null),criminal_conviction_other_flag:new s.MJ(null),criminal_record_unknown_flag:new s.MJ(null),criminal_barangay_flag:new s.MJ(null),criminal_barangay_remarks:new s.MJ(null)})}()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-perpetrators"]],inputs:{selected_perpetrator:"selected_perpetrator",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:17,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[500px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1  mt-32",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","gender",3,"ngClass"],["name","gender","id","gender","formControlName","gender",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-2","mt-7"],["type","checkbox","id","lgbtq_flag","formControlName","lgbtq_flag",1,"input-checkbox"],["for","lgbtq_flag",1,"pl-3","py-0.5"],[1,"col-span-4","mt-7"],["type","checkbox","id","perpetrator_unknown_flag","formControlName","perpetrator_unknown_flag",1,"input-checkbox"],["for","perpetrator_unknown_flag",1,"pl-3","py-0.5"],["class","col-span-4 grid grid-cols-2 gap-4",4,"ngIf"],[3,"value"],[1,"col-span-4","grid","grid-cols-2","gap-4"],["for","perpetrator_name",3,"ngClass"],["type","text","name","perpetrator_name","id","perpetrator_name","formControlName","perpetrator_name",1,"input",3,"ngClass"],["for","perpetrator_nickname",3,"ngClass"],["type","text","name","perpetrator_nickname","id","perpetrator_nickname","formControlName","perpetrator_nickname",1,"input",3,"ngClass"],["for","perpetrator_age",3,"ngClass"],["type","number","name","perpetrator_age","id","perpetrator_age","formControlName","perpetrator_age",1,"input",3,"ngClass"],["for","occupation_code",3,"ngClass"],["name","occupation_code","id","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],["for","education_code",3,"ngClass"],["name","education_code","id","education_code","formControlName","education_code",1,"input",3,"ngClass"],["type","checkbox","formControlName","known_to_child_flag",1,"input-checkbox"],["for","known_to_child_flag",1,"pl-3","py-0.5"],["for","relation_to_child_id",3,"ngClass"],["name","relation_to_child_id","id","relation_to_child_id","formControlName","relation_to_child_id",1,"input",3,"ngClass"],["for","location_id",3,"ngClass"],["name","location_id","id","location_id","formControlName","location_id",1,"input",3,"ngClass"],["for","perpetrator_address",3,"ngClass"],["type","text","name","perpetrator_address","id","perpetrator_address","formControlName","perpetrator_address",1,"input",3,"ngClass"],["for","perpetrator_current_address",3,"ngClass"],["type","text","name","perpetrator_current_address","id","perpetrator_current_address","formControlName","perpetrator_current_address",1,"input",3,"ngClass"],[1,"col-span-2","text-sky-500","font-semibold"],[1,"col-span-2","grid","grid-cols-4","gap-4"],["type","checkbox","formControlName","abuse_alcohol_flag",1,"input-checkbox"],["for","abuse_alcohol_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abuse_drugs_flag",1,"input-checkbox"],["for","abuse_drugs_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abuse_others_flag",1,"input-checkbox"],["for","abuse_others_flag",1,"pl-3","py-0.5"],["for","abuse_drugs_remarks",3,"ngClass"],["type","text","name","abuse_drugs_remarks","id","abuse_drugs_remarks","formControlName","abuse_drugs_remarks",1,"input",3,"ngClass"],["for","abuse_others_remarks",3,"ngClass"],["type","text","name","abuse_others_remarks","id","abuse_others_remarks","formControlName","abuse_others_remarks",1,"input",3,"ngClass"],[1,"col-span-2","grid","grid-cols-3","gap-4"],["type","checkbox","formControlName","abused_as_child_flag",1,"input-checkbox"],["for","abused_as_child_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abused_as_spouse_flag",1,"input-checkbox"],["for","abused_as_spouse_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","spouse_abuser_flag",1,"input-checkbox"],["for","spouse_abuser_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","family_violence_flag",1,"input-checkbox"],["for","family_violence_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_conviction_similar_flag",1,"input-checkbox"],["for","criminal_conviction_similar_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_conviction_other_flag",1,"input-checkbox"],["for","criminal_conviction_other_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_barangay_flag",1,"input-checkbox"],["for","criminal_barangay_flag",1,"pl-3","py-0.5"],["for","criminal_barangay_remarks",3,"ngClass"],["type","text","name","criminal_barangay_remarks","id","criminal_barangay_remarks","formControlName","criminal_barangay_remarks",1,"input",3,"ngClass"],[1,"grid","grid-cols-1","mt-32"],[1,"flex","justify-center","text-sky-500"],["animation","spin",1,"",3,"icon"],[1,"flex","justify-center"],[3,"icon"],["animation","spin",3,"icon"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Alleged Perpetrator Details "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,ke,16,9,"form",6)(8,Fe,5,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return i.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return i.onSubmit()}),e.DNE(13,ye,1,1,"fa-icon",11)(14,je,1,1,"fa-icon",12),e.EFF(15),e.k0s()()()()(),e.nrm(16,"div",13)),2&a&&(e.R7$(7),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(4),e.Y8G("disabled",i.is_saving||i.perpetratorForm.invalid),e.R7$(),e.Y8G("ngIf",!i.is_saving),e.R7$(),e.Y8G("ngIf",i.is_saving),e.R7$(),e.SpI(" ",i.perpetratorForm.value.id?i.is_saving?"Updating":"Update":i.is_saving?"Saving":"Save"," "))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();const v=n=>({"text-red-500":n}),b=n=>({"invalid-input":n});function xe(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ce(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,xe,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.case_date.errors?null:t.f.case_date.errors.required)}}function we(n,o){1&n&&(e.j41(0,"div",114)(1,"label",115),e.EFF(2,"Other Abuses"),e.k0s(),e.nrm(3,"input",116),e.k0s())}function Ie(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function Ee(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"label",117),e.EFF(2,"Region"),e.k0s(),e.j41(3,"select",118),e.bIt("change",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.loadDemog("regions",i.intakeForm.value.region,"provinces"))}),e.DNE(4,Ie,2,2,"option",45),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,v,t.show_error&&t.f.region.errors)),e.R7$(3),e.Y8G("ngForOf",t.regions)}}function Ge(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function Re(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"label",120),e.EFF(2,"Province"),e.k0s(),e.j41(3,"select",121),e.bIt("change",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.loadDemog("provinces",i.intakeForm.value.province,"municipalities"))}),e.DNE(4,Ge,2,2,"option",45),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,v,t.show_error&&t.f.province.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,b,t.show_error&&t.f.province.errors)),e.R7$(),e.Y8G("ngForOf",t.provinces)}}function $e(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function Me(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"label",122),e.EFF(2,"Municipality"),e.k0s(),e.j41(3,"select",123),e.bIt("change",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.loadDemog("municipalities",i.intakeForm.value.municipality,"barangays"))}),e.DNE(4,$e,2,2,"option",45),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,v,t.show_error&&t.f.municipality.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,b,t.show_error&&t.f.municipality.errors)),e.R7$(),e.Y8G("ngForOf",t.municipalities)}}function Ye(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function Ne(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function Te(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Ne,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.barangay_code.errors?null:t.f.barangay_code.errors.required)}}function De(n,o){if(1&n&&(e.j41(0,"div")(1,"label",124),e.EFF(2,"Barangay"),e.k0s(),e.j41(3,"select",125),e.DNE(4,Ye,2,2,"option",45),e.k0s(),e.DNE(5,Te,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(4,v,t.show_error&&t.f.barangay_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,b,t.show_error&&t.f.barangay_code.errors)),e.R7$(),e.Y8G("ngForOf",t.barangays),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.barangay_code.errors)}}function Se(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function Xe(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Se,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.address.errors?null:t.f.address.errors.required)}}function Je(n,o){if(1&n&&(e.j41(0,"div",9)(1,"label",126),e.EFF(2,"Address"),e.k0s(),e.nrm(3,"input",127),e.DNE(4,Xe,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,v,t.show_error&&t.f.address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,b,t.show_error&&t.f.address.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.address.errors)}}function Ve(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function qe(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Ve,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.direction_to_address.errors?null:t.f.direction_to_address.errors.required)}}function Oe(n,o){if(1&n&&(e.j41(0,"div",9)(1,"label",128),e.EFF(2,"Direction to address"),e.k0s(),e.nrm(3,"input",129),e.DNE(4,qe,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,v,t.show_error&&t.f.direction_to_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,b,t.show_error&&t.f.direction_to_address.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.direction_to_address.errors)}}function Be(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Pe(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Be,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.guardian_name.errors?null:t.f.guardian_name.errors.required)}}function Ae(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function He(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Ae,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.guardian_address.errors?null:t.f.guardian_address.errors.required)}}function Ue(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Le(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function ze(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,Le,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.relation_to_child_id.errors?null:t.f.relation_to_child_id.errors.required)}}function We(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Qe(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,We,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.guardian_contact_info.errors?null:t.f.guardian_contact_info.errors.required)}}function Ze(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",130),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("add_family"))}),e.nrm(1,"fa-icon",131),e.EFF(2,"Add "),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function Ke(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",132)(1,"td",133)(2,"fa-icon",134),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.toggleModal("add_family",i))}),e.k0s()(),e.j41(3,"td",133),e.EFF(4),e.k0s(),e.j41(5,"td",133),e.EFF(6),e.k0s(),e.j41(7,"td",133),e.EFF(8),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(2),e.Y8G("icon",a.faEdit),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Lme(" ",t.age," | ",t.gender," "),e.R7$(2),e.SpI(" ",t.relation.desc," ")}}function et(n,o){1&n&&(e.j41(0,"tr",132)(1,"td",135)(2,"div",136)(3,"div",137),e.EFF(4,"No records to show..."),e.k0s()()()())}function tt(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function nt(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function it(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,nt,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.economic_status_id.errors?null:t.f.economic_status_id.errors.required)}}function at(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function st(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,at,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.number_of_children.errors?null:t.f.number_of_children.errors.required)}}function ot(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function rt(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,ot,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.number_of_individual_members.errors?null:t.f.number_of_individual_members.errors.required)}}function lt(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function _t(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,lt,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.number_of_family.errors?null:t.f.number_of_family.errors.required)}}function dt(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",138)(1,"div",139)(2,"input",140),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.incestCase())}),e.k0s(),e.j41(3,"label",141),e.EFF(4,"is this an incest case?"),e.k0s()()()}}function ct(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function pt(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function mt(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,pt,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.abuse_living_arrangement_id.errors?null:t.f.abuse_living_arrangement_id.errors.required)}}function ut(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function ft(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,ut,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.abuse_living_arrangement_remarks.errors?null:t.f.abuse_living_arrangement_remarks.errors.required)}}function gt(n,o){if(1&n&&(e.j41(0,"option",119),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function vt(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function bt(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,vt,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.present_living_arrangement_id.errors?null:t.f.present_living_arrangement_id.errors.required)}}function ht(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function kt(n,o){if(1&n&&(e.j41(0,"div",113),e.DNE(1,ht,2,1,"div",34),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.present_living_arrangement_remarks.errors?null:t.f.present_living_arrangement_remarks.errors.required)}}function Ft(n,o){if(1&n&&(e.j41(0,"div",142)(1,"div",70),e.EFF(2," Sleeping and living arrangement for incest cases "),e.k0s(),e.j41(3,"div",8)(4,"div",71),e.EFF(5," Same bed/mat with (check all that applies) "),e.k0s(),e.j41(6,"div",72)(7,"div"),e.nrm(8,"input",143),e.j41(9,"label",33),e.EFF(10,"Adult male"),e.k0s()(),e.j41(11,"div"),e.nrm(12,"input",144),e.j41(13,"label",33),e.EFF(14,"Adult female"),e.k0s()(),e.j41(15,"div"),e.nrm(16,"input",145),e.j41(17,"label",33),e.EFF(18,"Male child(ren)"),e.k0s()(),e.j41(19,"div"),e.nrm(20,"input",146),e.j41(21,"label",33),e.EFF(22,"Female child(ren)"),e.k0s()()(),e.j41(23,"div",71),e.EFF(24," Same room with (check all that applies) "),e.k0s(),e.j41(25,"div",72)(26,"div"),e.nrm(27,"input",147),e.j41(28,"label",33),e.EFF(29,"Adult male"),e.k0s()(),e.j41(30,"div"),e.nrm(31,"input",148),e.j41(32,"label",33),e.EFF(33,"Adult female"),e.k0s()(),e.j41(34,"div"),e.nrm(35,"input",149),e.j41(36,"label",33),e.EFF(37,"Male child(ren)"),e.k0s()(),e.j41(38,"div"),e.nrm(39,"input",150),e.j41(40,"label",33),e.EFF(41,"Female child(ren)"),e.k0s()()(),e.j41(42,"div",9)(43,"label",151),e.EFF(44,"Living arrangement at time of abuse"),e.k0s(),e.j41(45,"select",152),e.DNE(46,ct,2,2,"option",45),e.k0s(),e.DNE(47,mt,2,1,"div",14),e.k0s(),e.j41(48,"div",9)(49,"label",153),e.EFF(50,"Location"),e.k0s(),e.nrm(51,"input",154),e.DNE(52,ft,2,1,"div",14),e.k0s(),e.j41(53,"div",9)(54,"label",155),e.EFF(55,"Living arrangement at present"),e.k0s(),e.j41(56,"select",156),e.DNE(57,gt,2,2,"option",45),e.k0s(),e.DNE(58,bt,2,1,"div",14),e.k0s(),e.j41(59,"div",9)(60,"label",157),e.EFF(61,"Location"),e.k0s(),e.nrm(62,"input",158),e.DNE(63,kt,2,1,"div",14),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(43),e.Y8G("ngClass",e.eq3(14,v,t.show_error&&t.f.abuse_living_arrangement_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(16,b,t.show_error&&t.f.abuse_living_arrangement_id.errors)),e.R7$(),e.Y8G("ngForOf",t.living_arrangements),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.abuse_living_arrangement_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(18,v,t.show_error&&t.f.abuse_living_arrangement_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(20,b,t.show_error&&t.f.abuse_living_arrangement_remarks.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.abuse_living_arrangement_remarks.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(22,v,t.show_error&&t.f.present_living_arrangement_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(24,b,t.show_error&&t.f.present_living_arrangement_id.errors)),e.R7$(),e.Y8G("ngForOf",t.living_arrangements),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.present_living_arrangement_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(26,v,t.show_error&&t.f.present_living_arrangement_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(28,b,t.show_error&&t.f.present_living_arrangement_remarks.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.present_living_arrangement_remarks.errors)}}function yt(n,o){1&n&&(e.j41(0,"div",50)(1,"span",162),e.EFF(2," No records to show "),e.k0s()())}function jt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," | LGBTQ"),e.k0s())}function xt(n,o){if(1&n&&(e.j41(0,"span")(1,"span",174),e.EFF(2,"Permanent:"),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.nrm(5,"br")(6,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.SpI(" ",t.perpetrator_address,"")}}function Ct(n,o){if(1&n&&(e.j41(0,"span")(1,"span",174),e.EFF(2,"Current:"),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.SpI(" ",t.perpetrator_current_address," ")}}function wt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function It(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," Alcohol "),e.nrm(2,"br")(3,"br"),e.k0s())}function Et(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," Drugs: "),e.j41(2,"span",175),e.EFF(3),e.k0s(),e.nrm(4,"br")(5,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.abuse_drugs_remarks)}}function Gt(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," Others: "),e.j41(2,"span",175),e.EFF(3),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.abuse_others_remarks)}}function Rt(n,o){1&n&&(e.j41(0,"span",176),e.EFF(1," Abuse"),e.nrm(2,"br"),e.k0s())}function $t(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Abused as a child"),e.nrm(2,"br"),e.k0s())}function Mt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Abused as a spouse"),e.nrm(2,"br"),e.k0s())}function Yt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Spouse abuser"),e.nrm(2,"br"),e.k0s())}function Nt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Witness family violence"),e.nrm(2,"br"),e.k0s())}function Tt(n,o){1&n&&(e.j41(0,"span",176),e.nrm(1,"br"),e.EFF(2," Criminal"),e.nrm(3,"br"),e.k0s())}function Dt(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Previous conviction for similar offense"),e.nrm(2,"br"),e.k0s())}function St(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Previous conviction for other offense"),e.nrm(2,"br"),e.k0s())}function Xt(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," - Others: "),e.j41(2,"span",175),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.criminal_barangay_remarks)}}function Jt(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",168)(1,"td",169)(2,"fa-icon",134),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.toggleModal("perpetrators",i))}),e.k0s()(),e.j41(3,"td",169),e.EFF(4),e.nrm(5,"br"),e.EFF(6),e.DNE(7,jt,2,0,"span",34),e.EFF(8," ) "),e.k0s(),e.j41(9,"td",170),e.DNE(10,xt,7,1,"span",34)(11,Ct,5,1,"span",34),e.k0s(),e.j41(12,"td",171),e.DNE(13,wt,2,0,"span",34)(14,It,4,0,"span",34)(15,Et,6,1,"span",34)(16,Gt,4,1,"span",34),e.k0s(),e.j41(17,"td",172),e.DNE(18,Rt,3,0,"span",173)(19,$t,3,0,"span",34)(20,Mt,3,0,"span",34)(21,Yt,3,0,"span",34)(22,Nt,3,0,"span",34)(23,Tt,4,0,"span",173)(24,Dt,3,0,"span",34)(25,St,3,0,"span",34)(26,Xt,5,1,"span",34),e.k0s(),e.nrm(27,"td"),e.k0s()}if(2&n){let t;const a=o.$implicit,i=e.XpG(4);e.R7$(2),e.Y8G("icon",i.faEdit),e.R7$(2),e.SpI(" ",null!==(t=a.perpetrator_name)&&void 0!==t?t:"-"," "),e.R7$(2),e.Lme(" ( ",a.perpetrator_age," | ",a.gender?"M"===a.gender?"Male":"Female":"-"," "),e.R7$(),e.Y8G("ngIf",a.lgbtq_flag),e.R7$(3),e.Y8G("ngIf",a.perpetrator_address),e.R7$(),e.Y8G("ngIf",a.perpetrator_current_address),e.R7$(2),e.Y8G("ngIf",!a.abuse_alcohol_flag&&!a.abuse_drugs_flag&&!a.abuse_others_flag),e.R7$(),e.Y8G("ngIf",a.abuse_alcohol_flag),e.R7$(),e.Y8G("ngIf",a.abuse_drugs_flag),e.R7$(),e.Y8G("ngIf",a.abuse_others_flag),e.R7$(2),e.Y8G("ngIf",a.abused_as_child_flag||a.abused_as_spouse_flag||a.spouse_abuser_flag||a.family_violence_flag),e.R7$(),e.Y8G("ngIf",a.abused_as_child_flag),e.R7$(),e.Y8G("ngIf",a.abused_as_spouse_flag),e.R7$(),e.Y8G("ngIf",a.spouse_abuser_flag),e.R7$(),e.Y8G("ngIf",a.family_violence_flag),e.R7$(),e.Y8G("ngIf",a.criminal_conviction_similar_flag||a.criminal_conviction_other_flag||a.criminal_barangay_flag),e.R7$(),e.Y8G("ngIf",a.criminal_conviction_similar_flag),e.R7$(),e.Y8G("ngIf",a.criminal_conviction_other_flag),e.R7$(),e.Y8G("ngIf",a.criminal_barangay_flag)}}function Vt(n,o){if(1&n&&(e.j41(0,"table",163)(1,"thead")(2,"tr"),e.nrm(3,"td",164),e.j41(4,"td",165),e.EFF(5," Name"),e.nrm(6,"br"),e.EFF(7," (Age | Gender)"),e.nrm(8,"br")(9,"br"),e.k0s(),e.j41(10,"td",166),e.EFF(11," Address "),e.k0s(),e.j41(12,"td",166),e.EFF(13," Substance abuse "),e.k0s(),e.j41(14,"td",165),e.EFF(15," History "),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Jt,28,20,"tr",167),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(17),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function qt(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",56)(1,"div",57),e.EFF(2," Perpetrator (s) "),e.k0s(),e.j41(3,"div",159)(4,"div",48)(5,"spa"),e.EFF(6,"Alleged Perpetrator"),e.k0s(),e.j41(7,"button",130),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("perpetrators"))}),e.nrm(8,"fa-icon",131),e.k0s()(),e.DNE(9,yt,3,0,"div",160)(10,Vt,18,1,"table",161),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(8),e.Y8G("icon",t.faPlus),e.R7$(),e.Y8G("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.interview_perpetrator)),e.R7$(),e.Y8G("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function Ot(n,o){if(1&n&&e.nrm(0,"fa-icon",177),2&n){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Bt(n,o){if(1&n&&e.nrm(0,"fa-icon",178),2&n){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function Pt(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"form",5),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.j41(3,"div",6)(4,"div",7),e.EFF(5," Case Details "),e.k0s(),e.j41(6,"div",8)(7,"div",9)(8,"label",10),e.EFF(9,"Case Number"),e.k0s(),e.nrm(10,"input",11),e.k0s(),e.j41(11,"div",9)(12,"label",12),e.EFF(13,"Date"),e.k0s(),e.nrm(14,"input",13),e.DNE(15,Ce,2,1,"div",14),e.k0s()()(),e.j41(16,"div",6)(17,"div",7),e.EFF(18," Primary Complaint "),e.k0s(),e.j41(19,"div",15)(20,"div",9),e.nrm(21,"input",16),e.j41(22,"label",17),e.EFF(23,"Physical Abuse"),e.k0s()(),e.j41(24,"div",9)(25,"input",18),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.sexualAbuse())}),e.k0s(),e.j41(26,"label",19),e.EFF(27,"Sexual Abuse"),e.k0s()(),e.j41(28,"div",9),e.nrm(29,"input",20),e.j41(30,"label",21),e.EFF(31,"Neglects"),e.k0s()(),e.j41(32,"div",9),e.nrm(33,"input",22),e.j41(34,"label",23),e.EFF(35,"Emotional/Psychological Abuse"),e.k0s()(),e.j41(36,"div",9),e.nrm(37,"input",24),e.j41(38,"label",25),e.EFF(39,"Economic Abuse"),e.k0s()(),e.j41(40,"div",9),e.nrm(41,"input",26),e.j41(42,"label",27),e.EFF(43,"Unable to Validate"),e.k0s()(),e.j41(44,"div",9),e.nrm(45,"input",28),e.j41(46,"label",29),e.EFF(47,"Others"),e.k0s()(),e.DNE(48,we,4,0,"div",30),e.k0s()(),e.j41(49,"div",6)(50,"div",7),e.EFF(51," Present Address "),e.k0s(),e.j41(52,"div",31),e.nrm(53,"input",32),e.j41(54,"label",33),e.EFF(55,"Is the clients present addresss same with the declared address?"),e.k0s()(),e.j41(56,"div",15),e.DNE(57,Ee,5,4,"div",34)(58,Re,5,7,"div",34)(59,Me,5,7,"div",34)(60,De,6,8,"div",34)(61,Je,5,7,"div",35)(62,Oe,5,7,"div",35),e.j41(63,"div",36)(64,"div",37),e.EFF(65," Guardian Information "),e.k0s(),e.j41(66,"div",38)(67,"div",9)(68,"label",39),e.EFF(69,"Parent/caregiver/guardian name"),e.k0s(),e.nrm(70,"input",40),e.DNE(71,Pe,2,1,"div",14),e.k0s(),e.j41(72,"div",9)(73,"label",41),e.EFF(74,"Address"),e.k0s(),e.nrm(75,"input",42),e.DNE(76,He,2,1,"div",14),e.k0s(),e.j41(77,"div",9)(78,"label",43),e.EFF(79,"Relation to child"),e.k0s(),e.j41(80,"select",44),e.DNE(81,Ue,2,2,"option",45),e.k0s(),e.DNE(82,ze,2,1,"div",14),e.k0s(),e.j41(83,"div",9)(84,"label",46),e.EFF(85,"Contact No. (0912) 354-6789"),e.k0s(),e.nrm(86,"input",47),e.DNE(87,Qe,2,1,"div",14),e.k0s()()(),e.j41(88,"div",36)(89,"div",48)(90,"spa"),e.EFF(91,"Family Composition"),e.k0s(),e.DNE(92,Ze,3,1,"button",49),e.k0s(),e.j41(93,"div",50)(94,"table",51)(95,"thead",52)(96,"tr"),e.nrm(97,"th",53),e.j41(98,"th",53),e.EFF(99,"Name"),e.k0s(),e.j41(100,"th",53),e.EFF(101,"Age | Gender"),e.k0s(),e.j41(102,"th",53),e.EFF(103,"Relation"),e.k0s()()(),e.j41(104,"tbody"),e.DNE(105,Ke,9,5,"tr",54)(106,et,5,0,"tr",55),e.k0s()()()()()(),e.j41(107,"div",56)(108,"div",57),e.EFF(109," Socio-economic Status "),e.k0s(),e.j41(110,"div",8)(111,"div",9)(112,"label",58),e.EFF(113,"Economic status"),e.k0s(),e.j41(114,"select",59),e.DNE(115,tt,2,2,"option",45),e.k0s(),e.DNE(116,it,2,1,"div",14),e.k0s(),e.j41(117,"div",9)(118,"label",60),e.EFF(119,"No. of children"),e.k0s(),e.nrm(120,"input",61),e.DNE(121,st,2,1,"div",14),e.k0s(),e.j41(122,"div",9)(123,"label",62),e.EFF(124,"No. of individual family members"),e.k0s(),e.nrm(125,"input",63),e.DNE(126,rt,2,1,"div",14),e.k0s(),e.j41(127,"div",9)(128,"label",64),e.EFF(129,"No. of family in household"),e.k0s(),e.nrm(130,"input",65),e.DNE(131,_t,2,1,"div",14),e.k0s()()(),e.DNE(132,dt,5,0,"div",66)(133,Ft,64,30,"div",67)(134,qt,11,3,"div",68),e.j41(135,"div",69)(136,"div",70),e.EFF(137," Additional Information to be gathered by the WCPD "),e.k0s(),e.j41(138,"div",8)(139,"div",71),e.EFF(140," Violence Against Women "),e.k0s(),e.j41(141,"div",72)(142,"div"),e.nrm(143,"input",73),e.j41(144,"label",74),e.EFF(145,"Physical"),e.k0s()(),e.j41(146,"div"),e.nrm(147,"input",75),e.j41(148,"label",76),e.EFF(149,"Sexual"),e.k0s()(),e.j41(150,"div"),e.nrm(151,"input",77),e.j41(152,"label",78),e.EFF(153,"Psychological"),e.k0s()(),e.j41(154,"div"),e.nrm(155,"input",79),e.j41(156,"label",80),e.EFF(157,"Economic"),e.k0s()()(),e.j41(158,"div",71),e.EFF(159," Sexual Abuse "),e.k0s(),e.j41(160,"div",72)(161,"div"),e.nrm(162,"input",81),e.j41(163,"label",82),e.EFF(164,"Sexual Intercourse"),e.k0s()(),e.j41(165,"div"),e.nrm(166,"input",83),e.j41(167,"label",84),e.EFF(168,"Sexual Assault"),e.k0s()(),e.j41(169,"div"),e.nrm(170,"input",85),e.j41(171,"label",86),e.EFF(172,"Incest"),e.k0s()(),e.j41(173,"div"),e.nrm(174,"input",87),e.j41(175,"label",88),e.EFF(176,"Statutory Rape"),e.k0s()(),e.j41(177,"div"),e.nrm(178,"input",89),e.j41(179,"label",90),e.EFF(180,"Marital Rape"),e.k0s()()(),e.j41(181,"div",71),e.EFF(182," Sexual Harassment "),e.k0s(),e.j41(183,"div",72)(184,"div"),e.nrm(185,"input",91),e.j41(186,"label",92),e.EFF(187,"Verbal"),e.k0s()(),e.j41(188,"div"),e.nrm(189,"input",93),e.j41(190,"label",94),e.EFF(191,"Physical"),e.k0s()(),e.j41(192,"div",9),e.nrm(193,"input",95),e.j41(194,"label",96),e.EFF(195,"Use of object, picture, letter, notes with sexual underpinnings"),e.k0s()()(),e.j41(196,"div",71),e.EFF(197," Child abuse, exploitation and discrimination "),e.k0s(),e.j41(198,"div",72)(199,"div",9),e.nrm(200,"input",97),e.j41(201,"label",98),e.EFF(202,"Engage, facilitate, commit child prostitution"),e.k0s()(),e.j41(203,"div",9),e.nrm(204,"input",99),e.j41(205,"label",100),e.EFF(206,"Sexual intercourse or lasciviousness conduct"),e.k0s()(),e.j41(207,"div"),e.nrm(208,"input",101),e.j41(209,"label",102),e.EFF(210,"Physical"),e.k0s()(),e.j41(211,"div"),e.nrm(212,"input",103),e.j41(213,"label",104),e.EFF(214,"Emotional"),e.k0s()(),e.j41(215,"div"),e.nrm(216,"input",105),e.j41(217,"label",106),e.EFF(218,"Economic"),e.k0s()()(),e.j41(219,"div",9)(220,"label",107),e.EFF(221,"Others: Specify"),e.k0s(),e.nrm(222,"input",108),e.k0s()()(),e.j41(223,"div",109)(224,"button",110),e.DNE(225,Ot,1,1,"fa-icon",111)(226,Bt,1,1,"fa-icon",112),e.EFF(227),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("formGroup",t.intakeForm),e.R7$(10),e.Y8G("ngClass",e.eq3(51,v,t.show_error&&t.f.case_date.errors)),e.R7$(2),e.Y8G("max",t.max_date)("ngClass",e.eq3(53,b,t.show_error&&t.f.case_date.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.case_date.errors),e.R7$(33),e.Y8G("ngIf",t.intakeForm.value.others_abuse_flag),e.R7$(9),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(),e.Y8G("ngIf",!t.intakeForm.value.same_address_flag),e.R7$(6),e.Y8G("ngClass",e.eq3(55,v,t.show_error&&t.f.guardian_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(57,b,t.show_error&&t.f.guardian_name.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.guardian_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(59,v,t.show_error&&t.f.guardian_address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(61,b,t.show_error&&t.f.guardian_address.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.guardian_address.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(63,v,t.show_error&&t.f.relation_to_child_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(65,b,t.show_error&&t.f.relation_to_child_id.errors)),e.R7$(),e.Y8G("ngForOf",t.child_relations),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.relation_to_child_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(67,v,t.show_error&&t.f.guardian_contact_info.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(69,b,t.show_error&&t.f.guardian_contact_info.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.guardian_contact_info.errors),e.R7$(5),e.Y8G("ngIf",t.intakeForm.value.id),e.R7$(13),e.Y8G("ngForOf",t.family_members),e.R7$(),e.Y8G("ngIf",!t.family_members),e.R7$(6),e.Y8G("ngClass",e.eq3(71,v,t.show_error&&t.f.economic_status_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(73,b,t.show_error&&t.f.economic_status_id.errors)),e.R7$(),e.Y8G("ngForOf",t.economic_statuses),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.economic_status_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(75,v,t.show_error&&t.f.number_of_children.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(77,b,t.show_error&&t.f.number_of_children.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.number_of_children.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(79,v,t.show_error&&t.f.number_of_individual_members.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(81,b,t.show_error&&t.f.number_of_individual_members.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.number_of_individual_members.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(83,v,t.show_error&&t.f.number_of_family.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(85,b,t.show_error&&t.f.number_of_family.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.number_of_family.errors),e.R7$(),e.Y8G("ngIf",t.intakeForm.value.sexual_abuse_flag),e.R7$(),e.Y8G("ngIf",t.intakeForm.value.incest_case_flag),e.R7$(),e.Y8G("ngIf",t.intakeForm.value.id),e.R7$(86),e.Y8G("ngClass",e.eq3(87,v,t.show_error&&t.f.wcpd_others.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(89,b,t.show_error&&t.f.wcpd_others.errors)),e.R7$(2),e.Y8G("disabled",t.is_saving),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.intakeForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function At(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-family-composition",179),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.selected_gbv_case.patient_id)("patient_gbv_id",t.selected_gbv_case.id)("selected_member",t.selected_member)}}function Ht(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-perpetrators",180),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_perpetrator",t.selected_perpetrator)("intake_id",t.intakeForm.value.id)("patient_id",t.selected_gbv_case.patient_id)}}let Ut=(()=>{class n{onSubmit(){let t;console.log(this.intakeForm.value),this.intakeForm.value.others_abuse_flag||this.intakeForm.patchValue({others_abuse_remarks:null}),t=this.intakeForm.value.id?this.http.update("gender-based-violence/patient-gbv-intake/",this.intakeForm.value.id,this.intakeForm.value):this.http.post("gender-based-violence/patient-gbv-intake",this.intakeForm.value),t.subscribe({next:a=>{this.toastr.success("Successfully recorded!","Intake Form"),this.reloadData()},error:a=>console.log(a)})}loadLibraries(){this.libraries.forEach((t,a)=>{this.http.get("libraries/"+t.location).subscribe({next:i=>{this[t.var_name]=i.data,this.libraries.length-1===a&&(this.show_form=!0)},error:i=>console.log(i)})})}loadSelectedConsult(){this.intakeForm.controls.case_number.disable(),"WCPD"!==this.pos&&(this.f.vaw_physical_flag.disable(),this.f.vaw_sexual_flag.disable(),this.f.vaw_psychological_flag.disable(),this.f.vaw_economic_flag.disable(),this.f.rape_sex_intercourse_flag.disable(),this.f.rape_sex_assault_flag.disable(),this.f.rape_incest_flag.disable(),this.f.rape_statutory_flag.disable(),this.f.rape_marital_flag.disable(),this.f.harassment_verbal_flag.disable(),this.f.harassment_physical_flag.disable(),this.f.harassment_object_flag.disable(),this.f.child_abuse_engaged_flag.disable(),this.f.child_abuse_sexual_flag.disable(),this.f.child_abuse_physical_flag.disable(),this.f.child_abuse_emotional_flag.disable(),this.f.child_abuse_economic_flag.disable(),this.f.wcpd_others.disable()),this.selected_gbv_case.gbvIntake?(console.log(this.selected_gbv_case.gbvIntake),this.intakeForm.patchValue({...this.selected_gbv_case.gbvIntake}),this.intakeForm.patchValue({case_date:this.selected_gbv_case.gbvIntake?(0,_.Yq)(this.selected_gbv_case.gbvIntake.case_date,"yyyy-MM-dd","en","Asia/Manila"):null})):this.intakeForm.patchValue({patient_id:this.selected_gbv_case.patient_id,patient_gbv_id:this.selected_gbv_case.id}),console.log(this.intakeForm.value)}sexualAbuse(){this.intakeForm.value.sexual_abuse_flag&&this.intakeForm.patchValue({incest_case_flag:0})}incestCase(){this.intakeForm.value.incest_case_flag||this.intakeForm.patchValue({same_bed_adult_male_flag:null,same_bed_adult_female_flag:null,same_bed_child_male_flag:null,same_bed_child_female_flag:null,same_room_adult_male_flag:null,same_room_adult_female_flag:null,same_room_child_male_flag:null,same_room_child_female_flag:null,abuse_living_arrangement_id:null,abuse_living_arrangement_remarks:null,present_living_arrangement_id:null,present_living_arrangement_remarks:null})}reloadData(){let t={id:this.selected_gbv_case.id};console.log(t),this.http.get("gender-based-violence/patient-gbv",{params:t}).subscribe({next:a=>{console.log(a),this.selected_gbv_case=a.data[0],this.loadSelectedConsult(),this.updateSelectedGbv.emit(this.selected_gbv_case)},error:a=>console.log(a)})}loadFamily(){this.http.get("gender-based-violence/patient-gbv-family-composition",{params:{patient_id:this.patient_id}}).subscribe({next:a=>{this.family_members=a.data},error:a=>console.log(a)})}loadDemog(t,a,i){"0"!==a?this.http.get("libraries/"+t+"/"+a,{params:{include:i}}).subscribe({next:r=>{this[i]=r.data[i],this.disaledSelection(t,a)},error:r=>console.log(r)}):this.disaledSelection(t,a)}createForm(){this.intakeForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[null],consent_flag:[!1],consent_relation_to_child_id:[null],case_number:[null],case_date:[null],primary_complaint_id:[null],primary_complaint_remarks:[null],physical_abuse_flag:[!1],sexual_abuse_flag:[!1],neglect_abuse_flag:[!1],emotional_abuse_flag:[!1],economic_abuse_flag:[!1],utv_abuse_flag:[!1],others_abuse_flag:[!1],others_abuse_remarks:[null],neglect_remarks:[null],behavioral_remarks:[null],service_remarks:[null],region:[null],province:[null],municipality:[null],same_address_flag:[!1],barangay_code:[null],address:[null],direction_to_address:[null],guardian_name:[null],guardian_address:[null],relation_to_child_id:[null],guardian_contact_info:[null],economic_status_id:[null],number_of_children:[null],number_of_individual_members:[null],number_of_family:[null],incest_case_flag:[null],sleeping_arrangement_id:[null],sleeping_arrangement_remarks:[null],same_bed_adult_male_flag:[!1],same_bed_adult_female_flag:[!1],same_bed_child_male_flag:[!1],same_bed_child_female_flag:[!1],same_room_adult_male_flag:[!1],same_room_adult_female_flag:[!1],same_room_child_male_flag:[!1],same_room_child_female_flag:[!1],abuse_living_arrangement_id:[null],abuse_living_arrangement_remarks:[null],present_living_arrangement_id:[null],present_living_arrangement_remarks:[null],vaw_physical_flag:[!1],vaw_sexual_flag:[!1],vaw_psychological_flag:[!1],vaw_economic_flag:[!1],rape_sex_intercourse_flag:[!1],rape_sex_assault_flag:[!1],rape_incest_flag:[!1],rape_statutory_flag:[!1],rape_marital_flag:[!1],harassment_verbal_flag:[!1],harassment_physical_flag:[!1],harassment_object_flag:[!1],child_abuse_engaged_flag:[!1],child_abuse_sexual_flag:[!1],child_abuse_physical_flag:[!1],child_abuse_emotional_flag:[!1],child_abuse_economic_flag:[!1],wcpd_others:[null]}),this.loadSelectedConsult(),this.loadFamily()}disaledSelection(t,a){"regions"===t?(this.municipalities=null,this.barangays=null,this.f.province.enable(),this.f.municipality.disable(),this.f.barangay_code.disable(),this.f.address.disable()):"provinces"===t?(this.barangays=null,this.f.municipality.enable(),this.f.barangay_code.disable(),this.f.address.disable()):"municipalities"===t&&(this.f.barangay_code.enable(),this.f.address.enable())}get f(){return this.intakeForm.controls}toggleModal(t,a){"perpetrators"===t?this.selected_perpetrator={act_title:"Perpetrator",data:a}:"add_family"===t&&(this.selected_member=a??null),this.modals[t]=!this.modals[t],"add_family"===t&&!this.modals[t]&&this.loadFamily(),"perpetrators"===t&&!this.modals[t]&&this.reloadData()}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.updateSelectedGbv=new e.bkB,this.faPlus=c.QLR,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.faEdit=f.MT7,this.max_date=(0,_.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.show_form=!0,this.modals=[],this.intakeForm=V(),this.libraries=[{var_name:"regions",location:"regions"},{var_name:"economic_statuses",location:"gbv-economic-status"},{var_name:"living_arrangements",location:"gbv-living-arrangement"},{var_name:"child_relations",location:"child-relation"}]}ngOnInit(){this.loadLibraries(),this.createForm()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-intake"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},standalone:!1,decls:3,vars:3,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"patient_id","patient_gbv_id","selected_member","toggleModal",4,"ngIf"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","case_number"],["type","text","disabled","","name","case_number","id","case_number","formControlName","case_number",1,"input"],["for","case_date",3,"ngClass"],["type","date","name","case_date","id","case_date","formControlName","case_date",1,"input",3,"max","ngClass"],["class","invalid-alert",4,"ngIf"],[1,"mx-5","col-span-3","grid","grid-cols-4","gap-4"],["type","checkbox","id","physical_abuse_flag","formControlName","physical_abuse_flag",1,"input-checkbox"],["for","physical_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","sexual_abuse_flag","formControlName","sexual_abuse_flag",1,"input-checkbox",3,"click"],["for","sexual_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","neglect_abuse_flag","formControlName","neglect_abuse_flag",1,"input-checkbox"],["for","neglect_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","emotional_abuse_flag","formControlName","emotional_abuse_flag",1,"input-checkbox"],["for","emotional_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","economic_abuse_flag","formControlName","economic_abuse_flag",1,"input-checkbox"],["for","economic_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","utv_abuse_flag","formControlName","utv_abuse_flag",1,"input-checkbox"],["for","utv_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","others_abuse_flag","formControlName","others_abuse_flag",1,"input-checkbox"],["for","others_abuse_flag",1,"pl-3","py-0.5"],["class","col-span-4",4,"ngIf"],[1,"col-span-3"],["type","checkbox","formControlName","same_address_flag","checked","",1,"input-checkbox","ml-3"],[1,"pl-3","py-0.5"],[4,"ngIf"],["class","col-span-2",4,"ngIf"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","pl-3","rounded-t-md"],[1,"grid","grid-cols-4","gap-4","mt-3","mb-5","mx-5"],["for","guardian_name",3,"ngClass"],["type","text","name","guardian_name","id","guardian_name","formControlName","guardian_name",1,"input",3,"ngClass"],["for","guardian_address",3,"ngClass"],["type","text","name","guardian_address","id","guardian_address","formControlName","guardian_address",1,"input",3,"ngClass"],["for","relation_to_child_id",3,"ngClass"],["name","relation_to_child_id","id","relation_to_child_id","formControlName","relation_to_child_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","guardian_contact_info",3,"ngClass"],["type","text","mask","(9999) 999-9999","name","guardian_contact_info","id","guardian_contact_info","formControlName","guardian_contact_info",1,"input",3,"showMaskTyped","ngClass"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],[1,"min-h-24"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-sky-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],["for","economic_status_id",3,"ngClass"],["name","economic_status_id","id","economic_status_id","formControlName","economic_status_id",1,"input",3,"ngClass"],["for","number_of_children",3,"ngClass"],["type","number","name","number_of_children","id","number_of_children","formControlName","number_of_children",1,"input",3,"ngClass"],["for","number_of_individual_members",3,"ngClass"],["type","number","name","number_of_individual_members","id","number_of_individual_members","formControlName","number_of_individual_members",1,"input",3,"ngClass"],["for","number_of_family",3,"ngClass"],["type","number","name","number_of_family","id","number_of_family","formControlName","number_of_family",1,"input",3,"ngClass"],["class","grid grid-cols-1 mt-5",4,"ngIf"],["class","-mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],[1,"mt-3","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-2","font-semibold","text-sky-500"],[1,"col-span-4","font-semibold"],[1,"col-span-4","grid","grid-cols-4","-mt-4"],["type","checkbox","id","vaw_physical_flag","formControlName","vaw_physical_flag",1,"input-checkbox"],["for","vaw_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_sexual_flag","formControlName","vaw_sexual_flag",1,"input-checkbox"],["for","vaw_sexual_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_psychological_flag","formControlName","vaw_psychological_flag",1,"input-checkbox"],["for","vaw_psychological_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_economic_flag","formControlName","vaw_economic_flag",1,"input-checkbox"],["for","vaw_economic_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_sex_intercourse_flag","formControlName","rape_sex_intercourse_flag",1,"input-checkbox"],["for","rape_sex_intercourse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_sex_assault_flag","formControlName","rape_sex_assault_flag",1,"input-checkbox"],["for","rape_sex_assault_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_incest_flag","formControlName","rape_incest_flag",1,"input-checkbox"],["for","rape_incest_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_statutory_flag","formControlName","rape_statutory_flag",1,"input-checkbox"],["for","rape_statutory_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_marital_flag","formControlName","rape_marital_flag",1,"input-checkbox"],["for","rape_marital_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_verbal_flag","formControlName","harassment_verbal_flag",1,"input-checkbox"],["for","harassment_verbal_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_physical_flag","formControlName","harassment_physical_flag",1,"input-checkbox"],["for","harassment_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_object_flag","formControlName","harassment_object_flag",1,"input-checkbox"],["for","harassment_object_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_engaged_flag","formControlName","child_abuse_engaged_flag",1,"input-checkbox"],["for","child_abuse_engaged_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_sexual_flag","formControlName","child_abuse_sexual_flag",1,"input-checkbox"],["for","child_abuse_sexual_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_physical_flag","formControlName","child_abuse_physical_flag",1,"input-checkbox"],["for","child_abuse_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_emotional_flag","formControlName","child_abuse_emotional_flag",1,"input-checkbox"],["for","child_abuse_emotional_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_economic_flag","formControlName","child_abuse_economic_flag",1,"input-checkbox"],["for","child_abuse_economic_flag",1,"pl-3","py-0.5"],["for","wcpd_others",3,"ngClass"],["type","text","name","wcpd_others","id","wcpd_others","formControlName","wcpd_others",1,"input",3,"ngClass"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[1,"invalid-alert"],[1,"col-span-4"],["for","others_abuse_remarks"],["type","text","name","others_abuse_remarks","id","others_abuse_remarks","formControlName","others_abuse_remarks",1,"input"],["for","region",3,"ngClass"],["name","region","id","region","formControlName","region",1,"input",3,"change"],[3,"value"],["for","province",3,"ngClass"],["name","province","id","province","formControlName","province",1,"input",3,"change","ngClass"],["for","municipality",3,"ngClass"],["name","municipality","id","municipality","formControlName","municipality",1,"input",3,"change","ngClass"],["for","barangay_code",3,"ngClass"],["name","barangay_code","id","barangay_code","formControlName","barangay_code",1,"input",3,"ngClass"],["for","address",3,"ngClass"],["type","text","name","address","id","address","formControlName","address",1,"input",3,"ngClass"],["for","direction_to_address",3,"ngClass"],["type","text","name","direction_to_address","id","direction_to_address","formControlName","direction_to_address",1,"input",3,"ngClass"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],[1,"hover:cursor-pointer","text-orange-500",3,"click","icon"],["colspan","7"],[1,"text-center","py-3","flex","flex-col"],[1,"flex","justify-center"],[1,"grid","grid-cols-1","mt-5"],[1,"text-sky-500","font-semibold"],["type","checkbox","name","incest_case_flag","id","incest_case_flag","formControlName","incest_case_flag",1,"input-checkbox",3,"click"],["for","incest_case_flag",1,"pl-3","py-0.5"],[1,"-mt-1","grid","grid-cols-4","gap-x-4","w-full"],["type","checkbox","formControlName","same_bed_adult_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_adult_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_child_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_child_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_adult_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_adult_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_child_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_child_female_flag",1,"input-checkbox"],["for","abuse_living_arrangement_id",3,"ngClass"],["name","abuse_living_arrangement_id","id","abuse_living_arrangement_id","formControlName","abuse_living_arrangement_id",1,"input",3,"ngClass"],["for","abuse_living_arrangement_remarks",3,"ngClass"],["type","text","name","abuse_living_arrangement_remarks","id","abuse_living_arrangement_remarks","formControlName","abuse_living_arrangement_remarks",1,"input",3,"ngClass"],["for","present_living_arrangement_id",3,"ngClass"],["name","present_living_arrangement_id","id","present_living_arrangement_id","formControlName","present_living_arrangement_id",1,"input",3,"ngClass"],["for","present_living_arrangement_remarks",3,"ngClass"],["type","text","name","present_living_arrangement_remarks","id","present_living_arrangement_remarks","formControlName","present_living_arrangement_remarks",1,"input",3,"ngClass"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"w-1/12"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center","align-top","pt-3"],[1,"align-top","pt-3"],[1,"font-semibold","italic","align-top","pt-3"],[1,"p-3"],["class","font-semibold",4,"ngIf"],[1,"italic","font-semibold"],[1,"font-normal","not-italic"],[1,"font-semibold"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[3,"toggleModal","patient_id","patient_gbv_id","selected_member"],[3,"toggleModal","selected_perpetrator","intake_id","patient_id"]],template:function(a,i){1&a&&e.DNE(0,Pt,228,91,"div",0)(1,At,1,3,"app-family-composition",1)(2,Ht,1,3,"app-perpetrators",2),2&a&&(e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",i.modals.add_family),e.R7$(),e.Y8G("ngIf",i.modals.perpetrators))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,q.Zr,m.aY,pe,O],encapsulation:2})}}return n})();function zt(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",17)(1,"td",18),e.EFF(2),e.k0s(),e.j41(3,"td",19)(4,"input",20),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.abused_acts[1][r.id],i)||(l.abused_acts[1][r.id]=i),e.Njj(i)}),e.k0s()(),e.j41(5,"td",19)(6,"input",20),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.abused_acts[2][r.id],i)||(l.abused_acts[2][r.id]=i),e.Njj(i)}),e.k0s()(),e.j41(7,"td",19)(8,"input",20),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.abused_acts[3][r.id],i)||(l.abused_acts[3][r.id]=i),e.Njj(i)}),e.k0s()()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(2),e.SpI(" ",t.desc," "),e.R7$(2),e.R50("ngModel",a.abused_acts[1][t.id]),e.R7$(2),e.R50("ngModel",a.abused_acts[2][t.id]),e.R7$(2),e.R50("ngModel",a.abused_acts[3][t.id])}}function Wt(n,o){if(1&n&&(e.j41(0,"table",11)(1,"thead",12)(2,"tr")(3,"th",13),e.EFF(4,"Act"),e.k0s(),e.j41(5,"th",14),e.EFF(6,"Victim Survivor"),e.k0s(),e.j41(7,"th",14),e.EFF(8,"Historian"),e.k0s(),e.j41(9,"th",14),e.EFF(10,"Sworn Statement"),e.k0s()()(),e.j41(11,"tbody",15),e.DNE(12,zt,9,4,"tr",16),e.k0s()()),2&n){const t=e.XpG();e.R7$(12),e.Y8G("ngForOf",t.abuses)}}let Qt=(()=>{class n{onSubmit(){let t=[];Object.entries(this.abused_acts).forEach(([i,r],l)=>{Object.entries(r).forEach(([d,u],w)=>{u&&t.push({info_source_id:i,abused_id:d})})});let a={patient_id:this.patient_id,intake_id:this.intake_id,abused_array:t};console.log(a),this.http.post("gender-based-violence/"+this.selected_abused.save_url,a).subscribe({next:i=>{console.log(i),this.toastr.success("Successfully recorded",this.selected_abused.act_title),this.closeModal()},error:i=>console.log(i)})}loadLibraries(){this.http.get("libraries/"+this.selected_abused.url).subscribe({next:t=>{this.abuses=t.data,this.selected_abused.abused_data&&this.loadAbusedData()},error:t=>console.log(t)})}loadAbusedData(){Object.entries(this.selected_abused.abused_data).forEach(([t,a],i)=>{1===a.info_source_id&&(this.abused_acts[1][a[this.selected_abused.abused_id_name]]=!0),2===a.info_source_id&&(this.abused_acts[2][a[this.selected_abused.abused_id_name]]=!0),3===a.info_source_id&&(this.abused_acts[3][a[this.selected_abused.abused_id_name]]=!0)}),console.log(this.abused_acts)}closeModal(){this.toggleModal.emit("abuse_acts")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_error=!1,this.abused_acts={1:[],2:[],3:[]},this.abuses=[]}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-abuse-acts"]],inputs:{selected_abused:"selected_abused",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:15,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full text-sm text-left",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500","sticky","top-0"],["scope","col",1,"py-3","text-center","w-2/5"],["scope","col",1,"py-3","text-center","w-1/5"],[1,"h-96","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"py-4","text-center"],["type","checkbox",1,"input-checkbox",3,"ngModelChange","ngModel"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s()(),e.j41(6,"div",5),e.DNE(7,Wt,13,1,"table",6),e.k0s(),e.j41(8,"div",7)(9,"button",8),e.bIt("click",function(){return i.closeModal()}),e.EFF(10,"Close"),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return i.onSubmit()}),e.nrm(12,"fa-icon"),e.EFF(13),e.k0s()()()()(),e.nrm(14,"div",10)),2&a&&(e.R7$(5),e.SpI(" ",i.selected_abused.act_title," "),e.R7$(2),e.Y8G("ngIf",i.abuses),e.R7$(4),e.Y8G("disabled",i.is_saving),e.R7$(2),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,_.bT,s.Zm,s.BC,s.vS,m.aY],encapsulation:2})}}return n})();const M=n=>({"text-red-500":n}),Y=n=>({"invalid-input":n});function Zt(n,o){if(1&n&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.perpetrator_unknown_flag?"Unknown":t.perpetrator_name)}}let Kt=(()=>{class n{onSubmit(){let t;console.log(this.interviewForm.value),this.interviewForm.patchValue({interview_datetime:(0,_.Yq)(this.interviewForm.value.interview_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila")}),t=this.interviewForm.value.id?this.http.update("gender-based-violence/patient-gbv-interview-summary/",this.interviewForm.value.id,this.interviewForm.value):this.http.post("gender-based-violence/patient-gbv-interview-summary",this.interviewForm.value),t.subscribe({next:a=>{console.log(a),this.toastr.success("Successfully recorded!","Interview Summary"),this.closeModal()}})}createForm(){this.interviewForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],intake_id:[this.intake_id],summary_type:[this.selected_notes.act_title],interview_datetime:[null],interview_place:[null],alleged_perpetrator:[null],interview_notes:[null]}),this.selected_notes.data&&this.patchData()}patchData(){this.interviewForm.patchValue({...this.selected_notes.data})}loadPerpetrators(){this.http.get("gender-based-violence/patient-gbv-perpetrator",{params:{intake_id:this.intake_id}}).subscribe({next:a=>{console.log(a),this.perpetrators=a.data,this.createForm()},error:a=>console.log(a)})}get f(){return this.interviewForm.controls}closeModal(){this.toggleModal.emit("interview_notes")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.is_saving=!1,this.show_error=!1,this.interviewForm=new s.gE({id:new s.MJ(""),patient_id:new s.MJ(""),intake_id:new s.MJ(""),summary_type:new s.MJ(""),interview_datetime:new s.MJ(""),interview_place:new s.MJ(""),alleged_perpetrator:new s.MJ(""),interview_notes:new s.MJ("")})}ngOnInit(){console.log(this.selected_notes),this.loadPerpetrators()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-inteview-notes"]],inputs:{selected_notes:"selected_notes",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:34,vars:29,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","interview_datetime",3,"ngClass"],["type","datetime-local","name","interview_datetime","id","interview_datetime","formControlName","interview_datetime",1,"input",3,"ngClass"],["for","interview_place",3,"ngClass"],["type","text","name","interview_place","id","interview_place","formControlName","interview_place",1,"input",3,"ngClass"],[1,"col-span-4"],["for","alleged_perpetrator",3,"ngClass"],["name","alleged_perpetrator","id","alleged_perpetrator","formControlName","alleged_perpetrator",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","interview_notes",3,"ngClass"],["rows","4","name","interview_notes","id","interview_notes","formControlName","interview_notes",1,"input",3,"ngClass"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11,"Date & time"),e.k0s(),e.nrm(12,"input",10),e.k0s(),e.j41(13,"div",8)(14,"label",11),e.EFF(15,"Place"),e.k0s(),e.nrm(16,"input",12),e.k0s(),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Perpetrator"),e.k0s(),e.j41(20,"select",15),e.DNE(21,Zt,2,2,"option",16),e.k0s()(),e.j41(22,"div",13)(23,"label",17),e.EFF(24,"Phrases used to describe acts"),e.k0s(),e.j41(25,"textarea",18),e.EFF(26,"              "),e.k0s()()()()(),e.j41(27,"div",19)(28,"button",20),e.bIt("click",function(){return i.closeModal()}),e.EFF(29,"Close"),e.k0s(),e.j41(30,"button",21),e.bIt("click",function(){return i.onSubmit()}),e.nrm(31,"fa-icon"),e.EFF(32),e.k0s()()()()(),e.nrm(33,"div",22)),2&a&&(e.R7$(5),e.SpI(" ","IS"===(null==i.selected_notes?null:i.selected_notes.act_title)?"Interview Summary":"Social Worker Notes"," "),e.R7$(2),e.Y8G("formGroup",i.interviewForm),e.R7$(3),e.Y8G("ngClass",e.eq3(13,M,i.show_error&&i.f.interview_datetime.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(15,Y,i.show_error&&i.f.interview_datetime.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(17,M,i.show_error&&i.f.interview_place.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(19,Y,i.show_error&&i.f.interview_place.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(21,M,i.show_error&&i.f.alleged_perpetrator.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(23,Y,i.show_error&&i.f.alleged_perpetrator.errors)),e.R7$(),e.Y8G("ngForOf",i.perpetrators),e.R7$(2),e.Y8G("ngClass",e.eq3(25,M,i.show_error&&i.f.interview_notes.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(27,Y,i.show_error&&i.f.interview_notes.errors)),e.R7$(5),e.Y8G("disabled",i.is_saving||i.interviewForm.invalid),e.R7$(2),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.YU,_.Sq,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();const y=n=>({"text-red-500":n}),j=n=>({"invalid-input":n});function en(n,o){if(1&n&&(e.j41(0,"div")(1,"label",66),e.EFF(2,"Recant date & time"),e.k0s(),e.nrm(3,"input",67),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("max",t.max_date)}}function tn(n,o){1&n&&(e.j41(0,"div")(1,"label",68),e.EFF(2,"Remarks"),e.k0s(),e.nrm(3,"input",69),e.k0s())}function nn(n,o){if(1&n&&(e.j41(0,"div")(1,"label",70),e.EFF(2,"Date & time of deferral"),e.k0s(),e.nrm(3,"input",71),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("max",t.max_date)}}function an(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function sn(n,o){if(1&n&&(e.j41(0,"div")(1,"label",72),e.EFF(2,"Reason for deferral"),e.k0s(),e.j41(3,"select",73),e.DNE(4,an,2,2,"option",41),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.deferral_reasons)}}function on(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function rn(n,o){if(1&n&&(e.j41(0,"div")(1,"label",75),e.EFF(2,"Previous Interviewer"),e.k0s(),e.j41(3,"select",76),e.DNE(4,on,2,2,"option",41),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.previous_interviewers)}}function ln(n,o){1&n&&(e.j41(0,"div")(1,"label",77),e.EFF(2,"Others"),e.k0s(),e.nrm(3,"input",78),e.k0s())}function _n(n,o){1&n&&(e.j41(0,"span",79),e.EFF(1,"Required atleast one information source."),e.k0s())}function dn(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function cn(n,o){if(1&n&&(e.j41(0,"div")(1,"label",80),e.EFF(2,"Mental Age"),e.k0s(),e.j41(3,"select",81),e.DNE(4,dn,2,2,"option",41),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.mental_ages)}}function pn(n,o){1&n&&(e.j41(0,"div")(1,"label",82),e.EFF(2,"Historian Name"),e.k0s(),e.nrm(3,"input",83),e.k0s())}function mn(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function un(n,o){if(1&n&&(e.j41(0,"div",86),e.DNE(1,mn,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.incident_recent_datetime.errors?null:t.f.incident_recent_datetime.errors.required)}}function fn(n,o){if(1&n&&(e.j41(0,"div",32)(1,"label",84),e.EFF(2,"Date and time of most recent abuse"),e.k0s(),e.nrm(3,"input",85),e.DNE(4,un,2,1,"div",42),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,y,t.show_error&&t.f.incident_recent_datetime.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,j,t.show_error&&t.f.incident_recent_datetime.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.incident_recent_datetime.errors)}}function gn(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function vn(n,o){if(1&n&&(e.j41(0,"div",86),e.DNE(1,gn,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.incident_first_datetime.errors?null:t.f.incident_first_datetime.errors.required)}}function bn(n,o){if(1&n&&(e.j41(0,"div",32)(1,"label",87),e.EFF(2,"Date and time of first abuse"),e.k0s(),e.nrm(3,"input",88),e.DNE(4,vn,2,1,"div",42),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,y,t.show_error&&t.f.incident_first_datetime.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,j,t.show_error&&t.f.incident_first_datetime.errors)),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.incident_first_datetime.errors)}}function hn(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function kn(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function Fn(n,o){if(1&n&&(e.j41(0,"div",86),e.DNE(1,kn,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.abused_episode_id.errors?null:t.f.abused_episode_id.errors.required)}}function yn(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function jn(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function xn(n,o){if(1&n&&(e.j41(0,"div",86),e.DNE(1,jn,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.abused_site_id.errors?null:t.f.abused_site_id.errors.required)}}function Cn(n,o){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.required_message," ")}}function wn(n,o){if(1&n&&(e.j41(0,"div",86),e.DNE(1,Cn,2,1,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.f.disclosed_flag.errors?null:t.f.disclosed_flag.errors.required)}}function In(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function En(n,o){if(1&n&&(e.j41(0,"div",32)(1,"label",89),e.EFF(2,"Type of disclosure"),e.k0s(),e.j41(3,"select",90),e.DNE(4,In,2,2,"option",41),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,y,t.show_error&&t.f.disclosed_type.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,j,t.show_error&&t.f.disclosed_type.errors)),e.R7$(),e.Y8G("ngForOf",t.disclosed_types)}}function Gn(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Rn(n,o){if(1&n&&(e.j41(0,"div",91)(1,"label",92),e.EFF(2,"To whom did the victim survivor disclose first?"),e.k0s(),e.j41(3,"select",93),e.DNE(4,Gn,2,2,"option",41),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(3,y,t.show_error&&t.f.disclosed_relation_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,j,t.show_error&&t.f.disclosed_relation_id.errors)),e.R7$(),e.Y8G("ngForOf",t.child_relations)}}function $n(n,o){if(1&n&&(e.j41(0,"div",28)(1,"label",94),e.EFF(2,"Describe circumstances surrounding the initial disclosure:"),e.k0s(),e.j41(3,"textarea",95),e.EFF(4,"                "),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,y,t.show_error&&t.f.initial_disclosure.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,j,t.show_error&&t.f.initial_disclosure.errors))}}function Mn(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function Yn(n,o){1&n&&e.nrm(0,"input",115)}function Nn(n,o){1&n&&e.nrm(0,"input",115)}function Tn(n,o){1&n&&e.nrm(0,"input",115)}function Dn(n,o){if(1&n&&(e.j41(0,"tr",112)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",113),e.DNE(4,Yn,1,0,"input",114),e.k0s(),e.j41(5,"td",113),e.DNE(6,Nn,1,0,"input",114),e.k0s(),e.j41(7,"td",113),e.DNE(8,Tn,1,0,"input",114),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2]),e.R7$(2),e.Y8G("ngIf",t.value[3])}}function Sn(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr")(3,"td",110),e.EFF(4,"Name"),e.k0s(),e.j41(5,"td",110),e.EFF(6,"Victim Survivor"),e.k0s(),e.j41(7,"td",110),e.EFF(8,"Historian"),e.k0s(),e.j41(9,"td",110),e.EFF(10,"Sworn Statement"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,Dn,9,4,"tr",111),e.nI1(13,"keyvalue"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("ngForOf",e.bMT(13,1,t.sexual_abuses))}}function Xn(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function Jn(n,o){1&n&&e.nrm(0,"input",115)}function Vn(n,o){1&n&&e.nrm(0,"input",115)}function qn(n,o){1&n&&e.nrm(0,"input",115)}function On(n,o){if(1&n&&(e.j41(0,"tr",112)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",113),e.DNE(4,Jn,1,0,"input",114),e.k0s(),e.j41(5,"td",113),e.DNE(6,Vn,1,0,"input",114),e.k0s(),e.j41(7,"td",113),e.DNE(8,qn,1,0,"input",114),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2]),e.R7$(2),e.Y8G("ngIf",t.value[3])}}function Bn(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr")(3,"td",110),e.EFF(4,"Name"),e.k0s(),e.j41(5,"td",110),e.EFF(6,"Victim Survivor"),e.k0s(),e.j41(7,"td",110),e.EFF(8,"Historian"),e.k0s(),e.j41(9,"td",110),e.EFF(10,"Sworn Statement"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,On,9,4,"tr",111),e.nI1(13,"keyvalue"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("ngForOf",e.bMT(13,1,t.physical_abuses))}}function Pn(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function An(n,o){1&n&&e.nrm(0,"input",115)}function Hn(n,o){1&n&&e.nrm(0,"input",115)}function Un(n,o){1&n&&e.nrm(0,"input",115)}function Ln(n,o){if(1&n&&(e.j41(0,"tr",112)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",113),e.DNE(4,An,1,0,"input",114),e.k0s(),e.j41(5,"td",113),e.DNE(6,Hn,1,0,"input",114),e.k0s(),e.j41(7,"td",113),e.DNE(8,Un,1,0,"input",114),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2]),e.R7$(2),e.Y8G("ngIf",t.value[3])}}function zn(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr")(3,"td",110),e.EFF(4,"Name"),e.k0s(),e.j41(5,"td",110),e.EFF(6,"Victim Survivor"),e.k0s(),e.j41(7,"td",110),e.EFF(8,"Historian"),e.k0s(),e.j41(9,"td",110),e.EFF(10,"Sworn Statement"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,Ln,9,4,"tr",111),e.nI1(13,"keyvalue"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("ngForOf",e.bMT(13,1,t.neglect_abuses))}}function Wn(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function Qn(n,o){1&n&&e.nrm(0,"input",115)}function Zn(n,o){1&n&&e.nrm(0,"input",115)}function Kn(n,o){1&n&&e.nrm(0,"input",115)}function ei(n,o){if(1&n&&(e.j41(0,"tr",112)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",113),e.DNE(4,Qn,1,0,"input",114),e.k0s(),e.j41(5,"td",113),e.DNE(6,Zn,1,0,"input",114),e.k0s(),e.j41(7,"td",113),e.DNE(8,Kn,1,0,"input",114),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2]),e.R7$(2),e.Y8G("ngIf",t.value[3])}}function ti(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr")(3,"td",110),e.EFF(4,"Name"),e.k0s(),e.j41(5,"td",110),e.EFF(6,"Victim Survivor"),e.k0s(),e.j41(7,"td",110),e.EFF(8,"Historian"),e.k0s(),e.j41(9,"td",110),e.EFF(10,"Sworn Statement"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,ei,9,4,"tr",111),e.nI1(13,"keyvalue"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("ngForOf",e.bMT(13,1,t.emotional_abuses))}}function ni(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",96)(1,"div",97),e.EFF(2," Acts of abuse "),e.k0s(),e.j41(3,"div",98)(4,"div",99)(5,"spa"),e.EFF(6,"Sexual Abuse"),e.k0s(),e.j41(7,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("abuse_acts","Sexual Abuse","gbv-sexual-abuse","patient-gbv-sexual-abuse",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.interview_sexual_abuses,"sexual_abused_id"))}),e.nrm(8,"fa-icon",101),e.k0s()(),e.DNE(9,Mn,3,0,"div",102)(10,Sn,14,3,"table",103),e.k0s(),e.j41(11,"div",98)(12,"div",99)(13,"spa"),e.EFF(14,"Physical Abuse"),e.k0s(),e.j41(15,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("abuse_acts","Physical Abuse","gbv-physical-abuse","patient-gbv-physical-abuse",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.interview_physical_abuses,"physical_abused_id"))}),e.nrm(16,"fa-icon",101),e.k0s()(),e.DNE(17,Xn,3,0,"div",102)(18,Bn,14,3,"table",103),e.k0s(),e.j41(19,"div",98)(20,"div",99)(21,"spa"),e.EFF(22,"Neglect"),e.k0s(),e.j41(23,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("abuse_acts","Neglects","gbv-neglect","patient-gbv-neglect-abuse",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.interview_neglect_abuses,"neglect_abused_id"))}),e.nrm(24,"fa-icon",101),e.k0s()(),e.DNE(25,Pn,3,0,"div",102)(26,zn,14,3,"table",103),e.k0s(),e.j41(27,"div",98)(28,"div",99)(29,"spa"),e.EFF(30,"Emotional Abuse"),e.k0s(),e.j41(31,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("abuse_acts","Emotional Abuse","gbv-emotional-abuse","patient-gbv-emotional-abuse",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.interview_emotional_abuses,"emotional_id"))}),e.nrm(32,"fa-icon",101),e.k0s()(),e.DNE(33,Wn,3,0,"div",102)(34,ti,14,3,"table",103),e.k0s(),e.j41(35,"div",104)(36,"label",105),e.EFF(37,"Other acts of abuse"),e.k0s(),e.j41(38,"textarea",106),e.EFF(39,"          "),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(8),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.sexual_abuses),e.R7$(),e.Y8G("ngIf",t.sexual_abuses),e.R7$(6),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.physical_abuses),e.R7$(),e.Y8G("ngIf",t.physical_abuses),e.R7$(6),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.neglect_abuses),e.R7$(),e.Y8G("ngIf",t.neglect_abuses),e.R7$(6),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.emotional_abuses),e.R7$(),e.Y8G("ngIf",t.emotional_abuses),e.R7$(2),e.Y8G("ngClass",e.eq3(14,y,t.show_error&&t.f.other_abuse_acts.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(16,j,t.show_error&&t.f.other_abuse_acts.errors))}}function ii(n,o){if(1&n&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function ai(n,o){if(1&n&&(e.j41(0,"div",96)(1,"div",97),e.EFF(2," Developmental Screening "),e.k0s(),e.j41(3,"div",116)(4,"div",32)(5,"label",117),e.EFF(6,"Further developmental assessment needed"),e.k0s(),e.j41(7,"select",118),e.DNE(8,ii,2,2,"option",41),e.k0s()(),e.j41(9,"div",32)(10,"label",119),e.EFF(11,"Decribe"),e.k0s(),e.nrm(12,"input",120),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(5),e.Y8G("ngClass",e.eq3(5,y,t.show_error&&t.f.dev_screening_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(7,j,t.show_error&&t.f.dev_screening_id.errors)),e.R7$(),e.Y8G("ngForOf",t.developmental_screenings),e.R7$(2),e.Y8G("ngClass",e.eq3(9,y,t.show_error&&t.f.dev_screening_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(11,j,t.show_error&&t.f.dev_screening_remarks.errors))}}function si(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function oi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," | LGBTQ"),e.k0s())}function ri(n,o){if(1&n&&(e.j41(0,"td",124),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.DNE(4,oi,2,0,"span",14),e.EFF(5," ) "),e.k0s()),2&n){let t;const a=e.XpG().$implicit;e.R7$(),e.SpI(" ",null!==(t=a.perpetrator_name)&&void 0!==t?t:"-"," "),e.R7$(2),e.Lme(" ( ",a.perpetrator_age," | ",a.gender?"M"===a.gender?"Male":"Female":"-"," "),e.R7$(),e.Y8G("ngIf",a.lgbtq_flag)}}function li(n,o){if(1&n&&(e.j41(0,"span")(1,"span",132),e.EFF(2,"Permanent:"),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.nrm(5,"br")(6,"br"),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(4),e.SpI(" ",t.perpetrator_address,"")}}function _i(n,o){if(1&n&&(e.j41(0,"span")(1,"span",132),e.EFF(2,"Current:"),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(4),e.SpI(" ",t.perpetrator_current_address," ")}}function di(n,o){if(1&n&&(e.j41(0,"td",131),e.DNE(1,li,7,1,"span",14)(2,_i,5,1,"span",14),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.perpetrator_address),e.R7$(),e.Y8G("ngIf",t.perpetrator_current_address)}}function ci(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function pi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," Alcohol "),e.nrm(2,"br")(3,"br"),e.k0s())}function mi(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," Drugs: "),e.j41(2,"span",134),e.EFF(3),e.k0s(),e.nrm(4,"br")(5,"br"),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(3),e.JRh(t.abuse_drugs_remarks)}}function ui(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," Others: "),e.j41(2,"span",134),e.EFF(3),e.k0s()()),2&n){const t=e.XpG(2).$implicit;e.R7$(3),e.JRh(t.abuse_others_remarks)}}function fi(n,o){if(1&n&&(e.j41(0,"td",133),e.DNE(1,ci,2,0,"span",14)(2,pi,4,0,"span",14)(3,mi,6,1,"span",14)(4,ui,4,1,"span",14),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",!t.abuse_alcohol_flag&&!t.abuse_drugs_flag&&!t.abuse_others_flag),e.R7$(),e.Y8G("ngIf",t.abuse_alcohol_flag),e.R7$(),e.Y8G("ngIf",t.abuse_drugs_flag),e.R7$(),e.Y8G("ngIf",t.abuse_others_flag)}}function gi(n,o){1&n&&(e.j41(0,"span",137),e.EFF(1," Abuse"),e.nrm(2,"br"),e.k0s())}function vi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Abused as a child"),e.nrm(2,"br"),e.k0s())}function bi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Abused as a spouse"),e.nrm(2,"br"),e.k0s())}function hi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Spouse abuser"),e.nrm(2,"br"),e.k0s())}function ki(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Witness family violence"),e.nrm(2,"br"),e.k0s())}function Fi(n,o){1&n&&(e.j41(0,"span",137),e.nrm(1,"br"),e.EFF(2," Criminal"),e.nrm(3,"br"),e.k0s())}function yi(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Previous conviction for similar offense"),e.nrm(2,"br"),e.k0s())}function ji(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - Previous conviction for other offense"),e.nrm(2,"br"),e.k0s())}function xi(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1," - Others: "),e.j41(2,"span",134),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(3),e.JRh(t.criminal_barangay_remarks)}}function Ci(n,o){if(1&n&&(e.j41(0,"td",135),e.DNE(1,gi,3,0,"span",136)(2,vi,3,0,"span",14)(3,bi,3,0,"span",14)(4,hi,3,0,"span",14)(5,ki,3,0,"span",14)(6,Fi,4,0,"span",136)(7,yi,3,0,"span",14)(8,ji,3,0,"span",14)(9,xi,5,1,"span",14),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.abused_as_child_flag||t.abused_as_spouse_flag||t.spouse_abuser_flag||t.family_violence_flag),e.R7$(),e.Y8G("ngIf",t.abused_as_child_flag),e.R7$(),e.Y8G("ngIf",t.abused_as_spouse_flag),e.R7$(),e.Y8G("ngIf",t.spouse_abuser_flag),e.R7$(),e.Y8G("ngIf",t.family_violence_flag),e.R7$(),e.Y8G("ngIf",t.criminal_conviction_similar_flag||t.criminal_conviction_other_flag||t.criminal_barangay_flag),e.R7$(),e.Y8G("ngIf",t.criminal_conviction_similar_flag),e.R7$(),e.Y8G("ngIf",t.criminal_conviction_other_flag),e.R7$(),e.Y8G("ngIf",t.criminal_barangay_flag)}}function wi(n,o){1&n&&(e.j41(0,"td",138),e.EFF(1," Unknown Perpetrator "),e.k0s())}function Ii(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",112)(1,"td",124)(2,"fa-icon",125),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.toggleModal("perpetrators","Perpetrator","","",i))}),e.k0s()(),e.DNE(3,ri,6,4,"td",126)(4,di,3,2,"td",127)(5,fi,5,4,"td",128)(6,Ci,10,9,"td",129)(7,wi,2,0,"td",130),e.k0s()}if(2&n){const t=o.$implicit,a=e.XpG(4);e.R7$(2),e.Y8G("icon",a.faEdit),e.R7$(),e.Y8G("ngIf",!t.perpetrator_unknown_flag),e.R7$(),e.Y8G("ngIf",!t.perpetrator_unknown_flag),e.R7$(),e.Y8G("ngIf",!t.perpetrator_unknown_flag),e.R7$(),e.Y8G("ngIf",!t.perpetrator_unknown_flag),e.R7$(),e.Y8G("ngIf",t.perpetrator_unknown_flag)}}function Ei(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr"),e.nrm(3,"td",121),e.j41(4,"td",122),e.EFF(5," Name"),e.nrm(6,"br"),e.EFF(7," (Age | Gender)"),e.nrm(8,"br")(9,"br"),e.k0s(),e.j41(10,"td",123),e.EFF(11," Address "),e.k0s(),e.j41(12,"td",123),e.EFF(13," Substance abuse "),e.k0s(),e.j41(14,"td",122),e.EFF(15," History "),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Ii,8,6,"tr",111),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(17),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function Gi(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",96)(1,"div",97),e.EFF(2," Perpetrator (s) "),e.k0s(),e.j41(3,"div",98)(4,"div",99)(5,"spa"),e.EFF(6,"Alleged Perpetrator"),e.k0s(),e.j41(7,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("perpetrators"))}),e.nrm(8,"fa-icon",101),e.k0s()(),e.DNE(9,si,3,0,"div",102)(10,Ei,18,1,"table",103),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(8),e.Y8G("icon",t.faPlus),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0)}}function Ri(n,o){1&n&&(e.j41(0,"div",141),e.EFF(1," Please add alleged perpetrator(s) to add notes. "),e.k0s())}function $i(n,o){1&n&&(e.j41(0,"span",144),e.EFF(1," MSWDO Only "),e.k0s())}function Mi(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.toggleModal("interview_notes","IS"))}),e.nrm(1,"fa-icon",101),e.k0s()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faPlus)}}function Yi(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function Ni(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",112)(1,"td",124)(2,"fa-icon",125),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(5);return e.Njj(r.toggleModal("interview_notes","Interview","","",i))}),e.k0s()(),e.j41(3,"td",124),e.EFF(4),e.k0s(),e.j41(5,"td",124),e.EFF(6),e.nI1(7,"date"),e.nrm(8,"br"),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"td",145),e.EFF(12),e.k0s(),e.j41(13,"td",145),e.EFF(14),e.k0s()()}if(2&n){let t,a;const i=o.$implicit,r=e.XpG(5);e.R7$(2),e.Y8G("icon",r.faEdit),e.R7$(2),e.SpI(" ",i.perpetrator?i.perpetrator.perpetrator_unknown_flag?"Unknown":i.perpetrator.perpetrator_name:"-"," "),e.R7$(2),e.SpI(" ",e.brH(7,6,i.interview_datetime,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.i5U(10,10,i.interview_datetime,"hh:mm a")," "),e.R7$(3),e.SpI(" ",null!==(t=i.interview_place)&&void 0!==t?t:"-"," "),e.R7$(2),e.SpI(" ",null!==(a=i.interview_notes)&&void 0!==a?a:"-"," ")}}function Ti(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr"),e.nrm(3,"td",121),e.j41(4,"td",122),e.EFF(5," Alleged perpetrator"),e.nrm(6,"br"),e.k0s(),e.j41(7,"td",123),e.EFF(8," Date & Time "),e.k0s(),e.j41(9,"td",123),e.EFF(10," Location "),e.k0s(),e.j41(11,"td",122),e.EFF(12," Notes "),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,Ni,15,13,"tr",111),e.k0s()()),2&n){const t=e.XpG(4);e.R7$(14),e.Y8G("ngForOf",t.interview_summaries)}}function Di(n,o){if(1&n&&(e.j41(0,"div",98)(1,"div",99)(2,"spa"),e.EFF(3,"Interview Summary"),e.k0s(),e.DNE(4,$i,2,0,"span",142)(5,Mi,2,1,"button",143),e.k0s(),e.DNE(6,Yi,3,0,"div",102)(7,Ti,15,1,"table",103),e.k0s()),2&n){const t=e.XpG(3);e.R7$(4),e.Y8G("ngIf","MSWDO"!==t.pos),e.R7$(),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(),e.Y8G("ngIf",0===t.interview_summaries.length),e.R7$(),e.Y8G("ngIf",t.interview_summaries.length>0)}}function Si(n,o){1&n&&(e.j41(0,"span",144),e.EFF(1," MSWDO Only "),e.k0s())}function Xi(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.toggleModal("interview_notes","SW"))}),e.nrm(1,"fa-icon",101),e.k0s()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faPlus)}}function Ji(n,o){1&n&&(e.j41(0,"div",107)(1,"span",108),e.EFF(2," No records to show "),e.k0s()())}function Vi(n,o){if(1&n){const t=e.RV6();e.j41(0,"fa-icon",125),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(5);return e.Njj(r.toggleModal("interview_notes","Interview","","",i))}),e.k0s()}if(2&n){const t=e.XpG(6);e.Y8G("icon",t.faEdit)}}function qi(n,o){if(1&n&&(e.j41(0,"tr",112)(1,"td",124),e.DNE(2,Vi,1,1,"fa-icon",146),e.k0s(),e.j41(3,"td",124),e.EFF(4),e.k0s(),e.j41(5,"td",124),e.EFF(6),e.nI1(7,"date"),e.nrm(8,"br"),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"td",145),e.EFF(12),e.k0s(),e.j41(13,"td",145),e.EFF(14),e.k0s()()),2&n){let t,a,i;const r=o.$implicit,l=e.XpG(5);e.R7$(2),e.Y8G("ngIf","MSWDO"===l.pos),e.R7$(2),e.SpI(" ",null!==(t=r.perpetrator.perpetrator_name)&&void 0!==t?t:"-"," "),e.R7$(2),e.SpI(" ",e.brH(7,6,r.interview_datetime,"MM/dd/yyyy","Asia/Manila"),""),e.R7$(3),e.SpI(" ",e.i5U(10,10,r.interview_datetime,"hh:mm a")," "),e.R7$(3),e.SpI(" ",null!==(a=r.interview_place)&&void 0!==a?a:"-"," "),e.R7$(2),e.SpI(" ",null!==(i=r.interview_notes)&&void 0!==i?i:"-"," ")}}function Oi(n,o){if(1&n&&(e.j41(0,"table",109)(1,"thead")(2,"tr"),e.nrm(3,"td",121),e.j41(4,"td",122),e.EFF(5," Alleged perpetrator"),e.nrm(6,"br"),e.k0s(),e.j41(7,"td",123),e.EFF(8," Date & Time "),e.k0s(),e.j41(9,"td",123),e.EFF(10," Location "),e.k0s(),e.j41(11,"td",122),e.EFF(12," Notes "),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,qi,15,13,"tr",111),e.k0s()()),2&n){const t=e.XpG(4);e.R7$(14),e.Y8G("ngForOf",t.interview_social_notes)}}function Bi(n,o){if(1&n&&(e.j41(0,"div",98)(1,"div",99)(2,"spa"),e.EFF(3,"Social Worker Notes"),e.k0s(),e.DNE(4,Si,2,0,"span",142)(5,Xi,2,1,"button",143),e.k0s(),e.DNE(6,Ji,3,0,"div",102)(7,Oi,15,1,"table",103),e.k0s()),2&n){const t=e.XpG(3);e.R7$(4),e.Y8G("ngIf","MSWDO"!==t.pos),e.R7$(),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(),e.Y8G("ngIf",0===t.interview_social_notes.length),e.R7$(),e.Y8G("ngIf",t.interview_social_notes.length>0)}}function Pi(n,o){if(1&n&&(e.j41(0,"div",96)(1,"div",97),e.EFF(2," Interview summary and social worker notes "),e.k0s(),e.DNE(3,Ri,2,0,"div",139)(4,Di,8,4,"div",140)(5,Bi,8,4,"div",140),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0)}}function Ai(n,o){if(1&n&&(e.j41(0,"div"),e.nrm(1,"input",158),e.j41(2,"label",159),e.EFF(3),e.k0s()()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("formControlName",t.var_name),e.BMQ("id",t.var_name),e.R7$(),e.BMQ("for",t.var_name),e.R7$(),e.JRh(t.desc)}}function Hi(n,o){if(1&n&&(e.j41(0,"div"),e.nrm(1,"input",158),e.j41(2,"label",159),e.EFF(3),e.k0s()()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("formControlName",t.historian_var_name),e.BMQ("id",t.historian_var_name),e.R7$(),e.BMQ("for",t.historian_var_name),e.R7$(),e.JRh(t.desc)}}function Ui(n,o){if(1&n&&(e.j41(0,"div",152)(1,"div",153),e.EFF(2," Victim survivor's behavior during the interview according to historian "),e.k0s(),e.DNE(3,Hi,4,4,"div",154),e.k0s()),2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("ngForOf",t.interview_behaviors)}}function Li(n,o){if(1&n&&(e.j41(0,"div",147)(1,"div",148),e.EFF(2," Behavior during the interview "),e.k0s(),e.j41(3,"div",116)(4,"div",149),e.nrm(5,"input",150),e.j41(6,"label",151),e.EFF(7,"Is the caretaker present?"),e.k0s()(),e.j41(8,"div",152)(9,"div",153),e.EFF(10," Victim survivor's behavior during the interview "),e.k0s(),e.DNE(11,Ai,4,4,"div",154),e.k0s(),e.DNE(12,Ui,4,1,"div",155),e.j41(13,"div",28)(14,"label",156),e.EFF(15,"Describe the behavior and interviewer/caretaker"),e.k0s(),e.nrm(16,"textarea",157),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(11),e.Y8G("ngForOf",t.interview_behaviors),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.source_from_historian_flag),e.R7$(2),e.Y8G("ngClass",e.eq3(4,y,t.show_error&&t.f.child_behavior_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,j,t.show_error&&t.f.child_behavior_remarks.errors))}}function zi(n,o){1&n&&(e.j41(0,"div",160),e.EFF(1," Form is invalid. "),e.k0s())}function Wi(n,o){if(1&n&&e.nrm(0,"fa-icon",161),2&n){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Qi(n,o){if(1&n&&e.nrm(0,"fa-icon",162),2&n){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function Zi(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",6)(1,"form",7),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.j41(2,"div",8)(3,"div",9),e.EFF(4," Recant details "),e.k0s(),e.j41(5,"div",10)(6,"div",11),e.nrm(7,"input",12),e.j41(8,"label",13),e.EFF(9,"Did the patient recant?"),e.k0s()(),e.DNE(10,en,4,1,"div",14)(11,tn,4,0,"div",14),e.k0s(),e.j41(12,"div",9),e.EFF(13," Deferral Details "),e.k0s(),e.j41(14,"div",10)(15,"div")(16,"div",11),e.nrm(17,"input",15),e.j41(18,"label",16),e.EFF(19,"Deferring interview?"),e.k0s()()(),e.DNE(20,nn,4,1,"div",14),e.nrm(21,"div"),e.DNE(22,sn,5,1,"div",14)(23,rn,5,1,"div",14)(24,ln,4,0,"div",14),e.k0s(),e.j41(25,"div",9),e.EFF(26," Date & Time of Interview "),e.k0s(),e.j41(27,"div",17)(28,"div")(29,"label",18),e.EFF(30,"Date & time"),e.k0s(),e.nrm(31,"input",19),e.k0s()(),e.j41(32,"div",9),e.EFF(33," Source of Information "),e.DNE(34,_n,2,0,"span",20),e.k0s(),e.j41(35,"div",17)(36,"div"),e.nrm(37,"input",21),e.j41(38,"label",22),e.EFF(39,"Victim Survivor"),e.k0s()(),e.j41(40,"div"),e.nrm(41,"input",23),e.j41(42,"label",24),e.EFF(43,"Historian"),e.k0s()(),e.j41(44,"div"),e.nrm(45,"input",25),e.j41(46,"label",26),e.EFF(47,"Sworn Statement"),e.k0s()(),e.DNE(48,cn,5,1,"div",14)(49,pn,4,0,"div",14),e.k0s(),e.j41(50,"div",9),e.EFF(51," History of Abuse "),e.k0s(),e.j41(52,"div",27)(53,"div",28)(54,"input",29),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.checkRequired("recent"))}),e.k0s(),e.j41(55,"label",30),e.EFF(56,"Can't recall date & time of recent incident"),e.k0s()(),e.DNE(57,fn,5,7,"div",31),e.j41(58,"div",32)(59,"label",33),e.EFF(60,"Other chronological clues"),e.k0s(),e.nrm(61,"input",34),e.k0s(),e.j41(62,"div",28)(63,"input",35),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.checkRequired("first"))}),e.k0s(),e.j41(64,"label",36),e.EFF(65,"Can't recall date & time of first incident"),e.k0s()(),e.DNE(66,bn,5,7,"div",31),e.j41(67,"div",32)(68,"label",37),e.EFF(69,"Other chronological clues"),e.k0s(),e.nrm(70,"input",38),e.k0s(),e.nrm(71,"div",28),e.j41(72,"div",32)(73,"label",39),e.EFF(74,"Episodes of abuse"),e.k0s(),e.j41(75,"select",40),e.DNE(76,hn,2,2,"option",41),e.k0s(),e.DNE(77,Fn,2,1,"div",42),e.k0s(),e.j41(78,"div",32)(79,"label",43),e.EFF(80,"Number of episode"),e.k0s(),e.nrm(81,"input",44),e.k0s(),e.j41(82,"div",32)(83,"label",45),e.EFF(84,"Site of abuse"),e.k0s(),e.j41(85,"select",46),e.DNE(86,yn,2,2,"option",41),e.k0s(),e.DNE(87,xn,2,1,"div",42),e.k0s(),e.j41(88,"div",32)(89,"label",47),e.EFF(90,"Address"),e.k0s(),e.nrm(91,"input",48),e.k0s(),e.j41(92,"div",49)(93,"div",50),e.EFF(94," Disclosure "),e.k0s(),e.j41(95,"div",51)(96,"div",32)(97,"label",52),e.EFF(98,"Did the victim survivor disclose?"),e.k0s(),e.j41(99,"select",53)(100,"option",54),e.EFF(101,"Yes"),e.k0s(),e.j41(102,"option",55),e.EFF(103,"No"),e.k0s(),e.j41(104,"option",56),e.EFF(105,"Unknown"),e.k0s()(),e.DNE(106,wn,2,1,"div",42),e.k0s(),e.DNE(107,En,5,7,"div",31)(108,Rn,5,7,"div",57)(109,$n,5,6,"div",58),e.k0s()()()(),e.DNE(110,ni,40,18,"div",59)(111,ai,13,13,"div",59)(112,Gi,11,3,"div",59)(113,Pi,6,3,"div",59)(114,Li,17,8,"div",60)(115,zi,2,0,"div",61),e.j41(116,"div",62)(117,"button",63),e.DNE(118,Wi,1,1,"fa-icon",64)(119,Qi,1,1,"fa-icon",65),e.EFF(120),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("formGroup",t.interviewForm),e.R7$(9),e.Y8G("ngIf",t.interviewForm.value.recant_flag),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.recant_flag),e.R7$(9),e.Y8G("ngIf",t.interviewForm.value.deferred),e.R7$(2),e.Y8G("ngIf",t.interviewForm.value.deferred),e.R7$(),e.Y8G("ngIf","3"===t.interviewForm.value.deferral_reason_id),e.R7$(),e.Y8G("ngIf","4"===t.interviewForm.value.deferral_previous_interviewer_id),e.R7$(7),e.Y8G("max",t.max_date),e.R7$(3),e.Y8G("ngIf",t.required_info_source),e.R7$(14),e.Y8G("ngIf",t.interviewForm.value.source_from_victim_flag),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.source_from_historian_flag),e.R7$(8),e.Y8G("ngIf",!t.interviewForm.value.incident_recent_unknown),e.R7$(9),e.Y8G("ngIf",!t.interviewForm.value.incident_first_unknown),e.R7$(7),e.Y8G("ngClass",e.eq3(39,y,t.show_error&&t.f.abused_episode_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(41,j,t.show_error&&t.f.abused_episode_id.errors)),e.R7$(),e.Y8G("ngForOf",t.abused_episodes),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.abused_episode_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(43,y,t.show_error&&t.f.abused_episode_count.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(45,j,t.show_error&&t.f.abused_episode_count.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(47,y,t.show_error&&t.f.abused_site_id.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(49,j,t.show_error&&t.f.abused_site_id.errors)),e.R7$(),e.Y8G("ngForOf",t.abused_sites),e.R7$(),e.Y8G("ngIf",t.show_error&&t.f.abused_site_id.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(51,y,t.show_error&&t.f.abused_site_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(53,j,t.show_error&&t.f.abused_site_remarks.errors)),e.R7$(15),e.Y8G("ngIf",t.show_error&&t.f.disclosed_flag.errors),e.R7$(),e.Y8G("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.R7$(),e.Y8G("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.R7$(),e.Y8G("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.id),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.id),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.id),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.id),e.R7$(),e.Y8G("ngIf",t.interviewForm.value.id),e.R7$(),e.Y8G("ngIf",t.show_error),e.R7$(2),e.Y8G("disabled",t.is_saving),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.interviewForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Ki(n,o){if(1&n&&(e.j41(0,"div",163)(1,"span",164),e.nrm(2,"fa-icon",165),e.k0s(),e.j41(3,"span",164),e.EFF(4," Loading... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function ea(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-inteview-notes",166),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_notes",t.selected_notes)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function ta(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-abuse-acts",167),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_abused",t.selected_abused)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function na(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-perpetrators",168),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_perpetrator",t.selected_perpetrator)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}let ia=(()=>{class n{onSubmit(){console.log(this.interviewForm),this.interviewForm.valid&&(this.interviewForm.value.source_from_victim_flag||this.interviewForm.value.source_from_historian_flag||this.interviewForm.value.source_from_sworn_statement_flag)?(this.show_error=!1,this.interviewForm.patchValue({incident_first_datetime:this.interviewForm.value.incident_first_datetime?(0,_.Yq)(this.interviewForm.value.incident_first_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"):null,incident_recent_datetime:this.interviewForm.value.incident_recent_datetime?(0,_.Yq)(this.interviewForm.value.incident_recent_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"):null,recant_datetime:this.interviewForm.value.recant_datetime?(0,_.Yq)(this.interviewForm.value.recant_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"):null,interview_datetime:this.interviewForm.value.interview_datetime?(0,_.Yq)(this.interviewForm.value.interview_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"):null,deferral_datetime:this.interviewForm.value.deferral_datetime?(0,_.Yq)(this.interviewForm.value.deferral_datetime,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"):null}),this.saveForm()):(!this.interviewForm.value.source_from_victim_flag&&!this.interviewForm.value.source_from_historian_flag&&!this.interviewForm.value.source_from_sworn_statement_flag&&(this.required_info_source=!0),this.show_error=!0)}saveForm(){let t;t=this.interviewForm.value.id?this.http.update("gender-based-violence/patient-gbv-interview/",this.interviewForm.value.id,this.interviewForm.value):this.http.post("gender-based-violence/patient-gbv-interview",this.interviewForm.value),t.subscribe({next:a=>{this.toastr.success("Successfully recorded.","Interview"),this.patchData(a.data)},error:a=>console.log(a)})}reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:a=>{this.selected_gbv_case=a.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case),this.patchData()},error:a=>console.log(a)})}checkRequired(t){this.interviewForm.value.incident_first_unknown?(this.f.incident_first_datetime.clearValidators(),this.interviewForm.patchValue({incident_first_datetime:null})):this.f.incident_first_datetime.setValidators([s.k0.required]),this.interviewForm.value.incident_recent_unknown?(this.f.incident_recent_datetime.clearValidators(),this.interviewForm.patchValue({incident_recent_datetime:null})):this.f.incident_recent_datetime.setValidators([s.k0.required]),"first"===t?this.f.incident_first_datetime.updateValueAndValidity():this.f.incident_recent_datetime.updateValueAndValidity()}patchData(t){t?this.interviewForm.patchValue({...t}):(this.selected_gbv_case.gbvIntake.interview&&this.interviewForm.patchValue({...this.selected_gbv_case.gbvIntake.interview}),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_sexual_abuses,"sexual_abuses","sexual"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_physical_abuses,"physical_abuses","physical"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_neglect_abuses,"neglect_abuses","neglect"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_emotional_abuses,"emotional_abuses","emotional_abuse"),this.loadSummaries(this.selected_gbv_case.gbvIntake.interview_summaries),this.show_form=!0),this.checkIncidents(),this.checkRequired("first"),this.checkRequired("recent")}loadSummaries(t){this.interview_summaries=[],this.interview_social_notes=[],Object.entries(t).forEach(([a,i],r)=>{this["IS"===i.summary_type?"interview_summaries":"interview_social_notes"].push(i)}),console.log(this.interview_summaries)}loadAbuses(t,a,i){let r=[];Object.entries(t).forEach(([l,d],u)=>{r[d[i].desc]||(r[d[i].desc]=[]),r[d[i].desc][d.info_source_id]=!0}),this[a]=r}checkIncidents(){this.interviewForm.value.incident_first_unknown?this.f.incident_first_datetime.disable():this.f.incident_first_datetime.enable(),this.interviewForm.value.incident_recent_unknown?this.f.incident_recent_datetime.disable():this.f.incident_recent_datetime.enable()}createForm(){this.interviewForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.selected_gbv_case.gbvIntake.id],recant_flag:[!1],recant_datetime:[null],recant_remarks:[null],interview_datetime:[null],deferred:[null],deferral_datetime:[null],deferral_reason_id:[null],deferral_previous_interviewer_id:[null],deferral_interviewer_remarks:[null],source_from_victim_flag:[!1],source_from_historian_flag:[!1],source_from_historian_remarks:[null],source_from_sworn_statement_flag:[!1],mental_age_id:[null],incident_first_unknown:[!1],incident_first_datetime:[null,s.k0.required],incident_first_remarks:[null],incident_recent_unknown:[!1],incident_recent_datetime:[null,s.k0.required],incident_recent_remarks:[null],abused_episode_id:[null,s.k0.required],abused_episode_count:[null],abused_site_id:[null,s.k0.required],abused_site_remarks:[null],disclosed_flag:[!1,s.k0.required],disclosed_type:[null],disclosed_relation_id:[null],initial_disclosure:[null],relation_to_child:[null],behavior_cooperative_flag:[!1],behavior_crying_flag:[!1],behavior_clinging_flag:[!1],behavior_responsive_flag:[!1],behavior_silent_flag:[!1],behavior_able_to_narrate_flag:[!1],behavior_unable_to_narrate_flag:[!1],behavior_appropriate_affect_flag:[!1],behavior_depressed_affect_flag:[!1],behavior_flat_affect_flag:[!1],behavior_psychotic_flag:[!1],behavior_combative_flag:[!1],behavior_hyperactive_flag:[!1],behavior_short_attention_flag:[!1],behavior_historian_cooperative_flag:[!1],behavior_historian_crying_flag:[!1],behavior_historian_clinging_flag:[!1],behavior_historian_responsive_flag:[!1],behavior_historian_silent_flag:[!1],behavior_historian_able_to_narrate_flag:[!1],behavior_historian_unable_to_narrate_flag:[!1],behavior_historian_appropriate_affect_flag:[!1],behavior_historian_depressed_affect_flag:[!1],behavior_historian_flat_affect_flag:[!1],behavior_historian_psychotic_flag:[!1],behavior_historian_combative_flag:[!1],behavior_historian_hyperactive_flag:[!1],behavior_historian_short_attention_flag:[!1],behavior_historian_remarks:[null],child_caretaker_present_flag:[!1],child_behavior_remarks:[null],dev_screening_id:[null],other_abuse_acts:[null],dev_screening_remarks:[null]}),this.patchData()}toggleModal(t,a,i,r,l,d){switch(t){case"abuse_acts":this.selected_abused={act_title:a,url:i,save_url:r,abused_data:l,abused_id_name:d};break;case"interview_notes":this.selected_notes={act_title:a,data:l};break;case"perpetrators":this.selected_perpetrator={act_title:a,data:l}}this.modals[t]=!this.modals[t],"abuse_acts"===t&&!this.modals[t]&&this.reloadData(),"interview_notes"===t&&!this.modals[t]&&this.reloadData(),"perpetrators"===t&&!this.modals[t]&&this.reloadData()}loadLibraries(){const t=this.http.get("libraries/gbv-abused-episode"),a=this.http.get("libraries/gbv-info-source"),i=this.http.get("libraries/gbv-abused-site"),r=this.http.get("libraries/gbv-disclosed-type"),l=this.http.get("libraries/child-relation"),d=this.http.get("libraries/gbv-child-behavior"),u=this.http.get("libraries/gbv-developmental-screening"),w=this.http.get("libraries/gbv-mental-age"),D=this.http.get("libraries/gbv-deferral-reason"),S=this.http.get("libraries/gbv-previous-interviewer");(0,G.p)([t,a,i,r,l,d,u,w,D,S]).subscribe({next:([X,Il,El,Gl,Rl,$l,Ml,Yl,Nl,Tl])=>{this.abused_episodes=X.data,this.info_sources=Il.data,this.abused_sites=El.data,this.disclosed_types=Gl.data,this.child_relations=Rl.data,this.child_behaviors=$l.data,this.developmental_screenings=Ml.data,this.mental_ages=Yl.data,this.deferral_reasons=Nl.data,this.previous_interviewers=Tl.data,this.createForm()},error:X=>console.log(X)})}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.updateSelectedGbv=new e.bkB,this.max_date=(0,_.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.interviewForm=function Lt(){return new s.gE({id:new s.MJ(""),patient_id:new s.MJ(""),patient_gbv_intake_id:new s.MJ(""),recant_flag:new s.MJ(""),recant_datetime:new s.MJ(""),recant_remarks:new s.MJ(""),interview_datetime:new s.MJ(""),deferred:new s.MJ(!1),deferral_datetime:new s.MJ(!1),deferral_reason_id:new s.MJ(null),deferral_previous_interviewer_id:new s.MJ(null),deferral_interviewer_remarks:new s.MJ(""),source_from_victim_flag:new s.MJ(!1),source_from_historian_flag:new s.MJ(!1),source_from_historian_remarks:new s.MJ(null),source_from_sworn_statement_flag:new s.MJ(!1),mental_age_id:new s.MJ(""),incident_first_unknown:new s.MJ(""),incident_first_datetime:new s.MJ(""),incident_first_remarks:new s.MJ(""),incident_recent_unknown:new s.MJ(""),incident_recent_datetime:new s.MJ(""),incident_recent_remarks:new s.MJ(""),abused_episode_id:new s.MJ(""),abused_episode_count:new s.MJ(null),abused_site_id:new s.MJ(""),abused_site_remarks:new s.MJ(""),disclosed_flag:new s.MJ(!1),disclosed_type:new s.MJ(""),disclosed_relation_id:new s.MJ(""),other_abuse_acts:new s.MJ(""),initial_disclosure:new s.MJ(""),relation_to_child:new s.MJ(""),behavior_cooperative_flag:new s.MJ(!1),behavior_crying_flag:new s.MJ(!1),behavior_clinging_flag:new s.MJ(!1),behavior_responsive_flag:new s.MJ(!1),behavior_silent_flag:new s.MJ(!1),behavior_able_to_narrate_flag:new s.MJ(!1),behavior_unable_to_narrate_flag:new s.MJ(!1),behavior_appropriate_affect_flag:new s.MJ(!1),behavior_depressed_affect_flag:new s.MJ(!1),behavior_flat_affect_flag:new s.MJ(!1),behavior_psychotic_flag:new s.MJ(!1),behavior_combative_flag:new s.MJ(!1),behavior_hyperactive_flag:new s.MJ(!1),behavior_short_attention_flag:new s.MJ(!1),behavior_historian_cooperative_flag:new s.MJ(!1),behavior_historian_crying_flag:new s.MJ(!1),behavior_historian_clinging_flag:new s.MJ(!1),behavior_historian_responsive_flag:new s.MJ(!1),behavior_historian_silent_flag:new s.MJ(!1),behavior_historian_able_to_narrate_flag:new s.MJ(!1),behavior_historian_unable_to_narrate_flag:new s.MJ(!1),behavior_historian_appropriate_affect_flag:new s.MJ(!1),behavior_historian_depressed_affect_flag:new s.MJ(!1),behavior_historian_flat_affect_flag:new s.MJ(!1),behavior_historian_psychotic_flag:new s.MJ(!1),behavior_historian_combative_flag:new s.MJ(!1),behavior_historian_hyperactive_flag:new s.MJ(!1),behavior_historian_short_attention_flag:new s.MJ(!1),behavior_historian_remarks:new s.MJ(""),child_caretaker_present_flag:new s.MJ(!1),child_behavior_remarks:new s.MJ(""),dev_screening_id:new s.MJ(""),dev_screening_remarks:new s.MJ("")})}(),this.faPlus=c.QLR,this.faEdit=f.MT7,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.show_form=!1,this.modals=[],this.selected_abused={act_title:"",url:"",save_url:"",abused_data:null,abused_id_name:""},this.selected_notes={act_title:"",data:""},this.selected_perpetrator={act_title:"",data:""},this.show_error=!1,this.required_info_source=!1,this.required_message="required field",this.interview_summaries=[],this.interview_social_notes=[],this.sexual_abuses=[],this.physical_abuses=[],this.neglect_abuses=[],this.emotional_abuses=[],this.interview_behaviors=[{id:1,desc:"Cooperative",var_name:"behavior_cooperative_flag",historian_var_name:"behavior_historian_cooperative_flag"},{id:2,desc:"Crying, very upset",var_name:"behavior_crying_flag",historian_var_name:"behavior_historian_crying_flag"},{id:3,desc:"Clinging to caretaker",var_name:"behavior_clinging_flag",historian_var_name:"behavior_historian_clinging_flag"},{id:4,desc:"Responsive to most questions",var_name:"behavior_responsive_flag",historian_var_name:"behavior_historian_responsive_flag"},{id:5,desc:"Silent, unresponsive",var_name:"behavior_silent_flag",historian_var_name:"behavior_historian_silent_flag"},{id:6,desc:"Able to narrate incident",var_name:"behavior_able_to_narrate_flag",historian_var_name:"behavior_historian_able_to_narrate_flag"},{id:7,desc:"Unable to narrate incident",var_name:"behavior_unable_to_narrate_flag",historian_var_name:"behavior_historian_unable_to_narrate_flag"},{id:8,desc:"Appropriate affect",var_name:"behavior_appropriate_affect_flag",historian_var_name:"behavior_historian_appropriate_affect_flag"},{id:9,desc:"Depressed affect",var_name:"behavior_depressed_affect_flag",historian_var_name:"behavior_historian_depressed_affect_flag"},{id:10,desc:"Flat affect, blank stares",var_name:"behavior_flat_affect_flag",historian_var_name:"behavior_historian_flat_affect_flag"},{id:11,desc:"Psychotic symptoms",var_name:"behavior_psychotic_flag",historian_var_name:"behavior_historian_psychotic_flag"},{id:12,desc:"Combative, hostile",var_name:"behavior_combative_flag",historian_var_name:"behavior_historian_combative_flag"},{id:13,desc:"Hyperactive, anxious",var_name:"behavior_hyperactive_flag",historian_var_name:"behavior_historian_hyperactive_flag"},{id:14,desc:"Short attention span",var_name:"behavior_short_attention_flag",historian_var_name:"behavior_historian_short_attention_flag"}]}get f(){return this.interviewForm.controls}ngOnInit(){this.loadLibraries(),console.log(this.selected_gbv_case)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-interview"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},standalone:!1,decls:6,vars:5,consts:[[1,"border","border-slate-200","rounded-b-lg"],["class","mx-5 mb-5",4,"ngIf"],["class","grid grid-cols-1 my-16",4,"ngIf"],[3,"selected_notes","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"selected_abused","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal",4,"ngIf"],[1,"mx-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-4"],[1,"ml-5","mt-3"],["type","checkbox","disabled","","formControlName","recant_flag","name","recant_flag","id","recant_flag",1,"input-checkbox"],["for","recant_flag",1,"pl-3","py-0.5"],[4,"ngIf"],["type","checkbox","disabled","","formControlName","deferred","name","deferred","id","deferred",1,"input-checkbox"],["for","deferred",1,"pl-3","py-0.5"],[1,"mx-5","col-span-3","grid","grid-cols-3","gap-4"],["for","interview_datetime"],["type","datetime-local","name","interview_datetime","id","interview_datetime","formControlName","interview_datetime",1,"input",3,"max"],["class","text-red-500 text-sm font-normal",4,"ngIf"],["type","checkbox","id","source_from_victim_flag","formControlName","source_from_victim_flag",1,"input-checkbox"],["for","source_from_victim_flag",1,"pl-3","py-0.5"],["type","checkbox","id","source_from_historian_flag","formControlName","source_from_historian_flag",1,"input-checkbox"],["for","source_from_historian_flag",1,"pl-3","py-0.5"],["type","checkbox","id","source_from_sworn_statement_flag","formControlName","source_from_sworn_statement_flag",1,"input-checkbox"],["for","source_from_sworn_statement_flag",1,"pl-3","py-0.5"],[1,"mx-5","col-span-3","grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","id","incident_recent_unknown","formControlName","incident_recent_unknown",1,"input-checkbox",3,"change"],["for","incident_recent_unknown",1,"pl-3","py-0.5"],["class","col-span-2",4,"ngIf"],[1,"col-span-2"],["for","incident_recent_remarks"],["type","text","name","incident_recent_remarks","id","incident_recent_remarks","formControlName","incident_recent_remarks",1,"input"],["type","checkbox","id","incident_first_unknown","formControlName","incident_first_unknown",1,"input-checkbox",3,"change"],["for","incident_first_unknown",1,"pl-3","py-0.5"],["for","incident_first_remarks"],["type","text","name","incident_first_remarks","id","incident_first_remarks","formControlName","incident_first_remarks",1,"input"],["for","abused_episode_id",3,"ngClass"],["name","abused_episode_id","id","abused_episode_id","formControlName","abused_episode_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-alert",4,"ngIf"],["for","abused_episode_count",3,"ngClass"],["type","number","name","abused_episode_count","id","abused_episode_count","formControlName","abused_episode_count",1,"input",3,"ngClass"],["for","abused_site_id",3,"ngClass"],["name","abused_site_id","id","abused_site_id","formControlName","abused_site_id",1,"input",3,"ngClass"],["for","abused_site_remarks",3,"ngClass"],["type","text","name","abused_site_remarks","id","abused_site_remarks","formControlName","abused_site_remarks",1,"input",3,"ngClass"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","pl-3","rounded-t-md"],[1,"grid","grid-cols-4","gap-4","pt-3","mb-5","mx-5"],["for","disclosed_flag"],["name","disclosed_flag","id","disclosed_flag","formControlName","disclosed_flag",1,"input"],["value","Y"],["value","N"],["value","X"],["class","col-span-3",4,"ngIf"],["class","col-span-4",4,"ngIf"],["class","mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","-mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","text-sm bg-red-50 border border-red-300 p-5 m-5 rounded-lg text-red-800",4,"ngIf"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],["for","recant_datetime"],["type","datetime-local","name","recant_datetime","id","recant_datetime","formControlName","recant_datetime",1,"input",3,"max"],["for","recant_remarks"],["type","text","name","recant_remarks","id","recant_remarks","formControlName","recant_remarks",1,"input"],["for","deferral_datetime"],["type","datetime-local","name","deferral_datetime","id","deferral_datetime","formControlName","deferral_datetime",1,"input",3,"max"],["for","deferral_reason_id"],["name","deferral_reason_id","id","deferral_reason_id","formControlName","deferral_reason_id",1,"input"],[3,"value"],["for","deferral_previous_interviewer_id"],["name","deferral_previous_interviewer_id","id","deferral_previous_interviewer_id","formControlName","deferral_previous_interviewer_id",1,"input"],["for","deferral_interviewer_remarks"],["type","text","name","deferral_interviewer_remarks","id","deferral_interviewer_remarks","formControlName","deferral_interviewer_remarks",1,"input"],[1,"text-red-500","text-sm","font-normal"],["for","enroll_as_code"],["name","mental_age_id","id","mental_age_id","formControlName","mental_age_id",1,"input"],["for","source_from_historian_remarks"],["type","text","name","source_from_historian_remarks","id","source_from_historian_remarks","formControlName","source_from_historian_remarks",1,"input"],["for","incident_recent_datetime",3,"ngClass"],["type","datetime-local","name","incident_recent_datetime","id","incident_recent_datetime","formControlName","incident_recent_datetime",1,"input",3,"ngClass"],[1,"invalid-alert"],["for","incident_first_datetime",3,"ngClass"],["type","datetime-local","name","incident_first_datetime","id","incident_first_datetime","formControlName","incident_first_datetime",1,"input",3,"ngClass"],["for","disclosed_type",3,"ngClass"],["name","disclosed_type","id","disclosed_type","formControlName","disclosed_type",1,"input",3,"ngClass"],[1,"col-span-3"],["for","disclosed_relation_id",3,"ngClass"],["name","disclosed_relation_id","id","disclosed_relation_id","formControlName","disclosed_relation_id",1,"input",3,"ngClass"],["for","initial_disclosure",3,"ngClass"],["rows","4","name","initial_disclosure","id","initial_disclosure","formControlName","initial_disclosure",1,"input",3,"ngClass"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"col-span-4","mx-5"],["for","other_abuse_acts",3,"ngClass"],["rows","4","name","other_abuse_acts","id","other_abuse_acts","formControlName","other_abuse_acts",1,"input",3,"ngClass"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"text-center","font-semibold"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","checked","",4,"ngIf"],["type","checkbox","checked","",1,"input-checkbox","disabled:bg-blue-500"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],["for","dev_screening_id",3,"ngClass"],["name","dev_screening_id","id","dev_screening_id","formControlName","dev_screening_id",1,"input",3,"ngClass"],["for","dev_screening_remarks",3,"ngClass"],["type","text","row","3","name","dev_screening_remarks","id","dev_screening_remarks","formControlName","dev_screening_remarks",1,"input",3,"ngClass"],[1,"w-1/12"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"click","icon"],["class","text-center align-top pt-3",4,"ngIf"],["class","align-top pt-3",4,"ngIf"],["class","font-semibold italic align-top pt-3",4,"ngIf"],["class","p-3",4,"ngIf"],["class","italic pt-5","colspan","4",4,"ngIf"],[1,"align-top","pt-3"],[1,"italic","font-semibold"],[1,"font-semibold","italic","align-top","pt-3"],[1,"font-normal","not-italic"],[1,"p-3"],["class","font-semibold",4,"ngIf"],[1,"font-semibold"],["colspan","4",1,"italic","pt-5"],["class","col-span-4 flex justify-center font-semibold italic my-5",4,"ngIf"],["class","col-span-4 grid grid-cols-1 border-slate-200 shadow-md rounded-md mx-5 mb-5",4,"ngIf"],[1,"col-span-4","flex","justify-center","font-semibold","italic","my-5"],["class","text-xs italic pt-1",4,"ngIf"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],[1,"text-xs","italic","pt-1"],[1,"align-top","p-3"],["class","hover:cursor-pointer text-orange-500",3,"icon","click",4,"ngIf"],[1,"-mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-2","font-semibold","text-sky-500"],[1,"col-span-2","mt-8"],["type","checkbox","id","child_caretaker_present_flag","formControlName","child_caretaker_present_flag",1,"input-checkbox"],["for","child_caretaker_present_flag",1,"pl-3","py-0.5"],[1,"col-span-4","grid","grid-cols-3","gap-4"],[1,"col-span-3","text-sm","font-semibold"],[4,"ngFor","ngForOf"],["class","col-span-4 grid grid-cols-3 gap-4",4,"ngIf"],["for","child_behavior_remarks",3,"ngClass"],["row","3","name","child_behavior_remarks","id","child_behavior_remarks","formControlName","child_behavior_remarks",1,"input",3,"ngClass"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-3","py-0.5"],[1,"text-sm","bg-red-50","border","border-red-300","p-5","m-5","rounded-lg","text-red-800"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["animation","spin",1,"text-sky-500",3,"icon"],[3,"toggleModal","selected_notes","intake_id","patient_id"],[3,"toggleModal","selected_abused","intake_id","patient_id"],[3,"toggleModal","selected_perpetrator","intake_id","patient_id"]],template:function(a,i){1&a&&(e.j41(0,"div",0),e.DNE(1,Zi,121,55,"div",1)(2,Ki,5,1,"div",2),e.k0s(),e.DNE(3,ea,1,3,"app-inteview-notes",3)(4,ta,1,3,"app-abuse-acts",4)(5,na,1,3,"app-perpetrators",5)),2&a&&(e.R7$(),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(),e.Y8G("ngIf",i.modals.interview_notes),e.R7$(),e.Y8G("ngIf",i.modals.abuse_acts),e.R7$(),e.Y8G("ngIf",i.modals.perpetrators))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY,Qt,Kt,O,_.vh,_.lG],encapsulation:2})}}return n})(),aa=(()=>{class n{onSubmit(){this.is_saving=!0,this.http.post("gender-based-violence/patient-gbv-consult-visit",this.visitForm.value).subscribe({next:t=>{console.log(t),this.toastr.success("Successfully recorded.","Social Work"),this.is_saving=!1,this.closeModal()},error:t=>console.log(t)})}createForm(){this.visitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,s.k0.required],actual_date:[null,s.k0.required],physician:[null,s.k0.required],date_in:[null],date_due:[null],date_out:[null],lab_test:[null]}),this.selected_data&&this.visitForm.patchValue({...this.selected_data})}closeModal(){this.toggleModal.emit("medical_consult")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.visitForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),scheduled_date:new s.MJ(null),actual_date:new s.MJ(null),physician:new s.MJ(null),date_in:new s.MJ(null),date_due:new s.MJ(null),date_out:new s.MJ(null),lab_test:new s.MJ(null)})}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-medical-consult"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:44,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-3","gap-4","m-3"],["for","physician"],["type","text","name","physician","id","physician","formControlName","physician",1,"input"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"mt-5","col-span-3"],["for","lab_test"],["type","text","name","lab_test","id","lab_test","formControlName","lab_test",1,"input"],["for","date_in"],["type","date","name","date_in","id","date_in","formControlName","date_in",1,"input"],["for","date_due"],["type","date","name","date_due","id","date_due","formControlName","date_due",1,"input"],["for","date_out"],["type","date","name","date_out","id","date_out","formControlName","date_out",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Consultation visits "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div")(10,"label",8),e.EFF(11,"Physician"),e.k0s(),e.nrm(12,"input",9),e.k0s(),e.j41(13,"div")(14,"label",10),e.EFF(15,"Scheduled Date"),e.k0s(),e.nrm(16,"input",11),e.k0s(),e.j41(17,"div")(18,"label",12),e.EFF(19,"Actual Date"),e.k0s(),e.nrm(20,"input",13),e.k0s(),e.j41(21,"div",14)(22,"label",15),e.EFF(23,"Lab Test"),e.k0s(),e.nrm(24,"input",16),e.k0s(),e.j41(25,"div")(26,"label",17),e.EFF(27,"Date In"),e.k0s(),e.nrm(28,"input",18),e.k0s(),e.j41(29,"div")(30,"label",19),e.EFF(31,"Date Due"),e.k0s(),e.nrm(32,"input",20),e.k0s(),e.j41(33,"div")(34,"label",21),e.EFF(35,"Date Out"),e.k0s(),e.nrm(36,"input",22),e.k0s()()()(),e.j41(37,"div",23)(38,"button",24),e.bIt("click",function(){return i.closeModal()}),e.EFF(39,"Close"),e.k0s(),e.j41(40,"button",25),e.bIt("click",function(){return i.onSubmit()}),e.nrm(41,"fa-icon",26),e.EFF(42),e.k0s()()()()(),e.nrm(43,"div",27)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.visitForm),e.R7$(33),e.Y8G("disabled",i.is_saving||i.visitForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})(),sa=(()=>{class n{onSubmit(){let t;this.is_saving=!0,t=this.homeVisitForm.value.id?this.http.update("gender-based-violence/patient-gbv-social-work/",this.homeVisitForm.value.id,this.homeVisitForm.value):this.http.post("gender-based-violence/patient-gbv-social-work",this.homeVisitForm.value),t.subscribe({next:a=>{console.log(a),this.toastr.success("Successfully recorded.","Social Work"),this.is_saving=!1,this.closeModal()},error:a=>console.log(a)})}createForm(){this.homeVisitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],visit_date:[null,s.k0.required],social_worker:[null,s.k0.required],social_worker_remarks:[null]}),console.log(this.selected_data),this.selected_data&&this.homeVisitForm.patchValue({...this.selected_data})}closeModal(){this.toggleModal.emit("home_visit")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.homeVisitForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),visit_date:new s.MJ(null),social_worker:new s.MJ(null),social_worker_remarks:new s.MJ(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-home-visit"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:29,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","visit_date"],["type","date","name","visit_date","id","visit_date","formControlName","visit_date",1,"input"],["for","social_worker"],["type","text","name","social_worker","id","social_worker","formControlName","social_worker",1,"input"],[1,"col-span-4"],["for","social_worker_remarks"],["name","social_worker_remarks","id","social_worker_remarks","formControlName","social_worker_remarks",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Home Visit Details "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11,"Date"),e.k0s(),e.nrm(12,"input",10),e.k0s(),e.j41(13,"div",8)(14,"label",11),e.EFF(15,"Social worker"),e.k0s(),e.nrm(16,"input",12),e.k0s(),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Social worker remarks"),e.k0s(),e.j41(20,"textarea",15),e.EFF(21,"              "),e.k0s()()()()(),e.j41(22,"div",16)(23,"button",17),e.bIt("click",function(){return i.closeModal()}),e.EFF(24,"Close"),e.k0s(),e.j41(25,"button",18),e.bIt("click",function(){return i.onSubmit()}),e.nrm(26,"fa-icon",19),e.EFF(27),e.k0s()()()()(),e.nrm(28,"div",20)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.homeVisitForm),e.R7$(18),e.Y8G("disabled",i.is_saving||i.homeVisitForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function oa(n,o){if(1&n&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("ngValue",t.id),e.R7$(),e.JRh(t.desc)}}function ra(n,o){1&n&&(e.j41(0,"div",15)(1,"label",24),e.EFF(2,"Home Placement by"),e.k0s(),e.j41(3,"select",25)(4,"option",23),e.EFF(5,"By CPU"),e.k0s(),e.j41(6,"option",23),e.EFF(7,"By Others"),e.k0s()()()),2&n&&(e.R7$(4),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1))}function la(n,o){1&n&&(e.j41(0,"div",26)(1,"label",27),e.EFF(2,"Name"),e.k0s(),e.nrm(3,"input",28),e.k0s())}function _a(n,o){if(1&n&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function da(n,o){if(1&n&&(e.j41(0,"div",15)(1,"label",29),e.EFF(2,"Placement type"),e.k0s(),e.j41(3,"select",30),e.DNE(4,_a,2,2,"option",31),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.placement_types)}}function ca(n,o){1&n&&(e.j41(0,"div",15)(1,"label",33),e.EFF(2,"Name"),e.k0s(),e.nrm(3,"input",34),e.k0s())}function pa(n,o){1&n&&(e.j41(0,"div",15)(1,"label",35),e.EFF(2,"Contact Info"),e.k0s(),e.nrm(3,"input",36),e.k0s())}function ma(n,o){1&n&&(e.j41(0,"div",15)(1,"label",37),e.EFF(2,"Schedule Date"),e.k0s(),e.nrm(3,"input",38),e.k0s())}function ua(n,o){1&n&&(e.j41(0,"div",15)(1,"label",39),e.EFF(2,"Actual Date"),e.k0s(),e.nrm(3,"input",40),e.k0s())}function fa(n,o){1&n&&(e.j41(0,"div",41)(1,"label",42),e.EFF(2,"Hospital Name"),e.k0s(),e.nrm(3,"input",43),e.k0s())}function ga(n,o){1&n&&(e.j41(0,"div",44)(1,"label",45),e.EFF(2,"Ward"),e.k0s(),e.nrm(3,"input",46),e.k0s())}function va(n,o){1&n&&(e.j41(0,"div",15)(1,"label",47),e.EFF(2,"Date In"),e.k0s(),e.nrm(3,"input",48),e.k0s())}function ba(n,o){1&n&&(e.j41(0,"div",15)(1,"label",49),e.EFF(2,"Date Out"),e.k0s(),e.nrm(3,"input",50),e.k0s())}function ha(n,o){if(1&n){const t=e.RV6();e.j41(0,"form",13),e.bIt("submit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.j41(1,"div",14)(2,"div",15)(3,"label",16),e.EFF(4,"Placement location"),e.k0s(),e.j41(5,"select",17),e.DNE(6,oa,2,2,"option",18),e.k0s()(),e.DNE(7,ra,8,2,"div",19)(8,la,4,0,"div",20)(9,da,5,1,"div",19)(10,ca,4,0,"div",19)(11,pa,4,0,"div",19)(12,ma,4,0,"div",19)(13,ua,4,0,"div",19)(14,fa,4,0,"div",21)(15,ga,4,0,"div",22)(16,va,4,0,"div",19)(17,ba,4,0,"div",19),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.placementForm),e.R7$(6),e.Y8G("ngForOf",t.placement_locations),e.R7$(),e.Y8G("ngIf",1===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",1===t.placementForm.value.location_id&&!t.placementForm.value.home_by_cpu_flag),e.R7$(),e.Y8G("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",4===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",4===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",4===t.placementForm.value.location_id),e.R7$(),e.Y8G("ngIf",4===t.placementForm.value.location_id)}}function ka(n,o){if(1&n&&(e.j41(0,"div",51)(1,"span",52),e.nrm(2,"fa-icon",53),e.k0s(),e.j41(3,"span",54),e.EFF(4," Loading "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}let Fa=(()=>{class n{onSubmit(){let t;this.is_saving=!0,t=this.placementForm.value.id?this.http.update("gender-based-violence/patient-gbv-placement/",this.placementForm.value.id,this.placementForm.value):this.http.post("gender-based-violence/patient-gbv-placement",this.placementForm.value),t.subscribe({next:a=>{this.toastr.success("Successfully recorded","Placement"),this.is_saving=!1,this.closeModal()},error:a=>console.log(a)})}createForm(){this.placementForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],location_id:[null,s.k0.required],home_by_cpu_flag:[!1],home_by_other_name:[null],scheduled_date:[null],actual_date:[null],placement_name:[null],placement_contact_info:[null],type_id:[null],hospital_name:[null],hospital_ward:[null],hospital_date_in:[null],hospital_date_out:[null]}),console.log(this.selected_data),this.selected_data&&this.placementForm.patchValue({...this.selected_data}),this.show_form=!0}loadLibraries(){const t=this.http.get("libraries/gbv-placement-location"),a=this.http.get("libraries/gbv-placement-type");(0,G.p)([t,a]).subscribe({next:([i,r])=>{this.placement_locations=i.data,this.placement_types=r.data,this.createForm()},error:i=>console.log(i)})}closeModal(){this.toggleModal.emit("placement")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_form=!1,this.placementForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),location_id:new s.MJ(null),home_by_cpu_flag:new s.MJ(!1),home_by_other_name:new s.MJ(null),scheduled_date:new s.MJ(null),actual_date:new s.MJ(null),placement_name:new s.MJ(null),placement_contact_info:new s.MJ(null),type_id:new s.MJ(null),hospital_name:new s.MJ(null),hospital_ward:new s.MJ(null),hospital_date_in:new s.MJ(null),hospital_date_out:new s.MJ(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-placement"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:16,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","location_id"],["name","location_id","id","location_id","formControlName","location_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-span-2",4,"ngIf"],["class","col-span-4",4,"ngIf"],["class","col-span-3",4,"ngIf"],["class","col-span-1",4,"ngIf"],[3,"ngValue"],["for","home_by_cpu_flag"],["name","home_by_cpu_flag","id","home_by_cpu_flag","formControlName","home_by_cpu_flag",1,"input"],[1,"col-span-4"],["for","home_by_other_name"],["type","text","name","home_by_other_name","id","home_by_other_name","formControlName","home_by_other_name",1,"input"],["for","type_id"],["name","type_id","id","type_id","formControlName","type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","placement_name"],["type","text","name","placement_name","id","placement_name","formControlName","placement_name",1,"input"],["for","placement_contact_info"],["type","text","name","placement_contact_info","id","placement_contact_info","formControlName","placement_contact_info",1,"input"],["for","schedule_date"],["type","date","name","schedule_date","id","schedule_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"col-span-3"],["for","hospital_name"],["type","text","name","hospital_name","id","hospital_name","formControlName","hospital_name",1,"input"],[1,"col-span-1"],["for","hospital_ward"],["type","text","name","hospital_ward","id","hospital_ward","formControlName","hospital_ward",1,"input"],["for","hospital_date_in"],["type","date","name","hospital_date_in","id","hospital_date_in","formControlName","hospital_date_in",1,"input"],["for","hospital_date_out"],["type","date","name","hospital_date_out","id","hospital_date_out","formControlName","hospital_date_out",1,"input"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center","text-sky-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Placement Details "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,ha,18,13,"form",6)(8,ka,5,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return i.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return i.onSubmit()}),e.nrm(13,"fa-icon",11),e.EFF(14),e.k0s()()()()(),e.nrm(15,"div",12)),2&a&&(e.R7$(7),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(4),e.Y8G("disabled",i.is_saving||i.placementForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function ya(n,o){if(1&n&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}let ja=(()=>{class n{onSubmit(){let t;this.is_saving=!0,t=this.sessionForm.value.id?this.http.update("gender-based-violence/patient-gbv-psych/",this.sessionForm.value.id,this.sessionForm.value):this.http.post("gender-based-violence/patient-gbv-psych",this.sessionForm.value),t.subscribe({next:a=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Session"),this.closeModal()},error:a=>console.log(a)})}createForm(){this.sessionForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,s.k0.required],actual_date:[null,s.k0.required],md_name:[null,s.k0.required],participant_id:[null,s.k0.required]}),this.selected_data&&this.sessionForm.patchValue({...this.selected_data})}loadLibraries(){this.http.get("libraries/gbv-psych-participant").subscribe({next:t=>{this.participants=t.data,this.createForm()},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("session")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.sessionForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),scheduled_date:new s.MJ(null),actual_date:new s.MJ(null),md_name:new s.MJ(null),participant_id:new s.MJ(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-session"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:33,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-3","gap-4"],["for","participant_id"],["name","participant_id","id","participant_id","formControlName","participant_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"col-span-3"],["for","md_name"],["type","text","name","md_name","id","md_name","formControlName","md_name",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Session Details "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div")(10,"label",8),e.EFF(11,"Participants"),e.k0s(),e.j41(12,"select",9),e.DNE(13,ya,2,2,"option",10),e.k0s()(),e.j41(14,"div")(15,"label",11),e.EFF(16,"Schedule Date"),e.k0s(),e.nrm(17,"input",12),e.k0s(),e.j41(18,"div")(19,"label",13),e.EFF(20,"Actual Date"),e.k0s(),e.nrm(21,"input",14),e.k0s(),e.j41(22,"div",15)(23,"label",16),e.EFF(24,"MD Name"),e.k0s(),e.nrm(25,"input",17),e.k0s()()()(),e.j41(26,"div",18)(27,"button",19),e.bIt("click",function(){return i.closeModal()}),e.EFF(28,"Close"),e.k0s(),e.j41(29,"button",20),e.bIt("click",function(){return i.onSubmit()}),e.nrm(30,"fa-icon",21),e.EFF(31),e.k0s()()()()(),e.nrm(32,"div",22)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.sessionForm),e.R7$(6),e.Y8G("ngForOf",i.participants),e.R7$(16),e.Y8G("disabled",i.is_saving||i.sessionForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function xa(n,o){if(1&n&&(e.j41(0,"option",48),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Ca(n,o){if(1&n&&(e.j41(0,"option",48),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function wa(n,o){if(1&n&&(e.j41(0,"option",48),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Ia(n,o){if(1&n&&(e.j41(0,"option",48),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Ea(n,o){if(1&n&&(e.j41(0,"option",48),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}let Ga=(()=>{class n{onSubmit(){let t;this.is_saving=!0,t=this.legalForm.value.id?this.http.update("gender-based-violence/patient-gbv-legal/",this.legalForm.value.id,this.legalForm.value):this.http.post("gender-based-violence/patient-gbv-legal",this.legalForm.value),console.log(this.legalForm.value),t.subscribe({next:a=>{console.log(a),this.is_saving=!1,this.toastr.success("Successfully recorded","Legal Case")},error:a=>console.log(a)})}createForm(){this.legalForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],complaint_filed_flag:[!1,s.k0.required],filing_type_id:[null],nps_docket_number:[null],nps_status_id:[null],filed_by_name:[null],filed_by_relation_id:[null],filed_location_id:[null],filed_location_remarks:[null],case_initiated_flag:[!1],judge_name:[null],court_name:[null],fiscal_name:[null],criminal_case_number:[null],cpumd_testimony_date:[null],verdict_id:[null],blotter_filed_flag:[!1],blotter_remarks:[null]}),console.log(this.legalForm.value),this.selected_data&&this.legalForm.patchValue({...this.selected_data})}loadLibraries(){const t=this.http.get("libraries/child-relation"),a=this.http.get("libraries/gbv-filing-location"),i=this.http.get("libraries/gbv-outcome-verdict"),r=this.http.get("libraries/gbv-filing-type"),l=this.http.get("libraries/gbv-nps-status");(0,G.p)([t,a,i,r,l]).subscribe({next:([d,u,w,D,S])=>{this.child_relations=d.data,this.filed_locations=u.data,this.verdicts=w.data,this.filing_types=D.data,this.nps_statuses=S.data,this.createForm()},error:d=>console.log(d)})}closeModal(){this.toggleModal.emit("legal_case")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.legalForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),blotter_filed_flag:new s.MJ(!1),blotter_remarks:new s.MJ(null),complaint_filed_flag:new s.MJ(!1),filing_type_id:new s.MJ(null),nps_docket_number:new s.MJ(null),nps_status_id:new s.MJ(null),filed_by_name:new s.MJ(null),filed_by_relation_id:new s.MJ(null),filed_location_id:new s.MJ(null),filed_location_remarks:new s.MJ(null),case_initiated_flag:new s.MJ(!1),judge_name:new s.MJ(null),court_name:new s.MJ(null),fiscal_name:new s.MJ(null),criminal_case_number:new s.MJ(null),cpumd_testimony_date:new s.MJ(null),verdict_id:new s.MJ(null)}),this.child_relations=[],this.filed_locations=[],this.verdicts=[],this.filing_types=[],this.nps_statuses=[]}ngOnChanges(t){console.log(this.selected_data)}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-legal-case"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,features:[e.OA$],decls:83,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["type","checkbox","name","complaint_filed_flag","id","complaint_filed_flag","formControlName","complaint_filed_flag",1,"input-checkbox"],["for","complaint_filed_flag",1,"pl-3","py-0.5"],["type","checkbox","name","blotter_filed_flag","id","blotter_filed_flag","formControlName","blotter_filed_flag",1,"input-checkbox"],["for","blotter_filed_flag",1,"pl-3","py-0.5"],[1,"col-span-4","grid","grid-cols-3","gap-4"],["for","filing_type_id"],["name","filing_type_id","id","filing_type_id","formControlName","filing_type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","nps_docket_number"],["type","text","name","nps_docket_number","id","nps_docket_number","formControlName","nps_docket_number",1,"input"],["for","nps_status_id"],["name","nps_status_id","id","nps_status_id","formControlName","nps_status_id",1,"input"],["for","filed_by_name"],["type","text","name","filed_by_name","id","filed_by_name","formControlName","filed_by_name",1,"input"],["for","filed_by_relation_id"],["name","filed_by_relation_id","id","filed_by_relation_id","formControlName","filed_by_relation_id",1,"input"],["for","filed_location_id"],["name","filed_location_id","id","filed_location_id","formControlName","filed_location_id",1,"input"],[1,"col-span-4"],[1,"col-span-4","grid","grid-cols-6","gap-4"],[1,"col-span-3"],["for","cpumd_testimony_date"],["type","date","name","cpumd_testimony_date","id","cpumd_testimony_date","formControlName","cpumd_testimony_date",1,"input"],["for","criminal_case_number"],["type","text","name","criminal_case_number","id","criminal_case_number","formControlName","criminal_case_number",1,"input"],["for","judge_name"],["type","text","name","judge_name","id","judge_name","formControlName","judge_name",1,"input"],["for","court_name"],["type","text","name","court_name","id","court_name","formControlName","court_name",1,"input"],["for","fiscal_name"],["type","text","name","fiscal_name","id","fiscal_name","formControlName","fiscal_name",1,"input"],[1,"col-span-6"],["for","verdict_id"],["name","verdict_id","id","verdict_id","formControlName","verdict_id",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Legal Case Details "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div",8),e.nrm(10,"input",9),e.j41(11,"label",10),e.EFF(12,"Complaint filed"),e.k0s()(),e.j41(13,"div",8),e.nrm(14,"input",11),e.j41(15,"label",12),e.EFF(16,"Blotter filed"),e.k0s()(),e.j41(17,"div",13)(18,"div")(19,"label",14),e.EFF(20,"Type of Filing"),e.k0s(),e.j41(21,"select",15),e.DNE(22,xa,2,2,"option",16),e.k0s()(),e.j41(23,"div")(24,"label",17),e.EFF(25,"NPS docket number"),e.k0s(),e.nrm(26,"input",18),e.k0s(),e.j41(27,"div")(28,"label",19),e.EFF(29,"Case Status"),e.k0s(),e.j41(30,"select",20),e.DNE(31,Ca,2,2,"option",16),e.k0s()(),e.j41(32,"div")(33,"label",21),e.EFF(34,"Filed by"),e.k0s(),e.nrm(35,"input",22),e.k0s(),e.j41(36,"div")(37,"label",23),e.EFF(38,"Relation to survivor"),e.k0s(),e.j41(39,"select",24),e.DNE(40,wa,2,2,"option",16),e.k0s()(),e.j41(41,"div")(42,"label",25),e.EFF(43,"Filed at"),e.k0s(),e.j41(44,"select",26),e.DNE(45,Ia,2,2,"option",16),e.k0s()()(),e.j41(46,"div",27),e.nrm(47,"input",9),e.j41(48,"label",10),e.EFF(49,"Case update"),e.k0s()(),e.j41(50,"div",28)(51,"div",29)(52,"label",30),e.EFF(53,"Date of MD Testimony"),e.k0s(),e.nrm(54,"input",31),e.k0s(),e.j41(55,"div",29)(56,"label",32),e.EFF(57,"Criminal Case Number"),e.k0s(),e.nrm(58,"input",33),e.k0s(),e.j41(59,"div",8)(60,"label",34),e.EFF(61,"Judge Name"),e.k0s(),e.nrm(62,"input",35),e.k0s(),e.j41(63,"div",8)(64,"label",36),e.EFF(65,"Court Name"),e.k0s(),e.nrm(66,"input",37),e.k0s(),e.j41(67,"div",8)(68,"label",38),e.EFF(69,"Fiscal Name"),e.k0s(),e.nrm(70,"input",39),e.k0s(),e.j41(71,"div",40)(72,"label",41),e.EFF(73,"Verdict"),e.k0s(),e.j41(74,"select",42),e.DNE(75,Ea,2,2,"option",16),e.k0s()()()()()(),e.j41(76,"div",43)(77,"button",44),e.bIt("click",function(){return i.closeModal()}),e.EFF(78,"Close"),e.k0s(),e.j41(79,"button",45),e.bIt("click",function(){return i.onSubmit()}),e.nrm(80,"fa-icon",46),e.EFF(81),e.k0s()()()()(),e.nrm(82,"div",47)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.legalForm),e.R7$(15),e.Y8G("ngForOf",i.filing_types),e.R7$(9),e.Y8G("ngForOf",i.nps_statuses),e.R7$(9),e.Y8G("ngForOf",i.child_relations),e.R7$(5),e.Y8G("ngForOf",i.filed_locations),e.R7$(30),e.Y8G("ngForOf",i.verdicts),e.R7$(4),e.Y8G("disabled",i.is_saving||i.legalForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,s.qT,s.xH,s.y7,s.me,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function Ra(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",26),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_invites[r.id],i)||(l.patient_invites[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",27),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_invites",t.id,""),e.R50("ngModel",a.patient_invites[t.id]),e.R7$(),e.x72("for","patient_invites",t.id,""),e.R7$(),e.JRh(t.desc)}}function $a(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",26),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_concerns[r.id],i)||(l.patient_concerns[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",27),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_concerns",t.id,""),e.R50("ngModel",a.patient_concerns[t.id]),e.R7$(),e.x72("for","patient_concerns",t.id,""),e.R7$(),e.JRh(t.desc)}}function Ma(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",26),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_mitigations[r.id],i)||(l.patient_mitigations[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",27),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_mitigations",t.id,""),e.R50("ngModel",a.patient_mitigations[t.id]),e.R7$(),e.x72("for","patient_mitigations",t.id,""),e.R7$(),e.JRh(t.desc)}}function Ya(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",26),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_recommendations[r.id],i)||(l.patient_recommendations[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",27),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_recommendations",t.id,""),e.R50("ngModel",a.patient_recommendations[t.id]),e.R7$(),e.x72("for","patient_recommendations",t.id,""),e.R7$(),e.JRh(t.desc)}}function Na(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),e.EFF(4,"Conference date"),e.k0s(),e.j41(5,"input",16),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_conference.conference_date,i)||(r.patient_conference.conference_date=i),e.Njj(i)}),e.k0s()(),e.j41(6,"div",17),e.EFF(7," Invitees "),e.k0s(),e.j41(8,"div",18),e.DNE(9,Ra,4,6,"div",19),e.k0s(),e.j41(10,"div",20)(11,"label",21),e.EFF(12,"Remarks"),e.k0s(),e.j41(13,"input",22),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_conference.conference_invitee_remarks,i)||(r.patient_conference.conference_invitee_remarks=i),e.Njj(i)}),e.k0s()(),e.j41(14,"div",17),e.EFF(15," Concerns "),e.k0s(),e.j41(16,"div",18),e.DNE(17,$a,4,6,"div",19),e.k0s(),e.j41(18,"div",20)(19,"label",21),e.EFF(20,"Remarks"),e.k0s(),e.j41(21,"input",23),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_conference.conference_concern_remarks,i)||(r.patient_conference.conference_concern_remarks=i),e.Njj(i)}),e.k0s()(),e.j41(22,"div",17),e.EFF(23," Mitigating Factors "),e.k0s(),e.j41(24,"div",18),e.DNE(25,Ma,4,6,"div",19),e.k0s(),e.j41(26,"div",20)(27,"label",21),e.EFF(28,"Remarks"),e.k0s(),e.j41(29,"input",24),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_conference.conference_mitigating_factor_remarks,i)||(r.patient_conference.conference_mitigating_factor_remarks=i),e.Njj(i)}),e.k0s()(),e.j41(30,"div",17),e.EFF(31," Recommendations "),e.k0s(),e.j41(32,"div",18),e.DNE(33,Ya,4,6,"div",19),e.k0s(),e.j41(34,"div",20)(35,"label",21),e.EFF(36,"Remarks"),e.k0s(),e.j41(37,"input",25),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_conference.conference_recommendation_remarks,i)||(r.patient_conference.conference_recommendation_remarks=i),e.Njj(i)}),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(5),e.R50("ngModel",t.patient_conference.conference_date),e.R7$(4),e.Y8G("ngForOf",t.invites),e.R7$(4),e.R50("ngModel",t.patient_conference.conference_invitee_remarks),e.R7$(4),e.Y8G("ngForOf",t.concerns),e.R7$(4),e.R50("ngModel",t.patient_conference.conference_concern_remarks),e.R7$(4),e.Y8G("ngForOf",t.mitigations),e.R7$(4),e.R50("ngModel",t.patient_conference.conference_mitigating_factor_remarks),e.R7$(4),e.Y8G("ngForOf",t.recommendations),e.R7$(4),e.R50("ngModel",t.patient_conference.conference_recommendation_remarks)}}function Ta(n,o){if(1&n&&(e.j41(0,"div",28)(1,"span",29),e.nrm(2,"fa-icon",30),e.k0s(),e.j41(3,"span",29),e.EFF(4," Loading... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function Da(n,o){if(1&n&&e.nrm(0,"fa-icon",34),2&n){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Sa(n,o){if(1&n&&e.nrm(0,"fa-icon",35),2&n){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function Xa(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.DNE(1,Da,1,1,"fa-icon",32)(2,Sa,1,1,"fa-icon",33),e.EFF(3),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.is_saving),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?t.patient_conference.id?"Updating":"Saving":t.patient_conference.id?"Update":"Save"," ")}}let Ja=(()=>{class n{onSubmit(){this.is_saving=!0;let t=[],a=[],i=[],r=[];this.patient_conference.patient_id=this.patient_id,this.patient_conference.patient_gbv_intake_id=this.patient_gbv_intake_id,Object.entries(this.patient_invites).forEach(([l,d],u)=>{!0===d&&t.push({invite_code:l})}),Object.entries(this.patient_concerns).forEach(([l,d],u)=>{console.log(l,d),!0===d&&a.push({concern_code:l})}),Object.entries(this.patient_mitigations).forEach(([l,d],u)=>{!0===d&&i.push({factor_code:l})}),Object.entries(this.patient_recommendations).forEach(([l,d],u)=>{!0===d&&r.push({recommend_code:l})}),this.patient_conference.invites=t,this.patient_conference.concerns=a,this.patient_conference.mitigations=i,this.patient_conference.recommendations=r,console.log(this.patient_conference),this.http.post("gender-based-violence/patient-gbv-conference",this.patient_conference).subscribe({next:l=>{console.log(l),this.toastr.success("Successfully recorded","Case Conference"),this.is_saving=!1,this.closeModal()},error:l=>console.log(l)})}patchData(){this.selected_data&&(this.patient_conference={...this.selected_data},this.patient_conference.conference_date=(0,_.Yq)(this.selected_data.conference_date,"yyyy-MM-dd","en","Asia/Manila"),this.selected_data.invite&&(this.patient_invites=this.checkSelection(this.selected_data.invite,"invite_code")),this.selected_data.concern&&(this.patient_concerns=this.checkSelection(this.selected_data.concern,"concern_code")),this.selected_data.mitigating_factor&&(this.patient_mitigations=this.checkSelection(this.selected_data.mitigating_factor,"factor_code")),this.selected_data.recommendation&&(this.patient_recommendations=this.checkSelection(this.selected_data.recommendation,"recommend_code")),console.log(this.patient_conference)),this.show_form=!0}checkSelection(t,a){console.log(t,a);let i=[];return Object.entries(t).forEach(([r,l],d)=>{i[l[a]]=!0}),i}loadLibraries(){const t=this.http.get("libraries/gbv-conference-invitee"),a=this.http.get("libraries/gbv-conference-concern"),i=this.http.get("libraries/gbv-conference-mitigating"),r=this.http.get("libraries/gbv-conference-recommendation");(0,G.p)([t,a,i,r]).subscribe({next:([l,d,u,w])=>{this.invites=l.data,this.concerns=d.data,this.mitigations=u.data,this.recommendations=w.data,this.patchData()},error:l=>console.log(l)})}closeModal(){this.toggleModal.emit("case_conference")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faCircleNotch=c.s4k,this.faSave=f.hSh,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.invites=[],this.concerns=[],this.mitigations=[],this.recommendations=[],this.patient_invites=[],this.patient_concerns=[],this.patient_mitigations=[],this.patient_recommendations=[],this.patient_conference={id:null,patient_id:"",patient_gbv_intake_id:"",conference_date:"",notes:"",conference_invitee_remarks:"",conference_concern_remarks:"",conference_mitigating_factor_remarks:"",conference_recommendation_remarks:"",invites:[],concerns:[],mitigations:[],recommendations:[]}}ngOnInit(){console.log(this.selected_data),this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-case-conference"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:14,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[500px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit","class","btn-save px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-4"],["for","conference_date"],["type","date","name","conference_date","id","conference_date",1,"input",3,"ngModelChange","ngModel"],[1,"col-span-4","text-sky-500","font-semibold"],[1,"col-span-4","grid","grid-cols-2","gap-4"],[4,"ngFor","ngForOf"],[1,"col-span-4","flex"],[1,"mt-2","pr-3"],["type","text","name","conference_invitee_remarks","id","conference_invitee_remarks",1,"input",3,"ngModelChange","ngModel"],["type","text","name","conference_concern_remarks","id","conference_concern_remarks",1,"input",3,"ngModelChange","ngModel"],["type","text","name","conference_mitigating_factor_remarks","id","conference_mitigating_factor_remarks",1,"input",3,"ngModelChange","ngModel"],["type","text","name","conference_recommendation_remarks","id","conference_recommendation_remarks",1,"input",3,"ngModelChange","ngModel"],["type","checkbox",1,"input-checkbox",3,"ngModelChange","ngModel"],[1,"pl-3","py-0.5","select-none"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center"],["animation","spin",1,"text-sky-500",3,"icon"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],["class","pr-2",3,"icon",4,"ngIf"],["class","pr-2","animation","spin",3,"icon",4,"ngIf"],[1,"pr-2",3,"icon"],["animation","spin",1,"pr-2",3,"icon"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Case Conference "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,Na,38,9,"div",6)(8,Ta,5,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return i.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.DNE(12,Xa,4,4,"button",10),e.k0s()()()(),e.nrm(13,"div",11)),2&a&&(e.R7$(7),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(4),e.Y8G("ngIf",i.show_form))},dependencies:[_.Sq,_.bT,s.me,s.Zm,s.BC,s.vS,m.aY],encapsulation:2})}}return n})();function Va(n,o){if(1&n&&e.nrm(0,"fa-icon",21),2&n){const t=e.XpG();e.Y8G("icon",t.faSave)}}function qa(n,o){if(1&n&&e.nrm(0,"fa-icon",22),2&n){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}let Oa=(()=>{class n{onSubmit(){this.is_saving=!0,this.http.post("gender-based-violence/patient-gbv-legal-visit",this.legalVisitForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Session"),this.closeModal()},error:t=>console.log(t)})}createForm(){this.legalVisitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,s.k0.required],actual_date:[null,s.k0.required],person_in_charge:[null,s.k0.required]}),this.selected_data&&(this.legalVisitForm.patchValue({...this.selected_data}),console.log("test"))}closeModal(){this.toggleModal.emit("legal_visit")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.max_date=(0,_.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.legalVisitForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),scheduled_date:new s.MJ(null),actual_date:new s.MJ(null),person_in_charge:new s.MJ(null)})}ngOnInit(){this.createForm()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-legal-visit"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:29,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-2","gap-4"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input",3,"max"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input",3,"max"],[1,"col-span-2"],["for","person_in_charge"],["type","text","name","person_in_charge","id","person_in_charge","formControlName","person_in_charge",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"icon"],["animation","spin",3,"icon"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Legal Visits "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div")(10,"label",8),e.EFF(11,"Schedule Date"),e.k0s(),e.nrm(12,"input",9),e.k0s(),e.j41(13,"div")(14,"label",10),e.EFF(15,"Actual Date"),e.k0s(),e.nrm(16,"input",11),e.k0s(),e.j41(17,"div",12)(18,"label",13),e.EFF(19,"Name"),e.k0s(),e.nrm(20,"input",14),e.k0s()()()(),e.j41(21,"div",15)(22,"button",16),e.bIt("click",function(){return i.closeModal()}),e.EFF(23,"Close"),e.k0s(),e.j41(24,"button",17),e.bIt("click",function(){return i.onSubmit()}),e.DNE(25,Va,1,1,"fa-icon",18)(26,qa,1,1,"fa-icon",19),e.EFF(27),e.k0s()()()()(),e.nrm(28,"div",20)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.legalVisitForm),e.R7$(5),e.Y8G("max",i.max_date),e.R7$(4),e.Y8G("max",i.max_date),e.R7$(8),e.Y8G("disabled",i.is_saving||i.legalVisitForm.invalid),e.R7$(),e.Y8G("ngIf",!i.is_saving),e.R7$(),e.Y8G("ngIf",i.is_saving),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function Ba(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," Doctor Only "),e.k0s())}function Pa(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("medical_consult"))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function Aa(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function Ha(n,o){1&n&&e.nrm(0,"td",23)}function Ua(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",28)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("medical_consult",i))}),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faEdit)}}function La(n,o){if(1&n&&(e.j41(0,"tr",24),e.DNE(1,Ua,2,1,"td",25),e.j41(2,"td",26)(3,"span",27),e.EFF(4,"Physician "),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.nrm(7,"br")(8,"br"),e.j41(9,"span",27),e.EFF(10,"Scheduled date: "),e.k0s(),e.EFF(11),e.nI1(12,"date"),e.nrm(13,"br"),e.j41(14,"span",27),e.EFF(15,"Actual date: "),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.nrm(18,"br"),e.k0s(),e.j41(19,"td",26)(20,"span",27),e.EFF(21,"Lab test "),e.k0s(),e.nrm(22,"br"),e.EFF(23),e.nrm(24,"br")(25,"br"),e.j41(26,"span",27),e.EFF(27,"Date in: "),e.k0s(),e.EFF(28),e.nI1(29,"date"),e.nrm(30,"br"),e.j41(31,"span",27),e.EFF(32,"Date due: "),e.k0s(),e.EFF(33),e.nI1(34,"date"),e.nrm(35,"br"),e.j41(36,"span",27),e.EFF(37,"Date out: "),e.k0s(),e.EFF(38),e.nI1(39,"date"),e.nrm(40,"br"),e.k0s()()),2&n){let t,a,i,r;const l=o.$implicit,d=e.XpG(3);e.R7$(),e.Y8G("ngIf","MD"===d.pos),e.R7$(5),e.SpI(" ",l.physician," "),e.R7$(5),e.SpI(" ",e.brH(12,8,l.scheduled_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(5),e.SpI(" ",e.brH(17,12,l.actual_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(7),e.SpI(" ",null!==(t=l.lab_test)&&void 0!==t?t:"-"," "),e.R7$(5),e.SpI(" ",e.brH(29,16,l.date_in,"MM/dd/yyyy",null!==(a="Asia/Manila")&&void 0!==a?a:"-")," "),e.R7$(5),e.SpI(" ",e.brH(34,20,l.date_due,"MM/dd/yyyy",null!==(i="Asia/Manila")&&void 0!==i?i:"-")," "),e.R7$(5),e.SpI(" ",e.brH(39,24,l.date_out,"MM/dd/yyyy",null!==(r="Asia/Manila")&&void 0!==r?r:"-")," ")}}function za(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,Ha,1,0,"td",19),e.j41(4,"td",20),e.EFF(5," Consultation "),e.k0s(),e.j41(6,"td",21),e.EFF(7," Labs "),e.k0s()()(),e.j41(8,"tbody"),e.DNE(9,La,41,28,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf","MD"===t.pos),e.R7$(6),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit)}}function Wa(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," MSWDO Only "),e.k0s())}function Qa(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("home_visit"))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function Za(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function Ka(n,o){1&n&&e.nrm(0,"td",23)}function es(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",28)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("home_visit",i))}),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faEdit)}}function ts(n,o){if(1&n&&(e.j41(0,"tr",24),e.DNE(1,es,2,1,"td",25),e.j41(2,"td",28),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"td",32),e.EFF(6),e.k0s(),e.j41(7,"td",32),e.EFF(8),e.k0s()()),2&n){const t=o.$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf","MSWDO"===a.pos),e.R7$(2),e.SpI(" ",e.brH(4,4,t.visit_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",t.social_worker," "),e.R7$(2),e.SpI(" ",t.social_worker_remarks," ")}}function ns(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,Ka,1,0,"td",19),e.j41(4,"td",30),e.EFF(5," Visit date"),e.nrm(6,"br"),e.k0s(),e.j41(7,"td",31),e.EFF(8," Social Worker "),e.k0s(),e.j41(9,"td",31),e.EFF(10," Social Worker Notes "),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,ts,9,8,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(9),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work)}}function is(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," MSWDO Only "),e.k0s())}function as(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("placement"))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function ss(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function os(n,o){1&n&&e.nrm(0,"td",23)}function rs(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",28)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("placement",i))}),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faEdit)}}function ls(n,o){1&n&&(e.j41(0,"div"),e.EFF(1," Home "),e.k0s())}function _s(n,o){if(1&n&&(e.j41(0,"div")(1,"span",36),e.EFF(2,"Placement by:"),e.k0s(),e.EFF(3),e.nrm(4,"br"),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(3),e.SpI(" ",t.home_by_other_name," ")}}function ds(n,o){if(1&n&&(e.j41(0,"div"),e.DNE(1,ls,2,0,"div",12)(2,_s,5,1,"div",12),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.home_by_cpu_flag),e.R7$(),e.Y8G("ngIf",!t.home_by_cpu_flag)}}function cs(n,o){if(1&n&&(e.j41(0,"div")(1,"span",36),e.EFF(2,"Placement type:"),e.k0s(),e.EFF(3),e.nrm(4,"br"),e.j41(5,"span",36),e.EFF(6,"Placement name:"),e.k0s(),e.EFF(7),e.nrm(8,"br"),e.j41(9,"span",36),e.EFF(10,"Contact info:"),e.k0s(),e.EFF(11),e.nrm(12,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(null==t.placement_type?null:t.placement_type.desc),e.R7$(4),e.JRh(t.placement_name),e.R7$(4),e.JRh(t.placement_contact_info)}}function ps(n,o){if(1&n&&(e.j41(0,"div")(1,"span",36),e.EFF(2,"Hospital Name:"),e.k0s(),e.EFF(3),e.nrm(4,"br"),e.j41(5,"span",36),e.EFF(6,"Ward:"),e.k0s(),e.EFF(7),e.nrm(8,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",t.hospital_name," "),e.R7$(4),e.SpI(" ",t.hospital_ward," ")}}function ms(n,o){if(1&n&&(e.j41(0,"div")(1,"span",36),e.EFF(2,"Date in:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.nrm(5,"br"),e.j41(6,"span",36),e.EFF(7,"Date out:"),e.k0s(),e.EFF(8),e.nI1(9,"date"),e.nrm(10,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",e.brH(4,2,t.scheduled_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(5),e.SpI(" ",e.brH(9,6,t.actual_date,"MM/dd/yyyy","Asia/Manila")," ")}}function us(n,o){if(1&n&&(e.j41(0,"div")(1,"span",36),e.EFF(2,"Date in:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.nrm(5,"br"),e.j41(6,"span",36),e.EFF(7,"Date out:"),e.k0s(),e.EFF(8),e.nI1(9,"date"),e.nrm(10,"br"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",e.brH(4,2,t.hospital_date_in,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(5),e.SpI(" ",e.brH(9,6,t.hospital_date_out,"MM/dd/yyyy","Asia/Manila")," ")}}function fs(n,o){if(1&n&&(e.j41(0,"tr",24),e.DNE(1,rs,2,1,"td",25),e.j41(2,"td",32),e.DNE(3,ds,3,2,"div",12)(4,cs,13,3,"div",12)(5,ps,9,2,"div",12),e.k0s(),e.j41(6,"td",35),e.DNE(7,ms,11,10,"div",12)(8,us,11,10,"div",12),e.k0s()()),2&n){const t=o.$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf","MSWDO"===a.pos),e.R7$(2),e.Y8G("ngIf",1===t.location_id),e.R7$(),e.Y8G("ngIf",2===t.location_id||3===t.location_id||5===t.location_id),e.R7$(),e.Y8G("ngIf",4===t.location_id),e.R7$(2),e.Y8G("ngIf",2===t.location_id||3===t.location_id||5===t.location_id),e.R7$(),e.Y8G("ngIf",4===t.location_id)}}function gs(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,os,1,0,"td",19),e.j41(4,"td",33),e.EFF(5," Placement "),e.k0s(),e.j41(6,"td",34),e.EFF(7," Date "),e.k0s()()(),e.j41(8,"tbody"),e.DNE(9,fs,9,6,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(6),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement)}}function vs(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," Doctors Only "),e.k0s())}function bs(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("session"))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function hs(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function ks(n,o){1&n&&e.nrm(0,"td",23)}function Fs(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",28)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("session",i))}),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faEdit)}}function ys(n,o){if(1&n&&(e.j41(0,"tr",24),e.DNE(1,Fs,2,1,"td",25),e.j41(2,"td",28),e.EFF(3),e.k0s(),e.j41(4,"td",28),e.EFF(5),e.k0s(),e.j41(6,"td",28),e.EFF(7),e.nI1(8,"date"),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"date"),e.k0s()()),2&n){const t=o.$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf","MD"===a.pos),e.R7$(2),e.SpI(" ",t.participant.desc," "),e.R7$(2),e.SpI(" ",t.md_name," "),e.R7$(2),e.SpI(" ",e.brH(8,5,t.scheduled_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.brH(11,9,t.actual_date,"MM/dd/yyyy","Asia/Manila")," ")}}function js(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,ks,1,0,"td",19),e.j41(4,"td",34),e.EFF(5," Participant "),e.k0s(),e.j41(6,"td",34),e.EFF(7," Psychiatrist "),e.k0s(),e.j41(8,"td",33),e.EFF(9," Scheduled Date "),e.nrm(10,"br"),e.EFF(11," Actual Date "),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,ys,12,13,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf","MD"===t.pos),e.R7$(10),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych)}}function xs(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," WCPD Only "),e.k0s())}function Cs(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.toggleModal("legal_case",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.intervention_legal))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("icon",t.faPlus)}}function ws(n,o){if(1&n&&(e.j41(0,"div"),e.DNE(1,Cs,2,1,"button",37),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal))}}function Is(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function Es(n,o){1&n&&e.nrm(0,"td",23)}function Gs(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",41)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.toggleModal("legal_case",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.intervention_legal))}),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("icon",t.faEdit)}}function Rs(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,Es,1,0,"td",19),e.j41(4,"td",34),e.EFF(5," Filing Details "),e.k0s(),e.j41(6,"td",34),e.EFF(7," Date of CPU MD Testimony "),e.k0s(),e.j41(8,"td",33),e.EFF(9," Court Details "),e.k0s()()(),e.j41(10,"tbody")(11,"tr",24),e.DNE(12,Gs,2,1,"td",39),e.j41(13,"td",32)(14,"span",40),e.EFF(15,"Filed by: "),e.k0s(),e.nrm(16,"br"),e.EFF(17),e.nrm(18,"br")(19,"br"),e.j41(20,"span",40),e.EFF(21,"Relationship to victim survivor:"),e.k0s(),e.nrm(22,"br"),e.EFF(23),e.nrm(24,"br")(25,"br"),e.j41(26,"span",40),e.EFF(27,"Filed at:"),e.k0s(),e.nrm(28,"br"),e.EFF(29),e.nrm(30,"br")(31,"br"),e.j41(32,"span",40),e.EFF(33,"Filing Type:"),e.k0s(),e.nrm(34,"br"),e.EFF(35),e.nrm(36,"br")(37,"br"),e.j41(38,"span",40),e.EFF(39,"Filing Status:"),e.k0s(),e.nrm(40,"br"),e.EFF(41),e.nrm(42,"br")(43,"br"),e.k0s(),e.j41(44,"td",32),e.EFF(45),e.nI1(46,"date"),e.k0s(),e.j41(47,"td",28)(48,"span",40),e.EFF(49,"Criminal Case Number: "),e.k0s(),e.nrm(50,"br"),e.EFF(51),e.nrm(52,"br")(53,"br"),e.j41(54,"span",40),e.EFF(55,"Judge: "),e.k0s(),e.nrm(56,"br"),e.EFF(57),e.nrm(58,"br")(59,"br"),e.j41(60,"span",40),e.EFF(61,"Court: "),e.k0s(),e.nrm(62,"br"),e.EFF(63),e.nrm(64,"br")(65,"br"),e.j41(66,"span",40),e.EFF(67,"Fiscal Name: "),e.k0s(),e.nrm(68,"br"),e.EFF(69),e.nrm(70,"br")(71,"br"),e.j41(72,"span",40),e.EFF(73,"Verdict: "),e.k0s(),e.nrm(74,"br"),e.EFF(75),e.k0s()()()()),2&n){let t;const a=e.XpG(2);e.R7$(3),e.Y8G("ngIf","WCPD"===a.pos),e.R7$(9),e.Y8G("ngIf","WCPD"===a.pos),e.R7$(5),e.SpI(" ",null!==(t=null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.filed_by_name)&&void 0!==t?t:"-"," "),e.R7$(6),e.SpI(" ",null!=a.selected_gbv_case&&a.selected_gbv_case.gbvIntake.intervention_legal.relation?null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.relation.desc:"-"," "),e.R7$(6),e.SpI(" ",null!=a.selected_gbv_case&&a.selected_gbv_case.gbvIntake.intervention_legal.filed_location?null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.filed_location.desc:"-",""),e.R7$(6),e.SpI(" ",null!=a.selected_gbv_case&&a.selected_gbv_case.gbvIntake.intervention_legal.filed_type?null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.filed_type.desc:"-",""),e.R7$(6),e.SpI(" ",null!=a.selected_gbv_case&&a.selected_gbv_case.gbvIntake.intervention_legal.nps_status?null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.nps_status.desc:"-",""),e.R7$(4),e.SpI(" ",e.brH(46,13,null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.cpumd_testimony_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(6),e.SpI(" ",null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.criminal_case_number," "),e.R7$(6),e.SpI(" ",null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.judge_name," "),e.R7$(6),e.SpI(" ",null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.court_name,""),e.R7$(6),e.SpI(" ",null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.fiscal_name,""),e.R7$(6),e.SpI(" ",null!=a.selected_gbv_case&&a.selected_gbv_case.gbvIntake.intervention_legal.verdict?null==a.selected_gbv_case?null:a.selected_gbv_case.gbvIntake.intervention_legal.verdict.desc:"-"," ")}}function $s(n,o){1&n&&(e.j41(0,"span",15),e.EFF(1," WCPD Only "),e.k0s())}function Ms(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("legal_visit"))}),e.nrm(1,"fa-icon",14),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faPlus)}}function Ys(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function Ns(n,o){1&n&&e.nrm(0,"td",23)}function Ts(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",28)(1,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("legal_visit",i))}),e.k0s()()}if(2&n){const t=e.XpG(4);e.R7$(),e.Y8G("icon",t.faEdit)}}function Ds(n,o){if(1&n&&(e.j41(0,"tr",24),e.DNE(1,Ts,2,1,"td",25),e.j41(2,"td",28),e.EFF(3),e.k0s(),e.j41(4,"td",28),e.EFF(5),e.nI1(6,"date"),e.k0s(),e.j41(7,"td",28),e.EFF(8),e.nI1(9,"date"),e.k0s()()),2&n){const t=o.$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf","MD"===a.pos),e.R7$(2),e.SpI(" ",t.person_in_charge," "),e.R7$(2),e.SpI(" ",e.brH(6,4,t.scheduled_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.brH(9,8,t.actual_date,"MM/dd/yyyy","Asia/Manila")," ")}}function Ss(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.DNE(3,Ns,1,0,"td",19),e.j41(4,"td",34),e.EFF(5," Name "),e.k0s(),e.j41(6,"td",34),e.EFF(7," Schedule Date "),e.k0s(),e.j41(8,"td",34),e.EFF(9," Actual Date "),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,Ds,10,12,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf","MD"===t.pos),e.R7$(8),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit)}}function Xs(n,o){1&n&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2," No records to show "),e.k0s()())}function Js(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.nrm(2,"br"),e.k0s())}function Vs(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"br"),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.SpI(" - ",t.invite.desc," ")}}function qs(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.nrm(2,"br"),e.k0s())}function Os(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"br"),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.SpI(" - ",t.concern.desc," ")}}function Bs(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.nrm(2,"br"),e.k0s())}function Ps(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"br"),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.SpI(" - ",t.mitigating_factor.desc," ")}}function As(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.nrm(2,"br"),e.k0s())}function Hs(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"br"),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.SpI(" - ",t.recommendation.desc," ")}}function Us(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",24)(1,"td",28)(2,"fa-icon",29),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("case_conference",i))}),e.k0s()(),e.j41(3,"td",28),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",26)(7,"div",42)(8,"span",43),e.EFF(9,"Invitees"),e.k0s(),e.nrm(10,"br"),e.DNE(11,Js,3,0,"span",12)(12,Vs,3,1,"span",44),e.EFF(13),e.k0s(),e.j41(14,"div",42)(15,"span",43),e.EFF(16,"Concerns"),e.k0s(),e.nrm(17,"br"),e.DNE(18,qs,3,0,"span",12)(19,Os,3,1,"span",44),e.EFF(20),e.k0s()(),e.j41(21,"td",26)(22,"div",42)(23,"span",43),e.EFF(24,"Mitigating factors"),e.k0s(),e.nrm(25,"br"),e.DNE(26,Bs,3,0,"span",12)(27,Ps,3,1,"span",44),e.EFF(28),e.k0s(),e.j41(29,"div",42)(30,"span",43),e.EFF(31,"Recommendations"),e.k0s(),e.nrm(32,"br"),e.DNE(33,As,3,0,"span",12)(34,Hs,3,1,"span",44),e.EFF(35),e.k0s()()()}if(2&n){let t,a,i,r;const l=o.$implicit,d=e.XpG(3);e.R7$(2),e.Y8G("icon",d.faEdit),e.R7$(2),e.SpI(" ",e.brH(5,14,l.conference_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(7),e.Y8G("ngIf",0===l.invite.length),e.R7$(),e.Y8G("ngForOf",l.invite),e.R7$(),e.SpI(" Remarks: ",null!==(t=l.conference_invitee_remarks)&&void 0!==t?t:"-"," "),e.R7$(5),e.Y8G("ngIf",0===l.concern.length),e.R7$(),e.Y8G("ngForOf",l.concern),e.R7$(),e.SpI(" Remarks: ",null!==(a=l.conference_concern_remarks)&&void 0!==a?a:"-"," "),e.R7$(6),e.Y8G("ngIf",0===l.mitigating_factor.length),e.R7$(),e.Y8G("ngForOf",l.mitigating_factor),e.R7$(),e.SpI(" Remarks: ",null!==(i=l.conference_mitigating_factor_remarks)&&void 0!==i?i:"-"," "),e.R7$(5),e.Y8G("ngIf",0===l.recommendation.length),e.R7$(),e.Y8G("ngForOf",l.recommendation),e.R7$(),e.SpI(" Remarks: ",null!==(r=l.conference_recommendation_remarks)&&void 0!==r?r:"-"," ")}}function Ls(n,o){if(1&n&&(e.j41(0,"table",18)(1,"thead")(2,"tr"),e.nrm(3,"td",23),e.j41(4,"td",30),e.EFF(5," Date "),e.k0s(),e.j41(6,"td",34),e.EFF(7," Invitees & Concerns "),e.k0s(),e.j41(8,"td",34),e.EFF(9," Mitigating factors & Recommendations "),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,Us,36,18,"tr",22),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(11),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference)}}function zs(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),e.EFF(4," Consults "),e.k0s(),e.j41(5,"div",6)(6,"div",7)(7,"span"),e.EFF(8,"Visits"),e.k0s(),e.DNE(9,Ba,2,0,"span",8)(10,Pa,2,1,"button",9),e.k0s(),e.DNE(11,Aa,3,0,"div",10)(12,za,10,2,"table",11),e.k0s()(),e.j41(13,"div",4)(14,"div",5),e.EFF(15," Social Worker "),e.k0s(),e.j41(16,"div",6)(17,"div",7)(18,"span"),e.EFF(19,"Home Visits"),e.k0s(),e.DNE(20,Wa,2,0,"span",8)(21,Qa,2,1,"button",9),e.k0s(),e.DNE(22,Za,3,0,"div",10)(23,ns,13,2,"table",11),e.k0s(),e.j41(24,"div",6)(25,"div",7)(26,"span"),e.EFF(27,"Placements"),e.k0s(),e.DNE(28,is,2,0,"span",8)(29,as,2,1,"button",9),e.k0s(),e.DNE(30,ss,3,0,"div",10)(31,gs,10,2,"table",11),e.k0s()(),e.j41(32,"div",4)(33,"div",5),e.EFF(34," Psychiatry "),e.k0s(),e.j41(35,"div",6)(36,"div",7)(37,"span"),e.EFF(38,"Sessions"),e.k0s(),e.DNE(39,vs,2,0,"span",8)(40,bs,2,1,"button",9),e.k0s(),e.DNE(41,hs,3,0,"div",10)(42,js,14,2,"table",11),e.k0s()(),e.j41(43,"div",4)(44,"div",5),e.EFF(45," Legal "),e.k0s(),e.j41(46,"div",6)(47,"div",7)(48,"span"),e.EFF(49,"Case Details"),e.k0s(),e.DNE(50,xs,2,0,"span",8)(51,ws,2,1,"div",12),e.k0s(),e.DNE(52,Is,3,0,"div",10)(53,Rs,76,17,"table",11),e.k0s(),e.j41(54,"div",6)(55,"div",7)(56,"span"),e.EFF(57,"Case Visits"),e.k0s(),e.DNE(58,$s,2,0,"span",8)(59,Ms,2,1,"button",9),e.k0s(),e.DNE(60,Ys,3,0,"div",10)(61,Ss,12,2,"table",11),e.k0s()(),e.j41(62,"div",4)(63,"div",5),e.EFF(64," Multidisciplinary Case Conferences "),e.k0s(),e.j41(65,"div",6)(66,"div",7)(67,"span"),e.EFF(68,"Case Conference"),e.k0s(),e.j41(69,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleModal("case_conference"))}),e.nrm(70,"fa-icon",14),e.k0s()(),e.DNE(71,Xs,3,0,"div",10)(72,Ls,12,1,"table",11),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(9),e.Y8G("ngIf","MD"!==t.pos),e.R7$(),e.Y8G("ngIf","MD"===t.pos),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit.length)>0),e.R7$(8),e.Y8G("ngIf","MSWDO"!==t.pos),e.R7$(),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work.length)>0),e.R7$(5),e.Y8G("ngIf","MSWDO"!==t.pos),e.R7$(),e.Y8G("ngIf","MSWDO"===t.pos),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement.length)>0),e.R7$(8),e.Y8G("ngIf","MD"!==t.pos),e.R7$(),e.Y8G("ngIf","MD"===t.pos),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych.length)>0),e.R7$(8),e.Y8G("ngIf","WCPD"!==t.pos),e.R7$(),e.Y8G("ngIf","WCPD"===t.pos),e.R7$(),e.Y8G("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal)),e.R7$(),e.Y8G("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal),e.R7$(5),e.Y8G("ngIf","WCPD"!==t.pos),e.R7$(),e.Y8G("ngIf","WCPD"===t.pos),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit.length)>0),e.R7$(9),e.Y8G("icon",t.faPlus),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference.length)>0)}}function Ws(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-medical-consult",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Qs(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-home-visit",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Zs(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-placement",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Ks(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-session",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function eo(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-legal-case",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function to(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-legal-visit",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function no(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-case-conference",45),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}let io=(()=>{class n{reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:a=>{this.selected_gbv_case=a.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case)},error:a=>console.log(a)})}toggleModal(t,a){console.log(a),this.selected_data=a||null,this.modals[t]=!this.modals[t],this.modals[t]||this.reloadData()}constructor(t,a){this.http=t,this.toastr=a,this.updateSelectedGbv=new e.bkB,this.faPlus=c.QLR,this.faEdit=f.MT7,this.faSave=c.hSh,this.show_form=!0,this.modals=[]}ngOnChanges(t){console.log(this.selected_gbv_case)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-intervention"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},standalone:!1,features:[e.OA$],decls:8,vars:8,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"selected_data","patient_gbv_intake_id","patient_id","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["class","text-xs italic pt-1",4,"ngIf"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[4,"ngIf"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],[1,"text-xs","italic","pt-1"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],["class","w-1/12",4,"ngIf"],[1,"text-center","font-semibold","w-6/12","align-top","pt-3"],[1,"text-center","font-semibold","w-5/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"w-1/12"],[1,"border-t","border-slate-200"],["class","text-center align-top pt-3",4,"ngIf"],[1,"text-left","align-top","pt-3"],[1,"font-semibold","italic"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"click","icon"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"font-semibold","w-4/12","align-top","pt-3"],[1,"align-top","pt-3"],[1,"text-center","font-semibold","w-7/12","align-top","pt-3"],[1,"text-center","font-semibold","w-4/12","align-top","pt-3"],[1,"align-top","pt-3","px-3"],[1,"font-semibold"],["type","button","class","bg-white text-sky-500 px-2 py-1 rounded text-xs",3,"click",4,"ngIf"],["type","button",1,"bg-white","text-sky-500","px-2","py-1","rounded","text-xs",3,"click"],["class","text-center",4,"ngIf"],[1,"italic","font-semibold","text-sm"],[1,"text-center"],[1,"mb-5"],[1,"italic","font-semibold"],[4,"ngFor","ngForOf"],[3,"toggleModal","selected_data","patient_gbv_intake_id","patient_id"]],template:function(a,i){1&a&&e.DNE(0,zs,73,27,"div",0)(1,Ws,1,3,"app-medical-consult",1)(2,Qs,1,3,"app-home-visit",1)(3,Zs,1,3,"app-placement",1)(4,Ks,1,3,"app-session",1)(5,eo,1,3,"app-legal-case",1)(6,to,1,3,"app-legal-visit",1)(7,no,1,3,"app-case-conference",1),2&a&&(e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",i.modals.medical_consult),e.R7$(),e.Y8G("ngIf",i.modals.home_visit),e.R7$(),e.Y8G("ngIf",i.modals.placement),e.R7$(),e.Y8G("ngIf",i.modals.session),e.R7$(),e.Y8G("ngIf",i.modals.legal_case),e.R7$(),e.Y8G("ngIf",i.modals.legal_visit),e.R7$(),e.Y8G("ngIf",i.modals.case_conference))},dependencies:[_.Sq,_.bT,m.aY,aa,sa,Fa,ja,Ga,Ja,Oa,_.vh],encapsulation:2})}}return n})();var T=h(1410);function so(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",16)(1,"td",17),e.EFF(2),e.k0s(),e.j41(3,"td",18)(4,"input",19),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG();return e.DH7(l.medical_exam[1][r.id],i)||(l.medical_exam[1][r.id]=i),e.Njj(i)}),e.k0s()(),e.j41(5,"td",18)(6,"input",19),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG();return e.DH7(l.medical_exam[2][r.id],i)||(l.medical_exam[2][r.id]=i),e.Njj(i)}),e.k0s()()()}if(2&n){const t=o.$implicit,a=e.XpG();e.R7$(2),e.SpI(" ",t.desc," "),e.R7$(2),e.R50("ngModel",a.medical_exam[1][t.id]),e.R7$(2),e.R50("ngModel",a.medical_exam[2][t.id])}}let oo=(()=>{class n{onSubmit(){let t=[];Object.entries(this.medical_exam).forEach(([i,r],l)=>{Object.entries(r).forEach(([d,u],w)=>{u&&t.push({[this.selected_exam.var_id]:d,info_source_id:i})})});let a={patient_id:this.patient_id,patient_gbv_intake_id:this.intake_id,[this.selected_exam.arr_var_name]:t};console.log(a),this.http.post("gender-based-violence/"+this.selected_exam.save_url,a).subscribe({next:i=>{this.toastr.success("Successfully recorded",this.selected_exam.act_title),this.closeModal()},error:i=>console.log(i)})}loadSymptoms(){this.selected_exam.data&&Object.entries(this.selected_exam.data).forEach(([t,a],i)=>{1===a.info_source_id&&(this.medical_exam[1][a[this.selected_exam.var_id]]=!0),2===a.info_source_id&&(this.medical_exam[2][a[this.selected_exam.var_id]]=!0)}),console.log(this.medical_exam)}loadLibraries(){this.http.get("libraries/"+this.selected_exam.url).subscribe({next:t=>{this.exams=t.data,this.loadSymptoms()},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("anogenital")}constructor(t,a){this.http=t,this.toastr=a,this.toggleModal=new e.bkB,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_error=!1,this.exams=[],this.medical_exam={1:[],2:[]}}ngOnInit(){this.loadLibraries(),console.log(this.selected_exam)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-anogenital"]],inputs:{selected_exam:"selected_exam",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:25,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500","sticky","top-0"],["scope","col",1,"py-3","text-center","w-2/5"],["scope","col",1,"py-3","text-center","w-1/5"],[1,"h-96","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"py-4","text-center"],["type","checkbox",1,"input-checkbox",3,"ngModelChange","ngModel"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s()(),e.j41(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),e.EFF(11,"Description"),e.k0s(),e.j41(12,"th",9),e.EFF(13,"Victim Survivor"),e.k0s(),e.j41(14,"th",9),e.EFF(15,"Historian"),e.k0s()()(),e.j41(16,"tbody",10),e.DNE(17,so,7,3,"tr",11),e.k0s()()(),e.j41(18,"div",12)(19,"button",13),e.bIt("click",function(){return i.closeModal()}),e.EFF(20,"Close"),e.k0s(),e.j41(21,"button",14),e.bIt("click",function(){return i.onSubmit()}),e.nrm(22,"fa-icon"),e.EFF(23),e.k0s()()()()(),e.nrm(24,"div",15)),2&a&&(e.R7$(5),e.SpI(" ",i.selected_exam.exam_title," "),e.R7$(12),e.Y8G("ngForOf",i.exams),e.R7$(4),e.Y8G("disabled",i.is_saving),e.R7$(2),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,s.Zm,s.BC,s.vS,m.aY],encapsulation:2})}}return n})();function ro(n,o){1&n&&(e.j41(0,"div",20),e.EFF(1," Invalid File "),e.k0s())}function lo(n,o){if(1&n&&e.nrm(0,"fa-icon",21),2&n){const t=e.XpG();e.Y8G("icon",t.faFileUpload)}}function _o(n,o){if(1&n&&e.nrm(0,"fa-icon",22),2&n){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}let co=(()=>{class n{onFileChange(t){console.log(t.target.files[0]),this.file_to_upload=t.target.files[0]}uploadFile(t){if(this.is_uploading=!0,"application/pdf"===this.file_to_upload.type){this.file_error=!1;const a=new FormData;a.append("file",this.file_to_upload),a.append("file_title",this.file_title),a.append("file_desc",this.file_description),a.append("patient_id",this.patient_id),a.append("patient_gbv_id",this.gbv_id),this.http.post("gender-based-violence/patient-gbv-file-upload",a).subscribe({next:i=>{this.toastr.success("Successfully uploaded","File Upload"),this.closeModal()},error:i=>{console.log(i),this.resetInput()}})}else this.file_error=!0,this.is_uploading=!1}resetInput(){this.is_uploading=!1,this.file_to_upload=null,this.file=null}closeModal(){this.toggleFileModal.emit("file_upload")}constructor(t,a){this.http=t,this.toastr=a,this.toggleFileModal=new e.bkB,this.faUpload=c.JmV,this.faCircleNotch=c.s4k,this.faFileUpload=c.N72,this.is_uploading=!1,this.file_to_upload=null,this.file=null,this.file_error=!1}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-file-upload"]],inputs:{gbv_id:"gbv_id",patient_id:"patient_id"},outputs:{toggleFileModal:"toggleFileModal"},standalone:!1,decls:28,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-1","m-5"],["for","file_title"],["type","text","name","file_title","id","file_title",1,"input",3,"ngModelChange","ngModel"],["for","file_description"],["name","file_description","id","file_description",1,"input",3,"ngModelChange","ngModel"],[1,"flex","justify-center","mx-auto","py-5"],["accept","application/pdf","type","file","id","file",1,"form-control","w-full","px-3","py-1.5","text-base","font-normal","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded-lg","transition","ease-in-out","m-0","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"change","ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-red-500"],[3,"icon"],["animation","spin",3,"icon"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," File Upload "),e.k0s()(),e.j41(6,"div",5)(7,"div",6)(8,"div")(9,"label",7),e.EFF(10,"Document title"),e.k0s(),e.j41(11,"input",8),e.mxI("ngModelChange",function(l){return e.DH7(i.file_title,l)||(i.file_title=l),l}),e.k0s()(),e.j41(12,"div")(13,"label",9),e.EFF(14,"Document description"),e.k0s(),e.j41(15,"textarea",10),e.mxI("ngModelChange",function(l){return e.DH7(i.file_description,l)||(i.file_description=l),l}),e.EFF(16,"            "),e.k0s()(),e.j41(17,"div",11)(18,"input",12),e.bIt("change",function(l){return i.onFileChange(l)}),e.mxI("ngModelChange",function(l){return e.DH7(i.file,l)||(i.file=l),l}),e.k0s()(),e.DNE(19,ro,2,0,"div",13),e.k0s()(),e.j41(20,"div",14)(21,"button",15),e.bIt("click",function(){return i.closeModal()}),e.EFF(22,"Close"),e.k0s(),e.j41(23,"button",16),e.bIt("click",function(){return i.uploadFile(i.file_to_upload)}),e.DNE(24,lo,1,1,"fa-icon",17)(25,_o,1,1,"fa-icon",18),e.EFF(26),e.k0s()()()()(),e.nrm(27,"div",19)),2&a&&(e.R7$(11),e.R50("ngModel",i.file_title),e.R7$(4),e.R50("ngModel",i.file_description),e.R7$(3),e.R50("ngModel",i.file),e.R7$(),e.Y8G("ngIf",i.file_error),e.R7$(4),e.Y8G("disabled",i.is_uploading),e.R7$(),e.Y8G("ngIf",!i.is_uploading),e.R7$(),e.Y8G("ngIf",i.is_uploading),e.R7$(),e.SpI(" ",i.is_uploading?"Uploading":"Upload"," "))},dependencies:[_.bT,s.me,s.BC,s.vS,m.aY],encapsulation:2})}}return n})();const po=["pdfViewer"];function mo(n,o){if(1&n&&(e.j41(0,"div",12)(1,"div",13),e.nrm(2,"fa-icon",14),e.k0s(),e.j41(3,"div",15),e.EFF(4," Retrieving File... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}let uo=(()=>{class n{showFile(){this.http.get("gender-based-violence/patient-gbv-file-upload/"+this.selected_file_id,{responseType:"blob"}).subscribe({next:t=>{if(console.log(t),this.show_form=!0,this.show_form){const a=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(a);this.pdfViewer.nativeElement.src=i}},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("view_file")}constructor(t){this.http=t,this.toggleModal=new e.bkB,this.faCircleNotch=c.s4k,this.show_form=!1}ngOnInit(){this.showFile()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-view-file"]],viewQuery:function(a,i){if(1&a&&e.GBs(po,5),2&a){let r;e.mGM(r=e.lsd())&&(i.pdfViewer=r.first)}},inputs:{selected_file_id:"selected_file_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:14,vars:1,consts:[["pdfViewer",""],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[800px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","grid grid-cols-1 mt-36",4,"ngIf"],["width","100%","height","100%","frameborder","0"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-1","mt-36"],[1,"flex","justify-center","text-sky-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"]],template:function(a,i){if(1&a){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),e.EFF(5," File Upload "),e.k0s()(),e.j41(6,"div",6),e.DNE(7,mo,5,1,"div",7),e.nrm(8,"iframe",8,0),e.k0s(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return e.eBV(r),e.Njj(i.closeModal())}),e.EFF(12,"Close"),e.k0s()()()()(),e.nrm(13,"div",11)}2&a&&(e.R7$(7),e.Y8G("ngIf",!i.show_form))},dependencies:[_.bT,m.aY],encapsulation:2})}}return n})();var B=h(41);function fo(n,o){if(1&n&&(e.j41(0,"h4",12),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI("Persons present during exam: ",null==t.conv_relation[0]?null:t.conv_relation[0].desc,"")}}function go(n,o){if(1&n&&(e.j41(0,"label",19),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI("Age: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.menarche_age,"")}}function vo(n,o){if(1&n&&(e.j41(0,"label",19),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI("If yes: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.taking_medication_remarks,"")}}function bo(n,o){if(1&n&&(e.j41(0,"label",19),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI("If yes why?: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.past_hospital_remarks,"")}}function ho(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_normal,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_normal=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_normal)}}function ko(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_abnormal,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_abnormal=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_abnormal)}}function Fo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_stunting,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_stunting=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_stunting)}}function yo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_wasting,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_wasting=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_wasting)}}function jo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_dirty_unkempt,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_dirty_unkempt=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_dirty_unkempt)}}function xo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_stuporous,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_stuporous=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_stuporous)}}function Co(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_pale,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_pale=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_pale)}}function wo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_non_ambulant,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_non_ambulant=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_non_ambulant)}}function Io(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_drowsy,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_drowsy=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_drowsy)}}function Eo(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_respiratory,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_respiratory=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_respiratory)}}function Go(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selected_gbv_case.gbvIntake.medical_history.general_survey_others,i)||(r.selected_gbv_case.gbvIntake.medical_history.general_survey_others=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_others)}}function Ro(n,o){if(1&n&&e.nrm(0,"input",26),2&n){const t=e.XpG();e.Y8G("checked",1===t.selected_gbv_case.gbvIntake.medical_history.scar_physical_abuse_flag)}}function $o(n,o){if(1&n&&e.nrm(0,"input",26),2&n){const t=e.XpG();e.Y8G("checked",0===t.selected_gbv_case.gbvIntake.medical_history.scar_physical_abuse_flag)}}function Mo(n,o){if(1&n&&e.nrm(0,"input",26),2&n){const t=e.XpG();e.Y8G("checked",1===t.selected_gbv_case.gbvIntake.medical_history.pertinent_med_history_flag)}}function Yo(n,o){if(1&n&&e.nrm(0,"input",26),2&n){const t=e.XpG();e.Y8G("checked",0===t.selected_gbv_case.gbvIntake.medical_history.pertinent_med_history_flag)}}function No(n,o){if(1&n&&(e.j41(0,"h4",30),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.conv_impression[0]?null:t.conv_impression[0].full_desc,"")}}function To(n,o){1&n&&e.nrm(0,"input",71)}function Do(n,o){1&n&&e.nrm(0,"input",71)}function So(n,o){if(1&n&&(e.j41(0,"tr",67)(1,"td",68),e.EFF(2),e.k0s(),e.j41(3,"td",69),e.DNE(4,To,1,0,"input",70),e.k0s(),e.j41(5,"td",69),e.DNE(6,Do,1,0,"input",70),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key," "),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}function Xo(n,o){1&n&&e.nrm(0,"input",71)}function Jo(n,o){1&n&&e.nrm(0,"input",71)}function Vo(n,o){if(1&n&&(e.j41(0,"tr",67)(1,"td",68),e.EFF(2),e.k0s(),e.j41(3,"td",69),e.DNE(4,Xo,1,0,"input",70),e.k0s(),e.j41(5,"td",69),e.DNE(6,Jo,1,0,"input",70),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key," "),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}function qo(n,o){1&n&&e.nrm(0,"input",71)}function Oo(n,o){1&n&&e.nrm(0,"input",71)}function Bo(n,o){if(1&n&&(e.j41(0,"tr",67)(1,"td",68),e.EFF(2),e.k0s(),e.j41(3,"td",69),e.DNE(4,qo,1,0,"input",70),e.k0s(),e.j41(5,"td",69),e.DNE(6,Oo,1,0,"input",70),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key," "),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}let Po=(()=>{class n{closeModal(){this.toggleExportPDF.emit("export_pdf")}getAge(){if(this.patient_details&&this.patient_details.birthdate){let t=this.ageService.calcuateAge(this.patient_details.birthdate);return this.patient_age=t,t.age+" "+t.type+(t.age>1?"s old":" old")}}exportP(){this.pdf_exported=!0,this.exportAsService.save(this.exportAsPdf,"Medico Legal").subscribe(()=>{})}loadAnogenital(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.anogenital_list=t.data,this.patchData()},error:t=>console.log(t)})}loadCorporal(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.corporal_list=t.data,this.patchData()},error:t=>console.log(t)})}loadBeahavioral(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.behavioral_list=t.data,this.patchData()},error:t=>console.log(t)})}loadLibraries(){const t=this.http.get("libraries/child-relation"),a=this.http.get("libraries/gbv-medical-impression");(0,G.p)([t,a]).subscribe({next:([i,r])=>{this.relations_list=i.data,this.impression_list=r.data,console.log(this.relations_list,"new function"),console.log(this.impression_list,"new function"),this.convertImpression()},error:i=>console.log(i)})}loadExams(t,a,i){let r=[];Object.entries(t).forEach(([l,d],u)=>{r[d[i].desc]||(r[d[i].desc]=[]),r[d[i].desc][d.info_source_id]=!0}),this[a]=r}patchData(){this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_anogenital,"anogenital_exam","anogenital"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_corporal,"corporal_exam","corporal"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_behavioral,"behavioral_exam","behavior")}loadLibs(){this.loadAnogenital(),this.loadCorporal(),this.loadBeahavioral()}convertImpression(){this.conv_impression=this.impression_list.filter(t=>t.id===this.selected_gbv_case?.gbvIntake?.medical_history?.medical_impression_id),this.conv_relation=this.relations_list.filter(t=>t.id===this.selected_gbv_case?.gbvIntake?.consent_relation_to_child_id),this.last_referral=this.selected_gbv_case?.gbvReferral[Object.keys(this.selected_gbv_case?.gbvReferral).length-1],console.log(this.conv_relation,"relationship"),this.conv_facility=this.userInfo.facility.facility_name.split(" ").map(t=>t[0].toUpperCase()+t.substring(1).toLowerCase()).join(" "),this.conv_referral_facility=this.last_referral.facility.facility_name.split(" ").map(t=>t[0].toUpperCase()+t.substring(1).toLowerCase()).join(" ")}constructor(t,a,i){this.http=t,this.ageService=a,this.exportAsService=i,this.toggleExportPDF=new e.bkB,this.is_saving=!1,this.faCircleNotch=c.s4k,this.pdf_exported=!1,this.anogenital_list=[],this.corporal_list=[],this.behavioral_list=[],this.first_exam=[{id:1,desc:"Yes"},{id:0,desc:"No"}],this.general_surveys=[{id:1,desc:"Normal",var_name:"general_survey_normal"},{id:2,desc:"Abnormal",var_name:"general_survey_abnormal"},{id:3,desc:"Stunting",var_name:"general_survey_stunting"},{id:4,desc:"Wasting",var_name:"general_survey_wasting"},{id:5,desc:"Dirty, Unkempt",var_name:"general_survey_dirty_unkempt"},{id:6,desc:"Stuporous",var_name:"general_survey_stuporous"},{id:7,desc:"Pale",var_name:"general_survey_pale"},{id:8,desc:"Non-ambulant",var_name:"general_survey_non_ambulant"},{id:9,desc:"Drowsy, Irritable",var_name:"general_survey_drowsy"},{id:10,desc:"Respiratory Distress",var_name:"general_survey_respiratory"},{id:11,desc:"Other Abnormality",var_name:"general_survey_others"}],this.exportAsPdf={type:"pdf",elementIdOrContent:"mainForm",options:{image:{type:"jpeg",quality:1},html2canvas:{scale:3},margin:[1,1,1,1],pagebreak:{mode:["avoid-all","css","legacy"],before:["#medForm2","#medForm3"]},jsPDF:{orientation:"portrait",format:"a4",precision:16}}},this.anogenital_exam=[],this.corporal_exam=[],this.behavioral_exam=[]}ngOnInit(){this.loadLibs(),this.loadLibraries(),this.patient_details=this.http.getPatientInfo(),this.userInfo=this.http.getUserFromJSON()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(B.V),e.rXU(T.a))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-export-pdf"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleExportPDF:"toggleExportPDF"},standalone:!1,decls:376,vars:81,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[800px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","select-none"],["id","mainForm"],["id","medForm",1,"w-full","text-sm","text-left"],[1,"text-center","font-bold","pt-3","text-2xl"],[1,"h-96","overflow-y-auto"],[1,"grid","grid-cols-12","m-3"],[1,"col-span-2","border","border-gray-200"],[1,"py-2","pl-3"],[1,"col-span-4","border","border-gray-200"],[1,"py-2","pl-3","capitalize"],[1,"col-span-3","border","border-gray-200"],[1,"col-span-10","border","border-gray-200"],[1,"col-span-9","border","border-gray-200"],[1,"py-2"],[1,"pl-3"],["type","checkbox","disabled","",1,"py-2","pl-3","input-checkbox","mr-1"],["for","",1,"pl-3"],[1,"col-span-12","border","border-gray-200"],["class","py-2 pl-3",4,"ngIf"],[1,"col-span-12","text-center","font-bold","py-3","text-2xl","border","border-gray-200"],[1,"col-span-3","border","border-gray-200","py-2"],["type","checkbox","disabled","",1,"py-2","pl-3","input-checkbox","mr-1",3,"checked"],["class","pl-3",4,"ngIf"],[1,"col-span-6","border","border-gray-200","py-2"],[1,"py-2","px-3","font-semibold"],[1,"py-2","px-3"],[1,"col-span-12","grid","grid-cols-3","py-2","pl-6","select-none"],[1,"pt-3"],["type","checkbox","disabled","","class","input-checkbox mr-1",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-span-6","border","border-gray-200"],[1,"py-7"],["class","py-2 pl-3 input-checkbox mr-1","type","checkbox","disabled","",3,"checked",4,"ngIf"],[1,"py-6"],["id","medForm2",1,"w-full","text-sm","text-left"],[1,"grid","grid-cols-12","m-5"],[1,"col-span-12","text-center","font-bold","py-3","text-xl","border","border-gray-200"],["class","py-2 px-3 ",4,"ngIf"],["id","medForm3",1,"w-full","text-sm","text-left"],[1,"col-span-12","pl-3","text-sm","py-2","border","border-gray-200"],[1,"col-span-4","border","text-center","border-gray-200"],[1,"font-semibold","py-2"],[1,"w-full","text-sm","text-sm","text-left"],[1,"text-xs"],[1,"border-t","border-b","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-r","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-l","border-gray-200"],[1,"h-96","text-xs","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"w-full","text-sm","text-left"],["scope","col",1,"py-3","text-center","font-normal","border","border-gray-200"],[1,"w-full","text-left","text-xs"],[1,"text-xs","px-5"],[1,"flex","justify-end","items-end","pt-20"],[1,"justify-end"],[1,"text-sm","px-5","py-5"],[1,"text-sm","px-5","pb-5","font-semibold"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","button",1,"btn-save","bg-blue-500",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["type","checkbox","disabled","",1,"input-checkbox","mr-1",3,"ngModelChange","ngModel"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","disabled","","checked","",4,"ngIf"],["type","checkbox","disabled","","checked","",1,"input-checkbox","disabled:bg-blue-500"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Export to PDF "),e.k0s()(),e.j41(6,"div",5)(7,"table",6)(8,"table",7)(9,"div",8)(10,"h2"),e.EFF(11,"MEDICAL EXAM"),e.k0s()(),e.j41(12,"tbody",9)(13,"div",10)(14,"div",11)(15,"h4",12),e.EFF(16,"Patient Name"),e.k0s()(),e.j41(17,"div",13)(18,"h4",14),e.EFF(19),e.k0s()(),e.j41(20,"div",15)(21,"h4",12),e.EFF(22,"GBV Case No."),e.k0s()(),e.j41(23,"div",15)(24,"h4",12),e.EFF(25),e.k0s()(),e.j41(26,"div",11)(27,"h4",12),e.EFF(28,"DOB & Age"),e.k0s()(),e.j41(29,"div",13)(30,"h4",12),e.EFF(31),e.nI1(32,"date"),e.k0s()(),e.j41(33,"div",15)(34,"h4",12),e.EFF(35,"Contact Number"),e.k0s()(),e.j41(36,"div",15)(37,"h4",12),e.EFF(38),e.k0s()(),e.j41(39,"div",11)(40,"h4",12),e.EFF(41,"Address"),e.k0s()(),e.j41(42,"div",16)(43,"h4",12),e.EFF(44),e.k0s()(),e.j41(45,"div",11)(46,"h4",12),e.EFF(47,"Facility Name"),e.k0s()(),e.j41(48,"div",16)(49,"h4",14),e.EFF(50),e.k0s()(),e.j41(51,"div",11)(52,"h4",12),e.EFF(53,"Date and Time"),e.k0s()(),e.j41(54,"div",13)(55,"h4",12),e.EFF(56),e.k0s()(),e.j41(57,"div",11)(58,"h4",12),e.EFF(59,"Physician"),e.k0s()(),e.j41(60,"div",13)(61,"h4",12),e.EFF(62),e.k0s()(),e.j41(63,"div",15)(64,"h4",12),e.EFF(65,"First CPU/RHU Exam:"),e.k0s()(),e.j41(66,"div",17)(67,"div",18)(68,"label",19),e.nrm(69,"input",20),e.EFF(70," Yes"),e.k0s(),e.j41(71,"label",21),e.nrm(72,"input",20),e.EFF(73," No"),e.k0s(),e.j41(74,"label",12),e.EFF(75,"Date of previous: "),e.k0s()()(),e.j41(76,"div",15)(77,"h4",12),e.EFF(78,"Examined before by:"),e.k0s()(),e.j41(79,"div",17)(80,"div",18)(81,"label",19),e.nrm(82,"input",20),e.EFF(83," None"),e.k0s(),e.j41(84,"label",21),e.nrm(85,"input",20),e.EFF(86," NBI"),e.k0s(),e.j41(87,"label",19),e.nrm(88,"input",20),e.EFF(89," Private MD"),e.k0s(),e.j41(90,"label",21),e.nrm(91,"input",20),e.EFF(92," Others"),e.k0s(),e.j41(93,"label",12),e.EFF(94,"Date of previous: "),e.k0s()()(),e.j41(95,"div",22)(96,"h4",12),e.EFF(97),e.k0s()(),e.j41(98,"div",22),e.DNE(99,fo,2,1,"h4",23),e.k0s(),e.j41(100,"div",24)(101,"h2"),e.EFF(102,"SYSTEMS REVIEW & MEDICAL HISTORY"),e.k0s()(),e.j41(103,"div",15)(104,"h4",12),e.EFF(105),e.k0s()(),e.j41(106,"div",15)(107,"h4",12),e.EFF(108),e.k0s()(),e.j41(109,"div",15)(110,"h4",12),e.EFF(111,"Menarche? If yes, start age "),e.k0s()(),e.j41(112,"div",25)(113,"label",19),e.nrm(114,"input",26),e.EFF(115," Yes"),e.k0s(),e.DNE(116,go,2,1,"label",27),e.j41(117,"label",21),e.nrm(118,"input",26),e.EFF(119," No"),e.k0s(),e.nrm(120,"br"),e.k0s(),e.j41(121,"div",11)(122,"h4",12),e.EFF(123,"Weight:"),e.k0s()(),e.j41(124,"div",13)(125,"h4",12),e.EFF(126),e.k0s()(),e.j41(127,"div",15)(128,"h4",12),e.EFF(129,"Date of last period "),e.nrm(130,"br"),e.EFF(131," (mm/dd/yyyy) "),e.k0s()(),e.j41(132,"div",15)(133,"h4",12),e.EFF(134),e.nI1(135,"date"),e.k0s()(),e.j41(136,"div",11)(137,"h4",12),e.EFF(138,"Height "),e.k0s()(),e.j41(139,"div",13)(140,"h4",12),e.EFF(141),e.k0s()(),e.j41(142,"div",15)(143,"h4",12),e.EFF(144,"History of genital discharge or UTI? "),e.k0s()(),e.j41(145,"div",25)(146,"label",19),e.nrm(147,"input",26),e.EFF(148," Yes"),e.k0s(),e.j41(149,"label",21),e.nrm(150,"input",26),e.EFF(151," No"),e.k0s(),e.nrm(152,"br"),e.k0s(),e.j41(153,"div",15)(154,"h4",12),e.EFF(155,"Currently taking medication? "),e.k0s()(),e.j41(156,"div",25)(157,"label",19),e.nrm(158,"input",26),e.EFF(159," Yes"),e.k0s(),e.j41(160,"label",21),e.nrm(161,"input",26),e.EFF(162," No"),e.k0s(),e.nrm(163,"br"),e.DNE(164,vo,2,1,"label",27),e.k0s(),e.j41(165,"div",15)(166,"h4",12),e.EFF(167,"Past hospitalizations? "),e.k0s()(),e.j41(168,"div",25)(169,"label",19),e.nrm(170,"input",26),e.EFF(171," Yes"),e.k0s(),e.j41(172,"label",21),e.nrm(173,"input",26),e.EFF(174," No"),e.k0s(),e.nrm(175,"br"),e.DNE(176,bo,2,1,"label",27),e.k0s(),e.j41(177,"div",28)(178,"label",29),e.EFF(179,"GENERAL SURVEY "),e.k0s(),e.j41(180,"label",30),e.EFF(181,"(check all that apply)"),e.k0s(),e.nrm(182,"br"),e.j41(183,"div",31)(184,"label",32),e.DNE(185,ho,1,1,"input",33),e.EFF(186," Normal"),e.k0s(),e.j41(187,"label",32),e.DNE(188,ko,1,1,"input",33),e.EFF(189," Abnormal"),e.k0s(),e.j41(190,"label",32),e.DNE(191,Fo,1,1,"input",33),e.EFF(192," Stunting"),e.k0s(),e.j41(193,"label",32),e.DNE(194,yo,1,1,"input",33),e.EFF(195," Wasting"),e.k0s(),e.j41(196,"label",32),e.DNE(197,jo,1,1,"input",33),e.EFF(198," Dirty, Unkempt"),e.k0s(),e.j41(199,"label",32),e.DNE(200,xo,1,1,"input",33),e.EFF(201," Stuporous"),e.k0s(),e.j41(202,"label",32),e.DNE(203,Co,1,1,"input",33),e.EFF(204," Pale"),e.k0s(),e.j41(205,"label",32),e.DNE(206,wo,1,1,"input",33),e.EFF(207," Non-ambulant"),e.k0s(),e.j41(208,"label",32),e.DNE(209,Io,1,1,"input",33),e.EFF(210," Drowsy, Irritable"),e.k0s(),e.j41(211,"label",32),e.DNE(212,Eo,1,1,"input",33),e.EFF(213," Respiratory Distress"),e.k0s(),e.j41(214,"label",32),e.DNE(215,Go,1,1,"input",33),e.EFF(216," Other Abnormality"),e.k0s()()(),e.j41(217,"div",34)(218,"div",35)(219,"h4",12),e.EFF(220,"Any scars that do not appear to result from physical abuse?"),e.k0s(),e.j41(221,"label",19),e.DNE(222,Ro,1,1,"input",36),e.EFF(223," Yes"),e.k0s(),e.j41(224,"label",19),e.DNE(225,$o,1,1,"input",36),e.EFF(226," No"),e.k0s()(),e.j41(227,"div",37)(228,"h4",12),e.EFF(229,"PERTINENT MEDICAL HISTORY?"),e.k0s(),e.j41(230,"label",19),e.DNE(231,Mo,1,1,"input",36),e.EFF(232," Yes"),e.k0s(),e.j41(233,"label",19),e.DNE(234,Yo,1,1,"input",36),e.EFF(235," No"),e.k0s()()()()()(),e.j41(236,"table",38)(237,"tbody",9)(238,"div",39)(239,"div",40)(240,"h2"),e.EFF(241,"PHYSICAL EXAM"),e.k0s()(),e.j41(242,"div",15)(243,"h4",12),e.EFF(244,"Head and Neck"),e.k0s()(),e.j41(245,"div",17)(246,"h4",30),e.EFF(247),e.k0s()(),e.j41(248,"div",15)(249,"h4",12),e.EFF(250,"Chest and Lungs"),e.k0s()(),e.j41(251,"div",17)(252,"h4",30),e.EFF(253),e.k0s()(),e.j41(254,"div",15)(255,"h4",12),e.EFF(256,"Breast"),e.k0s()(),e.j41(257,"div",17)(258,"h4",30),e.EFF(259),e.k0s()(),e.j41(260,"div",15)(261,"h4",12),e.EFF(262,"Abdomen"),e.k0s()(),e.j41(263,"div",17)(264,"h4",30),e.EFF(265),e.k0s()(),e.j41(266,"div",15)(267,"h4",12),e.EFF(268,"Back"),e.k0s()(),e.j41(269,"div",17)(270,"h4",30),e.EFF(271),e.k0s()(),e.j41(272,"div",15)(273,"h4",12),e.EFF(274,"Extremities"),e.k0s()(),e.j41(275,"div",17)(276,"h4",30),e.EFF(277),e.k0s()(),e.j41(278,"div",15)(279,"h4",12),e.EFF(280,"Anogenital"),e.k0s()(),e.j41(281,"div",17)(282,"h4",30),e.EFF(283),e.k0s()(),e.j41(284,"div",15)(285,"h4",12),e.EFF(286,"External Genitalia"),e.k0s()(),e.j41(287,"div",17)(288,"h4",30),e.EFF(289),e.k0s()(),e.j41(290,"div",15)(291,"h4",12),e.EFF(292,"Anus"),e.k0s()(),e.j41(293,"div",17)(294,"h4",30),e.EFF(295),e.k0s()(),e.j41(296,"div",15)(297,"h4",12),e.EFF(298,"Hymen"),e.k0s()(),e.j41(299,"div",17)(300,"h4",30),e.EFF(301),e.k0s()(),e.j41(302,"div",15)(303,"h4",12),e.EFF(304,"Impression"),e.k0s()(),e.j41(305,"div",17),e.DNE(306,No,2,1,"h4",41),e.k0s()()()(),e.j41(307,"table",42)(308,"tbody",9)(309,"div",39)(310,"div",40)(311,"h2"),e.EFF(312,"SYMPTOMS DESCRIBED BY THE ADULT PATIENT, CHILD AND/OR A HISTORIAN"),e.k0s()(),e.j41(313,"div",43)(314,"h2"),e.EFF(315,"Please check the appropriate box"),e.k0s()(),e.j41(316,"div",44)(317,"h4",45),e.EFF(318,"Anogenital "),e.k0s(),e.j41(319,"table",46)(320,"thead",47)(321,"tr",48)(322,"th",49),e.EFF(323,"Description"),e.k0s(),e.j41(324,"th",50),e.EFF(325,"Victim Survivor"),e.k0s(),e.j41(326,"th",51),e.EFF(327,"Historian"),e.k0s()()(),e.j41(328,"tbody",52),e.DNE(329,So,7,3,"tr",53),e.nI1(330,"keyvalue"),e.k0s()()(),e.j41(331,"div",44)(332,"h4",45),e.EFF(333,"Corporal "),e.k0s(),e.j41(334,"table",54)(335,"thead",47)(336,"tr",48)(337,"th",49),e.EFF(338,"Description"),e.k0s(),e.j41(339,"th",55),e.EFF(340,"Victim Survivor"),e.k0s(),e.j41(341,"th",51),e.EFF(342,"Historian"),e.k0s()()(),e.j41(343,"tbody",52),e.DNE(344,Vo,7,3,"tr",53),e.nI1(345,"keyvalue"),e.k0s()()(),e.j41(346,"div",44)(347,"h4",45),e.EFF(348,"Behavioral "),e.k0s(),e.j41(349,"table",56)(350,"thead",47)(351,"tr",48)(352,"th",49),e.EFF(353,"Description"),e.k0s(),e.j41(354,"th",55),e.EFF(355,"Victim Survivor"),e.k0s(),e.j41(356,"th",51),e.EFF(357,"Historian"),e.k0s()()(),e.j41(358,"tbody",52),e.DNE(359,Bo,7,3,"tr",53),e.nI1(360,"keyvalue"),e.k0s()()()()(),e.j41(361,"div")(362,"h4",57),e.EFF(363,"*This form was adopted from the Women and Children Protection Unit (WCPU) of UP-PGH through WCPU-Sta. Margarita, Samar with the initiative of Jhpiego."),e.k0s()(),e.j41(364,"div",58)(365,"div",59)(366,"h4",60),e.EFF(367,"Prepared by:"),e.k0s(),e.j41(368,"h4",61),e.EFF(369),e.k0s()()()()()(),e.j41(370,"div",62)(371,"button",63),e.bIt("click",function(){return i.closeModal()}),e.EFF(372,"Close"),e.k0s(),e.j41(373,"button",64),e.bIt("click",function(){return i.exportP()}),e.EFF(374,"Export PDF"),e.k0s()()()()(),e.nrm(375,"div",65)),2&a&&(e.R7$(19),e.E5c("",null==i.patient_details?null:i.patient_details.first_name," ",null==i.patient_details?null:i.patient_details.middle_name," ",null==i.patient_details?null:i.patient_details.last_name,""),e.R7$(6),e.SpI("",null==i.selected_gbv_case.gbvIntake?null:i.selected_gbv_case.gbvIntake.case_number," "),e.R7$(6),e.Lme("",e.brH(32,67,null==i.patient_details?null:i.patient_details.birthdate,"MM/dd/yyyy","Asia/Manila"),", ",i.getAge()," "),e.R7$(7),e.JRh(null==i.patient_details?null:i.patient_details.mobile_number),e.R7$(6),e.SjE(" ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.address?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.address)+", ":"-"," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.name?"Brgy. "+(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.municipality.name?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.municipality.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.province.name?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.province.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.region.name?null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.region.name:""," "),e.R7$(6),e.SpI("",i.conv_facility," "),e.R7$(6),e.SpI("",null==i.selected_gbv_case.gbvIntake?null:i.selected_gbv_case.gbvIntake.case_date," "),e.R7$(6),e.E5c("",null==i.userInfo?null:i.userInfo.first_name," ",null==i.userInfo?null:i.userInfo.middle_name," ",null==i.userInfo?null:i.userInfo.last_name," "),e.R7$(35),e.SpI("Requesting Party: ",i.conv_referral_facility,""),e.R7$(2),e.Y8G("ngIf",i.conv_relation),e.R7$(6),e.SpI("Temp: ",null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.patient_temp," "),e.R7$(3),e.SpI("Heart rate: ",null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.patient_heart_rate," / minute "),e.R7$(6),e.Y8G("checked",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.R7$(2),e.Y8G("ngIf",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.R7$(2),e.Y8G("checked",0===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.R7$(8),e.SpI("",null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.patient_weight," kg percentile (if under 6)"),e.R7$(8),e.JRh(e.brH(135,71,null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.lmp_date,"MM/dd/yyyy","Asia/Manila")),e.R7$(7),e.SpI("",null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.patient_height," cm percentile (if under 6)"),e.R7$(6),e.Y8G("checked",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.genital_discharge_uti_flag)),e.R7$(3),e.Y8G("checked",0===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.genital_discharge_uti_flag)),e.R7$(8),e.Y8G("checked",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.R7$(3),e.Y8G("checked",0===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.R7$(3),e.Y8G("ngIf",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.R7$(6),e.Y8G("checked",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.past_hospitalizations_flag)),e.R7$(3),e.Y8G("checked",0===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.past_hospitalizations_flag)),e.R7$(3),e.Y8G("ngIf",1===(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.R7$(9),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(7),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(6),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(3),e.Y8G("ngIf",i.selected_gbv_case.gbvIntake.medical_history),e.R7$(13),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_head_and_neck_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_chest_and_lungs_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_breast_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_abdomen_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_back_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_extremities_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_anogenital_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_external_genitalia_remarks),e.R7$(6),e.JRh(null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_anus_remarks),e.R7$(6),e.SpI(" ",null==i.selected_gbv_case.gbvIntake.medical_history?null:i.selected_gbv_case.gbvIntake.medical_history.pe_hymen_remarks,""),e.R7$(5),e.Y8G("ngIf",i.conv_impression),e.R7$(23),e.Y8G("ngForOf",e.bMT(330,75,i.anogenital_exam)),e.R7$(15),e.Y8G("ngForOf",e.bMT(345,77,i.corporal_exam)),e.R7$(15),e.Y8G("ngForOf",e.bMT(360,79,i.behavioral_exam)),e.R7$(10),e.E5c("",null==i.userInfo?null:i.userInfo.first_name," ",null==i.userInfo?null:i.userInfo.middle_name," ",null==i.userInfo?null:i.userInfo.last_name," "))},dependencies:[_.Sq,_.bT,s.Zm,s.BC,s.vS,_.vh,_.lG],encapsulation:2})}}return n})(),Ao=(()=>{class n{closeModal(){this.toggleMedCert.emit("med_cert"),console.log("check modal med cert")}getAge(){if(this.patient_details&&this.patient_details.birthdate){let t=this.ageService.calcuateAge(this.patient_details.birthdate);return this.patient_age=t,t.age}}getOccupations(){this.http.get("libraries/occupations").subscribe({next:t=>{this.occupations=t.data,console.log(this.occupations,"occupations data")},error:t=>console.log(t)})}constructor(t,a){this.http=t,this.ageService=a,this.toggleMedCert=new e.bkB}ngOnInit(){this.getOccupations(),this.patient_details=this.http.getPatientInfo(),console.log(this.patient_details,"medical cert modal patient"),console.log(this.selected_gbv_case,"export modal")}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(B.V))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-medical-certificate"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleMedCert:"toggleMedCert"},standalone:!1,decls:181,vars:15,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[600px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["id","medForm",1,"w-full","text-sm","text-left"],[1,"text-center","font-bold","pt-6","text-2xl"],[1,"h-96","overflow-y-auto"],[1,"grid","grid-cols-12","m-5"],[1,"col-span-12","border","border-gray-200"],[1,"py-2","bg-black","text-center","text-white","uppercase","font-semibold"],[1,"col-span-2","border","border-gray-200"],[1,"py-2","text-center","bg-gray-300"],[1,"col-span-3","border","border-gray-200"],[1,"py-2","pl-3"],[1,"col-span-1","border","border-gray-200"],[1,"py-2","pl-3","text-center","bg-gray-300"],[1,"col-span-10","border","border-gray-200"],[1,"py-2"],[1,"col-span-5","border","border-gray-200"],[1,"col-span-7","py-2","border","border-gray-200"],[1,"pl-3"],["type","checkbox",1,"py-2","input-checkbox"],[1,"col-span-5","py-2","border","border-gray-200"],[1,"py-2","bg-gray-400","text-center","text-black","uppercase","font-semibold"],[1,"col-span-9","border","border-gray-200"],[1,"py-5","pl-3"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Medical Certificate "),e.k0s()(),e.j41(6,"div",5)(7,"table",6)(8,"div",7)(9,"h2"),e.EFF(10,"MEDICO-LEGAL CERTIFICATE"),e.k0s()(),e.j41(11,"tbody",8)(12,"div",9)(13,"div",10)(14,"h4",11),e.EFF(15,"Demographic Data"),e.k0s()(),e.j41(16,"div",12)(17,"h4",13),e.EFF(18,"Patient's Name"),e.k0s()(),e.j41(19,"div",14)(20,"h4",15),e.EFF(21),e.k0s()(),e.j41(22,"div",16)(23,"h4",13),e.EFF(24,"Age"),e.k0s()(),e.j41(25,"div",16)(26,"h4",15),e.EFF(27),e.k0s()(),e.j41(28,"div",16)(29,"h4",13),e.EFF(30,"DOB"),e.k0s()(),e.j41(31,"div",12)(32,"h4",15),e.EFF(33),e.k0s()(),e.j41(34,"div",16)(35,"h4",13),e.EFF(36,"Sex"),e.k0s()(),e.j41(37,"div",16)(38,"h4",15),e.EFF(39),e.k0s()(),e.j41(40,"div",12)(41,"h4",17),e.EFF(42,"Patient's Address"),e.k0s()(),e.j41(43,"div",18)(44,"h4",15),e.EFF(45),e.k0s()(),e.j41(46,"div",12)(47,"h4",13),e.EFF(48,"Civil Status"),e.k0s()(),e.j41(49,"div",12)(50,"h4",19),e.EFF(51),e.k0s()(),e.j41(52,"div",12)(53,"h4",13),e.EFF(54,"Occupation"),e.k0s()(),e.j41(55,"div",12)(56,"h4",19),e.EFF(57),e.k0s()(),e.j41(58,"div",12)(59,"h4",13),e.EFF(60,"Nationality"),e.k0s()(),e.j41(61,"div",12),e.nrm(62,"h4",15),e.k0s(),e.j41(63,"div",12)(64,"h4",13),e.EFF(65,"Requesting "),e.nrm(66,"br"),e.EFF(67," Party"),e.k0s()(),e.j41(68,"div",12),e.nrm(69,"h4",15),e.k0s(),e.j41(70,"div",14)(71,"h4",13),e.EFF(72,"Place, Time and Date of Exam"),e.k0s()(),e.j41(73,"div",20),e.nrm(74,"h4",15),e.k0s(),e.j41(75,"div",21)(76,"label",22),e.nrm(77,"input",23),e.EFF(78," Acute Evidentiary Examination (within 72 hours of incident)"),e.k0s()(),e.j41(79,"div",24)(80,"label",22),e.nrm(81,"input",23),e.EFF(82," Non-Acute Examination"),e.k0s()(),e.j41(83,"div",10)(84,"h4",11),e.EFF(85,"Findings"),e.k0s()(),e.j41(86,"div",10)(87,"h4",25),e.EFF(88,"General Physical Findings"),e.k0s()(),e.j41(89,"div",14)(90,"h4",17),e.EFF(91,"Height"),e.k0s()(),e.j41(92,"div",14)(93,"h4",15),e.EFF(94),e.k0s()(),e.j41(95,"div",14)(96,"h4",17),e.EFF(97,"Weight"),e.k0s()(),e.j41(98,"div",14)(99,"h4",15),e.EFF(100),e.k0s()(),e.j41(101,"div",14)(102,"h4",17),e.EFF(103,"General Survey"),e.k0s()(),e.j41(104,"div",26),e.nrm(105,"h4",15),e.k0s(),e.j41(106,"div",14)(107,"h4",17),e.EFF(108,"Mental Status"),e.k0s()(),e.j41(109,"div",26),e.nrm(110,"h4",15),e.k0s(),e.j41(111,"div",14)(112,"h4",17),e.EFF(113,"Pertinent Physical Findings/Physical Injuries"),e.k0s()(),e.j41(114,"div",26),e.nrm(115,"h4",15),e.k0s(),e.j41(116,"div",10)(117,"h4",25),e.EFF(118,"Anogenital Exam"),e.k0s()(),e.j41(119,"div",14)(120,"h4",17),e.EFF(121,"External Genitalia"),e.k0s()(),e.j41(122,"div",26),e.nrm(123,"h4",15),e.k0s(),e.j41(124,"div",14)(125,"h4",17),e.EFF(126,"Urethra and Periurethral Area"),e.k0s()(),e.j41(127,"div",26),e.nrm(128,"h4",15),e.k0s(),e.j41(129,"div",14)(130,"h4",17),e.EFF(131,"Perihymenal Area and Fossa Navicularis"),e.k0s()(),e.j41(132,"div",26),e.nrm(133,"h4",15),e.k0s(),e.j41(134,"div",14)(135,"h4",17),e.EFF(136,"Hymen"),e.k0s()(),e.j41(137,"div",26),e.nrm(138,"h4",15),e.k0s(),e.j41(139,"div",14)(140,"h4",17),e.EFF(141,"Perineum"),e.k0s()(),e.j41(142,"div",26),e.nrm(143,"h4",15),e.k0s(),e.j41(144,"div",14)(145,"h4",17),e.EFF(146,"Discharge"),e.k0s()(),e.j41(147,"div",26),e.nrm(148,"h4",15),e.k0s(),e.j41(149,"div",14)(150,"h4",17),e.EFF(151,"Mental Status"),e.k0s()(),e.j41(152,"div",26),e.nrm(153,"h4",15),e.k0s(),e.j41(154,"div",14)(155,"h4",17),e.EFF(156,"Internal and Speculum Exams"),e.k0s()(),e.j41(157,"div",26),e.nrm(158,"h4",15),e.k0s(),e.j41(159,"div",14)(160,"h4",17),e.EFF(161,"Anal Examination"),e.k0s()(),e.j41(162,"div",26),e.nrm(163,"h4",15),e.k0s(),e.j41(164,"div",10)(165,"h4",25),e.EFF(166,"Diagnostics and Evidence Gathering"),e.k0s()(),e.j41(167,"div",14)(168,"h4",17),e.EFF(169,"Forensic Evidence and Laboratory Results"),e.k0s()(),e.j41(170,"div",26),e.nrm(171,"h4",15),e.k0s(),e.j41(172,"div",10)(173,"h4",25),e.EFF(174,"Impressions"),e.k0s()(),e.j41(175,"div",10),e.nrm(176,"h4",27),e.k0s()()()()(),e.j41(177,"div",28)(178,"button",29),e.bIt("click",function(){return i.closeModal()}),e.EFF(179,"Close"),e.k0s()()()()(),e.nrm(180,"div",30)),2&a&&(e.R7$(21),e.E5c("",i.patient_details.first_name," ",i.patient_details.middle_name," ",i.patient_details.last_name,""),e.R7$(6),e.JRh(i.getAge()),e.R7$(6),e.SpI("",i.patient_details.birthdate," "),e.R7$(6),e.SpI("",i.patient_details.gender," "),e.R7$(6),e.SjE(" ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.address?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.address)+", ":"-"," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.name?"Brgy. "+(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.municipality.name?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.municipality.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.province.name?(null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.province.name)+", ":""," ",null!=i.patient_details&&null!=i.patient_details.household_folder&&i.patient_details.household_folder.barangay.region.name?null==i.patient_details||null==i.patient_details.household_folder?null:i.patient_details.household_folder.barangay.region.name:""," "),e.R7$(6),e.SpI("",i.patient_details.civil_status_code," "),e.R7$(6),e.SpI("",i.patient_details.occupation_code," "),e.R7$(37),e.SpI("",i.selected_gbv_case.gbvIntake.medical_history.patient_height," cm "),e.R7$(6),e.SpI("",i.selected_gbv_case.gbvIntake.medical_history.patient_weight," kg"))},encapsulation:2})}}return n})();const x=n=>({"text-red-500":n}),C=n=>({"invalid-input":n});function Ho(n,o){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Uo(n,o){if(1&n&&e.nrm(0,"fa-icon",29),2&n){const t=e.XpG();e.Y8G("icon",t.faSave)}}function Lo(n,o){if(1&n&&e.nrm(0,"fa-icon",30),2&n){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}function zo(n,o){if(1&n&&(e.j41(0,"div",43)(1,"label",72),e.EFF(2,"Current Medications"),e.k0s(),e.nrm(3,"input",73),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,x,t.show_error&&t.f.taking_medication_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,C,t.show_error&&t.f.taking_medication_remarks.errors))}}function Wo(n,o){if(1&n&&(e.j41(0,"div",74),e.nrm(1,"input",75),e.j41(2,"label"),e.EFF(3),e.k0s()()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("formControlName",t.var_name),e.BMQ("id",t.var_name),e.R7$(),e.BMQ("for",t.var_name),e.R7$(),e.JRh(t.desc)}}function Qo(n,o){if(1&n&&(e.j41(0,"div",76)(1,"label",77),e.EFF(2,"Other Abnormality"),e.k0s(),e.nrm(3,"input",78),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,x,t.show_error&&t.f.patient_temp.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,C,t.show_error&&t.f.gbv_general_survey_remarks.errors))}}function Zo(n,o){if(1&n&&(e.j41(0,"div",79)(1,"div")(2,"label",80),e.EFF(3,"Menarche Age"),e.k0s(),e.nrm(4,"input",81),e.k0s(),e.j41(5,"div")(6,"label",82),e.EFF(7,"LMP Date"),e.k0s(),e.nrm(8,"input",83),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngClass",e.eq3(4,x,t.show_error&&t.f.menarche_age.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,C,t.show_error&&t.f.menarche_age.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(8,x,t.show_error&&t.f.lmp_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(10,C,t.show_error&&t.f.lmp_date.errors))}}function Ko(n,o){if(1&n&&(e.j41(0,"div",43)(1,"label",84),e.EFF(2,"Reason for hospitalizations"),e.k0s(),e.nrm(3,"input",85),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,x,t.show_error&&t.f.past_hospital_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,C,t.show_error&&t.f.past_hospital_remarks.errors))}}function er(n,o){if(1&n&&(e.j41(0,"div",43)(1,"label",86),e.EFF(2,"Explain pertinent medical history"),e.k0s(),e.nrm(3,"input",87),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(2,x,t.show_error&&t.f.medical_history_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,C,t.show_error&&t.f.medical_history_remarks.errors))}}function tr(n,o){if(1&n&&(e.j41(0,"div",67)(1,"label",88),e.EFF(2),e.k0s(),e.j41(3,"textarea",89),e.EFF(4,"              "),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.desc),e.R7$(),e.Y8G("name",t.var_name)("id",t.var_name)("formControlName",t.var_name)}}function nr(n,o){1&n&&(e.j41(0,"div",90)(1,"label",91),e.EFF(2,"Details"),e.k0s(),e.j41(3,"textarea",92),e.EFF(4,"              "),e.k0s()())}function ir(n,o){1&n&&(e.j41(0,"div",101)(1,"span",102),e.EFF(2," No records to show "),e.k0s()())}function ar(n,o){1&n&&e.nrm(0,"input",106)}function sr(n,o){1&n&&e.nrm(0,"input",106)}function or(n,o){if(1&n&&(e.j41(0,"tr",103)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",104),e.DNE(4,ar,1,0,"input",105),e.k0s(),e.j41(5,"td",104),e.DNE(6,sr,1,0,"input",105),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key," "),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}function rr(n,o){1&n&&(e.j41(0,"div",101)(1,"span",102),e.EFF(2," No records to show "),e.k0s()())}function lr(n,o){1&n&&e.nrm(0,"input",106)}function _r(n,o){1&n&&e.nrm(0,"input",106)}function dr(n,o){if(1&n&&(e.j41(0,"tr",103)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",104),e.DNE(4,lr,1,0,"input",105),e.k0s(),e.j41(5,"td",104),e.DNE(6,_r,1,0,"input",105),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key,""),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}function cr(n,o){1&n&&(e.j41(0,"div",101)(1,"span",102),e.EFF(2," No records to show "),e.k0s()())}function pr(n,o){1&n&&e.nrm(0,"input",106)}function mr(n,o){1&n&&e.nrm(0,"input",106)}function ur(n,o){if(1&n&&(e.j41(0,"tr",103)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",104),e.DNE(4,pr,1,0,"input",105),e.k0s(),e.j41(5,"td",104),e.DNE(6,mr,1,0,"input",105),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.SpI(" ",t.key,""),e.R7$(2),e.Y8G("ngIf",t.value[1]),e.R7$(2),e.Y8G("ngIf",t.value[2])}}function fr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",93)(1,"div",31),e.EFF(2," Symptoms Described by the Victim Survivor and/or Historian "),e.k0s(),e.j41(3,"div",94)(4,"div",95)(5,"span"),e.EFF(6,"Anogenital"),e.k0s(),e.j41(7,"button",96),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("anogenital","Anogenital","gbv-symptoms-anogenital","patient-gbv-symptoms-anogenital","anogenital_symptoms_id","anogenital_array",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.symptoms_anogenital))}),e.nrm(8,"fa-icon",7),e.k0s()(),e.DNE(9,ir,3,0,"div",97),e.j41(10,"table",98)(11,"thead")(12,"tr")(13,"td",99),e.EFF(14,"Description"),e.k0s(),e.j41(15,"td",99),e.EFF(16,"Victim Survivor"),e.k0s(),e.j41(17,"td",99),e.EFF(18,"Historian"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,or,7,3,"tr",100),e.nI1(21,"keyvalue"),e.k0s()()(),e.j41(22,"div",94)(23,"div",95)(24,"span"),e.EFF(25,"Corporal"),e.k0s(),e.j41(26,"button",96),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("anogenital","Corporal","gbv-symptoms-corporal","patient-gbv-symptoms-corporal","corporal_symptoms_id","corporal_array",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.symptoms_corporal))}),e.nrm(27,"fa-icon",7),e.k0s()(),e.DNE(28,rr,3,0,"div",97),e.j41(29,"table",98)(30,"thead")(31,"tr")(32,"td",99),e.EFF(33,"Description"),e.k0s(),e.j41(34,"td",99),e.EFF(35,"Victim Survivor"),e.k0s(),e.j41(36,"td",99),e.EFF(37,"Historian"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,dr,7,3,"tr",100),e.nI1(40,"keyvalue"),e.k0s()()(),e.j41(41,"div",94)(42,"div",95)(43,"span"),e.EFF(44,"Behavioral"),e.k0s(),e.j41(45,"button",96),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("anogenital","Behavioral","gbv-symptoms-behavioral","patient-gbv-symptoms-behavioral","behavioral_symptoms_id","behavior_array",null==i.selected_gbv_case?null:i.selected_gbv_case.gbvIntake.symptoms_behavioral))}),e.nrm(46,"fa-icon",7),e.k0s()(),e.DNE(47,cr,3,0,"div",97),e.j41(48,"table",98)(49,"thead")(50,"tr")(51,"td",99),e.EFF(52,"Description"),e.k0s(),e.j41(53,"td",99),e.EFF(54,"Victim Survivor"),e.k0s(),e.j41(55,"td",99),e.EFF(56,"Historian"),e.k0s()()(),e.j41(57,"tbody"),e.DNE(58,ur,7,3,"tr",100),e.nI1(59,"keyvalue"),e.k0s()()()()}if(2&n){const t=e.XpG(2);e.R7$(8),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.anogenital_exam),e.R7$(11),e.Y8G("ngForOf",e.bMT(21,9,t.anogenital_exam)),e.R7$(7),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.corporal_exam),e.R7$(11),e.Y8G("ngForOf",e.bMT(40,11,t.corporal_exam)),e.R7$(7),e.Y8G("icon",t.faEdit),e.R7$(),e.Y8G("ngIf",!t.behavioral_exam),e.R7$(11),e.Y8G("ngForOf",e.bMT(59,13,t.behavioral_exam))}}function gr(n,o){if(1&n&&(e.j41(0,"option",15),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("ngValue",t.id),e.R7$(),e.JRh(t.desc)}}function vr(n,o){if(1&n&&e.nrm(0,"fa-icon",29),2&n){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function br(n,o){if(1&n&&e.nrm(0,"fa-icon",30),2&n){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function hr(n,o){if(1&n){const t=e.RV6();e.j41(0,"form",3),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.submitMedicalForm())}),e.j41(1,"div",4)(2,"div",31),e.EFF(3," Systems Review and Medical History "),e.k0s(),e.j41(4,"div",32)(5,"div",9)(6,"label",33),e.EFF(7,"Temp (\u2103)"),e.k0s(),e.nrm(8,"input",34),e.k0s(),e.j41(9,"div",9)(10,"label",35),e.EFF(11,"Heart Rate"),e.k0s(),e.nrm(12,"input",36),e.k0s(),e.j41(13,"div",9)(14,"label",37),e.EFF(15,"Respiratory Rate"),e.k0s(),e.nrm(16,"input",38),e.k0s(),e.j41(17,"div",9)(18,"label",39),e.EFF(19,"Weight (kg)"),e.k0s(),e.nrm(20,"input",40),e.k0s(),e.j41(21,"div",9)(22,"label",41),e.EFF(23,"Height (cm)"),e.k0s(),e.nrm(24,"input",42),e.k0s(),e.j41(25,"div",43),e.nrm(26,"input",44),e.j41(27,"label",45),e.EFF(28,"Currently taking medications?"),e.k0s()(),e.DNE(29,zo,4,6,"div",46),e.j41(30,"div",47)(31,"div",48),e.EFF(32,"General Survery"),e.k0s(),e.DNE(33,Wo,4,4,"div",49)(34,Qo,4,6,"div",50),e.k0s(),e.j41(35,"div",43),e.nrm(36,"input",51),e.j41(37,"label",52),e.EFF(38,"Menarche?"),e.k0s()(),e.DNE(39,Zo,9,12,"div",53),e.j41(40,"div",43),e.nrm(41,"input",54),e.j41(42,"label",55),e.EFF(43,"History of genital discharge or UTI"),e.k0s()(),e.j41(44,"div",43),e.nrm(45,"input",56),e.j41(46,"label",57),e.EFF(47,"Any scars that do not appear to result from physical abuse"),e.k0s()(),e.j41(48,"div",43),e.nrm(49,"input",58),e.j41(50,"label",59),e.EFF(51,"Past hospitalizations"),e.k0s()(),e.DNE(52,Ko,4,6,"div",46),e.j41(53,"div",43),e.nrm(54,"input",60),e.j41(55,"label",61),e.EFF(56,"Pertinent medical history"),e.k0s()(),e.DNE(57,er,4,6,"div",46),e.j41(58,"div",43)(59,"label",62),e.EFF(60,"Summary of non-abuse findings"),e.k0s(),e.j41(61,"textarea",63),e.EFF(62,"            "),e.k0s()(),e.j41(63,"div",47)(64,"div",48),e.EFF(65,"Physical Exam"),e.k0s(),e.DNE(66,tr,5,4,"div",64)(67,nr,5,0,"div",65)(68,fr,60,15,"div",66),e.j41(69,"div",67)(70,"label",68),e.EFF(71,"Impression"),e.k0s(),e.j41(72,"select",69)(73,"option",15),e.EFF(74,"-"),e.k0s(),e.DNE(75,gr,2,2,"option",70),e.k0s()()(),e.j41(76,"div",71)(77,"button",18),e.DNE(78,vr,1,1,"fa-icon",19)(79,br,1,1,"fa-icon",20),e.EFF(80),e.k0s()()()()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.medicalForm),e.R7$(6),e.Y8G("ngClass",e.eq3(28,x,t.show_error&&t.f.patient_temp.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(30,C,t.show_error&&t.f.patient_temp.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(32,x,t.show_error&&t.f.patient_heart_rate.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(34,C,t.show_error&&t.f.patient_heart_rate.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(36,x,t.show_error&&t.f.patient_resp_rate.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(38,C,t.show_error&&t.f.patient_resp_rate.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(40,x,t.show_error&&t.f.patient_weight.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(42,C,t.show_error&&t.f.patient_weight.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(44,x,t.show_error&&t.f.patient_height.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(46,C,t.show_error&&t.f.patient_height.errors)),e.R7$(5),e.Y8G("ngIf",t.medicalForm.value.taking_medication_flag),e.R7$(4),e.Y8G("ngForOf",t.general_surveys),e.R7$(),e.Y8G("ngIf",t.medicalForm.value.general_survey_others),e.R7$(5),e.Y8G("ngIf",t.medicalForm.value.menarche_flag),e.R7$(13),e.Y8G("ngIf",t.medicalForm.value.past_hospitalizations_flag),e.R7$(5),e.Y8G("ngIf",t.medicalForm.value.pertinent_med_history_flag),e.R7$(2),e.Y8G("ngClass",e.eq3(48,x,t.show_error&&t.f.summary_non_abuse_findings.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(50,C,t.show_error&&t.f.summary_non_abuse_findings.errors)),e.R7$(5),e.Y8G("ngForOf",t.physical_exams),e.R7$(),e.Y8G("ngIf",13===t.medicalForm.value.medical_impression_id),e.R7$(),e.Y8G("ngIf",t.has_consent),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.medical_impressions),e.R7$(2),e.Y8G("disabled",t.is_saving),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save"," ")}}function kr(n,o){1&n&&(e.j41(0,"div",101)(1,"span",102),e.EFF(2," No records to show "),e.k0s()())}function Fr(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",114),e.nrm(1,"td"),e.j41(2,"td",115),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td",104)(7,"button",116),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.viewFile(i.id))}),e.EFF(8," View "),e.k0s()()()}if(2&n){const t=o.$implicit;e.R7$(3),e.SpI(" ",t.file_title," "),e.R7$(2),e.SpI(" ",t.file_desc," ")}}function yr(n,o){if(1&n&&(e.j41(0,"table",98)(1,"thead")(2,"tr"),e.nrm(3,"td",110),e.j41(4,"td",111),e.EFF(5,"File Title"),e.k0s(),e.j41(6,"td",112),e.EFF(7,"File Description"),e.k0s(),e.j41(8,"td",110),e.EFF(9,"Action"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,Fr,9,2,"tr",113),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(11),e.Y8G("ngForOf",t.gbv_files)}}function jr(n,o){if(1&n&&(e.j41(0,"div",117)(1,"div",118),e.nrm(2,"fa-icon",119),e.k0s(),e.j41(3,"div",120),e.EFF(4," Fetching Files... "),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function xr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",107)(1,"div",31),e.EFF(2," Documents "),e.k0s(),e.j41(3,"div",94)(4,"div",95)(5,"span"),e.EFF(6,"Uploaded Files"),e.k0s(),e.j41(7,"button",96),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleFileModal("file_upload"))}),e.nrm(8,"fa-icon",7),e.k0s()(),e.DNE(9,kr,3,0,"div",97)(10,yr,12,1,"table",108)(11,jr,5,1,"div",109),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("icon",t.faPlus),e.R7$(),e.Y8G("ngIf",!t.behavioral_exam),e.R7$(),e.Y8G("ngIf",!t.fetchingFiles),e.R7$(),e.Y8G("ngIf",t.fetchingFiles)}}function Cr(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-anogenital",121),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_exam",t.selected_exam)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function wr(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-file-upload",122),e.bIt("toggleFileModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleFileModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("gbv_id",null==t.selected_gbv_case?null:t.selected_gbv_case.id)("patient_id",t.patient_id)}}function Ir(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-view-file",123),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_file_id",t.selected_file_id)}}function Er(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-export-pdf",124),e.bIt("toggleExportPDF",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleExportPDF(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_gbv_case",t.selected_gbv_case)}}function Gr(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-medical-certificate",125),e.bIt("toggleMedCert",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleMedCert(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_gbv_case",t.selected_gbv_case)}}let Rr=(()=>{class n{reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:a=>{this.selected_gbv_case=a.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case),this.patchData()},error:a=>console.log(a)})}onSubmit(){this.is_saving=!0,this.http.update("gender-based-violence/patient-gbv-intake/",this.intakeForm.value.id,this.intakeForm.value).subscribe({next:t=>{this.toastr.success("Successfully recorded!","Intake Form"),this.is_saving=!1,this.reloadData()},error:t=>console.log(t)})}submitMedicalForm(){this.is_saving=!0,this.medicalForm.patchValue({lmp_date:this.medicalForm.value.lmp_date?(0,_.Yq)(this.medicalForm.value.lmp_date,"yyyy-MM-dd","en","Asia/Manila"):null}),this.http.post("gender-based-violence/patient-gbv-medical-history",this.medicalForm.value).subscribe({next:t=>{this.toastr.success("Successfully recorded!","Medical Form"),this.is_saving=!1,this.reloadData()},error:t=>console.log(t)})}toggleFileModal(t){this.modals[t]=!this.modals[t],this.modals[t]||this.getFiles()}toggleExportPDF(t){this.modals[t]=!this.modals[t]}toggleMedCert(t){this.modals[t]=!this.modals[t]}viewFile(t){this.selected_file_id=t,this.modals.view_file=!this.modals.view_file}toggleModal(t,a,i,r,l,d,u){"anogenital"===t&&(this.selected_exam={exam_title:a,url:i,save_url:r,var_id:l,arr_var_name:d,data:u}),this.modals[t]=!this.modals[t],"anogenital"===t&&!this.modals[t]&&this.reloadData()}patchData(){this.intakeForm.patchValue({...this.selected_gbv_case.gbvIntake}),this.intakeForm.patchValue({case_date:this.selected_gbv_case.gbvIntake?(0,_.Yq)(this.selected_gbv_case.gbvIntake.case_date,"yyyy-MM-dd","en","Asia/Manila"):null}),this.has_consent=!!this.intakeForm.value.consent_flag,this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_anogenital,"anogenital_exam","anogenital"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_corporal,"corporal_exam","corporal"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_behavioral,"behavioral_exam","behavior"),this.patchMedicalValue(),this.getFiles()}loadExams(t,a,i){let r=[];Object.entries(t).forEach(([l,d],u)=>{r[d[i].desc]||(r[d[i].desc]=[]),r[d[i].desc][d.info_source_id]=!0}),this[a]=r}loadLibraries(){const t=this.http.get("libraries/child-relation"),a=this.http.get("libraries/gbv-medical-impression");(0,G.p)([t,a]).subscribe({next:([i,r])=>{this.child_relations=i.data,this.medical_impressions=r.data,console.log(r),this.patchData(),this.createMedicalForm()},error:i=>console.log(i)})}getFiles(){this.fetchingFiles=!0,this.http.get("gender-based-violence/patient-gbv-file-upload",{params:{"filter[patient_id]":this.patient_id,"filter[patient_gbv_id]":this.selected_gbv_case.id}}).subscribe({next:a=>{this.gbv_files=a.data,this.fetchingFiles=!1},error:a=>console.log(a)})}createMedicalForm(){this.medicalForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.selected_gbv_case.patient_id],patient_gbv_intake_id:[this.selected_gbv_case.gbvIntake.id],patient_temp:[null],patient_heart_rate:[null],patient_resp_rate:[null],patient_weight:[null],patient_height:[null],taking_medication_flag:[null],taking_medication_remarks:[null],general_survey_normal:[!1],general_survey_abnormal:[!1],general_survey_stunting:[!1],general_survey_wasting:[!1],general_survey_dirty_unkempt:[!1],general_survey_stuporous:[!1],general_survey_pale:[!1],general_survey_non_ambulant:[!1],general_survey_drowsy:[!1],general_survey_respiratory:[!1],general_survey_others:[!1],gbv_general_survey_remarks:[null],pe_head_and_neck_remarks:[null],pe_chest_and_lungs_remarks:[null],pe_breast_remarks:[null],pe_abdomen_remarks:[null],pe_back_remarks:[null],pe_extremities_remarks:[null],pe_anogenital_remarks:[null],pe_external_genitalia_remarks:[null],pe_anus_remarks:[null],pe_hymen_remarks:[null],medical_impression_id:[null],medical_impression_remarks:[null],menarche_flag:[!1],menarche_age:[!1],lmp_date:[null],genital_discharge_uti_flag:[!1],past_hospitalizations_flag:[!1],past_hospital_remarks:[null],scar_physical_abuse_flag:[!1],pertinent_med_history_flag:[!1],medical_history_remarks:[null],summary_non_abuse_findings:[null]}),this.patchMedicalValue()}patchMedicalValue(){this.selected_gbv_case.gbvIntake.medical_history&&(this.medicalForm.patchValue({...this.selected_gbv_case.gbvIntake.medical_history}),console.log(this.medicalForm.value))}exportP(){this.pdf_exported=!0,this.exportAsService.save(this.exportAsPdf,"GBV Medical").subscribe(()=>{})}get f(){return this.medicalForm.controls}constructor(t,a,i,r){this.http=t,this.toastr=a,this.formBuilder=i,this.exportAsService=r,this.updateSelectedGbv=new e.bkB,this.faEdit=f.MT7,this.faSave=f.hSh,this.faPlus=c.QLR,this.faCircleNotch=c.s4k,this.faFilePdf=c.O_q,this.faFileContract=c.IJd,this.medicalForm=function ao(){return new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),patient_gbv_intake_id:new s.MJ(null),patient_temp:new s.MJ(null),patient_heart_rate:new s.MJ(null),patient_resp_rate:new s.MJ(null),patient_weight:new s.MJ(null),patient_height:new s.MJ(null),taking_medication_flag:new s.MJ(null),taking_medication_remarks:new s.MJ(null),general_survey_normal:new s.MJ(null),general_survey_abnormal:new s.MJ(null),general_survey_stunting:new s.MJ(null),general_survey_wasting:new s.MJ(null),general_survey_dirty_unkempt:new s.MJ(null),general_survey_stuporous:new s.MJ(null),general_survey_pale:new s.MJ(null),general_survey_non_ambulant:new s.MJ(null),general_survey_drowsy:new s.MJ(null),general_survey_respiratory:new s.MJ(null),general_survey_others:new s.MJ(null),gbv_general_survey_remarks:new s.MJ(null),pe_head_and_neck_remarks:new s.MJ(null),pe_chest_and_lungs_remarks:new s.MJ(null),pe_breast_remarks:new s.MJ(null),pe_abdomen_remarks:new s.MJ(null),pe_back_remarks:new s.MJ(null),pe_extremities_remarks:new s.MJ(null),pe_anogenital_remarks:new s.MJ(null),pe_external_genitalia_remarks:new s.MJ(null),pe_anus_remarks:new s.MJ(null),pe_hymen_remarks:new s.MJ(null),medical_impression_id:new s.MJ(null),medical_impression_remarks:new s.MJ(null),menarche_flag:new s.MJ(null),menarche_age:new s.MJ(null),lmp_date:new s.MJ(null),genital_discharge_uti_flag:new s.MJ(null),past_hospitalizations_flag:new s.MJ(null),past_hospital_remarks:new s.MJ(null),scar_physical_abuse_flag:new s.MJ(null),pertinent_med_history_flag:new s.MJ(null),medical_history_remarks:new s.MJ(null),summary_non_abuse_findings:new s.MJ(null)})}(),this.intakeForm=V(),this.modals=[],this.anogenitals=[],this.selected_exam={exam_title:"",url:"",save_url:"",var_id:"",arr_var_name:"",data:""},this.is_saving=!1,this.pdf_exported=!1,this.gbv_files=[],this.general_surveys=[{id:1,desc:"Normal",var_name:"general_survey_normal"},{id:2,desc:"Abnormal",var_name:"general_survey_abnormal"},{id:3,desc:"Stunting",var_name:"general_survey_stunting"},{id:4,desc:"Wasting",var_name:"general_survey_wasting"},{id:5,desc:"Dirty, Unkempt",var_name:"general_survey_dirty_unkempt"},{id:6,desc:"Stuporous",var_name:"general_survey_stuporous"},{id:7,desc:"Pale",var_name:"general_survey_pale"},{id:8,desc:"Non-ambulant",var_name:"general_survey_non_ambulant"},{id:9,desc:"Drowsy, Irritable",var_name:"general_survey_drowsy"},{id:10,desc:"Respiratory Distress",var_name:"general_survey_respiratory"},{id:11,desc:"Other Abnormality",var_name:"general_survey_others"}],this.physical_exams=[{desc:"Head and Neck",var_name:"pe_head_and_neck_remarks"},{desc:"Chest and Lungs",var_name:"pe_chest_and_lungs_remarks"},{desc:"Breast",var_name:"pe_breast_remarks"},{desc:"Abdomen",var_name:"pe_abdomen_remarks"},{desc:"Back",var_name:"pe_back_remarks"},{desc:"Extremities",var_name:"pe_extremities_remarks"},{desc:"Anogenital",var_name:"pe_anogenital_remarks"},{desc:"External Genitalia",var_name:"pe_external_genitalia_remarks"},{desc:"Anus",var_name:"pe_anus_remarks"},{desc:"Hymen",var_name:"pe_hymen_remarks"}],this.has_consent=!1,this.anogenital_exam=[],this.corporal_exam=[],this.behavioral_exam=[],this.fetchingFiles=!1,this.exportAsPdf={type:"pdf",elementIdOrContent:"medForm",options:{image:{type:"jpeg",quality:1},html2canvas:{scale:3},margin:[1,1,1,1],pagebreak:{mode:["avoid-all","css","legacy"]},jsPDF:{orientation:"landscape",format:"a4",precision:16}}}}ngOnInit(){this.loadLibraries(),console.log(this.selected_gbv_case)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok),e.rXU(T.a))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-medical"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},standalone:!1,decls:34,vars:16,consts:[[1,"border","border-slate-200","rounded-b-lg"],[1,"min-w-full","border","select-none"],[1,"mx-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-4","gap-4","w-full","mt-5"],[1,"col-span-4","border-b","border-slate-200","flex","justify-between","w-full","my-2","font-semibold","text-sky-500"],["type","button",1,"text-2xl","mr-5","text-red-600","disabled:text-gray-600",3,"click","disabled"],[3,"icon"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","id","consent_flag","formControlName","consent_flag",1,"input-checkbox"],["for","consent_flag",1,"pl-3","py-0.5"],[1,"col-span-2"],["for","consent_relation_to_child_id"],["name","consent_relation_to_child_id","id","consent_relation_to_child_id","formControlName","consent_relation_to_child_id",1,"input"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-4","flex","justify-center"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","grid grid-cols-3 gap-4 w-full mt-5",4,"ngIf"],[3,"selected_exam","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"gbv_id","patient_id","toggleFileModal",4,"ngIf"],[3,"selected_file_id","toggleModal",4,"ngIf"],[3,"selected_gbv_case","toggleExportPDF",4,"ngIf"],[3,"selected_gbv_case","toggleMedCert",4,"ngIf"],[3,"value"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-12","gap-4","mx-5"],["for","patient_temp",3,"ngClass"],["type","number","name","patient_temp","id","patient_temp","formControlName","patient_temp",1,"input",3,"ngClass"],["for","patient_heart_rate",3,"ngClass"],["type","number","name","patient_heart_rate","id","patient_heart_rate","formControlName","patient_heart_rate",1,"input",3,"ngClass"],["for","patient_resp_rate",3,"ngClass"],["type","number","name","patient_resp_rate","id","patient_resp_rate","formControlName","patient_resp_rate",1,"input",3,"ngClass"],["for","patient_weight",3,"ngClass"],["type","number","name","patient_weight","id","patient_weight","formControlName","patient_weight",1,"input",3,"ngClass"],["for","patient_height",3,"ngClass"],["type","number","name","patient_height","id","patient_height","formControlName","patient_height",1,"input",3,"ngClass"],[1,"col-span-12"],["type","checkbox","id","taking_medication_flag","formControlName","taking_medication_flag",1,"input-checkbox","mr-1.5"],["for","taking_medication_flag"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","grid","grid-cols-3"],[1,"col-span-3","font-semibold","text-sm"],["class","ml-5 my-0.5",4,"ngFor","ngForOf"],["class","col-span-3 mt-2",4,"ngIf"],["type","checkbox","id","menarche_flag","formControlName","menarche_flag",1,"input-checkbox","mr-1.5"],["for","menarche_flag"],["class","col-span-12 grid grid-cols-2 gap-4",4,"ngIf"],["type","checkbox","id","genital_discharge_uti_flag","formControlName","genital_discharge_uti_flag",1,"input-checkbox","mr-1.5"],["for","genital_discharge_uti_flag"],["type","checkbox","id","scar_physical_abuse_flag","formControlName","scar_physical_abuse_flag",1,"input-checkbox","mr-1.5"],["for","scar_physical_abuse_flag"],["type","checkbox","id","past_hospitalizations_flag","formControlName","past_hospitalizations_flag",1,"input-checkbox","mr-1.5"],["for","past_hospitalizations_flag"],["type","checkbox","id","pertinent_med_history_flag","formControlName","pertinent_med_history_flag",1,"input-checkbox","mr-1.5"],["for","pertinent_med_history_flag"],["for","summary_non_abuse_findings",3,"ngClass"],["rows","2","name","summary_non_abuse_findings","id","summary_non_abuse_findings","formControlName","summary_non_abuse_findings",1,"input",3,"ngClass"],["class","col-span-12 ml-5 mb-2",4,"ngFor","ngForOf"],["class","col-span-12 ml-5",4,"ngIf"],["class","col-span-12 grid grid-cols-3 gap-4 w-full mt-5",4,"ngIf"],[1,"col-span-12","ml-5","mb-2"],["for","medical_impression_id"],["name","medical_impression_id","id","medical_impression_id","formControlName","medical_impression_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-span-12","flex","justify-center"],["for","taking_medication_remarks",3,"ngClass"],["type","text","name","taking_medication_remarks","id","taking_medication_remarks","formControlName","taking_medication_remarks",1,"input",3,"ngClass"],[1,"ml-5","my-0.5"],["type","checkbox",1,"input-checkbox","mr-1.5",3,"formControlName"],[1,"col-span-3","mt-2"],["for","gbv_general_survey_remarks",3,"ngClass"],["type","text","name","gbv_general_survey_remarks","id","gbv_general_survey_remarks","formControlName","gbv_general_survey_remarks",1,"input",3,"ngClass"],[1,"col-span-12","grid","grid-cols-2","gap-4"],["for","menarche_age",3,"ngClass"],["type","number","name","menarche_age","id","menarche_age","formControlName","menarche_age",1,"input",3,"ngClass"],["for","lmp_date",3,"ngClass"],["type","date","name","lmp_date","id","lmp_date","formControlName","lmp_date",1,"input",3,"ngClass"],["for","past_hospital_remarks",3,"ngClass"],["type","text","name","past_hospital_remarks","id","past_hospital_remarks","formControlName","past_hospital_remarks",1,"input",3,"ngClass"],["for","medical_history_remarks",3,"ngClass"],["type","text","name","medical_history_remarks","id","medical_history_remarks","formControlName","medical_history_remarks",1,"input",3,"ngClass"],["for","summary_non_abuse_findings"],["rows","2",1,"input",3,"name","id","formControlName"],[1,"col-span-12","ml-5"],["for","medical_impression_remarks"],["rows","2","name","medical_impression_remarks","id","medical_impression_remarks","formControlName","medical_impression_remarks",1,"input"],[1,"col-span-12","grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],["class","min-h-24",4,"ngIf"],[1,"m-3"],[1,"text-center","uppercase","text-xs"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"border-t","border-slate-200"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","checked","",4,"ngIf"],["type","checkbox","checked","",1,"input-checkbox","disabled:bg-blue-500"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],["class","m-3",4,"ngIf"],["class","grid grid-cols-1",4,"ngIf"],[1,"text-center","uppercase","text-xs","w-1/12"],[1,"text-center","uppercase","text-xs","w-4/12"],[1,"text-center","uppercase","text-xs","w-6/12"],["class","border-t border-slate-200 my-3",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200","my-3"],[1,"py-2"],["type","button",1,"text-xs","px-3","py-1","bg-blue-500","text-white","rounded-md",3,"click"],[1,"grid","grid-cols-1"],[1,"flex","justify-center","text-sky-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"],[3,"toggleModal","selected_exam","intake_id","patient_id"],[3,"toggleFileModal","gbv_id","patient_id"],[3,"toggleModal","selected_file_id"],[3,"toggleExportPDF","selected_gbv_case"],[3,"toggleMedCert","selected_gbv_case"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"table",1)(2,"div",2)(3,"form",3),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(4,"div",4)(5,"div",5),e.EFF(6," Consent Details "),e.j41(7,"div")(8,"button",6),e.bIt("click",function(){return i.toggleExportPDF("export_pdf")}),e.nrm(9,"fa-icon",7),e.k0s()()(),e.j41(10,"div",8)(11,"div",9),e.nrm(12,"input",10),e.j41(13,"label",11),e.EFF(14,"The victim survivor/guardian has read, fully understood, and signed the consent form."),e.k0s()(),e.j41(15,"div",12)(16,"label",13),e.EFF(17,"Relation to victim survivor"),e.k0s(),e.j41(18,"select",14)(19,"option",15),e.EFF(20,"-"),e.k0s(),e.DNE(21,Ho,2,2,"option",16),e.k0s()()(),e.j41(22,"div",17)(23,"button",18),e.DNE(24,Uo,1,1,"fa-icon",19)(25,Lo,1,1,"fa-icon",20),e.EFF(26),e.k0s()()()(),e.DNE(27,hr,81,52,"form",21)(28,xr,12,4,"div",22),e.k0s()()(),e.DNE(29,Cr,1,3,"app-anogenital",23)(30,wr,1,2,"app-file-upload",24)(31,Ir,1,1,"app-view-file",25)(32,Er,1,1,"app-export-pdf",26)(33,Gr,1,1,"app-medical-certificate",27)),2&a&&(e.R7$(3),e.Y8G("formGroup",i.intakeForm),e.R7$(5),e.Y8G("disabled",i.pdf_exported),e.R7$(),e.Y8G("icon",i.faFilePdf),e.R7$(10),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.child_relations),e.R7$(2),e.Y8G("disabled",i.is_saving),e.R7$(),e.Y8G("ngIf",!i.is_saving),e.R7$(),e.Y8G("ngIf",i.is_saving),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "),e.R7$(),e.Y8G("ngIf",i.has_consent),e.R7$(),e.Y8G("ngIf",i.has_consent),e.R7$(),e.Y8G("ngIf",i.modals.anogenital),e.R7$(),e.Y8G("ngIf",i.modals.file_upload),e.R7$(),e.Y8G("ngIf",i.modals.view_file),e.R7$(),e.Y8G("ngIf",i.modals.export_pdf),e.R7$(),e.Y8G("ngIf",i.modals.med_cert))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY,oo,co,uo,Po,Ao,_.lG],encapsulation:2})}}return n})();const R=n=>({"text-red-500":n}),$=n=>({"invalid-input":n});function $r(n,o){if(1&n&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.facility.code),e.R7$(),e.Lme("",t.last_name,", ",t.first_name,"")}}function Mr(n,o){if(1&n){const t=e.RV6();e.j41(0,"form",12),e.bIt("submit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.j41(1,"div",13)(2,"div",14)(3,"label",15),e.EFF(4,"Date"),e.k0s(),e.nrm(5,"input",16),e.k0s(),e.j41(6,"div",14)(7,"label",17),e.EFF(8,"Refer to"),e.k0s(),e.j41(9,"select",18),e.DNE(10,$r,2,3,"option",19),e.k0s()(),e.j41(11,"div",20),e.nrm(12,"input",21),e.j41(13,"label",22),e.EFF(14,"For medico legal"),e.k0s()(),e.j41(15,"div",20)(16,"label",23),e.EFF(17,"Referral reason"),e.k0s(),e.j41(18,"textarea",24),e.EFF(19,"              "),e.k0s()(),e.j41(20,"div",20)(21,"label",25),e.EFF(22,"Services requested"),e.k0s(),e.j41(23,"textarea",26),e.EFF(24,"              "),e.k0s()(),e.j41(25,"div",20)(26,"label",27),e.EFF(27,"Remarks"),e.k0s(),e.j41(28,"textarea",28),e.EFF(29,"              "),e.k0s()()()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.referralForm),e.R7$(3),e.Y8G("ngClass",e.eq3(12,R,t.show_error&&t.f.referral_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(14,$,t.show_error&&t.f.referral_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(16,R,t.show_error&&t.f.referral_facility_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(18,$,t.show_error&&t.f.referral_facility_code.errors)),e.R7$(),e.Y8G("ngForOf",t.facilities),e.R7$(6),e.Y8G("ngClass",e.eq3(20,R,t.show_error&&t.f.referral_reason.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(22,$,t.show_error&&t.f.referral_reason.errors)),e.R7$(3),e.Y8G("ngClass",e.eq3(24,R,t.show_error&&t.f.service_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(26,$,t.show_error&&t.f.service_remarks.errors)),e.R7$(3),e.Y8G("ngClass",e.eq3(28,R,t.show_error&&t.f.referral_remarks.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(30,$,t.show_error&&t.f.referral_remarks.errors))}}function Yr(n,o){if(1&n&&(e.j41(0,"div",30)(1,"span",31),e.nrm(2,"fa-icon",32),e.k0s(),e.j41(3,"span",33),e.EFF(4," Loading... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}let Nr=(()=>{class n{onSubmit(){let t;this.is_saving=!0,t=this.referralForm.value.id?this.http.update("gender-based-violence/patient-gbv-referral/",this.referralForm.value.id,this.referralForm.value):this.http.post("gender-based-violence/patient-gbv-referral",this.referralForm.value),t.subscribe({next:a=>{console.log(a),this.is_saving=!1,this.toastr.success("Successfully recorded","Referral"),this.closeModal()},error:a=>console.log(a)})}get f(){return this.referralForm.controls}createForm(){this.referralForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[this.selected_gbv_case.id],referral_facility_code:[null],referral_date:[null],medico_legal_flag:[null],referral_reason:[null],service_remarks:[null],referral_remarks:[null]}),this.selected_data&&this.referralForm.patchValue({...this.selected_data}),this.show_form=!0}loadLibraries(){this.http.get("gender-based-violence/patient-gbv-user",{params:{per_page:"all"}}).subscribe({next:t=>{this.facilities=t.data,this.createForm()}})}closeModal(){this.toggleModal.emit("referral")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faCircleNotch=c.s4k,this.faSave=f.hSh,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.referralForm=new s.gE({id:new s.MJ(""),patient_id:new s.MJ(""),patient_gbv_id:new s.MJ(""),referral_facility_code:new s.MJ(""),referral_date:new s.MJ(""),medico_legal_flag:new s.MJ(null),referral_reason:new s.MJ(""),service_remarks:new s.MJ(""),referral_remarks:new s.MJ("")})}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-referral-modal"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:16,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","referral_date",3,"ngClass"],["type","date","name","referral_date","id","referral_date","formControlName","referral_date",1,"input",3,"ngClass"],["for","referral_facility_code",3,"ngClass"],["name","referral_facility_code","id","referral_facility_code","formControlName","referral_facility_code",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-4"],["type","checkbox","id","medico_legal_flag","formControlName","medico_legal_flag",1,"input-checkbox"],["for","medico_legal_flag",1,"pl-2"],["for","referral_reason",3,"ngClass"],["type","text","name","referral_reason","id","referral_reason","formControlName","referral_reason",1,"input",3,"ngClass"],["for","service_remarks",3,"ngClass"],["type","text","name","service_remarks","id","service_remarks","formControlName","service_remarks",1,"input",3,"ngClass"],["for","referral_remarks",3,"ngClass"],["type","text","name","referral_remarks","id","referral_remarks","formControlName","referral_remarks",1,"input",3,"ngClass"],[3,"value"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center","text-blue-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Referral "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,Mr,30,32,"form",6)(8,Yr,5,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return i.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return i.onSubmit()}),e.nrm(13,"fa-icon"),e.EFF(14),e.k0s()()()()(),e.nrm(15,"div",11)),2&a&&(e.R7$(7),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(4),e.Y8G("disabled",i.is_saving||i.referralForm.invalid),e.R7$(2),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.YU,_.Sq,_.bT,s.qT,s.xH,s.y7,s.me,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function Tr(n,o){1&n&&(e.j41(0,"div",11)(1,"span",12),e.EFF(2," No records to show "),e.k0s()())}function Dr(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",18)(1,"td",19)(2,"fa-icon",20),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.toggleModal("referral",i))}),e.k0s()(),e.j41(3,"td",19),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",19),e.EFF(7),e.k0s(),e.j41(8,"td",19),e.EFF(9),e.k0s(),e.j41(10,"td",19),e.EFF(11," For medico legal: "),e.nrm(12,"br"),e.EFF(13),e.nrm(14,"br")(15,"br"),e.EFF(16," Referral reason: "),e.nrm(17,"br"),e.EFF(18),e.nrm(19,"br")(20,"br"),e.EFF(21," Service request: "),e.nrm(22,"br"),e.EFF(23),e.nrm(24,"br")(25,"br"),e.EFF(26," Remarks: "),e.nrm(27,"br"),e.EFF(28),e.nrm(29,"br"),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("icon",a.faEdit),e.R7$(2),e.SpI(" ",e.brH(5,8,t.referral_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",t.facility.facility_name," "),e.R7$(2),e.SpI(" ",t.referral.facility_name," "),e.R7$(4),e.SpI(" ",t.medico_legal_flag?"Yes":"No",""),e.R7$(5),e.SpI(" ",t.referral_reason,""),e.R7$(5),e.SpI(" ",t.service_remarks,""),e.R7$(5),e.SpI(" ",t.referral_remarks,"")}}function Sr(n,o){if(1&n&&(e.j41(0,"table",13)(1,"thead")(2,"tr"),e.nrm(3,"td",14),e.j41(4,"td",15),e.EFF(5," Date "),e.k0s(),e.j41(6,"td",16),e.EFF(7," Referring Facility "),e.k0s(),e.j41(8,"td",16),e.EFF(9," Referred to "),e.k0s(),e.j41(10,"td",16),e.EFF(11," Services/Reasons "),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,Dr,30,12,"tr",17),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(13),e.Y8G("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral)}}function Xr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"spa"),e.EFF(6,"Referral"),e.k0s(),e.j41(7,"button",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleModal("referral"))}),e.nrm(8,"fa-icon",8),e.k0s()(),e.DNE(9,Tr,3,0,"div",9)(10,Sr,14,1,"table",10),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("icon",t.faPlus),e.R7$(),e.Y8G("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral.length)),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral.length)>0)}}function Jr(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-referral-modal",21),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("selected_data",t.selected_data)}}let Vr=(()=>{class n{reloadData(){let t={id:this.selected_gbv_case.id};console.log(t),this.http.get("gender-based-violence/patient-gbv",{params:t}).subscribe({next:a=>{console.log(a),this.selected_gbv_case=a.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case)},error:a=>console.log(a)})}toggleModal(t,a){this.selected_data=a,this.modals[t]=!this.modals[t],this.modals[t]||this.reloadData()}constructor(t,a){this.http=t,this.toastr=a,this.updateSelectedGbv=new e.bkB,this.faPlus=c.QLR,this.faEdit=f.MT7,this.faSave=f.hSh,this.show_form=!0,this.modals=[],this.referrals=[],this.selected_data=[]}ngOnInit(){this.referrals=this.selected_gbv_case.gbvReferral}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-referral"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},standalone:!1,decls:2,vars:2,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"patient_id","selected_gbv_case","selected_data","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","m-5"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"w-1/12"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"click","icon"],[3,"toggleModal","patient_id","selected_gbv_case","selected_data"]],template:function(a,i){1&a&&e.DNE(0,Xr,11,3,"div",0)(1,Jr,1,3,"app-referral-modal",1),2&a&&(e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",i.modals.referral))},dependencies:[_.Sq,_.bT,m.aY,Nr,_.vh],encapsulation:2})}}return n})();function qr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",18),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_complaints[r.complaint_id],i)||(l.patient_complaints[r.complaint_id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",19),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_complaints",t.complaint_id,""),e.R50("ngModel",a.patient_complaints[t.complaint_id]),e.R7$(),e.x72("for","patient_complaints",t.complaint_id,""),e.R7$(),e.JRh(t.complaint_desc)}}function Or(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",18),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_behavior[r.id],i)||(l.patient_behavior[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",19),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_behavior",t.id,""),e.R50("ngModel",a.patient_behavior[t.id]),e.R7$(),e.x72("for","patient_behavior",t.id,""),e.R7$(),e.JRh(t.desc)}}function Br(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",18),e.mxI("ngModelChange",function(i){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.DH7(l.patient_neglect[r.id],i)||(l.patient_neglect[r.id]=i),e.Njj(i)}),e.k0s(),e.j41(2,"label",19),e.EFF(3),e.k0s()()}if(2&n){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.x72("id","patient_neglect",t.id,""),e.R50("ngModel",a.patient_neglect[t.id]),e.R7$(),e.x72("for","patient_neglect",t.id,""),e.R7$(),e.JRh(t.desc)}}function Pr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"label",8),e.EFF(2,"Referral reason"),e.k0s(),e.j41(3,"textarea",21),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.patient_gbv.referral_reason,i)||(r.patient_gbv.referral_reason=i),e.Njj(i)}),e.EFF(4,"          "),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.patient_gbv.referral_reason)}}function Ar(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"label",8),e.EFF(3,"Date"),e.k0s(),e.j41(4,"input",9),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_gbv.gbv_date,i)||(r.patient_gbv.gbv_date=i),e.Njj(i)}),e.k0s()(),e.j41(5,"div",10),e.EFF(6," Complaints "),e.k0s(),e.j41(7,"div",11),e.DNE(8,qr,4,6,"div",12),e.k0s(),e.j41(9,"div",13)(10,"label",14),e.EFF(11,"Remarks"),e.k0s(),e.j41(12,"input",15),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_gbv.gbv_complaint_remarks,i)||(r.patient_gbv.gbv_complaint_remarks=i),e.Njj(i)}),e.k0s()(),e.j41(13,"div",10),e.EFF(14," Behavioral Changes "),e.k0s(),e.j41(15,"div",11),e.DNE(16,Or,4,6,"div",12),e.k0s(),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Remarks"),e.k0s(),e.j41(20,"input",15),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_gbv.gbv_behavioral_remarks,i)||(r.patient_gbv.gbv_behavioral_remarks=i),e.Njj(i)}),e.k0s()(),e.j41(21,"div",10),e.EFF(22," Neglects "),e.k0s(),e.j41(23,"div",11),e.DNE(24,Br,4,6,"div",12),e.k0s(),e.j41(25,"div",13)(26,"label",14),e.EFF(27,"Remarks"),e.k0s(),e.j41(28,"input",16),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.patient_gbv.gbv_neglect_remarks,i)||(r.patient_gbv.gbv_neglect_remarks=i),e.Njj(i)}),e.k0s()(),e.DNE(29,Pr,5,1,"div",17),e.k0s()}if(2&n){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.patient_gbv.gbv_date),e.R7$(4),e.Y8G("ngForOf",t.complaints),e.R7$(4),e.R50("ngModel",t.patient_gbv.gbv_complaint_remarks),e.R7$(4),e.Y8G("ngForOf",t.behavioral_changes),e.R7$(4),e.R50("ngModel",t.patient_gbv.gbv_behavioral_remarks),e.R7$(4),e.Y8G("ngForOf",t.neglects),e.R7$(4),e.R50("ngModel",t.patient_gbv.gbv_neglect_remarks),e.R7$(),e.Y8G("ngIf",t.patient_gbv.referral_reason)}}function Hr(n,o){if(1&n&&(e.j41(0,"div",22)(1,"div",23),e.nrm(2,"fa-icon",24),e.k0s(),e.j41(3,"div",25),e.EFF(4," Loading... "),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function Ur(n,o){if(1&n&&e.nrm(0,"fa-icon",30),2&n){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Lr(n,o){if(1&n&&e.nrm(0,"fa-icon",31),2&n){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function zr(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",26)(1,"button",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.DNE(2,Ur,1,1,"fa-icon",28)(3,Lr,1,1,"fa-icon",29),e.EFF(4),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("disabled",t.is_saving||!t.patient_gbv.gbv_date),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.patient_gbv.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}let Wr=(()=>{class n{onSubmit(){this.is_saving=!0;let t=[],a=[],i=[];this.patient_gbv.patient_id=this.patient_id,Object.entries(this.patient_complaints).forEach(([r,l],d)=>{!0===l&&t.push({complaint_id:r})}),Object.entries(this.patient_behavior).forEach(([r,l],d)=>{!0===l&&a.push({behavioral_id:r})}),Object.entries(this.patient_neglect).forEach(([r,l],d)=>{!0===l&&i.push({neglect_id:r})}),this.patient_gbv.complaint=t,this.patient_gbv.behavior=a,this.patient_gbv.neglect=i,console.log(this.patient_gbv),this.http.post("gender-based-violence/patient-gbv",this.patient_gbv).subscribe({next:r=>{console.log(r),this.toastr.success("Successfully recorded!","GBV Referral"),this.is_saving=!1,this.getGbvHistory.emit()},error:r=>console.log(r)})}reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:a=>{this.selected_gbv_case=a.data[0]},error:a=>console.log(a)})}loadLibraries(){const t=this.http.get("libraries/gbv-neglect"),a=this.http.get("libraries/gbv-behavioral"),i=this.http.get("libraries/complaint",{params:{query_type:"gbv_complaints"}}),r=this.http.get("users",{params:{per_page:"all",designation_code:"MD"}});(0,G.p)([t,a,i,r]).subscribe({next:([l,d,u,w])=>{this.neglects=l.data,this.behavioral_changes=d.data,this.complaints=u.data,this.gbv_mdts=w.data,this.checkOpenGbv(),this.show_form=!0},error:l=>console.log(l)})}checkOpenGbv(){this.selected_gbv_case&&(this.patient_gbv={...this.selected_gbv_case},this.patient_gbv.gbv_date=(0,_.Yq)(this.patient_gbv.gbv_date,"yyyy-MM-dd","en","Asia/Manila"),this.patient_gbv.referral_reason=this.patient_gbv.gbvReferral.length>0?this.patient_gbv.gbvReferral[0].referral_reason:null,this.selected_gbv_case.gbvComplaint&&(this.patient_complaints=this.checkSelection(this.selected_gbv_case.gbvComplaint,"complaint_id")),this.selected_gbv_case.gbvBehavior&&(this.patient_behavior=this.checkSelection(this.selected_gbv_case.gbvBehavior,"behavioral_id")),this.selected_gbv_case.gbvNeglect&&(this.patient_neglect=this.checkSelection(this.selected_gbv_case.gbvNeglect,"neglect_id")))}checkSelection(t,a){let i=[];return Object.entries(t).forEach(([r,l],d)=>{i[l[a]]=!0}),i}loadComplaints(){}constructor(t,a){this.http=t,this.toastr=a,this.getGbvHistory=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.show_form=!1,this.gbv_mdts=[],this.patient_complaints=[],this.patient_behavior=[],this.patient_neglect=[],this.patient_gbv={id:null,patient_id:"",gbv_date:"",gbv_complaint_remarks:"",gbv_behavioral_remarks:"",gbv_neglect_remarks:"",referral_reason:"",complaint:[],behavior:[],neglect:[],gbvReferral:null}}ngOnChanges(t){this.checkOpenGbv()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-triage"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{getGbvHistory:"getGbvHistory"},standalone:!1,features:[e.OA$],decls:6,vars:3,consts:[[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],["class","col-span-4 grid grid-cols-4 gap-4",4,"ngIf"],["class","col-span-4 grid grid-cols-4 gap-4 mt-20",4,"ngIf"],["class","flex justify-center mt-5",4,"ngIf"],[1,"col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","case_number"],["type","date","name","gbv_date","id","gbv_date",1,"input",3,"ngModelChange","ngModel"],[1,"col-span-4","font-semibold","text-sky-500","mt-5","border-b","border-slate-200"],[1,"col-span-4","grid","grid-cols-3","gap-4"],[4,"ngFor","ngForOf"],[1,"col-span-4","flex"],[1,"mt-2","pr-3"],["type","text",1,"input",3,"ngModelChange","ngModel"],["type","text","name","patient_neglect_remarks","id","patient_neglect_remarks",1,"input",3,"ngModelChange","ngModel"],["class","col-span-4",4,"ngIf"],["type","checkbox",1,"input-checkbox",3,"ngModelChange","ngModel"],[1,"pl-3","py-0.5"],[1,"col-span-4"],["type","text","name","referral_reason","id","referral_reason",1,"input",3,"ngModelChange","ngModel"],[1,"col-span-4","grid","grid-cols-4","gap-4","mt-20"],[1,"col-span-4","flex","justify-center","text-blue-500"],["animation","spin",3,"icon"],[1,"col-span-4","flex","justify-center"],[1,"flex","justify-center","mt-5"],["type","button",1,"btn-save","mr-5","mt-4",3,"click","disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,Ar,30,8,"div",3)(4,Hr,5,1,"div",4),e.k0s(),e.DNE(5,zr,5,4,"div",5),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("ngIf",i.show_form),e.R7$(),e.Y8G("ngIf",!i.show_form),e.R7$(),e.Y8G("ngIf",i.show_form))},dependencies:[_.Sq,_.bT,s.me,s.Zm,s.BC,s.vS,m.aY],encapsulation:2})}}return n})();function Qr(n,o){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Zr(n,o){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function Kr(n,o){if(1&n&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}let el=(()=>{class n{onSubmit(){this.is_saving=!0,this.http.update("gender-based-violence/patient-gbv/",this.caseOutcomeForm.value.id,this.caseOutcomeForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Case Outcome"),this.closeModal()}})}createForm(){this.caseOutcomeForm=this.formBuilder.group({id:[this.selected_gbv_case.id],patient_id:[this.selected_gbv_case.patient_id],outcome_date:[null,s.k0.required],outcome_reason_id:[null],outcome_reason_remarks:[null],outcome_result_id:[null],outcome_result_remarks:[null],outcome_verdict_id:[null],outcome_remarks:[null]})}loadLibraries(){const t=this.http.get("libraries/gbv-outcome-reason"),a=this.http.get("libraries/gbv-outcome-result"),i=this.http.get("libraries/gbv-outcome-verdict");(0,G.p)([t,a,i]).subscribe({next:([r,l,d])=>{this.outcome_reasons=r.data,this.outcome_results=l.data,this.outcome_verdicts=d.data,this.createForm()},error:r=>console.log(r)})}closeModal(){this.toggleModal.emit("case_outcome")}constructor(t,a,i){this.http=t,this.toastr=a,this.formBuilder=i,this.toggleModal=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=c.s4k,this.is_saving=!1,this.caseOutcomeForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),outcome_date:new s.MJ(null),outcome_reason_id:new s.MJ(null),outcome_reason_remarks:new s.MJ(null),outcome_result_id:new s.MJ(null),outcome_result_remarks:new s.MJ(null),outcome_verdict_id:new s.MJ(null)}),this.outcome_reasons=[],this.outcome_results=[],this.outcome_verdicts=[]}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(g.tw),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-case-outcome"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:43,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"submit","formGroup"],[1,"grid","grid-cols-3","gap-4"],[1,"col-span-3"],["for","outcome_date"],["type","date","name","outcome_date","id","outcome_date","formControlName","outcome_date",1,"input"],["for","outcome_reason_id"],["name","outcome_reason_id","id","outcome_reason_id","formControlName","outcome_reason_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-2"],["for","outcome_reason_remarks"],["type","text","name","outcome_reason_remarks","id","outcome_reason_remarks","formControlName","outcome_reason_remarks",1,"input"],["for","outcome_result_id"],["name","outcome_result_id","id","outcome_result_id","formControlName","outcome_result_id",1,"input"],["for","outcome_result_remarks"],["type","text","name","outcome_result_remarks","id","outcome_result_remarks","formControlName","outcome_result_remarks",1,"input"],["for","outcome_verdict_id"],["name","outcome_verdict_id","id","outcome_verdict_id","formControlName","outcome_verdict_id",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Case Outcome "),e.k0s()(),e.j41(6,"div",5)(7,"form",6),e.bIt("submit",function(){return i.onSubmit()}),e.j41(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11,"Outcome Date"),e.k0s(),e.nrm(12,"input",10),e.k0s(),e.j41(13,"div")(14,"label",11),e.EFF(15,"Outcome Reason"),e.k0s(),e.j41(16,"select",12),e.DNE(17,Qr,2,2,"option",13),e.k0s()(),e.j41(18,"div",14)(19,"label",15),e.EFF(20,"Outcome reason remarks"),e.k0s(),e.nrm(21,"input",16),e.k0s(),e.j41(22,"div")(23,"label",17),e.EFF(24,"Outcome Result"),e.k0s(),e.j41(25,"select",18),e.DNE(26,Zr,2,2,"option",13),e.k0s()(),e.j41(27,"div",14)(28,"label",19),e.EFF(29,"Outcome result remarks"),e.k0s(),e.nrm(30,"input",20),e.k0s(),e.j41(31,"div",8)(32,"label",21),e.EFF(33,"Outcome Verdict"),e.k0s(),e.j41(34,"select",22),e.DNE(35,Kr,2,2,"option",13),e.k0s()()()()(),e.j41(36,"div",23)(37,"button",24),e.bIt("click",function(){return i.closeModal()}),e.EFF(38,"Close"),e.k0s(),e.j41(39,"button",25),e.bIt("click",function(){return i.onSubmit()}),e.nrm(40,"fa-icon",26),e.EFF(41),e.k0s()()()()(),e.nrm(42,"div",27)),2&a&&(e.R7$(7),e.Y8G("formGroup",i.caseOutcomeForm),e.R7$(10),e.Y8G("ngForOf",i.outcome_reasons),e.R7$(9),e.Y8G("ngForOf",i.outcome_results),e.R7$(9),e.Y8G("ngForOf",i.outcome_verdicts),e.R7$(4),e.Y8G("disabled",i.is_saving||i.caseOutcomeForm.invalid),e.R7$(),e.Y8G("icon",i.is_saving?i.faCircleNotch:i.faSave),e.R7$(),e.SpI(" ",i.is_saving?"Saving":"Save"," "))},dependencies:[_.Sq,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,m.aY],encapsulation:2})}}return n})();function tl(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.switchPage(2))}),e.EFF(1," DETAILS "),e.k0s()}if(2&n){const t=e.XpG();e.HbH(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function nl(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleModal("case_outcome"))}),e.EFF(1," Case Outcome "),e.k0s()}}function il(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab(2))}),e.EFF(1," Intake "),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(2===t.module?"tabs-main-true":"tabs-main-false")}}function al(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab(3))}),e.EFF(1," Interview "),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(3===t.module?"tabs-main-true":"tabs-main-false")}}function sl(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab(4))}),e.EFF(1," Medical "),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(4===t.module?"tabs-main-true":"tabs-main-false")}}function ol(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab(5))}),e.EFF(1," Intervention "),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(5===t.module?"tabs-main-true":"tabs-main-false")}}function rl(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.switchTab(6))}),e.EFF(1," Referral "),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(6===t.module?"tabs-main-true":"tabs-main-false")}}function ll(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("treatment_outcome"))}),e.EFF(1," Case Outome "),e.k0s()}}function _l(n,o){if(1&n){const t=e.RV6();e.j41(0,"nav",12)(1,"div",13)(2,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.switchTab(1))}),e.EFF(3," Triage "),e.k0s(),e.DNE(4,il,2,2,"button",15)(5,al,2,2,"button",15)(6,sl,2,2,"button",15)(7,ol,2,2,"button",15)(8,rl,2,2,"button",15),e.k0s(),e.j41(9,"div",13),e.DNE(10,ll,2,0,"button",16),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.HbH(1===t.module?"tabs-main-true":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",t.selected_gbv_case),e.R7$(),e.Y8G("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake),e.R7$(),e.Y8G("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake)&&"MD"===t.pos),e.R7$(),e.Y8G("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake),e.R7$(),e.Y8G("ngIf",t.selected_gbv_case),e.R7$(2),e.Y8G("ngIf",t.selected_gbv_case&&0===t.selected_gbv_case.treatment_done)}}function dl(n,o){1&n&&(e.j41(0,"div",22),e.EFF(1," You are not allowed to access this module. "),e.k0s())}function cl(n,o){if(1&n&&(e.j41(0,"div",23)(1,"div",24),e.nrm(2,"fa-icon",25),e.k0s(),e.j41(3,"div",26),e.EFF(4,"Fetching history..."),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function pl(n,o){if(1&n){const t=e.RV6();e.j41(0,"tr",32)(1,"td",33),e.EFF(2),e.k0s(),e.j41(3,"td",33),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",33),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",33),e.EFF(10),e.k0s(),e.j41(11,"td",33)(12,"button",34),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.openGbvConsult(i))}),e.EFF(13),e.k0s()()()}if(2&n){let t,a;const i=o.$implicit;e.R7$(2),e.SpI(" ",null!==(t=null==i.gbvIntake?null:i.gbvIntake.case_number)&&void 0!==t?t:"For GBV Assessment"," "),e.R7$(2),e.SpI(" ",e.brH(5,8,i.gbv_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.brH(8,12,i.outcome_date,"MM/dd/yyyy",null!==(a="Asia/Manila")&&void 0!==a?a:"-")," "),e.R7$(3),e.LHq(" ",i.outcome_reason||i.outcome_result||i.outcome_verdict?"":"Open"," ",i.outcome_reason?"Reason: "+i.outcome_reason.desc:""," ",i.outcome_result?"Result: "+i.outcome_result.desc:""," ",i.outcome_verdict?"Verdict: "+i.outcome_verdict.desc:""," "),e.R7$(3),e.SpI(" ",i.outcome_reason||i.outcome_result||i.outcome_verdict?"View":"Open"," ")}}function ml(n,o){1&n&&(e.j41(0,"tr",32)(1,"td",35)(2,"div",36)(3,"div",37),e.EFF(4,"No records to show..."),e.k0s()()()())}function ul(n,o){if(1&n&&(e.j41(0,"table",27)(1,"thead",28)(2,"tr")(3,"th",29),e.EFF(4,"Case No."),e.k0s(),e.j41(5,"th",29),e.EFF(6,"Date"),e.k0s(),e.j41(7,"th",29),e.EFF(8,"Outcome Date"),e.k0s(),e.j41(9,"th",29),e.EFF(10,"Status"),e.k0s(),e.j41(11,"th",29),e.EFF(12,"Action"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,pl,14,16,"tr",30)(15,ml,5,0,"tr",31),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(14),e.Y8G("ngForOf",t.patient_gbv_history),e.R7$(),e.Y8G("ngIf",0===t.patient_gbv_history.length)}}function fl(n,o){if(1&n&&(e.j41(0,"div",18),e.DNE(1,dl,2,0,"div",19)(2,cl,5,1,"div",20)(3,ul,16,2,"table",21),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.arr_allowed.indexOf(t.pos)<0),e.R7$(),e.Y8G("ngIf",t.fetching_history&&t.arr_allowed.indexOf(t.pos)>-1),e.R7$(),e.Y8G("ngIf",!t.fetching_history&&t.arr_allowed.indexOf(t.pos)>-1)}}function gl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-triage",38),e.bIt("getGbvHistory",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.getGbvHistory())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function vl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-intake",39),e.bIt("updateSelectedGbv",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.updateSelectedGbv(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function bl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-interview",39),e.bIt("updateSelectedGbv",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.updateSelectedGbv(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function hl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-medical",39),e.bIt("updateSelectedGbv",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.updateSelectedGbv(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function kl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-intervention",39),e.bIt("updateSelectedGbv",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.updateSelectedGbv(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function Fl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-referral",39),e.bIt("updateSelectedGbv",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.updateSelectedGbv(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function yl(n,o){if(1&n){const t=e.RV6();e.j41(0,"app-case-outcome",40),e.bIt("toggleModal",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}const jl=[{path:"",component:(()=>{class n{toggleModal(t){this.modals[t]=!this.modals[t],this.modals[t]||this.getGbvHistory()}switchPage(t){1===t&&this.getGbvHistory(),this.pages=t}switchTab(t){this.module=t}openGbvConsult(t){this.selected_gbv_case=t,this.pages=2}updateSelectedGbv(t){this.selected_gbv_case=t}getGbvHistory(){this.fetching_history=!0,this.selected_gbv_case=void 0,this.http.get("gender-based-violence/patient-gbv",{params:{patient_id:this.patient_id}}).subscribe({next:t=>{this.patient_gbv_history=t.data,Object.keys(this.patient_gbv_history).length>0&&(this.selected_gbv_case=this.patient_gbv_history[0].outcome_date?null:this.patient_gbv_history[0]),this.fetching_history=!1},error:t=>console.log(t)})}constructor(t,a){this.http=t,this.route=a,this.faCircleNotch=c.s4k,this.faDoorClosed=c.K_I,this.pages=1,this.module=1,this.show_form=!1,this.fetching_history=!0,this.modals=[],this.arr_allowed=["MD","WCPD","MSWDO"]}ngOnInit(){this.patient_id=this.route.snapshot.paramMap.get("id"),this.user_facility=this.http.getUserFacility(),this.pos=this.http.getUserFromJSON().designation_code?this.http.getUserFromJSON().designation_code:this.http.getUserFromJSON().designation.code,this.arr_allowed.indexOf(this.pos)>-1&&this.getGbvHistory()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(p.k),e.rXU(N.nX))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-gbv"]],standalone:!1,decls:16,vars:13,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full border border-gray-200 shadow-md rounded-xl",4,"ngIf"],[3,"patient_id","selected_gbv_case","pos","getGbvHistory",4,"ngIf"],[3,"patient_id","selected_gbv_case","pos","updateSelectedGbv",4,"ngIf"],[3,"selected_gbv_case","pos","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],["type","button","class","bg-rose-500 px-3 py-2  rounded text-white hover:opacity-75",3,"click",4,"ngIf"],["type","button",1,"bg-rose-500","px-3","py-2","rounded","text-white","hover:opacity-75",3,"click"],[1,"my-5","w-full","border","border-gray-200","shadow-md","rounded-xl"],["class","flex justify-center my-24 italic",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","w-full text-sm text-left",4,"ngIf"],[1,"flex","justify-center","my-24","italic"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["animation","spin",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semi","bold"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],["colspan","7"],[1,"text-center","py-3","flex","flex-col"],[1,"flex","justify-center"],[3,"getGbvHistory","patient_id","selected_gbv_case","pos"],[3,"updateSelectedGbv","patient_id","selected_gbv_case","pos"],[3,"toggleModal","selected_gbv_case","pos"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"nav",1)(2,"button",2),e.bIt("click",function(){return i.switchPage(1)}),e.EFF(3," ARCHIVE "),e.k0s(),e.DNE(4,tl,2,2,"button",3),e.k0s(),e.j41(5,"div",4),e.DNE(6,nl,2,0,"button",5),e.k0s()(),e.DNE(7,_l,11,8,"nav",6)(8,fl,4,3,"div",7)(9,gl,1,3,"app-triage",8)(10,vl,1,3,"app-intake",9)(11,bl,1,3,"app-interview",9)(12,hl,1,3,"app-medical",9)(13,kl,1,3,"app-intervention",9)(14,Fl,1,3,"app-referral",9)(15,yl,1,2,"app-case-outcome",10)),2&a&&(e.R7$(2),e.HbH(1===i.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",i.arr_allowed.indexOf(i.pos)>-1),e.R7$(2),e.Y8G("ngIf",i.selected_gbv_case&&!(null!=i.selected_gbv_case&&i.selected_gbv_case.outcome_date)),e.R7$(),e.Y8G("ngIf",2===i.pages),e.R7$(),e.Y8G("ngIf",1===i.pages),e.R7$(),e.Y8G("ngIf",2===i.pages&&1===i.module),e.R7$(),e.Y8G("ngIf",2===i.pages&&2===i.module),e.R7$(),e.Y8G("ngIf",2===i.pages&&3===i.module),e.R7$(),e.Y8G("ngIf",2===i.pages&&4===i.module),e.R7$(),e.Y8G("ngIf",2===i.pages&&5===i.module),e.R7$(),e.Y8G("ngIf",2===i.pages&&6===i.module),e.R7$(),e.Y8G("ngIf",i.modals.case_outcome))},dependencies:[_.Sq,_.bT,m.aY,Ut,ia,io,Rr,Vr,Wr,el,_.vh],encapsulation:2})}}return n})()}];let xl=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.iI.forChild(jl),N.iI]})}}return n})();const Cl=null;let wl=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[(0,q.Dw)()],imports:[_.MD,xl,s.YN,s.X1,T.x,m.dX]})}}return n})()}}]);