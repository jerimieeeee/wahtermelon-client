<div class="flex w-full justify-center">
  <div class="w-2/6 rounded-lg mt-36">
    <div class="flex justify-center text-gray-700 text-xl font-semibold p-5">
      Reset your password
    </div>
    <div class="flex text-gray-700">
      <div class="p-5 w-full">
        <span *ngIf="!is_sent">To reset you password please provide us your email and we will email you instructions on how to reset your password.</span>
        <span class="flex w-full justify-center" *ngIf="is_sent">We have sent you an email to reset you password.</span>
        <!-- <span></span> -->
        <form *ngIf="!is_sent" [formGroup]="userForm" (ngSubmit)="onSubmit()">
          <div class="mt-5">
            <label for="email" class="input-label">email</label>
            <input type="email" name="email" id="email" class="input" formControlName="email" email>

            <div *ngIf="is_saving && f.email.errors" class="invalid-alert">
              <div *ngIf="f.email.errors?.['required']">
                {{ required_message }}
              </div>
              <div *ngIf="f.email.errors?.['email']">
                Not a valid email format
              </div>
            </div>
          </div>

          <div *ngIf="submit_errors" class="bg-red-200 p-2 w-full rounded-md border border-red-300 text-sm mt-5">
            <ul class="list-disc pl-5">
              <li *ngFor="let error of submit_errors | keyvalue">{{ error.key }}: {{ error.value }}</li>
            </ul>
          </div>

          <div class="w-full pt-3">
            <button [disabled]="userForm.invalid" type="submit" class="btn-save w-full disabled:bg-gray-400">
              <fa-icon *ngIf="is_saving" class="pr-2" [icon]="faSpinner" animation="spin"></fa-icon>
              {{ is_saving ? 'Sending' : 'Send email recovery'}} </button>
          </div>
        </form>

        <div *ngIf="is_sent" class="w-full flex pt-3 justify-center">
          <button type="submit" class="btn-save" (click)="backtoLogin()">
            <fa-icon class="pr-2" [icon]="faArrowLeft"></fa-icon>
            Back to login
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
