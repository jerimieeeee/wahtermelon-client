"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[810],{4810:(zn,x,p)=>{p.r(x),p.d(x,{MaternalcareModule:()=>Dn});var l=p(6814),b=p(3602),d=p(590),e=p(5879),v=p(265),h=p(2425),f=p(5597),y=p(279),w=p(640),C=p(4593),s=p(6223);function T(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Z(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,T,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.pre_registration_date.errors?null:t.mcr_form.controls.pre_registration_date.errors.required)}}function k(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"h3",31),e._uU(2,"Registration Date"),e.qZA(),e.TgZ(3,"div",32)(4,"div",33),e._UZ(5,"fa-icon",34),e.qZA(),e.TgZ(6,"input",35),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()(),e.YNc(7,Z,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA")),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.pre_registration_date.errors)}}function q(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function M(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,q,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.lmp_date.errors?null:t.mcr_form.controls.lmp_date.errors.required)}}function I(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"h3",39),e._uU(2,"LMP Date"),e.qZA(),e.TgZ(3,"div",32)(4,"div",33),e._UZ(5,"fa-icon",40),e.qZA(),e.TgZ(6,"input",41),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.getEDC(o.target.value,"input"))}),e.qZA()(),e.YNc(7,M,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA")),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.lmp_date.errors)}}function N(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function A(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function U(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,A,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_gravidity.errors?null:t.mcr_form.controls.initial_gravidity.errors.required)}}function J(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"h3"),e._uU(2,"Gravidity"),e.qZA(),e.YNc(3,N,1,1,"fa-icon",43),e.TgZ(4,"input",44),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,U,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_gravidity.errors)}}function P(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Q(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Y(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Q,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_parity.errors?null:t.mcr_form.controls.initial_parity.errors.required)}}function O(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"h3"),e._uU(2,"Parity"),e.qZA(),e.YNc(3,P,1,1,"fa-icon",43),e.TgZ(4,"input",47),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Y,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_parity.errors)}}function K(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function F(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function S(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,F,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_full_term.errors?null:t.mcr_form.controls.initial_full_term.errors.required)}}function G(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"h3"),e._uU(2,"Full-Term"),e.qZA(),e.YNc(3,K,1,1,"fa-icon",43),e.TgZ(4,"input",49),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,S,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_full_term.errors)}}function H(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function D(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function z(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,D,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_preterm.errors?null:t.mcr_form.controls.initial_preterm.errors.required)}}function R(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"h3"),e._uU(2,"Pre-Term"),e.qZA(),e.YNc(3,H,1,1,"fa-icon",43),e.TgZ(4,"input",50),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,z,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_preterm.errors)}}function E(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function L(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function B(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,L,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_abortion.errors?null:t.mcr_form.controls.initial_abortion.errors.required)}}function V(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",51)(1,"h3"),e._uU(2,"Abortions"),e.qZA(),e.YNc(3,E,1,1,"fa-icon",43),e.TgZ(4,"input",52),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,B,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_abortion.errors)}}function j(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function W(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function X(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,W,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.mcr_form.controls.initial_livebirths.errors?null:t.mcr_form.controls.initial_livebirths.errors.required)}}function $(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"h3"),e._uU(2,"Live Births"),e.qZA(),e.YNc(3,j,1,1,"fa-icon",43),e.TgZ(4,"input",54),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,X,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.mcr_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.mcr_form.controls.initial_livebirths.errors)}}function ee(i,a){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5)(2,"button",6),e._uU(3,"Maternal Care Record"),e.qZA(),e.TgZ(4,"div",7),e._UZ(5,"fa-icon",8),e.TgZ(6,"div",9)(7,"h1",10),e._uU(8,"IMPORTANT"),e.qZA(),e.TgZ(9,"p",11),e._uU(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(11,"div",12)(12,"div",13),e.YNc(13,k,8,3,"div",14),e.YNc(14,I,8,3,"div",14),e.qZA(),e.TgZ(15,"div",15)(16,"div",16)(17,"h1",17),e._uU(18," Important Dates "),e.qZA()(),e.TgZ(19,"h3",18),e._uU(20,"EDC Date"),e.TgZ(21,"p",19),e._uU(22),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"h3",20),e._uU(25,"AOG (Weeks) "),e.TgZ(26,"p"),e._uU(27),e.qZA()(),e.TgZ(28,"h3",21),e._uU(29,"End of 1st Trimester"),e.TgZ(30,"p",19),e._uU(31),e.ALo(32,"date"),e.qZA()(),e.TgZ(33,"h3",21),e._uU(34,"End of 2nd Trimester"),e.TgZ(35,"p",19),e._uU(36),e.ALo(37,"date"),e.qZA()(),e.TgZ(38,"h3",21),e._uU(39,"End of 3rd Trimester"),e.TgZ(40,"p",19),e._uU(41),e.ALo(42,"date"),e.qZA()()(),e.TgZ(43,"div",22)(44,"div",23)(45,"h1",24),e._uU(46," Obstetric Score "),e.qZA()(),e.YNc(47,J,6,2,"div",25),e.YNc(48,O,6,2,"div",26),e.YNc(49,G,6,2,"div",27),e.YNc(50,R,6,2,"div",25),e.YNc(51,V,6,2,"div",28),e.YNc(52,$,6,2,"div",29),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("icon",t.faInfoCircle),e.xp6(8),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(8),e.Oqu(t.edc_date!=t.today.toLocaleDateString("en-CA")?e.Dn7(23,17,t.edc_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(4),e.Gre("font-medium ",t.aog_date.includes("-")?"text-red-500":"",""),e.xp6(1),e.hij("",t.aog_date," "),e.xp6(4),e.Oqu(t.first_tri!=t.today.toLocaleDateString("en-CA")?e.Dn7(32,21,t.first_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.second_tri!=t.today.toLocaleDateString("en-CA")?e.Dn7(37,25,t.second_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.third_tri!=t.today.toLocaleDateString("en-CA")?e.Dn7(42,29,t.third_tri,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused)}}function te(i,a){1&i&&(e.TgZ(0,"div",65),e._uU(1,"Successfully Saved!"),e.qZA())}function ie(i,a){if(1&i&&e._UZ(0,"fa-icon",59),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSave)}}function oe(i,a){if(1&i&&e._UZ(0,"fa-icon",66),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function ne(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.YNc(2,te,2,0,"div",57),e.TgZ(3,"div",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(4,"fa-icon",59),e.TgZ(5,"button",60),e._uU(6,"Cancel"),e.qZA()(),e.TgZ(7,"div",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveForm(o.mcr_form.value))}),e.YNc(8,ie,1,1,"fa-icon",62),e.YNc(9,oe,1,2,"fa-icon",63),e.TgZ(10,"button",64),e._uU(11),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(3),e.Gre("cursor-pointer flex border-check hover:drop-shadow-md ",t.updating?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white"),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("disabled",t.loading),e.xp6(1),e.hij(" ",t.updating?t.loading?"Updating":"Update":t.loading?"Saving":"Save"," ")}}let re=(()=>{var i;class a{constructor(n,o,r){this.http=n,this.formBuilder=o,this.toastr=r,this.date=new Date,this.faCalendarDay=d.$nv,this.faTimes=d.NBC,this.faClose=d.YIN,this.faTimesCircle=d.nYk,this.faSave=d.r6l,this.faSpinner=d.IJ7,this.faPencil=d.TzT,this.faAngleDown=d.gc2,this.faInfoCircle=d.sqG,this.faCaretRight=d.I4f,this.error_message="",this.keyUp=[],this.buttons=[],this.mcr_form=new s.cw({pre_registration_date:new s.NI(""),lmp_date:new s.NI(""),initial_gravidity:new s.NI(""),initial_parity:new s.NI(""),initial_full_term:new s.NI(""),initial_preterm:new s.NI(""),initial_abortion:new s.NI(""),initial_livebirths:new s.NI("")}),this.patient_mc_id=new e.vpe}ngOnInit(){this.today=new Date,this.focused=!1,this.updating=!1,this.loading=!1,this.saved=!1,this.getMCR()}setToastr(){}getMCR(){console.log(this.patient_mc_record),this.patient_mc_record?(this.patient_mc_record.pre_registration?(this.mcr_data=this.patient_mc_record.pre_registration,console.log(this.mcr_data," mcr data from getMCR - MCR"),this.getEDC(this.mcr_data.lmp_date,"db")):(this.mcr_data=-1,this.getEDC(this.today,"any")),this.updating=!0):(this.mcr_data=-1,this.getEDC(this.today,"any")),this.createForm()}createForm(){let n=this.http.getUserID(),o=this.http.getUserFacility();this.mcr_form=this.formBuilder.group({patient_id:[this.patient_id,[s.kI.required,s.kI.minLength(2)]],user_id:[n,[s.kI.required,s.kI.minLength(2)]],facility_code:[o,[s.kI.required,s.kI.minLength(2)]],pre_registration_date:[-1==this.mcr_data?(new Date).toISOString().substring(0,10):new Date(this.mcr_data.pre_registration_date).toISOString().substring(0,10),[s.kI.required]],lmp_date:[-1==this.mcr_data?null:new Date(this.mcr_data.lmp_date).toISOString().substring(0,10),[s.kI.required]],initial_gravidity:[-1==this.mcr_data?null:this.mcr_data.initial_gravidity,[s.kI.required]],initial_parity:[-1==this.mcr_data?null:this.mcr_data.initial_parity,[s.kI.required]],initial_full_term:[-1==this.mcr_data?0:this.mcr_data.initial_full_term,[s.kI.required]],initial_preterm:[-1==this.mcr_data?0:this.mcr_data.initial_preterm,[s.kI.required]],initial_abortion:[-1==this.mcr_data?0:this.mcr_data.initial_abortion,[s.kI.required]],initial_livebirths:[-1==this.mcr_data?0:this.mcr_data.initial_livebirths,[s.kI.required]]})}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}saveForm(){let n,o;console.log(this.mcr_form.value," validation check"),this.loading=!0,this.updating?(n=this.http.update("maternal-care/mc-preregistrations/",this.mcr_data.id,this.mcr_form.value),o="Succesfully updated!"):(n=this.http.post("maternal-care/mc-preregistrations",this.mcr_form.value),o="Succesfully saved!"),console.log(o),this.mcr_form.valid?n.subscribe({next:_=>{console.log(_," data from saving"),this.patient_mc_id.emit(_.patient_mc_id)},error:_=>console.log(_),complete:()=>{this.saved=!0,this.toastr.success(o,"Maternal Care Record",{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.loading=!1}}):this.loading=!1}onKeyUp(n,o){this.keyUp.includes(o)?""==n&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}buttonShow(n){this.buttons=[],this.buttons.includes(n)||this.buttons.push(n)}cancel(){this.keyUp=[],this.getMCR()}edit(){this.mcr_form.enable()}getEDC(n,o){console.log("fetching Important dates from "+o," using "+n),this.edc_date="db"==o?new Date(this.mcr_data.edc_date).toISOString().substring(0,10):n?new Date(n).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.first_tri="db"==o?new Date(this.mcr_data.trimester1_date).toISOString().substring(0,10):n?new Date(n).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.second_tri="db"==o?new Date(this.mcr_data.trimester2_date).toISOString().substring(0,10):n?new Date(n).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),this.third_tri="db"==o?new Date(this.mcr_data.trimester3_date).toISOString().substring(0,10):n?new Date(n).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),"input"==o&&""!=n&&(this.edc_date=new Date(this.edc_date).setDate(new Date(this.edc_date).getDate()+280),this.first_tri=new Date(this.first_tri).setDate(new Date(this.first_tri).getDate()+84),this.second_tri=new Date(this.second_tri).setDate(new Date(this.second_tri).getDate()+189),this.third_tri=this.edc_date),this.aog_date=new Date,this.aog_date.setHours(0,0,0,0);var r=n?new Date(n):new Date;r.setHours(0,0,0,0);const _=6048e5;var c=((this.aog_date.getTime()-r.getTime())/_).toFixed(2),m=Number(c)-Math.trunc(Number(c));if(Number(c)>1)if(Math.trunc(Number(c))>1)if(m>0)var u=Math.trunc(Number(c))+" weeks and "+(7*m).toFixed(0)+" days";else 0==m&&(u=Math.trunc(Number(c))+" weeks");else 1==Math.trunc(Number(c))&&m>0&&(u=Math.trunc(Number(c)).toFixed(0)+" week and "+(7*m).toFixed(0)+" days");else 1==Number(c)?u=Number(c).toFixed(0)+" week":Number(c)<1&&(c=JSON.stringify(Math.round((this.aog_date.getTime()-r.getTime())/_*7)),Number(c)>1||Number(c)<=0?u=c+" days":1==Number(c)&&(u=c+" day"));this.aog_date=u}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mcr"]],inputs:{patient_id:"patient_id",patient_mc_record:"patient_mc_record"},outputs:{patient_mc_id:"patient_mc_id"},decls:4,vars:3,consts:[[1,"z-0"],[3,"formGroup","ngSubmit"],["class","grid gap-4 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"grid","gap-4","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-40","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","mb-4","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-4",4,"ngIf"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border","mb-4",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center","relative"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","m-2","border",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"text-sm","font-bold","text-pink-500","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 14 / span 14"],[1,"select-none"],["class","transitions col-span-4 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 row-start-3 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none group mx-2 mb-2",4,"ngIf"],[1,"transitions","col-span-4"],["for","pre_registration_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","pre_registration_date",1,"text-blue-400",3,"icon"],["formControlName","pre_registration_date","id","pre_registration_date","name","pre_registration_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed","invalid:border-red-400",3,"max","keyup.escape","change"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],["for","lmp_date"],["size","lg","for","lmp_date",1,"text-blue-400",3,"icon"],["formControlName","lmp_date","id","lmp_date","name","lmp_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-400",3,"icon",4,"ngIf"],["type","number","formControlName","initial_gravidity","id","initial_gravidity","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-400",3,"icon"],[1,"transitions","col-span-4","row-start-3","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_parity","id","initial_parity","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2"],["type","number","formControlName","initial_full_term","id","initial_full_term","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["type","number","formControlName","initial_preterm","id","initial_preterm","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_abortion","id","initial_abortion","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","initial_livebirths","id","initial_livebirths","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2",3,"icon","spin",4,"ngIf"],["type","button",1,"font-bold","button-out","border-check-red",3,"disabled"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[1,"mr-2",3,"icon","spin"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.saveForm()}),e.YNc(2,ee,53,33,"div",2),e.YNc(3,ne,12,9,"div",3),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("formGroup",o.mcr_form),e.xp6(1),e.Q6J("ngIf",!o.focused),e.xp6(1),e.Q6J("ngIf",!o.focused&&o.mcr_form.enabled))},dependencies:[l.O5,f.BN,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u,l.uU],styles:["input[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]}),a})();function ae(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function se(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,ae,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.post_registration_date.errors?null:t.postpartum_form.controls.post_registration_date.errors.required)}}function _e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"h3",47),e._uU(2,"Registration "),e.qZA(),e.TgZ(3,"div",48)(4,"div",49),e._UZ(5,"fa-icon",50),e.qZA(),e.TgZ(6,"input",51),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()(),e.YNc(7,se,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA")),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.post_registration_date.errors)}}function de(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ce(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,de,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.delivery_date.errors?null:t.postpartum_form.controls.delivery_date.errors.required)}}function le(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"h3",55),e._uU(2,"Delivery"),e.qZA(),e.TgZ(3,"div",56)(4,"div",49),e._UZ(5,"fa-icon",57),e.qZA(),e.TgZ(6,"input",58),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.ALo(7,"date"),e.qZA()(),e.YNc(8,ce,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",e.xi3(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.delivery_date.errors)}}function pe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ue(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,pe,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.admission_date.errors?null:t.postpartum_form.controls.admission_date.errors.required)}}function me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"h3",60),e._uU(2,"Admission "),e.qZA(),e.TgZ(3,"div",56)(4,"div",49),e._UZ(5,"fa-icon",61),e.qZA(),e.TgZ(6,"input",62),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.ALo(7,"date"),e.qZA()(),e.YNc(8,ue,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",e.xi3(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.admission_date.errors)}}function ge(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function fe(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,ge,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.discharge_date.errors?null:t.postpartum_form.controls.discharge_date.errors.required)}}function ve(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"h3",63),e._uU(2,"Discharge "),e.qZA(),e.TgZ(3,"div",56)(4,"div",49),e._UZ(5,"fa-icon",64),e.qZA(),e.TgZ(6,"input",65),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.ALo(7,"date"),e.qZA()(),e.YNc(8,fe,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",e.xi3(7,3,t.today,"YYYY-MM-ddThh:mm:ss")),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.discharge_date.errors)}}function he(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function be(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function xe(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,be,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.gravidity.errors?null:t.postpartum_form.controls.gravidity.errors.required)}}function ye(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"h3"),e._uU(2,"Gravidity"),e.qZA(),e.YNc(3,he,1,1,"fa-icon",67),e.TgZ(4,"input",68),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,xe,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.gravidity.errors)}}function we(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Ce(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Te(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Ce,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.parity.errors?null:t.postpartum_form.controls.parity.errors.required)}}function Ze(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"h3"),e._uU(2,"Parity"),e.qZA(),e.YNc(3,we,1,1,"fa-icon",67),e.TgZ(4,"input",71),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Te,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.parity.errors)}}function ke(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function qe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Me(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,qe,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.full_term.errors?null:t.postpartum_form.controls.full_term.errors.required)}}function Ie(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",72)(1,"h3"),e._uU(2,"Full-Term"),e.qZA(),e.YNc(3,ke,1,1,"fa-icon",67),e.TgZ(4,"input",73),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Me,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.full_term.errors)}}function Ne(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Ae(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Ue(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Ae,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.preterm.errors?null:t.postpartum_form.controls.preterm.errors.required)}}function Je(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"h3"),e._uU(2,"Pre-Term"),e.qZA(),e.YNc(3,Ne,1,1,"fa-icon",67),e.TgZ(4,"input",74),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Ue,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.preterm.errors)}}function Pe(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Qe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Ye(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Qe,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.abortion.errors?null:t.postpartum_form.controls.abortion.errors.required)}}function Oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",75)(1,"h3"),e._uU(2,"Abortions"),e.qZA(),e.YNc(3,Pe,1,1,"fa-icon",67),e.TgZ(4,"input",76),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Ye,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.abortion.errors)}}function Ke(i,a){if(1&i&&e._UZ(0,"fa-icon",69),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Fe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Se(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Fe,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.livebirths.errors?null:t.postpartum_form.controls.livebirths.errors.required)}}function Ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",77)(1,"h3"),e._uU(2,"Live Births"),e.qZA(),e.YNc(3,Ke,1,1,"fa-icon",67),e.TgZ(4,"input",78),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Se,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&t.postpartum_form.disabled),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.livebirths.errors)}}function He(i,a){1&i&&(e.TgZ(0,"div",80),e._uU(1," Please fill up forms upto 'Barangay' "),e.qZA())}function De(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,He,2,0,"div",79),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.postpartum_form.controls.barangay_code.errors?null:t.postpartum_form.controls.barangay_code.errors.required)||(null==t.postpartum_form.controls.delivery_location_code.errors?null:t.postpartum_form.controls.delivery_location_code.errors.required))}}function ze(i,a){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code)("selected","HOME"===t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",81)(1,"h3"),e._uU(2,"Delivery Location"),e.qZA(),e.TgZ(3,"select",82),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,ze,2,3,"option",42),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.delivery_location)}}function Ee(i,a){if(1&i&&e._UZ(0,"option",84),2&i){const t=e.oxw(2);e.Q6J("selected",!t.selected_regions)}}function Le(i,a){if(1&i&&(e.TgZ(0,"option",83),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2);e.Q6J("value",t.code)("selected",t.code===n.selected_regions),e.xp6(1),e.hij(" ",t.name," ")}}function Be(i,a){if(1&i&&(e.TgZ(0,"option",89),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function Ve(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",86)(1,"h3",39),e._uU(2),e.qZA(),e.TgZ(3,"select",87),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.loadDemog(r.loc,o.target.value,r.includes))}),e.YNc(4,Be,2,2,"option",88),e.qZA()()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(1),e.s9C("formControlName",t.fname),e.s9C("id",t.fname),e.xp6(1),e.Q6J("ngForOf",n[t.loc])}}function je(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ve,5,4,"div",85),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2);e.Gre("transitions col-span-4  border-check relative mx-2 ","Municipality"==t.name||"Barangay"==t.name?"mb-2":"",""),e.xp6(1),e.Q6J("ngIf",n[t.loc])}}function We(i,a){if(1&i&&(e.TgZ(0,"option",89),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Xe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function $e(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Xe,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.attendant_code.errors?null:t.postpartum_form.controls.attendant_code.errors.required)}}function et(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",81)(1,"h3"),e._uU(2,"Birth Attendant"),e.qZA(),e.TgZ(3,"select",90),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,We,2,2,"option",88),e.qZA(),e.YNc(5,$e,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.attendants),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.attendant_code.errors)}}function tt(i,a){if(1&i&&(e.TgZ(0,"option",89),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function it(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ot(i,a){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,it,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_form.controls.outcome_code.errors?null:t.postpartum_form.controls.outcome_code.errors.required)}}function nt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",81)(1,"h3"),e._uU(2,"Pregnancy Outcome"),e.qZA(),e.TgZ(3,"select",91),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,tt,2,2,"option",88),e.qZA(),e.YNc(5,ot,2,1,"div",36),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.preg_outcome),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.postpartum_form.controls.outcome_code.errors)}}function rt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",92)(1,"h3",93),e._uU(2,"Mother initiated breastfeeding within 24 hours"),e.qZA(),e.TgZ(3,"div",94)(4,"label",95)(5,"div",96)(6,"input",97),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.bfdCheck(o.target.value))}),e.qZA(),e._UZ(7,"div",98)(8,"div",99),e.qZA()(),e.TgZ(9,"div",48)(10,"div",49),e._UZ(11,"fa-icon",100),e.qZA(),e.TgZ(12,"input",101),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(9),e.Tol(t.bfd?"visible":"invisible"),e.xp6(2),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA"))}}function at(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1",8),e._uU(5," Important Dates "),e.qZA()(),e.TgZ(6,"h3",9),e._uU(7,"EDC Date"),e.TgZ(8,"p",10),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"h3",9),e._uU(12,"LMP Date"),e.TgZ(13,"p",10),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"h3",11),e._uU(17,"End of 1st Trimester"),e.TgZ(18,"p",10),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"h3",11),e._uU(22,"End of 2nd Trimester"),e.TgZ(23,"p",10),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"h3",11),e._uU(27,"End of 3rd Trimester"),e.TgZ(28,"p",10),e._uU(29),e.ALo(30,"date"),e.qZA()()()(),e.TgZ(31,"div",12)(32,"button",13),e._uU(33,"Postpartum"),e.qZA(),e.TgZ(34,"div",14),e._UZ(35,"fa-icon",15),e.TgZ(36,"div",16)(37,"h1",17),e._uU(38,"IMPORTANT"),e.qZA(),e.TgZ(39,"p",18),e._uU(40,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(41,"div",5)(42,"div",19)(43,"div",20)(44,"div",21),e.YNc(45,_e,8,3,"div",22),e.YNc(46,le,9,6,"div",23),e.YNc(47,me,9,6,"div",24),e.YNc(48,ve,9,6,"div",24),e.qZA()(),e.TgZ(49,"div",20)(50,"div",25)(51,"div",26)(52,"h1",27),e._uU(53," Obstetric Score "),e.qZA()(),e.YNc(54,ye,6,2,"div",28),e.YNc(55,Ze,6,2,"div",29),e.YNc(56,Ie,6,2,"div",30),e.YNc(57,Je,6,2,"div",28),e.YNc(58,Oe,6,2,"div",31),e.YNc(59,Ge,6,2,"div",32),e.qZA()(),e.TgZ(60,"div",20)(61,"div",33)(62,"div",34)(63,"h1",35),e._uU(64," Place of Occurence "),e.YNc(65,De,2,1,"div",36),e.qZA()(),e.YNc(66,Re,5,1,"div",37),e.TgZ(67,"div",38)(68,"h3",39),e._uU(69,"Region"),e.qZA(),e.TgZ(70,"select",40),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDemog("regions",o.target.value,"provinces"))}),e.YNc(71,Ee,1,1,"option",41),e.YNc(72,Le,2,3,"option",42),e.qZA()(),e.YNc(73,je,2,4,"div",43),e.qZA()(),e.TgZ(74,"div",20)(75,"div",33)(76,"div",34)(77,"h1",27),e._uU(78," Other Details "),e.qZA()(),e.YNc(79,et,6,2,"div",37),e.YNc(80,nt,6,2,"div",44),e.YNc(81,rt,13,4,"div",45),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Oqu(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.Dn7(10,24,t.patient_mc_record.pre_registration.edc_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.Dn7(15,28,t.patient_mc_record.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.Dn7(20,32,t.patient_mc_record.pre_registration.trimester1_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.Dn7(25,36,t.patient_mc_record.pre_registration.trimester2_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(5),e.Oqu(t.patient_mc_record&&t.patient_mc_record.pre_registration?e.Dn7(30,40,t.patient_mc_record.pre_registration.trimester3_date,"MM/dd/yyyy","Asia/Manila"):"No Date"),e.xp6(6),e.Q6J("icon",t.faInfoCircle),e.xp6(10),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(6),e.Q6J("ngIf",t.is_saving&&(t.postpartum_form.controls.barangay_code.errors||t.postpartum_form.controls.delivery_location_code.errors)),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(5),e.Q6J("ngIf",!t.selected_regions),e.xp6(1),e.Q6J("ngForOf",t.regions),e.xp6(1),e.Q6J("ngForOf",t.demog),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused)}}function st(i,a){1&i&&(e.TgZ(0,"div",114),e._uU(1,"Successfully Saved!"),e.qZA())}function _t(i,a){if(1&i&&e._UZ(0,"fa-icon",109),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSave)}}function dt(i,a){if(1&i&&e._UZ(0,"fa-icon",115),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function ct(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"input",104),e.TgZ(3,"label",105),e._uU(4,"End Pregnancy Record"),e.qZA()(),e.TgZ(5,"div",106),e.YNc(6,st,2,0,"div",107),e.TgZ(7,"div",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"fa-icon",109),e.TgZ(9,"button",110),e._uU(10,"Cancel"),e.qZA()(),e.TgZ(11,"div",111),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveForm(o.postpartum_form.value))}),e.YNc(12,_t,1,1,"fa-icon",112),e.YNc(13,dt,1,2,"fa-icon",113),e.TgZ(14,"button",110),e._uU(15),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(3),e.Gre("cursor-pointer flex border-check hover:drop-shadow-md ",t.updating?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white"),e.xp6(1),e.Q6J("ngIf",!t.is_saving),e.xp6(1),e.Q6J("ngIf",t.is_saving),e.xp6(2),e.hij(" ",t.updating?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function lt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",116)(1,"div",117),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e.TgZ(2,"div",118),e._UZ(3,"fa-icon",109),e.TgZ(4,"button",119),e.NdJ("keyup.enter",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uncheck(o.target.id+r.fphx_cat))}),e._uU(5,"Edit"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faPencil)}}let pt=(()=>{var i;class a{constructor(n,o){this.http=n,this.formBuilder=o,this.keyUp=[],this.buttons=[],this.faCalendarDay=d.$nv,this.faTimes=d.NBC,this.faClose=d.YIN,this.faTimesCircle=d.nYk,this.faSave=d.r6l,this.faPencil=d.TzT,this.faSpinner=d.IJ7,this.faAngleDown=d.gc2,this.faInfoCircle=d.sqG,this.faCaretRight=d.I4f,this.postpartum_form=new s.cw({post_registration_date:new s.NI(""),admission_date:new s.NI(""),discharge_date:new s.NI(""),delivery_date:new s.NI(""),delivery_location_code:new s.NI(""),barangay_code:new s.NI(""),gravidity:new s.NI(!1),parity:new s.NI(!1),full_term:new s.NI(!1),preterm:new s.NI(!1),abortion:new s.NI(!1),livebirths:new s.NI(!1),outcome_code:new s.NI(!1),healthy_baby:new s.NI(!1),birth_weight:new s.NI(!1),attendant_code:new s.NI(!1),breastfeeding:new s.NI(!1),breastfed_date:new s.NI(!1),end_pregnancy:new s.NI(!1),postpartum_remarks:new s.NI(!1)}),this.gravidity=new Number,this.parity=new Number,this.full_term=new Number,this.live_births=new Number,this.abortions=new Number,this.pre_term=new Number,this.demog=[{name:"Province",loc:"provinces",includes:"municipalities",fname:"p_code"},{name:"Municipality",loc:"municipalities",includes:"barangays",fname:"m_code"},{name:"Barangay",loc:"barangays",includes:"",fname:"barangay_code"}],this.postpartum_bool=new e.vpe,this.post_mc_data=new e.vpe}ngOnInit(){this.getMCR(),this.filter="",this.today=new Date,this.is_saving=!1,this.saved=!1}getMCR(){this.patient_mc_record?(this.mcr_data=this.patient_mc_record,this.patient_mc_record.post_registration&&(this.updating=!0),console.log(this.patient_mc_record," MCR SDATA DASOIDU")):(console.log(" no record "),this.mcr_data=-1),this.createForm(this.mcr_data)}createForm(n){let o;o=n.post_registration?n.post_registration:"",console.log(o," this is my post reg get");let c,m,u,r=this.http.getUserID(),_=this.http.getUserFacility();console.log(n," mc_record createForm Post"),o&&""!=o.barangay.code&&(console.log(o.barangay.code," you have brgy code good"),this.selected_regions=o.barangay.code.substring(0,o.barangay.code.length-7)+"0000000",c=o.barangay.code.substring(0,o.barangay.code.length-5)+"00000",m=o.barangay.code.substring(0,o.barangay.code.length-3)+"000",u=o.barangay.code,this.loadDemog("regions",this.selected_regions,"provinces"),this.loadDemog("provinces",c,"municipalities"),this.loadDemog("municipalities",m,"barangays"),this.loadDemog("barangays",u,"")),this.postpartum_form=this.formBuilder.group({facility_code:[_],patient_id:[this.patient_id],user_id:[r],post_registration_date:[0!=o.length?new Date(o.post_registration_date).toISOString().substring(0,10):(new Date).toISOString().substring(0,10),[s.kI.required]],admission_date:[0!=o.length?o.admission_date.substring(0,19):"",[s.kI.required]],discharge_date:[0!=o.length?o.discharge_date:"",[s.kI.required]],delivery_date:[0!=o.length?o.delivery_date:"",[s.kI.required]],delivery_location_code:[0!=o.length?o.delivery_location.code:"",[s.kI.required]],barangay_code:[0!=o.length?o.barangay.code:"",[s.kI.required]],p_code:[0!=o.length?c:"",[s.kI.required]],m_code:[0!=o.length?m:"",[s.kI.required]],gravidity:[0!=o.length?o.gravidity:"",[s.kI.required]],parity:[0!=o.length?o.parity:"",[s.kI.required]],full_term:[0!=o.length?o.full_term:"",[s.kI.required]],preterm:[0!=o.length?o.preterm:"",[s.kI.required]],abortion:[0!=o.length?o.abortion:"",[s.kI.required]],livebirths:[0!=o.length?o.livebirths:"",[s.kI.required]],outcome_code:[0!=o.length?o.outcome.code:"",[s.kI.required]],healthy_baby:[0==o.length||o.healthy_baby],birth_weight:[0!=o.length?o.birth_weight:0],attendant_code:[0!=o.length?o.attendant.code:"",[s.kI.required]],breastfeeding:[0!=o.length&&o.breastfeeding],breastfed_date:[0!=o.length?new Date(o.breastfed_date).toISOString().substring(0,10):null],end_pregnancy:[0!=o.length&&o.end_pregnancy],postpartum_remarks:[0!=o.length?o.postpartum_remarks:""]}),this.bfd=0!=o.length&&!!o.breastfeeding,console.log(this.postpartum_form.value," p_form after create")}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}saveForm(n){this.is_saving=!0,this.postpartum_form.value.delivery_date=16==this.postpartum_form.value.delivery_date.length?this.postpartum_form.value.delivery_date.replace("T"," ")+":00":this.postpartum_form.value.delivery_date.replace("T"," "),this.postpartum_form.value.admission_date=16==this.postpartum_form.value.admission_date.length?this.postpartum_form.value.admission_date.replace("T"," ")+":00":this.postpartum_form.value.admission_date.replace("T"," "),this.postpartum_form.value.discharge_date=16==this.postpartum_form.value.discharge_date.length?this.postpartum_form.value.discharge_date.replace("T"," ")+":00":this.postpartum_form.value.discharge_date.replace("T"," "),console.log(this.postpartum_form.value,"postpartum form before saving");let o={},r=this.postpartum_form.value;for(let _ in r)0==this.postpartum_form.value.breastfeeding?"breastfed_date"!=_&&(o[_]=r[String(_)]):o=r;if(console.log(o," my filtered value"),this.postpartum_form.valid){let _;_=this.updating?this.http.update("maternal-care/mc-postregistrations/",this.mcr_data.post_registration.id,o):this.http.post("maternal-care/mc-postregistrations",o),_.subscribe({next:c=>{console.log(c," data from saving postpartum"),this.post_mc_data.emit(c.patient_mc_id)},error:c=>console.log(c),complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1},1500)}})}else this.is_saving=!1,console.log("post partum form invalid");this.postpartum_bool.emit(this.postpartum_form.value)}bfdCheck(n){this.bfd=!this.bfd}onKeyUp(n,o){console.log(n+" this is my data input"),this.keyUp.includes(o)?""==n&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}loadDemog(n,o,r){"regions"==n?(this.municipalities=null,this.barangays=null):"provinces"==n&&(this.barangays=null),console.log(n," ",o," ",r),this.http.get("libraries/"+n+"/"+o,{params:{include:r}}).subscribe({next:_=>{this[r]=_.data[r],"regions"==n&&console.log(this.regions," vs ",_.data)},error:_=>console.log(_)})}buttonShow(n){this.buttons=[],this.buttons.includes(n)||this.buttons.push(n)}cancel(){this.bfd=!1,this.keyUp=[]}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-postpartum"]],inputs:{delivery_location:"delivery_location",regions:"regions",attendants:"attendants",preg_outcome:"preg_outcome",patient_id:"patient_id",patient_mc_record:"patient_mc_record"},outputs:{postpartum_bool:"postpartum_bool",post_mc_data:"post_mc_data"},decls:4,vars:4,consts:[[3,"formGroup","submit"],["class","grid gap-2 relative animates-dropdown","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","flex w-auto border-check mb-7 w-12/12",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[2,"grid-column","span 16 / span 16"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-24","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(21, minmax(0, 1fr))"],["class","transitions col-span-6",4,"ngIf"],["class","transitions col-span-7 col-start-1",4,"ngIf"],["class","transitions col-span-7",4,"ngIf"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","m-2","border","group",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"text-pink-500","form-check","p-2","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400",2,"grid-column","span 14 / span 14"],[1,"select-none"],["class","transitions col-span-4 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 row-start-3 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-7 border-check relative select-none group mx-2 mb-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none group mx-2 mb-2",4,"ngIf"],[1,"grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","m-2","border","group",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[1,"form-check","p-2","font-bold","text-sm","border","border-dashed","border-gray-300","group-hover:border-blue-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 14 / span 14"],[1,"select-none","flex"],["class","invalid-alert",4,"ngIf"],["class","transitions col-span-4 border-check relative mx-2",4,"ngIf"],[1,"transitions","col-span-4","border-check","relative","mx-2","last-of-type:mb-2"],[1,"capitalize"],["id","regions",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],["value","",3,"selected",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["class","transitions col-span-4  border-check relative mx-2",4,"ngIf"],["class","transitions col-span-6 mx-2",4,"ngIf"],[1,"transitions","col-span-6"],["for","post_registration_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","post_registration_date",1,"text-blue-500",3,"icon"],["formControlName","post_registration_date","id","post_registration_date","name","post_registration_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup","keyup.escape","change"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-7","col-start-1"],["for","delivery_date"],[1,"grid",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["size","lg","for","delivery_date",1,"text-blue-400",3,"icon"],["formControlName","delivery_date","id","delivery_date","name","delivery_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup","keyup.escape","change"],[1,"transitions","col-span-7"],["for","admission_date"],["size","lg","for","admission_date",1,"text-blue-400",3,"icon"],["formControlName","admission_date","id","admission_date","name","admission_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup","keyup.escape","change"],["for","discharge_date"],["size","lg","for","discharge_date",1,"text-blue-400",3,"icon"],["formControlName","discharge_date","id","discharge_date","name","discharge_date","type","datetime-local","width","auto",1,"col-span-12","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-400",3,"icon",4,"ngIf"],["type","number","formControlName","gravidity","min","0","id","gravidity",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-400",3,"icon"],[1,"transitions","col-span-4","row-start-3","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","parity","min","0","id","parity",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2"],["type","number","formControlName","full_term","min","0","id","full_term",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["type","number","formControlName","preterm","min","0","id","preterm",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-7","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","abortion","min","0","id","abortion",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","border-check","relative","select-none","group","mx-2","mb-2"],["type","number","formControlName","livebirths","min","0","id","livebirths",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],["class","ml-2 font-light",4,"ngIf"],[1,"ml-2","font-light"],[1,"transitions","col-span-4","border-check","relative","mx-2"],["formControlName","delivery_location_code","id","delivery_location_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],[3,"value","selected"],["value","",3,"selected"],["class","",4,"ngIf"],[1,""],[1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"formControlName","id","keyup.escape","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","attendant_code","id","attendant_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],["formControlName","outcome_code","id","outcome_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"keyup.escape","change"],[1,"transitions","col-span-6","mx-2"],["for","breastfeeding"],[1,"flex","w-full","mb-2"],["for","breastfeeding",1,"mx-2","flex","items-center","cursor-pointer","w-max"],[1,"relative"],["type","checkbox","formControlName","breastfeeding","id","breastfeeding",1,"sr-only","peer",3,"click"],[1,"block","bg-gray-200","w-12","h-7","rounded-full","peer-checked:bg-green-400","border","border-gray-300","peer-checked:border-green-500","hover:bg-gray-300"],[1,"dot","absolute","left-1","top-1","bg-white","w-5","h-5","rounded-full","transition","drop-shadow-md"],["size","lg","for","breastfed_date",1,"text-blue-500",3,"icon"],["formControlName","breastfed_date","id","breastfed_date","name","breastfed_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup","keyup.escape","change"],[1,"flex","w-auto","border-check","mb-7","w-12/12"],[1,"inline-flex","bg-white","rounded-lg","mr-auto","border","border-gray-400","hover:border-pink-400","drop-shadow-md","hover:drop-shadow-lg","w-full","py-2","px-4","ml-2"],["formControlName","end_pregnancy","id","end_pregnancy","type","checkbox",1,"rounded-md","check-style","text-pink-400"],["for","end_pregnancy",1,"ml-2","font-bold","text-sm","m-auto","text-pink-500"],[1,"inline-flex","ml-auto","h-max","mt-2"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000 w-52 ml-2",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2",3,"icon","spin",4,"ngIf"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000","w-52","ml-2"],[1,"mr-2",3,"icon","spin"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0","cursor-pointer",3,"click"],[1,"flex","border-check","bg-orange-300","hover:bg-orange-400","py-1","rounded-full","text-white","px-2"],["type","submit",1,"font-bold","button-out","border-check-red","typed-out",3,"keyup.enter"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return o.saveForm(o.postpartum_form.value)}),e.YNc(1,at,82,44,"div",1),e.YNc(2,ct,16,8,"div",2),e.YNc(3,lt,6,1,"div",3),e.qZA()),2&n&&(e.Q6J("formGroup",o.postpartum_form),e.xp6(1),e.Q6J("ngIf",!o.focused),e.xp6(1),e.Q6J("ngIf",!o.focused&&o.postpartum_form.enabled),e.xp6(1),e.Q6J("ngIf",!o.focused&&o.postpartum_form.disabled))},dependencies:[l.sg,l.O5,f.BN,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.qQ,s.sg,s.u,l.uU],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.exce[_ngcontent-%COMP%]{width:1.5rem!important;height:1.5rem!important}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{transform:translate(100%);background-color:#fff}"]}),a})();function ut(i,a){if(1&i&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Akn(1==t.hospital_flag&&0==t.monitor_flag?"color: rgb(220 38 38);":""),e.Tol(0==t.hospital_flag&&1==t.monitor_flag?"text-blue-500":""),e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.risk_name," ")}}function mt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function gt(i,a){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,mt,2,0,"div",23),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.risk_form.controls.risk_id.errors?null:t.risk_form.controls.risk_id.errors.required)}}function ft(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"h3",17),e._uU(2,"Risk Factors"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,ut,2,6,"option",19),e.qZA(),e.YNc(5,gt,2,1,"div",20),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.risk_factors),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.risk_form.controls.risk_id.errors)}}function vt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ht(i,a){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,vt,2,0,"div",23),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.risk_form.controls.date_detected.errors?null:t.risk_form.controls.date_detected.errors.required)}}function bt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"h3",25),e._uU(2,"Date Detected"),e.qZA(),e.TgZ(3,"div",26)(4,"div",27),e._UZ(5,"fa-icon",28),e.qZA(),e.TgZ(6,"input",29),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()(),e.YNc(7,ht,2,1,"div",20),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA")),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.risk_form.controls.date_detected.errors)}}function xt(i,a){1&i&&(e.TgZ(0,"div",40),e._uU(1,"Successfully Saved!"),e.qZA())}function yt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e.YNc(2,xt,2,0,"div",34),e.TgZ(3,"div",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.cancel())}),e._UZ(4,"fa-icon",36),e.TgZ(5,"button",37),e._uU(6,"Cancel"),e.qZA()(),e.TgZ(7,"div",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.saveForm(o.risk_form.value))}),e._UZ(8,"fa-icon",36),e.TgZ(9,"button",39),e._uU(10,"Save"),e.qZA()()()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(4),e.Q6J("icon",t.faSave),e.xp6(1),e.Q6J("disabled",t.is_saving)}}function wt(i,a){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,yt,11,4,"div",31),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.focused&&t.risk_form.enabled)}}function Ct(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",47)(4,"h3"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",50),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(r))}),e.TgZ(8,"button",51),e._UZ(9,"fa-icon",52),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Gre(" col-span-8 relative select-none mx-2 ",0==t.risk.hospital_flag&&1==t.risk.monitor_flag?"text-blue-500":1==t.risk.hospital_flag&&0==t.risk.monitor_flag?"text-red-500":"",""),e.xp6(1),e.Oqu(t.risk.risk_name),e.xp6(3),e.Oqu(e.Dn7(6,6,t.date_detected,"MM/dd/yyyy","Asia/Manila")),e.xp6(4),e.Q6J("icon",n.faPencil)}}function Tt(i,a){if(1&i&&(e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"h1",44),e._uU(4," Summary "),e.qZA()(),e.TgZ(5,"div",45)(6,"div",46)(7,"h3"),e._uU(8,"Factors"),e.qZA()(),e.TgZ(9,"div",47)(10,"h3"),e._uU(11,"Date"),e.qZA()()(),e.YNc(12,Ct,10,10,"div",48),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(12),e.Q6J("ngForOf",t.risk_catch)}}function Zt(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"button",4),e._uU(3,"Risk Factors"),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"fa-icon",6),e.TgZ(6,"div",7)(7,"h1",8),e._uU(8,"IMPORTANT"),e.qZA(),e.TgZ(9,"p",9),e._uU(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(11,"div",10)(12,"div",11),e.YNc(13,ft,6,2,"div",12),e.YNc(14,bt,8,3,"div",13),e.qZA()(),e.YNc(15,wt,2,1,"div",14),e.YNc(16,Tt,13,1,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("icon",t.faInfoCircle),e.xp6(8),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused&&!t.risk_form.disabled),e.xp6(1),e.Q6J("ngIf",t.risk_catch.length>0)}}let kt=(()=>{var i;class a{constructor(n,o,r){this.http=n,this.formBuilder=o,this.toastr=r,this.faCalendarDay=d.$nv,this.faTimes=d.NBC,this.faClose=d.YIN,this.faTimesCircle=d.nYk,this.faSave=d.r6l,this.faPencil=d.TzT,this.faAngleDown=d.gc2,this.faInfoCircle=d.sqG,this.faCaretRight=d.I4f,this.risk_form=new s.cw({risk_id:new s.NI(""),date_detected:new s.NI("")}),this.factor=new String,this.keyUp=[],this.buttons=[],this.hide=[],this.risk_catch=[],this.risk_to_edit=null}ngOnInit(){this.loadModule(),this.searching=!1,this.today=new Date,this.is_saving=!1,this.saved=!1}loadModule(){this.patient_mc_record?(this.module_data=this.patient_mc_record,console.log(this.module_data," module data from  loadModule - RISK FACTOR")):this.module_data=-1,this.createForm(),-1!=this.module_data&&this.getRisk()}createForm(){let n=this.http.getUserID(),o=this.http.getUserFacility();this.risk_form=this.formBuilder.group({patient_mc_id:[-1==this.module_data?null:this.module_data.id,[s.kI.required]],facility_code:[o,[s.kI.required]],patient_id:[this.patient_id,[s.kI.required]],user_id:[n,[s.kI.required]],risk_id:["",[s.kI.required]],date_detected:[(new Date).toISOString().substring(0,10),[s.kI.required]]})}getRisk(){this.http.get("maternal-care/mc-risk-factors?patient_mc_id="+this.module_data.id).subscribe({next:n=>{console.log(n," get risks"),this.risk_catch=n.data},error:n=>console.log(n)})}searchfocus(){document.getElementById("searchbar").focus(),this.searching=!0}searchblur(){this.searching=!1}saveForm(n){if(console.log(n),this.is_saving=!0,this.risk_form.valid){let o,r,_="Risk Factors";this.risk_to_edit?(o=this.http.update("maternal-care/mc-risk-factors/",this.risk_to_edit,n),r="Succesfully updated!"):(o=this.http.post("maternal-care/mc-risk-factors",n),r="Succesfully saved!"),o.subscribe({next:c=>{console.log(c.data," data from saving risks"),this.risk_catch=c.data,this.risk_to_edit=null},error:c=>console.log(c),complete:()=>{this.toastr.success(r,_,{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.is_saving=!1,this.createForm()}})}}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}onKeyUp(n,o){this.keyUp.includes(o)?""==n&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}buttonShow(n){this.buttons=[],this.buttons.includes(n)||this.buttons.push(n)}cancel(){this.hide=[],this.keyUp=[],this.risk_form.reset()}edit(n){console.log(n),this.risk_form.reset(),this.createForm(),this.risk_form.patchValue({id:n.id,risk_id:n.risk.id,date_detected:(0,l.p6)(n.date_detected,"Y-MM-dd","en","Asia/Manila")}),this.risk_to_edit=n.id,console.log(this.risk_form," factor value"),console.log(n," risk_id edit")}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-riskfactors"]],inputs:{risk_factors:"risk_factors",patient_mc_record:"patient_mc_record",patient_id:"patient_id"},decls:2,vars:2,consts:[[3,"formGroup"],["class","grid gap-4 relative","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-4","relative",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-0","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","top-1",2,"left","5.5rem"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"relative","drop-modal",2,"grid-column","span 16 / span 16"],[1,"drop-modal","grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class"," col-span-10 border-check relative select-none",4,"ngIf"],["class"," col-span-4",4,"ngIf"],["class"," drop-modal relative w-auto border-check mb-2 -mt-5","style","grid-column: span 14 / span 14; grid-column-start: 3;",4,"ngIf"],["style","grid-column: span 16 / span 16;",4,"ngIf"],[1,"col-span-10","border-check","relative","select-none"],["for","risk_id"],["formControlName","risk_id","id","risk_id",1,"z-50","peer","text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change","keyup","keyup.escape"],["class","p-2 flex-wrap",3,"class","style","value",4,"ngFor","ngForOf"],["class","invalid-alert",4,"ngIf"],[1,"p-2","flex-wrap",3,"value"],[1,"invalid-alert"],[4,"ngIf"],[1,"col-span-4"],["for","date_detected"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","date_detected",1,"text-blue-500",3,"icon"],["formControlName","date_detected","id","date_detected","name","date_detected","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup.escape","change"],[1,"drop-modal","relative","w-auto","border-check","mb-2","-mt-5",2,"grid-column","span 14 / span 14","grid-column-start","3"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"cursor-pointer","flex","border-check","hover:drop-shadow-md","bg-green-300","hover:bg-green-400","py-1","rounded-full","text-white","px-3","peer-hover:bg-white","peer-hover:text-green-400",3,"click"],["type","button",1,"font-bold","button-out","border-check-red",3,"disabled"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[2,"grid-column","span 16 / span 16"],[1,"mb-5","grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mx-2","border","group",2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"select-none"],[1,"text-sm","grid","grid-cols-11","pb-1","font-medium",2,"grid-column","span 11 / span 11"],[1,"col-span-8","relative","select-none","mx-2"],[1,"col-span-2","relative","select-none","mx-2"],["class","text-sm grid grid-cols-11 hover:bg-blue-100 hover:font-medium","style","grid-column: span 11 / span 11;",4,"ngFor","ngForOf"],[1,"text-sm","grid","grid-cols-11","hover:bg-blue-100","hover:font-medium",2,"grid-column","span 11 / span 11"],[1,"relative","select-none","mx-2",3,"click"],["type","button",1,"w-full"],["size","lg",1,"mr-2","hover:text-orange-300",3,"icon"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.YNc(1,Zt,17,5,"div",1),e.qZA()),2&n&&(e.Q6J("formGroup",o.risk_form),e.xp6(1),e.Q6J("ngIf",!o.focused))},dependencies:[l.sg,l.O5,f.BN,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,l.uU],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_visible_drop{0%{opacity:0}to{opacity:1}}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]}),a})();function qt(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Mt(i,a){if(1&i&&(e.TgZ(0,"div",41)(1,"h3",42),e._uU(2,"Visit Count"),e.qZA(),e.YNc(3,qt,1,1,"fa-icon",43),e.TgZ(4,"div",44),e._uU(5),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Oqu(t.value)}}function It(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Nt(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,It,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.prenatal_date.errors?null:t.prenatal_form.controls.prenatal_date.errors.required)}}function At(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"h3",47),e._uU(2,"Date"),e.qZA(),e.TgZ(3,"div",48)(4,"div",49),e._UZ(5,"fa-icon",50),e.qZA(),e.TgZ(6,"input",51),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()(),e.YNc(7,Nt,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(1),e.s9C("max",t.today.toLocaleDateString("en-CA")),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.prenatal_date.errors)}}function Ut(i,a){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.s9C("value",t.code),e.Q6J("selected","Mass Palpable - NA"===t.desc),e.xp6(1),e.hij(" ",t.desc," ")}}function Jt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Pt(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,Jt,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.presentation_code.errors?null:t.prenatal_form.controls.presentation_code.errors.required)}}function Qt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"h3",56),e._uU(2,"Fetal Presentation"),e.qZA(),e.TgZ(3,"select",57),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,Ut,2,3,"option",58),e.qZA(),e.YNc(5,Pt,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.fetals),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.presentation_code.errors)}}function Yt(i,a){1&i&&(e.TgZ(0,"div",60)(1,"div",61)(2,"h3",62),e._uU(3,"Seen Outside RHU"),e.qZA(),e._UZ(4,"input",63),e.qZA()())}function Ot(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Kt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",64)(1,"h3",65),e._uU(2,"Fundic Height"),e.qZA(),e.YNc(3,Ot,1,1,"fa-icon",43),e.TgZ(4,"input",66),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.TgZ(5,"small",67),e._uU(6,"error_message"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1)}}function Ft(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function St(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",68)(1,"h3",69),e._uU(2,"FHR"),e.qZA(),e.YNc(3,Ft,1,1,"fa-icon",43),e.TgZ(4,"input",70),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.TgZ(5,"small",67),e._uU(6,"error_message"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(1),e.Tol(0>=t.prenatal_form.get("fhr").value?"mb-2":"")}}function Gt(i,a){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("selected","N/A"===t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Ht(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",71)(1,"h3",72),e._uU(2,"FHR Location"),e.qZA(),e.TgZ(3,"select",73),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.YNc(4,Gt,2,3,"option",58),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("hidden",0>=t.prenatal_form.get("fhr").value),e.xp6(4),e.Q6J("ngForOf",t.fhr_lib)}}function Dt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"label",74)(1,"div")(2,"input",75),e.NdJ("change",function(o){const _=e.CHM(t).$implicit,c=e.oxw(2);return c.onKeyUp(o.target.value,o.target.id),e.KtG(c.quadrant(_.code))}),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.Gre("","NA"==t.code?"hidden":""," w-24 lg:w-60 md:w-40 sm:w-24"),e.s9C("for",t.code),e.xp6(1),e.Akn("LUQ"==t.code||"RUQ"==t.code?"height: 62.5%":"height: 37.5%"),e.WU1("absolute ","NA"==t.code?"hidden":""," ","LUQ"==t.code?"top-0 z-40":""," ","LLQ"==t.code?"bottom-0 z-40":""," ","RUQ"==t.code?"top-0 right-0 z-40":""," ","RLQ"==t.code?"bottom-0 right-0 z-40":""," w-1/2 hover:bg-gray-400/75 rounded-tl-md border-t border-l  cursor-pointer group"),e.xp6(1),e.Akn("LUQ"==t.code?"transform: translate(100%,150%);":"RUQ"==t.code?"transform: translateY(150%);":""),e.WU1("z-50 rounded-md ","NA"==t.code?"hidden":""," ","LUQ"==t.code?"fhr_chart_u translate-x-full rounded-tl-full":""," ","LLQ"==t.code?"fhr_chart rounded-bl-full translate-x-full":""," ","RUQ"==t.code?"rounded-tr-full fhr_chart_u":""," ","RLQ"==t.code?"fhr_chart rounded-br-full":""," bg-white/25 checked:text-pink-400/75 disabled:opacity-25 border-dashed border border-pink-500 checked:border-dashed checked:border checked:border-pink-300 focus:ring-1 focus:ring-pink-400 group-hover:bg-gray-300 group-hover:checked:bg-pink-400 focus:ring-offset-0"),e.s9C("id",t.code),e.Q6J("checked",n.prenatal_form.get("location_code").value==t.code&&""!=n.prenatal_form.get("fhr").value)("disabled",0>=n.prenatal_form.get("fhr").value)("value",t.code)}}function zt(i,a){if(1&i&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("(",t.cm_value,")")}}function Rt(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Et(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Lt(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,Et,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.patient_height.errors?null:t.prenatal_form.controls.patient_height.errors.required)}}function Bt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",76)(1,"h3",77),e._uU(2,"Height"),e.qZA(),e.YNc(3,zt,2,1,"h3",54),e.YNc(4,Rt,1,1,"fa-icon",43),e.TgZ(5,"input",78),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("input",function(o){e.CHM(t);const r=e.oxw(2);return r.onKeyUp(o.target.value,o.target.id),e.KtG(r.cmCatcher(o.target.value))}),e.qZA(),e.YNc(6,Lt,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.cm_value),e.xp6(1),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.patient_height.errors)}}function Vt(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function jt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Wt(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,jt,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.bp_systolic.errors?null:t.prenatal_form.controls.bp_systolic.errors.required)}}function Xt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"h3",80),e._uU(2,"Systolic"),e.qZA(),e.YNc(3,Vt,1,1,"fa-icon",43),e.TgZ(4,"input",81),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Wt,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.bp_systolic.errors)}}function $t(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function ei(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ti(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,ei,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.bp_diastolic.errors?null:t.prenatal_form.controls.bp_diastolic.errors.required)}}function ii(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",82)(1,"h3",83),e._uU(2,"Diastolic"),e.qZA(),e.YNc(3,$t,1,1,"fa-icon",43),e.TgZ(4,"input",84),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,ti,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.bp_diastolic.errors)}}function oi(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function ni(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function ri(i,a){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,ni,2,0,"div",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.prenatal_form.controls.patient_weight.errors?null:t.prenatal_form.controls.patient_weight.errors.required)}}function ai(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",85)(1,"h3",86),e._uU(2,"Weight (kg)"),e.qZA(),e.YNc(3,oi,1,1,"fa-icon",43),e.TgZ(4,"input",87),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,ri,2,1,"div",52),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.prenatal_form.controls.patient_weight.errors)}}function si(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function _i(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",88)(1,"h3",89),e._uU(2,"Remarks"),e.qZA(),e.YNc(3,si,1,1,"fa-icon",43),e.TgZ(4,"textarea",90),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e._uU(5,"                    "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1)}}function di(i,a){1&i&&(e.TgZ(0,"div",101),e._uU(1,"Successfully Saved!"),e.qZA())}function ci(i,a){if(1&i&&e._UZ(0,"fa-icon",95),2&i){const t=e.oxw(3);e.Q6J("icon",t.faSave)}}function li(i,a){if(1&i&&e._UZ(0,"fa-icon",102),2&i){const t=e.oxw(3);e.Q6J("icon",t.faSpinner)("spin",!0)}}function pi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",92),e.YNc(2,di,2,0,"div",93),e.TgZ(3,"div",94),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cancel())}),e._UZ(4,"fa-icon",95),e.TgZ(5,"button",96),e._uU(6,"Cancel"),e.qZA()(),e.TgZ(7,"div",97),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.saveForm(o.prenatal_form.value))}),e.YNc(8,ci,1,1,"fa-icon",98),e.YNc(9,li,1,2,"fa-icon",99),e.TgZ(10,"button",100),e._uU(11),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(3),e.Gre("cursor-pointer flex  hover:drop-shadow-md ",t.edit_bool?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white peer-hover:text-green-400"),e.Q6J("disabled",t.is_saving),e.xp6(1),e.Q6J("ngIf",!t.is_saving),e.xp6(1),e.Q6J("ngIf",t.is_saving),e.xp6(2),e.hij(" ",t.edit_bool?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function ui(i,a){if(1&i&&e._UZ(0,"fa-icon",117),2&i){const t=e.oxw(4);e.Q6J("icon",t.faCircleCheck)}}function mi(i,a){if(1&i&&e._UZ(0,"fa-icon",118),2&i){const t=e.oxw(4);e.Q6J("icon",t.faTimesCircle)}}function gi(i,a){if(1&i&&e._UZ(0,"fa-icon",119),2&i){const t=e.oxw(4);e.Q6J("icon",t.faPencil)}}function fi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",110)(1,"td",111),e._uU(2),e.qZA(),e.TgZ(3,"td",111),e._uU(4),e.qZA(),e.TgZ(5,"td",111),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",111),e._uU(9),e.qZA(),e.TgZ(10,"td",111),e._uU(11),e.qZA(),e.TgZ(12,"td",111),e._uU(13),e.qZA(),e.TgZ(14,"td",111),e._uU(15),e.qZA(),e.TgZ(16,"td",111),e._uU(17),e.qZA(),e.TgZ(18,"td",111),e._uU(19),e.qZA(),e.TgZ(20,"td",111),e._uU(21),e.qZA(),e.TgZ(22,"td",111),e._uU(23),e.qZA(),e.TgZ(24,"td",111),e.YNc(25,ui,1,1,"fa-icon",112),e.YNc(26,mi,1,1,"fa-icon",113),e.qZA(),e.TgZ(27,"td",114),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(r))}),e.TgZ(28,"button",115),e.YNc(29,gi,1,1,"fa-icon",116),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(t.visit_sequence),e.xp6(2),e.AsE("",t.trimester,"",1==t.trimester?"st":2==t.trimester?"nd":3==t.trimester?"rd":"th"," "),e.xp6(2),e.Oqu(e.xi3(7,19,t.prenatal_date,"MM/dd/yyy")),e.xp6(3),e.HOy(" ",t.aog_weeks,"",t.aog_weeks?t.aog_weeks>1?" weeks":" week":""," ",t.aog_days,"",t.aog_days?t.aog_days>1?" days":" day":""," "),e.xp6(2),e.Oqu(t.patient_weight),e.xp6(2),e.AsE("",t.bp_systolic,"/",t.bp_diastolic,""),e.xp6(2),e.Oqu(null==t.fundic_height?"-":t.fundic_height),e.xp6(2),e.Oqu(null==t.fhr?"-":t.fhr),e.xp6(2),e.Oqu(0==t.fhr||null==t.fhr?"-":t.location_code),e.xp6(2),e.Oqu(t.presentation_code),e.xp6(2),e.Oqu(t.remarks?t.remarks:"-"),e.xp6(2),e.Q6J("ngIf",t.private),e.xp6(1),e.Q6J("ngIf",!t.private),e.xp6(3),e.Q6J("ngIf",!n.edit_bool)}}function vi(i,a){if(1&i&&(e.TgZ(0,"div",3)(1,"div",103)(2,"div",104)(3,"h1",33),e._uU(4," Visits "),e.qZA()(),e.TgZ(5,"div",105)(6,"table",106)(7,"thead",107)(8,"tr")(9,"th",108),e._uU(10,"No."),e.qZA(),e.TgZ(11,"th",108),e._uU(12,"Trimester"),e.qZA(),e.TgZ(13,"th",108),e._uU(14,"Date"),e.qZA(),e.TgZ(15,"th",108),e._uU(16,"AOG"),e.qZA(),e.TgZ(17,"th",108),e._uU(18,"Weight (kg)"),e.qZA(),e.TgZ(19,"th",108),e._uU(20,"BP"),e.qZA(),e.TgZ(21,"th",108),e._uU(22,"Fundic Height"),e.qZA(),e.TgZ(23,"th",108),e._uU(24,"FHR"),e.qZA(),e.TgZ(25,"th",108),e._uU(26,"FHR Location"),e.qZA(),e.TgZ(27,"th",108),e._uU(28,"Fetal Presentation"),e.qZA(),e.TgZ(29,"th",108),e._uU(30,"Remarks"),e.qZA(),e.TgZ(31,"th",108),e._uU(32,"Outside"),e.qZA(),e._UZ(33,"th",108),e.qZA()(),e.TgZ(34,"tbody"),e.YNc(35,fi,30,22,"tr",109),e.qZA()()()()()),2&i){const t=e.oxw(2);e.xp6(1),e.Gre("mb-5 grid rounded-lg hover:drop-shadow-lg drop-shadow-md bg-white rounded-lg hover:border border-gray-300 hover:border-blue-400 mx-2  border overflow-y-scroll scrollbar-thin scrollbar-thumb-white hover:scrollbar-thumb-blue-300 scrollbar-track-white ",4>t.prenatal_data.length?"h-max":"h-96"," relative"),e.xp6(34),e.Q6J("ngForOf",t.prenatal_data)}}function hi(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),e._uU(5," Important Dates "),e.qZA()(),e.TgZ(6,"h3",7),e._uU(7,"EDC Date"),e.TgZ(8,"p",8),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"h3",7),e._uU(12,"LMP Date"),e.TgZ(13,"p",8),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"h3",9),e._uU(17,"End of 1st Trimester"),e.TgZ(18,"p",8),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"h3",9),e._uU(22,"End of 2nd Trimester"),e.TgZ(23,"p",8),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"h3",9),e._uU(27,"End of 3rd Trimester"),e.TgZ(28,"p",8),e._uU(29),e.ALo(30,"date"),e.qZA()()()(),e.TgZ(31,"div",10)(32,"button",11),e._uU(33,"Prenatal"),e.qZA(),e.TgZ(34,"div",12),e._UZ(35,"fa-icon",13),e.TgZ(36,"div",14)(37,"h1",15),e._uU(38,"IMPORTANT"),e.qZA(),e.TgZ(39,"p",16),e._uU(40,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(41,"div",3)(42,"div",17),e.YNc(43,Mt,6,2,"div",18),e.YNc(44,At,8,3,"div",19),e.YNc(45,Qt,6,2,"div",20),e.YNc(46,Yt,5,0,"div",21),e.qZA()(),e.TgZ(47,"div",22)(48,"div",23),e.YNc(49,Kt,7,1,"div",24),e.YNc(50,St,7,3,"div",25),e.YNc(51,Ht,5,2,"div",26),e.qZA()(),e.TgZ(52,"div",27),e.YNc(53,Dt,3,26,"label",28),e._UZ(54,"img",29),e.qZA(),e.TgZ(55,"div",30)(56,"div",31)(57,"div",32)(58,"h1",33),e._uU(59," Vitals "),e.qZA()(),e.YNc(60,Bt,7,3,"div",34),e.YNc(61,Xt,6,2,"div",35),e.YNc(62,ii,6,2,"div",36),e.YNc(63,ai,6,2,"div",37),e.YNc(64,_i,6,1,"div",38),e.qZA()(),e.YNc(65,pi,12,9,"div",39),e.YNc(66,vi,36,4,"div",40),e.qZA()),2&i){const t=e.oxw();e.xp6(9),e.Oqu(e.Dn7(10,23,t.patient_mc_record.pre_registration.edc_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(5),e.Oqu(e.Dn7(15,27,t.patient_mc_record.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(5),e.Oqu(e.Dn7(20,31,t.patient_mc_record.pre_registration.trimester1_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(5),e.Oqu(e.Dn7(25,35,t.patient_mc_record.pre_registration.trimester2_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(5),e.Oqu(e.Dn7(30,39,t.patient_mc_record.pre_registration.trimester3_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(6),e.Q6J("icon",t.faInfoCircle),e.xp6(8),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(3),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(2),e.Q6J("ngForOf",t.fhr_lib),e.xp6(1),e.Tol(""!=t.prenatal_form.get("fhr").value?"":"opacity-25"),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused&&t.prenatal_form.enabled),e.xp6(1),e.Q6J("ngIf",0!=t.prenatal_data.length)}}let bi=(()=>{var i;class a{constructor(n,o,r){this.http=n,this.formBuilder=o,this.toastr=r,this.faCalendarDay=d.$nv,this.faTimes=d.NBC,this.faClose=d.YIN,this.faTimesCircle=d.nYk,this.faSave=d.r6l,this.faPencil=d.TzT,this.faAngleDown=d.gc2,this.faInfoCircle=d.sqG,this.faCaretRight=d.I4f,this.faCircleCheck=d.fV7,this.faSpinner=d.IJ7,this.prenatal_form=new s.cw({prenatal_date:new s.NI(""),patient_height:new s.NI(""),patient_weight:new s.NI(""),bp_systolic:new s.NI(""),bp_diastolic:new s.NI(""),fundic_height:new s.NI(""),presentation_code:new s.NI(""),fhr:new s.NI(""),location_code:new s.NI(""),remarks:new s.NI(""),private:new s.NI("")}),this.fhr=new Number,this.fundic_height=new Number,this.fhr_location_id=new String,this.fetal_presentation_id=new String,this.patient_height=new Number,this.patient_weight=new Number,this.bp_systolic=new Number,this.bp_diastolic=new Number,this.consult_id=new Number,this.mc_id=new Number,this.user_id=new Number,this.trimester=new Number,this.remarks=new String,this.cm_value="",this.modal_id="",this.prenatal_mc_data=new e.vpe,this.mcPrenatal_id=[],this.keyUp=[],this.buttons=[],this.catch_array=[],this.hide=[],this.prenatal_data=[]}ngOnInit(){this.value=1,this.today=new Date,this.getMCR()}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}flipVitals(n){n!=this.modal_id?(this.modal_id=n,this.vitals_modal=!0):this.vitals_modal=!this.vitals_modal}saveForm(n){this.is_saving=!0;let o=this.catch_array.findIndex(r=>r.visit_sequence===this.value);if(-1!=o&&this.catch_array.splice(o,1),console.log(this.prenatal_form.valid,this.prenatal_form.value),this.prenatal_form.valid){this.actual_height&&(this.prenatal_form.value.patient_height=this.actual_height);let r={},_=this.prenatal_form.value;for(let g in _)null!=_[String(g)]&&(r[g]=_[String(g)]);let c,u,m="Prenatal Visit";this.edit_bool?(c=this.http.update("maternal-care/mc-prenatal/",this.edit_id,r),u="Succesfully updated!"):(c=this.http.post("maternal-care/mc-prenatal",r),u="Succesfully saved!"),console.log(r,this.prenatal_form.value," filtered saveform"),c.subscribe({next:g=>{console.log(g.data," data from saving prenatal"),this.prenatal_data=g.data,this.prenatal_mc_data.emit(g.data),this.value=this.prenatal_data[0].visit_sequence+1},error:g=>{console.log(g),this.is_saving=!1},complete:()=>{this.toastr.success(u,m,{timeOut:1500,progressBar:!0,progressAnimation:"increasing"}),this.edit_bool=!1,this.getMCR(),this.is_saving=!1}})}else this.is_saving=!1;console.log(this.prenatal_form.value," prenatal form"),this.catch_array.push(this.prenatal_form.value),this.catch_array.sort(function(r,_){return r.visit_sequence-_.visit_sequence})}trackByFn(n,o){return n}getMCR(){this.prenatal_data=[],console.log(this.patient_mc_record," from getMCR - prenatal;"),console.log(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:this.patient_mc_record.prenatal_visit," try getmcr"),(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:1==this.patient_mc_record.prenatal_visit.length)&&(console.log("it went true"),this.value=this.patient_mc_record.prenatal_visit[0].visit_sequence+1,this.prenatal_data=this.patient_mc_record.prenatal_visit),this.createForm()}createForm(){let n;(this.patient_mc_record.prenatal_visit[0]?this.patient_mc_record.prenatal_visit[0]:1==this.patient_mc_record.prenatal_visit.length)?n=this.patient_mc_record.prenatal_visit[0]:(console.log(" its false coz prenatal is 0"),n=this.patient_mc_record.prenatal_visit);let o=this.http.getUserID(),r=this.http.getUserFacility();this.prenatal_form=this.formBuilder.group({patient_mc_id:[this.patient_mc_record.id,[s.kI.required,s.kI.minLength(2)]],facility_code:[r,[s.kI.required,s.kI.minLength(2)]],patient_id:[this.patient_id,[s.kI.required,s.kI.minLength(2)]],user_id:[o,[s.kI.required,s.kI.minLength(2)]],prenatal_date:[(new Date).toISOString().substring(0,10),[s.kI.required]],patient_height:[0!=n.length?n.patient_height:0,[s.kI.required,s.kI.minLength(2)]],patient_weight:[0!=n.length?n.patient_weight:0,[s.kI.required,s.kI.minLength(2)]],bp_systolic:["",[s.kI.required,s.kI.minLength(2)]],bp_diastolic:["",[s.kI.required,s.kI.minLength(2)]],fundic_height:[null],presentation_code:["",[s.kI.required,s.kI.minLength(2)]],fhr:[null],location_code:["NA"],remarks:[""],private:[0]})}quadrant(n){this.prenatal_form.get("location_code").value==n?(this.prenatal_form.get("location_code").setValue("N/A"),this.keyUp.splice(this.keyUp.indexOf(n),1)):this.prenatal_form.get("location_code").setValue(n)}onKeyUp(n,o){console.log(n+" this is my data input"),this.keyUp.includes(o)?""==n&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o),console.log(this.keyUp)}clearForm(n){this.prenatal_form.get(n).reset()}cmCatcher(n,o){console.log(n," cmCatcher"),o=n.split(" "),console.log(o[0]),o[0]>9?(this.feet=n/30.48,this.decimal=this.feet-Math.trunc(this.feet),this.in=12*this.decimal,this.in=+this.in.toFixed(2),this.actual_height=n,this.cm_value=Math.trunc(this.feet)+"ft "+this.in+" in",console.log("h value is ",Math.trunc(this.feet),"ft ",this.in," in")):(console.log(n.lastIndexOf(" ")),console.log(n.lastIndexOf(",")),1==n.lastIndexOf(" ")?(n=n.split(" "),this.feet=30.48*n[0],this.feet=+this.feet.toFixed(1),console.log(n[1]>12),n[1]>=12&&(n[1]=11),this.in=2.54*n[1],this.in=+this.in.toFixed(1),this.actual_height=this.feet+this.in,this.cm_value=this.feet+this.in+" cm"):(this.feet=30.48*n,this.feet=+this.feet.toFixed(1),this.actual_height=this.feet,this.cm_value=this.feet+" cm"))}buttonShow(n){this.buttons=[],this.buttons.includes(n)||this.buttons.push(n)}cancel(){this.hide=[],this.keyUp=[],this.edit_bool=!1,this.is_saving=!1,this.getMCR(),console.log("canceling")}edit(n){this.edit_bool=!0,console.log(n," data to be editesd"),this.edit_form={patient_mc_id:n.patient_mc_id,patient_id:this.patient_id,prenatal_date:n.prenatal_date,patient_height:n.patient_height,patient_weight:n.patient_weight,bp_systolic:n.bp_systolic,bp_diastolic:n.bp_diastolic,fundic_height:n.fundic_height,presentation_code:n.presentation_code,fhr:n.fhr,location_code:n.location_code,private:n.private,remarks:n.remarks},this.prenatal_form.patchValue(this.edit_form),this.value=n.visit_sequence,console.log(this.edit_form," edit form"),console.log(n.id," id pre edit"),this.edit_id=n.id,this.edit_bool=!0}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-prenatal"]],inputs:{fetals:"fetals",fhr_lib:"fhr_lib",patient_mc_record:"patient_mc_record",patient_id:"patient_id"},outputs:{prenatal_mc_data:"prenatal_mc_data"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit"],["class","grid gap-2 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[2,"grid-column","span 16 / span 16"],[1,"grid","rounded-lg","drop-shadow-md","bg-white","rounded-lg","border-gray-300","m-2","border",2,"grid-template-columns","repeat(13, minmax(0, 1fr))"],[1,"text-sm","font-bold","form-check","p-2","font-semibold","border","border-dashed","border-gray-300","group-hover:border-pink-400","border-t-0","border-l-0","border-r-0",2,"grid-column","span 13 / span 13"],[1,"select-none","text-pink-500"],[1,"bg-white","col-span-2","rounded-md","mx-2","font-semibold","text-center"],[1,"font-medium"],[1,"bg-white","col-span-3","rounded-md","mx-2","font-semibold","text-center"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-16","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-pink-400","p-2","pt-4","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-2 row-span-2  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-3",4,"ngIf"],["class","transitions col-span-4 col-start-7  relative select-none",4,"ngIf"],["class","transitions col-span-3 mx-2",4,"ngIf"],[1,"row-span-3","col-span-4"],[1,"grid","gap-2","grid-cols-4","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border"],["class","transitions col-span-4  relative select-none group mx-2 mt-2",4,"ngIf"],["class","transitions col-span-4  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4  relative select-none mx-2 mb-2",3,"hidden",4,"ngIf"],[1,"col-span-4","relative","h-max","border","border-gray-300","drop-shadow-md","hover:drop-shadow-lg","rounded-md"],[3,"for","class",4,"ngFor","ngForOf"],["src","assets\\img\\abdomen.png","alt","...",1,"w-24","lg:w-60","md:w-40","sm:w-24","object-contain","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","rounded-lg"],[2,"grid-column","span 7 / span 7","grid-column-end","17"],[1,"grid","gap-2","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border","group",2,"grid-template-columns","repeat(6, minmax(0, 1fr))"],[1,"text-pink-500","px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400",2,"grid-column","span 6 / span 6"],[1,"select-none"],["class","transitions col-span-2  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-2  relative select-none group ml-2 mb-2",4,"ngIf"],["class","transitions col-span-2  relative select-none group mr-2 mb-2",4,"ngIf"],["class","transitions col-span-2 col-start-1  relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4   relative select-none group mx-2 mb-2",4,"ngIf"],["class","relative w-auto  mb-10 w-12/12","style","grid-column: span 16 / span 16;",4,"ngIf"],["style","grid-column: span 16 / span 16;",4,"ngIf"],[1,"transitions","col-span-2","row-span-2","relative","select-none","group","mx-2"],["for","visit_sequence",1,"whitespace-nowrap"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-300",3,"icon",4,"ngIf"],[1,"text-center","text-2xl","font-bold","py-2","border-gray-300","border","rounded-lg"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-300",3,"icon"],[1,"transitions","col-span-4","col-start-3"],["for","prenatal_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","prenatal_date",1,"text-blue-500",3,"icon"],["formControlName","prenatal_date","id","prenatal_date","name","prenatal_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"max","keyup.escape","change"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-4","col-start-7","relative","select-none"],["for","presentation_code"],["formControlName","presentation_code","id","presentation_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change"],["class","p-2 flex-wrap",3,"selected","value",4,"ngFor","ngForOf"],[1,"p-2","flex-wrap",3,"selected","value"],[1,"transitions","col-span-3","mx-2"],[1,"border-check-red","group"],["for","private"],["type","checkbox","formControlName","private",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-4","relative","select-none","group","mx-2","mt-2"],["for","fundic_height"],["type","number","formControlName","fundic_height","min","0","id","fundic_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"hidden","peer-invalid:block","text-red-400"],[1,"transitions","col-span-4","relative","select-none","group","mx-2"],["for","fhr"],["type","number","formControlName","fhr","min","0","id","fhr",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","relative","select-none","mx-2","mb-2",3,"hidden"],["for","location_code"],["formControlName","location_code","id","location_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change"],[3,"for"],["type","checkbox",3,"checked","disabled","id","value","change"],[1,"transitions","col-span-2","relative","select-none","group","mx-2"],["for","patient_height"],["type","text","formControlName","patient_height","id","patient_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","input"],[1,"transitions","col-span-2","relative","select-none","group","ml-2","mb-2"],["for","bp_systolic"],["type","number","formControlName","bp_systolic","min","0","id","bp_systolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","relative","select-none","group","mr-2","mb-2"],["for","bp_diastolic"],["type","number","formControlName","bp_diastolic","min","0","id","bp_diastolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","col-start-1","relative","select-none","group","mx-2"],["for","patient_weight"],["type","number","formControlName","patient_weight","min","0","id","patient_weight",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","relative","select-none","group","mx-2","mb-2"],["for","remarks"],["type","text","formControlName","remarks","id","remarks",1,"remarks","font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"relative","w-auto","mb-10","w-12/12",2,"grid-column","span 16 / span 16"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","-red"],[3,"disabled","click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2",3,"icon","spin",4,"ngIf"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[1,"mr-2",3,"icon","spin"],[2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"h-max","px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 11 / span 11"],[1,"table-auto","relative"],[1,"sticky","top-0","bg-white"],[1,"px-2"],["class","hover:bg-blue-100 group",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100","group"],[1,"px-2","font-normal"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],[1,"px-2",3,"click"],["type","button",1,"w-full"],["size","lg","class","mr-2 hover:text-orange-300 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","md",1,"text-green-400",3,"icon"],["size","md",1,"text-red-400",3,"icon"],["size","lg",1,"mr-2","hover:text-orange-300","invisible","group-hover:visible",3,"icon"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.saveForm(o.prenatal_form.value)}),e.YNc(1,hi,67,43,"div",1),e.qZA()),2&n&&(e.Q6J("formGroup",o.prenatal_form),e.xp6(1),e.Q6J("ngIf",!o.focused))},dependencies:[l.sg,l.O5,f.BN,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.qQ,s.sg,s.u,l.uU],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.remarks[_ngcontent-%COMP%]{min-height:5rem;max-height:8rem;width:100%}.fhr_chart[_ngcontent-%COMP%]{height:60%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:40%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]}),a})();function xi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModal())}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("icon",t.faPenToSquare)}}function yi(i,a){1&i&&(e.TgZ(0,"div",17),e._uU(1,"No records found."),e.qZA())}function wi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModal())}),e._uU(1,"Add"),e.qZA()}}function Ci(i,a){1&i&&(e.TgZ(0,"th",22),e._uU(1,"Positive"),e.qZA())}function Ti(i,a){1&i&&(e.TgZ(0,"th",22),e._uU(1,"Penicillin"),e.qZA())}function Zi(i,a){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,t.service_date,"MM/dd/yyyy","Asia/Manila"))}}function ki(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2).index,_=e.oxw(3);return e.KtG(_.service_list[r].service_date=o)}),e.qZA()}if(2&i){const t=e.oxw(2).index,n=e.oxw(3);e.Q6J("ngModel",n.service_list[t].service_date)}}function qi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2).index,_=e.oxw(3);return e.KtG(_.service_list[r].service_qty=o)}),e.qZA()}if(2&i){const t=e.oxw(2).index,n=e.oxw(3);e.Q6J("ngModel",n.service_list[t].service_qty)}}function Mi(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(6);e.Q6J("icon",t.faCircleCheck)}}function Ii(i,a){if(1&i&&e._UZ(0,"fa-icon",46),2&i){const t=e.oxw(6);e.Q6J("icon",t.faTimesCircle)}}function Ni(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"-"),e.qZA())}function Ai(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3).index,_=e.oxw(3);return e.KtG(_.service_list[r].positive_result=o)}),e.qZA()}if(2&i){const t=e.oxw(3).index,n=e.oxw(3);e.Q6J("ngModel",n.service_list[t].positive_result)}}function Ui(i,a){if(1&i&&(e.TgZ(0,"th",27),e.YNc(1,Mi,1,1,"fa-icon",42),e.YNc(2,Ii,1,1,"fa-icon",43),e.YNc(3,Ni,2,0,"p",28),e.YNc(4,Ai,1,1,"input",44),e.qZA()),2&i){const t=e.oxw(2),n=t.$implicit,o=t.index,r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.positive_result&&n.group.pos&&r.edit!==o),e.xp6(1),e.Q6J("ngIf",!n.positive_result&&n.group.pos&&r.edit!==o),e.xp6(1),e.Q6J("ngIf",!n.group.pos),e.xp6(1),e.Q6J("ngIf",r.edit===o&&n.group.pos)}}function Ji(i,a){if(1&i&&e._UZ(0,"fa-icon",45),2&i){const t=e.oxw(6);e.Q6J("icon",t.faCircleCheck)}}function Pi(i,a){if(1&i&&e._UZ(0,"fa-icon",46),2&i){const t=e.oxw(6);e.Q6J("icon",t.faTimesCircle)}}function Qi(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"-"),e.qZA())}function Yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3).index,_=e.oxw(3);return e.KtG(_.service_list[r].intake_penicillin=o)}),e.qZA()}if(2&i){const t=e.oxw(3).index,n=e.oxw(3);e.Q6J("ngModel",n.service_list[t].intake_penicillin)}}function Oi(i,a){if(1&i&&(e.TgZ(0,"th",27),e.YNc(1,Ji,1,1,"fa-icon",42),e.YNc(2,Pi,1,1,"fa-icon",43),e.YNc(3,Qi,2,0,"p",28),e.YNc(4,Yi,1,1,"input",44),e.qZA()),2&i){const t=e.oxw(2),n=t.$implicit,o=t.index,r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.intake_penicillin&&n.group.pen&&r.edit!==o),e.xp6(1),e.Q6J("ngIf",!n.intake_penicillin&&n.group.pen&&r.edit!==o),e.xp6(1),e.Q6J("ngIf",!n.group.pen),e.xp6(1),e.Q6J("ngIf",r.edit===o&&n.group.pen)}}function Ki(i,a){if(1&i&&(e.TgZ(0,"p",48),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.visit_type_code)}}function Fi(i,a){if(1&i&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Si(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2).index,_=e.oxw(3);return e.KtG(_.service_list[r].visit_type_code=o)}),e.YNc(1,Fi,2,2,"option",50),e.qZA()}if(2&i){const t=e.oxw(2).index,n=e.oxw(3);e.Q6J("ngModel",n.service_list[t].visit_type_code),e.xp6(1),e.Q6J("ngForOf",n.visit_type)}}function Gi(i,a){if(1&i&&e._UZ(0,"fa-icon",52),2&i){const t=e.oxw(5);e.Q6J("icon",t.faPencil)}}function Hi(i,a){if(1&i&&e._UZ(0,"fa-icon",53),2&i){const t=e.oxw(5);e.Q6J("icon",t.faTimes)}}function Di(i,a){if(1&i&&e._UZ(0,"fa-icon",54),2&i){const t=e.oxw(5);e.Q6J("icon",t.faSpinner)("spin",!0)}}function zi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,r=e.oxw(3);return e.KtG(r.saveEdit(o))}),e.qZA()}if(2&i){const t=e.oxw(5);e.Q6J("icon",t.faSave)}}function Ri(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",26)(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"th",27),e.YNc(4,Zi,3,5,"p",28),e.YNc(5,ki,1,1,"input",29),e.qZA(),e.TgZ(6,"th",27)(7,"p"),e._uU(8),e.qZA(),e.YNc(9,qi,1,1,"input",30),e.qZA(),e.YNc(10,Ui,5,4,"th",31),e.YNc(11,Oi,5,4,"th",31),e.TgZ(12,"th",32),e.YNc(13,Ki,2,1,"p",33),e.YNc(14,Si,2,2,"select",34),e.qZA(),e.TgZ(15,"th",27)(16,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw(3);return e.KtG(r.enableEdit(o))}),e.YNc(17,Gi,1,1,"fa-icon",36),e.qZA(),e.TgZ(18,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw(3);return e.KtG(r.enableEdit(o))}),e.YNc(19,Hi,1,1,"fa-icon",37),e.qZA(),e.TgZ(20,"button"),e.YNc(21,Di,1,2,"fa-icon",38),e.YNc(22,zi,1,1,"fa-icon",39),e.qZA()()()}if(2&i){const t=e.oxw(),n=t.$implicit,o=t.index,r=e.oxw(3);e.xp6(2),e.Oqu(n.service.desc),e.xp6(2),e.Q6J("ngIf",r.edit!==o),e.xp6(1),e.Q6J("ngIf",r.edit===o),e.xp6(3),e.hij(" ",n.group.qty&&n.service_qty?r.edit===o?"":n.service_qty:"-",""),e.xp6(1),e.Q6J("ngIf",r.edit===o&&n.group.qty),e.xp6(1),e.Q6J("ngIf","Prenatal"==r.services_form.value.visit_status),e.xp6(1),e.Q6J("ngIf","Prenatal"==r.services_form.value.visit_status),e.xp6(2),e.Q6J("ngIf",r.edit!==o),e.xp6(1),e.Q6J("ngIf",r.edit===o),e.xp6(3),e.Q6J("ngIf",r.edit!==o),e.xp6(2),e.Q6J("ngIf",r.edit===o),e.xp6(2),e.Q6J("ngIf",r.is_saving&&r.edit===o),e.xp6(1),e.Q6J("ngIf",r.edit===o&&!r.is_saving)}}function Ei(i,a){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,Ri,23,13,"tr",25),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.visit_status===n.services_form.value.visit_status)}}function Li(i,a){if(1&i&&(e.TgZ(0,"div",19)(1,"table",20)(2,"thead",21)(3,"tr")(4,"th",22),e._uU(5,"Description"),e.qZA(),e.TgZ(6,"th",22),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th",22),e._uU(9,"Quantity"),e.qZA(),e.YNc(10,Ci,2,0,"th",23),e.YNc(11,Ti,2,0,"th",23),e.TgZ(12,"th",22),e._uU(13,"Visit Type"),e.qZA(),e._UZ(14,"th",22),e.qZA()(),e.YNc(15,Ei,2,1,"tbody",24),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(10),e.Q6J("ngIf","Prenatal"==t.services_form.value.visit_status),e.xp6(1),e.Q6J("ngIf","Prenatal"==t.services_form.value.visit_status),e.xp6(4),e.Q6J("ngForOf",t.service_list)}}function Bi(i,a){1&i&&(e.TgZ(0,"th"),e._uU(1,"Quantity"),e.qZA())}function Vi(i,a){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.pos_name)}}function ji(i,a){1&i&&(e.TgZ(0,"th"),e._uU(1,"Penicillin"),e.qZA())}function Wi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",73)(1,"input",77),e.NdJ("ngModel",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.getNG(o.id,"service_qty"))})("change",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.onChange(o.desc,o.id,"service_qty"))}),e.qZA()()}}function Xi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",73)(1,"input",78),e.NdJ("change",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.onChange(o.desc,o.id,"positive_result"))})("ngModel",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.getNG(o.id,"positive_result"))}),e.qZA()()}}function $i(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",73)(1,"input",79),e.NdJ("change",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.onChange(o.desc,o.id,"intake_penicillin"))})("ngModel",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.getNG(o.id,"intake_penicillin"))}),e.qZA()()}}function eo(i,a){if(1&i&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function to(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr",72)(2,"td",73),e._uU(3),e.qZA(),e.TgZ(4,"td",73)(5,"input",74),e.NdJ("ngModel",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.getNG(r.id,"service_date"))})("change",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.onChange(r.desc,r.id,"service_date"))}),e.qZA()(),e.YNc(6,Wi,2,0,"td",75),e.YNc(7,Xi,2,0,"td",75),e.YNc(8,$i,2,0,"td",75),e.TgZ(9,"td",73)(10,"select",76),e.NdJ("change",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.onChange(r.desc,r.id,"visit_type_code"))})("ngModel",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.getNG(r.id,"visit_type_code"))}),e.YNc(11,eo,2,2,"option",50),e.qZA()()()()}if(2&i){const t=a.$implicit,n=e.oxw().$implicit,o=e.oxw(3);e.Tol("Postpartum"==o.services_form.value.visit_status?"VITA"==t.id||"IRON"==t.id?"":"hidden":""),e.xp6(3),e.Oqu(t.desc),e.xp6(3),e.Q6J("ngIf",n.qty),e.xp6(1),e.Q6J("ngIf",n.pos),e.xp6(1),e.Q6J("ngIf",n.pen),e.xp6(3),e.Q6J("ngForOf",o.visit_type)}}function io(i,a){if(1&i&&(e.TgZ(0,"div",70)(1,"table")(2,"thead")(3,"tr"),e._UZ(4,"th"),e.TgZ(5,"th"),e._uU(6,"Date"),e.qZA(),e.YNc(7,Bi,2,0,"th",28),e.YNc(8,Vi,2,1,"th",28),e.YNc(9,ji,2,0,"th",28),e.TgZ(10,"th"),e._uU(11,"Visit Type"),e.qZA()()(),e.YNc(12,to,12,8,"tbody",71),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Gre("table-auto border-separate border-spacing-2 border bg-white w-full ","Postpartum"==n.services_form.value.visit_status?"G1"==t.name?"":"hidden":"",""),e.xp6(6),e.Q6J("ngIf",t.qty),e.xp6(1),e.Q6J("ngIf",t.pos),e.xp6(1),e.Q6J("ngIf",t.pen),e.xp6(3),e.Q6J("ngForOf",t.service)}}function oo(i,a){1&i&&(e.TgZ(0,"div",80),e._uU(1," Successfully Saved!"),e.qZA())}function no(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",57)(2,"div",58)(3,"div",59)(4,"button",3),e._uU(5,"Services"),e.qZA()(),e.TgZ(6,"div",60),e.YNc(7,io,13,7,"div",61),e.qZA(),e.TgZ(8,"div",62)(9,"div",63)(10,"div",64),e.YNc(11,oo,2,0,"div",65),e.TgZ(12,"div",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closeModal())}),e._UZ(13,"fa-icon",67),e.TgZ(14,"button",68),e._uU(15,"Cancel"),e.qZA()(),e.TgZ(16,"div",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.saveForm())}),e._UZ(17,"fa-icon",67),e.TgZ(18,"button",68),e._uU(19,"Save"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.group_list),e.xp6(4),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(4),e.Q6J("icon",t.faSave)}}function ro(i,a){1&i&&e._UZ(0,"div",81)}function ao(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"button",3),e._uU(3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,xi,1,1,"fa-icon",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),e.YNc(10,yi,2,0,"div",10),e.YNc(11,wi,2,0,"button",11),e.YNc(12,Li,16,3,"div",12),e.qZA()()()(),e.TgZ(13,"form",13),e.YNc(14,no,20,4,"div",14),e.qZA(),e.YNc(15,ro,1,0,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.hij("",3==t.module?"Prenatal":4==t.module?"Postpartum":"Services"," Services"),e.xp6(2),e.Q6J("ngIf",0!=t.service_list.length),e.xp6(5),e.Q6J("ngIf",0==t.service_list.length),e.xp6(1),e.Q6J("ngIf",0==t.service_list.length),e.xp6(1),e.Q6J("ngIf",0!=t.service_list.length),e.xp6(1),e.Q6J("formGroup",t.services_form),e.xp6(1),e.Q6J("ngIf",t.modal),e.xp6(1),e.Q6J("ngIf",t.modal)}}let so=(()=>{var i;class a{constructor(n,o){this.http=n,this.formBuilder=o,this.services_form=new s.cw({service_date:new s.NI(""),service_qty:new s.NI(""),intake_penicillin:new s.NI(""),positive_result:new s.NI("")}),this.modalStats=new e.vpe,this.faTimes=d.NBC,this.faSave=d.r6l,this.faInfoCircle=d.sqG,this.faPenToSquare=d.Yai,this.faTimesCircle=d.nYk,this.faCircleCheck=d.fV7,this.faPencil=d.TzT,this.faSpinner=d.IJ7,this.serviceChanges=[],this.service_array=[],this.service_list=[],this.array_form=[],this.group_list=[{name:"G1",qty:!0,pos:!1,pos_name:"",pen:!1,service:[]},{name:"G2",qty:!1,pos:!1,pos_name:"",pen:!1,service:[]},{name:"G3",qty:!1,pos:!0,pos_name:"Positive",pen:!0,service:[]},{name:"G4",qty:!1,pos:!0,pos_name:"Positive",pen:!1,service:[]},{name:"G5",qty:!1,pos:!0,pos_name:"Anemia",pen:!1,service:[]}]}ngOnInit(){this.user_id=this.http.getUserID(),this.facility_code=this.http.getUserFacility(),this.createForm();for(let n=0;n<11;n++)this.serviceChanges.push(this.services_form.value);this.getServices(),this.tagServiceGroup(),this.today=new Date,this.modal=!1}enableEdit(n){this.edit=this.edit!=n?n:"s",console.log(this.edit,this.edit!=n,n," enableEdit()")}saveForm(){this.is_saving=!0,console.log(this.serviceChanges),this.serviceChanges.forEach(n=>{""!=n.service_id&&(console.log(this.serviceChanges.map(o=>o.service_id).indexOf(n.service_id)," logging index of with id"),console.log("commiting to save ",n),this.http.post("maternal-care/mc-services",n).subscribe({next:o=>{console.log(o.data," data from saving services"),this.getServices()},error:o=>console.log(o),complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1,this.closeModal()},1500)}}))}),this.createForm()}getServices(){this.http.get("maternal-care/mc-services?filter[patient_mc_id]="+this.patient_mc_record.id).subscribe({next:n=>{console.log(n," get services"),this.service_list=n.data,this.service_list.forEach(o=>{"DENT"==o.service.id||"HIV"==o.service.id?o.group=this.group_list[1]:"IRON"==o.service.id||"VITA"==o.service.id||"CALC"==o.service.id||"IODN"==o.service.id||"DWRMG"==o.service.id?o.group=this.group_list[0]:"SYP"==o.service.id?o.group=this.group_list[2]:"HEPB"==o.service.id||"DIBTS"==o.service.id?o.group=this.group_list[3]:"CBC"==o.service.id&&(o.group=this.group_list[4])}),console.log(this.service_list," get service after pushing group")},error:n=>console.log(n)})}tagServiceGroup(){this.lib_services.forEach(n=>{"DENT"==n.id||"HIV"==n.id?this.group_list[1].service.push(n):"IRON"==n.id||"VITA"==n.id||"CALC"==n.id||"IODN"==n.id||"DWRMG"==n.id?this.group_list[0].service.push(n):"SYP"==n.id?this.group_list[2].service.push(n):"HEPB"==n.id||"DIBTS"==n.id?this.group_list[3].service.push(n):"CBC"==n.id&&this.group_list[4].service.push(n)}),console.log(this.group_list," after tagging groups")}createForm(){this.lib_services.forEach(n=>this.array_form.push({service_date:(new Date).toISOString().substring(0,10),visit_type_code:"",visit_status:3==this.module?"Prenatal":4==this.module?"Postpartum":"Services",service_qty:"",positive_result:!1,intake_penicillin:!1,service_id:n.id})),this.services_form=this.formBuilder.group({service_date:[(new Date).toISOString().substring(0,10),[s.kI.required]],visit_type_code:["",[s.kI.required]],visit_status:[3==this.module?"Prenatal":4==this.module?"Postpartum":"Services"],service_qty:[0],positive_result:[!1],intake_penicillin:[!1],service_id:[""]})}getNG(n,o){return this.serviceChanges[this.array_form.map(r=>r.service_id).indexOf(n)][o]}saveEdit(n){let o;console.log(this.service_list[n]," saveEdit bnoy"),o={patient_mc_id:this.service_list[n].patient_mc_id,patient_id:this.service_list[n].patient_id,service_id:this.service_list[n].service.id,visit_type_code:this.service_list[n].visit_type_code,visit_status:this.service_list[n].visit_status,service_date:this.service_list[n].service_date,service_qty:this.service_list[n].service_qty,positive_result:this.service_list[n].positive_result,intake_penicillin:this.service_list[n].intake_penicillin},console.log(o," show edits"),this.is_saving=!0,this.http.update("maternal-care/mc-services/",this.service_list[n].id,o).subscribe({next:r=>{console.log(r.data," data from saving services"),this.getServices(),this.service_list[n].push(r.data)},error:r=>{console.log(r),this.is_saving=!1},complete:()=>{this.is_saving=!1,this.saved=!0,setTimeout(()=>{this.saved=!1,this.closeModal()},1500),this.edit="s"}})}onChange(n,o,r){let _=this.array_form.map(c=>c.service_id).indexOf(o);this.serviceChanges[_]={patient_mc_id:this.patient_mc_record.id,facility_code:this.facility_code,patient_id:this.patient_id,user_id:this.user_id,visit_type_code:"visit_type_code"==r?this.services_form.value[r]:this.serviceChanges[_].visit_type_code,visit_status:this.services_form.value.visit_status,intake_penicillin:"intake_penicillin"==r?this.services_form.value[r]:this.serviceChanges[_].intake_penicillin,positive_result:"positive_result"==r?this.services_form.value[r]:this.serviceChanges[_].positive_result,service_date:"service_date"==r?this.services_form.value[r]:this.serviceChanges[_].service_date,service_qty:"service_qty"==r?this.services_form.value[r]:this.serviceChanges[_].service_qty,service_id:o},console.log(this.serviceChanges," these are the changes with the description: ",n)}openModal(){console.log("opening modal"),this.modal=!this.modal,this.modalStats.emit(this.modal),this.createForm()}closeModal(){console.log("opening modal"),this.modal=!1,this.modalStats.emit(this.modal)}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-services"]],inputs:{lib_services:"lib_services",visit_type:"visit_type",patient_id:"patient_id",patient_mc_record:"patient_mc_record",module:"module"},outputs:{modalStats:"modalStats"},decls:1,vars:1,consts:[["class","grid gap-4 relative animates-dropdown","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-4","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","right-2","top-1"],["size","md","class","text-white hover:text-gray-500 z-50 ",3,"icon","click",4,"ngIf"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(9, minmax(0, 1fr))"],["class","font-light col-span-4",4,"ngIf"],["class","col-start-[9] bg-green-400 rounded hover:bg-green-500 font-medium text-white my-1 mx-2",3,"click",4,"ngIf"],["class","text-sm pb-1 font-semibold h-max","style","grid-column: span 9 / span 9;",4,"ngIf"],[3,"formGroup"],["id","defaultModal","tabindex","-1","class","modal-main overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog",4,"ngIf"],["class","modal opacity-50 fixed inset-0 bg-black",4,"ngIf"],["size","md",1,"text-white","hover:text-gray-500","z-50",3,"icon","click"],[1,"font-light","col-span-4"],[1,"col-start-[9]","bg-green-400","rounded","hover:bg-green-500","font-medium","text-white","my-1","mx-2",3,"click"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 9 / span 9"],[1,"table-auto","relative","w-full"],[1,"sticky","top-0"],[1,"px-2"],["class","px-2",4,"ngIf"],[4,"ngFor","ngForOf"],["class","hover:bg-blue-100 group",4,"ngIf"],[1,"hover:bg-blue-100","group"],[1,"px-2","font-normal"],[4,"ngIf"],["id","service_date","name","service_date","type","date","class","calendar-style col-span-8 rounded border-solid border border-zinc-300 focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none disabled:cursor-not-allowed",3,"ngModel","ngModelChange",4,"ngIf"],["type","number","min","0","class","in-style font-medium disabled:group-hover:font-semibold peer invalid:border-red-500 border-check focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none rounded border-solid border border-zinc-300 placeholder-black placeholder-opacity-100 disabled:cursor-not-allowed disabled:border-0  disabled:pl-5  disabled:typed-out disabled:group-hover:bg-gray-100 disabled:rounded-full",3,"ngModel","ngModelChange",4,"ngIf"],["class","px-2 font-normal",4,"ngIf"],[1,"px-2","font-normal",2,"text-transform","lowercase"],["class","capitalize",4,"ngIf"],["id","visit_type_code","class","text-ellipsis bg-white text-align-left drop_btn border-check focus:border-blue-300 focus:ring-1 focus:ring-blue-300 outline-none rounded border-solid border border-zinc-300 placeholder-black placeholder-opacity-100 disabled:cursor-not-allowed",3,"ngModel","ngModelChange",4,"ngIf"],[3,"click"],["size","lg","class","text-gray-400 hover:text-orange-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","lg","class","text-gray-400 hover:text-red-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["class","pl-4 text-gray-400 hover:text-blue-400 invisible group-hover:visible",3,"icon","spin",4,"ngIf"],["size","lg","class","pl-4 text-gray-400 hover:text-blue-400 invisible group-hover:visible",3,"icon","click",4,"ngIf"],["id","service_date","name","service_date","type","date",1,"calendar-style","col-span-8","rounded","border-solid","border","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"ngModel","ngModelChange"],["type","number","min","0",1,"in-style","font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"ngModel","ngModelChange"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["min","0","type","checkbox","class","check-style h-6 w-6 border border-gray-400 rounded-md bg-white checked:bg-blue-400 checked:border-blue-500 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",3,"ngModel","ngModelChange",4,"ngIf"],["size","md",1,"text-red-400",3,"icon"],["size","md",1,"text-green-400",3,"icon"],["min","0","type","checkbox",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"ngModel","ngModelChange"],[1,"capitalize"],["id","visit_type_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","lg",1,"text-gray-400","hover:text-orange-400","invisible","group-hover:visible",3,"icon"],["size","lg",1,"text-gray-400","hover:text-red-400","invisible","group-hover:visible",3,"icon"],[1,"pl-4","text-gray-400","hover:text-blue-400","invisible","group-hover:visible",3,"icon","spin"],["size","lg",1,"pl-4","text-gray-400","hover:text-blue-400","invisible","group-hover:visible",3,"icon","click"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"modal-main","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"grid","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-0","z-50","border","border-blue-400","col-span-2","relative","p-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],[1,"bg-gray-100","overflow-y-scroll","scrollbar-thin","scrollbar-thumb-white","hover:scrollbar-thumb-blue-300","scrollbar-track-white","h-96",2,"grid-column","span 16 / span 16"],["class","m-4",4,"ngFor","ngForW-full","ngForOf"],[1,"pr-2","bg-white","rounded-b-lg",2,"grid-column","span 16 / span 16"],[1,"relative","w-auto","border-check","mb-2","w-12/12","flex"],[1,"inline-flex","ml-auto","mt-2"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"mr-2","cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[1,"cursor-pointer","flex","border-check","hover:drop-shadow-md","bg-green-300","hover:bg-green-400","py-1","rounded-full","text-white","px-3","peer-hover:bg-white","peer-hover:text-green-400",3,"click"],[1,"m-4"],[3,"class",4,"ngFor","ngForOf"],[1,"pb-2","hover:bg-blue-100"],[1,"font-normal","px-4"],["formControlName","service_date","id","service_date","name","service_date","type","date","width","auto",1,"col-span-8","rounded","border-solid","border","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"ngModel","change"],["class","font-normal px-4",4,"ngIf"],["formControlName","visit_type_code","id","visit_type_code",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed",3,"change","ngModel"],["type","number","formControlName","service_qty","min","0",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"ngModel","change"],["type","checkbox","formControlName","positive_result",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"change","ngModel"],["type","checkbox","formControlName","intake_penicillin",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer",3,"change","ngModel"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[1,"modal","opacity-50","fixed","inset-0","bg-black"]],template:function(n,o){1&n&&e.YNc(0,ao,16,8,"div",0),2&n&&e.Q6J("ngIf",!o.focused)},dependencies:[l.sg,l.O5,f.BN,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.qQ,s.On,s.sg,s.u,l.uU],styles:[".modal[_ngcontent-%COMP%]{z-index:100!important}.modal-main[_ngcontent-%COMP%]{z-index:110!important}input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}.in-style[_ngcontent-%COMP%]{width:5rem;height:1.7rem}.calendar-style[_ngcontent-%COMP%]{height:1.7rem}.remarks[_ngcontent-%COMP%]{min-height:5rem;max-height:8rem;width:100%}.fhr_chart[_ngcontent-%COMP%]{height:60%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:40%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}"]}),a})();function _o(i,a){if(1&i&&e._UZ(0,"fa-icon",37),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function co(i,a){if(1&i&&(e.TgZ(0,"div",32)(1,"h3",33),e._uU(2,"Visit Count"),e.qZA(),e.YNc(3,_o,1,1,"fa-icon",34),e._UZ(4,"input",35),e.TgZ(5,"div",36),e._uU(6),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(1),e.Q6J("value",t.value),e.xp6(2),e.hij(" ",t.value," ")}}function lo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function po(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,lo,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.visit_type.errors?null:t.postpartum_visit_form.controls.visit_type.errors.required)}}function uo(i,a){if(1&i&&(e.TgZ(0,"div",38)(1,"h3",39),e._uU(2,"Visit Type"),e.qZA(),e.TgZ(3,"select",40)(4,"option",41),e._uU(5,"Clinic Visit"),e.qZA(),e.TgZ(6,"option",42),e._uU(7,"Home Visit"),e.qZA()(),e.YNc(8,po,2,1,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.visit_type.errors)}}function mo(i,a){if(1&i&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("(",t.cm_value,")")}}function go(i,a){if(1&i&&e._UZ(0,"fa-icon",37),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function fo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function vo(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,fo,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.patient_height.errors?null:t.postpartum_visit_form.controls.patient_height.errors.required)}}function ho(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",46)(1,"h3",47),e._uU(2,"Height"),e.qZA(),e.YNc(3,mo,2,1,"h3",45),e.YNc(4,go,1,1,"fa-icon",34),e.TgZ(5,"input",48),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return r.onKeyUp(o.target.value,o.target.id),e.KtG(r.cmCatcher(o.target.value))}),e.qZA(),e.YNc(6,vo,2,1,"div",43),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("hidden",t.cm_value),e.xp6(2),e.Q6J("ngIf",t.cm_value),e.xp6(1),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.patient_height.errors)}}function bo(i,a){if(1&i&&e._UZ(0,"fa-icon",37),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function xo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function yo(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,xo,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.bp_systolic.errors?null:t.postpartum_visit_form.controls.bp_systolic.errors.required)}}function wo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"h3",50),e._uU(2,"Systolic"),e.qZA(),e.YNc(3,bo,1,1,"fa-icon",34),e.TgZ(4,"input",51),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,yo,2,1,"div",43),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.bp_systolic.errors)}}function Co(i,a){if(1&i&&e._UZ(0,"fa-icon",37),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function To(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Zo(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,To,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.bp_diastolic.errors?null:t.postpartum_visit_form.controls.bp_diastolic.errors.required)}}function ko(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"h3",53),e._uU(2,"Diastolic"),e.qZA(),e.YNc(3,Co,1,1,"fa-icon",34),e.TgZ(4,"input",54),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Zo,2,1,"div",43),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.bp_diastolic.errors)}}function qo(i,a){if(1&i&&e._UZ(0,"fa-icon",37),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCaretRight)}}function Mo(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Io(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Mo,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.patient_weight.errors?null:t.postpartum_visit_form.controls.patient_weight.errors.required)}}function No(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"h3",56),e._uU(2,"Weight (kg)"),e.qZA(),e.YNc(3,qo,1,1,"fa-icon",34),e.TgZ(4,"input",57),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))})("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearForm(o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA(),e.YNc(5,Io,2,1,"div",43),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.focused&&!1),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.patient_weight.errors)}}function Ao(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Required field "),e.qZA())}function Uo(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Ao,2,0,"div",45),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.postpartum_visit_form.controls.postpartum_date.errors?null:t.postpartum_visit_form.controls.postpartum_date.errors.required)}}function Jo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"h3",59),e._uU(2,"Date"),e.qZA(),e.TgZ(3,"div",60)(4,"div",61),e._UZ(5,"fa-icon",62),e.qZA(),e.TgZ(6,"input",63),e.NdJ("keyup.escape",function(o){e.CHM(t);const r=e.oxw(2);return o.target.value="",e.KtG(r.onKeyUp(o.target.value,o.target.id))})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o.target.value,o.target.id))}),e.qZA()(),e.YNc(7,Uo,2,1,"div",43),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("icon",t.faCalendarDay),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.postpartum_visit_form.controls.postpartum_date.errors)}}function Po(i,a){if(1&i&&(e.TgZ(0,"div",64)(1,"div",65),e._UZ(2,"input",66),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[0].name," ")}}function Qo(i,a){if(1&i&&(e.TgZ(0,"div",64)(1,"div",65),e._UZ(2,"input",68),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[1].name," ")}}function Yo(i,a){if(1&i&&(e.TgZ(0,"div",69)(1,"div",70),e._UZ(2,"input",71),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[2].name," ")}}function Oo(i,a){if(1&i&&(e.TgZ(0,"div",72)(1,"div",65),e._UZ(2,"input",73),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[3].name," ")}}function Ko(i,a){if(1&i&&(e.TgZ(0,"div",64)(1,"div",70),e._UZ(2,"input",74),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[4].name," ")}}function Fo(i,a){if(1&i&&(e.TgZ(0,"div",75)(1,"div",76),e._UZ(2,"input",77),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[5].name," ")}}function So(i,a){if(1&i&&(e.TgZ(0,"div",75)(1,"div",76),e._UZ(2,"input",78),e.TgZ(3,"label",67),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.toggle_questionaire[6].name," ")}}function Go(i,a){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5)(2,"button",6),e._uU(3,"Visits (Postpartum)"),e.qZA(),e.TgZ(4,"div",7),e._UZ(5,"fa-icon",8),e.TgZ(6,"div",9)(7,"h1",10),e._uU(8,"IMPORTANT"),e.qZA(),e.TgZ(9,"p",11),e._uU(10,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(11,"div",12)(12,"div",13),e.YNc(13,co,7,3,"div",14),e.YNc(14,uo,9,1,"div",15),e.qZA()(),e.TgZ(15,"div",16)(16,"div",17)(17,"div",18)(18,"h1",19),e._uU(19," Vitals "),e.qZA()(),e.YNc(20,ho,7,4,"div",20),e.YNc(21,wo,6,2,"div",21),e.YNc(22,ko,6,2,"div",22),e.YNc(23,No,6,2,"div",23),e.YNc(24,Jo,8,2,"div",24),e.qZA()(),e.TgZ(25,"div",25)(26,"div",26)(27,"div",27)(28,"h1",19),e._uU(29," Postpartum Events "),e.qZA()(),e.YNc(30,Po,5,1,"div",28),e.YNc(31,Qo,5,1,"div",28),e.YNc(32,Yo,5,1,"div",29),e.YNc(33,Oo,5,1,"div",30),e.YNc(34,Ko,5,1,"div",28),e.YNc(35,Fo,5,1,"div",31),e.YNc(36,So,5,1,"div",31),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("icon",t.faInfoCircle),e.xp6(8),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(6),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused),e.xp6(1),e.Q6J("ngIf",!t.focused)}}function Ho(i,a){1&i&&(e.TgZ(0,"div",88),e._uU(1," Successfully Saved!"),e.qZA())}function Do(i,a){if(1&i&&e._UZ(0,"fa-icon",83),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSave)}}function zo(i,a){if(1&i&&e._UZ(0,"fa-icon",89),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function Ro(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"div",80),e.YNc(2,Ho,2,0,"div",81),e.TgZ(3,"div",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(4,"fa-icon",83),e.TgZ(5,"button",84),e._uU(6,"Cancel"),e.qZA()(),e.TgZ(7,"div",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveForm())}),e.YNc(8,Do,1,1,"fa-icon",86),e.YNc(9,zo,1,2,"fa-icon",87),e.TgZ(10,"button",84),e._uU(11),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.saved),e.xp6(2),e.Q6J("icon",t.faTimes),e.xp6(3),e.Gre("cursor-pointer flex border-check hover:drop-shadow-md ",t.edit_bool?"bg-blue-300 hover:bg-blue-400 peer-hover:text-blue-400":"bg-green-300 hover:bg-green-400 peer-hover:text-green-400"," py-1 rounded-full text-white px-3 peer-hover:bg-white peer-hover:text-green-400"),e.xp6(1),e.Q6J("ngIf",!t.is_saving),e.xp6(1),e.Q6J("ngIf",t.is_saving),e.xp6(2),e.hij(" ",t.edit_bool?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Eo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"div",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e.TgZ(2,"div",91),e._UZ(3,"fa-icon",83),e.TgZ(4,"button",92),e.NdJ("keyup.enter",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uncheck(o.target.id+r.fphx_cat))}),e._uU(5,"Edit"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faPencil)}}function Lo(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function Bo(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function Vo(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function jo(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function Wo(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function Xo(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function $o(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function en(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function tn(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function on(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function nn(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function rn(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function an(i,a){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faCircleCheck)}}function sn(i,a){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faTimesCircle)}}function _n(i,a){if(1&i&&e._UZ(0,"fa-icon",109),2&i){const t=e.oxw(3);e.Q6J("icon",t.faPencil)}}function dn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",100)(1,"th",101),e._uU(2),e.qZA(),e.TgZ(3,"th",101),e._uU(4),e.qZA(),e.TgZ(5,"th",101),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"th",101),e._uU(9),e.qZA(),e.TgZ(10,"th",101),e._uU(11),e.qZA(),e.TgZ(12,"th",101),e._uU(13),e.qZA(),e.TgZ(14,"th",101),e.YNc(15,Lo,1,1,"fa-icon",102),e.YNc(16,Bo,1,1,"fa-icon",103),e.qZA(),e.TgZ(17,"th",101),e.YNc(18,Vo,1,1,"fa-icon",102),e.YNc(19,jo,1,1,"fa-icon",103),e.qZA(),e.TgZ(20,"th",101),e.YNc(21,Wo,1,1,"fa-icon",102),e.YNc(22,Xo,1,1,"fa-icon",103),e.qZA(),e.TgZ(23,"th",101),e.YNc(24,$o,1,1,"fa-icon",102),e.YNc(25,en,1,1,"fa-icon",103),e.qZA(),e.TgZ(26,"th",101),e.YNc(27,tn,1,1,"fa-icon",102),e.YNc(28,on,1,1,"fa-icon",103),e.qZA(),e.TgZ(29,"th",101),e.YNc(30,nn,1,1,"fa-icon",102),e.YNc(31,rn,1,1,"fa-icon",103),e.qZA(),e.TgZ(32,"th",101),e.YNc(33,an,1,1,"fa-icon",102),e.YNc(34,sn,1,1,"fa-icon",103),e.qZA(),e.TgZ(35,"th",104)(36,"button",105),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.edit(r))}),e.YNc(37,_n,1,1,"fa-icon",106),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(t.visit_sequence),e.xp6(2),e.Oqu(t.postpartum_week),e.xp6(2),e.Oqu(e.Dn7(7,22,t.postpartum_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(3),e.Oqu(t.patient_height),e.xp6(2),e.Oqu(t.patient_weight),e.xp6(2),e.AsE("",t.bp_systolic,"/",t.bp_diastolic,""),e.xp6(2),e.Q6J("ngIf",t.fever),e.xp6(1),e.Q6J("ngIf",!t.fever),e.xp6(2),e.Q6J("ngIf",t.vaginal_infection),e.xp6(1),e.Q6J("ngIf",!t.vaginal_infection),e.xp6(2),e.Q6J("ngIf",t.vaginal_bleeding),e.xp6(1),e.Q6J("ngIf",!t.vaginal_bleeding),e.xp6(2),e.Q6J("ngIf",t.pallor),e.xp6(1),e.Q6J("ngIf",!t.pallor),e.xp6(2),e.Q6J("ngIf",t.cord_ok),e.xp6(1),e.Q6J("ngIf",!t.cord_ok),e.xp6(2),e.Q6J("ngIf",t.breastfeeding),e.xp6(1),e.Q6J("ngIf",!t.breastfeeding),e.xp6(2),e.Q6J("ngIf",t.family_planning),e.xp6(1),e.Q6J("ngIf",!t.family_planning),e.xp6(3),e.Q6J("ngIf",!n.edit_bool)}}function cn(i,a){if(1&i&&(e.TgZ(0,"div",93)(1,"div",94)(2,"div",95)(3,"h1",19),e._uU(4," Postpartum Visits "),e.qZA()(),e.TgZ(5,"div",96)(6,"table",97)(7,"thead")(8,"tr")(9,"th",98),e._uU(10,"No."),e.qZA(),e.TgZ(11,"th",98),e._uU(12,"Week"),e.qZA(),e.TgZ(13,"th",98),e._uU(14,"Date"),e.qZA(),e.TgZ(15,"th",98),e._uU(16,"Height (cm)"),e.qZA(),e.TgZ(17,"th",98),e._uU(18,"Weight (kg)"),e.qZA(),e.TgZ(19,"th",98),e._uU(20,"BP"),e.qZA(),e.TgZ(21,"th",98),e._uU(22,"Fever > 38 C"),e.qZA(),e.TgZ(23,"th",98),e._uU(24,"Vaginal Infection"),e.qZA(),e.TgZ(25,"th",98),e._uU(26,"Vaginal Bleeding"),e.qZA(),e.TgZ(27,"th",98),e._uU(28,"Pallor"),e.qZA(),e.TgZ(29,"th",98),e._uU(30,"Baby's Cord OK"),e.qZA(),e.TgZ(31,"th",98),e._uU(32,"Breastfeeding"),e.qZA(),e.TgZ(33,"th",98),e._uU(34,"FP Method"),e.qZA(),e._UZ(35,"th",98),e.qZA()(),e.TgZ(36,"tbody"),e.YNc(37,dn,38,26,"tr",99),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(37),e.Q6J("ngForOf",t.postpartum_data)}}let ln=(()=>{var i;class a{constructor(n,o){this.http=n,this.formBuilder=o,this.faCalendarDay=d.$nv,this.faTimes=d.NBC,this.faClose=d.YIN,this.faTimesCircle=d.nYk,this.faSave=d.r6l,this.faSpinner=d.IJ7,this.faPencil=d.TzT,this.faAngleDown=d.gc2,this.faInfoCircle=d.sqG,this.faCaretRight=d.I4f,this.faCircleCheck=d.fV7,this.postpartum_visit_form=new s.cw({postpartum_date:new s.NI(""),visit_type:new s.NI(""),patient_height:new s.NI(""),patient_weight:new s.NI(""),bp_systolic:new s.NI(""),bp_diastolic:new s.NI(""),breastfeeding:new s.NI(""),family_planning:new s.NI(""),fever:new s.NI(""),vaginal_infection:new s.NI(""),vaginal_bleeding:new s.NI(""),pallor:new s.NI(""),cord_ok:new s.NI("")}),this.patient_height=new Number,this.patient_weight=new Number,this.bp_systolic=new Number,this.bp_diastolic=new Number,this.mc_id=new Number,this.user_id=new Number,this.post_visit_data=new e.vpe,this.cm_value="",this.keyUp=[],this.buttons=[],this.postpartum_data=[],this.toggle_questionaire=[{name:"Vaginal infection",form_name:"vaginal_infection"},{name:"Vaginal bleeding",form_name:"vaginal_bleeding"},{name:"Fever > 38*C",form_name:"fever"},{name:"Pallor",form_name:"pallor"},{name:"Baby's cord OK",form_name:"cord_ok"},{name:"Patient Breastfeeds baby",form_name:"breastfeeding"},{name:"Family Planning Method",form_name:"family_planning"}]}ngOnInit(){this.value=1,this.getMCR(),this.edit_bool=!1,this.focused=!1}flip(){this.focused=!this.focused,this.keyUp=[],this.buttons=[],this.buttons.push("save")}getMCR(){0!=this.patient_mc_record.length&&((this.patient_mc_record.postpartum_visit[0]?this.patient_mc_record.postpartum_visit[0]:1==this.patient_mc_record.postpartum_visit.length)&&(this.value=this.patient_mc_record.postpartum_visit[0].visit_sequence+1,this.postpartum_data=this.patient_mc_record.postpartum_visit),this.createForm(this.patient_mc_record))}createForm(n){let _,o=this.http.getUserID(),r=this.http.getUserFacility();_=(this.patient_mc_record.postpartum_visit[0]?this.patient_mc_record.postpartum_visit[0]:1==this.patient_mc_record.postpartum_visit.length)?n.postpartum_visit[0]:n.postpartum_visit,this.postpartum_visit_form=this.formBuilder.group({patient_mc_id:[n.id],facility_code:[r],patient_id:[this.patient_id],user_id:[o],postpartum_date:[(new Date).toISOString().substring(0,10),[s.kI.required]],visit_type:["",[s.kI.required]],patient_height:[_?_.patient_height:"",[s.kI.required]],patient_weight:[_?_.patient_weight:"",[s.kI.required]],bp_systolic:["",[s.kI.required]],bp_diastolic:["",[s.kI.required]],breastfeeding:[!1],family_planning:[!1],fever:[!1],vaginal_infection:[!1],vaginal_bleeding:[!1],pallor:[!1],cord_ok:[!1]})}edit(n){this.edit_bool=!0,this.edit_form={patient_mc_id:n.patient_mc_id,patient_id:this.patient_id,postpartum_date:n.postpartum_date,visit_type:n.visit_type,patient_height:n.patient_height,patient_weight:n.patient_weight,bp_systolic:n.bp_systolic,bp_diastolic:n.bp_diastolic,breastfeeding:n.breastfeeding,family_planning:n.family_planning,fever:n.fever,vaginal_infection:n.vaginal_infection,vaginal_bleeding:n.vaginal_bleeding,pallor:n.pallor,cord_ok:n.cord_ok},this.postpartum_visit_form.patchValue(this.edit_form),this.value=0,this.value=n.visit_sequence,this.edit_id=n.id,this.edit_bool=!0}saveForm(){if(this.is_saving=!0,this.postpartum_visit_form.valid){let n;this.actual_height&&(this.postpartum_visit_form.value.patient_height=this.actual_height,this.edit_form&&(this.edit_form.patient_height=this.actual_height)),n=this.edit_bool?this.http.update("maternal-care/mc-postpartum/",this.edit_id,this.postpartum_visit_form.value):this.http.post("maternal-care/mc-postpartum",this.postpartum_visit_form.value),n.subscribe({next:o=>{this.postpartum_data=o.data,this.post_visit_data.emit(o.data),this.value=this.postpartum_data[0].visit_sequence+1},error:o=>console.log(o),complete:()=>{this.is_saving=!1,this.saved=!0,this.edit_bool=!1,this.edit_form=[],this.createForm(this.patient_mc_record),setTimeout(()=>{this.saved=!1},1500)}})}else this.is_saving=!1}onKeyUp(n,o){this.keyUp.includes(o)?""==n&&this.keyUp.splice(this.keyUp.indexOf(o),1):this.keyUp.push(o)}clearForm(n){this.postpartum_visit_form.get(n).reset()}cmCatcher(n,o){n.split(" ")[0]>9?(this.feet=n/30.48,this.decimal=this.feet-Math.trunc(this.feet),this.in=12*this.decimal,this.in=+this.in.toFixed(2),this.actual_height=n,this.cm_value=Math.trunc(this.feet)+"ft "+this.in+" in",console.log("h value is ",Math.trunc(this.feet),"ft ",this.in," in")):1==n.lastIndexOf(" ")?(n=n.split(" "),this.feet=30.48*n[0],this.feet=+this.feet.toFixed(1),n[1]>=12&&(n[1]=11),this.in=2.54*n[1],this.in=+this.in.toFixed(1),this.actual_height=this.feet+this.in,this.cm_value=this.feet+this.in+" cm"):(this.feet=30.48*n,this.feet=+this.feet.toFixed(1),this.actual_height=this.feet,this.cm_value=this.feet+" cm")}buttonShow(n){this.buttons=[],this.buttons.includes(n)||this.buttons.push(n)}cancel(){this.keyUp=[],this.edit_bool=!1,this.getMCR()}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-postvisits"]],inputs:{patient_mc_record:"patient_mc_record",patient_id:"patient_id"},outputs:{post_visit_data:"post_visit_data"},decls:5,vars:5,consts:[[3,"formGroup","ngSubmit"],["class","grid gap-2 relative animates-dropdown ","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],["class","relative w-auto border-check mt-2 mb-7 w-12/12",4,"ngIf"],["style","grid-column: span 16 / span 16;","class","mt-12",4,"ngIf"],[1,"grid","gap-2","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","relative","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[1,"absolute","left-36","top-1"],[1,"peer","ml-4","text-white","hover:text-gray-500","z-50",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded-md","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-64","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-4","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-b-lg","hover:border","border-gray-300","hover:border-pink-400","p-2","pt-4","m-2","border","-mt-5",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],["class","transitions col-span-2 row-span-2 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 border-check relative select-none",4,"ngIf"],[2,"grid-column","span 6 / span 6"],[1,"grid","gap-2","grid-cols-6","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-pink-400","mx-2","border","group"],[1,"col-span-6","text-pink-500","form-check","px-2","py-1","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400"],[1,"select-none"],["class","transitions col-span-2 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-2 border-check relative select-none group ml-2 mb-2",4,"ngIf"],["class","transitions col-span-2 border-check relative select-none group mr-2 mb-2",4,"ngIf"],["class","transitions col-span-2 col-start-1 border-check relative select-none group mx-2",4,"ngIf"],["class","transitions col-span-4 col-start-3 mb-2 mx-2",4,"ngIf"],[2,"grid-column","span 10 / span 10"],[1,"grid","grid-cols-8","gap-2","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mr-2","border"],[1,"col-span-9","text-gray-500","form-check","px-2","py-1","font-bold","text-sm","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-pink-400"],["class","transitions col-span-3 mx-2",4,"ngIf"],["class","transitions col-span-3 mx-2 col-start-1",4,"ngIf"],["class","transitions col-span-3 mx-2 col-start-7 row-start-2",4,"ngIf"],["class","transitions col-span-4 mx-2",4,"ngIf"],[1,"transitions","col-span-2","row-span-2","border-check","relative","select-none","group","mx-2"],["for","visit_sequence",1,"whitespace-nowrap"],["class","absolute bottom-1.5 left-2 text-gray-300 group-hover:text-pink-300",3,"icon",4,"ngIf"],["type","text","formControlName","visit_sequence","id","visit_sequence","hidden","",1,"text-lg","font-medium","disabled:group-hover:font-semibold","peer","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"value"],[1,"text-center","text-2xl","font-bold","py-2","border-gray-300","border","rounded-lg"],[1,"absolute","bottom-1.5","left-2","text-gray-300","group-hover:text-pink-300",3,"icon"],[1,"transitions","col-span-4","border-check","relative","select-none"],["for","fetal_presentation_id"],["formControlName","visit_type","name","visit_type","id","visit_type",1,"text-ellipsis","bg-white","text-align-left","drop_btn","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed"],["value","CLINIC"],["value","HOME"],["class","invalid-alert",4,"ngIf"],[1,"invalid-alert"],[4,"ngIf"],[1,"transitions","col-span-2","border-check","relative","select-none","group","mx-2"],["for","patient_height",3,"hidden"],["type","text","formControlName","patient_height","id","patient_height",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","border-check","relative","select-none","group","ml-2","mb-2"],["for","bp_systolic"],["type","number","formControlName","bp_systolic","id","bp_systolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","border-check","relative","select-none","group","mr-2","mb-2"],["for","bp_diastolic"],["type","number","formControlName","bp_diastolic","id","bp_diastolic",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-2","col-start-1","border-check","relative","select-none","group","mx-2"],["for","patient_weight"],["type","number","formControlName","patient_weight","id","patient_weight",1,"font-medium","disabled:group-hover:font-semibold","peer","invalid:border-red-500","border-check","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","rounded","border-solid","border","border-zinc-300","placeholder-black","placeholder-opacity-100","disabled:cursor-not-allowed","disabled:border-0","disabled:pl-5","disabled:typed-out","disabled:group-hover:bg-gray-100","disabled:rounded-full",3,"keyup","keyup.escape","change"],[1,"transitions","col-span-4","col-start-3","mb-2","mx-2"],["for","postpartum_date"],[1,"grid","grid-cols-10"],[1,"icon-height","col-span-2","p-2","pt-1","rounded-l","border-solid","border","border-zinc-300"],["size","lg","for","postpartum_date",1,"text-blue-500",3,"icon"],["formControlName","postpartum_date","id","postpartum_date","name","postpartum_date","type","date","width","auto",1,"col-span-8","rounded-r","border-solid","border","border-l-0","border-zinc-300","focus:border-blue-300","focus:ring-1","focus:ring-blue-300","outline-none","disabled:cursor-not-allowed",3,"keyup.escape","change"],[1,"transitions","col-span-3","mx-2"],[1,"border-check-red","pt-2","group"],["type","checkbox","formControlName","vaginal_infection",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","1","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["name","check",1,"text-gray-800","cursor-pointer"],["type","checkbox","formControlName","vaginal_bleeding",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-3","mx-2","col-start-1"],[1,"border-check-red","group"],["type","checkbox","formControlName","fever",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-3","mx-2","col-start-7","row-start-2"],["type","checkbox","formControlName","pallor",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["type","checkbox","formControlName","cord_ok",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"transitions","col-span-4","mx-2"],[1,"border-check-red","py-5","group"],["type","checkbox","formControlName","breastfeeding",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],["type","checkbox","formControlName","family_planning",1,"check-style","h-6","w-6","border","border-gray-400","rounded-md","bg-white","checked:bg-blue-400","checked:border-blue-500","focus:outline-none","transition","duration-200","mt-1","align-top","bg-no-repeat","bg-center","bg-contain","float-left","mr-2","cursor-pointer"],[1,"relative","w-auto","border-check","mt-2","mb-7","w-12/12"],[1,"absolute","inline-flex","right-0"],["class","border rounded-md bg-green-200 text-green-400 px-2 ease-in-out duration-1000",4,"ngIf"],[1,"cursor-pointer","flex","border-check","bg-white","hover:drop-shadow-md","hover:bg-gray-400","py-1","rounded-full","text-gray-400","hover:text-white","pl-2","pr-2","peer",3,"click"],["size","lg",1,"mr-2",3,"icon"],["type","button",1,"font-bold","button-out","border-check-red"],[3,"click"],["size","lg","class","mr-2",3,"icon",4,"ngIf"],["class","mr-2",3,"icon","spin",4,"ngIf"],[1,"border","rounded-md","bg-green-200","text-green-400","px-2","ease-in-out","duration-1000"],[1,"mr-2",3,"icon","spin"],[1,"absolute","inline-flex","right-0","cursor-pointer",3,"click"],[1,"flex","border-check","bg-orange-300","hover:bg-orange-400","py-1","rounded-full","text-white","px-2"],["type","submit",1,"font-bold","button-out","border-check-red","typed-out",3,"keyup.enter"],[1,"mt-12",2,"grid-column","span 16 / span 16"],[1,"mb-5","grid","rounded-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","rounded-lg","hover:border","border-gray-300","hover:border-blue-400","mx-2","border",2,"grid-template-columns","repeat(11, minmax(0, 1fr))"],[1,"px-2","py-1","text-sm","font-bold","border","border-dashed","border-gray-300","border-t-0","border-l-0","border-r-0","group-hover:border-blue-400",2,"grid-column","span 11 / span 11"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 11 / span 11"],[1,"table-auto","w-full"],[1,"font-semibold"],["class","hover:bg-blue-100 group",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100","group"],[1,"font-normal"],["size","md","class","text-green-400",3,"icon",4,"ngIf"],["size","md","class","text-red-400",3,"icon",4,"ngIf"],[1,"px-2"],["type","button",3,"click"],["size","lg","class","text-gray-400 hover:text-orange-400 invisible group-hover:visible",3,"icon",4,"ngIf"],["size","md",1,"text-green-400",3,"icon"],["size","md",1,"text-red-400",3,"icon"],["size","lg",1,"text-gray-400","hover:text-orange-400","invisible","group-hover:visible",3,"icon"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.saveForm()}),e.YNc(1,Go,37,15,"div",1),e.YNc(2,Ro,12,8,"div",2),e.YNc(3,Eo,6,1,"div",2),e.YNc(4,cn,38,1,"div",3),e.qZA()),2&n&&(e.Q6J("formGroup",o.postpartum_visit_form),e.xp6(1),e.Q6J("ngIf",!o.focused),e.xp6(1),e.Q6J("ngIf",!o.focused&&o.postpartum_visit_form.enabled),e.xp6(1),e.Q6J("ngIf",!o.focused&&o.postpartum_visit_form.disabled),e.xp6(1),e.Q6J("ngIf",0!=o.postpartum_data.length))},dependencies:[l.sg,l.O5,f.BN,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,l.uU],styles:["input[_ngcontent-%COMP%], .drop_btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;height:2.25rem;width:100%}.check-style[_ngcontent-%COMP%]{width:0;height:1.7rem}label[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem;-webkit-user-select:none;user-select:none}.remarks[_ngcontent-%COMP%]{height:4rem;width:100%;resize:none}.fhr_chart[_ngcontent-%COMP%]{height:70%!important;width:50%}.fhr_chart_u[_ngcontent-%COMP%]{height:30%!important;width:50%}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{background-color:#f00e0e}.icon-height[_ngcontent-%COMP%]{height:2.25rem}.colButton[_ngcontent-%COMP%]{padding-bottom:-500px}h3[_ngcontent-%COMP%]{color:#5c5c5c;padding-top:.15rem;padding-bottom:.25rem;font-size:.875rem;line-height:1.25rem}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(5%);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_type_in{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_button_in{0%{width:22%}to{width:100%}}@keyframes _ngcontent-%COMP%_type_out{0%{width:100%}to{width:0}}@keyframes _ngcontent-%COMP%_visible_drop{0%{height:0}to{height:100%}}@keyframes _ngcontent-%COMP%_spins{0%{transform:rotate(0)}to{transform:rotate(180deg)}}.carets[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_spins .3s steps(100,end) forwards}.typed-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_type_in .68s steps(100,end) forwards;width:0}.button-out[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;animation:_ngcontent-%COMP%_button_in .68s steps(60,end) forwards}input[_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{transform:translate(100%);background-color:#fff}"]}),a})();function pn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchPage(2))}),e._uU(1," VISIT DETAILS "),e.qZA()}if(2&i){const t=e.oxw();e.Tol(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function un(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchPage(3))}),e._uU(1," ECLAIMS "),e.qZA()}if(2&i){const t=e.oxw();e.Tol(3===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function mn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleModal("end_visit"))}),e._UZ(1,"fa-icon",13),e._uU(2," End Visit "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faDoorClosed)}}function gn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(3))}),e._uU(1," Prenatal "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(3===t.module?"tabs-main-true":"tabs-main-false")}}function fn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(4))}),e._uU(1," Postpartum "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(4===t.module?"tabs-main-true":"tabs-main-false")}}function vn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(8))}),e._uU(1," Caserate "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(8===t.module?"tabs-main-true":"tabs-main-false")}}function hn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"nav",14)(1,"div",15)(2,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchTab(2))}),e._uU(3," Maternal Care Record "),e.qZA(),e.YNc(4,gn,2,2,"button",17),e.YNc(5,fn,2,2,"button",17),e.YNc(6,vn,2,2,"button",17),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Tol(2===t.module?"tabs-main-true":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",t.patient_mc_record&&t.prenatal),e.xp6(1),e.Q6J("ngIf",t.patient_mc_record&&t.prenatal),e.xp6(1),e.Q6J("ngIf",t.patient_id)}}function bn(i,a){1&i&&(e.TgZ(0,"div",31),e._uU(1,"No records found."),e.qZA())}function xn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.openNew())}),e._uU(1,"Add"),e.qZA()}}function yn(i,a){if(1&i&&e._UZ(0,"fa-icon",42),2&i){const t=e.oxw(5);e.Q6J("icon",t.faSpinner)("spin",!0)}}function wn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",38)(1,"th",39),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"th",39),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"th",39),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"th",39),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"th",39),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"th",39),e._uU(18),e.qZA(),e.TgZ(19,"th",39)(20,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.openMCR(r.id))}),e.YNc(21,yn,1,2,"fa-icon",41),e._uU(22),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(2),e.Oqu(t.pre_registration?"MCR: "+e.Dn7(3,8,t.pre_registration.pre_registration_date,"MM/dd/yyyy","Asia/Manila"):"Post: "+e.Dn7(4,12,t.post_registration.post_registration_date,"MM/dd/yyyy","Asia/Manila")),e.xp6(4),e.Oqu(t.pre_registration?e.Dn7(7,16,t.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.post_registration?e.Dn7(10,20,t.post_registration.delivery_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.post_registration?e.Dn7(13,24,t.post_registration.admission_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.post_registration?e.Dn7(16,28,t.post_registration.discharge_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.post_registration&&t.post_registration.end_pregnancy?"Closed":"Open"),e.xp6(3),e.Q6J("ngIf",n.loading&&t.id===n.view_id),e.xp6(1),e.hij(" ",n.loading&&t.id===n.view_id?"":"View"," ")}}function Cn(i,a){if(1&i&&(e.TgZ(0,"div",33)(1,"table",34)(2,"thead",35)(3,"tr")(4,"th",36),e._uU(5,"Registration Date"),e.qZA(),e.TgZ(6,"th",36),e._uU(7,"LMP Date"),e.qZA(),e.TgZ(8,"th",36),e._uU(9,"Delivery Date"),e.qZA(),e.TgZ(10,"th",36),e._uU(11,"Admission Date"),e.qZA(),e.TgZ(12,"th",36),e._uU(13,"Discharge Date"),e.qZA(),e.TgZ(14,"th",36),e._uU(15,"Status"),e.qZA(),e.TgZ(16,"th",36),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,wn,23,32,"tr",37),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(19),e.Q6J("ngForOf",t.patient_mc_list)}}function Tn(i,a){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"button",23),e._uU(3,"Records"),e.qZA()(),e.TgZ(4,"div",24)(5,"div",25)(6,"div",26)(7,"div",27),e.YNc(8,bn,2,0,"div",28),e.YNc(9,xn,2,0,"button",29),e.YNc(10,Cn,20,1,"div",30),e.qZA()()()()()),2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",!t.patient_mc_list),e.xp6(1),e.Q6J("ngIf",!t.patient_mc_list),e.xp6(1),e.Q6J("ngIf",!!t.patient_mc_list&&0!==t.patient_mc_list.length)}}function Zn(i,a){if(1&i&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,Tn,11,3,"div",20),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.focused)}}function kn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-mcr",45),e.NdJ("patient_mc_id",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showPreServ(o))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function qn(i,a){if(1&i&&e._UZ(0,"app-riskfactors",46),2&i){const t=e.oxw(2);e.Q6J("risk_factors",t.risk_factors)("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function Mn(i,a){if(1&i&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,kn,1,2,"app-mcr",43),e.qZA(),e.TgZ(3,"div",19),e.YNc(4,qn,1,3,"app-riskfactors",44),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.patient_id),e.xp6(2),e.Q6J("ngIf",t.risk_factors&&""!==t.patient_mc_record)}}function In(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-services",49),e.NdJ("modalStats",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openModal(o))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function Nn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"app-prenatal",47),e.NdJ("prenatal_mc_data",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updatePrenatal(o))}),e.qZA()(),e.TgZ(3,"div",19),e.YNc(4,In,1,5,"app-services",48),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)("fetals",t.fetals)("fhr_lib",t.fhr_lib),e.xp6(2),e.Q6J("ngIf",t.visit_type)}}function An(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-postvisits",53),e.NdJ("post_visit_data",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.updatePostVisit(o))}),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("patient_mc_record",t.patient_mc_record)("patient_id",t.patient_id)}}function Un(i,a){if(1&i&&(e.TgZ(0,"div",19),e.YNc(1,An,1,2,"app-postvisits",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.patient_id)}}function Jn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-services",49),e.NdJ("modalStats",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openModal(o))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function Pn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"app-postpartum",50),e.NdJ("postpartum_bool",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.postValue(o))})("post_mc_data",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updatePost(o))}),e.qZA()(),e.YNc(3,Un,2,1,"div",51),e.TgZ(4,"div",19),e.YNc(5,Jn,1,5,"app-services",48),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("patient_mc_record",t.patient_mc_record)("delivery_location",t.delivery_location)("regions",t.regions)("attendants",t.attendants)("preg_outcome",t.preg_outcome)("patient_id",t.patient_id),e.xp6(1),e.Q6J("ngIf",t.post_value&&t.patient_mc_record),e.xp6(2),e.Q6J("ngIf",t.visit_type)}}function Qn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-services",49),e.NdJ("modalStats",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openModal(o))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_mc_record",t.patient_mc_record)("module",t.module)("lib_services",t.lib_services)("visit_type",t.visit_type)("patient_id",t.patient_id)}}function Yn(i,a){if(1&i&&(e.TgZ(0,"div",54)(1,"div",19),e.YNc(2,Qn,1,5,"app-services",48),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.visit_type)}}function On(i,a){if(1&i&&e._UZ(0,"app-end-visit",55),2&i){const t=e.oxw();e.Q6J("consult_id",t.consult_id)("toggleModal",t.toggleModal())("consult_date",null==t.consult_details?null:t.consult_details.consult_date)("patient_id",null==t.consult_details?null:t.consult_details.patient.id)("pt_group","mc")}}function Kn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-caserate",56),e.NdJ("switchPage",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.switchPage(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_mc_record.patient_id)("program_id",t.patient_mc_record.id)("program_name","mc")("max_date",t.max_date)}}function Fn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-eclaims",57),e.NdJ("switchPage",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.switchPage(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("program_id",t.patient_mc_record.id)("selected_case",t.patient_mc_record)("program_name","mc")("max_date",t.max_date)}}const Sn=[{path:"",component:(()=>{var i;class a{switchPage(n){this.pages=n}switchTab(n){this.module=n}toggleModal(){this.show_end=!this.show_end}postValue(n){n&&(this.post_value=!0)}openNew(){this.switchTab(2)}mcrID(n,o){o&&this.http.get("maternal-care/mc-records",{params:{type:n,patient_id:o}}).subscribe({next:_=>{_.data.length>0&&(this.patient_mc_list=_.data,(!this.patient_mc_list[0].post_registration||!this.patient_mc_list[0].post_registration.end_pregnancy)&&this.openMCR(this.patient_mc_list[0].id))},error:_=>console.log(_)})}openMCR(n){this.loading=!0,this.view_id=n,n&&this.http.get("maternal-care/mc-records/"+n).subscribe({next:o=>{this.patient_mc_record=o.data,console.log(o," patient_mc_record"),this.mcr=!0,this.patient_mc_record.pre_registration?(this.prenatal=!0,this.patient_mc_record.post_registration&&0!=this.patient_mc_record.post_registration.length&&(this.post_value=!0)):!this.patient_mc_record.pre_registration&&this.patient_mc_record.post_registration&&(this.prenatal=!1,this.mcr=!1)},error:o=>console.log(o),complete:()=>{this.loading=!1,this.patient_mc_record.pre_registration?1===this.pages&&(this.pages=2,this.module=2):(this.pages=2,this.module=4)}})}loadLibraries(){this.libraries.forEach(n=>{this.http.get("libraries/"+n.location).subscribe({next:o=>{this[n.var_name]=o.data},error:o=>console.log(o)})})}showPreServ(n){""!=n&&this.openMCR(n),this.prenatal=!0}openModal(n){this.modalStats=n}updatePrenatal(n){this.patient_mc_record.prenatal_visit=n}updatePost(n){this.openMCR(n)}updatePostVisit(n){this.patient_mc_record.postpartum_visit=n}endVisit(){this.http.update("consultation/records/",this.consult_id,{consult_done:1,patient_id:this.consult_details[0].patient.id,user_id:this.consult_details[0].user.id,consult_date:this.consult_details[0].consult_date,pt_group:this.consult_details[0].pt_group}).subscribe({error:o=>console.log(o),complete:()=>{console.log("end visited kang bata ka"),this.proceedItr()}})}proceedItr(){this.router.navigate(["/patient/itr",{id:this.patient_id}])}loadConsultDetails(){this.http.get("consultation/records",{params:{id:this.consult_id}}).subscribe(n=>{console.log(n.data),this.consult_details=n.data[0]})}constructor(n,o,r){this.http=n,this.router=o,this.toastr=r,this.faDoorClosed=d.TH0,this.faPersonWalking=d.EiI,this.faPenToSquare=d.Yai,this.faSpinner=d.LM3,this.patient_mc_record="",this.libraries=[{var_name:"risk_factors",location:"mc-risk-factors"},{var_name:"fetals",location:"mc-presentations"},{var_name:"fhr_lib",location:"mc-locations"},{var_name:"delivery_location",location:"mc-delivery-locations"},{var_name:"regions",location:"regions?include=provinces"},{var_name:"attendants",location:"mc-attendants"},{var_name:"preg_outcome",location:"mc-outcomes"},{var_name:"lib_services",location:"mc-services"},{var_name:"visit_type",location:"mc-visit-type"}],this.pages=1,this.module=1}ngOnInit(){this.mcr=!0,this.module=1,this.post_value=!1,this.loading=!1,this.loadLibraries(),this.active_loc_id=this.http.getUrlParams(),this.patient_id=this.active_loc_id.patient_id,this.consult_id=this.active_loc_id.consult_id,this.loadConsultDetails(),this.mcrID("all",this.patient_id)}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(v.O),e.Y36(b.F0),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-maternalcare"]],decls:17,vars:14,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","fade-in mb-20",4,"ngIf"],["class","fade-in mb-20 z-20",4,"ngIf"],[3,"consult_id","toggleModal","consult_date","patient_id","pt_group",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[3,"program_id","selected_case","program_name","max_date","switchPage",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],[1,"fade-in","mb-20"],[1,"w-12/12","px-8","pb-10","border-solid","border-2","border-zinc-100","border-l-0","border-r-0","border-t-0","p-3"],["class","grid gap-4 relative animates-dropdown","style","grid-template-columns: repeat(16, minmax(0, 1fr));",4,"ngIf"],[1,"grid","gap-4","relative","animates-dropdown",2,"grid-template-columns","repeat(16, minmax(0, 1fr))"],[1,"sticky","top-14","z-50","border","border-blue-400","col-span-2","mx-2","px-2","py-1","rounded-t-lg","text-sm","bg-blue-500","text-white",2,"grid-column","span 16 / span 16"],["type","button",1,"font-bold"],[2,"grid-column","span 16 / span 16"],[1,"grid","gap-0",2,"grid-template-columns","repeat(14, minmax(0, 1fr))"],[2,"grid-column","span 14 / span 14"],[1,"grid","gap-4","rounded-b-lg","hover:drop-shadow-lg","drop-shadow-md","bg-white","hover:border","border-gray-300","hover:border-blue-400","p-2","m-2","border","-mt-5",2,"grid-template-columns","repeat(9, minmax(0, 1fr))"],["class","font-light col-span-4",4,"ngIf"],["class","col-start-[9] bg-green-400 rounded hover:bg-green-500 font-medium text-white my-1 mx-2",3,"click",4,"ngIf"],["class","text-sm pb-1 font-semibold h-max","style","grid-column: span 9 / span 9;",4,"ngIf"],[1,"font-light","col-span-4"],[1,"col-start-[9]","bg-green-400","rounded","hover:bg-green-500","font-medium","text-white","my-1","mx-2",3,"click"],[1,"text-sm","pb-1","font-semibold","h-max",2,"grid-column","span 9 / span 9"],[1,"table-auto","relative","w-full"],[1,"sticky","top-0"],[1,"px-2"],["class","hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100"],[1,"px-2","font-normal"],[1,"px-2","py-1","bg-blue-400","text-white","font-bold","rounded","hover:bg-blue-500",3,"click"],["class","mx-3",3,"icon","spin",4,"ngIf"],[1,"mx-3",3,"icon","spin"],[3,"patient_mc_record","patient_id","patient_mc_id",4,"ngIf"],[3,"risk_factors","patient_mc_record","patient_id",4,"ngIf"],[3,"patient_mc_record","patient_id","patient_mc_id"],[3,"risk_factors","patient_mc_record","patient_id"],[3,"patient_mc_record","patient_id","fetals","fhr_lib","prenatal_mc_data"],[3,"patient_mc_record","module","lib_services","visit_type","patient_id","modalStats",4,"ngIf"],[3,"patient_mc_record","module","lib_services","visit_type","patient_id","modalStats"],[3,"patient_mc_record","delivery_location","regions","attendants","preg_outcome","patient_id","postpartum_bool","post_mc_data"],["class","w-12/12 px-8 pb-10 border-solid border-2 border-zinc-100 border-l-0 border-r-0 border-t-0 p-3",4,"ngIf"],[3,"patient_mc_record","patient_id","post_visit_data",4,"ngIf"],[3,"patient_mc_record","patient_id","post_visit_data"],[1,"fade-in","mb-20","z-20"],[3,"consult_id","toggleModal","consult_date","patient_id","pt_group"],[3,"patient_id","program_id","program_name","max_date","switchPage"],[3,"program_id","selected_case","program_name","max_date","switchPage"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return o.switchPage(1)}),e._uU(3," HISTORY "),e.qZA(),e.YNc(4,pn,2,2,"button",3),e.YNc(5,un,2,2,"button",3),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,mn,3,1,"button",5),e.qZA()(),e.YNc(8,hn,7,5,"nav",6),e.YNc(9,Zn,3,1,"div",7),e.YNc(10,Mn,5,2,"div",7),e.YNc(11,Nn,5,5,"div",7),e.YNc(12,Pn,6,8,"div",7),e.YNc(13,Yn,3,1,"div",8),e.YNc(14,On,1,5,"app-end-visit",9),e.YNc(15,Kn,1,4,"app-caserate",10),e.YNc(16,Fn,1,4,"app-eclaims",11)),2&n&&(e.xp6(2),e.Tol(1===o.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",o.patient_id&&o.mcr),e.xp6(1),e.Q6J("ngIf",o.patient_id&&o.mcr),e.xp6(2),e.Q6J("ngIf",!(null!=o.consult_details&&o.consult_details.consult_done)),e.xp6(1),e.Q6J("ngIf",2===o.pages),e.xp6(1),e.Q6J("ngIf",1===o.pages),e.xp6(1),e.Q6J("ngIf",2===o.pages&&2===o.module),e.xp6(1),e.Q6J("ngIf",2===o.pages&&3===o.module),e.xp6(1),e.Q6J("ngIf",2===o.pages&&4===o.module),e.xp6(1),e.Q6J("ngIf",2===o.pages&&5===o.module),e.xp6(1),e.Q6J("ngIf",o.show_end),e.xp6(1),e.Q6J("ngIf",2===o.pages&&8===o.module),e.xp6(1),e.Q6J("ngIf",3===o.pages))},dependencies:[l.sg,l.O5,f.BN,y.F,w.Y,C.h,re,pt,kt,bi,so,ln,l.uU],styles:["@keyframes _ngcontent-%COMP%_pulse-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-in .3s forwards ease-in}.service-modal[_ngcontent-%COMP%]{z-index:200!important}"]}),a})()}];let Gn=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[b.Bz.forChild(Sn),b.Bz]}),a})();var Hn=p(8048);let Dn=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,Gn,f.uH,s.u5,s.UX,y.F,w.Y,Hn.q]}),a})()}}]);