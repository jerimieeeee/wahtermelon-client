"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[21],{6021:(Ce,x,d)=>{d.r(x),d.d(x,{PatientRegistrationModule:()=>_e,options:()=>se});var f=d(6895),p=d(5749),o=d(4006),c=d(2687),y=d(3396),Z=d(4163),q=d(4128),t=d(4650),h=d(4691),u=d(2216),b=d(1094);function C(i,n){1&i&&(t.TgZ(0,"tr")(1,"th",20),t._uU(2,"No records found."),t.qZA()())}function w(i,n){if(1&i&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.HOy(" ",e.patient.last_name,", ",e.patient.first_name," ","NA"===e.patient.middle_name?"":e.patient.middle_name," ","NA"===e.patient.suffix_name?"":e.patient.suffix_name," ")}}function T(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr",21)(1,"th",22),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t.YNc(4,w,2,4,"span",24),t.qZA(),t.TgZ(5,"td",25)(6,"button",26),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.selectFolder(l))}),t._UZ(7,"fa-icon",27),t._uU(8," Select Folder "),t.qZA()()()}if(2&i){const e=n.$implicit,a=t.oxw();t.xp6(2),t.HOy(" ",e.address,", ","Brgy. "+e.barangay.name,", ",e.barangay.municipality.name,", ",e.barangay.province.name," "),t.xp6(2),t.Q6J("ngForOf",e.household_member),t.xp6(3),t.Q6J("icon",a.faCheck)}}let N=(()=>{class i{searchFamily(){this.http.get("households/household-folders",{params:{"filter[search]":this.search_item,per_page:"all",include:"barangay"}}).subscribe({next:e=>{this.family_list=e.data},error:e=>console.log(e)})}selectFolder(e){this.transaction.emit({type:"select",data:e}),this.closeModal()}closeModal(){this.toggleModal.emit("family-folder-moodal")}createNewFolder(){this.transaction.emit({type:"new"}),this.closeModal()}constructor(e){this.http=e,this.toggleModal=new t.vpe,this.transaction=new t.vpe,this.faSearch=c.wn1,this.faCheck=c.LEp}ngOnInit(){this.last_name&&(this.search_item=this.last_name,this.searchFamily())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-family-folder-modal"]],inputs:{last_name:"last_name"},outputs:{toggleModal:"toggleModal",transaction:"transaction"},decls:29,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-6xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"bg-white","border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","table-fixed"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["scope","col",1,"py-3","px-6","w-48","text-center"],[4,"ngIf"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","borde","r-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","3",1,"italic","text-center"],[1,"bg-white","border-b"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],["class","block",4,"ngFor","ngForOf"],[1,"py-4","px-6","text-center"],["type","button",1,"bg-green-500","text-white","px-3","py-2","rounded-full",3,"click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"block"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Search Family Folder "),t.qZA(),t.TgZ(6,"div",5)(7,"input",6),t.NdJ("ngModelChange",function(l){return a.search_item=l})("keyup.enter",function(){return a.searchFamily()}),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return a.searchFamily()}),t._UZ(9,"fa-icon",8),t.qZA()()(),t.TgZ(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),t._uU(15,"Address"),t.qZA(),t.TgZ(16,"th",12),t._uU(17,"Members"),t.qZA(),t.TgZ(18,"th",13),t._uU(19,"Action"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,C,3,0,"tr",14),t.YNc(22,T,9,6,"tr",15),t.qZA()()(),t.TgZ(23,"div",16)(24,"button",17),t.NdJ("click",function(){return a.closeModal()}),t._uU(25,"Close"),t.qZA(),t.TgZ(26,"button",18),t.NdJ("click",function(){return a.createNewFolder()}),t._uU(27,"New"),t.qZA()()()()(),t._UZ(28,"div",19)),2&e&&(t.xp6(7),t.Q6J("ngModel",a.search_item),t.xp6(2),t.Q6J("icon",a.faSearch),t.xp6(12),t.Q6J("ngIf",0===(null==a.family_list?null:a.family_list.length)),t.xp6(1),t.Q6J("ngForOf",a.family_list))},dependencies:[f.sg,f.O5,o.Fj,o.JJ,o.On,u.BN]}),i})();function J(i,n){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10),t._UZ(3,"fa-icon",11),t.qZA(),t.TgZ(4,"div",12),t._uU(5," Loading libraries... "),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.faCircleNotch)}}function A(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function I(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function Q(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,A,2,1,"div",7),t.YNc(2,I,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.last_name.errors?null:e.f.last_name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.last_name.errors?null:e.f.last_name.errors.minlength)}}function F(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function U(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function R(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,F,2,1,"div",7),t.YNc(2,U,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.first_name.errors?null:e.f.first_name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.first_name.errors?null:e.f.first_name.errors.minlength)}}function P(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function k(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function Y(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,P,2,1,"div",7),t.YNc(2,k,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.middle_name.errors?null:e.f.middle_name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.middle_name.errors?null:e.f.middle_name.errors.minlength)}}function M(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.suffix_desc)}}function K(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function V(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,K,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.gender.errors?null:e.f.gender.errors.required)}}function O(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.status_desc)}}function j(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function S(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,j,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.civil_status_code.errors?null:e.f.civil_status_code.errors.required)}}function D(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.code)}}function H(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function E(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,H,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.blood_type_code.errors?null:e.f.blood_type_code.errors.required)}}function B(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function G(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,B,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.birthdate.errors?null:e.f.birthdate.errors.required)}}function $(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function L(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,$,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.mobile_number.errors?null:e.f.mobile_number.errors.required)}}function z(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function W(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function X(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,z,2,1,"div",7),t.YNc(2,W,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.mothers_name.errors?null:e.f.mothers_name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.mothers_name.errors?null:e.f.mothers_name.errors.minlength)}}function tt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.education_desc)}}function et(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function it(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,et,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.education_code.errors?null:e.f.education_code.errors.required)}}function nt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.religion_desc)}}function ot(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function at(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,ot,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.religion_code.errors?null:e.f.religion_code.errors.required)}}function rt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.occupation_desc)}}function st(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function _t(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,st,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.occupation_code.errors?null:e.f.occupation_code.errors.required)}}function lt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function dt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,lt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.indegenous_flag.errors?null:e.f.indegenous_flag.errors.required)}}function ct(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.type_desc)}}function ft(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function mt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,ft,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.pwd_type_code.errors?null:e.f.pwd_type_code.errors.required)}}function gt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",79),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.isDisabled(!!r.f.family.enabled,"edit_folder"))}),t._UZ(1,"fa-icon",66),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("icon",e.faPenToSquare),t.xp6(1),t.hij(" ",e.f.family.enabled?"Cancel":"Edit"," ")}}function pt(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.HOy(" ",e.patient.last_name,", ",e.patient.first_name," ","NA"===e.patient.middle_name?"":e.patient.middle_name," ","NA"===e.patient.suffix_name?"":e.patient.suffix_name," ")}}function ut(i,n){if(1&i&&(t.TgZ(0,"div",80)(1,"div",81),t._uU(2),t.qZA(),t.TgZ(3,"div",82),t.YNc(4,pt,2,4,"span",83),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.hij("Selected Family: ",e.selected_family_folder,""),t.xp6(2),t.Q6J("ngForOf",e.selected_members)}}function vt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function xt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function ht(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,xt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.region.errors?null:e.f.family.controls.region.errors.required)}}const s=function(i){return{"text-red-500":i}},_=function(i){return{"invalid-input":i}};function bt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",84),t._uU(2,"Region"),t.qZA(),t.TgZ(3,"select",85),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.loadDemog("regions",r.patientForm.value.family.region,"provinces"))}),t.YNc(4,vt,2,2,"option",35),t.qZA(),t.YNc(5,ht,2,1,"div",28),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,s,e.is_saving&&e.f.family.controls.region.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,_,e.is_saving&&e.f.family.controls.region.errors)),t.xp6(1),t.Q6J("ngForOf",e.regions),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.region.errors)}}function yt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function Zt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function qt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,Zt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.province.errors?null:e.f.family.controls.province.errors.required)}}function Ct(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",86),t._uU(2,"Province"),t.qZA(),t.TgZ(3,"select",87),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.loadDemog("provinces",r.patientForm.value.family.province,"municipalities"))}),t.YNc(4,yt,2,2,"option",35),t.qZA(),t.YNc(5,qt,2,1,"div",28),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,s,e.is_saving&&e.f.family.controls.province.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,_,e.is_saving&&e.f.family.controls.province.errors)),t.xp6(1),t.Q6J("ngForOf",e.provinces),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.province.errors)}}function wt(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function Tt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function Nt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,Tt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.municipality.errors?null:e.f.family.controls.municipality.errors.required)}}function Jt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",88),t._uU(2,"Municipality/City"),t.qZA(),t.TgZ(3,"select",89),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.loadDemog("municipalities",r.patientForm.value.family.municipality,"barangays"))}),t.YNc(4,wt,2,2,"option",35),t.qZA(),t.YNc(5,Nt,2,1,"div",28),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,s,e.is_saving&&e.f.family.controls.municipality.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,_,e.is_saving&&e.f.family.controls.municipality.errors)),t.xp6(1),t.Q6J("ngForOf",e.municipalities),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.municipality.errors)}}function At(i,n){if(1&i&&(t.TgZ(0,"option",78),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function It(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function Qt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,It,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.brgy.errors?null:e.f.family.controls.brgy.errors.required)}}function Ft(i,n){if(1&i&&(t.TgZ(0,"div",25)(1,"label",90),t._uU(2,"Brgy"),t.qZA(),t.TgZ(3,"select",91),t.YNc(4,At,2,2,"option",35),t.qZA(),t.YNc(5,Qt,2,1,"div",28),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,s,e.is_saving&&e.f.family.controls.brgy.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,_,e.is_saving&&e.f.family.controls.brgy.errors)),t.xp6(1),t.Q6J("ngForOf",e.barangays),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.brgy.errors)}}function Ut(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function Rt(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function Pt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,Ut,2,1,"div",7),t.YNc(2,Rt,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.address.errors?null:e.f.family.controls.address.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.address.errors?null:e.f.family.controls.address.errors.minlength)}}function kt(i,n){if(1&i&&(t.TgZ(0,"div",25)(1,"label",92),t._uU(2,"Address"),t.qZA(),t._UZ(3,"input",93),t.YNc(4,Pt,3,2,"div",28),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(3,s,e.is_saving&&e.f.family.controls.address.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(5,_,e.is_saving&&e.f.family.controls.address.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.address.errors)}}function Yt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.required_message," ")}}function Mt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,Yt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.is_head.errors?null:e.f.family.controls.is_head.errors.required)}}function Kt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function Vt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,Kt,2,1,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.cct_id.errors?null:e.f.family.controls.cct_id.errors.required)}}function Ot(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",71)(1,"label",94),t._uU(2,"CCT ID "),t.TgZ(3,"span",95),t._uU(4,"(optional)"),t.qZA()(),t.TgZ(5,"input",96),t.NdJ("keyup",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.enableCctDate())}),t.qZA(),t.YNc(6,Vt,2,1,"div",28),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(3,s,e.is_saving&&e.f.family.controls.cct_id.errors)),t.xp6(4),t.Q6J("ngClass",t.VKq(5,_,e.is_saving&&e.f.family.controls.cct_id.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.cct_id.errors)}}function jt(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.required_message," ")}}function St(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Minimum of 2 character. "),t.qZA())}function Dt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.YNc(1,jt,2,1,"div",7),t.YNc(2,St,2,0,"div",7),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.cct_date.errors?null:e.f.family.controls.cct_date.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.family.controls.cct_date.errors?null:e.f.family.controls.cct_date.errors.minlength)}}function Ht(i,n){if(1&i&&(t.TgZ(0,"div",25)(1,"label",97),t._uU(2,"CCT Registration date"),t.qZA(),t._UZ(3,"input",98),t.YNc(4,Dt,3,2,"div",28),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(3,s,e.is_saving&&e.f.family.controls.cct_date.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(5,_,e.is_saving&&e.f.family.controls.cct_date.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.cct_date.errors)}}function Et(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",16)(2,"div",22)(3,"span",23),t._uU(4,"Basic Information"),t.qZA()()(),t.TgZ(5,"div",24)(6,"div",25)(7,"label",26),t._uU(8,"Last name"),t.qZA(),t._UZ(9,"input",27),t.YNc(10,Q,3,2,"div",28),t.qZA(),t.TgZ(11,"div",25)(12,"label",29),t._uU(13,"First name"),t.qZA(),t._UZ(14,"input",30),t.YNc(15,R,3,2,"div",28),t.qZA(),t.TgZ(16,"div",25)(17,"label",31),t._uU(18,"Middle name"),t.qZA(),t._UZ(19,"input",32),t.YNc(20,Y,3,2,"div",28),t.qZA(),t.TgZ(21,"div",25)(22,"label",33),t._uU(23,"Suffix Name"),t.qZA(),t.TgZ(24,"select",34),t.YNc(25,M,2,2,"option",35),t.qZA()(),t.TgZ(26,"div",25)(27,"label",36),t._uU(28,"Sex"),t.qZA(),t.TgZ(29,"select",37)(30,"option",38),t._uU(31,"Male"),t.qZA(),t.TgZ(32,"option",39),t._uU(33,"Female"),t.qZA(),t.TgZ(34,"option",40),t._uU(35,"Intersex"),t.qZA()(),t.YNc(36,V,2,1,"div",28),t.qZA(),t.TgZ(37,"div",25)(38,"label",41),t._uU(39,"Civil Status"),t.qZA(),t.TgZ(40,"select",42),t.YNc(41,O,2,2,"option",35),t.qZA(),t.YNc(42,S,2,1,"div",28),t.qZA(),t.TgZ(43,"div",25)(44,"label",43),t._uU(45,"Blood Type"),t.qZA(),t.TgZ(46,"select",44),t.YNc(47,D,2,2,"option",35),t.qZA(),t.YNc(48,E,2,1,"div",28),t.qZA(),t.TgZ(49,"div",25)(50,"label",45),t._uU(51,"Birthdate"),t.qZA(),t._UZ(52,"input",46),t.ALo(53,"date"),t.YNc(54,G,2,1,"div",28),t.qZA(),t.TgZ(55,"div",25)(56,"label",47),t._uU(57,"Mobile Number"),t.qZA(),t._UZ(58,"input",48),t.YNc(59,L,2,1,"div",28),t.qZA(),t.TgZ(60,"div",25)(61,"label",49),t._uU(62,"Mothers Maiden Name"),t.qZA(),t._UZ(63,"input",50),t.YNc(64,X,3,2,"div",28),t.qZA(),t.TgZ(65,"div",25)(66,"label",51),t._uU(67,"Education"),t.qZA(),t.TgZ(68,"select",52),t.YNc(69,tt,2,2,"option",35),t.qZA(),t.YNc(70,it,2,1,"div",28),t.qZA(),t.TgZ(71,"div",25)(72,"label",53),t._uU(73,"Religion"),t.qZA(),t.TgZ(74,"select",54),t.YNc(75,nt,2,2,"option",35),t.qZA(),t.YNc(76,at,2,1,"div",28),t.qZA(),t.TgZ(77,"div",25)(78,"label",55),t._uU(79,"Occupation"),t.qZA(),t.TgZ(80,"select",56),t.YNc(81,rt,2,2,"option",35),t.qZA(),t.YNc(82,_t,2,1,"div",28),t.qZA(),t.TgZ(83,"div",25)(84,"label",57),t._uU(85,"Indigenous People"),t.qZA(),t.TgZ(86,"select",58)(87,"option",59),t._uU(88,"N"),t.qZA(),t.TgZ(89,"option",59),t._uU(90,"Y"),t.qZA()(),t.YNc(91,dt,2,1,"div",28),t.qZA(),t.TgZ(92,"div",25)(93,"label",60),t._uU(94,"Person with Disabililties"),t.qZA(),t.TgZ(95,"select",61),t.YNc(96,ct,2,2,"option",35),t.qZA(),t.YNc(97,mt,2,1,"div",28),t.qZA()(),t.TgZ(98,"div",62),t._UZ(99,"div",63),t.TgZ(100,"div",22)(101,"span",64),t._uU(102,"Address Information"),t.qZA(),t.TgZ(103,"button",65),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleModal("family-folder-modal"))}),t._UZ(104,"fa-icon",66),t._uU(105," Search "),t.qZA(),t.YNc(106,gt,3,2,"button",67),t.qZA()(),t.TgZ(107,"div",68),t.YNc(108,ut,5,2,"div",69),t.YNc(109,bt,6,8,"div",70),t.YNc(110,Ct,6,8,"div",70),t.YNc(111,Jt,6,8,"div",70),t.YNc(112,Ft,6,8,"div",70),t.YNc(113,kt,5,7,"div",70),t.TgZ(114,"div",71)(115,"label",72),t._uU(116,"Family Role"),t.qZA(),t.TgZ(117,"select",73)(118,"option",74),t._uU(119,"Member"),t.qZA(),t.TgZ(120,"option",75),t._uU(121,"Head"),t.qZA()(),t.YNc(122,Mt,2,1,"div",28),t.qZA(),t.YNc(123,Ot,7,7,"div",76),t.YNc(124,Ht,5,7,"div",70),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("ngClass",t.VKq(69,s,e.is_saving&&e.f.last_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(71,_,e.is_saving&&e.f.last_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.last_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(73,s,e.is_saving&&e.f.first_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(75,_,e.is_saving&&e.f.first_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.first_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(77,s,e.is_saving&&e.f.middle_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(79,_,e.is_saving&&e.f.middle_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.middle_name.errors),t.xp6(5),t.Q6J("ngForOf",e.suffix_names),t.xp6(2),t.Q6J("ngClass",t.VKq(81,s,e.is_saving&&e.f.gender.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(83,_,e.is_saving&&e.f.gender.errors)),t.xp6(7),t.Q6J("ngIf",e.is_saving&&e.f.gender.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(85,s,e.is_saving&&e.f.civil_status_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(87,_,e.is_saving&&e.f.civil_status_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.civil_statuses),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.civil_status_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(89,s,e.is_saving&&e.f.blood_type_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(91,_,e.is_saving&&e.f.blood_type_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.blood_types),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.blood_type_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(93,s,e.is_saving&&e.f.birthdate.errors)),t.xp6(2),t.s9C("max",t.xi3(53,66,e.date,"yyyy-MM-dd")),t.Q6J("ngClass",t.VKq(95,_,e.is_saving&&e.f.birthdate.errors)),t.xp6(2),t.Q6J("ngIf",e.is_saving&&e.f.birthdate.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(97,s,e.is_saving&&e.f.mobile_number.errors)),t.xp6(2),t.Q6J("showMaskTyped",!0)("ngClass",t.VKq(99,_,e.is_saving&&e.f.mobile_number.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.mobile_number.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(101,s,e.is_saving&&e.f.mothers_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(103,_,e.is_saving&&e.f.mothers_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.mothers_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(105,s,e.is_saving&&e.f.education_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(107,_,e.is_saving&&e.f.education_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.educations),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.education_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(109,s,e.is_saving&&e.f.religion_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(111,_,e.is_saving&&e.f.religion_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.religions),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.religion_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(113,s,e.is_saving&&e.f.occupation_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(115,_,e.is_saving&&e.f.occupation_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.occupations),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.occupation_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(117,s,e.is_saving&&e.f.indegenous_flag.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(119,_,e.is_saving&&e.f.indegenous_flag.errors)),t.xp6(1),t.Q6J("ngValue",!1),t.xp6(2),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngIf",e.is_saving&&e.f.indegenous_flag.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(121,s,e.is_saving&&e.f.pwd_type_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(123,_,e.is_saving&&e.f.pwd_type_code.errors)),t.xp6(1),t.Q6J("ngForOf",e.pwd_types),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.pwd_type_code.errors),t.xp6(7),t.Q6J("icon",e.faSearch),t.xp6(2),t.Q6J("ngIf",e.show_edit),t.xp6(2),t.Q6J("ngIf",!e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(2),t.Q6J("ngClass",t.VKq(125,s,e.is_saving&&e.f.family.controls.is_head.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(127,_,e.is_saving&&e.f.family.controls.is_head.errors)),t.xp6(5),t.Q6J("ngIf",e.is_saving&&e.f.family.controls.is_head.errors),t.xp6(1),t.Q6J("ngIf",e.show_demog_input),t.xp6(1),t.Q6J("ngIf",e.show_cct_date)}}function Bt(i,n){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.value)}}function Gt(i,n){if(1&i&&(t.TgZ(0,"div",99)(1,"div",100)(2,"ul",101),t.YNc(3,Bt,2,1,"li",83),t.ALo(4,"keyvalue"),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.submit_errors))}}function $t(i,n){if(1&i&&t._UZ(0,"fa-icon",106),2&i){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)("spin",!0)}}function Lt(i,n){if(1&i&&t._UZ(0,"fa-icon",107),2&i){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function zt(i,n){if(1&i&&(t.TgZ(0,"div",102)(1,"button",103),t.YNc(2,$t,1,2,"fa-icon",104),t.YNc(3,Lt,1,1,"fa-icon",105),t._uU(4),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.loading||e.patientForm.invalid||e.disable_save),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.hij(" ",e.loading?"Save"===e.button_function?"Saving":"Updating":e.button_function," ")}}function Wt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"form",13),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.TgZ(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),t._UZ(5,"input",18),t.TgZ(6,"label",19),t._uU(7," The patient has read, fully understood, and signed the patient consent form. "),t.qZA()()(),t.YNc(8,Et,125,129,"div",7),t.qZA(),t.YNc(9,Gt,5,3,"div",20),t.YNc(10,zt,5,4,"div",21),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.patientForm),t.xp6(6),t.Q6J("ngClass",t.VKq(5,s,e.is_saving&&e.f.consent_flag.errors)),t.xp6(2),t.Q6J("ngIf",!0===e.patientForm.value.consent_flag),t.xp6(1),t.Q6J("ngIf",e.submit_errors),t.xp6(1),t.Q6J("ngIf",!0===e.patientForm.value.consent_flag)}}function Xt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",115),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.newPatient())}),t._UZ(1,"fa-icon",107),t._uU(2,"Back to home page "),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("icon",e.faHome)}}function te(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",116),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.proceedItr())}),t._UZ(1,"fa-icon",107),t._uU(2,"Open ITR "),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("icon",e.faClipboard)}}function ee(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",115),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.toggleModal("save-modal"))}),t._uU(1," Ok "),t.qZA()}}function ie(i,n){if(1&i&&(t.TgZ(0,"div",108)(1,"div",109)(2,"div",110)(3,"div",111)(4,"span"),t._uU(5,"Record was saved/updated succesfully."),t.qZA()(),t.TgZ(6,"div",112),t.YNc(7,Xt,3,1,"button",113),t.YNc(8,te,3,1,"button",114),t.YNc(9,ee,2,0,"button",113),t.qZA()()()()),2&i){const e=t.oxw();t.Q6J("@myInsertRemoveTrigger",void 0),t.xp6(7),t.Q6J("ngIf",!e.patient_to_update),t.xp6(1),t.Q6J("ngIf",!e.patient_to_update),t.xp6(1),t.Q6J("ngIf",e.patient_to_update)}}function ne(i,n){1&i&&t._UZ(0,"div",117)}function oe(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-family-folder-modal",118),t.NdJ("toggleModal",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal("family-folder-modal"))})("transaction",function(r){t.CHM(e);const l=t.oxw();return t.KtG(l.transaction(r))}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("last_name",e.patientForm.value.last_name)}}const ae=[{path:"",component:(()=>{class i{constructor(e,a,r){this.http=e,this.formBuilder=a,this.router=r,this.faSpinner=c.LM3,this.faClipboard=y.Yjj,this.faFolderPlus=c.x58,this.faSave=c.r6l,this.faSearch=c.wn1,this.faPenToSquare=c.Yai,this.faHome=c.J9Y,this.faCircleNotch=c.IJ7,this.required_message="Required field",this.button_function="Save",this.patientForm=new o.cw({last_name:new o.NI(""),first_name:new o.NI(""),middle_name:new o.NI(""),suffix_name:new o.NI(""),birthdate:new o.NI(""),mothers_name:new o.NI(""),gender:new o.NI(""),mobile_number:new o.NI(""),pwd_type_code:new o.NI(""),indegenous_flag:new o.NI(!1),blood_type_code:new o.NI(""),religion_code:new o.NI(""),occupation_code:new o.NI(""),education_code:new o.NI(""),civil_status_code:new o.NI(""),consent_flag:new o.NI(!1),user_id:new o.NI(""),facility_code:new o.NI(""),family:new o.cw({region:new o.NI(""),province:new o.NI(""),municipality:new o.NI(""),brgy:new o.NI(""),address:new o.NI(""),cct_id:new o.NI(""),cct_date:new o.NI(""),is_head:new o.NI(""),residence_classification_code:new o.NI("")}),difficulty_seeing:new o.NI(""),difficulty_hearing:new o.NI(""),difficulty_walking:new o.NI(""),difficulty_remembering:new o.NI(""),difficulty_self_care:new o.NI(""),difficulty_speaking:new o.NI("")}),this.showModal=!1,this.is_saving=!1,this.loading=!1,this.familyFolderModal=!1,this.show_form=!1,this.show_demog_input=!0,this.show_edit=!1,this.disable_save=!0,this.show_cct_date=!1,this.washington_required=!1}get f(){return this.patientForm.controls}controlName(e){switch(e){case 1:return"difficulty_seeing";case 2:return"difficulty_hearing";case 3:return"difficulty_walking";case 4:return"difficulty_remembering";case 5:return"difficulty_self_care";case 6:return"difficulty_speaking"}}onSubmit(){if(this.patientForm.controls.family.disable(),this.is_saving=!0,this.loading=!0,this.patientForm.invalid)this.loading=!1;else{let e;e="Update"===this.button_function?this.http.update("patient/",this.patient_to_update,this.patientForm.value):this.http.post("patient",this.patientForm.value),e.subscribe({next:a=>{this.new_patient_id="Update"===this.button_function?this.patient_to_update:a.data.id,this.saveFolder(this.new_patient_id)},error:a=>{console.log(a),this.loading=!1,this.submit_errors=a.error.errors},complete:()=>{}})}}saveFolder(e){let m,a=this.http.getUserID(),r=this.http.getUserFacility(),l={facility_code:this.show_demog_input?r:this.selected_facility,user_id:a,patient_id:e,address:this.show_demog_input?this.patientForm.controls.family.controls.address.value:this.selected_address,barangay_code:this.show_demog_input?this.patientForm.controls.family.controls.brgy.value:this.selected_barangay_code,cct_date:this.show_demog_input?this.patientForm.controls.family.controls.cct_date.value:this.selected_cct_date,cct_id:this.show_demog_input?this.patientForm.controls.family.controls.cct_id.value:this.selected_cct_id,family_role_code:this.patientForm.controls.family.controls.is_head.value,residence_classification_code:this.patientForm.controls.family.controls.residence_classification_code.value};this.show_demog_input&&!this.selected_family_folder?(l.status="new",m=this.http.post("households/household-folders",l)):m=this.http.update("households/household-folders/",this.selected_family_folder,l),m.subscribe({next:g=>{this.is_saving=!1,this.loading=!1,this.showModal=!0},error:g=>{console.log(g),this.loading=!1,this.submit_errors=g.error.errors}})}transaction(e){this.selected_family_folder=e.data?e.data.id:null,this.selected_barangay_code=e.data?e.data.barangay.code:null,this.selected_address=e.data?e.data.address:null,this.selected_cct_date=e.data?e.data.cct_date:null,this.selected_cct_id=e.data?e.data.cct_id:null,this.selected_facility=e.data?e.data.facility_code:null,this.selected_members=e.data?e.data.household_member:null,this.disable_save=!1,"new"===e.type?(this.isDisabled(!1),this.show_edit=!1,this.show_demog_input=!0):(this.show_edit=!1,this.patientForm.controls.family.controls.is_head.enable(),this.show_demog_input=!1),this.enableCctDate()}isDisabled(e,a){e?(this.patientForm.controls.family.disable(),"edit_folder"===a&&(this.selected_family_folder=null,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member))):(this.patientForm.controls.family.enable(),this.enableCctDate())}newPatient(){this.router.navigate(["/"])}proceedItr(){this.router.navigate(["/patient/itr",{id:this.new_patient_id}])}toggleModal(e){switch(e){case"family-folder-modal":this.familyFolderModal=!this.familyFolderModal;break;case"save-modal":this.showModal=!this.showModal}}loadDemog(e,a,r){"regions"==e?(this.municipalities=null,this.barangays=null):"provinces"==e&&(this.barangays=null),this.http.get("libraries/"+e+"/"+a,{params:{include:r}}).subscribe({next:l=>{this[r]=l.data[r]},error:l=>console.log(l)})}loadLibraries(){const e=this.http.get("libraries/blood-types"),a=this.http.get("libraries/suffix-names"),r=this.http.get("libraries/occupations"),l=this.http.get("libraries/civil-statuses"),m=this.http.get("libraries/education"),g=this.http.get("libraries/religions"),le=this.http.get("libraries/regions"),de=this.http.get("libraries/pwd-types"),ce=this.http.get("libraries/washington-disability-question"),fe=this.http.get("libraries/washington-disability-answer"),me=this.http.get("libraries/residence-classifications");(0,q.D)([e,a,r,l,m,g,le,de,ce,fe,me]).subscribe({next:([v,ge,pe,ue,ve,xe,he,be,ye,Ze,qe])=>{this.blood_types=v.data,this.suffix_names=ge.data,this.occupations=pe.data,this.civil_statuses=ue.data,this.educations=ve.data,this.religions=xe.data,this.regions=he.data,this.pwd_types=be.data,this.washington_questions=ye.data,this.washington_answers=Ze.data,this.residence_classifications=qe.data,this.show_form=!0,"/edit-patient"===this.router.url.split(";")[0]?(this.show_edit=!0,this.loadPatient(this.router.url.split("=")[1])):(this.enableCctDate(),this.isDisabled(!0))},error:v=>console.log(v)})}loadPatient(e){this.http.get("patient/"+e).subscribe({next:a=>{this.patientForm.patchValue({...a.data}),a.data.patientWashington&&this.patientForm.patchValue({difficulty_hearing:a.data.patientWashington.difficulty_hearing,difficulty_remembering:a.data.patientWashington.difficulty_remembering,difficulty_seeing:a.data.patientWashington.difficulty_seeing,difficulty_self_care:a.data.patientWashington.difficulty_self_care,difficulty_speaking:a.data.patientWashington.difficulty_speaking,difficulty_walking:a.data.patientWashington.difficulty_walking}),this.patient_to_update=a.data.id,this.button_function="Update",this.orig_data=a.data,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member),this.enableCctDate(),this.disable_save=!1},error:a=>console.log(a)})}patchAddress(e,a){e&&(this.patientForm.patchValue({family:{address:e.address}}),this.loadDemog("regions",e.barangay.region.code,"provinces"),this.patientForm.patchValue({family:{region:e.barangay.region.code}}),this.loadDemog("provinces",e.barangay.province.code,"municipalities"),this.patientForm.patchValue({family:{province:e.barangay.province.code}}),this.loadDemog("municipalities",e.barangay.municipality.code,"barangays"),this.patientForm.patchValue({family:{municipality:e.barangay.municipality.code}}),this.patientForm.patchValue({family:{brgy:e.barangay.code}}),this.patientForm.patchValue({family:{cct_id:e.cct_id}}),e.cct_id&&this.patientForm.patchValue({family:{cct_date:e.cct_date}}),this.patientForm.patchValue({family:{brgy:e.barangay.code}}),this.patientForm.patchValue({family:{is_head:a.family_role_code,residence_classification_code:e.residence_classification_code}}),this.selected_family_folder=e.id),this.isDisabled(!0)}enableCctDate(){this.f.family.controls.cct_id.value?(this.show_cct_date=!0,this.f.family.controls.cct_id.enabled?this.f.family.controls.cct_date.enable():this.f.family.controls.cct_date.disable()):(this.show_cct_date=!1,this.f.family.controls.cct_date.disable())}ngOnInit(){let e=this.http.getUserID(),a=this.http.getUserFacility();this.patientForm=this.formBuilder.nonNullable.group({facility_code:[a],user_id:[e],last_name:["",[o.kI.required,o.kI.minLength(2)]],first_name:["",[o.kI.required,o.kI.minLength(2)]],middle_name:["",[o.kI.required,o.kI.minLength(1)]],suffix_name:["NA"],birthdate:["",o.kI.required],mothers_name:["",[o.kI.required,o.kI.minLength(2)]],gender:["",o.kI.required],mobile_number:["",o.kI.required],pwd_type_code:["NA",o.kI.required],indegenous_flag:[!1],blood_type_code:["NA",o.kI.required],religion_code:["UNKNO",o.kI.required],occupation_code:["UNSP001",o.kI.required],education_code:["6",o.kI.required],civil_status_code:["",o.kI.required],consent_flag:[!1],family:this.formBuilder.group({region:["",o.kI.required],province:["",o.kI.required],municipality:["",o.kI.required],brgy:["",o.kI.required],address:["",[o.kI.required,o.kI.minLength(2)]],cct_id:["",[o.kI.minLength(2)]],cct_date:["",o.kI.required],is_head:["",[o.kI.required]],residence_classification_code:[null]}),difficulty_seeing:["",this.washington_required?o.kI.required:""],difficulty_hearing:["",this.washington_required?o.kI.required:""],difficulty_walking:["",this.washington_required?o.kI.required:""],difficulty_remembering:["",this.washington_required?o.kI.required:""],difficulty_self_care:["",this.washington_required?o.kI.required:""],difficulty_speaking:["",this.washington_required?o.kI.required:""]}),this.date=(new Date).toISOString().slice(0,10),this.loadLibraries()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.O),t.Y36(o.qu),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-patient-registration"]],decls:9,vars:5,consts:[[1,"mt-10","flex","justify-center","w-full"],[1,"w-5/6","bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","bg-blue-500","text-white","text-lg","p-3","font-semibold"],["class","shadow rounded-md p-4 m-5 w-5/6 mx-auto",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[4,"ngIf"],[1,"shadow","rounded-md","p-4","m-5","w-5/6","mx-auto"],[1,"grid","grid-cols-1","my-32"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"],[3,"formGroup","ngSubmit"],[1,"mx-10","mb-10"],[1,"px-4","py-5","bg-white","sm:p-6"],[1,"grid","grid-cols-8","gap-x-4","mb-3"],[1,"col-span-8","flex"],["type","checkbox","id","consent_flag","formControlName","consent_flag",1,"input-checkbox","mt-0.5"],["for","consent_flag",1,"input-label","ml-2",3,"ngClass"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],["class","text-right",4,"ngIf"],[1,"col-span-8","font-semibold","text-blue-500"],[1,"-ml-5"],[1,"grid","grid-cols-8","gap-x-4","gap-y-6"],[1,"col-span-6","sm:col-span-2"],["for","last_name",1,"input-label",3,"ngClass"],["type","text","name","last_name","id","last_name","formControlName","last_name","required","",1,"input","capitalize",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","first_name",1,"input-label",3,"ngClass"],["type","text","name","first_name","id","first_name","formControlName","first_name",1,"input","capitalize",3,"ngClass"],["for","middle_name",1,"input-label",3,"ngClass"],["type","text","name","middle_name","id","middle_name","formControlName","middle_name",1,"input","capitalize",3,"ngClass"],["for","suffix_name",1,"input-label"],["id","suffix_name","name","suffix_name","formControlName","suffix_name",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","gender",1,"input-label",3,"ngClass"],["id","gender","name","gender","formControlName","gender",1,"input",3,"ngClass"],["value","M"],["value","F"],["value","I"],["for","civil_status_code",1,"input-label",3,"ngClass"],["id","civil_status_code","name","civil_status_code","formControlName","civil_status_code",1,"input",3,"ngClass"],["for","blood_type_code",1,"input-label",3,"ngClass"],["id","blood_type_code","name","blood_type_code","formControlName","blood_type_code",1,"input",3,"ngClass"],["for","birthdate",1,"input-label",3,"ngClass"],["type","date","name","birthdate","id","birthdate","placeholder","mm/dd/yyyy","formControlName","birthdate",1,"input",3,"max","ngClass"],["for","mobile_number",1,"input-label",3,"ngClass"],["type","text","mask","(9999) 999-9999","name","mobile_number","id","mobile_number","formControlName","mobile_number",1,"input",3,"showMaskTyped","ngClass"],["for","mothers_name",1,"input-label",3,"ngClass"],["type","text","name","mothers_name","id","mothers_name","formControlName","mothers_name",1,"input",3,"ngClass"],["for","education_code",1,"input-label",3,"ngClass"],["id","education_code","name","education_code","formControlName","education_code",1,"input",3,"ngClass"],["for","religion_code",1,"input-label",3,"ngClass"],["id","religion_code","name","religion_code","formControlName","religion_code",1,"input",3,"ngClass"],["for","occupation_code",1,"input-label",3,"ngClass"],["id","occupation_code","name","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],["for","indegenous_flag",1,"input-label",3,"ngClass"],["id","indegenous_flag","name","indegenous_flag","formControlName","indegenous_flag",1,"input",3,"ngClass"],[3,"ngValue"],["for","pwd_type_code",1,"input-label",3,"ngClass"],["id","pwd_type_code","name","pwd_type_code","formControlName","pwd_type_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-8","gap-x-4","gap-y-4","pt-6"],[1,"col-span-8","border-b-2","border-slate-100"],[1,"-ml-5","mr-5"],["type","button",1,"col-span-8","w-24","rounded-md","text-white","bg-sky-500","hover:bg-sky-600","active:bg-sky-400","focus:bg-sky-600","px-2","py-1","text-sm",3,"click"],[1,"mr-1",3,"icon"],["type","button","class","ml-2 w-24 col-span-8 rounded-md text-white bg-amber-500 hover:bg-amber-600 active:bg-amber-400 focus:bg-amber-600 px-2 py-1 text-sm",3,"click",4,"ngIf"],["formGroupName","family",1,"grid","grid-cols-8","gap-x-4","gap-y-6"],["class","col-span-8 grid grid-cols-8 bg-amber-100 border border-amber-200 rounded-lg px-5 mt-4 text-gray-700",4,"ngIf"],["class","col-span-6 sm:col-span-2",4,"ngIf"],[1,"col-span-8","sm:col-span-2"],["for","is_head",1,"input-label",3,"ngClass"],["id","is_head","name","is_head","formControlName","is_head",1,"input","disabled:bg-gray-300",3,"ngClass"],["value","MEMBER"],["value","HEAD"],["class","col-span-8 sm:col-span-2",4,"ngIf"],[1,"invalid-alert"],[3,"value"],["type","button",1,"ml-2","w-24","col-span-8","rounded-md","text-white","bg-amber-500","hover:bg-amber-600","active:bg-amber-400","focus:bg-amber-600","px-2","py-1","text-sm",3,"click"],[1,"col-span-8","grid","grid-cols-8","bg-amber-100","border","border-amber-200","rounded-lg","px-5","mt-4","text-gray-700"],[1,"col-span-4","mt-2","mb-2"],[1,"col-span-4","mt-2","mb-2","grid","grid-cols-1"],[4,"ngFor","ngForOf"],["for","region",1,"input-label",3,"ngClass"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","province",1,"input-label",3,"ngClass"],["id","province","name","province","formControlName","province",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","muncity",1,"input-label",3,"ngClass"],["id","muncity","name","muncity","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","brgy",1,"input-label",3,"ngClass"],["id","brgy","name","brgy","formControlName","brgy",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","address",1,"input-label",3,"ngClass"],["type","text","name","address","id","address","formControlName","address",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","cct_id",1,"input-label",3,"ngClass"],[1,"text-sm"],["type","text","name","cct_id","id","cct_id","formControlName","cct_id",1,"input","disabled:bg-gray-300",3,"ngClass","keyup"],["for","cct_date",1,"input-label",3,"ngClass"],["type","date","name","cct_date","id","cct_date","formControlName","cct_date",1,"input","disabled:bg-gray-300",3,"ngClass"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[1,"text-right"],["type","submit",1,"btn-save","mr-5","w-48","disabled:bg-gray-400",3,"disabled"],["class","mr-3",3,"icon","spin",4,"ngIf"],["class","mr-3",3,"icon",4,"ngIf"],[1,"mr-3",3,"icon","spin"],[1,"mr-3",3,"icon"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],[1,"relative","w-auto","my-6","mx-auto","max-w-6xl"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"relative","p-6","pb-10","pr-40","flex-auto"],[1,"flex","items-center","justify-end","p-3","rounded-b"],["class","bg-blue-500 text-white active:bg-blue-500 hover:bg-blue-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["class","bg-amber-500 text-white active:bg-amber-500 hover:bg-amber-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","active:bg-blue-500","hover:bg-blue-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],["type","button",1,"bg-amber-500","text-white","active:bg-amber-500","hover:bg-amber-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[3,"last_name","toggleModal","transaction"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Patient Registration "),t.qZA(),t.YNc(4,J,6,1,"div",3),t.YNc(5,Wt,11,7,"form",4),t.qZA()(),t.YNc(6,ie,10,4,"div",5),t.YNc(7,ne,1,0,"div",6),t.YNc(8,oe,2,1,"div",7)),2&e&&(t.xp6(4),t.Q6J("ngIf",!a.show_form),t.xp6(1),t.Q6J("ngIf",a.show_form),t.xp6(1),t.Q6J("ngIf",a.showModal),t.xp6(1),t.Q6J("ngIf",a.showModal),t.xp6(1),t.Q6J("ngIf",a.familyFolderModal))},dependencies:[f.mk,f.sg,f.O5,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.Q7,u.BN,o.sg,o.u,o.x0,b.Z6,N,f.uU,f.Nd],data:{animation:[Z.K]}}),i})()}];let re=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.Bz.forChild(ae),p.Bz]}),i})();const se=null;let _e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[(0,b.e$)()],imports:[f.ez,re,o.u5,u.uH,o.UX]}),i})()}}]);