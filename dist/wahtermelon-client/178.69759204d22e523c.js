"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[178],{9178:(h,g,p)=>{p.r(g),p.d(g,{DashboardModule:()=>pt});var d=p(6895),_=p(2216),c=p(5749),t=p(4650),r=p(2687),b=p(7579),m=p(4691),v=p(6356),u=p(4006);function y(n,a){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq("",e.last_name,", ",e.first_name," ",e.middle_name,"")}}function T(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" Dr. ",e.physician.first_name," ",e.physician.last_name," ")}}function C(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1," - "),t.qZA())}function Z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.openItr(null==s?null:s.patient.id,"itr"))}),t.TgZ(2,"a",15)(3,"div",16)(4,"span",17),t._uU(5),t.qZA()()(),t.TgZ(6,"div",18)(7,"span",19),t._uU(8),t.qZA(),t.TgZ(9,"span",20),t._uU(10," -"),t.qZA()()(),t.TgZ(11,"div",21)(12,"div",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.openItr(null==s?null:s.patient.id,null==s?null:s.pt_group,null==s?null:s.id))}),t.TgZ(13,"button",23)(14,"span",24),t._uU(15),t.qZA(),t.TgZ(16,"span",25),t._uU(17),t.qZA()()(),t.TgZ(18,"div",26),t.YNc(19,T,2,2,"span",9),t.YNc(20,C,2,0,"span",9),t.qZA(),t.TgZ(21,"div",27),t._uU(22),t.qZA()()()}if(2&n){const e=a.$implicit,o=t.oxw(2);t.xp6(5),t.Oqu(o.getInitials(null==e||null==e.patient?null:e.patient.first_name,null==e||null==e.patient?null:e.patient.last_name)),t.xp6(3),t.HOy(" ",null==e||null==e.patient?null:e.patient.last_name,", ",null==e||null==e.patient?null:e.patient.first_name," ","NA"===(null==e||null==e.patient?null:e.patient.middle_name)?"":null==e||null==e.patient?null:e.patient.middle_name," ","NA"===(null==e||null==e.patient?null:e.patient.suffix_name)?"":null==e||null==e.patient?null:e.patient.suffix_name," "),t.xp6(7),t.Oqu(o.checkVisit(null==e?null:e.pt_group)),t.xp6(2),t.Oqu(null==e?null:e.pt_group),t.xp6(2),t.Q6J("ngIf",e.physician),t.xp6(1),t.Q6J("ngIf",!e.physician),t.xp6(2),t.hij(" ",o.getDataDiff(null==e?null:e.consult_date)," ")}}function w(n,a){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,Z,23,10,"div",12),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.today_consults)}}function A(n,a){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2," No record to show "),t.qZA()())}function J(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"nav",34)(2,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(1))}),t._UZ(3,"fa-icon",36),t.qZA(),t.TgZ(4,"button",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.current_page-1))}),t._UZ(5,"fa-icon",36),t._uU(6,"Previous "),t.qZA(),t.TgZ(7,"button",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.current_page+1))}),t._uU(8," Next"),t._UZ(9,"fa-icon",38),t.qZA(),t.TgZ(10,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.last_page))}),t._UZ(11,"fa-icon",38),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}function U(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",30)(2,"div",31)(3,"div")(4,"p",32),t._uU(5," Showing "),t.TgZ(6,"span",33),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",33),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",33),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.YNc(15,J,12,8,"div",9),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(2),t.Q6J("ngIf",e.total>=6)}}let q=(()=>{class n{getTodaysConsult(e){let o={params:{}};o.params.page=e||this.current_page,"all"!==this.selected_physician&&(o.params.physician_id=this.selected_physician),o.params.per_page=this.per_page,o.params.consult_done=0,this.http.get("consultation/records",o).subscribe({next:i=>{this.today_consults=i.data,this.show_form=!0,this.current_page=i.meta.current_page,this.last_page=i.meta.last_page,this.from=i.meta.from,this.to=i.meta.to,this.total=i.meta.total},error:i=>console.log(i)})}subscribeRefresh(){this.todays_inteval=setInterval(()=>{this.getTodaysConsult()},1e4)}loadPhysicians(){this.http.get("users",{params:{per_page:"all",designation_code:"MD"}}).subscribe({next:e=>{this.physicians=e.data;let o=this.http.getUserFromJSON();this.selected_physician="MD"===o.designation_code?o.id:"all",this.getTodaysConsult(),this.subscribeRefresh()},error:e=>console.log(e)})}openItr(e,o,i){this.router.navigate("itr"===o?["/patient/"+o,{id:e}]:["/patient/"+o,{id:e,consult_id:i}])}getDataDiff(e){let o=new Date,i=new Date(e);var s=o.getTime()-i.getTime(),l=Math.floor(s/864e5),f=Math.floor(s/36e5)-24*l,x=Math.floor(s/6e4)-(24*l*60+60*f);return(l?l+" days":"")+" "+(f?f+" hours":"")+" "+(x?x+" minutes":"")}checkVisit(e){return this.nameHelper.getVisitType(e)}getInitials(e,o){return e.charAt(0)+o.charAt(0)}constructor(e,o,i){this.http=e,this.router=o,this.nameHelper=i,this.unsubscribe$=new b.x,this.faQuestionCircle=r.Fuz,this.faChevronDown=r.ptq,this.faFolderOpen=r.cC_,this.faHeart=r.m6i,this.faFlask=r.jZZ,this.faNotesMedical=r.AKf,this.faExclamationCircle=r.RLE,this.faChevronRight=r._tD,this.faChevronLeft=r.A35,this.faAnglesLeft=r._Wx,this.faAnglesRight=r.ccb,this.per_page=5,this.show_form=!1}ngOnInit(){this.loadPhysicians()}ngOnDestroy(){clearInterval(this.todays_inteval)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(c.F0),t.Y36(v.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-todays-consult"]],inputs:{date_today:"date_today"},decls:12,vars:6,consts:[[1,"mb-10","rounded-xl","text-gray-600","h-100","border","border-slate-100","shadow-md"],[1,"md:flex","md:justify-between","md:items-center","pb-2","bg-orange-400","text-white","rounded-t-md","p-2"],[1,"font-semibold","pl-3"],[1,"flex","items-center"],[1,"input","px-2","mr-3","disabled:bg-gray-300","w-72","text-gray-800",3,"ngModel","change","ngModelChange"],["value","all"],["class","pr-",3,"value",4,"ngFor","ngForOf"],["class","p-3",4,"ngIf"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"pr-",3,"value"],[1,"p-3"],["class","flex justify-between items-center mb-3  pb-3 border-b border-gray-200",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mb-3","pb-3","border-b","border-gray-200"],[1,"flex","cursor-pointer","w-2/5","hover:opacity-75",3,"click"],[1,"justify-center","mx-auto"],[1,"inline-flex","overflow-hidden","relative","justify-center","items-center","w-16","h-16","bg-gray-100","rounded-full","dark:bg-gray-600"],[1,"font-medium","text-gray-600","text-sm","xl:text-lg"],[1,"flex","justify-center","text-blue-500","md:block","leading-tight","mx-2","my-1","w-full","hover:bg-blue-500","hover:text-white","p-1","rounded-md"],[1,"w-full","block","font-medium","my-0","py-0","text-sm"],[1,"w-full","block","text-xs"],[1,"grid","grid-cols-12","text-left","w-3/5"],[1,"col-span-6","text-gray-700","hover:bg-green-500","hover:text-white","hover:cursor-pointer","p-3","rounded-md","text-[.85em]",3,"click"],["type","button",1,"flex","justify-between"],[1,"hidden","lg:inline-block"],[1,"lg:hidden","uppercase","text-xs"],[1,"col-span-3","px-3","text-sm"],[1,"col-span-3","px-3","text-[.8em]"],[1,"pt-3"],[1,"text-center","items-center","mb-3","italic"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"select",4),t.NdJ("change",function(){return o.getTodaysConsult()})("ngModelChange",function(s){return o.selected_physician=s}),t.TgZ(6,"option",5),t._uU(7,"All"),t.qZA(),t.YNc(8,y,2,4,"option",6),t.qZA()()(),t.YNc(9,w,2,1,"div",7),t.YNc(10,A,3,0,"div",8),t.YNc(11,U,16,4,"div",9),t.qZA()),2&e&&(t.xp6(3),t.hij("Todays Consult (",o.date_today,")"),t.xp6(2),t.Q6J("ngModel",o.selected_physician),t.xp6(3),t.Q6J("ngForOf",o.physicians),t.xp6(1),t.Q6J("ngIf",o.show_form),t.xp6(1),t.Q6J("ngIf",0===(null==o.today_consults?null:o.today_consults.length)),t.xp6(1),t.Q6J("ngIf",o.total>=1))},dependencies:[d.sg,d.O5,_.BN,u.YN,u.Kr,u.EJ,u.JJ,u.On]}),n})();var N=p(3396);function k(n,a){if(1&n&&(t.TgZ(0,"div",3)(1,"div",13),t._uU(2),t.qZA(),t.TgZ(3,"div",14),t._uU(4),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e["Patient Group"]," "),t.xp6(2),t.hij(" ",null==e?null:e.count," ")}}function Q(n,a){1&n&&(t.TgZ(0,"span",15),t._uU(1,"Staff"),t.qZA())}function I(n,a){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function F(n,a){1&n&&(t.TgZ(0,"span",15),t._uU(1,"Patient"),t.qZA())}function O(n,a){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function M(n,a){1&n&&(t.TgZ(0,"span",17),t._uU(1,"No celebrants today"),t.qZA())}let R=(()=>{class n{constructor(e,o){this.http=e,this.router=o,this.faChevronDown=r.ptq,this.faFolderOpen=N.cC_,this.appointment_list=[]}openLink(e){console.log(e)}loadStats(){this.http.get("consultation/stats").subscribe({next:e=>{this.side_stats=e},error:e=>console.log(e)})}ngOnInit(){this.loadStats()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-todays-stats"]],inputs:{date_today:"date_today"},decls:23,vars:8,consts:[[1,"block"],[1,"mb-4","py-3","px-2","text-gray-600","border","border-slate-100","rounded-xl"],[1,"border-b-2","border-slate-200","font-semibold","text-sm","text-left"],[1,"mb-3","flex","justify-between"],[1,"text-md","font-semibold","text-left"],[1,"text-xl","font-bold","text-right","text-orange-400"],[1,"flex","justify-between"],[1,"font-semibold","text-md","text-left"],[1,"text-xl","font-bold","text-right","text-cyan-400"],["class","mb-3 flex justify-between",4,"ngFor","ngForOf"],["class","pt-3 font-semibold",4,"ngIf"],["class","text-left pl-1 font-normal text-xs",4,"ngFor","ngForOf"],["class","text-center w-ful pt-3 font-normal italic text-xs",4,"ngIf"],[1,"font-semibold","text-sm","text-left","uppercase","ml-5"],[1,"text-lg","font-bold","text-right","text-cyan-400"],[1,"pt-3","font-semibold"],[1,"text-left","pl-1","font-normal","text-xs"],[1,"text-center","w-ful","pt-3","font-normal","italic","text-xs"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Stats Summary Today"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t._uU(6," Patients "),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7),t._uU(11," All visits "),t.qZA(),t.TgZ(12,"div",8),t._uU(13),t.qZA()(),t.YNc(14,k,5,2,"div",9),t.qZA(),t.TgZ(15,"div",1)(16,"div",2),t._uU(17,"Birthday Celebrants"),t.qZA(),t.YNc(18,Q,2,0,"span",10),t.YNc(19,I,2,1,"div",11),t.YNc(20,F,2,0,"span",10),t.YNc(21,O,2,1,"div",11),t.YNc(22,M,2,0,"span",12),t.qZA()()),2&e&&(t.xp6(8),t.hij(" ",null==o.side_stats?null:o.side_stats.patient_registered," "),t.xp6(5),t.hij(" ",null==o.side_stats?null:o.side_stats.consult_count," "),t.xp6(1),t.Q6J("ngForOf",null==o.side_stats?null:o.side_stats.program_count),t.xp6(4),t.Q6J("ngIf",null==o.side_stats?null:o.side_stats.user_birthdate),t.xp6(1),t.Q6J("ngForOf",null==o.side_stats?null:o.side_stats.user_birthdate),t.xp6(1),t.Q6J("ngIf",null==o.side_stats?null:o.side_stats.patient_birthdate),t.xp6(1),t.Q6J("ngForOf",null==o.side_stats?null:o.side_stats.patient_birthdate),t.xp6(1),t.Q6J("ngIf",!(null!=o.side_stats&&o.side_stats.patient_birthdate||null!=o.side_stats&&o.side_stats.user_birthdate)))},dependencies:[d.sg,d.O5]}),n})();function j(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.openItr(s.value.patient_id,"itr"))}),t._uU(1),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.value.appointment_desc," ")}}function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.openItr(s.value[0].patient_id,"itr"))}),t._uU(4),t.qZA()()(),t.TgZ(5,"div",13),t.YNc(6,j,2,1,"div",14),t.ALo(7,"keyvalue"),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(4),t.hij(" ",e.key," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(7,2,e.value))}}function G(n,a){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,Y,8,4,"div",8),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.todays_appointment))}}function D(n,a){1&n&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2," No record to show "),t.qZA()())}function P(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div",17),t._UZ(2,"fa-icon",19),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("icon",e.faCircleNotch)}}function H(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"nav",24)(2,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.loadAppointments(1))}),t._UZ(3,"fa-icon",26),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.loadAppointments(i.current_page-1))}),t._UZ(5,"fa-icon",26),t._uU(6,"Previous "),t.qZA(),t.TgZ(7,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.loadAppointments(i.current_page+1))}),t._uU(8," Next"),t._UZ(9,"fa-icon",28),t.qZA(),t.TgZ(10,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.loadAppointments(i.last_page))}),t._UZ(11,"fa-icon",28),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}function S(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div")(4,"p",22),t._uU(5," Showing "),t.TgZ(6,"span",23),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",23),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",23),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.YNc(15,H,12,8,"div",6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(2),t.Q6J("ngIf",e.total>=6)}}let L=(()=>{class n{openItr(e,o,i){this.router.navigate("itr"===o?["/patient/"+o,{id:e}]:["/patient/"+o,{id:e,consult_id:i}])}loadAppointments(e){this.show_form=!1;let o={params:{}};o.params.page=e||this.current_page,o.params.facility_code=this.http.getUserFacility(),o.params.per_page=this.per_page,o.params.consult_done=0,this.http.get("appointment/schedule",o).subscribe({next:i=>{this.todays_appointment=i[0].data,this.current_page=i[0].current_page,this.last_page=i[0].last_page,this.from=i[0].from,this.to=i[0].to,this.total=i[0].total,this.show_form=!0},error:i=>console.log(i)})}constructor(e,o){this.http=e,this.router=o,this.faCircleNotch=r.IJ7,this.faAnglesLeft=r._Wx,this.faChevronLeft=r.A35,this.faChevronRight=r._tD,this.faAnglesRight=r.ccb,this.show_form=!1,this.per_page=5,this.appointment_length=0}ngOnInit(){this.loadAppointments()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-todays-appointment"]],inputs:{date_today:"date_today"},decls:8,vars:5,consts:[[1,"mb-10","text-gray-600","h-100","border","border-slate-200","shadow-md","rounded-md"],[1,"md:flex","md:justify-between","md:items-center","pb-2","bg-blue-500","text-white","rounded-t-md"],[1,"font-semibold","pt-2","pl-5"],["class","p-3",4,"ngIf"],["class","-pt-3",4,"ngIf"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"p-3"],["class","flex justify-between border-b border-gray-100",4,"ngFor","ngForOf"],[1,"flex","justify-between","border-b","border-gray-100"],[1,"flex","w-3/5"],[1,"flex","justify-center","text-gray-700","md:block","leading-tight","align-top","my-1","w-full","p-1","rounded-md"],[1,"w-full","font-medium","my-0","text-sm","rounded-md","py-2","px-3","hover:cursor-pointer","hover:bg-blue-500","hover:text-white",3,"click"],[1,"grid","grid-cols-12","text-left","w-2/5"],["class","col-span-12 text-gray-700 hover:bg-green-500 hover:text-white hover:cursor-pointer p-3 rounded-md text-[.85em]",3,"click",4,"ngFor","ngForOf"],[1,"col-span-12","text-gray-700","hover:bg-green-500","hover:text-white","hover:cursor-pointer","p-3","rounded-md","text-[.85em]",3,"click"],[1,"-pt-3"],[1,"text-center","items-center","mb-3","italic"],[1,"pt-3"],["spin","true",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","rounded-b-md"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA()(),t.YNc(4,G,3,3,"div",3),t.YNc(5,D,3,0,"div",4),t.YNc(6,P,3,1,"div",5),t.YNc(7,S,16,4,"div",6),t.qZA()),2&e&&(t.xp6(3),t.hij("Todays Appointment (",o.date_today,")"),t.xp6(1),t.Q6J("ngIf",o.show_form),t.xp6(1),t.Q6J("ngIf",o.show_form&&0===o.todays_appointment.length),t.xp6(1),t.Q6J("ngIf",!o.show_form&&!o.todays_appointment),t.xp6(1),t.Q6J("ngIf",o.total>=1))},dependencies:[d.sg,d.O5,_.BN,d.Nd]}),n})();function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.openItr(s.value.patient_id,"itr"))}),t._uU(1),t._UZ(2,"br"),t._uU(3),t.ALo(4,"date"),t._UZ(5,"br"),t._uU(6),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(1),t.hij(" Referring Facility: ",e.value.facility_name," "),t.xp6(2),t.hij(" Referral Date: ",t.xi3(4,3,e.value.appointment_date,"MM/dd/yyyy")," "),t.xp6(3),t.hij(" Reason for Referral ",e.value.referral_reason," ")}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.openItr(s.value[0].patient_id,"itr"))}),t._uU(4),t.qZA()()(),t.TgZ(5,"div",13),t.YNc(6,K,7,6,"div",14),t.ALo(7,"keyvalue"),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(4),t.hij(" ",e.key," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(7,2,e.value))}}function $(n,a){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,B,8,4,"div",8),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.todays_appointment))}}function E(n,a){1&n&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2," No record to show "),t.qZA()())}function z(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div",17),t._UZ(2,"fa-icon",19),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("icon",e.faCircleNotch)}}function V(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"nav",24)(2,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(1))}),t._UZ(3,"fa-icon",26),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.current_page-1))}),t._UZ(5,"fa-icon",26),t._uU(6,"Previous "),t.qZA(),t.TgZ(7,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.current_page+1))}),t._uU(8," Next"),t._UZ(9,"fa-icon",28),t.qZA(),t.TgZ(10,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTodaysConsult(i.last_page))}),t._UZ(11,"fa-icon",28),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}function W(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div")(4,"p",22),t._uU(5," Showing "),t.TgZ(6,"span",23),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",23),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",23),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.YNc(15,V,12,8,"div",6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(2),t.Q6J("ngIf",e.total>=6)}}let X=(()=>{class n{openItr(e,o,i){this.router.navigate("itr"===o?["/patient/"+o,{id:e}]:["/patient/"+o,{id:e,consult_id:i}])}loadAppointments(e){this.show_form=!1;let o={params:{}};o.params.page=e||this.current_page,o.params.referral_facility_code=this.http.getUserFacility(),o.params.per_page=this.per_page,o.params.consult_done=0,this.http.get("appointment/schedule",o).subscribe({next:i=>{this.todays_appointment=i[0].data,this.current_page=i[0].current_page,this.last_page=i[0].last_page,this.from=i[0].from,this.to=i[0].to,this.total=i[0].total,this.show_form=!0},error:i=>console.log(i)})}constructor(e,o){this.http=e,this.router=o,this.faCircleNotch=r.IJ7,this.faAnglesLeft=r._Wx,this.faChevronLeft=r.A35,this.faChevronRight=r._tD,this.faAnglesRight=r.ccb,this.show_form=!1,this.per_page=5,this.appointment_length=0}ngOnInit(){this.loadAppointments()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-todays-referral"]],inputs:{date_today:"date_today"},decls:8,vars:4,consts:[[1,"mb-10","text-gray-600","h-100","border","border-slate-200","shadow-md","rounded-md"],[1,"md:flex","md:justify-between","md:items-center","pb-2","bg-rose-500","text-white","rounded-t-md"],[1,"font-semibold","pt-2","pl-5"],["class","p-3",4,"ngIf"],["class","-pt-3",4,"ngIf"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"p-3"],["class","flex justify-between border-b border-gray-100",4,"ngFor","ngForOf"],[1,"flex","justify-between","border-b","border-gray-100"],[1,"flex","w-3/5"],[1,"flex","justify-center","text-gray-700","md:block","leading-tight","align-top","my-1","w-full","p-1","rounded-md"],[1,"w-full","font-medium","my-0","text-sm","rounded-md","py-2","px-3","hover:cursor-pointer","hover:bg-blue-500","hover:text-white",3,"click"],[1,"grid","grid-cols-12","text-left","w-2/5"],["class","col-span-12 text-gray-700 hover:bg-green-500 hover:text-white hover:cursor-pointer p-3 rounded-md text-[.85em]",3,"click",4,"ngFor","ngForOf"],[1,"col-span-12","text-gray-700","hover:bg-green-500","hover:text-white","hover:cursor-pointer","p-3","rounded-md","text-[.85em]",3,"click"],[1,"-pt-3"],[1,"text-center","items-center","mb-3","italic"],[1,"pt-3"],["spin","true",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","rounded-b-md"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"Referrals"),t.qZA()(),t.YNc(4,$,3,3,"div",3),t.YNc(5,E,3,0,"div",4),t.YNc(6,z,3,1,"div",5),t.YNc(7,W,16,4,"div",6),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.show_form),t.xp6(1),t.Q6J("ngIf",o.show_form&&0===o.todays_appointment.length),t.xp6(1),t.Q6J("ngIf",!o.show_form&&!o.todays_appointment),t.xp6(1),t.Q6J("ngIf",o.total>=1))},dependencies:[d.sg,d.O5,_.BN,d.uU,d.Nd]}),n})();function tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"span",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.openItr(s.patient.id,"gbv"))}),t._uU(4),t.qZA()()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.lnq(" ",e.patient.last_name,", ",e.patient.first_name," ",e.patient.middle_name," ")}}function et(n,a){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,tt,5,3,"div",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.gbv_lists)}}function nt(n,a){1&n&&(t.TgZ(0,"div",14)(1,"div",15),t._uU(2," No record to show "),t.qZA()())}function ot(n,a){if(1&n&&(t.TgZ(0,"div",16)(1,"div",15),t._UZ(2,"fa-icon",17),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("icon",e.faCircleNotch)}}function it(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"nav",22)(2,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.loadAppointments(1))}),t._UZ(3,"fa-icon",24),t.qZA(),t.TgZ(4,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.loadAppointments(i.current_page-1))}),t._UZ(5,"fa-icon",24),t._uU(6,"Previous "),t.qZA(),t.TgZ(7,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.loadAppointments(i.current_page+1))}),t._uU(8," Next"),t._UZ(9,"fa-icon",26),t.qZA(),t.TgZ(10,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.loadAppointments(i.last_page))}),t._UZ(11,"fa-icon",26),t.qZA()()()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}function at(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",18)(2,"div",19)(3,"div")(4,"p",20),t._uU(5," Showing "),t.TgZ(6,"span",21),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",21),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",21),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.YNc(15,it,12,8,"div",7),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(2),t.Q6J("ngIf",e.total>=6)}}function rt(n,a){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"span",3),t._uU(3,"GBV Client"),t.qZA()(),t.YNc(4,et,2,1,"div",4),t.YNc(5,nt,3,0,"div",5),t.YNc(6,ot,3,1,"div",6),t.YNc(7,at,16,4,"div",7),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.show_form),t.xp6(1),t.Q6J("ngIf",e.show_form&&0===e.gbv_lists.length),t.xp6(1),t.Q6J("ngIf",!e.show_form&&!e.gbv_lists),t.xp6(1),t.Q6J("ngIf",e.total>=1)}}let st=(()=>{class n{openItr(e,o,i){this.router.navigate(["/patient/"+o,{id:e}])}getList(e){this.show_form=!1;let o={params:{}};o.params.page=e||this.current_page,o.params.per_page=this.per_page,this.http.get("gender-based-violence/patient-gbv-list",o).subscribe({next:i=>{console.log(i),this.gbv_lists=i.data,this.current_page=i.current_page,this.last_page=i.last_page,this.from=i.from,this.to=i.to,this.total=i.total,this.show_form=!0},error:i=>console.log(i)})}constructor(e,o){this.http=e,this.router=o,this.faCircleNotch=r.IJ7,this.faAnglesLeft=r._Wx,this.faChevronLeft=r.A35,this.faChevronRight=r._tD,this.faAnglesRight=r.ccb,this.show_form=!1,this.per_page=5,this.arr_allowed=["MD","WCPD","MSWDO"],this.enable_gbv=!1}ngOnInit(){let e=this.http.getUserFromJSON();this.pos=e.designation_code?e.designation_code:e.designation.code,this.arr_allowed.indexOf(this.pos)>-1&&(this.enable_gbv=!0,this.getList())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.O),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gbv-patients"]],inputs:{date_today:"date_today"},decls:1,vars:1,consts:[["class","mb-10  text-gray-600 h-100 border border-slate-200 shadow-md rounded-md",4,"ngIf"],[1,"mb-10","text-gray-600","h-100","border","border-slate-200","shadow-md","rounded-md"],[1,"md:flex","md:justify-between","md:items-center","pb-2","bg-sky-500","text-white","rounded-t-md"],[1,"font-semibold","pt-2","pl-5"],["class","p-3",4,"ngIf"],["class","-pt-3",4,"ngIf"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"p-3"],["class","flex justify-between border-b border-gray-100",4,"ngFor","ngForOf"],[1,"flex","justify-between","border-b","border-gray-100"],[1,"flex"],[1,"flex","justify-center","text-gray-700","md:block","leading-tight","align-top","my-1","w-full","p-1","rounded-md"],[1,"w-full","font-medium","my-0","text-sm","rounded-md","py-2","px-3","hover:cursor-pointer","hover:bg-sky-500","hover:text-white",3,"click"],[1,"-pt-3"],[1,"text-center","items-center","mb-3","italic"],[1,"pt-3"],["spin","true",1,"text-sky-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","rounded-b-md"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,o){1&e&&t.YNc(0,rt,8,4,"div",0),2&e&&t.Q6J("ngIf",o.enable_gbv)},dependencies:[d.sg,d.O5,_.BN]}),n})();const lt=[{path:"",component:(()=>{class n{constructor(){this.date_today=(0,d.p6)(new Date,"MM/dd/yyyy","en")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[[1,"grid","grid-cols-11","mt-4","gap-4","w-full"],[1,"col-span-9","grid","grid-cols-1"],[3,"date_today"],[1,"hidden","lg:block","lg:col-span-2","lg:overflow-auto",3,"date_today"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-todays-consult",2)(3,"app-todays-appointment",2)(4,"app-todays-referral",2)(5,"app-gbv-patients",2),t.qZA(),t._UZ(6,"app-todays-stats",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("date_today",o.date_today),t.xp6(1),t.Q6J("date_today",o.date_today),t.xp6(1),t.Q6J("date_today",o.date_today),t.xp6(1),t.Q6J("date_today",o.date_today),t.xp6(1),t.Q6J("date_today",o.date_today))},dependencies:[q,R,L,X,st]}),n})()}];let dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(lt),c.Bz]}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,dt,_.uH,u.u5]}),n})()},6356:(h,g,p)=>{p.d(g,{y:()=>_});var d=p(4650);let _=(()=>{class c{getVisitType(r){switch(r){case"ab":return"Animal Bite";case"at":return"Adolescent";case"cc":return"Child Care";case"cn":return"Consultation";case"cv":return"COVID-19";case"dn":return"Dental";case"fp":return"Family Planning";case"lp":return"Leprosy";case"mc":return"Maternal Care";case"mh":return"Mental Health";case"ml":return"Malaria";case"ncd":return"Non Communicable Disease";case"tb":return"TB Dots";case"gbv":return"Gender Based Violence"}}getURL(r){switch(r){case"CBC":return"laboratory/consult-laboratory-cbc";case"CRTN":return"laboratory/consult-laboratory-creatinine";case"CXRAY":return"laboratory/consult-laboratory-chestxray";case"ECG":return"laboratory/consult-laboratory-ecg";case"FBS":return"laboratory/consult-laboratory-fbs";case"RBS":return"laboratory/consult-laboratory-rbs";case"HBA":return"laboratory/consult-laboratory-hba1c";case"PSMR":return"laboratory/consult-laboratory-papsmear";case"PPD":return"laboratory/consult-laboratory-ppd";case"SPTM":return"laboratory/consult-laboratory-sputum";case"FCAL":return"laboratory/consult-laboratory-fecalysis";case"LPFL":return"laboratory/consult-laboratory-lipid-profile";case"URN":return"laboratory/consult-laboratory-urinalysis";case"OGTT":return"laboratory/consult-laboratory-oral-glucose";case"FOBT":return"laboratory/consult-laboratory-fecal-occult";case"GRMS":return"laboratory/consult-laboratory-gram-stain";case"MCRP":return"laboratory/consult-laboratory-microscopy";default:return""}}constructor(){}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);