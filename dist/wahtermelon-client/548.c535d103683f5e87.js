"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[548],{1548:(ut,b,c)=>{c.r(b),c.d(b,{ChildcareModule:()=>gt});var l=c(6895),p=c(5749),_=c(2687),e=c(4650),v=c(4691),g=c(2216),w=c(8696),C=c(9577),T=c(1305),r=c(4006),u=c(3396),k=c(9300),M=c(1884),S=c(8372),y=c(8505),A=c(3900),N=c(262),I=c(4004),q=c(7579),J=c(7272),Z=c(9646),x=c(7185),f=c(1079);function U(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function F(i,o){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,U,2,1,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.admission_date.errors?null:t.f.admission_date.errors.required)}}function Y(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function E(i,o){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,Y,2,1,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.discharge_date.errors?null:t.f.discharge_date.errors.required)}}function D(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Q(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function B(i,o){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,D,2,1,"div",33),e.YNc(2,Q,2,0,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.birth_weight.errors?null:t.f.birth_weight.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.birth_weight.errors?null:t.f.birth_weight.errors.minlength)}}function O(i,o){if(1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.lnq("",null==t.patient_info2?null:t.patient_info2.first_name," ",null==t.patient_info2?null:t.patient_info2.middle_name," ",null==t.patient_info2?null:t.patient_info2.last_name,"")}}function L(i,o){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,O,3,3,"div",33),e.TgZ(2,"div")(3,"p",35),e._uU(4),e.qZA()()()),2&i){const t=o.item,s=e.oxw();e.xp6(1),e.Q6J("ngIf",!s.hideName),e.xp6(3),e.lnq("",null==t?null:t.first_name," ",null==t?null:t.middle_name," ",null==t?null:t.last_name,"")}}function P(i,o){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),e._uU(4),e.qZA()()(),e.TgZ(5,"div")(6,"h5",40),e._uU(7),e.qZA(),e.TgZ(8,"h6",41),e._uU(9),e.qZA(),e.TgZ(10,"h6",41),e._uU(11),e.qZA()()()),2&i){const t=o.item,s=o.searchTerm,n=e.oxw();e.xp6(4),e.Oqu(n.getInitials(t.last_name+" "+t.first_name)),e.xp6(2),e.Q6J("ngOptionHighlight",s),e.xp6(1),e.AsE("",t.last_name,", ",t.first_name,""),e.xp6(2),e.Oqu(t.birthdate),e.xp6(2),e.AsE("",t.brgy,", ",t.muncity,"")}}function H(i,o){1&i&&(e.TgZ(0,"a",42),e._uU(1," Create a new record"),e.qZA())}function G(i,o){if(1&i&&(e.TgZ(0,"div",43)(1,"div",7)(2,"p",44),e._uU(3),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.cpab)}}function K(i,o){if(1&i&&e._UZ(0,"fa-icon",47),2&i){const t=e.oxw(2);e.Q6J("icon",t.is_saving?t.faSpinner:t.faSave)("spin",t.is_saving)}}function V(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e.YNc(1,K,1,2,"fa-icon",46),e._uU(2),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save"," ")}}function j(i,o){if(1&i&&e._UZ(0,"fa-icon",47),2&i){const t=e.oxw(2);e.Q6J("icon",t.is_saving?t.faSpinner:t.faSave)("spin",t.is_saving)}}function $(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e.YNc(1,j,1,2,"fa-icon",46),e._uU(2),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Updating":"Update"," ")}}const z=function(i){return{"invalid-input":i}};let R=(()=>{class i{constructor(t,s,n,a){this.formBuilder=t,this.http=s,this.router=n,this.toastr=a,this.loadCcDetails=new e.vpe,this.faSave=u.r6l,this.faSpinner=_.LM3,this.patientLoading=!1,this.searchInput$=new q.x,this.minLengthTerm=3,this.is_saving=!1,this.is_saving2=!0,this.is_saving3=!1,this.is_saving4=!0,this.form_saving=!1,this.required_message="This field is required.",this.visitForm=new r.cw({id:new r.NI(""),admission_date:new r.NI(""),discharge_date:new r.NI(""),birth_weight:new r.NI(""),mothers_id:new r.NI(""),patient_id:new r.NI(""),nbs_filter:new r.NI("")}),this.showAlert=!1}get f(){return this.visitForm.controls}toggleAlertModal(t){this.modalFilter=t,this.showAlert=!this.showAlert}onSubmit(){this.visitForm.patchValue({admission_date:(0,l.p6)(this.visitForm.value.admission_date,"Y-MM-dd HH:mm:ss","en","Asia/Singapore"),discharge_date:(0,l.p6)(this.visitForm.value.discharge_date,"Y-MM-dd HH:mm:ss","en","Asia/Singapore")}),this.http.post("child-care/cc-records",this.visitForm.value).subscribe({next:t=>{console.log(t),this.loadCcDetails.emit(this.patient_info)},error:t=>{console.log(t),this.is_saving=!1,this.showToastrErr()},complete:()=>{this.is_saving=!1,console.log(this.visitForm.value,"visit form"),this.patient_info?this.showToastrUpd():this.showToastr()}})}validateForm(){let t=this.http.getUserID();this.visitForm=this.formBuilder.group({id:["",[r.kI.required]],admission_date:["",[r.kI.required]],discharge_date:["",[r.kI.required]],birth_weight:["",[r.kI.required,r.kI.minLength(1)]],mothers_id:["",[r.kI.required,r.kI.minLength(2)]],patient_id:[this.patient_details.id,[r.kI.required,r.kI.minLength(2)]],user_id:[t,[r.kI.required,r.kI.minLength(2)]],ccdev_ended:["0",[r.kI.required,r.kI.minLength(2)]],nbs_filter:["",[r.kI.required,r.kI.minLength(2)]]})}getInitials(t){return[...t.matchAll(/\b\w/g)].join("")}getccdevDetails(t){this.patient_info=this.ccdev_data??t,this.getccdevMama(),this.visitForm.patchValue({...this.patient_info}),console.log(this.patient_info),this.patient_info&&"CPAB"==this.patient_info.status&&(this.cpab="Child Protected at Birth")}getccdevMama(){this.patient_info&&this.patient_info.mothers_id&&this.http.get("patient/"+this.patient_info?.mothers_id).subscribe({next:t=>{this.patient_info2=t.data,console.log(this.patient_info2,"info ccdev mama first visit")},error:t=>console.log(t)})}hideItemName(){this.hideName=0!=this.patient_listing}loadPatients(){this.patients$=(0,J.z)((0,Z.of)([]),this.searchInput$.pipe((0,k.h)(t=>null!==t&&t.length>=this.minLengthTerm),(0,M.x)(),(0,S.b)(800),(0,y.b)(()=>this.patientLoading=!0),(0,A.w)(t=>this.getPatient(t).pipe((0,N.K)(()=>(0,Z.of)([])),(0,y.b)(()=>this.patientLoading=!1)))))}getPatient(t=null){return this.http.get("patient",{params:{"filter[search]":t}}).pipe((0,I.U)(s=>(this.patient_listing=s.data,s.data)))}showToastr(){this.toastr.success("Successfully saved!","Admission Info")}showToastrUpd(){this.toastr.success("Successfully Updated!","Admission Info")}showToastrErr(){this.toastr.warning("Error in Saving!","Admission Info")}ngOnChanges(t){console.log("change"),this.patient_info=this.ccdev_data,this.getccdevDetails(null)}ngOnInit(){console.log("on init"),this.validateForm(),console.log(this.ccdev_data),this.saved=!0,this.getccdevDetails(null),this.loadPatients()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(v.O),e.Y36(p.F0),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-first-visit"]],inputs:{ccdev_data:"ccdev_data",patient_details:"patient_details"},outputs:{loadCcDetails:"loadCcDetails"},features:[e.TTD],decls:61,vars:17,consts:[[1,"flex","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[3,"formGroup","submit"],[1,"card","mb-6"],[1,"card-header","bg-blue-500"],[1,"font-semibold","text-white","text-sm","uppercase"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2"],[1,"relative"],[1,"flex","absolute","inset-y-0","left-0","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-calendar-time","text-blue-500"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"],["cx","18","cy","18","r","4"],["d","M15 3v4"],["d","M7 3v4"],["d","M3 11h16"],["d","M18 16.496v1.504l1 1"],["type","datetime-local","placeholder","Select Date and Time","placeholder","Select date","formControlName","admission_date","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["class","invalid-alert mt-1",4,"ngIf"],["type","datetime-local","placeholder","Select Date and Time","placeholder","Select date","formControlName","discharge_date","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-scale-outline","text-blue-500"],["x","3","y","3","width","18","height","18","rx","4"],["d","M12 7c1.956 0 3.724 .802 4.994 2.095l-2.956 2.904a3 3 0 0 0 -2.038 -.799a3 3 0 0 0 -2.038 .798l-2.956 -2.903a6.979 6.979 0 0 1 4.994 -2.095z"],["type","number","placeholder","Input weight","formControlName","birth_weight","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input",3,"ngClass"],["placeholder","Search Mother","typeToSearchText","Search Mother's Name","bindValue","id","formControlName","mothers_id",1,"search-custom","mt-1",3,"items","minTermLength","loading","typeahead","clearable","change"],["ng-label-tmp","","class",""],["ng-option-tmp",""],["ng-footer-tmp",""],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2 mt-2 select-none",4,"ngIf"],[1,"flex","w-full","flex-col","px-5","pt-3"],["type","button","class","btn-add ml-auto mr-5",3,"click",4,"ngIf"],[1,"invalid-alert","mt-1"],[4,"ngIf"],[1,"flex"],[1,""],[1,"grid","grid-flow-col","auto-cols-max"],[1,"my-auto","mr-3"],[1,"inline-flex","overflow-hidden","relative","justify-center","items-center","w-14","h-14","bg-gray-100","rounded-full","dark:bg-gray-600"],[1,"font-medium","text-gray-600","dark:text-gray-300"],[1,"text-blue-400",3,"ngOptionHighlight"],[1,"text-muted"],["routerLink","/registration",1,"text-blue-600"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2","select-none"],[1,"bg-green-50","mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","font-semibold"],["type","button",1,"btn-add","ml-auto","mr-5",3,"click"],["class","mr-1",3,"icon","spin",4,"ngIf"],[1,"mr-1",3,"icon","spin"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"FIRST VISIT"),e.qZA()(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return s.onSubmit()}),e.TgZ(4,"div",3)(5,"div",4)(6,"h4",5),e._uU(7,"Admission Information"),e.qZA()(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"Admission Date & Time"),e.qZA(),e.TgZ(11,"div",7)(12,"div",8),e.O4$(),e.TgZ(13,"svg",9),e._UZ(14,"path",10)(15,"path",11)(16,"circle",12)(17,"path",13)(18,"path",14)(19,"path",15)(20,"path",16),e.qZA()(),e.kcU(),e._UZ(21,"input",17),e.qZA(),e.YNc(22,F,2,1,"div",18),e.qZA(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Discharge Date & Time"),e.qZA(),e.TgZ(26,"div",7)(27,"div",8),e.O4$(),e.TgZ(28,"svg",9),e._UZ(29,"path",10)(30,"path",11)(31,"circle",12)(32,"path",13)(33,"path",14)(34,"path",15)(35,"path",16),e.qZA()(),e.kcU(),e._UZ(36,"input",19),e.qZA(),e.YNc(37,E,2,1,"div",18),e.qZA(),e.TgZ(38,"div",20)(39,"label"),e._uU(40,"Weight at Birth (kg)"),e.qZA(),e.TgZ(41,"div",7)(42,"div",8),e.O4$(),e.TgZ(43,"svg",21),e._UZ(44,"path",10)(45,"rect",22)(46,"path",23),e.qZA()(),e.kcU(),e._UZ(47,"input",24),e.qZA(),e.YNc(48,B,3,2,"div",18),e.qZA(),e.TgZ(49,"div",20)(50,"label"),e._uU(51,"Mother's Name"),e.qZA(),e.TgZ(52,"ng-select",25),e.NdJ("change",function(){return s.hideItemName()}),e.ALo(53,"async"),e.YNc(54,L,5,4,"ng-template",26),e.YNc(55,P,12,7,"ng-template",27),e.YNc(56,H,2,0,"ng-template",28),e.qZA()(),e.YNc(57,G,4,1,"div",29),e.TgZ(58,"div",30),e.YNc(59,V,3,2,"button",31),e.YNc(60,$,3,2,"button",31),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",s.visitForm),e.xp6(19),e.Q6J("ngIf",s.form_saving&&s.f.admission_date.errors),e.xp6(15),e.Q6J("ngIf",s.form_saving&&s.f.discharge_date.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(15,z,s.form_saving&&s.f.birth_weight.errors)),e.xp6(1),e.Q6J("ngIf",s.form_saving&&s.f.birth_weight.errors),e.xp6(4),e.Q6J("items",e.lcZ(53,13,s.patients$))("minTermLength",s.minLengthTerm)("loading",s.patientLoading)("typeahead",s.searchInput$)("clearable",!0),e.xp6(5),e.Q6J("ngIf",null!==(null==s.patient_info?null:s.patient_info.status)),e.xp6(2),e.Q6J("ngIf",!s.patient_info),e.xp6(1),e.Q6J("ngIf",s.patient_info))},dependencies:[l.mk,l.O5,p.rH,g.BN,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u,f.w9,f.ir,f.mR,f.WP,l.Ov],styles:[".ng-clear-wrapper[_ngcontent-%COMP%]{display:none}"]}),i})();const W=[{group:"Essential",services:[{service_id:"CCCCCCCCCCCCCCC",service_desc:"Cord Clamping"},{service_id:"DRY",service_desc:"Drying"},{service_id:"NONSEPA",service_desc:"Non-Separation"},{service_id:"PRX",service_desc:"Prophylaxis"},{service_id:"STS",service_desc:"Skin to Skin"},{service_id:"VITK",service_desc:"Vitamin K"},{service_id:"WEIGH",service_desc:"Weighing"}]},{group:"Services",services:[{service_id:"TD",service_desc:"Tetanus Dipteria"}]}];function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal("Y"))}),e._UZ(1,"fa-icon",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faPenToSquare)}}function ee(i,o){if(1&i&&(e.TgZ(0,"span",19)(1,"span",20),e._uU(2),e.qZA(),e._UZ(3,"br"),e._uU(4),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.services.service_name),e.xp6(2),e.hij("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public"," - ")}}function te(i,o){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.service_date?e.xi3(2,1,t.service_date,"MM/dd/yyyy"):"-",") ")}}function ie(i,o){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,ee,5,2,"span",17),e.YNc(2,te,3,4,"span",18),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","Y"===t.services.essential),e.xp6(1),e.Q6J("ngIf","Y"===t.services.essential)}}function se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"p",23),e._uU(2,"No Recorded Essential Services!"),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal("Y"))}),e._UZ(4,"fa-icon",25),e._uU(5," Add "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("icon",t.faPlus)}}function ne(i,o){1&i&&(e.TgZ(0,"h3",45),e._uU(1," Essential Newborn Care "),e.qZA())}function oe(i,o){1&i&&(e.TgZ(0,"h3",45),e._uU(1," Services "),e.qZA())}function re(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.serviceForm.service_date[a.service_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw(2).$implicit,s=e.oxw(2);e.xp6(1),e.s9C("name","service_date."+t.service_id),e.s9C("id","service_date."+t.service_id),e.Q6J("ngModel",s.serviceForm.service_date[t.service_id])}}function ae(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"label"),e._uU(2,"NBS Filter Number"),e.qZA(),e.TgZ(3,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(4);return e.KtG(a.patient_info.nbs_filter=n)}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Q6J("ngModel",t.patient_info.nbs_filter)}}function ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"label"),e._uU(2,"Quantity"),e.qZA(),e.TgZ(3,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.serviceForm.quantity[a.service_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw(2).$implicit,s=e.oxw(2);e.xp6(3),e.s9C("name","quantity."+t.service_id),e.s9C("id","quantity."+t.service_id),e.Q6J("ngModel",s.serviceForm.quantity[t.service_id])}}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"label"),e._uU(2,"Quantity"),e.qZA(),e.TgZ(3,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.serviceForm.quantity[a.service_id]=n)}),e.qZA()()}if(2&i){const t=e.oxw(2).$implicit,s=e.oxw(2);e.xp6(3),e.s9C("name","quantity."+t.service_id),e.s9C("id","quantity."+t.service_id),e.Q6J("ngModel",s.serviceForm.quantity[t.service_id])}}function le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"label",49),e._uU(2),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.serviceForm.service_status[a.service_id]=n)}),e.TgZ(4,"option"),e._uU(5,"-"),e.qZA(),e.TgZ(6,"option",51),e._uU(7,"Done"),e.qZA(),e.TgZ(8,"option",52),e._uU(9,"Done Outside - Private"),e.qZA(),e.TgZ(10,"option",53),e._uU(11,"Done Outside - Public"),e.qZA()(),e.YNc(12,re,2,3,"div",54),e.YNc(13,ae,4,1,"div",55),e.YNc(14,ce,4,3,"div",55),e.YNc(15,de,4,3,"div",55),e.qZA()}if(2&i){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.s9C("for",t.service_id),e.xp6(1),e.hij("",t.service_name," "),e.xp6(1),e.s9C("id","service_status."+t.service_id),e.s9C("name","service_status."+t.service_id),e.Q6J("ngModel",s.serviceForm.service_status[t.service_id]),e.xp6(9),e.Q6J("ngIf","-"!==s.serviceForm.service_status[t.service_id]&&""!==s.serviceForm.service_status[t.service_id]&&void 0!==s.serviceForm.service_status[t.service_id]),e.xp6(1),e.Q6J("ngIf","-"!==s.serviceForm.service_status.NBSDONE&&""!==s.serviceForm.service_status.NBSDONE&&void 0!==s.serviceForm.service_status.NBSDONE&&"NBSDONE"===t.service_id),e.xp6(1),e.Q6J("ngIf","-"!==s.serviceForm.service_status.MNP&&""!==s.serviceForm.service_status.MNP&&void 0!==s.serviceForm.service_status.MNP&&"MNP"===t.service_id),e.xp6(1),e.Q6J("ngIf","-"!==s.serviceForm.service_status.MNP2&&""!==s.serviceForm.service_status.MNP2&&void 0!==s.serviceForm.service_status.MNP2&&"MNP2"===t.service_id)}}function _e(i,o){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,le,16,9,"div",47),e.qZA()),2&i){const t=o.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.essential===s.modalFilter)}}function pe(i,o){if(1&i&&e._UZ(0,"fa-icon",60),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function ge(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),e.YNc(4,ne,2,0,"h3",30),e.YNc(5,oe,2,0,"h3",30),e.TgZ(6,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal())}),e.O4$(),e.TgZ(7,"svg",32),e._UZ(8,"path",33),e.qZA(),e.kcU(),e.TgZ(9,"span",34),e._uU(10,"Close modal"),e.qZA()()(),e.TgZ(11,"div",35)(12,"form",36),e._UZ(13,"div",37),e.TgZ(14,"div",38),e.YNc(15,_e,2,1,"div",39),e.qZA(),e._UZ(16,"div",40),e.qZA()(),e.TgZ(17,"div",41)(18,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal())}),e._uU(19,"Close"),e.qZA(),e.TgZ(20,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveModal())}),e.YNc(21,pe,1,2,"fa-icon",44),e._uU(22),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf","Y"===t.modalFilter),e.xp6(1),e.Q6J("ngIf","N"===t.modalFilter),e.xp6(10),e.Q6J("ngForOf",t.lib_ccservices),e.xp6(6),e.Q6J("ngIf",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save","")}}function ue(i,o){1&i&&e._UZ(0,"div",61)}function fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal("N"))}),e._UZ(1,"fa-icon",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faPenToSquare)}}function he(i,o){if(1&i&&(e.TgZ(0,"span",19)(1,"span",20),e._uU(2),e.qZA(),e._UZ(3,"br"),e._uU(4),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.services.service_name),e.xp6(2),e.hij("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public"," - ")}}function me(i,o){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.service_date?e.xi3(2,1,t.service_date,"MM/dd/yyyy"):"-",") ")}}function ve(i,o){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,he,5,2,"span",17),e.YNc(2,me,3,4,"span",18),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","N"===t.services.essential),e.xp6(1),e.Q6J("ngIf","N"===t.services.essential)}}function xe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"p",23),e._uU(2,"No Recorded Services!"),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleEssentialModal("N"))}),e._UZ(4,"fa-icon",25),e._uU(5," Add "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("icon",t.faPlus)}}function be(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",83)(1,"div",71)(2,"input",84),e.NdJ("change",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.changeSelection2())})("ngModelChange",function(n){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.ischecked=n)}),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("id",t.id),e.Q6J("ngModel",t.ischecked)("checked",t.ischecked)}}function we(i,o){if(1&i&&(e.TgZ(0,"td",85)(1,"label",86),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("for",t.service_id),e.xp6(1),e.Oqu(t.service_name)}}function Ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",87)(1,"input",88),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.service_date=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.service_date)}}function ye(i,o){if(1&i&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.desc)}}function Ze(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",89)(1,"select",90),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.done_outside=n)}),e.YNc(2,ye,2,2,"option",91),e.qZA()()}if(2&i){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.done_outside),e.xp6(1),e.Q6J("ngForOf",s.libOptions)}}function Te(i,o){if(1&i&&(e.TgZ(0,"tr",78),e.YNc(1,be,3,3,"td",79),e.YNc(2,we,3,2,"td",80),e.YNc(3,Ce,2,1,"td",81),e.YNc(4,Ze,3,2,"td",82),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","Y"===t.service_cat),e.xp6(1),e.Q6J("ngIf","Y"===t.service_cat),e.xp6(1),e.Q6J("ngIf","Y"===t.service_cat),e.xp6(1),e.Q6J("ngIf","Y"===t.service_cat)}}function ke(i,o){if(1&i&&e._UZ(0,"fa-icon",60),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function Me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"div",28)(3,"div",64)(4,"h3",65),e._uU(5," Services "),e.qZA(),e.TgZ(6,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleServiceModal())}),e.O4$(),e.TgZ(7,"svg",32),e._UZ(8,"path",33),e.qZA(),e.kcU(),e.TgZ(9,"span",34),e._uU(10,"Close modal"),e.qZA()()(),e.TgZ(11,"div",66)(12,"table",67)(13,"thead",68)(14,"tr",69)(15,"th",70)(16,"div",71),e._UZ(17,"input",72),e.TgZ(18,"label",73),e._uU(19,"checkbox"),e.qZA()()(),e.TgZ(20,"th",74),e._uU(21," Service Name "),e.qZA(),e.TgZ(22,"th",75),e._uU(23," Service Date "),e.qZA(),e.TgZ(24,"th",76),e._uU(25," Done Outside Facility "),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,Te,5,4,"tr",77),e.qZA()()(),e.TgZ(28,"div",41)(29,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleServiceModal())}),e._uU(30,"Close"),e.qZA(),e.TgZ(31,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.submit2())})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveModal())}),e.YNc(32,ke,1,2,"fa-icon",44),e._uU(33),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(27),e.Q6J("ngForOf",t.lib_ccservices),e.xp6(5),e.Q6J("ngIf",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save","")}}function Se(i,o){1&i&&e._UZ(0,"div",61)}function Ae(i,o){1&i&&(e.TgZ(0,"label",98),e._uU(1,"Data Successfully Saved!"),e.qZA())}function Ne(i,o){1&i&&(e.TgZ(0,"label",98),e._uU(1,"Error in Saving! Please check required fields"),e.qZA())}function Ie(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",93)(2,"div",28)(3,"div",64)(4,"h3",65),e._uU(5," Alert "),e.qZA(),e.TgZ(6,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleAlertModal())}),e.O4$(),e.TgZ(7,"svg",32),e._UZ(8,"path",33),e.qZA(),e.kcU(),e.TgZ(9,"span",34),e._uU(10,"Close modal"),e.qZA()()(),e.TgZ(11,"div",94)(12,"table",95)(13,"thead",68),e._UZ(14,"tr",69),e.qZA(),e.TgZ(15,"tbody")(16,"div",96),e.YNc(17,Ae,2,0,"label",97),e.YNc(18,Ne,2,0,"label",97),e.qZA()()()(),e.TgZ(19,"div",41)(20,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleAlertModal())}),e._uU(21,"Close"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(17),e.Q6J("ngIf","S"===t.alertFilter),e.xp6(1),e.Q6J("ngIf","E"===t.alertFilter)}}function qe(i,o){1&i&&e._UZ(0,"div",99)}let Je=(()=>{class i{toggleAlertModal(t){this.alertFilter=t,this.showAlert=!this.showAlert}toggleEssentialModal(t){console.log("toggleEssentialModal"),this.modalFilter=t,this.showEssentialModal=!this.showEssentialModal,this.loadServicesTest(),this.getccdevDetails()}toggleServiceModal(){this.showServiceModal=!this.showServiceModal,this.getServices()}toggleVaccineModal(){this.showVaccineModal=!this.showVaccineModal}saveModal(){this.is_saving=!0,setTimeout(()=>{this.is_saving=!1},1500)}geteServiceName(){localStorage.getItem("eservice")||localStorage.setItem("eservice",JSON.stringify([])),this.x=JSON.parse(localStorage.getItem("eservice")),console.log("retrievedeServices: ",this.x),this.x.forEach(t=>{let s=this.eservices2.findIndex(n=>n.id===t.id);-1!=s&&this.eservices2.splice(s,1),this.eservices2.push({id:t.id,name:t.name,cc_id:t.cc_id,ischecked:t.ischecked,service_date:t.service_date})}),this.eservices2.sort((t,s)=>t.id-s.id)}getServices(){localStorage.getItem("service")||localStorage.setItem("service",JSON.stringify([])),this.cservices=JSON.parse(localStorage.getItem("service")),console.log("retrievedServices: ",this.cservices),this.cservices.forEach(t=>{let s=this.services.findIndex(n=>n.id===t.id);-1!=s&&this.services.splice(s,1),this.services.push({id:t.id,name:t.name,cc_id:t.cc_id,ischecked:t.ischecked,service_date:t.service_date,date:t.date,done_outside:t.done_outside})}),this.services.sort((t,s)=>t.id-s.id)}fetchSelectedItems(){this.selectedServiceList=this.eservices2.filter((t,s)=>(t.ischecked||(this.eservices2[s].service_date=""),console.log("fetchSelectedItems"),t.ischecked))}setDate(t){this.selectedServiceList=this.lib_ccservices.filter((s,n)=>(s.ischecked&&n==t?this.lib_ccservices[n].service_date=this.defaultDate:!s.ischecked&&n==t&&(this.lib_ccservices[n].service_date=""),s.ischecked))}setDate2(t){this.selectedServiceList=this.services.filter((s,n)=>(s.ischecked&&n==t?this.services[n].service_date=this.defaultDate:!s.ischecked&&n==t&&(this.services[n].service_date=""),s.ischecked))}fetchSelectedItems2(){this.selectedServiceList2=this.services.filter((t,s)=>(t.ischecked||(this.services[s].service_date="",this.services[s].done_outside=""),t.ischecked))}submit(){this.selectedServiceList=this.eservices2.filter((t,s)=>(localStorage.setItem("eservice",JSON.stringify(this.selectedServiceList)),this.x=this.selectedServiceList))}submit2(){this.selectedServiceList2=this.services.filter((t,s)=>(localStorage.setItem("service",JSON.stringify(this.selectedServiceList2)),this.cservices=this.selectedServiceList2))}fetchCheckedIDs(){this.checkedIDs=[],this.eservices2.forEach((t,s)=>{t.ischecked&&this.checkedIDs.push(t.id)})}fetchCheckedIDs2(){this.checkedIDs=[],this.services.forEach((t,s)=>{t.ischecked&&this.checkedIDs.push(t.id)})}changeSelection(t){this.setDate(t)}changeSelection2(t){this.setDate2(t),this.fetchSelectedItems2()}checkUncheckAll(t){this.eservices2.forEach(s=>s.ischecked=t.target.checked)}constructor(t,s){this.http=t,this.toastr=s,this.selectedServiceList=[],this.selectedServiceList2=[],this.checkedIDs=[],this.checkedIDs2=[],this.faSearch=_.wn1,this.faPlus=_.r8p,this.faInfoCircle=_.sqG,this.faSpinner=_.IJ7,this.faPlusSquare=u.CPW,this.faPenToSquare=u.Yai,this.faSave=u.r6l,this.is_saving=!1,this.defaultDate=(new Date).toLocaleDateString("en-CA"),this.services=[{id:1,name:"Complementary Feeding",cc_id:"FEED",date:"Mar 24 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:2,name:"Dental Checkup",cc_id:"DENTAL",date:"Mar 12 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:3,name:"Deworming",cc_id:"DEWORM",date:"Mar 01 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:4,name:"Iron Intake",cc_id:"IRON",date:"Mar 26 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:5,name:"Newborn Hearing Screening",cc_id:"NBHS",date:"Mar 14 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:6,name:"Newborn Screening Done",cc_id:"NBSDONE",date:"Mar 12 2012 10:00:00 AM",ishecked:!1,service_date:"",done_outside:""},{id:7,name:"Newborn Screening Referred",cc_id:"NBSREF",date:"Mar 15 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:8,name:"Received Micronutrient Powder",cc_id:"MNP",date:"Mar 09 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:9,name:"Vitamin A",cc_id:"VITA",date:"Mar 13 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""}],this.eservices2=[{id:1,name:"Cord Clamping",cc_id:"CLAMP",ischecked:!1,service_date:""},{id:2,name:"Drying",cc_id:"DRYING",ischecked:!1,service_date:""},{id:3,name:"Non-Separation",cc_id:"NONSEP",ischecked:!1,service_date:""},{id:4,name:"Prophylaxis",cc_id:"PROP",ischecked:!1,service_date:""},{id:5,name:"Skin to Skin",cc_id:"SKIN",ischecked:!1,service_date:""},{id:6,name:"Vitamin K",cc_id:"VITK",ishecked:!1,service_date:""},{id:7,name:"Weighing",cc_id:"WEIGHT",ischecked:!1,service_date:""}],this.libReasons=[{value:"R",id:"1",desc:"infant nutrition"},{value:"W",id:"2",desc:"maternal illness"},{value:"W",id:"2",desc:"infant illness"},{value:"W",id:"2",desc:"lactation and milk-pumping problems"},{value:"W",id:"2",desc:"mother returns to work"},{value:"W",id:"2",desc:"introduced water or solid food"}],this.libOptions=[{value:"YPR",id:"1",desc:"Yes - Private"},{value:"YPB",id:"2",desc:"Yes - Public"},{value:"N",id:"3",desc:"No"}],this.showEssentialModal=!1,this.serviceForm={service_status:[],service_date:[],quantity:[]},this.services_given=[],this.service_list=W,this.showAlert=!1,this.showServiceModal=!1,this.showVaccineModal=!1,this.services.sort(function(n,a){return n.date.localeCompare(a.date)})}loadCCLibraries(){this.loadServices(),this.http.get("libraries/cc-services").subscribe(t=>{this.lib_ccservices=t.data,console.log(this.lib_ccservices,"cc dev services library")})}submitNBS(){this.http.update("child-care/cc-records/",this.patient_info.id,{nbs_filter:this.patient_info?this.patient_info.nbs_filter:null}).subscribe({error:s=>console.log(s),complete:()=>{this.is_saving=!1}})}onSubmit(){this.submitNBS();var t=[];if(console.log(this.serviceForm),Object.entries(this.serviceForm.service_status).forEach(([n,a],d)=>{"-"!=a&&(t.push({service_id:n,service_date:this.serviceForm.service_date[n]?this.serviceForm.service_date[n]:null,status_id:a,quantity:this.serviceForm.quantity[n]?this.serviceForm.quantity[n]:null}),console.log(this.serviceForm.quantity[n],"check quantity if working"))}),t.length>0){let n=this.http.getUserID();var s={essential:this.modalFilter,patient_id:this.patient_details.id,user_id:n,services:t};console.log(s,"ito ung isusubmit"),this.http.post("child-care/cc-services",s).subscribe({next:d=>{console.log(d,"display lahat ng services")},error:d=>{console.log(d),"Y"==s.essential?this.showToastrErrY():this.showToastrErrN()},complete:()=>{"Y"==s.essential?this.showToastrY():this.showToastrN()}})}}findEssential(t,s){return t.filter(n=>n.services.essential===s)}findServices(t){return t.filter(s=>"N"==s.services.essential)}loadServicesTest(){this.http.get("child-care/cc-services",{params:{patient_id:this.patient_details.id,sort:"service_id"}}).subscribe({next:t=>{console.log(t),this.service_list=t.data,t.data.forEach(s=>{this.serviceForm.service_status[s.service_id]=s.status_id,this.serviceForm.service_date[s.service_id]=s.service_date,this.serviceForm.quantity[s.service_id]=s.quantity})},error:t=>console.log(t),complete:()=>console.log(this.service_list,"services loaded")})}loadServices(){this.http.get("child-care/cc-services",{params:{patient_id:this.patient_details.id,sort:"service_id"}}).subscribe({next:t=>{this.cc_newborn=t.data},error:t=>console.log(t),complete:()=>{}})}getccdevDetails(){this.http.get("child-care/cc-records/"+this.patient_details.id).subscribe({next:t=>{this.patient_info=t.data},error:t=>{console.log(t)}})}showToastrY(){this.toastr.success("Successfully Saved!","Essential Services")}showToastrN(){this.toastr.success("Successfully Saved!","Services")}showToastrErrY(){this.toastr.warning("Error in Saving!","Essential Services")}showToastrErrN(){this.toastr.warning("Error in Saving!","Essential Services")}ngOnInit(){this.loadCCLibraries(),this.patient_details.id&&this.loadServicesTest()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-services"]],inputs:{patient_details:"patient_details"},decls:25,vars:12,consts:[[1,"flex","mt-4","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[1,"card"],[1,"flex","bg-yellow-500","card-header-services"],[1,"font-semibold","text-white","text-sm","uppercase"],["type","button","class","btn-icon -mt-0.5 relative ml-auto px-5",3,"click",4,"ngIf"],[1,"flex","w-full","item-start","flex-wrap","pt-5"],["class","md:w-1/2 lg:w-1/2 px-10 text-sm pb-5",4,"ngFor","ngForOf"],["class","flex w-full item-start flex-wrap",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:59",4,"ngIf"],["class","opacity-50 fixed inset-0 z-50 bg-black",4,"ngIf"],[1,"card","mt-6","mb-6"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:60",4,"ngIf"],["class","opacity-50 fixed inset-0 bg-black","style","z-index:59",4,"ngIf"],["type","button",1,"btn-icon","-mt-0.5","relative","ml-auto","px-5",3,"click"],["size","md",3,"icon"],[1,"md:w-1/2","lg:w-1/2","px-10","text-sm","pb-5"],["class","text-sm flex-auto",4,"ngIf"],["class","text-sm flex-auto text-right",4,"ngIf"],[1,"text-sm","flex-auto"],[1,"font-semibold"],[1,"text-sm","flex-auto","text-right"],[1,"flex","w-full","item-start","flex-wrap"],[1,"px-10","py-1","text-sm","mt-1"],["type","button",1,"flex","btn-add","ml-auto","mr-10",3,"click"],[1,"mr-2",3,"icon"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","59"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],["class","mt-1 text-md font-bold text-blue-500 dark:text-white",4,"ngIf"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","rounded"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"flex","item-start","flex-wrap","pb-5","pt-5"],["class","w-full mx-10",4,"ngFor","ngForOf"],[1,"text-gray-600","border","border-slate-100","mx-5","mt-5"],[1,"flex","justify-end","py-4","px-6","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-save",3,"click"],["class","pl-0",3,"icon","spin",4,"ngIf"],[1,"mt-1","text-md","font-bold","text-blue-500","dark:text-white"],[1,"w-full","mx-10"],["class","grid grid-cols-3 gap-4 mt-5",4,"ngIf"],[1,"grid","grid-cols-3","gap-4","mt-5"],[1,"col-span-1","flex","items-center","mt-2",3,"for"],[1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","id","name","ngModelChange"],["value","1"],["value","2"],["value","3"],[4,"ngIf"],["class","col-start-2",4,"ngIf"],["type","date","placeholder","Enter vaccine date",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],[1,"col-start-2"],["name","","id","","type","text","placeholder","Enter Number",1,"col-span-1","col-start-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Number",1,"col-span-1","col-start-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],[1,"pl-0",3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"flex","w-full","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],[1,"mt-1","font-bold","text-md","text-blue-500","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-4xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],[1,"sticky","top-0","z-50","bg-gray-50"],["scope","col",1,"p-4","pl-12"],[1,"flex","items-center"],["id","checkbox-all-search","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","rounded-full","border-gray-300","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["for","checkbox-all-search",1,"sr-only"],["scope","col",1,"py-4"],["scope","col",1,"py-4","px-10"],["scope","col",1,"py-4","pr-12"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],["class","p-4 w-4 pl-12",4,"ngIf"],["scope","row","class","text-sm py-4 text-gray-900 whitespace-nowrap dark:text-white select-none",4,"ngIf"],["class","py-4 px-10",4,"ngIf"],["class","text-sm py-4 pr-12",4,"ngIf"],[1,"p-4","w-4","pl-12"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","rounded-full","border-gray-300","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"id","ngModel","checked","change","ngModelChange"],["scope","row",1,"text-sm","py-4","text-gray-900","whitespace-nowrap","dark:text-white","select-none"],[3,"for"],[1,"py-4","px-10"],["type","date","placeholder","Select service date",1,"form-control","block","w-full","px-3","py-1.5","text-sm","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded","transition","ease-in-out","m-0","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"ngModel","ngModelChange"],[1,"text-sm","py-4","pr-12"],[1,"w-full","text-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"relative","p-4","w-full","max-w-sm","h-auto","md:h-auto"],[1,"h-20","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"px-10","pt-5","align-middle","text-center"],["for","","class","align-middle",4,"ngIf"],["for","",1,"align-middle"],[1,"opacity-50","fixed","inset-0","bg-black",2,"z-index","59"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"SERVICES"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"h4",4),e._uU(6,"Essential Newborn Care"),e.qZA(),e.YNc(7,X,2,1,"button",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,ie,3,2,"div",7),e.qZA(),e.YNc(10,se,6,1,"div",8),e.YNc(11,ge,23,5,"div",9),e.qZA(),e.YNc(12,ue,1,0,"div",10),e.TgZ(13,"div",11)(14,"div",3)(15,"h4",4),e._uU(16,"Services"),e.qZA(),e.YNc(17,fe,2,1,"button",5),e.qZA(),e.TgZ(18,"div",6),e.YNc(19,ve,3,2,"div",7),e.qZA(),e.YNc(20,xe,6,1,"div",8),e.qZA(),e.YNc(21,Me,34,3,"div",12),e.YNc(22,Se,1,0,"div",10),e.YNc(23,Ie,22,2,"div",12),e.YNc(24,qe,1,0,"div",13)),2&t&&(e.xp6(7),e.Q6J("ngIf",s.findEssential(s.service_list,"Y").length>=1),e.xp6(2),e.Q6J("ngForOf",s.findEssential(s.service_list,"Y")),e.xp6(1),e.Q6J("ngIf",0===s.findEssential(s.service_list,"Y").length),e.xp6(1),e.Q6J("ngIf",s.showEssentialModal),e.xp6(1),e.Q6J("ngIf",s.showEssentialModal),e.xp6(5),e.Q6J("ngIf",s.findServices(s.service_list).length>=1),e.xp6(2),e.Q6J("ngForOf",s.findServices(s.service_list)),e.xp6(1),e.Q6J("ngIf",0===s.findServices(s.service_list).length),e.xp6(1),e.Q6J("ngIf",s.showServiceModal),e.xp6(1),e.Q6J("ngIf",s.showServiceModal),e.xp6(1),e.Q6J("ngIf",s.showAlert),e.xp6(1),e.Q6J("ngIf",s.showAlert))},dependencies:[l.sg,l.O5,g.BN,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.On,r.F,l.uU],styles:[".modal-body[_ngcontent-%COMP%]{height:350px;overflow-y:auto}"]}),i})();var h=c(5439);function Ue(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleBreastfeedingModal())}),e._UZ(1,"fa-icon",17),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faPenToSquare)}}function Fe(i,o){if(1&i&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("Breastfeeding ",t.name,":")}}function Ye(i,o){if(1&i&&(e.TgZ(0,"p",21),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.date)}}function Ee(i,o){if(1&i&&(e.TgZ(0,"span",18),e.YNc(1,Fe,2,1,"p",19),e.YNc(2,Ye,2,1,"p",9),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.selected),e.xp6(1),e.Q6J("ngIf",1==t.selected)}}function De(i,o){if(1&i&&(e.TgZ(0,"div",21)(1,"span",18)(2,"p",22),e._uU(3,"Complementary Feeding Date:"),e.qZA(),e.TgZ(4,"p",23),e._uU(5),e.ALo(6,"date"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.xi3(6,1,null==t.patient_breastfed?null:t.patient_breastfed.comp_fed_date,"MM/dd/yyyy"))}}function Qe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"p",25),e._uU(2,"No Recorded Breastfeeding / Complementary Feeding!"),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleBreastfeedingModal())}),e._UZ(4,"fa-icon",27),e._uU(5," Add "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("icon",t.faPlus)}}function Be(i,o){1&i&&(e.TgZ(0,"p",31),e._uU(1," - "),e.qZA())}function Oe(i,o){if(1&i&&(e.TgZ(0,"span",28)(1,"p",29),e._uU(2),e.qZA(),e.YNc(3,Be,2,0,"p",30),e.TgZ(4,"p",31),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.ebf_status),e.xp6(1),e.Q6J("ngIf","Exclusively Breastfed"==t.ebf_status),e.xp6(2),e.Oqu(e.xi3(6,3,t.ebf_test_date,"MM/dd/yyyy"))}}function Le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",54)(1,"td",55)(2,"label",56),e._uU(3),e.qZA()(),e.TgZ(4,"td",57)(5,"select",58),e.NdJ("change",function(n){const d=e.CHM(t).index,m=e.oxw(2);return e.KtG(m.changeSelection(d,n.target.value))})("ngModelChange",function(n){const d=e.CHM(t).index,m=e.oxw(2);return e.KtG(m.ccdev[d].selected=n)}),e._UZ(6,"option",59),e.TgZ(7,"option",60),e._uU(8,"Yes"),e.qZA(),e.TgZ(9,"option",61),e._uU(10,"No"),e.qZA()()()()}if(2&i){const t=o.$implicit,s=o.index,n=e.oxw(2);e.xp6(2),e.s9C("id",t.id),e.s9C("for",t.id),e.xp6(1),e.Oqu(t.date),e.xp6(2),e.Q6J("ngModel",n.ccdev[s].selected)}}function Pe(i,o){if(1&i&&(e.TgZ(0,"option",67),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.s9C("value",t.reason_id),e.xp6(1),e.hij(" ",t.desc," ")}}function He(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",63),e._uU(2,"Reason for Stopping"),e.qZA(),e.TgZ(3,"select",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.patient_breastfed.ebfreasons=n)}),e.TgZ(4,"option",65),e._uU(5,"Select Reason"),e.qZA(),e.YNc(6,Pe,2,2,"option",66),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.patient_breastfed.ebfreasons),e.xp6(3),e.Q6J("ngForOf",t.lib_reasons)}}function Ge(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",68),e._uU(2,"Date of Last Visit"),e.qZA(),e.TgZ(3,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.patient_breastfed.ebf_date=n)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.patient_breastfed.ebf_date)}}function Ke(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",68),e._uU(2,"Complementary Feeding Start Date"),e.qZA(),e.TgZ(3,"input",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.patient_breastfed.comp_fed_date=n)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.patient_breastfed.comp_fed_date)}}function Ve(i,o){if(1&i&&e._UZ(0,"fa-icon",71),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)("spin",!0)}}function je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"h3",36),e._uU(5," Exclusively Breastfeeding & Complementary Feeding "),e.qZA(),e.TgZ(6,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleBreastfeedingModal())}),e.O4$(),e.TgZ(7,"svg",38),e._UZ(8,"path",39),e.qZA(),e.kcU(),e.TgZ(9,"span",40),e._uU(10,"Close modal"),e.qZA()()(),e.TgZ(11,"div",41)(12,"table",42)(13,"thead",43)(14,"tr",44)(15,"th",45),e._uU(16," Month "),e.qZA(),e.TgZ(17,"th",46),e._uU(18," EBF Status "),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Le,11,4,"tr",47),e.qZA()()(),e.YNc(21,He,7,2,"div",48),e.YNc(22,Ge,4,1,"div",49),e.YNc(23,Ke,4,1,"div",49),e.TgZ(24,"div",50)(25,"p"),e._uU(26),e.qZA(),e.TgZ(27,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleBreastfeedingModal())}),e._uU(28,"Close"),e.qZA(),e.TgZ(29,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveModal())}),e.YNc(30,Ve,1,2,"fa-icon",53),e._uU(31),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(20),e.Q6J("ngForOf",t.ccdev),e.xp6(1),e.Q6J("ngIf",t.reasonCondition),e.xp6(1),e.Q6J("ngIf",t.ebfCondition),e.xp6(1),e.Q6J("ngIf",t.getCompleCondition),e.xp6(3),e.Oqu(t.patient_breastfed.reasoning),e.xp6(4),e.Q6J("ngIf",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save","")}}function $e(i,o){1&i&&e._UZ(0,"div",72)}function ze(i,o){1&i&&(e.TgZ(0,"label",84),e._uU(1,"Data Successfully Saved!"),e.qZA())}function Re(i,o){1&i&&(e.TgZ(0,"label",84),e._uU(1,"Error in Saving! Please check required fields"),e.qZA())}function We(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",34)(3,"div",75)(4,"h3",76),e._uU(5," Alert "),e.qZA(),e.TgZ(6,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleAlertModal())}),e.O4$(),e.TgZ(7,"svg",38),e._UZ(8,"path",39),e.qZA(),e.kcU(),e.TgZ(9,"span",40),e._uU(10,"Close modal"),e.qZA()()(),e.TgZ(11,"div",78)(12,"table",79)(13,"thead",80),e._UZ(14,"tr",81),e.qZA(),e.TgZ(15,"tbody")(16,"div",82),e.YNc(17,ze,2,0,"label",83),e.YNc(18,Re,2,0,"label",83),e.qZA()()()(),e.TgZ(19,"div",50)(20,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleAlertModal())}),e._uU(21,"Close"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(17),e.Q6J("ngIf","S"==t.alertFilter),e.xp6(1),e.Q6J("ngIf","E"==t.alertFilter)}}function Xe(i,o){1&i&&e._UZ(0,"div",85)}let et=(()=>{class i{toggleAlertModal(t){this.alertFilter=t,this.showAlert=!this.showAlert}toggleBreastfeedingModal(){this.showBreastfeedingModal=!this.showBreastfeedingModal,this.loadBreastfed(),this.getccdevDetails(),this.groupList=[]}saveModal(){this.is_saving=!0,setTimeout(()=>{this.is_saving=!1},5e3)}constructor(t,s){this.http=t,this.toastr=s,this.selectedItemsList=[],this.selectedMonths=[],this.checkedIDs=[],this.faSearch=_.wn1,this.faPlus=_.r8p,this.faInfoCircle=_.sqG,this.faSpinner=_.IJ7,this.faPenToSquare=u.Yai,this.is_saving=!1,this.todaysDate=new Date,this.showBreastfeedingModal=!1,this.showAlert=!1,this.ebf=[{code:"1",desc:"Yes"},{code:"0",desc:"No"}],this.ccdev=[],this.ccdevbreast=35,this.groupList=[],this.groupList2=[]}ebf_test(){this.ebf_test_date=h(this.patient_details.birthdate).add(5,"M").add(29,"d").format("MM/DD/yyyy")}submit(){this.selectedMonths=this.ccdev.filter((t,s)=>(localStorage.setItem("Breastfeeding Months",JSON.stringify(this.selectedMonths)),this.month=this.selectedMonths))}changeSelection(t,s){console.log(this.ccdev),this.ccdev[t].selected=s,this.getPrev(),this.groupList.includes("0")?(console.log("open ang reason for stopping"),this.showData=!0):this.showData=!1}fetchSelectedItems(){this.selectedMonths=this.ccdev.filter((t,s)=>(this.selectedMonths.push(t.selected),t.selected))}getPrev(){this.groupList=[],this.ccdev.forEach((n,a)=>{this.groupList.push(n.selected)}),console.log(this.groupList),this.http.getUserID()}onSubmit(){this.groupList=[],this.ccdev.forEach((n,a)=>{this.groupList.push(n.selected)}),console.log(this.patient_breastfed);let t=this.http.getUserID();var s={patient_ccdev_id:this.patient_info.id,patient_id:this.patient_info.patient_id,user_id:t,bfed_month1:"null"==this.ccdev[0].selected?null:this.ccdev[0].selected,bfed_month2:"null"==this.ccdev[1].selected?null:this.ccdev[1].selected,bfed_month3:"null"==this.ccdev[2].selected?null:this.ccdev[2].selected,bfed_month4:"null"==this.ccdev[3].selected?null:this.ccdev[3].selected,reason_id:this.patient_breastfed.ebfreasons,ebf_date:this.patient_breastfed.ebf_date,comp_fed_date:this.patient_breastfed.comp_fed_date};console.log(s),this.http.post("child-care/cc-breastfed",s).subscribe({error:n=>{console.log(n),this.showToastrErr()},complete:()=>{this.showToastr(),this.is_saving=!1}})}getccdevDetails(){this.http.get("child-care/cc-records/"+this.patient_details.id).subscribe({next:t=>{this.patient_info=t.data},error:t=>console.log(t)})}fetchCheckedIDs(){this.checkedIDs=[],this.ccdev.forEach((t,s)=>{t.selected&&this.checkedIDs.push(t.id)})}loadLibraries(){this.http.get("libraries/reason").subscribe(t=>{this.lib_reasons=t.data,console.log(t,"reason library")})}get ebfCondition(){if(1==this.ccdev[0].selected&&1==this.ccdev[1].selected&&1==this.ccdev[2].selected&&1==this.ccdev[3].selected)return!0}get reasonCondition(){return"0"===this.ccdev[0].selected||"0"===this.ccdev[1].selected||"0"===this.ccdev[2].selected||"0"===this.ccdev[3].selected}get getCompleCondition(){if("null"!==this.ccdev[0].selected&&"null"!==this.ccdev[1].selected&&"null"!==this.ccdev[2].selected&&"null"!==this.ccdev[3].selected&&""!==this.ccdev[0].selected&&""!==this.ccdev[1].selected&&""!==this.ccdev[2].selected&&""!==this.ccdev[3].selected)return!0}get editCondition(){if("null"==this.ccdev[0].selected&&"null"==this.ccdev[1].selected&&"null"==this.ccdev[2].selected&&"null"==this.ccdev[3].selected)return!0}loadBreastfed(){this.groupList2=[];var t=["bfed_month1","bfed_month2","bfed_month3","bfed_month4"];this.http.get("child-care/cc-breastfed/"+this.patient_details.id).subscribe({next:s=>{this.patient_breastfed=s.data,console.log(this.patient_breastfed,"data ng breast fedzxc"),null!=this.patient_breastfed.ebfreasons&&(this.patient_breastfed.ebfreasons=this.patient_breastfed.ebfreasons.reason_id),t.forEach((n,a)=>{this.ccdev[a].selected=String(this.patient_breastfed[n])}),this.ebfCondition?(this.ebf_status="Exclusively Breastfed",this.ebf_test()):this.ebf_status="Non - EBF"},error:s=>{console.log(s),404==s.status&&(this.patient_breastfed={patient_ccdev_id:"",patient_id:"",user_id:"",bfed_month1:null,bfed_month2:null,bfed_month3:null,bfed_month4:null,ebf_date:"",ebfreasons:null,comp_fed_date:""},console.log(this.patient_breastfed,"fake response"),this.ccdev[0].selected="null",this.ccdev[1].selected="null",this.ccdev[2].selected="null",this.ccdev[3].selected="null")}})}showToastr(){this.toastr.success("Successfully saved!","Breastfeeding Info")}showToastrErr(){this.toastr.warning("Error in Saving!","Breastfeeding Info")}ngOnInit(){this.ccdev=[{id:"bfed_month1",name:"Month 1 and 15 Days",date:h(this.patient_details.birthdate).add(1,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month2",name:"Month 2 and 15 Days",date:h(this.patient_details.birthdate).add(2,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month3",name:"Month 3 and 15 Days",date:h(this.patient_details.birthdate).add(3,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month6",name:"Month 5 and 29 Days",date:h(this.patient_details.birthdate).add(5,"M").add(29,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"}],this.loadBreastfed(),this.loadLibraries(),this.getccdevDetails()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-breastfeeding"]],inputs:{patient_details:"patient_details"},decls:19,vars:9,consts:[[1,"flex","mt-4","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[1,"card"],[1,"flex","bg-orange-500","card-header-services"],[1,"font-semibold","text-white","text-sm","uppercase"],["type","button","class","-mt-0.5 relative ml-auto px-5",3,"click",4,"ngIf"],[1,"w-full","pt-4","grid","grid-cols-2"],[1,"px-10","text-sm"],["class","flex",4,"ngFor","ngForOf"],["class","py-2",4,"ngIf"],["class","flex w-full item-start flex-wrap col-span-2",4,"ngIf"],["class","flex px-3 ml-10 text-sm p-2.5 bg-green-50 mt-1 border border-gray-300 rounded-lg min-width",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:59",4,"ngIf"],["class","opacity-50 fixed inset-0 z-50 bg-black",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:60",4,"ngIf"],["class","opacity-50 fixed inset-0 bg-black","style","z-index:59",4,"ngIf"],["type","button",1,"-mt-0.5","relative","ml-auto","px-5",3,"click"],["size","md",1,"text-white",3,"icon"],[1,"flex"],["class","font-semibold mr-2 py-2",4,"ngIf"],[1,"font-semibold","mr-2","py-2"],[1,"py-2"],[1,"font-semibold","mr-2"],[1,""],[1,"flex","w-full","item-start","flex-wrap","col-span-2"],[1,"px-10","py-1","text-sm","mt-1"],["type","button",1,"flex","btn-add","ml-auto","mr-10",3,"click"],[1,"mr-2",3,"icon"],[1,"flex","px-3","ml-10","text-sm","p-2.5","bg-green-50","mt-1","border","border-gray-300","rounded-lg","min-width"],[1,"font-semibold"],["class","px-1",4,"ngIf"],[1,"px-1"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","59"],[1,"relative","p-4","w-full","max-w-lg","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600","bg-white"],[1,"mt-1","font-bold","text-blue-500","text-md","dark:text-white"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","rounded"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-lg","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-70","dark:bg-gray-700","dark:text-gray-400"],[1,"w-full","py-2","sticky","top-0","z-50","bg-gray-50"],["scope","col",1,"py-4","pl-12"],["scope","col",1,"py-4","px-12"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],["class","flex py-4 px-5 rounded-b border-t border-gray-200",4,"ngIf"],["class","flex py-4 px-5 rounded-b border-t border-gray-200 ",4,"ngIf"],[1,"flex","justify-end","py-4","px-6","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-save",3,"click"],["class","pl-0",3,"icon","spin",4,"ngIf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"py-4","pl-12","text-sm","text-gray-900","dark:text-white","select-none"],[3,"id","for"],[1,"py-4","px-12","text-sm"],["name","","id","",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"ngModel","change","ngModelChange"],["value",""],["value","1"],["value","0"],[1,"flex","py-4","px-5","rounded-b","border-t","border-gray-200"],[1,"mt-2.5","text-sm","text-gray-900","w-full"],["name","","id","",1,"select","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","text-sm","-pl-10",2,"width","100%",3,"ngModel","ngModelChange"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-2.5","ml-6","text-sm","text-gray-900","w-full"],["type","date","placeholder","Enter EBF Date",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter Start Date",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"ngModel","ngModelChange"],[1,"pl-0",3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-sm","h-auto","md:h-auto"],[1,"flex","w-full","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],[1,"mt-1","font-bold","text-md","text-blue-500","dark:text-white"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],[1,"h-20","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],[1,"sticky","top-0","z-50","bg-gray-50"],[1,"px-10","pt-5","align-middle","text-center"],["for","","class","align-middle",4,"ngIf"],["for","",1,"align-middle"],[1,"opacity-50","fixed","inset-0","bg-black",2,"z-index","59"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"BREASTFEEDING AND COMPLEMENTARY FEEDING"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"h4",4),e._uU(6,"Breastfeeding And Complementary Feeding Information"),e.qZA(),e.YNc(7,Ue,2,1,"button",5),e.qZA(),e.TgZ(8,"div",6)(9,"div",7),e.YNc(10,Ee,3,2,"span",8),e.qZA(),e.TgZ(11,"div",7),e.YNc(12,De,7,4,"div",9),e.qZA(),e.YNc(13,Qe,6,1,"div",10),e.YNc(14,Oe,7,6,"span",11),e.qZA(),e.YNc(15,je,32,7,"div",12),e.qZA(),e.YNc(16,$e,1,0,"div",13),e.YNc(17,We,22,2,"div",14),e.YNc(18,Xe,1,0,"div",15)),2&t&&(e.xp6(7),e.Q6J("ngIf",!s.editCondition),e.xp6(3),e.Q6J("ngForOf",s.ccdev),e.xp6(2),e.Q6J("ngIf",s.getCompleCondition),e.xp6(1),e.Q6J("ngIf",s.editCondition),e.xp6(1),e.Q6J("ngIf",s.getCompleCondition),e.xp6(1),e.Q6J("ngIf",s.showBreastfeedingModal),e.xp6(1),e.Q6J("ngIf",s.showBreastfeedingModal),e.xp6(1),e.Q6J("ngIf",s.showAlert),e.xp6(1),e.Q6J("ngIf",s.showAlert))},dependencies:[l.sg,l.O5,g.BN,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,l.uU],styles:["select[_ngcontent-%COMP%]{width:65px;padding-left:5px}.modal-body[_ngcontent-%COMP%]{height:350px;width:500px;overflow-y:auto}"]}),i})();function tt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"nav",11)(1,"div",12)(2,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchTab(1))}),e._uU(3," DETAILS "),e.qZA(),e.TgZ(4,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchTab(2))}),e._uU(5," CASE RATE "),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Tol(1===t.module?"tabs-main-true":"tabs-main-false"),e.xp6(2),e.Tol(2===t.module?"tabs-main-true":"tabs-main-false")}}function it(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-first-visit",17),e.NdJ("loadCcDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadCcDetails())}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ccdev_data",t.ccdev_data)("patient_details",t.patient_details)("ccdev_data",t.ccdev_data)}}function st(i,o){if(1&i&&e._UZ(0,"app-services",18),2&i){const t=e.oxw(2);e.Q6J("patient_details",t.patient_details)}}function nt(i,o){if(1&i&&e._UZ(0,"app-breastfeeding",18),2&i){const t=e.oxw(2);e.Q6J("patient_details",t.patient_details)}}function ot(i,o){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,it,1,3,"app-first-visit",15),e.YNc(2,st,1,1,"app-services",16),e.YNc(3,nt,1,1,"app-breastfeeding",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.show_form),e.xp6(1),e.Q6J("ngIf",t.show_forms),e.xp6(1),e.Q6J("ngIf",t.show_forms)}}function rt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-end-visit",19),e.NdJ("toggleModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("consult_id",t.consult_id)("consult_date",null==t.consult_details[0]?null:t.consult_details[0].consult_date)("patient_id",null==t.consult_details[0]?null:t.consult_details[0].patient.id)("pt_group",null==t.consult_details[0]?null:t.consult_details[0].pt_group)}}function at(i,o){if(1&i&&e._UZ(0,"app-caserate",20),2&i){const t=e.oxw();e.Q6J("patient_id",t.ccdev_data.patient_id)("program_id",t.ccdev_data.id)("program_name","cc")("max_date",t.max_date)}}function ct(i,o){if(1&i&&e._UZ(0,"app-eclaims",21),2&i){const t=e.oxw();e.Q6J("program_id",t.ccdev_data.id)("program_name","cc")("max_date",t.max_date)("selected_case",t.ccdev_data)}}const dt=[{path:"",component:(()=>{class i{constructor(t,s,n){this.http=t,this.router=s,this.route=n,this.faDoorClosed=_.TH0,this.show_end=!1,this.show_form=!1,this.pages=1,this.module=1,this.modals=[]}switchPage(t){this.pages=t}toggleModal(t){this.modals[t]=!this.modals[t]}switchTab(t){this.module=t}loadConsultDetails(){this.show_form=!1,this.http.get("consultation/records",{params:{patient_id:this.patient_details.id,id:this.consult_id}}).subscribe({next:t=>{this.consult_details=t.data,this.loadCcDetails()},error:t=>console.log(t)})}loadCcDetails(){this.http.get("child-care/cc-records",{params:{patient_id:this.patient_details.id}}).subscribe({next:s=>{console.log(s),this.show_form=!0,this.ccdev_data=s.data[0],this.ccdev_data&&(this.show_forms=!0)},error:s=>console.log(s)})}checkCCdevDetails(t){t&&(this.show_forms=!0)}ngOnInit(){this.module=1,this.show_forms=!1,this.patient_details=this.http.getPatientInfo(),this.active_loc_id=this.http.getUrlParams(),this.consult_id=this.active_loc_id.consult_id,this.loadConsultDetails()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O),e.Y36(p.F0),e.Y36(p.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-childcare"]],decls:15,vars:10,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],[1,"ml-auto"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 p-5 w-full border border-gray-200 shadow-md rounded-xl",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date",4,"ngIf"],[3,"program_id","program_name","max_date","selected_case",4,"ngIf"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],[1,"my-5","p-5","w-full","border","border-gray-200","shadow-md","rounded-xl"],[3,"ccdev_data","patient_details","loadCcDetails",4,"ngIf"],[3,"patient_details",4,"ngIf"],[3,"ccdev_data","patient_details","loadCcDetails"],[3,"patient_details"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal"],[3,"patient_id","program_id","program_name","max_date"],[3,"program_id","program_name","max_date","selected_case"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return s.switchPage(1)}),e._uU(3," VISIT "),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return s.switchPage(2)}),e._uU(5," ECLAIMS "),e.qZA()(),e.TgZ(6,"div",3)(7,"button",4),e.NdJ("click",function(){return s.toggleModal("end_visit")}),e._UZ(8,"fa-icon",5),e._uU(9," End Visit "),e.qZA()()(),e.YNc(10,tt,6,4,"nav",6),e.YNc(11,ot,4,3,"div",7),e.YNc(12,rt,1,4,"app-end-visit",8),e.YNc(13,at,1,4,"app-caserate",9),e.YNc(14,ct,1,4,"app-eclaims",10)),2&t&&(e.xp6(2),e.Tol(1===s.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(2),e.Tol(2===s.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(4),e.Q6J("icon",s.faDoorClosed),e.xp6(2),e.Q6J("ngIf",1===s.pages),e.xp6(1),e.Q6J("ngIf",1===s.pages&&1===s.module),e.xp6(1),e.Q6J("ngIf",s.modals.end_visit),e.xp6(1),e.Q6J("ngIf",1===s.pages&&2===s.module&&s.show_form),e.xp6(1),e.Q6J("ngIf",2===s.pages&&s.show_form))},dependencies:[l.O5,g.BN,w.F,C.Y,T.h,R,Je,et]}),i})()}];let lt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(dt),p.Bz]}),i})();var _t=c(529),pt=c(9366);let gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,lt,g.uH,r.UX,_t.JF,f.A0,r.u5,w.F,C.Y,pt.q]}),i})()}}]);