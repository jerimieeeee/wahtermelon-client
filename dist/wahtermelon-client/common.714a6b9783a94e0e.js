"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[592],{9366:(c,d,s)=>{s.d(d,{q:()=>i});var t=s(6895),u=s(2216),_=s(6205),l=s(433),r=s(2965),e=s(4346),n=s(1571);class i{}i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[t.ez,u.uH,_.X,l.UX,l.u5,r.Tm,e.K]})},8696:(c,d,s)=>{s.d(d,{F:()=>e});var t=s(1571),u=s(4691),_=s(2325),l=s(7185),r=s(6895);class e{onSubmit(){let i;this.is_saving=!0,i=this.consult_date&&this.pt_group?{patient_id:this.patient_id,consult_date:this.consult_date,pt_group:this.pt_group,consult_done:!0}:{},this.http.update("consultation/records/",this.consult_id,i).subscribe({next:o=>{console.log(o),this.is_saving=!1,this.toastr.info("Visit was ended"),this.router.navigate(["/patient/itr",{id:this.patient_id}])},error:o=>console.log(o)})}constructor(i,o,a){this.http=i,this.router=o,this.toastr=a,this.toggleModal=new t.vpe,this.is_saving=!1}closeModal(){this.toggleModal.emit("end_visit")}}e.\u0275fac=function(i){return new(i||e)(t.Y36(u.O),t.Y36(_.F0),t.Y36(l._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-end-visit"]],inputs:{consult_id:"consult_id",consult_date:"consult_date",patient_id:"patient_id",pt_group:"pt_group"},outputs:{toggleModal:"toggleModal"},decls:20,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"h-40"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-3","py-3","mt-10","mx-10","w-full","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200","font-semibold","text-lg"],[1,"col-span-3","text-left","mb-2","pb-2","text-sm"],[1,"flex","justify-end","py-2","px-5","space-x-4","rounded-b"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-rose-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-rose-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," End Visit "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),t._uU(10," Do you really want to end this visit? "),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.ALo(13,"date"),t.qZA()()()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return o.onSubmit()}),t._uU(18,"End Visit"),t.qZA()()()()(),t._UZ(19,"div",13)),2&i&&(t.xp6(12),t.hij(" Visit date & time: ",t.xi3(13,2,o.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),t.xp6(5),t.Q6J("disabled",o.is_saving))},dependencies:[r.uU]})},4346:(c,d,s)=>{s.d(d,{I:()=>u,K:()=>_});var t=s(1571);let u=(()=>{class l{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let n in e)e.hasOwnProperty(n)&&this._printStyle.push((n+JSON.stringify(e[n])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let n=function(i){return`<link rel="stylesheet" type="text/css" href="${i}">`};if(-1!==e.indexOf(",")){const i=e.split(",");for(let o of i)this._styleSheetFile=this._styleSheetFile+n(o)}else this._styleSheetFile=n(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const n=[],i=document.getElementsByTagName(e);for(let o=0;o<i.length;o++)n.push(i[o].outerHTML);return n.join("\r\n")}getFormData(e){for(var n=0;n<e.length;n++)e[n].defaultValue=e[n].value,e[n].checked&&(e[n].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),n=e.getElementsByTagName("input");this.getFormData(n);let i=e.getElementsByTagName("textarea");return this.getFormData(i),e.innerHTML}print(){let e,n,i="",o="";const a=this.getElementTag("base");this.useExistingCss&&(i=this.getElementTag("style"),o=this.getElementTag("link")),e=this.getHtmlContents(),n=window.open("","_blank","top=0,left=0,height=auto,width=auto"),n.document.open(),n.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${a}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${i}\n          ${o}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),n.document.close()}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275dir=t.lG2({type:l,selectors:[["button","ngxPrint",""]],hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),l})(),_=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({}),l})()}}]);