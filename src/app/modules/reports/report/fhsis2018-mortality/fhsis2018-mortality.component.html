<div class="grid grid-cols-1 w-full">
  <div class="flex justify-between w-full text-blue-500 font-semibold text-lg  p-3" >
    <span>FHSIS Report - Mortality and Natality</span>
    <span>
      <!-- <fa-icon *ngIf="exporting" [icon]="faCircleNotch" spin="true" class="text-blue-500 text-sm mr-3">Exporting...</fa-icon> -->
      <button [disabled]="pdf_exported" type="button" class="text-2xl mr-5 text-red-600 disabled:text-gray-600" (click)="exportP()">
        <fa-icon [icon]="faFilePdf"></fa-icon>
      </button>
      <button  type="button" class="text-2xl" (click)="exportX()">
        <fa-icon [icon]="faFileExcel" class="text-green-700"></fa-icon>
      </button>
    </span>
  </div>
  <div class="flex flex-col pb-5">
    <div class="sm:-mx-6 lg:-mx-8">
      <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
        <div class="">
          <table *ngIf="show_stats" class="min-w-full border select-none" id="reportForm">
            <thead class="border-b">
              <tr>
                <th colspan="1" class="text-sm font-medium text-gray-900 px-6 py-4 border">
                  <img src="./assets/img/DOH_Logo.png" class="rounded-full w-28 h-28 mx-auto" />
                </th>
                <th colspan="7" class="text-sm font-medium text-gray-900 px-6 py-4 border text-left align-top">
                    FHSIS Report for the Month: <br />
                    Name of Barangay: <br />
                    Name of BHS: <br />
                    Name of Municipality/City: <br />
                    Name of Province: <br />
                    Projected Population for the Year: <br />
                    Year: {{ label_value.labelYear }}
                  FHSIS Report for<span *ngIf="label_value.labelType === 'm1'"> the Month</span>: {{ label_value.labelDate}} <br />
                  Name of Barangay: {{ brgy_result ? this.brgy_result : '-'}} <br />
                  Name of Facility: <span class="capitalize"> {{ facility.facility_name}} </span> <br />
                  Name of Municipality/City: {{ facility.municipality.name}} <br />
                  Name of Province: {{ facility.province.name}} <br />
                  Projected Population for the Year: {{ label_value.labelPopulation}} <br />
                  Year: {{ label_value.labelYear }}
                </th>

                <th colspan="2"  class="text-8xl tracking-tighter font-bold text-gray-900 px-6 py-4 border text-center w-2/12">
                  {{ label_value.labelType ?? 'M1'}}
                </th>
              </tr>
              <tr class="text-center sticky top-0 bg-gray-200">
                <th colspan="5" class="text-sm font-semibold text-gray-900 px-6 py-4 border-r">
                  SECTION H. Mortality
                </th>
                <th colspan="5" class="text-sm font-semibold text-gray-900 px-6 py-4 border-r">
                  SECTION I. Natality
                </th>
              </tr>
              <tr>
                <th>
                  Indicators <br />
                  <span class="text-sm font-normal">(col. 1)</span>
                </th>
                <th>
                  Male <br />
                  <span class="text-sm font-normal">(col. 2)</span>
                </th>
                <th>
                  Female <br />
                  <span class="text-sm font-normal">(col. 3)</span>
                </th>
                <th>
                  Total <br />
                  <span class="text-sm font-normal">(col. 4)</span>
                </th>
                <th>
                  Remarks <br />
                  <span class="text-sm font-normal">(col. 5)</span>
                </th>
                <th>
                  Indicators <br />
                  <span class="text-sm font-normal">(col. 1)</span>
                </th>
                <th>
                  Male <br />
                  <span class="text-sm font-normal">(col. 2)</span>
                </th>
                <th>
                  Female <br />
                  <span class="text-sm font-normal">(col. 3)</span>
                </th>
                <th>
                  Total <br />
                  <span class="text-sm font-normal">(col. 4)</span>
                </th>
                <th>
                  Remarks <br />
                  <span class="text-sm font-normal">(col. 5)</span>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1. Total Deaths</td>
                <td class="border text-center" (click)="showNameList('male_total_deaths')" [class]="stats.male_total_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_total_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_total_deaths')" [class]="stats.female_total_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_total_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_total_deaths')" [class]="stats.male_female_total_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_total_deaths ?? 0}} </td>
                <td></td>
                <td>1. Livebirth - Total</td>
                <td class="border text-center" (click)="showNameList('live_births_male')" [class]="stats.live_births_male > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_male ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('live_births_female')" [class]="stats.live_births_female > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_female ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('live_births_male_female')" [class]="stats.live_births_male_female > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_male_female ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>2. Maternal Deaths - Total</td>
                <td class="text-center" colspan="1" (click)="showNameList('male_maternal_deaths')" [class]="stats.male_maternal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_maternal_deaths ?? 0}} </td>
                <td class="text-center" (click)="showNameList('female_maternal_deaths')" [class]="stats.female_maternal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_maternal_deaths ?? 0}} </td>
                <td class="text-center" (click)="showNameList('male_female_maternal_deaths')" [class]="stats.male_female_maternal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_maternal_deaths ?? 0}} </td>
                <td></td>
                <td class="indent-5">a. Livebirths among 15-19 y/o women</td>
                <td class="border text-center" (click)="showNameList('live_births_15_19_male')" [class]="stats.live_births_15_19_male > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_15_19_male ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('live_births_15_19_female')" [class]="stats.live_births_15_19_female > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_15_19_female ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('live_births_15_19_male_female')" [class]="stats.live_births_15_19_male_female > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.live_births_15_19_male_female ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>3. Under-five Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_under_five_deaths')" [class]="stats.male_under_five_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_under_five_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_under_five_deaths')" [class]="stats.female_under_five_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_under_five_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_under_five_deaths')" [class]="stats.male_female_under_five_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_under_five_deaths ?? 0}} </td>
                <td></td>
                <td colspan="5" rowspan="6"></td>
              </tr>
              <tr>
                <td>4. Infant Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_infant_deaths')" [class]="stats.male_infant_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_infant_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_infant_deaths')" [class]="stats.female_infant_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_infant_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_infant_deaths')" [class]="stats.male_female_infant_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_infant_deaths ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>5. Neonatal Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_neonatal_deaths')" [class]="stats.male_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_neonatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_neonatal_deaths')" [class]="stats.female_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_neonatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_neonatal_deaths')" [class]="stats.male_female_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_neonatal_deaths ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>6. Fetal Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_fetal_deaths')" [class]="stats.male_fetal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_fetal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_fetal_deaths')" [class]="stats.female_fetal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_fetal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_fetal_deaths')" [class]="stats.male_female_fetal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_fetal_deaths ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>7. Early Neonatal Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_early_neonatal_deaths')" [class]="stats.male_early_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_early_neonatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_early_neonatal_deaths')" [class]="stats.female_early_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_early_neonatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_early_neonatal_deaths')" [class]="stats.male_female_early_neonatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_early_neonatal_deaths ?? 0}} </td>
                <td></td>
              </tr>
              <tr>
                <td>8. Perinatal Deaths - Total</td>
                <td class="border text-center" (click)="showNameList('male_perinatal_deaths')" [class]="stats.male_perinatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_perinatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('female_perinatal_deaths')" [class]="stats.female_perinatal_deaths > 0 ? 'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.female_perinatal_deaths ?? 0}} </td>
                <td class="border text-center" (click)="showNameList('male_female_perinatal_deaths')" [class]="stats.male_female_perinatal_deaths > 0 ?'text-blue-500 hover:cursor-pointer' : 'pointer-events-none'"> {{ stats.male_female_perinatal_deaths ?? 0}} </td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<app-show-name-list
  *ngIf="openList"
  (toggleModal)="toggleModal()"
  [name_list_params]="name_list_params"
  [selected_barangay]="selected_barangay"
  [reportForm]="reportForm"
  [url]="url"
  [loc]="'itr'"
>
</app-show-name-list>

<!--<app-name-list *ngIf="openList" (toggleModal)="toggleModal()" [name_list]="name_list"></app-name-list>-->
