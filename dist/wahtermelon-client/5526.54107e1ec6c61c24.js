"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[5526],{5526:(x,F,_)=>{_.r(F),_.d(F,{DrugsModule:()=>Re});var r=_(177),f=_(1317),C=_(614),c=_(5383),e=_(4438),b=_(3318),v=_(60),d=_(9417),h=_(3825),j=_(7468),m=_(5794);const u=n=>({"text-red-500":n}),a=n=>({"invalid-input":n});function g(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function k(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,g,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.brand_name.errors?null:t.f.brand_name.errors.required)}}function y(n,s){if(1&n&&(e.j41(0,"span",46),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.selected_drug?t.selected_drug.desc?t.selected_drug.desc:t.selected_drug.konsulta_medicine.desc:"")}}function D(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function E(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,D,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.medicine_name.errors?null:t.f.medicine_name.errors.required)}}function G(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function w(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,G,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.dosage_quantity.errors?null:t.f.dosage_quantity.errors.required)}}function $(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function I(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function Y(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,I,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.dosage_uom.errors?null:t.f.dosage_uom.errors.required)}}function q(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function T(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function M(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,T,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.dose_regimen.errors?null:t.f.dose_regimen.errors.required)}}function N(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function X(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,N,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.duration_intake.errors?null:t.f.duration_intake.errors.required)}}function L(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function S(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function B(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,S,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.duration_frequency.errors?null:t.f.duration_frequency.errors.required)}}function J(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function V(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function A(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,V,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.medicine_route_code.errors?null:t.f.medicine_route_code.errors.required)}}function O(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function U(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,O,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.quantity.errors?null:t.f.quantity.errors.required)}}function P(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function z(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function K(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,z,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.quantity_preparation.errors?null:t.f.quantity_preparation.errors.required)}}function W(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function H(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,W,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.unit_price.errors?null:t.f.unit_price.errors.required)}}function Q(n,s){if(1&n&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Z(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function ee(n,s){if(1&n&&(e.j41(0,"div",44),e.DNE(1,Z,2,1,"div",45),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.medicine_purpose.errors?null:t.f.medicine_purpose.errors.required)}}function te(n,s){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.JRh(t.value)}}function ie(n,s){if(1&n&&(e.j41(0,"div",48)(1,"div",49)(2,"ul",50),e.DNE(3,te,2,1,"li",51),e.nI1(4,"keyvalue"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_errors))}}function ne(n,s){1&n&&(e.j41(0,"div",52)(1,"span",53),e.EFF(2,"Record was updated."),e.k0s()()),2&n&&e.Y8G("@openCloseTrigger",void 0)}let re=(()=>{class n{onSubmit(){if(this.is_saving=!0,this.drugForm.valid){let t;this.drugForm.value.konsulta_medicine_code||this.drugForm.patchValue({added_medicine:this.drugForm.value.medicine_name}),t=this.drugForm.value.id?this.http.update("medicine/list/",this.drugForm.value.id,this.drugForm.value):this.http.post("medicine/list",this.drugForm.value),t.subscribe({next:o=>{this.toastr.success("Recorded successfully!","Drug List"),this.closeModal()},error:o=>{this.http.showError(o.error.message,"Drug List")}})}}get f(){return this.drugForm.controls}loadMainLibrary(){const t=this.http.get("libraries/unit-of-measurements"),o=this.http.get("libraries/dose-regimens"),i=this.http.get("libraries/purposes"),l=this.http.get("libraries/duration-frequencies"),p=this.http.get("libraries/preparations"),xe=this.http.get("libraries/medicine-route");(0,j.p)([t,o,i,l,p,xe]).subscribe({next:([R,je,De,Ee,Ge,we])=>{this.drug_uom=R.data,this.drug_regimen=je.data,this.drug_purpose=De.data,this.drug_frequency=Ee.data,this.drug_preparation=Ge.data,this.drug_route=we.data,this.is_loading=!1},error:R=>console.log(R)})}loadSelected(){this.selected_drug&&this.selected_drug.id?this.patchToEdit(this.selected_drug):null!=this.selected_drug&&this.drugForm.patchValue({konsulta_medicine_code:this.selected_drug.code??null,medicine_name:this.selected_drug.generic_desc})}patchToEdit(t){this.drugForm.patchValue({...t}),this.drugForm.patchValue({dosage_uom:t.unit_of_measurement.code,dose_regimen:t.regimen.code,duration_frequency:t.frequency.code,konsulta_medicine_code:t.konsulta_medicine?t.konsulta_medicine.code:null,medicine_name:t.konsulta_medicine?t.konsulta_medicine.generic.desc:t.added_medicine??"",medicine_purpose:t.purpose.code,medicine_route_code:t.medicine_route.code,quantity_preparation:t.preparation.code})}createForm(){this.drugForm=this.formBuilder.group({id:[null],brand_name:[null,d.k0.required],medicine_name:[null,d.k0.required],medicine_code:[null],konsulta_medicine_code:[null],added_medicine:[null],dosage_quantity:[null,d.k0.required],dosage_uom:[null,d.k0.required],dose_regimen:[null,d.k0.required],medicine_purpose:[null,d.k0.required],purpose_other:[null],duration_intake:[null,d.k0.required],duration_frequency:[null,d.k0.required],quantity:[null],unit_price:[null],quantity_preparation:[null,d.k0.required],medicine_route_code:[null,d.k0.required],instruction_quantity:[1]}),this.loadSelected()}closeModal(){this.showEdit.emit()}constructor(t,o,i){this.formBuilder=t,this.http=o,this.toastr=i,this.showEdit=new e.bkB,this.drugForm=new d.gE({id:new d.MJ(null),brand_name:new d.MJ(null),medicine_name:new d.MJ(null),medicine_code:new d.MJ(null),konsulta_medicine_code:new d.MJ(null),added_medicine:new d.MJ(null),dosage_quantity:new d.MJ(null),dosage_uom:new d.MJ(null),dose_regimen:new d.MJ(null),medicine_purpose:new d.MJ(null),duration_intake:new d.MJ(null),duration_frequency:new d.MJ(null),quantity_preparation:new d.MJ(null),medicine_route_code:new d.MJ(null),purpose_other:new d.MJ(null),quantity:new d.MJ(null),unit_price:new d.MJ(null),instruction_quantity:new d.MJ(null)}),this.showAlert=!1,this.is_saving=!1,this.required_message="this is required",this.is_loading=!1}ngOnInit(){this.is_loading=!0,this.loadMainLibrary(),this.http.getUserID(),this.http.getUserFacility(),this.createForm()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(d.ok),e.rXU(b.k),e.rXU(m.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-drug-form"]],inputs:{selected_drug:"selected_drug"},outputs:{showEdit:"showEdit"},standalone:!1,decls:84,vars:95,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5","px-3"],[1,"relative","w-full","text-sm","px-4","py-2","mt-2"],["for","brand_name",1,"font-semibold",3,"ngClass"],["name","brand_name","id","brand_name","formControlName","brand_name","type","text",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-full","text-sm","px-3","py-2","mt-2"],["for","medicine_name",1,"font-semibold",3,"ngClass"],["name","medicine_name","id","medicine_name","formControlName","medicine_name","type","text",1,"input",3,"ngClass"],["class","text-xs pl-3 font-semibold",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-2/6","lg:w-2/6","px-3","py-2","mt-2"],["for","dosage_quantity",1,"font-semibold",3,"ngClass"],["name","dosage_quantity","id","dosage_quantity","formControlName","dosage_quantity","type","number",1,"input",3,"ngClass"],["for","dosage_uom",1,"font-semibold",3,"ngClass"],["name","dosage_uom","id","dosage_uom","formControlName","dosage_uom",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","dose_regimen",1,"font-semibold",3,"ngClass"],["name","dose_regimen","id","dose_regimen","formControlName","dose_regimen",1,"input",3,"ngClass"],["for","duration_intake",1,"font-semibold",3,"ngClass"],["name","duration_intake","id","duration_intake","formControlName","duration_intake","type","number",1,"input",3,"ngClass"],["for","duration_frequency",1,"font-semibold",3,"ngClass"],["name","duration_frequency","id","duration_frequency","formControlName","duration_frequency",1,"input",3,"ngClass"],["for","medicine_route_code",1,"font-semibold",3,"ngClass"],["name","medicine_route_code","id","medicine_route_code","formControlName","medicine_route_code",1,"input",3,"ngClass"],["for","quantity",1,"font-semibold",3,"ngClass"],["name","quantity","id","quantity","formControlName","quantity","type","number",1,"input",3,"ngClass"],["for","quantity_preparation",1,"font-semibold",3,"ngClass"],["name","quantity_preparation","id","quantity_preparation","formControlName","quantity_preparation",1,"input",3,"ngClass"],["for","unit_price",1,"font-semibold",3,"ngClass"],["name","unit_price","id","unit_price","formControlName","unit_price","type","number",1,"input",3,"ngClass"],["for","medicine_purpose",1,"font-semibold",3,"ngClass"],["name","medicine_purpose","id","medicine_purpose","formControlName","medicine_purpose",1,"input",3,"ngClass"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[1,"text-xs","pl-3","font-semibold"],[3,"value"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Add new drugs "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11,"Brand name"),e.k0s(),e.nrm(12,"input",10),e.DNE(13,k,2,1,"div",11),e.k0s(),e.j41(14,"div",12)(15,"label",13),e.EFF(16,"Generic Name"),e.k0s(),e.nrm(17,"input",14),e.DNE(18,y,2,1,"span",15)(19,E,2,1,"div",11),e.k0s(),e.j41(20,"div",16)(21,"label",17),e.EFF(22,"Dosage"),e.k0s(),e.nrm(23,"input",18),e.DNE(24,w,2,1,"div",11),e.k0s(),e.j41(25,"div",16)(26,"label",19),e.EFF(27,"Dosage unit"),e.k0s(),e.j41(28,"select",20),e.DNE(29,$,2,2,"option",21),e.k0s(),e.DNE(30,Y,2,1,"div",11),e.k0s(),e.j41(31,"div",16)(32,"label",22),e.EFF(33,"Dosage regimen"),e.k0s(),e.j41(34,"select",23),e.DNE(35,q,2,2,"option",21),e.k0s(),e.DNE(36,M,2,1,"div",11),e.k0s(),e.j41(37,"div",16)(38,"label",24),e.EFF(39,"Duration"),e.k0s(),e.nrm(40,"input",25),e.DNE(41,X,2,1,"div",11),e.k0s(),e.j41(42,"div",16)(43,"label",26),e.EFF(44,"Duration frequency"),e.k0s(),e.j41(45,"select",27),e.DNE(46,L,2,2,"option",21),e.k0s(),e.DNE(47,B,2,1,"div",11),e.k0s(),e.j41(48,"div",16)(49,"label",28),e.EFF(50,"Medicine Route"),e.k0s(),e.j41(51,"select",29),e.DNE(52,J,2,2,"option",21),e.k0s(),e.DNE(53,A,2,1,"div",11),e.k0s(),e.j41(54,"div",16)(55,"label",30),e.EFF(56,"Quantity"),e.k0s(),e.nrm(57,"input",31),e.DNE(58,U,2,1,"div",11),e.k0s(),e.j41(59,"div",16)(60,"label",32),e.EFF(61,"Preparation"),e.k0s(),e.j41(62,"select",33),e.DNE(63,P,2,2,"option",21),e.k0s(),e.DNE(64,K,2,1,"div",11),e.k0s(),e.j41(65,"div",16)(66,"label",34),e.EFF(67,"Unit Price"),e.k0s(),e.nrm(68,"input",35),e.DNE(69,H,2,1,"div",11),e.k0s(),e.j41(70,"div",12)(71,"label",36),e.EFF(72,"Medicine purpose"),e.k0s(),e.j41(73,"select",37),e.DNE(74,Q,2,2,"option",21),e.k0s(),e.DNE(75,ee,2,1,"div",11),e.k0s()(),e.DNE(76,ie,5,3,"div",38),e.k0s()(),e.j41(77,"div",39),e.DNE(78,ne,3,1,"div",40),e.j41(79,"button",41),e.bIt("click",function(){return i.closeModal()}),e.EFF(80,"Close"),e.k0s(),e.j41(81,"button",42),e.bIt("click",function(){return i.onSubmit()}),e.EFF(82,"Save"),e.k0s()()()()(),e.nrm(83,"div",43)),2&o&&(e.R7$(7),e.Y8G("formGroup",i.drugForm),e.R7$(3),e.Y8G("ngClass",e.eq3(47,u,i.is_saving&&i.f.brand_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(49,a,i.is_saving&&i.f.brand_name.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.brand_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(51,u,i.is_saving&&i.f.medicine_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(53,a,i.is_saving&&i.f.medicine_name.errors)),e.R7$(),e.Y8G("ngIf",i.selected_drug&&!i.selected_drug.added_medicine),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.medicine_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(55,u,i.is_saving&&i.f.dosage_quantity.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(57,a,i.is_saving&&i.f.dosage_quantity.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.dosage_quantity.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(59,u,i.is_saving&&i.f.dosage_uom.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(61,a,i.is_saving&&i.f.dosage_uom.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_uom),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.dosage_uom.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(63,u,i.is_saving&&i.f.dose_regimen.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(65,a,i.is_saving&&i.f.dose_regimen.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_regimen),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.dose_regimen.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(67,u,i.is_saving&&i.f.duration_intake.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(69,a,i.is_saving&&i.f.duration_intake.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.duration_intake.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(71,u,i.is_saving&&i.f.duration_frequency.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(73,a,i.is_saving&&i.f.duration_frequency.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_frequency),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.duration_frequency.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(75,u,i.is_saving&&i.f.medicine_route_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(77,a,i.is_saving&&i.f.medicine_route_code.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_route),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.medicine_route_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(79,u,i.is_saving&&i.f.quantity.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(81,a,i.is_saving&&i.f.quantity.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.quantity.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(83,u,i.is_saving&&i.f.quantity_preparation.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(85,a,i.is_saving&&i.f.quantity_preparation.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_preparation),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.quantity_preparation.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(87,u,i.is_saving&&i.f.unit_price.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(89,a,i.is_saving&&i.f.unit_price.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.unit_price.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(91,u,i.is_saving&&i.f.medicine_purpose.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(93,a,i.is_saving&&i.f.medicine_purpose.errors)),e.R7$(),e.Y8G("ngForOf",i.drug_purpose),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.medicine_purpose.errors),e.R7$(),e.Y8G("ngIf",i.submit_errors),e.R7$(2),e.Y8G("ngIf",i.showAlert),e.R7$(3),e.Y8G("disabled",i.drugForm.invalid))},dependencies:[r.YU,r.Sq,r.bT,d.qT,d.xH,d.y7,d.me,d.Q0,d.wz,d.BC,d.cb,d.j4,d.JD,r.lG],encapsulation:2})}}return n})();const oe=n=>({"bg-gray-50":n});function se(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td",23)(2,"div",24)(3,"div",25),e.EFF(4," No records found... "),e.k0s(),e.j41(5,"div",26)(6,"button",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal("new"))}),e.nrm(7,"fa-icon",28),e.EFF(8," Add "),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(7),e.Y8G("icon",t.faAdd)}}function de(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr",29),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.closeModal(i))}),e.j41(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4),e.k0s(),e.j41(5,"td",31),e.EFF(6),e.k0s(),e.j41(7,"td",31),e.EFF(8),e.k0s()()}if(2&n){const t=s.$implicit;e.Y8G("ngClass",e.eq3(6,oe,s.odd)),e.R7$(2),e.SpI(" ",t.desc," "),e.R7$(2),e.SpI(" ",t.generic_desc," "),e.R7$(2),e.Lme(" ",t.unit_desc," ",t.package_desc," "),e.R7$(2),e.SpI(" ",t.form_desc," ")}}function ae(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",32)(1,"div",33)(2,"div",34)(3,"p",35),e.EFF(4," Showing "),e.j41(5,"span",36),e.EFF(6),e.k0s(),e.EFF(7," to "),e.j41(8,"span",36),e.EFF(9),e.k0s(),e.EFF(10," of "),e.j41(11,"span",36),e.EFF(12),e.k0s(),e.EFF(13," results "),e.k0s()(),e.j41(14,"div")(15,"nav",37)(16,"button",38),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(1))}),e.nrm(17,"fa-icon",39),e.k0s(),e.j41(18,"button",40),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.current_page-1))}),e.nrm(19,"fa-icon",39),e.EFF(20,"Previous "),e.k0s(),e.j41(21,"button",40),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.current_page+1))}),e.EFF(22," Next"),e.nrm(23,"fa-icon",41),e.k0s(),e.j41(24,"button",42),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.last_page))}),e.nrm(25,"fa-icon",41),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(6),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}let le=(()=>{class n{selectDrugs(t){console.log(t)}closeModal(t){this.showAdd.emit(t)}loadDrugs(t){let o={params:{}};this.search_item&&(o.params["filter[search]"]=this.search_item),t&&(o.params.page=t),o.params.per_page=this.per_page,this.http.get("libraries/konsulta-medicines",o).subscribe({next:i=>{this.drug_list=i.data,this.current_page=i.meta.current_page,this.last_page=i.meta.last_page,this.from=i.meta.from,this.to=i.meta.to,this.total=i.meta.total},error:i=>console.log(i)})}constructor(t){this.http=t,this.showAdd=new e.bkB,this.faAnglesLeft=c.rNr,this.faChevronLeft=c.Wzs,this.faChevronRight=c.XkK,this.faAnglesRight=c.up_,this.faSearch=c.MjD,this.faEdit=c.MT7,this.faAdd=c.vkJ,this.faCircleXmark=c.bnw,this.is_updating=!1,this.show_lib_drug=!1,this.per_page=10}ngOnInit(){this.loadDrugs()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(b.k))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-lib-drug-list"]],inputs:{search_item:"search_item"},outputs:{showAdd:"showAdd"},standalone:!1,decls:32,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"flex","justify-end"],[1,"border","border-gray-400","rounded-md","bg-white"],["type","text","placeholder","Search drugs",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["type","button",1,"text-white","w-9","h-9",3,"click"],[1,"-mr-4",3,"icon"],[1,"h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"sticky","top-0","text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[1,"overflow-y-auto"],[4,"ngIf"],["class","hover:bg-blue-200 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-white py-3 flex items-center justify-between sm:px-6",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","4"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"hover:bg-blue-200","cursor-pointer",3,"click","ngClass"],["scope","row",1,"py-4","px-4"],[1,"py-4","px-4"],[1,"bg-white","py-3","flex","items-center","justify-between","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"mr-3"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Drugs library "),e.k0s(),e.j41(6,"div",5)(7,"div",6)(8,"input",7),e.mxI("ngModelChange",function(p){return e.DH7(i.search_item,p)||(i.search_item=p),p}),e.bIt("keyup.enter",function(){return i.loadDrugs()}),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){return i.loadDrugs()}),e.nrm(10,"fa-icon",9),e.k0s()(),e.j41(11,"button",10),e.bIt("click",function(){return i.closeModal()}),e.nrm(12,"fa-icon",11),e.k0s()()(),e.j41(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e.EFF(19,"Drug Code"),e.k0s(),e.j41(20,"th",16),e.EFF(21,"Generic Name"),e.k0s(),e.j41(22,"th",16),e.EFF(23,"Dosage"),e.k0s(),e.j41(24,"th",16),e.EFF(25,"Dosage Form"),e.k0s()()(),e.j41(26,"tbody",17),e.DNE(27,se,9,1,"tr",18)(28,de,9,8,"tr",19),e.k0s()()()(),e.j41(29,"div",20),e.DNE(30,ae,26,11,"div",21),e.k0s()()()(),e.nrm(31,"div",22)),2&o&&(e.R7$(8),e.R50("ngModel",i.search_item),e.R7$(2),e.Y8G("icon",i.faSearch),e.R7$(2),e.Y8G("icon",i.faCircleXmark),e.R7$(15),e.Y8G("ngIf",0===(null==i.drug_list?null:i.drug_list.length)),e.R7$(),e.Y8G("ngForOf",i.drug_list),e.R7$(2),e.Y8G("ngIf",(null==i.drug_list?null:i.drug_list.length)>=1))},dependencies:[r.YU,r.Sq,r.bT,v.aY,d.me,d.BC,d.vS],encapsulation:2})}}return n})();const ue=n=>({"bg-gray-50":n});function _e(n,s){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.JRh(t.value)}}function ce(n,s){if(1&n&&(e.j41(0,"div",17)(1,"div",18)(2,"ul",19),e.DNE(3,_e,2,1,"li",20),e.nI1(4,"keyvalue"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_error))}}function me(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td",22)(2,"div",23)(3,"div",24),e.EFF(4," No records found... "),e.k0s(),e.j41(5,"div",25)(6,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showAdd())}),e.nrm(7,"fa-icon",27),e.EFF(8," Add "),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("icon",t.faAdd)}}function ge(n,s){if(1&n&&(e.j41(0,"span",38),e.nrm(1,"br"),e.EFF(2),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.konsulta_medicine.desc)}}function pe(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.EFF(2),e.k0s(),e.j41(3,"td",29)(4,"span",30),e.EFF(5),e.k0s(),e.EFF(6),e.DNE(7,ge,3,1,"span",31),e.k0s(),e.j41(8,"td",32),e.EFF(9),e.k0s(),e.j41(10,"td",33),e.EFF(11),e.nrm(12,"br"),e.EFF(13),e.nrm(14,"br"),e.EFF(15),e.nI1(16,"currency"),e.k0s(),e.j41(17,"td",32),e.EFF(18),e.k0s(),e.j41(19,"td",32)(20,"button",34),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.showEdit(i))}),e.nrm(21,"fa-icon",35),e.k0s(),e.j41(22,"button",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleModal("delete-item",i))}),e.nrm(23,"fa-icon",37),e.k0s()()()}if(2&n){let t;const o=s.$implicit,i=s.odd,l=e.XpG(2);e.Y8G("ngClass",e.eq3(19,ue,i)),e.R7$(2),e.SpI(" ",o.brand_name," "),e.R7$(3),e.JRh(o.konsulta_medicine?o.konsulta_medicine.generic.desc:""),e.R7$(),e.SpI(" ",null!==(t=o.added_medicine)&&void 0!==t?t:""," "),e.R7$(),e.Y8G("ngIf",o.konsulta_medicine),e.R7$(2),e.Lme(" ",o.dosage_quantity," ",o.unit_of_measurement.desc+" ("+o.unit_of_measurement.code+")"," "),e.R7$(2),e.SpI(" ",o.regimen.desc," "),e.R7$(2),e.Lme(" ",o.duration_intake," ",o.frequency.desc," "),e.R7$(2),e.E5c(" ",o.quantity," ",o.preparation.desc," | ",e.i5U(16,16,o.unit_price,"PHP")," "),e.R7$(3),e.SpI(" ",o.medicine_route.desc," "),e.R7$(3),e.Y8G("icon",l.faEdit),e.R7$(2),e.Y8G("icon",l.faTrashCan)}}function fe(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,me,9,1,"tr",13)(2,pe,24,21,"tr",21),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0===(null==t.drug_list?null:t.drug_list.length)),e.R7$(),e.Y8G("ngForOf",t.drug_list)}}function he(n,s){if(1&n&&(e.j41(0,"tbody")(1,"tr")(2,"td",39)(3,"div",40)(4,"span",41),e.nrm(5,"fa-icon",42),e.k0s(),e.j41(6,"span",41),e.EFF(7," Loading list... "),e.k0s()()()()()),2&n){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faCircleNotch)}}function be(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",43)(2,"div",44)(3,"div")(4,"p",45),e.EFF(5," Showing "),e.j41(6,"span",46),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",46),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",46),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.j41(15,"div")(16,"nav",47)(17,"button",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(1))}),e.nrm(18,"fa-icon",49),e.k0s(),e.j41(19,"button",50),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.current_page-1))}),e.nrm(20,"fa-icon",49),e.EFF(21,"Previous "),e.k0s(),e.j41(22,"button",50),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.current_page+1))}),e.EFF(23," Next"),e.nrm(24,"fa-icon",51),e.k0s(),e.j41(25,"button",52),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadDrugs(i.last_page))}),e.nrm(26,"fa-icon",51),e.k0s()()()()()()}if(2&n){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}function ve(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-lib-drug-list",53),e.bIt("showAdd",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.showAdd(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("search_item",t.search_item)}}function ke(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-drug-form",54),e.bIt("showEdit",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.showEdit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_drug",t.selected_drug)}}function ye(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-delete-item",55),e.bIt("toggleModal",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("delete_id",t.delete_id)("delete_desc",t.delete_desc)("url",t.url)}}const Fe=[{path:"",component:(()=>{class n{showEdit(t){t&&(this.selected_drug=t),this.show_drug_form=!this.show_drug_form,!1===this.show_drug_form&&(this.search_item=null,this.loadDrugs())}showAdd(t){this.selected_drug=null,"new"===t?this.show_drug_form=!0:t&&(this.selected_drug=t,this.show_drug_form=!0),this.show_lib_drug=!this.show_lib_drug}toggleModal(t,o){o&&(this.delete_id=o.id),this.modal[t]=!this.modal[t],"delete-item"===t&&!1===this.modal[t]&&this.loadDrugs()}loadDrugs(t){this.is_loading=!0;let o={params:{}};this.search_item&&(o.params["filter[search]"]=this.search_item),t&&(o.params.page=t),o.params.per_page=this.per_page,this.http.get("medicine/list",o).subscribe({next:i=>{this.drug_list=i.data,this.current_page=i.meta.current_page,this.last_page=i.meta.last_page,this.from=i.meta.from,this.to=i.meta.to,this.total=i.meta.total,this.is_loading=!1},error:i=>{this.http.showError(i.error.message,"Loading list..."),this.is_loading=!1}})}constructor(t){this.http=t,this.faAnglesLeft=c.rNr,this.faChevronLeft=c.Wzs,this.faChevronRight=c.XkK,this.faAnglesRight=c.up_,this.faSearch=c.MjD,this.faEdit=c.MT7,this.faAdd=c.vkJ,this.faCircleNotch=c.s4k,this.faTrashCan=C.sjs,this.is_loading=!1,this.show_lib_drug=!1,this.show_drug_form=!1,this.per_page=10,this.modal=[],this.url="medicine/list/",this.delete_desc="Medicine List"}ngOnInit(){this.loadDrugs()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(b.k))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-drugs"]],standalone:!1,decls:37,vars:9,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search drugs",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-3"],[4,"ngIf"],[3,"search_item","showAdd",4,"ngIf"],[3,"selected_drug","showEdit",4,"ngIf"],[3,"delete_id","delete_desc","url","toggleModal",4,"ngIf"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],["colspan","9"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"bg-white","border-t",3,"ngClass"],[1,"py-4","px-3"],[1,"font-semibold"],["class","text-xs font-normal",4,"ngIf"],[1,"py-4","px-3","text-center"],[1,"py-4","px-3","font-normal"],["type","button",3,"click"],[1,"text-amber-500",3,"icon"],[1,"ml-2",3,"click"],[1,"text-rose-500",3,"icon"],[1,"text-xs","font-normal"],["colspan","8",1,"text-center","py-12"],[1,"grid","grid-cols-1","w-full"],[1,"flex","justify-center"],["animation","spin",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-3"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[3,"showAdd","search_item"],[3,"showEdit","selected_drug"],[3,"toggleModal","delete_id","delete_desc","url"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4," Drug List "),e.k0s(),e.j41(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(p){return e.DH7(i.search_item,p)||(i.search_item=p),p}),e.bIt("keyup.enter",function(){return i.loadDrugs()}),e.k0s(),e.j41(7,"button",6),e.bIt("click",function(){return i.loadDrugs()}),e.nrm(8,"fa-icon",7),e.k0s()()(),e.DNE(9,ce,5,3,"div",8),e.j41(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e.EFF(16,"Brand Name"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Name"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Drug Strength "),e.k0s(),e.j41(21,"th",12),e.EFF(22," Regimen "),e.nrm(23,"br"),e.EFF(24," Duration "),e.nrm(25,"br"),e.EFF(26," Quantity | Unit Price "),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Medicine Route"),e.k0s(),e.j41(29,"th",12),e.EFF(30,"Action"),e.k0s()()(),e.DNE(31,fe,3,2,"tbody",13)(32,he,8,1,"tbody",13),e.k0s()()()(),e.DNE(33,be,27,11,"div",13),e.k0s(),e.DNE(34,ve,1,1,"app-lib-drug-list",14)(35,ke,1,1,"app-drug-form",15)(36,ye,1,3,"app-delete-item",16)),2&o&&(e.R7$(6),e.R50("ngModel",i.search_item),e.R7$(2),e.Y8G("icon",i.faSearch),e.R7$(),e.Y8G("ngIf",i.submit_error),e.R7$(22),e.Y8G("ngIf",!i.is_loading),e.R7$(),e.Y8G("ngIf",i.is_loading),e.R7$(),e.Y8G("ngIf",(null==i.drug_list?null:i.drug_list.length)>=1),e.R7$(),e.Y8G("ngIf",i.show_lib_drug),e.R7$(),e.Y8G("ngIf",i.show_drug_form),e.R7$(),e.Y8G("ngIf",i.modal["delete-item"]))},dependencies:[r.YU,r.Sq,r.bT,v.aY,d.me,d.BC,d.vS,h.c,re,le,r.oe,r.lG],styles:["th[_ngcontent-%COMP%]{text-align:center}"]})}}return n})()}];let Ce=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(Fe),f.iI]})}}return n})(),Re=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[r.MD,Ce,v.dX,d.YN,d.X1,h.c]})}}return n})()},3825:(x,F,_)=>{_.d(F,{c:()=>d});var r=_(4438),f=_(9417),C=_(60),c=_(5383),e=_(3318),b=_(5794);const v=["confirmCode"];let d=(()=>{class h{generateCode(){this.is_loading=!1,this.confirmation_code=null,this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}onSubmit(){this.is_loading=!0,this.confirm_code===this.confirmation_code?this.http.delete(this.url,this.delete_id).subscribe({next:()=>{this.is_loading=!1,this.toastr.error("Record was deleted!"),this.closeModal()},error:m=>{console.log(m),this.is_loading=!1,this.generateCode()}}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}closeModal(){this.toggleModal.emit("delete-item")}constructor(m,u){this.http=m,this.toastr=u,this.toggleModal=new r.bkB,this.faTrash=c.yLS,this.confirm_code="0000",this.is_loading=!1}ngOnChanges(m){this.generateCode()}ngAfterViewInit(){this.inputElement.nativeElement.focus()}static{this.\u0275fac=function(u){return new(u||h)(r.rXU(e.k),r.rXU(b.tw))}}static{this.\u0275cmp=r.VBU({type:h,selectors:[["app-delete-item"]],viewQuery:function(u,a){if(1&u&&r.GBs(v,5),2&u){let g;r.mGM(g=r.lsd())&&(a.inputElement=g.first)}},inputs:{url:"url",delete_id:"delete_id",delete_desc:"delete_desc"},outputs:{toggleModal:"toggleModal"},features:[r.OA$],decls:29,vars:8,consts:[["confirmCode",""],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmCode"],["name","confirmCode","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-[59]","bg-black"]],template:function(u,a){if(1&u){const g=r.RV6();r.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),r.EFF(5),r.k0s()(),r.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),r.EFF(10),r.k0s(),r.j41(11,"div",10)(12,"span",11),r.EFF(13,"Delete Code"),r.k0s(),r.j41(14,"span",12),r.EFF(15),r.k0s()(),r.j41(16,"div",10)(17,"label",13),r.EFF(18,"Enter Code"),r.k0s(),r.j41(19,"input",14,0),r.bIt("keyup.enter",function(){return r.eBV(g),r.Njj(a.onSubmit())}),r.mxI("ngModelChange",function(y){return r.eBV(g),r.DH7(a.confirmation_code,y)||(a.confirmation_code=y),r.Njj(y)}),r.k0s()(),r.j41(21,"div",15)(22,"button",16),r.bIt("click",function(){return r.eBV(g),r.Njj(a.onSubmit())}),r.nrm(23,"fa-icon",17),r.EFF(24," Delete "),r.k0s()()()()(),r.j41(25,"div",18)(26,"button",19),r.bIt("click",function(){return r.eBV(g),r.Njj(a.closeModal())}),r.EFF(27,"Cancel"),r.k0s()()()()(),r.nrm(28,"div",20)}2&u&&(r.R7$(5),r.Lme(" Delete ",a.delete_desc,": ",a.delete_id," "),r.R7$(5),r.SpI(" Your are about to delete a ",a.delete_desc," record for this patient. Please enter the generated delete code in order to proceed. "),r.R7$(5),r.JRh(a.confirm_code),r.R7$(4),r.R50("ngModel",a.confirmation_code),r.R7$(3),r.Y8G("disabled",!a.confirmation_code||a.is_loading),r.R7$(),r.Y8G("icon",a.faTrash),r.R7$(3),r.Y8G("disabled",a.is_loading))},dependencies:[C.dX,C.aY,f.YN,f.me,f.BC,f.vS],encapsulation:2,changeDetection:0})}}return h})()}}]);