"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[5595],{5595:(gt,b,c)=>{c.r(b),c.d(b,{ChildcareModule:()=>ht});var l=c(177),p=c(5237),_=c(5383),e=c(4438),g=c(3318),f=c(60),x=c(9217),k=c(9596),w=c(9206),o=c(9417),m=c(614),S=c(5964),j=c(3294),I=c(152),y=c(8141),E=c(5558),M=c(9437),G=c(6354),R=c(1413),T=c(8793),F=c(7673),v=c(5794),h=c(8761);const D=i=>({"invalid-input":i});function N(i,r){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function $(i,r){if(1&i&&(e.j41(0,"div",32),e.DNE(1,N,2,1,"div",33),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.admission_date.errors?null:t.f.admission_date.errors.required)}}function Y(i,r){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function B(i,r){if(1&i&&(e.j41(0,"div",32),e.DNE(1,Y,2,1,"div",33),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.discharge_date.errors?null:t.f.discharge_date.errors.required)}}function X(i,r){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function V(i,r){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function L(i,r){if(1&i&&(e.j41(0,"div",32),e.DNE(1,X,2,1,"div",33)(2,V,2,0,"div",33),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.birth_weight.errors?null:t.f.birth_weight.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.birth_weight.errors?null:t.f.birth_weight.errors.minlength)}}function A(i,r){if(1&i&&(e.j41(0,"div")(1,"p",35),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.E5c("",null==t.patient_info2?null:t.patient_info2.first_name," ",null==t.patient_info2?null:t.patient_info2.middle_name," ",null==t.patient_info2?null:t.patient_info2.last_name,"")}}function P(i,r){if(1&i&&(e.j41(0,"div",34),e.DNE(1,A,3,3,"div",33),e.j41(2,"div")(3,"p",35),e.EFF(4),e.k0s()()()),2&i){const t=r.item,n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.hideName),e.R7$(3),e.E5c("",null==t?null:t.first_name," ",null==t?null:t.middle_name," ",null==t?null:t.last_name,"")}}function O(i,r){if(1&i&&(e.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),e.EFF(4),e.k0s()()(),e.j41(5,"div")(6,"h5",40),e.EFF(7),e.k0s(),e.j41(8,"h6",41),e.EFF(9),e.k0s(),e.j41(10,"h6",41),e.EFF(11),e.k0s()()()),2&i){const t=r.item,n=r.searchTerm,s=e.XpG();e.R7$(4),e.JRh(s.getInitials(t.last_name+" "+t.first_name)),e.R7$(2),e.Y8G("ngOptionHighlight",n),e.R7$(),e.Lme("",t.last_name,", ",t.first_name,""),e.R7$(2),e.JRh(t.birthdate),e.R7$(2),e.Lme("",t.brgy,", ",t.muncity,"")}}function H(i,r){1&i&&(e.j41(0,"a",42),e.EFF(1," Create a new record"),e.k0s())}function q(i,r){if(1&i&&(e.j41(0,"div",43)(1,"div",7)(2,"p",44),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG();e.R7$(3),e.JRh(t.cpab)}}function z(i,r){if(1&i&&e.nrm(0,"fa-icon",48),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function J(i,r){if(1&i&&e.nrm(0,"fa-icon",49),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function U(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())}),e.DNE(1,z,1,1,"fa-icon",46)(2,J,1,1,"fa-icon",47),e.EFF(3),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save"," ")}}function W(i,r){if(1&i&&e.nrm(0,"fa-icon",48),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function K(i,r){if(1&i&&e.nrm(0,"fa-icon",49),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function Q(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())}),e.DNE(1,W,1,1,"fa-icon",46)(2,K,1,1,"fa-icon",47),e.EFF(3),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Updating":"Update"," ")}}let Z=(()=>{class i{constructor(t,n,s,a){this.formBuilder=t,this.http=n,this.router=s,this.toastr=a,this.loadCcDetails=new e.bkB,this.faSave=m.hSh,this.faSpinner=_.z1G,this.patientLoading=!1,this.searchInput$=new R.B,this.minLengthTerm=3,this.is_saving=!1,this.is_saving2=!0,this.is_saving3=!1,this.is_saving4=!0,this.form_saving=!1,this.required_message="This field is required.",this.visitForm=new o.gE({id:new o.MJ(""),admission_date:new o.MJ(""),discharge_date:new o.MJ(""),birth_weight:new o.MJ(""),mothers_id:new o.MJ(""),patient_id:new o.MJ(""),nbs_filter:new o.MJ("")}),this.showAlert=!1}get f(){return this.visitForm.controls}toggleAlertModal(t){this.modalFilter=t,this.showAlert=!this.showAlert}onSubmit(){this.visitForm.patchValue({admission_date:(0,l.Yq)(this.visitForm.value.admission_date,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila"),discharge_date:(0,l.Yq)(this.visitForm.value.discharge_date,"yyyy-MM-dd HH:mm:ss","en","Asia/Manila")}),this.http.post("child-care/cc-records",this.visitForm.value).subscribe({next:t=>{this.loadCcDetails.emit(this.patient_info)},error:t=>{console.log(t),this.is_saving=!1,this.showToastrErr()},complete:()=>{this.is_saving=!1,this.patient_info?this.showToastrUpd():this.showToastr()}})}validateForm(){let t=this.http.getUserID();this.visitForm=this.formBuilder.group({id:["",[o.k0.required]],admission_date:["",[o.k0.required]],discharge_date:["",[o.k0.required]],birth_weight:["",[o.k0.required,o.k0.minLength(1)]],mothers_id:["",[o.k0.required,o.k0.minLength(2)]],patient_id:[this.patient_details.id,[o.k0.required,o.k0.minLength(2)]],user_id:[t,[o.k0.required,o.k0.minLength(2)]],ccdev_ended:["0",[o.k0.required,o.k0.minLength(2)]],nbs_filter:["",[o.k0.required,o.k0.minLength(2)]]})}getInitials(t){return[...t.matchAll(/\b\w/g)].join("")}getccdevDetails(t){this.patient_info=this.ccdev_data??t,this.getccdevMama(),this.visitForm.patchValue({...this.patient_info}),console.log(this.patient_info),this.patient_info&&"CPAB"==this.patient_info.status&&(this.cpab="Child Protected at Birth")}getccdevMama(){this.patient_info&&this.patient_info.mothers_id&&this.http.get("patient/"+this.patient_info?.mothers_id).subscribe({next:t=>{this.patient_info2=t.data,console.log(this.patient_info2,"info ccdev mama first visit")},error:t=>console.log(t)})}hideItemName(){this.hideName=0!=this.patient_listing}loadPatients(){this.patients$=(0,T.x)((0,F.of)([]),this.searchInput$.pipe((0,S.p)(t=>null!==t&&t.length>=this.minLengthTerm),(0,j.F)(),(0,I.B)(800),(0,y.M)(()=>this.patientLoading=!0),(0,E.n)(t=>this.getPatient(t).pipe((0,M.W)(()=>(0,F.of)([])),(0,y.M)(()=>this.patientLoading=!1)))))}getPatient(t=null){return this.http.get("patient",{params:{"filter[search]":t}}).pipe((0,G.T)(n=>(this.patient_listing=n.data,n.data)))}showToastr(){this.toastr.success("Successfully saved!","Admission Info")}showToastrUpd(){this.toastr.success("Successfully Updated!","Admission Info")}showToastrErr(){this.toastr.warning("Error in Saving!","Admission Info")}ngOnChanges(t){this.patient_info=this.ccdev_data,this.getccdevDetails(null)}ngOnInit(){this.validateForm(),this.saved=!0,this.getccdevDetails(null),this.loadPatients()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(o.ok),e.rXU(g.k),e.rXU(p.Ix),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-first-visit"]],inputs:{ccdev_data:"ccdev_data",patient_details:"patient_details"},outputs:{loadCcDetails:"loadCcDetails"},standalone:!1,features:[e.OA$],decls:61,vars:17,consts:[[1,"flex","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[3,"submit","formGroup"],[1,"card","mb-6"],[1,"card-header","bg-blue-500"],[1,"font-semibold","text-white","text-sm","uppercase"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2"],[1,"relative"],[1,"flex","absolute","inset-y-0","left-0","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-calendar-time","text-blue-500"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"],["cx","18","cy","18","r","4"],["d","M15 3v4"],["d","M7 3v4"],["d","M3 11h16"],["d","M18 16.496v1.504l1 1"],["type","datetime-local","placeholder","Select Date and Time","placeholder","Select date","formControlName","admission_date","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["class","invalid-alert mt-1",4,"ngIf"],["type","datetime-local","placeholder","Select Date and Time","placeholder","Select date","formControlName","discharge_date","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-scale-outline","text-blue-500"],["x","3","y","3","width","18","height","18","rx","4"],["d","M12 7c1.956 0 3.724 .802 4.994 2.095l-2.956 2.904a3 3 0 0 0 -2.038 -.799a3 3 0 0 0 -2.038 .798l-2.956 -2.903a6.979 6.979 0 0 1 4.994 -2.095z"],["type","number","placeholder","Input weight","formControlName","birth_weight","required","",1,"mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input",3,"ngClass"],["placeholder","Search Mother","typeToSearchText","Search Mother's Name","bindValue","id","formControlName","mothers_id",1,"search-custom","mt-1",3,"change","items","minTermLength","loading","typeahead","clearable"],["ng-label-tmp","",1,""],["ng-option-tmp",""],["ng-footer-tmp",""],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-10 py-2 mt-2 select-none",4,"ngIf"],[1,"flex","w-full","flex-col","px-5","pt-3"],["type","button","class","btn-add ml-auto mr-5",3,"click",4,"ngIf"],[1,"invalid-alert","mt-1"],[4,"ngIf"],[1,"flex"],[1,""],[1,"grid","grid-flow-col","auto-cols-max"],[1,"my-auto","mr-3"],[1,"inline-flex","overflow-hidden","relative","justify-center","items-center","w-14","h-14","bg-gray-100","rounded-full","dark:bg-gray-600"],[1,"font-medium","text-gray-600","dark:text-gray-300"],[1,"text-blue-400",3,"ngOptionHighlight"],[1,"text-muted"],["routerLink","/registration",1,"text-blue-600"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2","select-none"],[1,"bg-green-50","mt-1","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","font-semibold"],["type","button",1,"btn-add","ml-auto","mr-5",3,"click"],["class","mr-1",3,"icon",4,"ngIf"],["class","mr-1","animation","spin",3,"icon",4,"ngIf"],[1,"mr-1",3,"icon"],["animation","spin",1,"mr-1",3,"icon"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"FIRST VISIT"),e.k0s()(),e.j41(3,"form",2),e.bIt("submit",function(){return s.onSubmit()}),e.j41(4,"div",3)(5,"div",4)(6,"h4",5),e.EFF(7,"Admission Information"),e.k0s()(),e.j41(8,"div",6)(9,"label"),e.EFF(10,"Admission Date & Time"),e.k0s(),e.j41(11,"div",7)(12,"div",8),e.qSk(),e.j41(13,"svg",9),e.nrm(14,"path",10)(15,"path",11)(16,"circle",12)(17,"path",13)(18,"path",14)(19,"path",15)(20,"path",16),e.k0s()(),e.joV(),e.nrm(21,"input",17),e.k0s(),e.DNE(22,$,2,1,"div",18),e.k0s(),e.j41(23,"div",6)(24,"label"),e.EFF(25,"Discharge Date & Time"),e.k0s(),e.j41(26,"div",7)(27,"div",8),e.qSk(),e.j41(28,"svg",9),e.nrm(29,"path",10)(30,"path",11)(31,"circle",12)(32,"path",13)(33,"path",14)(34,"path",15)(35,"path",16),e.k0s()(),e.joV(),e.nrm(36,"input",19),e.k0s(),e.DNE(37,B,2,1,"div",18),e.k0s(),e.j41(38,"div",20)(39,"label"),e.EFF(40,"Weight at Birth (kg)"),e.k0s(),e.j41(41,"div",7)(42,"div",8),e.qSk(),e.j41(43,"svg",21),e.nrm(44,"path",10)(45,"rect",22)(46,"path",23),e.k0s()(),e.joV(),e.nrm(47,"input",24),e.k0s(),e.DNE(48,L,3,2,"div",18),e.k0s(),e.j41(49,"div",20)(50,"label"),e.EFF(51,"Mother's Name"),e.k0s(),e.j41(52,"ng-select",25),e.nI1(53,"async"),e.bIt("change",function(){return s.hideItemName()}),e.DNE(54,P,5,4,"ng-template",26)(55,O,12,7,"ng-template",27)(56,H,2,0,"ng-template",28),e.k0s()(),e.DNE(57,q,4,1,"div",29),e.j41(58,"div",30),e.DNE(59,U,4,3,"button",31)(60,Q,4,3,"button",31),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",s.visitForm),e.R7$(19),e.Y8G("ngIf",s.form_saving&&s.f.admission_date.errors),e.R7$(15),e.Y8G("ngIf",s.form_saving&&s.f.discharge_date.errors),e.R7$(10),e.Y8G("ngClass",e.eq3(15,D,s.form_saving&&s.f.birth_weight.errors)),e.R7$(),e.Y8G("ngIf",s.form_saving&&s.f.birth_weight.errors),e.R7$(4),e.Y8G("items",e.bMT(53,13,s.patients$))("minTermLength",s.minLengthTerm)("loading",s.patientLoading)("typeahead",s.searchInput$)("clearable",!0),e.R7$(5),e.Y8G("ngIf",null!==(null==s.patient_info?null:s.patient_info.status)),e.R7$(2),e.Y8G("ngIf",!s.patient_info),e.R7$(),e.Y8G("ngIf",s.patient_info))},dependencies:[l.YU,l.bT,p.Wk,f.aY,o.qT,o.me,o.Q0,o.BC,o.cb,o.YS,o.j4,o.JD,h.vr,h.Uq,h.ZZ,h.q8,l.Jj],styles:[".ng-clear-wrapper[_ngcontent-%COMP%]{display:none}"]})}}return i})();const ee=[{group:"Essential",services:[{service_id:"CCCCCCCCCCCCCCC",service_desc:"Cord Clamping"},{service_id:"DRY",service_desc:"Drying"},{service_id:"NONSEPA",service_desc:"Non-Separation"},{service_id:"PRX",service_desc:"Prophylaxis"},{service_id:"STS",service_desc:"Skin to Skin"},{service_id:"VITK",service_desc:"Vitamin K"},{service_id:"WEIGH",service_desc:"Weighing"}]},{group:"Services",services:[{service_id:"TD",service_desc:"Tetanus Dipteria"}]}];function te(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal("Y"))}),e.nrm(1,"fa-icon",15),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("icon",t.faPenToSquare)}}function ie(i,r){if(1&i&&(e.j41(0,"span",19)(1,"span",20),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.services.service_name),e.R7$(2),e.SpI("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public"," - ")}}function se(i,r){if(1&i&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.service_date?e.brH(2,1,t.service_date,"MM/dd/yyyy","Asia/Manila"):"-",") ")}}function ne(i,r){if(1&i&&(e.j41(0,"div",16),e.DNE(1,ie,5,2,"span",17)(2,se,3,5,"span",18),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.Y8G("ngIf","Y"===t.services.essential),e.R7$(),e.Y8G("ngIf","Y"===t.services.essential)}}function re(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",22)(1,"p",23),e.EFF(2,"No Recorded Essential Services!"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal("Y"))}),e.nrm(4,"fa-icon",25),e.EFF(5," Add "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("icon",t.faPlus)}}function ae(i,r){1&i&&(e.j41(0,"h3",45),e.EFF(1," Essential Newborn Care "),e.k0s())}function oe(i,r){1&i&&(e.j41(0,"h3",45),e.EFF(1," Services "),e.k0s())}function ce(i,r){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"input",56),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2).$implicit,d=e.XpG(2);return e.DH7(d.serviceForm.service_date[a.service_id],s)||(d.serviceForm.service_date[a.service_id]=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(),e.FS9("name","service_date."+t.service_id),e.FS9("id","service_date."+t.service_id),e.R50("ngModel",n.serviceForm.service_date[t.service_id])}}function de(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"label"),e.EFF(2,"NBS Filter Number"),e.k0s(),e.j41(3,"input",58),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(4);return e.DH7(a.patient_info.nbs_filter,s)||(a.patient_info.nbs_filter=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(4);e.R7$(3),e.R50("ngModel",t.patient_info.nbs_filter)}}function le(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"label"),e.EFF(2,"Quantity"),e.k0s(),e.j41(3,"input",59),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2).$implicit,d=e.XpG(2);return e.DH7(d.serviceForm.quantity[a.service_id],s)||(d.serviceForm.quantity[a.service_id]=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(3),e.FS9("name","quantity."+t.service_id),e.FS9("id","quantity."+t.service_id),e.R50("ngModel",n.serviceForm.quantity[t.service_id])}}function _e(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"label"),e.EFF(2,"Quantity"),e.k0s(),e.j41(3,"input",59),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2).$implicit,d=e.XpG(2);return e.DH7(d.serviceForm.quantity[a.service_id],s)||(d.serviceForm.quantity[a.service_id]=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(3),e.FS9("name","quantity."+t.service_id),e.FS9("id","quantity."+t.service_id),e.R50("ngModel",n.serviceForm.quantity[t.service_id])}}function pe(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"label",49),e.EFF(2),e.k0s(),e.j41(3,"select",50),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG().$implicit,d=e.XpG(2);return e.DH7(d.serviceForm.service_status[a.service_id],s)||(d.serviceForm.service_status[a.service_id]=s),e.Njj(s)}),e.j41(4,"option"),e.EFF(5,"-"),e.k0s(),e.j41(6,"option",51),e.EFF(7,"Done"),e.k0s(),e.j41(8,"option",52),e.EFF(9,"Done Outside - Private"),e.k0s(),e.j41(10,"option",53),e.EFF(11,"Done Outside - Public"),e.k0s()(),e.DNE(12,ce,2,3,"div",54)(13,de,4,1,"div",55)(14,le,4,3,"div",55)(15,_e,4,3,"div",55),e.k0s()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.FS9("for",t.service_id),e.R7$(),e.SpI("",t.service_name," "),e.R7$(),e.FS9("id","service_status."+t.service_id),e.FS9("name","service_status."+t.service_id),e.R50("ngModel",n.serviceForm.service_status[t.service_id]),e.R7$(9),e.Y8G("ngIf","-"!==n.serviceForm.service_status[t.service_id]&&""!==n.serviceForm.service_status[t.service_id]&&void 0!==n.serviceForm.service_status[t.service_id]),e.R7$(),e.Y8G("ngIf","-"!==n.serviceForm.service_status.NBSDONE&&""!==n.serviceForm.service_status.NBSDONE&&void 0!==n.serviceForm.service_status.NBSDONE&&"NBSDONE"===t.service_id),e.R7$(),e.Y8G("ngIf","-"!==n.serviceForm.service_status.MNP&&""!==n.serviceForm.service_status.MNP&&void 0!==n.serviceForm.service_status.MNP&&"MNP"===t.service_id),e.R7$(),e.Y8G("ngIf","-"!==n.serviceForm.service_status.MNP2&&""!==n.serviceForm.service_status.MNP2&&void 0!==n.serviceForm.service_status.MNP2&&"MNP2"===t.service_id)}}function fe(i,r){if(1&i&&(e.j41(0,"div",46),e.DNE(1,pe,16,9,"div",47),e.k0s()),2&i){const t=r.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.essential===n.modalFilter)}}function me(i,r){if(1&i&&e.nrm(0,"fa-icon",60),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function he(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),e.DNE(4,ae,2,0,"h3",30)(5,oe,2,0,"h3",30),e.j41(6,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal())}),e.qSk(),e.j41(7,"svg",32),e.nrm(8,"path",33),e.k0s(),e.joV(),e.j41(9,"span",34),e.EFF(10,"Close modal"),e.k0s()()(),e.j41(11,"div",35)(12,"form",36),e.nrm(13,"div",37),e.j41(14,"div",38),e.DNE(15,fe,2,1,"div",39),e.k0s(),e.nrm(16,"div",40),e.k0s()(),e.j41(17,"div",41)(18,"button",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal())}),e.EFF(19,"Close"),e.k0s(),e.j41(20,"button",43),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.saveModal())}),e.DNE(21,me,1,1,"fa-icon",44),e.EFF(22),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf","Y"===t.modalFilter),e.R7$(),e.Y8G("ngIf","N"===t.modalFilter),e.R7$(10),e.Y8G("ngForOf",t.lib_ccservices),e.R7$(6),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save","")}}function ue(i,r){1&i&&e.nrm(0,"div",61)}function ge(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal("N"))}),e.nrm(1,"fa-icon",15),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("icon",t.faPenToSquare)}}function ve(i,r){if(1&i&&(e.j41(0,"span",19)(1,"span",20),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.services.service_name),e.R7$(2),e.SpI("(",1===t.status_id?"Done":2===t.status_id?"Done Outside - Private":"Done Outside - Public"," - ")}}function be(i,r){if(1&i&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.service_date?e.brH(2,1,t.service_date,"MM/dd/yyyy","Asia/Manila"):"-",") ")}}function xe(i,r){if(1&i&&(e.j41(0,"div",16),e.DNE(1,ve,5,2,"span",17)(2,be,3,5,"span",18),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.Y8G("ngIf","N"===t.services.essential),e.R7$(),e.Y8G("ngIf","N"===t.services.essential)}}function ke(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",22)(1,"p",23),e.EFF(2,"No Recorded Services!"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEssentialModal("N"))}),e.nrm(4,"fa-icon",25),e.EFF(5," Add "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("icon",t.faPlus)}}function ye(i,r){if(1&i){const t=e.RV6();e.j41(0,"td",83)(1,"div",71)(2,"input",84),e.bIt("change",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.changeSelection2())}),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG().$implicit;return e.DH7(a.ischecked,s)||(a.ischecked=s),e.Njj(s)}),e.k0s()()()}if(2&i){const t=e.XpG().$implicit;e.R7$(2),e.FS9("id",t.id),e.R50("ngModel",t.ischecked),e.Y8G("checked",t.ischecked)}}function Fe(i,r){if(1&i&&(e.j41(0,"td",85)(1,"label",86),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(),e.FS9("for",t.service_id),e.R7$(),e.JRh(t.service_name)}}function Ce(i,r){if(1&i){const t=e.RV6();e.j41(0,"td",87)(1,"input",88),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG().$implicit;return e.DH7(a.service_date,s)||(a.service_date=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG().$implicit;e.R7$(),e.R50("ngModel",t.service_date)}}function we(i,r){if(1&i&&(e.j41(0,"option",92),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.desc)}}function Se(i,r){if(1&i){const t=e.RV6();e.j41(0,"td",89)(1,"select",90),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG().$implicit;return e.DH7(a.done_outside,s)||(a.done_outside=s),e.Njj(s)}),e.DNE(2,we,2,2,"option",91),e.k0s()()}if(2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.R50("ngModel",t.done_outside),e.R7$(),e.Y8G("ngForOf",n.libOptions)}}function je(i,r){if(1&i&&(e.j41(0,"tr",78),e.DNE(1,ye,3,3,"td",79)(2,Fe,3,2,"td",80)(3,Ce,2,1,"td",81)(4,Se,3,2,"td",82),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.Y8G("ngIf","Y"===t.service_cat),e.R7$(),e.Y8G("ngIf","Y"===t.service_cat),e.R7$(),e.Y8G("ngIf","Y"===t.service_cat),e.R7$(),e.Y8G("ngIf","Y"===t.service_cat)}}function Ie(i,r){if(1&i&&e.nrm(0,"fa-icon",60),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function Ee(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",62)(1,"div",63)(2,"div",28)(3,"div",64)(4,"h3",65),e.EFF(5," Services "),e.k0s(),e.j41(6,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleServiceModal())}),e.qSk(),e.j41(7,"svg",32),e.nrm(8,"path",33),e.k0s(),e.joV(),e.j41(9,"span",34),e.EFF(10,"Close modal"),e.k0s()()(),e.j41(11,"div",66)(12,"table",67)(13,"thead",68)(14,"tr",69)(15,"th",70)(16,"div",71),e.nrm(17,"input",72),e.j41(18,"label",73),e.EFF(19,"checkbox"),e.k0s()()(),e.j41(20,"th",74),e.EFF(21," Service Name "),e.k0s(),e.j41(22,"th",75),e.EFF(23," Service Date "),e.k0s(),e.j41(24,"th",76),e.EFF(25," Done Outside Facility "),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,je,5,4,"tr",77),e.k0s()()(),e.j41(28,"div",41)(29,"button",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleServiceModal())}),e.EFF(30,"Close"),e.k0s(),e.j41(31,"button",43),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.submit2())})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.saveModal())}),e.DNE(32,Ie,1,1,"fa-icon",44),e.EFF(33),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(27),e.Y8G("ngForOf",t.lib_ccservices),e.R7$(5),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save","")}}function Me(i,r){1&i&&e.nrm(0,"div",61)}function Ge(i,r){1&i&&(e.j41(0,"label",98),e.EFF(1,"Data Successfully Saved!"),e.k0s())}function Re(i,r){1&i&&(e.j41(0,"label",98),e.EFF(1,"Error in Saving! Please check required fields"),e.k0s())}function Te(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",62)(1,"div",93)(2,"div",28)(3,"div",64)(4,"h3",65),e.EFF(5," Alert "),e.k0s(),e.j41(6,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleAlertModal())}),e.qSk(),e.j41(7,"svg",32),e.nrm(8,"path",33),e.k0s(),e.joV(),e.j41(9,"span",34),e.EFF(10,"Close modal"),e.k0s()()(),e.j41(11,"div",94)(12,"table",95)(13,"thead",68),e.nrm(14,"tr",69),e.k0s(),e.j41(15,"tbody")(16,"div",96),e.DNE(17,Ge,2,0,"label",97)(18,Re,2,0,"label",97),e.k0s()()()(),e.j41(19,"div",41)(20,"button",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleAlertModal())}),e.EFF(21,"Close"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(17),e.Y8G("ngIf","S"===t.alertFilter),e.R7$(),e.Y8G("ngIf","E"===t.alertFilter)}}function De(i,r){1&i&&e.nrm(0,"div",99)}let Ne=(()=>{class i{toggleAlertModal(t){this.alertFilter=t,this.showAlert=!this.showAlert}toggleEssentialModal(t){console.log("toggleEssentialModal"),this.modalFilter=t,this.showEssentialModal=!this.showEssentialModal,this.loadServicesTest(),this.getccdevDetails()}toggleServiceModal(){this.showServiceModal=!this.showServiceModal,this.getServices()}toggleVaccineModal(){this.showVaccineModal=!this.showVaccineModal}saveModal(){this.is_saving=!0,setTimeout(()=>{this.is_saving=!1},1500)}geteServiceName(){localStorage.getItem("eservice")||localStorage.setItem("eservice",JSON.stringify([])),this.x=JSON.parse(localStorage.getItem("eservice")),console.log("retrievedeServices: ",this.x),this.x.forEach(t=>{let n=this.eservices2.findIndex(s=>s.id===t.id);-1!=n&&this.eservices2.splice(n,1),this.eservices2.push({id:t.id,name:t.name,cc_id:t.cc_id,ischecked:t.ischecked,service_date:t.service_date})}),this.eservices2.sort((t,n)=>t.id-n.id)}getServices(){localStorage.getItem("service")||localStorage.setItem("service",JSON.stringify([])),this.cservices=JSON.parse(localStorage.getItem("service")),console.log("retrievedServices: ",this.cservices),this.cservices.forEach(t=>{let n=this.services.findIndex(s=>s.id===t.id);-1!=n&&this.services.splice(n,1),this.services.push({id:t.id,name:t.name,cc_id:t.cc_id,ischecked:t.ischecked,service_date:t.service_date,date:t.date,done_outside:t.done_outside})}),this.services.sort((t,n)=>t.id-n.id)}fetchSelectedItems(){this.selectedServiceList=this.eservices2.filter((t,n)=>(t.ischecked||(this.eservices2[n].service_date=""),console.log("fetchSelectedItems"),t.ischecked))}setDate(t){this.selectedServiceList=this.lib_ccservices.filter((n,s)=>(n.ischecked&&s==t?this.lib_ccservices[s].service_date=this.defaultDate:!n.ischecked&&s==t&&(this.lib_ccservices[s].service_date=""),n.ischecked))}setDate2(t){this.selectedServiceList=this.services.filter((n,s)=>(n.ischecked&&s==t?this.services[s].service_date=this.defaultDate:!n.ischecked&&s==t&&(this.services[s].service_date=""),n.ischecked))}fetchSelectedItems2(){this.selectedServiceList2=this.services.filter((t,n)=>(t.ischecked||(this.services[n].service_date="",this.services[n].done_outside=""),t.ischecked))}submit(){this.selectedServiceList=this.eservices2.filter((t,n)=>(localStorage.setItem("eservice",JSON.stringify(this.selectedServiceList)),this.x=this.selectedServiceList))}submit2(){this.selectedServiceList2=this.services.filter((t,n)=>(localStorage.setItem("service",JSON.stringify(this.selectedServiceList2)),this.cservices=this.selectedServiceList2))}fetchCheckedIDs(){this.checkedIDs=[],this.eservices2.forEach((t,n)=>{t.ischecked&&this.checkedIDs.push(t.id)})}fetchCheckedIDs2(){this.checkedIDs=[],this.services.forEach((t,n)=>{t.ischecked&&this.checkedIDs.push(t.id)})}changeSelection(t){this.setDate(t)}changeSelection2(t){this.setDate2(t),this.fetchSelectedItems2()}checkUncheckAll(t){this.eservices2.forEach(n=>n.ischecked=t.target.checked)}constructor(t,n){this.http=t,this.toastr=n,this.selectedServiceList=[],this.selectedServiceList2=[],this.checkedIDs=[],this.checkedIDs2=[],this.faSearch=_.MjD,this.faPlus=_.QLR,this.faInfoCircle=_.iW_,this.faSpinner=_.s4k,this.faPlusSquare=m.CHJ,this.faPenToSquare=m.LFz,this.faSave=m.hSh,this.is_saving=!1,this.defaultDate=(new Date).toLocaleDateString("en-CA"),this.services=[{id:1,name:"Complementary Feeding",cc_id:"FEED",date:"Mar 24 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:2,name:"Dental Checkup",cc_id:"DENTAL",date:"Mar 12 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:3,name:"Deworming",cc_id:"DEWORM",date:"Mar 01 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:4,name:"Iron Intake",cc_id:"IRON",date:"Mar 26 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:5,name:"Newborn Hearing Screening",cc_id:"NBHS",date:"Mar 14 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:6,name:"Newborn Screening Done",cc_id:"NBSDONE",date:"Mar 12 2012 10:00:00 AM",ishecked:!1,service_date:"",done_outside:""},{id:7,name:"Newborn Screening Referred",cc_id:"NBSREF",date:"Mar 15 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:8,name:"Received Micronutrient Powder",cc_id:"MNP",date:"Mar 09 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""},{id:9,name:"Vitamin A",cc_id:"VITA",date:"Mar 13 2012 10:00:00 AM",ischecked:!1,service_date:"",done_outside:""}],this.eservices2=[{id:1,name:"Cord Clamping",cc_id:"CLAMP",ischecked:!1,service_date:""},{id:2,name:"Drying",cc_id:"DRYING",ischecked:!1,service_date:""},{id:3,name:"Non-Separation",cc_id:"NONSEP",ischecked:!1,service_date:""},{id:4,name:"Prophylaxis",cc_id:"PROP",ischecked:!1,service_date:""},{id:5,name:"Skin to Skin",cc_id:"SKIN",ischecked:!1,service_date:""},{id:6,name:"Vitamin K",cc_id:"VITK",ishecked:!1,service_date:""},{id:7,name:"Weighing",cc_id:"WEIGHT",ischecked:!1,service_date:""}],this.libReasons=[{value:"R",id:"1",desc:"infant nutrition"},{value:"W",id:"2",desc:"maternal illness"},{value:"W",id:"2",desc:"infant illness"},{value:"W",id:"2",desc:"lactation and milk-pumping problems"},{value:"W",id:"2",desc:"mother returns to work"},{value:"W",id:"2",desc:"introduced water or solid food"}],this.libOptions=[{value:"YPR",id:"1",desc:"Yes - Private"},{value:"YPB",id:"2",desc:"Yes - Public"},{value:"N",id:"3",desc:"No"}],this.showEssentialModal=!1,this.serviceForm={service_status:[],service_date:[],quantity:[]},this.services_given=[],this.service_list=ee,this.showAlert=!1,this.showServiceModal=!1,this.showVaccineModal=!1,this.services.sort(function(s,a){return s.date.localeCompare(a.date)})}loadCCLibraries(){this.loadServices(),this.http.get("libraries/cc-services").subscribe(t=>{this.lib_ccservices=t.data,console.log(this.lib_ccservices,"cc dev services library")})}submitNBS(){this.http.update("child-care/cc-records/",this.patient_info.id,{nbs_filter:this.patient_info?this.patient_info.nbs_filter:null}).subscribe({error:n=>console.log(n),complete:()=>{this.is_saving=!1}})}onSubmit(){this.submitNBS();var t=[];if(console.log(this.serviceForm),Object.entries(this.serviceForm.service_status).forEach(([s,a],d)=>{"-"!=a&&(t.push({service_id:s,service_date:this.serviceForm.service_date[s]?this.serviceForm.service_date[s]:null,status_id:a,quantity:this.serviceForm.quantity[s]?this.serviceForm.quantity[s]:null}),console.log(this.serviceForm.quantity[s],"check quantity if working"))}),t.length>0){let s=this.http.getUserID();var n={essential:this.modalFilter,patient_id:this.patient_details.id,user_id:s,services:t};console.log(n,"ito ung isusubmit"),this.http.post("child-care/cc-services",n).subscribe({next:d=>{console.log(d,"display lahat ng services")},error:d=>{console.log(d),"Y"==n.essential?this.showToastrErrY():this.showToastrErrN()},complete:()=>{"Y"==n.essential?this.showToastrY():this.showToastrN()}})}}findEssential(t,n){return t.filter(s=>s.services.essential===n)}findServices(t){return t.filter(n=>"N"==n.services.essential)}loadServicesTest(){this.http.get("child-care/cc-services",{params:{patient_id:this.patient_details.id,sort:"service_id"}}).subscribe({next:t=>{console.log(t),this.service_list=t.data,t.data.forEach(n=>{this.serviceForm.service_status[n.service_id]=n.status_id,this.serviceForm.service_date[n.service_id]=n.service_date,this.serviceForm.quantity[n.service_id]=n.quantity})},error:t=>console.log(t),complete:()=>console.log(this.service_list,"services loaded")})}loadServices(){this.http.get("child-care/cc-services",{params:{patient_id:this.patient_details.id,sort:"service_id"}}).subscribe({next:t=>{this.cc_newborn=t.data},error:t=>console.log(t),complete:()=>{}})}getccdevDetails(){this.http.get("child-care/cc-records/"+this.patient_details.id).subscribe({next:t=>{this.patient_info=t.data},error:t=>{console.log(t)}})}showToastrY(){this.toastr.success("Successfully Saved!","Essential Services")}showToastrN(){this.toastr.success("Successfully Saved!","Services")}showToastrErrY(){this.toastr.warning("Error in Saving!","Essential Services")}showToastrErrN(){this.toastr.warning("Error in Saving!","Essential Services")}ngOnInit(){this.loadCCLibraries(),this.patient_details.id&&this.loadServicesTest()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(g.k),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-services"]],inputs:{patient_details:"patient_details"},standalone:!1,decls:25,vars:12,consts:[[1,"flex","mt-4","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[1,"card"],[1,"flex","bg-yellow-500","card-header-services"],[1,"font-semibold","text-white","text-sm","uppercase"],["type","button","class","btn-icon -mt-0.5 relative ml-auto px-5",3,"click",4,"ngIf"],[1,"flex","w-full","item-start","flex-wrap","pt-5"],["class","md:w-1/2 lg:w-1/2 px-10 text-sm pb-5",4,"ngFor","ngForOf"],["class","flex w-full item-start flex-wrap",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:59",4,"ngIf"],["class","opacity-50 fixed inset-0 z-50 bg-black",4,"ngIf"],[1,"card","mt-6","mb-6"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:60",4,"ngIf"],["class","opacity-50 fixed inset-0 bg-black","style","z-index:59",4,"ngIf"],["type","button",1,"btn-icon","-mt-0.5","relative","ml-auto","px-5",3,"click"],["size","md",3,"icon"],[1,"md:w-1/2","lg:w-1/2","px-10","text-sm","pb-5"],["class","text-sm flex-auto",4,"ngIf"],["class","text-sm flex-auto text-right",4,"ngIf"],[1,"text-sm","flex-auto"],[1,"font-semibold"],[1,"text-sm","flex-auto","text-right"],[1,"flex","w-full","item-start","flex-wrap"],[1,"px-10","py-1","text-sm","mt-1"],["type","button",1,"flex","btn-add","ml-auto","mr-10",3,"click"],[1,"mr-2",3,"icon"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","59"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],["class","mt-1 text-md font-bold text-blue-500 dark:text-white",4,"ngIf"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","rounded"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"flex","item-start","flex-wrap","pb-5","pt-5"],["class","w-full mx-10",4,"ngFor","ngForOf"],[1,"text-gray-600","border","border-slate-100","mx-5","mt-5"],[1,"flex","justify-end","py-4","px-6","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-save",3,"click"],["class","pl-0","animation","spin",3,"icon",4,"ngIf"],[1,"mt-1","text-md","font-bold","text-blue-500","dark:text-white"],[1,"w-full","mx-10"],["class","grid grid-cols-3 gap-4 mt-5",4,"ngIf"],[1,"grid","grid-cols-3","gap-4","mt-5"],[1,"col-span-1","flex","items-center","mt-2",3,"for"],[1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","id","name"],["value","1"],["value","2"],["value","3"],[4,"ngIf"],["class","col-start-2",4,"ngIf"],["type","date","placeholder","Enter vaccine date",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],[1,"col-start-2"],["name","","id","","type","text","placeholder","Enter Number",1,"col-span-1","col-start-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter Number",1,"col-span-1","col-start-2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel","name","id"],["animation","spin",1,"pl-0",3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"flex","w-full","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],[1,"mt-1","font-bold","text-md","text-blue-500","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-4xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],[1,"sticky","top-0","z-50","bg-gray-50"],["scope","col",1,"p-4","pl-12"],[1,"flex","items-center"],["id","checkbox-all-search","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","rounded-full","border-gray-300","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["for","checkbox-all-search",1,"sr-only"],["scope","col",1,"py-4"],["scope","col",1,"py-4","px-10"],["scope","col",1,"py-4","pr-12"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],["class","p-4 w-4 pl-12",4,"ngIf"],["scope","row","class","text-sm py-4 text-gray-900 whitespace-nowrap dark:text-white select-none",4,"ngIf"],["class","py-4 px-10",4,"ngIf"],["class","text-sm py-4 pr-12",4,"ngIf"],[1,"p-4","w-4","pl-12"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","rounded-full","border-gray-300","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change","ngModelChange","id","ngModel","checked"],["scope","row",1,"text-sm","py-4","text-gray-900","whitespace-nowrap","dark:text-white","select-none"],[3,"for"],[1,"py-4","px-10"],["type","date","placeholder","Select service date",1,"form-control","block","w-full","px-3","py-1.5","text-sm","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded","transition","ease-in-out","m-0","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"ngModelChange","ngModel"],[1,"text-sm","py-4","pr-12"],[1,"w-full","text-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"relative","p-4","w-full","max-w-sm","h-auto","md:h-auto"],[1,"h-20","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"px-10","pt-5","align-middle","text-center"],["for","","class","align-middle",4,"ngIf"],["for","",1,"align-middle"],[1,"opacity-50","fixed","inset-0","bg-black",2,"z-index","59"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"SERVICES"),e.k0s()(),e.j41(3,"div",2)(4,"div",3)(5,"h4",4),e.EFF(6,"Essential Newborn Care"),e.k0s(),e.DNE(7,te,2,1,"button",5),e.k0s(),e.j41(8,"div",6),e.DNE(9,ne,3,2,"div",7),e.k0s(),e.DNE(10,re,6,1,"div",8)(11,he,23,5,"div",9),e.k0s(),e.DNE(12,ue,1,0,"div",10),e.j41(13,"div",11)(14,"div",3)(15,"h4",4),e.EFF(16,"Services"),e.k0s(),e.DNE(17,ge,2,1,"button",5),e.k0s(),e.j41(18,"div",6),e.DNE(19,xe,3,2,"div",7),e.k0s(),e.DNE(20,ke,6,1,"div",8),e.k0s(),e.DNE(21,Ee,34,3,"div",12)(22,Me,1,0,"div",10)(23,Te,22,2,"div",12)(24,De,1,0,"div",13)),2&n&&(e.R7$(7),e.Y8G("ngIf",s.findEssential(s.service_list,"Y").length>=1),e.R7$(2),e.Y8G("ngForOf",s.findEssential(s.service_list,"Y")),e.R7$(),e.Y8G("ngIf",0===s.findEssential(s.service_list,"Y").length),e.R7$(),e.Y8G("ngIf",s.showEssentialModal),e.R7$(),e.Y8G("ngIf",s.showEssentialModal),e.R7$(5),e.Y8G("ngIf",s.findServices(s.service_list).length>=1),e.R7$(2),e.Y8G("ngForOf",s.findServices(s.service_list)),e.R7$(),e.Y8G("ngIf",0===s.findServices(s.service_list).length),e.R7$(),e.Y8G("ngIf",s.showServiceModal),e.R7$(),e.Y8G("ngIf",s.showServiceModal),e.R7$(),e.Y8G("ngIf",s.showAlert),e.R7$(),e.Y8G("ngIf",s.showAlert))},dependencies:[l.Sq,l.bT,f.aY,o.qT,o.xH,o.y7,o.me,o.Zm,o.wz,o.BC,o.cb,o.vS,o.cV,l.vh],styles:[".modal-body[_ngcontent-%COMP%]{height:350px;overflow-y:auto}"]})}}return i})();var $e=c(7586),u=c.n($e);function Ye(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleBreastfeedingModal())}),e.nrm(1,"fa-icon",17),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("icon",t.faPenToSquare)}}function Be(i,r){if(1&i&&(e.j41(0,"p",20),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI("Breastfeeding ",t.name,":")}}function Xe(i,r){if(1&i&&(e.j41(0,"p",21),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.date)}}function Ve(i,r){if(1&i&&(e.j41(0,"span",18),e.DNE(1,Be,2,1,"p",19)(2,Xe,2,1,"p",9),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.selected),e.R7$(),e.Y8G("ngIf",1==t.selected)}}function Le(i,r){if(1&i&&(e.j41(0,"div",21)(1,"span",18)(2,"p",22),e.EFF(3,"Complementary Feeding Date:"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&i){const t=e.XpG();e.R7$(5),e.JRh(e.brH(6,1,null==t.patient_breastfed?null:t.patient_breastfed.comp_fed_date,"MM/dd/yyyy","Asia/Manila"))}}function Ae(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",24)(1,"p",25),e.EFF(2,"No Recorded Breastfeeding / Complementary Feeding!"),e.k0s(),e.j41(3,"button",26),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleBreastfeedingModal())}),e.nrm(4,"fa-icon",27),e.EFF(5," Add "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("icon",t.faPlus)}}function Pe(i,r){1&i&&(e.j41(0,"p",31),e.EFF(1," - "),e.k0s())}function Oe(i,r){if(1&i&&(e.j41(0,"span",28)(1,"p",29),e.EFF(2),e.k0s(),e.DNE(3,Pe,2,0,"p",30),e.j41(4,"p",31),e.EFF(5),e.nI1(6,"date"),e.k0s()()),2&i){const t=e.XpG();e.R7$(2),e.JRh(t.ebf_status),e.R7$(),e.Y8G("ngIf","Exclusively Breastfed"==t.ebf_status),e.R7$(2),e.JRh(e.brH(6,3,t.ebf_test_date,"MM/dd/yyyy","Asia/Manila"))}}function He(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr",54)(1,"td",55)(2,"label",56),e.EFF(3),e.k0s()(),e.j41(4,"td",57)(5,"select",58),e.bIt("change",function(s){const a=e.eBV(t).index,d=e.XpG(2);return e.Njj(d.changeSelection(a,s.target.value))}),e.mxI("ngModelChange",function(s){const a=e.eBV(t).index,d=e.XpG(2);return e.DH7(d.ccdev[a].selected,s)||(d.ccdev[a].selected=s),e.Njj(s)}),e.nrm(6,"option",59),e.j41(7,"option",60),e.EFF(8,"Yes"),e.k0s(),e.j41(9,"option",61),e.EFF(10,"No"),e.k0s()()()()}if(2&i){const t=r.$implicit,n=r.index,s=e.XpG(2);e.R7$(2),e.FS9("id",t.id),e.FS9("for",t.id),e.R7$(),e.JRh(t.date),e.R7$(2),e.R50("ngModel",s.ccdev[n].selected)}}function qe(i,r){if(1&i&&(e.j41(0,"option",67),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.FS9("value",t.reason_id),e.R7$(),e.SpI(" ",t.desc," ")}}function ze(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",62)(1,"label",63),e.EFF(2,"Reason for Stopping"),e.k0s(),e.j41(3,"select",64),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.DH7(a.patient_breastfed.ebfreasons,s)||(a.patient_breastfed.ebfreasons=s),e.Njj(s)}),e.j41(4,"option",65),e.EFF(5,"Select Reason"),e.k0s(),e.DNE(6,qe,2,2,"option",66),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.patient_breastfed.ebfreasons),e.R7$(3),e.Y8G("ngForOf",t.lib_reasons)}}function Je(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",62)(1,"label",68),e.EFF(2,"Date of Last Visit"),e.k0s(),e.j41(3,"input",69),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.DH7(a.patient_breastfed.ebf_date,s)||(a.patient_breastfed.ebf_date=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.patient_breastfed.ebf_date)}}function Ue(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",62)(1,"label",68),e.EFF(2,"Complementary Feeding Start Date"),e.k0s(),e.j41(3,"input",70),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.DH7(a.patient_breastfed.comp_fed_date,s)||(a.patient_breastfed.comp_fed_date=s),e.Njj(s)}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.patient_breastfed.comp_fed_date)}}function We(i,r){if(1&i&&e.nrm(0,"fa-icon",71),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function Ke(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"h3",36),e.EFF(5," Exclusively Breastfeeding & Complementary Feeding "),e.k0s(),e.j41(6,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleBreastfeedingModal())}),e.qSk(),e.j41(7,"svg",38),e.nrm(8,"path",39),e.k0s(),e.joV(),e.j41(9,"span",40),e.EFF(10,"Close modal"),e.k0s()()(),e.j41(11,"div",41)(12,"table",42)(13,"thead",43)(14,"tr",44)(15,"th",45),e.EFF(16," Month "),e.k0s(),e.j41(17,"th",46),e.EFF(18," EBF Status "),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,He,11,4,"tr",47),e.k0s()()(),e.DNE(21,ze,7,2,"div",48)(22,Je,4,1,"div",49)(23,Ue,4,1,"div",49),e.j41(24,"div",50)(25,"p"),e.EFF(26),e.k0s(),e.j41(27,"button",51),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleBreastfeedingModal())}),e.EFF(28,"Close"),e.k0s(),e.j41(29,"button",52),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.saveModal())}),e.DNE(30,We,1,1,"fa-icon",53),e.EFF(31),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(20),e.Y8G("ngForOf",t.ccdev),e.R7$(),e.Y8G("ngIf",t.reasonCondition),e.R7$(),e.Y8G("ngIf",t.ebfCondition),e.R7$(),e.Y8G("ngIf",t.getCompleCondition),e.R7$(3),e.JRh(t.patient_breastfed.reasoning),e.R7$(4),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save","")}}function Qe(i,r){1&i&&e.nrm(0,"div",72)}function Ze(i,r){1&i&&(e.j41(0,"label",84),e.EFF(1,"Data Successfully Saved!"),e.k0s())}function et(i,r){1&i&&(e.j41(0,"label",84),e.EFF(1,"Error in Saving! Please check required fields"),e.k0s())}function tt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"div",74)(2,"div",34)(3,"div",75)(4,"h3",76),e.EFF(5," Alert "),e.k0s(),e.j41(6,"button",77),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleAlertModal())}),e.qSk(),e.j41(7,"svg",38),e.nrm(8,"path",39),e.k0s(),e.joV(),e.j41(9,"span",40),e.EFF(10,"Close modal"),e.k0s()()(),e.j41(11,"div",78)(12,"table",79)(13,"thead",80),e.nrm(14,"tr",81),e.k0s(),e.j41(15,"tbody")(16,"div",82),e.DNE(17,Ze,2,0,"label",83)(18,et,2,0,"label",83),e.k0s()()()(),e.j41(19,"div",50)(20,"button",51),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleAlertModal())}),e.EFF(21,"Close"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(17),e.Y8G("ngIf","S"==t.alertFilter),e.R7$(),e.Y8G("ngIf","E"==t.alertFilter)}}function it(i,r){1&i&&e.nrm(0,"div",85)}let st=(()=>{class i{toggleAlertModal(t){this.alertFilter=t,this.showAlert=!this.showAlert}toggleBreastfeedingModal(){this.showBreastfeedingModal=!this.showBreastfeedingModal,this.loadBreastfed(),this.getccdevDetails(),this.groupList=[]}saveModal(){this.is_saving=!0,setTimeout(()=>{this.is_saving=!1},5e3)}constructor(t,n){this.http=t,this.toastr=n,this.selectedItemsList=[],this.selectedMonths=[],this.checkedIDs=[],this.faSearch=_.MjD,this.faPlus=_.QLR,this.faInfoCircle=_.iW_,this.faSpinner=_.s4k,this.faPenToSquare=m.LFz,this.is_saving=!1,this.todaysDate=new Date,this.showBreastfeedingModal=!1,this.showAlert=!1,this.ebf=[{code:"1",desc:"Yes"},{code:"0",desc:"No"}],this.ccdev=[],this.ccdevbreast=35,this.groupList=[],this.groupList2=[]}ebf_test(){this.ebf_test_date=u()(this.patient_details.birthdate).add(5,"M").add(29,"d").format("MM/DD/yyyy")}submit(){this.selectedMonths=this.ccdev.filter((t,n)=>(localStorage.setItem("Breastfeeding Months",JSON.stringify(this.selectedMonths)),this.month=this.selectedMonths))}changeSelection(t,n){console.log(this.ccdev),this.ccdev[t].selected=n,this.getPrev(),this.groupList.includes("0")?(console.log("open ang reason for stopping"),this.showData=!0):this.showData=!1}fetchSelectedItems(){this.selectedMonths=this.ccdev.filter((t,n)=>(this.selectedMonths.push(t.selected),t.selected))}getPrev(){this.groupList=[],this.ccdev.forEach((s,a)=>{this.groupList.push(s.selected)}),console.log(this.groupList),this.http.getUserID()}onSubmit(){this.groupList=[],this.ccdev.forEach((s,a)=>{this.groupList.push(s.selected)}),console.log(this.patient_breastfed);let t=this.http.getUserID();var n={patient_ccdev_id:this.patient_info.id,patient_id:this.patient_info.patient_id,user_id:t,bfed_month1:"null"==this.ccdev[0].selected?null:this.ccdev[0].selected,bfed_month2:"null"==this.ccdev[1].selected?null:this.ccdev[1].selected,bfed_month3:"null"==this.ccdev[2].selected?null:this.ccdev[2].selected,bfed_month4:"null"==this.ccdev[3].selected?null:this.ccdev[3].selected,reason_id:this.patient_breastfed.ebfreasons,ebf_date:this.patient_breastfed.ebf_date,comp_fed_date:this.patient_breastfed.comp_fed_date};console.log(n),this.http.post("child-care/cc-breastfed",n).subscribe({error:s=>{console.log(s),this.showToastrErr()},complete:()=>{this.showToastr(),this.is_saving=!1}})}getccdevDetails(){this.http.get("child-care/cc-records/"+this.patient_details.id).subscribe({next:t=>{this.patient_info=t.data},error:t=>console.log(t)})}fetchCheckedIDs(){this.checkedIDs=[],this.ccdev.forEach((t,n)=>{t.selected&&this.checkedIDs.push(t.id)})}loadLibraries(){this.http.get("libraries/reason").subscribe(t=>{this.lib_reasons=t.data,console.log(t,"reason library")})}get ebfCondition(){if(1==this.ccdev[0].selected&&1==this.ccdev[1].selected&&1==this.ccdev[2].selected&&1==this.ccdev[3].selected)return!0}get reasonCondition(){return"0"===this.ccdev[0].selected||"0"===this.ccdev[1].selected||"0"===this.ccdev[2].selected||"0"===this.ccdev[3].selected}get getCompleCondition(){if("null"!==this.ccdev[0].selected&&"null"!==this.ccdev[1].selected&&"null"!==this.ccdev[2].selected&&"null"!==this.ccdev[3].selected&&""!==this.ccdev[0].selected&&""!==this.ccdev[1].selected&&""!==this.ccdev[2].selected&&""!==this.ccdev[3].selected)return!0}get editCondition(){if("null"==this.ccdev[0].selected&&"null"==this.ccdev[1].selected&&"null"==this.ccdev[2].selected&&"null"==this.ccdev[3].selected)return!0}loadBreastfed(){this.groupList2=[];var t=["bfed_month1","bfed_month2","bfed_month3","bfed_month4"];this.http.get("child-care/cc-breastfed/"+this.patient_details.id).subscribe({next:n=>{this.patient_breastfed=n.data,console.log(this.patient_breastfed,"data ng breast fedzxc"),null!=this.patient_breastfed.ebfreasons&&(this.patient_breastfed.ebfreasons=this.patient_breastfed.ebfreasons.reason_id),t.forEach((s,a)=>{this.ccdev[a].selected=String(this.patient_breastfed[s])}),this.ebfCondition?(this.ebf_status="Exclusively Breastfed",this.ebf_test()):this.ebf_status="Non - EBF"},error:n=>{console.log(n),404==n.status&&(this.patient_breastfed={patient_ccdev_id:"",patient_id:"",user_id:"",bfed_month1:null,bfed_month2:null,bfed_month3:null,bfed_month4:null,ebf_date:"",ebfreasons:null,comp_fed_date:""},console.log(this.patient_breastfed,"fake response"),this.ccdev[0].selected="null",this.ccdev[1].selected="null",this.ccdev[2].selected="null",this.ccdev[3].selected="null")}})}showToastr(){this.toastr.success("Successfully saved!","Breastfeeding Info")}showToastrErr(){this.toastr.warning("Error in Saving!","Breastfeeding Info")}ngOnInit(){this.ccdev=[{id:"bfed_month1",name:"Month 1 and 15 Days",date:u()(this.patient_details.birthdate).add(1,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month2",name:"Month 2 and 15 Days",date:u()(this.patient_details.birthdate).add(2,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month3",name:"Month 3 and 15 Days",date:u()(this.patient_details.birthdate).add(3,"M").add(15,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"},{id:"bfed_month6",name:"Month 5 and 29 Days",date:u()(this.patient_details.birthdate).add(5,"M").add(29,"d").format("MM/DD/yyyy"),selected:"",isDefault:"N/A"}],this.loadBreastfed(),this.loadLibraries(),this.getccdevDetails()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(g.k),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-breastfeeding"]],inputs:{patient_details:"patient_details"},standalone:!1,decls:19,vars:9,consts:[[1,"flex","mt-4","mb-3"],[1,"font-bold","text-gray-600","text-sm"],[1,"card"],[1,"flex","bg-orange-500","card-header-services"],[1,"font-semibold","text-white","text-sm","uppercase"],["type","button","class","-mt-0.5 relative ml-auto px-5",3,"click",4,"ngIf"],[1,"w-full","pt-4","grid","grid-cols-2"],[1,"px-10","text-sm"],["class","flex",4,"ngFor","ngForOf"],["class","py-2",4,"ngIf"],["class","flex w-full item-start flex-wrap col-span-2",4,"ngIf"],["class","flex px-3 ml-10 text-sm p-2.5 bg-green-50 mt-1 border border-gray-300 rounded-lg min-width",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:59",4,"ngIf"],["class","opacity-50 fixed inset-0 z-50 bg-black",4,"ngIf"],["id","defaultModal","tabindex","-1","class","overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal","true","role","dialog","style","z-index:60",4,"ngIf"],["class","opacity-50 fixed inset-0 bg-black","style","z-index:59",4,"ngIf"],["type","button",1,"-mt-0.5","relative","ml-auto","px-5",3,"click"],["size","md",1,"text-white",3,"icon"],[1,"flex"],["class","font-semibold mr-2 py-2",4,"ngIf"],[1,"font-semibold","mr-2","py-2"],[1,"py-2"],[1,"font-semibold","mr-2"],[1,""],[1,"flex","w-full","item-start","flex-wrap","col-span-2"],[1,"px-10","py-1","text-sm","mt-1"],["type","button",1,"flex","btn-add","ml-auto","mr-10",3,"click"],[1,"mr-2",3,"icon"],[1,"flex","px-3","ml-10","text-sm","p-2.5","bg-green-50","mt-1","border","border-gray-300","rounded-lg","min-width"],[1,"font-semibold"],["class","px-1",4,"ngIf"],[1,"px-1"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","59"],[1,"relative","p-4","w-full","max-w-lg","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600","bg-white"],[1,"mt-1","font-bold","text-blue-500","text-md","dark:text-white"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","rounded"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-lg","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-70","dark:bg-gray-700","dark:text-gray-400"],[1,"w-full","py-2","sticky","top-0","z-50","bg-gray-50"],["scope","col",1,"py-4","pl-12"],["scope","col",1,"py-4","px-12"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],["class","flex py-4 px-5 rounded-b border-t border-gray-200",4,"ngIf"],["class","flex py-4 px-5 rounded-b border-t border-gray-200 ",4,"ngIf"],[1,"flex","justify-end","py-4","px-6","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-save",3,"click"],["class","pl-0","animation","spin",3,"icon",4,"ngIf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"py-4","pl-12","text-sm","text-gray-900","dark:text-white","select-none"],[3,"id","for"],[1,"py-4","px-12","text-sm"],["name","","id","",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"change","ngModelChange","ngModel"],["value",""],["value","1"],["value","0"],[1,"flex","py-4","px-5","rounded-b","border-t","border-gray-200"],[1,"mt-2.5","text-sm","text-gray-900","w-full"],["name","","id","",1,"select","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","text-sm","-pl-10",2,"width","100%",3,"ngModelChange","ngModel"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-2.5","ml-6","text-sm","text-gray-900","w-full"],["type","date","placeholder","Enter EBF Date",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"ngModelChange","ngModel"],["type","date","placeholder","Enter Start Date",1,"border-gray-300","text-gray-900","sm:text-sm","rounded-lg",2,"width","100%",3,"ngModelChange","ngModel"],["animation","spin",1,"pl-0",3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-sm","h-auto","md:h-auto"],[1,"flex","w-full","justify-between","items-start","p-4","rounded-t","border-b","dark:border-gray-600"],[1,"mt-1","font-bold","text-md","text-blue-500","dark:text-white"],["type","button",1,"text-gray-500","bg-transparent","hover:bg-red-500","hover:text-white","rounded","text-sm","p-1.5","ml-auto","inline-flex","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],[1,"h-20","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],[1,"sticky","top-0","z-50","bg-gray-50"],[1,"px-10","pt-5","align-middle","text-center"],["for","","class","align-middle",4,"ngIf"],["for","",1,"align-middle"],[1,"opacity-50","fixed","inset-0","bg-black",2,"z-index","59"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"BREASTFEEDING AND COMPLEMENTARY FEEDING"),e.k0s()(),e.j41(3,"div",2)(4,"div",3)(5,"h4",4),e.EFF(6,"Breastfeeding And Complementary Feeding Information"),e.k0s(),e.DNE(7,Ye,2,1,"button",5),e.k0s(),e.j41(8,"div",6)(9,"div",7),e.DNE(10,Ve,3,2,"span",8),e.k0s(),e.j41(11,"div",7),e.DNE(12,Le,7,5,"div",9),e.k0s(),e.DNE(13,Ae,6,1,"div",10)(14,Oe,7,7,"span",11),e.k0s(),e.DNE(15,Ke,32,7,"div",12),e.k0s(),e.DNE(16,Qe,1,0,"div",13)(17,tt,22,2,"div",14)(18,it,1,0,"div",15)),2&n&&(e.R7$(7),e.Y8G("ngIf",!s.editCondition),e.R7$(3),e.Y8G("ngForOf",s.ccdev),e.R7$(2),e.Y8G("ngIf",s.getCompleCondition),e.R7$(),e.Y8G("ngIf",s.editCondition),e.R7$(),e.Y8G("ngIf",s.getCompleCondition),e.R7$(),e.Y8G("ngIf",s.showBreastfeedingModal),e.R7$(),e.Y8G("ngIf",s.showBreastfeedingModal),e.R7$(),e.Y8G("ngIf",s.showAlert),e.R7$(),e.Y8G("ngIf",s.showAlert))},dependencies:[l.Sq,l.bT,f.aY,o.xH,o.y7,o.me,o.wz,o.BC,o.vS,l.vh],styles:["select[_ngcontent-%COMP%]{width:65px;padding-left:5px}.modal-body[_ngcontent-%COMP%]{height:350px;width:500px;overflow-y:auto}"]})}}return i})();function nt(i,r){if(1&i){const t=e.RV6();e.j41(0,"nav",11)(1,"div",12)(2,"button",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.switchTab(1))}),e.EFF(3," DETAILS "),e.k0s(),e.j41(4,"button",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.switchTab(2))}),e.EFF(5," CASE RATE "),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.HbH(1===t.module?"tabs-main-true":"tabs-main-false"),e.R7$(2),e.HbH(2===t.module?"tabs-main-true":"tabs-main-false")}}function rt(i,r){if(1&i){const t=e.RV6();e.j41(0,"app-first-visit",17),e.bIt("loadCcDetails",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.loadCcDetails())}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("ccdev_data",t.ccdev_data)("patient_details",t.patient_details)("ccdev_data",t.ccdev_data)}}function at(i,r){if(1&i&&e.nrm(0,"app-services",18),2&i){const t=e.XpG(2);e.Y8G("patient_details",t.patient_details)}}function ot(i,r){if(1&i&&e.nrm(0,"app-breastfeeding",18),2&i){const t=e.XpG(2);e.Y8G("patient_details",t.patient_details)}}function ct(i,r){if(1&i&&(e.j41(0,"div",14),e.DNE(1,rt,1,3,"app-first-visit",15)(2,at,1,1,"app-services",16)(3,ot,1,1,"app-breastfeeding",16),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.show_form),e.R7$(),e.Y8G("ngIf",t.show_forms),e.R7$(),e.Y8G("ngIf",t.show_forms)}}function dt(i,r){if(1&i){const t=e.RV6();e.j41(0,"app-end-visit",19),e.bIt("toggleModal",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleModal())}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("consult_id",t.consult_id)("consult_date",null==t.consult_details[0]?null:t.consult_details[0].consult_date)("patient_id",null==t.consult_details[0]?null:t.consult_details[0].patient.id)("pt_group",null==t.consult_details[0]?null:t.consult_details[0].pt_group)}}function lt(i,r){if(1&i&&e.nrm(0,"app-caserate",20),2&i){const t=e.XpG();e.Y8G("patient_id",t.ccdev_data.patient_id)("program_id",t.ccdev_data.id)("program_name","cc")("max_date",t.max_date)}}function _t(i,r){if(1&i&&e.nrm(0,"app-eclaims",21),2&i){const t=e.XpG();e.Y8G("program_id",t.ccdev_data.id)("program_name","cc")("max_date",t.max_date)("selected_case",t.ccdev_data)}}const pt=[{path:"",component:(()=>{class i{constructor(t,n,s){this.http=t,this.router=n,this.route=s,this.faDoorClosed=_.K_I,this.show_end=!1,this.show_form=!1,this.pages=1,this.module=1,this.modals=[]}switchPage(t){this.pages=t}toggleModal(t){this.modals[t]=!this.modals[t]}switchTab(t){this.module=t}loadConsultDetails(){this.show_form=!1,this.http.get("consultation/records",{params:{patient_id:this.patient_details.id,id:this.consult_id}}).subscribe({next:t=>{this.consult_details=t.data,this.loadCcDetails()},error:t=>console.log(t)})}loadCcDetails(){this.http.get("child-care/cc-records",{params:{patient_id:this.patient_details.id}}).subscribe({next:n=>{console.log(n),this.show_form=!0,this.ccdev_data=n.data[0],this.ccdev_data&&(this.show_forms=!0)},error:n=>console.log(n)})}checkCCdevDetails(t){t&&(this.show_forms=!0)}ngOnInit(){this.module=1,this.show_forms=!1,this.patient_details=this.http.getPatientInfo(),this.active_loc_id=this.http.getUrlParams(),this.consult_id=this.active_loc_id.consult_id,this.loadConsultDetails()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(g.k),e.rXU(p.Ix),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-childcare"]],standalone:!1,decls:15,vars:10,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],[1,"ml-auto"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 p-5 w-full border border-gray-200 shadow-md rounded-xl",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date",4,"ngIf"],[3,"program_id","program_name","max_date","selected_case",4,"ngIf"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],[1,"my-5","p-5","w-full","border","border-gray-200","shadow-md","rounded-xl"],[3,"ccdev_data","patient_details","loadCcDetails",4,"ngIf"],[3,"patient_details",4,"ngIf"],[3,"loadCcDetails","ccdev_data","patient_details"],[3,"patient_details"],[3,"toggleModal","consult_id","consult_date","patient_id","pt_group"],[3,"patient_id","program_id","program_name","max_date"],[3,"program_id","program_name","max_date","selected_case"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"nav",1)(2,"button",2),e.bIt("click",function(){return s.switchPage(1)}),e.EFF(3," VISIT "),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return s.switchPage(2)}),e.EFF(5," ECLAIMS "),e.k0s()(),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return s.toggleModal("end_visit")}),e.nrm(8,"fa-icon",5),e.EFF(9," End Visit "),e.k0s()()(),e.DNE(10,nt,6,4,"nav",6)(11,ct,4,3,"div",7)(12,dt,1,4,"app-end-visit",8)(13,lt,1,4,"app-caserate",9)(14,_t,1,4,"app-eclaims",10)),2&n&&(e.R7$(2),e.HbH(1===s.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(2),e.HbH(2===s.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(4),e.Y8G("icon",s.faDoorClosed),e.R7$(2),e.Y8G("ngIf",1===s.pages),e.R7$(),e.Y8G("ngIf",1===s.pages&&1===s.module),e.R7$(),e.Y8G("ngIf",s.modals.end_visit),e.R7$(),e.Y8G("ngIf",1===s.pages&&2===s.module&&s.show_form),e.R7$(),e.Y8G("ngIf",2===s.pages&&s.show_form))},dependencies:[l.bT,f.aY,x.u,k.G,w.i,Z,Ne,st],encapsulation:2})}}return i})()}];let ft=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(pt),p.iI]})}}return i})();var C=c(1626),mt=c(4959);let ht=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({providers:[(0,C.$R)((0,C.Sx)())],imports:[l.MD,ft,f.dX,o.X1,h.MQ,o.YN,x.u,k.G,mt.u]})}}return i})()}}]);