"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[81],{8081:(A,y,a)=>{a.r(y),a.d(y,{DrugsModule:()=>ye});var s=a(6814),b=a(3602),q=a(1449),_=a(590),e=a(5879),x=a(265),v=a(5597),d=a(6223),f=a(3146),C=a(9315),Z=a(2425);function g(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function u(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,g,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.brand_name.errors?null:t.f.brand_name.errors.required)}}function h(i,o){if(1&i&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.selected_drug?t.selected_drug.desc?t.selected_drug.desc:t.selected_drug.konsulta_medicine.desc:"")}}function w(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function D(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,w,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.medicine_name.errors?null:t.f.medicine_name.errors.required)}}function J(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function k(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,J,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.dosage_quantity.errors?null:t.f.dosage_quantity.errors.required)}}function U(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function N(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function Q(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,N,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.dosage_uom.errors?null:t.f.dosage_uom.errors.required)}}function F(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function I(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function M(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,I,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.dose_regimen.errors?null:t.f.dose_regimen.errors.required)}}function L(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function O(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,L,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.duration_intake.errors?null:t.f.duration_intake.errors.required)}}function Y(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function E(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function j(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,E,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.duration_frequency.errors?null:t.f.duration_frequency.errors.required)}}function K(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function V(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function R(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,V,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.medicine_route_code.errors?null:t.f.medicine_route_code.errors.required)}}function S(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function G(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,S,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.quantity.errors?null:t.f.quantity.errors.required)}}function P(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function H(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function B(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,H,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.quantity_preparation.errors?null:t.f.quantity_preparation.errors.required)}}function $(i,o){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function z(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function W(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,z,2,1,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.medicine_purpose.errors?null:t.f.medicine_purpose.errors.required)}}function X(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.value)}}function ee(i,o){if(1&i&&(e.TgZ(0,"div",46)(1,"div",47)(2,"ul",48),e.YNc(3,X,2,1,"li",49),e.ALo(4,"keyvalue"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.submit_errors))}}function te(i,o){1&i&&(e.TgZ(0,"div",50)(1,"span",51),e._uU(2,"Record was updated."),e.qZA()()),2&i&&e.Q6J("@openCloseTrigger",void 0)}const c=function(i){return{"text-red-500":i}},p=function(i){return{"invalid-input":i}};let ie=(()=>{var i;class o{onSubmit(){if(this.is_saving=!0,this.drugForm.valid){let n;this.drugForm.value.konsulta_medicine_code||this.drugForm.patchValue({added_medicine:this.drugForm.value.medicine_name}),n=this.drugForm.value.id?this.http.update("medicine/list/",this.drugForm.value.id,this.drugForm.value):this.http.post("medicine/list",this.drugForm.value),n.subscribe({next:r=>{this.toastr.success("Recorded successfully!","Drug List"),this.closeModal()},error:r=>{this.http.showError(r.error.message,"Drug List")}})}}get f(){return this.drugForm.controls}loadMainLibrary(){const n=this.http.get("libraries/unit-of-measurements"),r=this.http.get("libraries/dose-regimens"),l=this.http.get("libraries/purposes"),m=this.http.get("libraries/duration-frequencies"),qe=this.http.get("libraries/preparations"),Ce=this.http.get("libraries/medicine-route");(0,C.D)([n,r,l,m,qe,Ce]).subscribe({next:([T,we,Te,Ae,De,Je])=>{this.drug_uom=T.data,this.drug_regimen=we.data,this.drug_purpose=Te.data,this.drug_frequency=Ae.data,this.drug_preparation=De.data,this.drug_route=Je.data,this.is_loading=!1},error:T=>console.log(T)})}loadSelected(){this.selected_drug&&this.selected_drug.id?this.patchToEdit(this.selected_drug):null!=this.selected_drug&&this.drugForm.patchValue({konsulta_medicine_code:this.selected_drug.code??null,medicine_name:this.selected_drug.generic_desc})}patchToEdit(n){this.drugForm.patchValue({...n}),this.drugForm.patchValue({dosage_uom:n.unit_of_measurement.code,dose_regimen:n.regimen.code,duration_frequency:n.frequency.code,konsulta_medicine_code:n.konsulta_medicine?n.konsulta_medicine.code:null,medicine_name:n.konsulta_medicine?n.konsulta_medicine.generic.desc:n.added_medicine??"",medicine_purpose:n.purpose.code,medicine_route_code:n.medicine_route.code,quantity_preparation:n.preparation.code})}createForm(){this.drugForm=this.formBuilder.group({id:[null],brand_name:[null,d.kI.required],medicine_name:[null,d.kI.required],medicine_code:[null],konsulta_medicine_code:[null],added_medicine:[null],dosage_quantity:[null,d.kI.required],dosage_uom:[null,d.kI.required],dose_regimen:[null,d.kI.required],medicine_purpose:[null,d.kI.required],purpose_other:[null],duration_intake:[null,d.kI.required],duration_frequency:[null,d.kI.required],quantity:[null],quantity_preparation:[null,d.kI.required],medicine_route_code:[null,d.kI.required],instruction_quantity:[1]}),this.loadSelected()}closeModal(){this.showEdit.emit()}constructor(n,r,l){this.formBuilder=n,this.http=r,this.toastr=l,this.showEdit=new e.vpe,this.drugForm=new d.cw({id:new d.NI(null),brand_name:new d.NI(null),medicine_name:new d.NI(null),medicine_code:new d.NI(null),konsulta_medicine_code:new d.NI(null),added_medicine:new d.NI(null),dosage_quantity:new d.NI(null),dosage_uom:new d.NI(null),dose_regimen:new d.NI(null),medicine_purpose:new d.NI(null),duration_intake:new d.NI(null),duration_frequency:new d.NI(null),quantity_preparation:new d.NI(null),medicine_route_code:new d.NI(null),purpose_other:new d.NI(null),quantity:new d.NI(null),instruction_quantity:new d.NI(null)}),this.showAlert=!1,this.is_saving=!1,this.required_message="this is required",this.is_loading=!1}ngOnInit(){this.is_loading=!0,this.loadMainLibrary(),this.http.getUserID(),this.http.getUserFacility(),this.createForm()}}return(i=o).\u0275fac=function(n){return new(n||i)(e.Y36(d.qu),e.Y36(x.O),e.Y36(Z._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-drug-form"]],inputs:{selected_drug:"selected_drug"},outputs:{showEdit:"showEdit"},decls:79,vars:88,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5","px-3"],[1,"relative","w-full","text-sm","px-4","py-2","mt-2"],["for","brand_name",1,"font-semibold",3,"ngClass"],["name","brand_name","id","brand_name","formControlName","brand_name","type","text",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-full","text-sm","px-3","py-2","mt-2"],["for","medicine_name",1,"font-semibold",3,"ngClass"],["name","medicine_name","id","medicine_name","formControlName","medicine_name","type","text",1,"input",3,"ngClass"],["class","text-xs pl-3 font-semibold",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-2/6","lg:w-2/6","px-3","py-2","mt-2"],["for","dosage_quantity",1,"font-semibold",3,"ngClass"],["name","dosage_quantity","id","dosage_quantity","formControlName","dosage_quantity","type","number",1,"input",3,"ngClass"],["for","dosage_uom",1,"font-semibold",3,"ngClass"],["name","dosage_uom","id","dosage_uom","formControlName","dosage_uom",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","dose_regimen",1,"font-semibold",3,"ngClass"],["name","dose_regimen","id","dose_regimen","formControlName","dose_regimen",1,"input",3,"ngClass"],["for","duration_intake",1,"font-semibold",3,"ngClass"],["name","duration_intake","id","duration_intake","formControlName","duration_intake","type","number",1,"input",3,"ngClass"],["for","duration_frequency",1,"font-semibold",3,"ngClass"],["name","duration_frequency","id","duration_frequency","formControlName","duration_frequency",1,"input",3,"ngClass"],["for","medicine_route_code",1,"font-semibold",3,"ngClass"],["name","medicine_route_code","id","medicine_route_code","formControlName","medicine_route_code",1,"input",3,"ngClass"],["for","quantity",1,"font-semibold",3,"ngClass"],["name","quantity","id","quantity","formControlName","quantity","type","number",1,"input",3,"ngClass"],["for","quantity_preparation",1,"font-semibold",3,"ngClass"],["name","quantity_preparation","id","quantity_preparation","formControlName","quantity_preparation",1,"input",3,"ngClass"],["for","medicine_purpose",1,"font-semibold",3,"ngClass"],["name","medicine_purpose","id","medicine_purpose","formControlName","medicine_purpose",1,"input",3,"ngClass"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[1,"text-xs","pl-3","font-semibold"],[3,"value"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Add new drugs "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Brand name"),e.qZA(),e._UZ(12,"input",10),e.YNc(13,u,2,1,"div",11),e.qZA(),e.TgZ(14,"div",12)(15,"label",13),e._uU(16,"Generic Name"),e.qZA(),e._UZ(17,"input",14),e.YNc(18,h,2,1,"span",15),e.YNc(19,D,2,1,"div",11),e.qZA(),e.TgZ(20,"div",16)(21,"label",17),e._uU(22,"Dosage"),e.qZA(),e._UZ(23,"input",18),e.YNc(24,k,2,1,"div",11),e.qZA(),e.TgZ(25,"div",16)(26,"label",19),e._uU(27,"Dosage unit"),e.qZA(),e.TgZ(28,"select",20),e.YNc(29,U,2,2,"option",21),e.qZA(),e.YNc(30,Q,2,1,"div",11),e.qZA(),e.TgZ(31,"div",16)(32,"label",22),e._uU(33,"Dosage regimen"),e.qZA(),e.TgZ(34,"select",23),e.YNc(35,F,2,2,"option",21),e.qZA(),e.YNc(36,M,2,1,"div",11),e.qZA(),e.TgZ(37,"div",16)(38,"label",24),e._uU(39,"Duration"),e.qZA(),e._UZ(40,"input",25),e.YNc(41,O,2,1,"div",11),e.qZA(),e.TgZ(42,"div",16)(43,"label",26),e._uU(44,"Duration frequency"),e.qZA(),e.TgZ(45,"select",27),e.YNc(46,Y,2,2,"option",21),e.qZA(),e.YNc(47,j,2,1,"div",11),e.qZA(),e.TgZ(48,"div",16)(49,"label",28),e._uU(50,"Medicine Route"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,K,2,2,"option",21),e.qZA(),e.YNc(53,R,2,1,"div",11),e.qZA(),e.TgZ(54,"div",16)(55,"label",30),e._uU(56,"Quantity"),e.qZA(),e._UZ(57,"input",31),e.YNc(58,G,2,1,"div",11),e.qZA(),e.TgZ(59,"div",16)(60,"label",32),e._uU(61,"Preparation"),e.qZA(),e.TgZ(62,"select",33),e.YNc(63,P,2,2,"option",21),e.qZA(),e.YNc(64,B,2,1,"div",11),e.qZA(),e.TgZ(65,"div",12)(66,"label",34),e._uU(67,"Medicine purpose"),e.qZA(),e.TgZ(68,"select",35),e.YNc(69,$,2,2,"option",21),e.qZA(),e.YNc(70,W,2,1,"div",11),e.qZA()(),e.YNc(71,ee,5,3,"div",36),e.qZA()(),e.TgZ(72,"div",37),e.YNc(73,te,3,1,"div",38),e.TgZ(74,"button",39),e.NdJ("click",function(){return r.closeModal()}),e._uU(75,"Close"),e.qZA(),e.TgZ(76,"button",40),e.NdJ("click",function(){return r.onSubmit()}),e._uU(77,"Save"),e.qZA()()()()(),e._UZ(78,"div",41)),2&n&&(e.xp6(7),e.Q6J("formGroup",r.drugForm),e.xp6(3),e.Q6J("ngClass",e.VKq(44,c,r.is_saving&&r.f.brand_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(46,p,r.is_saving&&r.f.brand_name.errors)),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.brand_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(48,c,r.is_saving&&r.f.medicine_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(50,p,r.is_saving&&r.f.medicine_name.errors)),e.xp6(1),e.Q6J("ngIf",r.selected_drug&&!r.selected_drug.added_medicine),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.medicine_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(52,c,r.is_saving&&r.f.dosage_quantity.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(54,p,r.is_saving&&r.f.dosage_quantity.errors)),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.dosage_quantity.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(56,c,r.is_saving&&r.f.dosage_uom.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(58,p,r.is_saving&&r.f.dosage_uom.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_uom),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.dosage_uom.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(60,c,r.is_saving&&r.f.dose_regimen.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(62,p,r.is_saving&&r.f.dose_regimen.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_regimen),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.dose_regimen.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(64,c,r.is_saving&&r.f.duration_intake.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(66,p,r.is_saving&&r.f.duration_intake.errors)),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.duration_intake.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(68,c,r.is_saving&&r.f.duration_frequency.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(70,p,r.is_saving&&r.f.duration_frequency.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_frequency),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.duration_frequency.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(72,c,r.is_saving&&r.f.medicine_route_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(74,p,r.is_saving&&r.f.medicine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_route),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.medicine_route_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(76,c,r.is_saving&&r.f.quantity.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(78,p,r.is_saving&&r.f.quantity.errors)),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.quantity.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(80,c,r.is_saving&&r.f.quantity_preparation.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(82,p,r.is_saving&&r.f.quantity_preparation.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_preparation),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.quantity_preparation.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(84,c,r.is_saving&&r.f.medicine_purpose.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(86,p,r.is_saving&&r.f.medicine_purpose.errors)),e.xp6(1),e.Q6J("ngForOf",r.drug_purpose),e.xp6(1),e.Q6J("ngIf",r.is_saving&&r.f.medicine_purpose.errors),e.xp6(1),e.Q6J("ngIf",r.submit_errors),e.xp6(2),e.Q6J("ngIf",r.showAlert),e.xp6(3),e.Q6J("disabled",r.drugForm.invalid))},dependencies:[s.mk,s.sg,s.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.JL,d.sg,d.u,s.Nd]}),o})();function re(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",23)(2,"div",24)(3,"div",25),e._uU(4," No records found... "),e.qZA(),e.TgZ(5,"div",26)(6,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeModal("new"))}),e._UZ(7,"fa-icon",28),e._uU(8," Add "),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("icon",t.faAdd)}}const ne=function(i){return{"bg-gray-50":i}};function oe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.closeModal(l))}),e.TgZ(1,"td",30),e._uU(2),e.qZA(),e.TgZ(3,"td",31),e._uU(4),e.qZA(),e.TgZ(5,"td",31),e._uU(6),e.qZA(),e.TgZ(7,"td",31),e._uU(8),e.qZA()()}if(2&i){const t=o.$implicit;e.Q6J("ngClass",e.VKq(6,ne,o.odd)),e.xp6(2),e.hij(" ",t.desc," "),e.xp6(2),e.hij(" ",t.generic_desc," "),e.xp6(2),e.AsE(" ",t.unit_desc," ",t.package_desc," "),e.xp6(2),e.hij(" ",t.form_desc," ")}}function se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"p",35),e._uU(4," Showing "),e.TgZ(5,"span",36),e._uU(6),e.qZA(),e._uU(7," to "),e.TgZ(8,"span",36),e._uU(9),e.qZA(),e._uU(10," of "),e.TgZ(11,"span",36),e._uU(12),e.qZA(),e._uU(13," results "),e.qZA()(),e.TgZ(14,"div")(15,"nav",37)(16,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(1))}),e._UZ(17,"fa-icon",39),e.qZA(),e.TgZ(18,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.current_page-1))}),e._UZ(19,"fa-icon",39),e._uU(20,"Previous "),e.qZA(),e.TgZ(21,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.current_page+1))}),e._uU(22," Next"),e._UZ(23,"fa-icon",41),e.qZA(),e.TgZ(24,"button",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.last_page))}),e._UZ(25,"fa-icon",41),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(4),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}let de=(()=>{var i;class o{selectDrugs(n){console.log(n)}closeModal(n){this.showAdd.emit(n)}loadDrugs(n){let r={params:{}};this.search_item&&(r.params["filter[search]"]=this.search_item),n&&(r.params.page=n),r.params.per_page=this.per_page,this.http.get("libraries/konsulta-medicines",r).subscribe({next:l=>{this.drug_list=l.data,this.current_page=l.meta.current_page,this.last_page=l.meta.last_page,this.from=l.meta.from,this.to=l.meta.to,this.total=l.meta.total},error:l=>console.log(l)})}constructor(n){this.http=n,this.showAdd=new e.vpe,this.faAnglesLeft=_._Wx,this.faChevronLeft=_.A35,this.faChevronRight=_._tD,this.faAnglesRight=_.ccb,this.faSearch=_.wn1,this.faEdit=_.Xcf,this.faAdd=_.XSk,this.faCircleXmark=_.WA2,this.is_updating=!1,this.show_lib_drug=!1,this.per_page=10}ngOnInit(){this.loadDrugs()}}return(i=o).\u0275fac=function(n){return new(n||i)(e.Y36(x.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lib-drug-list"]],inputs:{search_item:"search_item"},outputs:{showAdd:"showAdd"},decls:32,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"flex","justify-end"],[1,"border","border-gray-400","rounded-md","bg-white"],["type","text","placeholder","Search drugs",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["type","button",1,"text-white","w-9","h-9",3,"click"],[1,"-mr-4",3,"icon"],[1,"h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"sticky","top-0","text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[1,"overflow-y-auto"],[4,"ngIf"],["class","bg-white border-t","class","hover:bg-blue-200 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-white py-3 flex items-center justify-between sm:px-6",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","4"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"hover:bg-blue-200","cursor-pointer",3,"ngClass","click"],["scope","row",1,"py-4","px-4"],[1,"py-4","px-4"],[1,"bg-white","py-3","flex","items-center","justify-between","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"mr-3"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Drugs library "),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(m){return r.search_item=m})("keyup.enter",function(){return r.loadDrugs()}),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return r.loadDrugs()}),e._UZ(10,"fa-icon",9),e.qZA()(),e.TgZ(11,"button",10),e.NdJ("click",function(){return r.closeModal()}),e._UZ(12,"fa-icon",11),e.qZA()()(),e.TgZ(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),e._uU(19,"Drug Code"),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Generic Name"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Dosage"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Dosage Form"),e.qZA()()(),e.TgZ(26,"tbody",17),e.YNc(27,re,9,1,"tr",18),e.YNc(28,oe,9,8,"tr",19),e.qZA()()()(),e.TgZ(29,"div",20),e.YNc(30,se,26,11,"div",21),e.qZA()()()(),e._UZ(31,"div",22)),2&n&&(e.xp6(8),e.Q6J("ngModel",r.search_item),e.xp6(2),e.Q6J("icon",r.faSearch),e.xp6(2),e.Q6J("icon",r.faCircleXmark),e.xp6(15),e.Q6J("ngIf",0===(null==r.drug_list?null:r.drug_list.length)),e.xp6(1),e.Q6J("ngForOf",r.drug_list),e.xp6(2),e.Q6J("ngIf",(null==r.drug_list?null:r.drug_list.length)>=1))},dependencies:[s.mk,s.sg,s.O5,v.BN,d.Fj,d.JJ,d.On]}),o})();function le(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.value)}}function ae(i,o){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18)(2,"ul",19),e.YNc(3,le,2,1,"li",20),e.ALo(4,"keyvalue"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.submit_error))}}function ue(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",22)(2,"div",23)(3,"div",24),e._uU(4," No records found... "),e.qZA(),e.TgZ(5,"div",25)(6,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showAdd())}),e._UZ(7,"fa-icon",27),e._uU(8," Add "),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("icon",t.faAdd)}}function _e(i,o){if(1&i&&(e.TgZ(0,"span",36),e._UZ(1,"br"),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.konsulta_medicine.desc)}}const ge=function(i){return{"bg-gray-50":i}};function ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e._uU(2),e.qZA(),e.TgZ(3,"td",29)(4,"span",30),e._uU(5),e.qZA(),e._uU(6),e.YNc(7,_e,3,1,"span",31),e.qZA(),e.TgZ(8,"td",29),e._uU(9),e.qZA(),e.TgZ(10,"td",29),e._uU(11),e.qZA(),e.TgZ(12,"td",29),e._uU(13),e.qZA(),e.TgZ(14,"td",29),e._uU(15),e.qZA(),e.TgZ(16,"td",29),e._uU(17),e.qZA(),e.TgZ(18,"td",29)(19,"button",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.showEdit(l))}),e._UZ(20,"fa-icon",33),e.qZA(),e.TgZ(21,"button",34),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.toggleModal("delete-item",l))}),e._UZ(22,"fa-icon",35),e.qZA()()()}if(2&i){const t=o.$implicit,n=o.odd,r=e.oxw(2);let l;e.Q6J("ngClass",e.VKq(15,ge,n)),e.xp6(2),e.hij(" ",t.brand_name," "),e.xp6(3),e.Oqu(t.konsulta_medicine?t.konsulta_medicine.generic.desc:""),e.xp6(1),e.hij(" ",null!==(l=t.added_medicine)&&void 0!==l?l:""," "),e.xp6(1),e.Q6J("ngIf",t.konsulta_medicine),e.xp6(2),e.AsE(" ",t.dosage_quantity," ",t.unit_of_measurement.desc+" ("+t.unit_of_measurement.code+")"," "),e.xp6(2),e.hij(" ",t.regimen.desc," "),e.xp6(2),e.AsE(" ",t.duration_intake," ",t.frequency.desc," "),e.xp6(2),e.AsE(" ",t.quantity," ",t.preparation.desc," "),e.xp6(2),e.hij(" ",t.medicine_route.desc," "),e.xp6(3),e.Q6J("icon",r.faEdit),e.xp6(2),e.Q6J("icon",r.faTrashCan)}}function pe(i,o){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,ue,9,1,"tr",13),e.YNc(2,ce,23,17,"tr",21),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===(null==t.drug_list?null:t.drug_list.length)),e.xp6(1),e.Q6J("ngForOf",t.drug_list)}}function me(i,o){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",37)(3,"div",38)(4,"span",39),e._UZ(5,"fa-icon",40),e.qZA(),e.TgZ(6,"span",39),e._uU(7," Loading list... "),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("icon",t.faCircleNotch)}}function fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",41)(2,"div",42)(3,"div")(4,"p",43),e._uU(5," Showing "),e.TgZ(6,"span",44),e._uU(7),e.qZA(),e._uU(8," to "),e.TgZ(9,"span",44),e._uU(10),e.qZA(),e._uU(11," of "),e.TgZ(12,"span",44),e._uU(13),e.qZA(),e._uU(14," results "),e.qZA()(),e.TgZ(15,"div")(16,"nav",45)(17,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(1))}),e._UZ(18,"fa-icon",47),e.qZA(),e.TgZ(19,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.current_page-1))}),e._UZ(20,"fa-icon",47),e._uU(21,"Previous "),e.qZA(),e.TgZ(22,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.current_page+1))}),e._uU(23," Next"),e._UZ(24,"fa-icon",49),e.qZA(),e.TgZ(25,"button",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadDrugs(r.last_page))}),e._UZ(26,"fa-icon",49),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(4),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}function he(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-lib-drug-list",51),e.NdJ("showAdd",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.showAdd(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("search_item",t.search_item)}}function be(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-drug-form",52),e.NdJ("showEdit",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.showEdit(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_drug",t.selected_drug)}}function xe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-delete-item",53),e.NdJ("toggleModal",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("delete_id",t.delete_id)("delete_desc",t.delete_desc)("url",t.url)}}const ve=[{path:"",component:(()=>{var i;class o{showEdit(n){n&&(this.selected_drug=n),this.show_drug_form=!this.show_drug_form,!1===this.show_drug_form&&(this.search_item=null,this.loadDrugs())}showAdd(n){this.selected_drug=null,"new"===n?this.show_drug_form=!0:n&&(this.selected_drug=n,this.show_drug_form=!0),this.show_lib_drug=!this.show_lib_drug}toggleModal(n,r){r&&(this.delete_id=r.id),this.modal[n]=!this.modal[n],"delete-item"===n&&!1===this.modal[n]&&this.loadDrugs()}loadDrugs(n){this.is_loading=!0;let r={params:{}};this.search_item&&(r.params["filter[search]"]=this.search_item),n&&(r.params.page=n),r.params.per_page=this.per_page,this.http.get("medicine/list",r).subscribe({next:l=>{this.drug_list=l.data,this.current_page=l.meta.current_page,this.last_page=l.meta.last_page,this.from=l.meta.from,this.to=l.meta.to,this.total=l.meta.total,this.is_loading=!1},error:l=>{this.http.showError(l.error.message,"Loading list..."),this.is_loading=!1}})}constructor(n){this.http=n,this.faAnglesLeft=_._Wx,this.faChevronLeft=_.A35,this.faChevronRight=_._tD,this.faAnglesRight=_.ccb,this.faSearch=_.wn1,this.faEdit=_.Xcf,this.faAdd=_.XSk,this.faCircleNotch=_.IJ7,this.faTrashCan=q.Vui,this.is_loading=!1,this.show_lib_drug=!1,this.show_drug_form=!1,this.per_page=10,this.modal=[],this.url="medicine/list/",this.delete_desc="Medicine List"}ngOnInit(){this.loadDrugs()}}return(i=o).\u0275fac=function(n){return new(n||i)(e.Y36(x.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-drugs"]],decls:37,vars:9,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search drugs",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[4,"ngIf"],[3,"search_item","showAdd",4,"ngIf"],[3,"selected_drug","showEdit",4,"ngIf"],[3,"delete_id","delete_desc","url","toggleModal",4,"ngIf"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],["colspan","9"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"bg-white","border-t",3,"ngClass"],[1,"py-4","px-6"],[1,"font-semibold"],["class","text-xs font-normal",4,"ngIf"],["type","button",3,"click"],[1,"text-amber-500",3,"icon"],[1,"ml-2",3,"click"],[1,"text-rose-500",3,"icon"],[1,"text-xs","font-normal"],["colspan","8",1,"text-center","py-12"],[1,"grid","grid-cols-1","w-full"],[1,"flex","justify-center"],["spin","true",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[3,"search_item","showAdd"],[3,"selected_drug","showEdit"],[3,"delete_id","delete_desc","url","toggleModal"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4," Drug List "),e.qZA(),e.TgZ(5,"div",4)(6,"input",5),e.NdJ("ngModelChange",function(m){return r.search_item=m})("keyup.enter",function(){return r.loadDrugs()}),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return r.loadDrugs()}),e._UZ(8,"fa-icon",7),e.qZA()()(),e.YNc(9,ae,5,3,"div",8),e.TgZ(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e._uU(16,"Brand Name"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"Name"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"Drug Strength "),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Regimen"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Duration"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Qty"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Medicine Route"),e.qZA(),e.TgZ(29,"th",12),e._uU(30,"Action"),e.qZA()()(),e.YNc(31,pe,3,2,"tbody",13),e.YNc(32,me,8,1,"tbody",13),e.qZA()()()(),e.YNc(33,fe,27,11,"div",13),e.qZA(),e.YNc(34,he,1,1,"app-lib-drug-list",14),e.YNc(35,be,1,1,"app-drug-form",15),e.YNc(36,xe,1,3,"app-delete-item",16)),2&n&&(e.xp6(6),e.Q6J("ngModel",r.search_item),e.xp6(2),e.Q6J("icon",r.faSearch),e.xp6(1),e.Q6J("ngIf",r.submit_error),e.xp6(22),e.Q6J("ngIf",!r.is_loading),e.xp6(1),e.Q6J("ngIf",r.is_loading),e.xp6(1),e.Q6J("ngIf",(null==r.drug_list?null:r.drug_list.length)>=1),e.xp6(1),e.Q6J("ngIf",r.show_lib_drug),e.xp6(1),e.Q6J("ngIf",r.show_drug_form),e.xp6(1),e.Q6J("ngIf",r.modal["delete-item"]))},dependencies:[s.mk,s.sg,s.O5,v.BN,d.Fj,d.JJ,d.On,f.N,ie,de,s.Nd]}),o})()}];let Ze=(()=>{var i;class o{}return(i=o).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[b.Bz.forChild(ve),b.Bz]}),o})(),ye=(()=>{var i;class o{}return(i=o).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,Ze,v.uH,d.u5,d.UX,f.N]}),o})()},3146:(A,y,a)=>{a.d(y,{N:()=>d});var s=a(5879),b=a(6223),q=a(5597),_=a(590),e=a(265),x=a(2425);const v=["confirmCode"];let d=(()=>{var f;class C{generateCode(){this.is_loading=!1,this.confirmation_code=null,this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}onSubmit(){this.is_loading=!0,this.confirm_code===this.confirmation_code?this.http.delete(this.url,this.delete_id).subscribe({next:()=>{this.is_loading=!1,this.toastr.error("Record was deleted!"),this.closeModal()},error:g=>{console.log(g),this.is_loading=!1,this.generateCode()}}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}closeModal(){this.toggleModal.emit("delete-item")}constructor(g,u){this.http=g,this.toastr=u,this.toggleModal=new s.vpe,this.faTrash=_.$aW,this.confirm_code="0000",this.is_loading=!1}ngOnChanges(g){this.generateCode()}ngAfterViewInit(){this.inputElement.nativeElement.focus()}}return(f=C).\u0275fac=function(g){return new(g||f)(s.Y36(e.O),s.Y36(x._W))},f.\u0275cmp=s.Xpm({type:f,selectors:[["app-delete-item"]],viewQuery:function(g,u){if(1&g&&s.Gf(v,5),2&g){let h;s.iGM(h=s.CRH())&&(u.inputElement=h.first)}},inputs:{url:"url",delete_id:"delete_id",delete_desc:"delete_desc"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[s.TTD,s.jDz],decls:29,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmCode"],["name","confirmCode","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","keyup.enter","ngModelChange"],["confirmCode",""],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-[59]","bg-black"]],template:function(g,u){1&g&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),s._uU(5),s.qZA()(),s.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),s._uU(10),s.qZA(),s.TgZ(11,"div",9)(12,"span",10),s._uU(13,"Delete Code"),s.qZA(),s.TgZ(14,"span",11),s._uU(15),s.qZA()(),s.TgZ(16,"div",9)(17,"label",12),s._uU(18,"Enter Code"),s.qZA(),s.TgZ(19,"input",13,14),s.NdJ("keyup.enter",function(){return u.onSubmit()})("ngModelChange",function(w){return u.confirmation_code=w}),s.qZA()(),s.TgZ(21,"div",15)(22,"button",16),s.NdJ("click",function(){return u.onSubmit()}),s._UZ(23,"fa-icon",17),s._uU(24," Delete "),s.qZA()()()()(),s.TgZ(25,"div",18)(26,"button",19),s.NdJ("click",function(){return u.closeModal()}),s._uU(27,"Cancel"),s.qZA()()()()(),s._UZ(28,"div",20)),2&g&&(s.xp6(5),s.AsE(" Delete ",u.delete_desc,": ",u.delete_id," "),s.xp6(5),s.hij(" Your are about to delete a ",u.delete_desc," record for this patient. Please enter the generated delete code in order to proceed. "),s.xp6(5),s.Oqu(u.confirm_code),s.xp6(4),s.Q6J("ngModel",u.confirmation_code),s.xp6(3),s.Q6J("disabled",!u.confirmation_code||u.is_loading),s.xp6(1),s.Q6J("icon",u.faTrash),s.xp6(3),s.Q6J("disabled",u.is_loading))},dependencies:[q.uH,q.BN,b.u5,b.Fj,b.JJ,b.On],changeDetection:0}),C})()}}]);