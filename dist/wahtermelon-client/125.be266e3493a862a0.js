"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[125],{5125:(I,d,r)=>{r.r(d),r.d(d,{ForgotPasswordModule:()=>l});var u=r(6895),f=r(2325),n=r(433),p=r(2687),o=r(1571),_=r(4691),g=r(2216);function v(s,e){1&s&&(o.TgZ(0,"span"),o._uU(1,"To reset you password please provide us your email and we will email you instructions on how to reset your password."),o.qZA())}function w(s,e){1&s&&(o.TgZ(0,"span",0),o._uU(1,"We have sent you an email to reset you password."),o.qZA())}function x(s,e){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.required_message," ")}}function F(s,e){1&s&&(o.TgZ(0,"div"),o._uU(1," Not a valid email format "),o.qZA())}function h(s,e){if(1&s&&(o.TgZ(0,"div",18),o.YNc(1,x,2,1,"div",5),o.YNc(2,F,2,0,"div",5),o.qZA()),2&s){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.email)}}function Z(s,e){if(1&s&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&s){const t=e.$implicit;o.xp6(1),o.AsE("",t.key,": ",t.value,"")}}function b(s,e){if(1&s&&(o.TgZ(0,"div",19)(1,"ul",20),o.YNc(2,Z,2,2,"li",21),o.ALo(3,"keyvalue"),o.qZA()()),2&s){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,t.submit_errors))}}function y(s,e){if(1&s&&o._UZ(0,"fa-icon",22),2&s){const t=o.oxw(2);o.Q6J("icon",t.faSpinner)}}function T(s,e){if(1&s){const t=o.EpF();o.TgZ(0,"form",9),o.NdJ("ngSubmit",function(){o.CHM(t);const c=o.oxw();return o.KtG(c.onSubmit())}),o.TgZ(1,"div",10)(2,"label",11),o._uU(3,"email"),o.qZA(),o._UZ(4,"input",12),o.YNc(5,h,3,2,"div",13),o.qZA(),o.YNc(6,b,4,3,"div",14),o.TgZ(7,"div",15)(8,"button",16),o.YNc(9,y,1,1,"fa-icon",17),o._uU(10),o.qZA()()()}if(2&s){const t=o.oxw();o.Q6J("formGroup",t.userForm),o.xp6(5),o.Q6J("ngIf",t.is_saving&&t.f.email.errors),o.xp6(1),o.Q6J("ngIf",t.submit_errors),o.xp6(2),o.Q6J("disabled",t.userForm.invalid),o.xp6(1),o.Q6J("ngIf",t.is_saving),o.xp6(1),o.hij(" ",t.is_saving?"Sending":"Send email recovery"," ")}}function C(s,e){if(1&s){const t=o.EpF();o.TgZ(0,"div",23)(1,"button",24),o.NdJ("click",function(){o.CHM(t);const c=o.oxw();return o.KtG(c.backtoLogin())}),o._UZ(2,"fa-icon",25),o._uU(3," Back to login "),o.qZA()()}if(2&s){const t=o.oxw();o.xp6(2),o.Q6J("icon",t.faArrowLeft)}}class a{get f(){return this.userForm.controls}backtoLogin(){this.router.navigate(["/"])}onSubmit(){console.log(this.userForm),this.is_saving=!0,this.userForm.valid?this.http.post("forgot-password",this.userForm.value).subscribe({next:e=>{console.log(e),this.is_saving=!1,this.is_sent=!0},error:e=>{console.log(e),this.submit_errors=e.error.errors,this.is_saving=!1}}):this.is_saving=!1}constructor(e,t,m){this.http=e,this.formBuilder=t,this.router=m,this.faSpinner=p.LM3,this.faArrowLeft=p.acZ,this.is_saving=!1,this.is_sent=!1,this.userForm=new n.cw({email:new n.NI("")})}ngOnInit(){this.userForm=this.formBuilder.nonNullable.group({email:[null,[n.kI.required,n.kI.email]]})}}a.\u0275fac=function(e){return new(e||a)(o.Y36(_.O),o.Y36(n.qu),o.Y36(f.F0))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-forgot-password"]],decls:10,vars:4,consts:[[1,"flex","w-full","justify-center"],[1,"w-2/6","rounded-lg","mt-36"],[1,"flex","justify-center","text-gray-700","text-xl","font-semibold","p-5"],[1,"flex","text-gray-700"],[1,"p-5","w-full"],[4,"ngIf"],["class","flex w-full justify-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","w-full flex pt-3 justify-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mt-5"],["for","email",1,"input-label"],["type","email","name","email","id","email","formControlName","email","email","",1,"input"],["class","invalid-alert",4,"ngIf"],["class","bg-red-200 p-2 w-full rounded-md border border-red-300 text-sm mt-5",4,"ngIf"],[1,"w-full","pt-3"],["type","submit",1,"btn-save","w-full","disabled:bg-gray-400",3,"disabled"],["class","pr-2","spin","true",3,"icon",4,"ngIf"],[1,"invalid-alert"],[1,"bg-red-200","p-2","w-full","rounded-md","border","border-red-300","text-sm","mt-5"],[1,"list-disc","pl-5"],[4,"ngFor","ngForOf"],["spin","true",1,"pr-2",3,"icon"],[1,"w-full","flex","pt-3","justify-center"],["type","submit",1,"btn-save",3,"click"],[1,"pr-2",3,"icon"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3," Reset your password "),o.qZA(),o.TgZ(4,"div",3)(5,"div",4),o.YNc(6,v,2,0,"span",5),o.YNc(7,w,2,0,"span",6),o.YNc(8,T,11,6,"form",7),o.YNc(9,C,4,1,"div",8),o.qZA()()()()),2&e&&(o.xp6(6),o.Q6J("ngIf",!t.is_sent),o.xp6(1),o.Q6J("ngIf",t.is_sent),o.xp6(1),o.Q6J("ngIf",!t.is_sent),o.xp6(1),o.Q6J("ngIf",t.is_sent))},dependencies:[u.sg,u.O5,n._Y,n.Fj,n.JJ,n.JL,n.on,n.sg,n.u,g.BN,u.Nd]});const J=[{path:"",component:a}];class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[f.Bz.forChild(J),f.Bz]});class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[u.ez,i,n.UX,n.u5,g.uH]})}}]);