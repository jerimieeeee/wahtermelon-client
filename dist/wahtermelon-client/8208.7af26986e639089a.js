"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[8208],{8208:(V,A,_)=>{_.r(A),_.d(A,{NcdModule:()=>ci});var u=_(6814),d=_(5597),Z=_(3602),m=_(590);let y;function w(i,r,t=!1){t&&y?y.unsubscribe():y=i.subscribe(()=>r())}var e=_(5879),f=_(265),b=_(8771),q=_(279),n=_(6223),g=_(1449);const P=[{id:"family_hx_hypertension",desc:"Hypertension"},{id:"family_hx_stroke",desc:"Stroke"},{id:"family_hx_heart_attack",desc:"Heart Attack"},{id:"family_hx_diabetes",desc:"Diabetes"},{id:"family_hx_asthma",desc:"Asthma"},{id:"family_hx_cancer",desc:"Cancer"},{id:"family_hx_kidney_disease",desc:"Kidney Disease"}],E=[{code:"C",desc:"Circumcised"},{code:"U",desc:"Uncircumcised"}],K=[{question_id:"1",question_e:"Have you felt any pain or discomfort, or any pressure or heaviness in your chest?",question_t:"Nakakaramdam ka ba ng pananakit o kabigatan ng iyong dibdib?"},{question_id:"2",question_e:"Do you feel pain in the center or left chest or left arm?",question_t:"Ang pananakit ba ay nararanasan sa gitna o kaliwang bahagi ng dibdib, o sa kaliwang braso?"},{question_id:"3",question_e:"Do you feel chest pain when you're walking uphill or in a hurry?",question_t:"Nararamdaman mo ba ito kapag ikaw ay nagmamadali o naglalakad nang mabilis o paakyat?"},{question_id:"4",question_e:"Do you sit down when you feel the pain while walking?",question_t:"Tumitigil ka ba sa paglalakad kapag sumasakit ang iyong dibdib?"},{question_id:"5",question_e:"Does the pain go away when you stand still or when you place a tablet under your tongue?",question_t:"Nawawala ba ang sakit kapag ikaw ay hindi kumilos o kapag naglagay ka ng gamot sa ilalim ng iyong dila?"},{question_id:"6",question_e:"Does the pain go away in less than 10 minutes?",question_t:"Nawawala ba ang sakit sa loob ng 10 minuto?"},{question_id:"7",question_e:"Have you ever had a severe chest pain which lasted for half an hour or more?",question_t:"Nakakaramdam ka ba ng pananakit ng dibdib na tumatagal ng kalahating oras o higit pa?"}],I=new n.cw({consult_id:new n.NI(null),patient_id:new n.NI(null),location:new n.NI(null),client_type:new n.NI(null),assessment_date:new n.NI(null),family_hx_hypertension:new n.NI(null),family_hx_stroke:new n.NI(null),family_hx_heart_attack:new n.NI(null),family_hx_diabetes:new n.NI(null),family_hx_asthma:new n.NI(null),family_hx_cancer:new n.NI(null),family_hx_kidney_disease:new n.NI(null),smoking:new n.NI(null),alcohol_intake:new n.NI(null),excessive_alcohol_intake:new n.NI(null),high_fat:new n.NI(null),intake_vegetables:new n.NI(null),intake_fruits:new n.NI(null),physical_activity:new n.NI(null),presence_diabetes:new n.NI(null),diabetes_medications:new n.NI(null),polyphagia:new n.NI(null),polydipsia:new n.NI(null),polyuria:new n.NI(null),obesity:new n.NI(null),central_adiposity:new n.NI(null),bmi:new n.NI(null),waist_line:new n.NI(null),raised_bp:new n.NI(null),avg_systolic:new n.NI(null),avg_diastolic:new n.NI(null),systolic_1st:new n.NI(null),diastolic_1st:new n.NI(null),systolic_2nd:new n.NI(null),diastolic_2nd:new n.NI(null)});var x=_(2425);function D(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function L(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.obesity?"Yes":"No")}}function j(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function B(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.central_adiposity?"Yes (at risk)":"No (not at risk)")}}function G(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function $(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.waist_line+" cm")}}function H(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"No 1st BP reading"),e.qZA())}function W(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.systolic_1st+"/"+t.riskAssessForm.value.diastolic_1st)}}function z(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"No 2nd BP reading"),e.qZA())}function X(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.systolic_2nd+"/"+t.riskAssessForm.value.diastolic_2nd)}}function ee(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function te(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.riskAssessForm.value.avg_systolic+"/"+t.riskAssessForm.value.avg_diastolic," ")}}function ie(i,r){1&i&&(e.TgZ(0,"label",9),e._uU(1,"N/A"),e.qZA())}function ne(i,r){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.riskAssessForm.value.raised_bp?"Yes":"No")}}function oe(i,r){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function se(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function re(i,r){if(1&i&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id)("selected","N"===t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ae(i,r){if(1&i&&(e.TgZ(0,"div",43)(1,"h4",4),e._uU(2),e.qZA(),e.TgZ(3,"select",44),e.YNc(4,re,2,3,"option",45),e.qZA()()),2&i){const t=r.$implicit,s=e.oxw(2);e.xp6(2),e.hij("",t.desc,":"),e.xp6(1),e.Q6J("formControlName",t.id)("name",t.id),e.xp6(1),e.Q6J("ngForOf",s.logical)}}function le(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function de(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ue(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ce(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function _e(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function pe(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function me(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ge(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function fe(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function he(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function be(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ve(i,r){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}const Ze=function(i){return{"invalid-input":i}};function xe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e.TgZ(1,"div",11)(2,"div",12)(3,"h4",2),e._uU(4,"NCD High Risk Assessment"),e.qZA()(),e.TgZ(5,"div",13)(6,"h4",4),e._uU(7,"Location:"),e.qZA(),e.TgZ(8,"select",14),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkDiabetes())}),e.YNc(9,oe,2,2,"option",15),e.qZA()(),e.TgZ(10,"div",13)(11,"h4",4),e._uU(12,"Client Type: "),e.qZA(),e.TgZ(13,"select",16),e.YNc(14,se,2,2,"option",17),e.qZA()(),e.TgZ(15,"div",18)(16,"h4",4),e._uU(17,"Assessment Date:"),e.qZA(),e._UZ(18,"input",19),e.qZA()(),e.TgZ(19,"div",20)(20,"div",21)(21,"h4",2),e._uU(22,"Family History:"),e.qZA()(),e.YNc(23,ae,5,4,"div",22),e.qZA(),e.TgZ(24,"div",20)(25,"div",21)(26,"h4",2),e._uU(27,"Personal / Socio History:"),e.qZA()(),e.TgZ(28,"div",23)(29,"h1",4),e._uU(30,"Smoking:"),e.qZA(),e.TgZ(31,"select",24),e.YNc(32,le,2,2,"option",17),e.qZA()(),e.TgZ(33,"div",23)(34,"h1",4),e._uU(35,"Alcohol Intake:"),e.qZA(),e.TgZ(36,"select",25),e.YNc(37,de,2,2,"option",17),e.qZA()(),e.TgZ(38,"div",23)(39,"h1",4),e._uU(40,"Excessive Alcohol Intake:"),e.qZA(),e.TgZ(41,"select",26),e.YNc(42,ue,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",23)(44,"h1",4),e._uU(45,"High Fat / High Salt Intake:"),e.qZA(),e.TgZ(46,"select",27),e.YNc(47,ce,2,2,"option",17),e.qZA()(),e.TgZ(48,"div",23)(49,"h1",4),e._uU(50,"Dietary Fiber Intake of Fruits:"),e.qZA(),e.TgZ(51,"select",28),e.YNc(52,_e,2,2,"option",17),e.qZA()(),e.TgZ(53,"div",23)(54,"h1",4),e._uU(55,"Physical Activity:"),e.qZA(),e.TgZ(56,"select",29),e.YNc(57,pe,2,2,"option",17),e.qZA()(),e.TgZ(58,"div",30)(59,"h1",4),e._uU(60,"Dietary Fiber Intake of Vegetables:"),e.qZA(),e.TgZ(61,"select",31),e.YNc(62,me,2,2,"option",17),e.qZA()()(),e.TgZ(63,"div",20)(64,"div",21)(65,"h4",2),e._uU(66,"Presence or Absence of Diabetes:"),e.qZA()(),e.TgZ(67,"div",32)(68,"h1",4),e._uU(69,"Diagnose with Diabetes"),e.qZA(),e.TgZ(70,"select",33),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkDiabetes())}),e.YNc(71,ge,2,2,"option",17),e.qZA()(),e.TgZ(72,"div",32)(73,"h1",4),e._uU(74,"Undertaking medications:"),e.qZA(),e.TgZ(75,"select",34),e.YNc(76,fe,2,2,"option",17),e.qZA()(),e.TgZ(77,"div",30)(78,"h1",4),e._uU(79,"Polyphagia"),e.qZA(),e.TgZ(80,"select",35),e.YNc(81,he,2,2,"option",17),e.qZA()(),e.TgZ(82,"div",30)(83,"h1",4),e._uU(84,"Polydipsia"),e.qZA(),e.TgZ(85,"select",36),e.YNc(86,be,2,2,"option",17),e.qZA()(),e.TgZ(87,"div",30)(88,"h1",4),e._uU(89,"Polyuria"),e.qZA(),e.TgZ(90,"select",37),e.YNc(91,ve,2,2,"option",17),e.qZA()()(),e.TgZ(92,"div",38)(93,"button",39),e._UZ(94,"fa-icon",40),e._uU(95),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.riskAssessForm),e.xp6(8),e.Q6J("ngClass",e.VKq(21,Ze,t.is_saving&&t.f.location.errors)),e.xp6(1),e.Q6J("ngForOf",t.location),e.xp6(5),e.Q6J("ngForOf",t.clients),e.xp6(9),e.Q6J("ngForOf",t.family_history),e.xp6(9),e.Q6J("ngForOf",t.smoking),e.xp6(5),e.Q6J("ngForOf",t.alcohol),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(5),e.Q6J("ngForOf",t.logical2),e.xp6(9),e.Q6J("ngForOf",t.logical),e.xp6(5),e.Q6J("ngForOf",t.logical),e.xp6(5),e.Q6J("ngForOf",t.logical),e.xp6(5),e.Q6J("ngForOf",t.logical),e.xp6(5),e.Q6J("ngForOf",t.logical),e.xp6(2),e.Q6J("disabled",t.riskAssessForm.invalid),e.xp6(1),e.Q6J("icon",t.is_saving?t.faSpinner:t.faSave)("spin",t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save"," ")}}let U=(()=>{var i;class r{onSubmit(){if(this.is_saving=!0,this.riskAssessForm.valid){let s;s=this.consult_details&&this.consult_details.assessment_date?this.http.update("non-communicable-disease/risk-assessment/",this.consult_details.id,this.riskAssessForm.value):this.http.post("non-communicable-disease/risk-assessment",this.riskAssessForm.value),s.subscribe({next:o=>{this.is_saving=!1,this.toastr.success("Recorded successfully!","Risk Assessment"),this.loadRisk.emit()},error:o=>console.log(o)})}}setAdiposity(s){let o;o="M"===this.patient_info.gender&&s>=90||"F"===this.patient_info.gender&&s>=80,this.riskAssessForm.patchValue({central_adiposity:o})}checkDiabetes(){2===this.riskAssessForm.value.location?(this.f.diabetes_medications.enable(),this.f.polyphagia.enable(),this.f.polydipsia.enable(),this.f.polyuria.enable(),this.f.client_type.enable()):this.f.client_type.disable()}getVitalsToday(s,o){s&&o&&(this.riskAssessForm.patchValue({assessment_date:(0,u.p6)(o.consult_date,"yyyy-MM-dd","en","Asia/Manila")}),Object.entries(s).reverse().every(([a,l],c)=>{let p=l;return p.patient_bmi&&this.riskAssessForm.patchValue({bmi:p.patient_bmi}),p.patient_bmi&&this.riskAssessForm.patchValue({obesity:p.patient_bmi>=25}),p.patient_bmi_class&&(this.vitals_today.patient_bmi_class=p.patient_bmi_class),(0,u.p6)(p.vitals_date,"yyyy-MM-dd","en","Asia/Manila")===(0,u.p6)(o.consult_date,"yyyy-MM-dd","en","Asia/Manila")&&(p.bp_systolic&&(this.riskAssessForm.value.systolic_1st?this.riskAssessForm.value.systolic_1st&&!this.riskAssessForm.value.systolic_2nd?(this.riskAssessForm.patchValue({systolic_2nd:p.bp_systolic,diastolic_2nd:p.bp_diastolic}),this.setAverage()):(this.riskAssessForm.patchValue({systolic_1st:this.riskAssessForm.value.systolic_2nd,diastolic_1st:this.riskAssessForm.value.diastolic_2nd}),this.riskAssessForm.patchValue({systolic_2nd:p.bp_systolic,diastolic_2nd:p.bp_diastolic}),this.setAverage()):this.riskAssessForm.patchValue({systolic_1st:p.bp_systolic,diastolic_1st:p.bp_diastolic})),!this.riskAssessForm.value.waist_line&&p.patient_waist&&(this.riskAssessForm.patchValue({waist_line:p.patient_waist}),this.setAdiposity(p.patient_waist))),!(this.riskAssessForm.value.systolic_1st&&this.riskAssessForm.value.diastolic_1st&&this.riskAssessForm.value.systolic_2nd&&this.riskAssessForm.value.diastolic_2nd&&this.vitals_today.patient_waist>0&&Object(s).length-1===c)}),this.checkIfComplete())}checkIfComplete(){this.riskAssessForm.value.bmi&&void 0!==this.riskAssessForm.value.obesity&&this.riskAssessForm.value.avg_systolic&&this.riskAssessForm.value.avg_diastolic&&this.riskAssessForm.value.waist_line&&(this.show_form=!0)}setAverage(){this.riskAssessForm.patchValue({avg_systolic:(this.riskAssessForm.value.systolic_1st+this.riskAssessForm.value.systolic_2nd)/2,avg_diastolic:(this.riskAssessForm.value.diastolic_1st+this.riskAssessForm.value.diastolic_2nd)/2}),this.riskAssessForm.patchValue(this.riskAssessForm.value.avg_systolic>=140&&this.riskAssessForm.value.avg_diastolic>=90?{raised_bp:!0}:{raised_bp:!1})}loadLibraries(){this.http.get("libraries/ncd-locations").subscribe({next:s=>this.location=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-smoking").subscribe({next:s=>this.smoking=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-answers").subscribe({next:s=>this.logical=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-answers-s2").subscribe({next:s=>this.logical2=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-client-types").subscribe({next:s=>this.clients=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-alcohol-intake").subscribe({next:s=>this.alcohol=s.data,error:s=>console.log(s)})}get f(){return this.riskAssessForm.controls}constructor(s,o,a){this.http=s,this.formBuilder=o,this.toastr=a,this.loadRisk=new e.vpe,this.faInforCircle=m.sqG,this.faSave=g.r6l,this.faSpinner=m.LM3,this.family_history=P,this.riskAssessForm=I,this.is_saving=!1,this.show_form=!1,this.vitals_today={patient_waist:null,patient_bmi_class:null}}ngOnChanges(s){this.patient_info&&this.consult_details&&this.creatFormValidation(),this.consult_details&&this.consult_details.assessment_date?(this.riskAssessForm.patchValue({...this.consult_details}),this.riskAssessForm.patchValue({assessment_date:(0,u.p6)(this.consult_details.assessment_date,"yyyy-MM-dd","en","Asia/Manila")}),this.checkDiabetes(),this.show_form=!0):this.getVitalsToday(this.vitals,this.consult_details)}creatFormValidation(){let s;s=this.consult_details.assessment_date?this.consult_details.consult_id:this.consult_details.id,this.riskAssessForm=this.formBuilder.nonNullable.group({consult_id:[s],patient_id:[this.patient_info.id],location:[null,n.kI.required],client_type:[null,n.kI.required],assessment_date:[this.consult_details.consult_date,n.kI.required],family_hx_hypertension:[null,n.kI.required],family_hx_stroke:[null,n.kI.required],family_hx_heart_attack:[null,n.kI.required],family_hx_diabetes:[null,n.kI.required],family_hx_asthma:[null,n.kI.required],family_hx_cancer:[null,n.kI.required],family_hx_kidney_disease:[null,n.kI.required],smoking:[null,n.kI.required],alcohol_intake:[null,n.kI.required],excessive_alcohol_intake:[null,n.kI.required],high_fat:[null,n.kI.required],intake_vegetables:[null,n.kI.required],intake_fruits:[null,n.kI.required],physical_activity:[null,n.kI.required],presence_diabetes:[null,n.kI.required],diabetes_medications:[null,n.kI.required],waist_line:[null,n.kI.required],polyphagia:[null,n.kI.required],polydipsia:[null,n.kI.required],polyuria:[null,n.kI.required],obesity:[null,n.kI.required],central_adiposity:[null,n.kI.required],bmi:[null,n.kI.required],raised_bp:[null,n.kI.required],avg_systolic:[null,n.kI.required],avg_diastolic:[null,n.kI.required],systolic_1st:[null,n.kI.required],diastolic_1st:[null,n.kI.required],systolic_2nd:[null,n.kI.required],diastolic_2nd:[null,n.kI.required]}),this.checkDiabetes()}ngOnInit(){this.loadLibraries()}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-assessment"]],inputs:{patient_info:"patient_info",consult_details:"consult_details",vitals:"vitals",ncd_details:"ncd_details"},outputs:{loadRisk:"loadRisk"},features:[e.TTD],decls:45,vars:16,consts:[[1,"grid","grid-cols-12","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","justify-between","w-full","bg-yellow-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-1"],[1,"text-sm","col-span-3","w-full","px-5","mt-5","mb-4","relative"],[1,"mb-1"],["class","text-red-500",4,"ngIf"],[4,"ngIf"],[1,"text-sm","col-span-3","w-full","px-5","mb-5","relative"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-red-500"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-2","rounded-tl","rounded-tr"],[1,"text-sm","col-span-4","px-5","mt-4","mb-4"],["formControlName","location","name","location",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"ngClass","change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","client_type",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[3,"value",4,"ngFor","ngForOf"],[1,"text-sm","col-span-4","px-5","mt-4","mb-6"],["formControlName","assessment_date","type","date","name","assessment_date","disabled","",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full","disabled:bg-gray-300"],[1,"grid","grid-cols-12","shadow-md","rounded-xl","mb-8"],[1,"col-span-12","flex","justify-between","w-full","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],["class","text-sm col-span-4 w-full px-5 mt-4 mb-4",4,"ngFor","ngForOf"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-4","relative"],["formControlName","smoking","name","smoking",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","alcohol_intake","name","alcohol_intake",1,"text-sm","-select","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","excessive_alcohol_intake","name","excessive_alcohol_intake",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","high_fat","name","high_fat",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","intake_fruits","name","intake_fruits",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","physical_activity","name","physical_activity",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-6","relative"],["formControlName","intake_vegetables","name","intake_vegetables",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[1,"text-sm","col-span-6","w-full","px-5","mt-4","mb-6","relative"],["formControlName","presence_diabetes","name","presence_diabetes",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"change"],["formControlName","diabetes_medications","name","diabetes_medications",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polyphagia","name","polyphagia",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polydipsia","name","polydipsia",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["formControlName","polyuria","name","polyuria",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],[1,"flex","justify-end"],["type","submit","name","add-btn",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled"],[3,"icon","spin"],[3,"ngValue"],[3,"value"],[1,"text-sm","col-span-4","w-full","px-5","mt-4","mb-4"],[1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full",3,"formControlName","name"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Patient have the following symptoms:"),e.qZA()(),e.TgZ(4,"div",3)(5,"h1",4),e._uU(6,"Obesity:"),e.qZA(),e.YNc(7,D,2,0,"label",5),e.YNc(8,L,2,1,"label",6),e.qZA(),e.TgZ(9,"div",3)(10,"h1",4),e._uU(11,"BMI:"),e.qZA(),e.TgZ(12,"label"),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"h1",4),e._uU(16,"Central Adiposity:"),e.qZA(),e.YNc(17,j,2,0,"label",5),e.YNc(18,B,2,1,"label",6),e.qZA(),e.TgZ(19,"div",3)(20,"h1",4),e._uU(21,"Waist Circumference:"),e.qZA(),e.YNc(22,G,2,0,"label",5),e.YNc(23,$,2,1,"label",6),e.qZA(),e.TgZ(24,"div",7)(25,"h1",4),e._uU(26,"BP 1st Reading:"),e.qZA(),e.YNc(27,H,2,0,"label",5),e.YNc(28,W,2,1,"label",6),e.qZA(),e.TgZ(29,"div",7)(30,"h1",4),e._uU(31,"BP 2nd Reading:"),e.qZA(),e.YNc(32,z,2,0,"label",5),e.YNc(33,X,2,1,"label",6),e.qZA(),e.TgZ(34,"div",7)(35,"h1",4),e._uU(36,"Average Blood Pressure:"),e.qZA(),e.YNc(37,ee,2,0,"label",5),e.YNc(38,te,2,1,"label",6),e.qZA(),e.TgZ(39,"div",7)(40,"h1",4),e._uU(41,"Raised Blood Pressure (>=140/90): "),e.qZA(),e.YNc(42,ie,2,0,"label",5),e.YNc(43,ne,2,1,"label",6),e.qZA()(),e.YNc(44,xe,96,23,"form",8)),2&s&&(e.xp6(7),e.Q6J("ngIf",!o.riskAssessForm.value.bmi),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.bmi),e.xp6(5),e.hij("",o.riskAssessForm.value.bmi," "),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.waist_line),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.waist_line),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.waist_line),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.waist_line),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_1st),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.systolic_1st),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_2nd),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.systolic_2nd),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.systolic_2nd),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.avg_systolic),e.xp6(4),e.Q6J("ngIf",!o.riskAssessForm.value.avg_systolic),e.xp6(1),e.Q6J("ngIf",o.riskAssessForm.value.avg_systolic),e.xp6(1),e.Q6J("ngIf",o.show_form))},dependencies:[u.mk,u.sg,u.O5,d.BN,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),r})();const ye=function(i){return{"background-color":i}},qe=function(i){return{color:i}};function Te(i,r){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h4",3),e._uU(3,"Risk Stratification Details"),e.qZA()(),e.TgZ(4,"table",4)(5,"tbody")(6,"tr",5)(7,"td",6),e._uU(8,"Risk Level"),e.qZA(),e.TgZ(9,"td",7),e._uU(10),e.qZA()(),e.TgZ(11,"tr",5)(12,"td",6),e._uU(13,"Location of Assessment"),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA()(),e.TgZ(16,"tr",5)(17,"td",6),e._uU(18,"Presence of Diabetes"),e.qZA(),e.TgZ(19,"td",6),e._uU(20),e.qZA()(),e.TgZ(21,"tr",5)(22,"td",6),e._uU(23,"Patient Gender"),e.qZA(),e.TgZ(24,"td",6),e._uU(25),e.qZA()(),e.TgZ(26,"tr",5)(27,"td",6),e._uU(28,"Patient Age"),e.qZA(),e.TgZ(29,"td",6),e._uU(30),e.qZA()(),e.TgZ(31,"tr",5)(32,"td",6),e._uU(33,"Smoking Status"),e.qZA(),e.TgZ(34,"td",6),e._uU(35),e.qZA()(),e.TgZ(36,"tr",9)(37,"td",6),e._uU(38,"Actual Systolic Blood Pressure"),e.qZA(),e.TgZ(39,"td",6),e._uU(40),e.qZA()()()(),e.TgZ(41,"div",10)(42,"h1",11),e._uU(43,"Health Information"),e.qZA(),e.TgZ(44,"ul",12)(45,"li",13),e._uU(46,"All individuals with persistent raised BP \u2265 160/100 mmHg should be given antihypertensive treatment."),e.qZA(),e.TgZ(47,"li",13),e._uU(48,"All patients with established diabetes and cardiovascular disease (coronary heart disease, myocardial infarction, transient ischaemic attacks, cerebrovascular disease or peripheral vascular disease); if stable, should continue the treatment already prescribed and be considered as with risk > 30%."),e.qZA(),e.TgZ(49,"li",13),e._uU(50,"All individuals with total cholesterol at or above 8 mmol/l (320mg/dl) should be given lifestyle advise and statins."),e.qZA()(),e.TgZ(51,"ul",12)(52,"li",13),e._uU(53,"Counsel on diet, physical activity, smoking cessation, (Protocol 3P and 4P)."),e.qZA(),e.TgZ(54,"li",13),e._uU(55,"If risk < 10%, follow up in 12 months."),e.qZA(),e.TgZ(56,"li",13),e._uU(57,"If risk 10 to < 20%, follow up every 3 months until the targets are met, then 6-9 months thereafter."),e.qZA()(),e.TgZ(58,"ul",12)(59,"li",13),e._uU(60,"Counsel on diet, physical activity, smoking cessation, (Protocols 3P and 4P)."),e.qZA(),e.TgZ(61,"li",13),e._uU(62,"Persistent BP \u2265 140/90 mmHg (in DM \u2265 130/80 mmHg) consider a low dose of one of the drugs. Hydrochlorthiazide 25-50 mg daily. Enalapril 5-20 mg daily. Atenolol 50-100 mg daily. Amiodipine 5-10 mg daily"),e.qZA(),e.TgZ(63,"li",13),e._uU(64,"Follow-up every 3-6 months."),e.qZA()(),e.TgZ(65,"ul",14)(66,"li",13),e._uU(67,"Counsel on diet, physical activity, smoking cessation."),e.qZA(),e.TgZ(68,"li",13),e._uU(69,"Persistent BP \u2265 130/80 should be given one of the drugs: thiazide, ACE inhibitor, beta blocker, calcium channel blocker. "),e.qZA(),e.TgZ(70,"li",13),e._uU(71,"Give a statin."),e.qZA(),e.TgZ(72,"li",13),e._uU(73,"Follow-up every three months."),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(9,ye,null==t.risk_strat?null:t.risk_strat.color)),e.xp6(8),e.Q6J("ngStyle",e.VKq(11,qe,null==t.risk_strat?null:t.risk_strat.color)),e.xp6(1),e.Oqu(null==t.risk_strat?null:t.risk_strat.risk_level),e.xp6(5),e.Oqu(null==t.risk_strat?null:t.risk_strat.type),e.xp6(5),e.Oqu(null!=t.risk_strat&&t.risk_strat.diabetes_present?"Y":"N"),e.xp6(5),e.Oqu("M"===(null==t.info?null:t.info.gender)?"Male":"Female"),e.xp6(5),e.Oqu(null==t.info?null:t.info.age),e.xp6(5),e.Oqu(null!=t.risk_strat&&t.risk_strat.smoking_status?"Y":"N"),e.xp6(5),e.Oqu(null==t.risk_strat?null:t.risk_strat.sbp)}}let F=(()=>{var i;class r{loadRiskStrat(){this.http.get("non-communicable-disease/risk-stratification",{params:{patient_id:this.patient_id}}).subscribe({next:o=>{this.show_form=!0,this.info=o.data[0],this.risk_strat=o.risk_stratification,console.log(o)},error:o=>console.log(o)})}constructor(s,o){this.http=s,this.toastr=o,this.faInfoCircle=m.sqG,this.show_form=!1}ngOnInit(){this.loadRiskStrat()}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-stratification"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},decls:1,vars:1,consts:[["class","grid grid-cols-12 item-start flex-wrap shadow-md rounded-xl mb-4 mt-8",4,"ngIf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8"],[1,"col-span-12","flex","px-5","py-3","rounded-tl","rounded-tr",3,"ngStyle"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"text-sm","col-span-6","col-start-1","table-auto","border-r-2","border-gray-200"],[1,"border-b-2","border-gray-200"],[1,"px-5","py-3"],[1,"px-5","py-3","text-gray","font-bold","text-lg",3,"ngStyle"],[1,"px-5","py-3","capitalize"],[1,""],[1,"text-sm","col-span-6","col-start-7","table-auto","overflow-y-auto","h-96"],[1,"px-5","py-5","font-bold"],[1,"list-disc","px-8"],[1,"py-3"],[1,"list-disc","px-8","mb-4"]],template:function(s,o){1&s&&e.YNc(0,Te,74,13,"div",0),2&s&&e.Q6J("ngIf",o.show_form)},dependencies:[u.O5,u.PC]}),r})();const Ae=new n.cw({consult_ncd_risk_id:new n.NI(null),patient_ncd_id:new n.NI(null),consult_id:new n.NI(null),patient_id:new n.NI(null),question1:new n.NI(null),question2:new n.NI(null),question3:new n.NI(null),question4:new n.NI(null),question5:new n.NI(null),question6:new n.NI(null),question7:new n.NI(null),question8:new n.NI(null),angina_heart_attack:new n.NI(null),stroke_tia:new n.NI(null)});function we(i,r){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"h1",10),e._uU(3),e.qZA(),e.TgZ(4,"h1",23),e._uU(5),e.qZA()(),e.TgZ(6,"div",13)(7,"select",24),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getAnginaValue())}),e.YNc(8,we,2,2,"option",15),e.qZA()()()}if(2&i){const t=r.$implicit,s=e.oxw(2);e.xp6(3),e.AsE("",t.question_id,". ",t.question_e," "),e.xp6(2),e.Oqu(t.question_t),e.xp6(2),e.Q6J("formControlName","question"+t.question_id)("name","question"+t.question_id),e.xp6(1),e.Q6J("ngForOf",s.logical2)}}function Ce(i,r){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function Ne(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSave)}}function Ie(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw(2);e.Q6J("icon",t.faSpinner)}}const J=function(i){return{"bg-red-400":i}},Q=function(i){return{"text-red-400":i}};function Ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e.TgZ(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Angina or Heart Attack"),e.qZA()(),e.YNc(5,ke,9,6,"div",5),e._UZ(6,"div",6),e.TgZ(7,"p",7)(8,"b"),e._uU(9,"Note:"),e.qZA(),e._uU(10," If the answer is "),e.TgZ(11,"b"),e._uU(12,"YES"),e.qZA(),e._uU(13," to either questions 3, 4, 5, 6, or 7, the patient may have angina or heart attack, and must see a doctor. "),e.qZA()(),e.TgZ(14,"div",8)(15,"div",3)(16,"h4",4),e._uU(17,"Stroke or Transient Ischemic Attack"),e.qZA()(),e.TgZ(18,"div",9)(19,"h1",10),e._uU(20," 8. Have you experienced any of the following: "),e.qZA(),e.TgZ(21,"ul",11)(22,"li"),e._uU(23,"Difficulty in talking."),e.qZA(),e.TgZ(24,"li"),e._uU(25,"Weakness of arm and/or legs on one side of the body or numbness on one side of the body?"),e.qZA()(),e.TgZ(26,"h1",12),e._uU(27," Have you experienced any of the following: "),e.qZA(),e.TgZ(28,"ul",11)(29,"li"),e._uU(30,"Hirap sa pagsasalita."),e.qZA(),e.TgZ(31,"li"),e._uU(32,"Panghihina ng braso at/o ng binti o pamamanhid ng kalahating bahagi ng katawan?"),e.qZA()()(),e.TgZ(33,"div",13)(34,"select",14),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getStrokeTia())}),e.YNc(35,Ce,2,2,"option",15),e.qZA()(),e._UZ(36,"div",16),e.TgZ(37,"p",7)(38,"b"),e._uU(39,"Note:"),e.qZA(),e._uU(40," If the answer to question 8 is "),e.TgZ(41,"b"),e._uU(42,"YES"),e.qZA(),e._uU(43,", the patient may be having TIA or stroke, and must see a doctor. "),e.qZA()(),e.TgZ(44,"div",17)(45,"button",18),e.YNc(46,Ne,1,1,"fa-icon",19),e.YNc(47,Ie,1,1,"fa-icon",20),e._uU(48," Save "),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.questionnaireForm),e.xp6(2),e.Q6J("ngClass",e.VKq(10,J,"Y"===t.questionnaireForm.value.angina_heart_attack)),e.xp6(3),e.Q6J("ngForOf",t.questionnaire),e.xp6(2),e.Q6J("ngClass",e.VKq(12,Q,"Y"===t.questionnaireForm.value.angina_heart_attack)),e.xp6(8),e.Q6J("ngClass",e.VKq(14,J,"Y"===t.questionnaireForm.value.stroke_tia)),e.xp6(20),e.Q6J("ngForOf",t.logical2),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Q,"Y"===t.questionnaireForm.value.stroke_tia)),e.xp6(8),e.Q6J("disabled",t.questionnaireForm.invalid||t.is_saving),e.xp6(1),e.Q6J("ngIf",!t.is_saving),e.xp6(1),e.Q6J("ngIf",t.is_saving)}}let S=(()=>{var i;class r{loadLibraries(){this.http.get("libraries/ncd-answers-s2").subscribe({next:s=>{this.logical2=s.data,console.log(s.data)},error:s=>console.log(s)})}getAnginaValue(){this.questionnaireForm.patchValue("Y"===this.questionnaireForm.value.question3||"Y"===this.questionnaireForm.value.question4||"Y"===this.questionnaireForm.value.question5||"Y"===this.questionnaireForm.value.question6||"Y"===this.questionnaireForm.value.question7?{angina_heart_attack:"Y"}:{angina_heart_attack:"N"})}getStrokeTia(){this.questionnaireForm.patchValue("Y"===this.questionnaireForm.value.question8?{stroke_tia:"Y"}:{stroke_tia:"N"})}identify(s,o){return o.id}onSubmit(){this.is_saving=!0,this.questionnaireForm.valid&&this.http.post("non-communicable-disease/risk-questionnaire",this.questionnaireForm.value).subscribe({next:s=>{console.log(s),this.toastr.success("Recorded successfully!","Questionnaire"),this.is_saving=!1},error:s=>console.log(s)})}getRecord(){this.consult_details&&(this.questionnaireForm.patchValue({...this.consult_details.riskQuestionnaire}),this.getAnginaValue(),this.getStrokeTia(),this.show_form=!0)}createForm(){this.consult_details&&this.consult_details.assessment_date&&(this.questionnaireForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[this.consult_details.id],patient_ncd_id:[this.consult_details.patient_ncd_id],consult_id:[this.consult_details.consult_id,n.kI.required],patient_id:[this.consult_details.patient_id,n.kI.required],question1:[null,n.kI.required],question2:[null,n.kI.required],question3:[null,n.kI.required],question4:[null,n.kI.required],question5:[null,n.kI.required],question6:[null,n.kI.required],question7:[null,n.kI.required],question8:[null,n.kI.required],angina_heart_attack:[null,n.kI.required],stroke_tia:[null,n.kI.required]}),this.getRecord())}ngOnChanges(s){this.createForm()}constructor(s,o,a){this.http=s,this.formBuilder=o,this.toastr=a,this.faInfoCircle=m.sqG,this.faSave=g.r6l,this.faSpinner=m.LM3,this.questionnaireForm=Ae,this.is_saving=!1,this.show_form=!1,this.questionnaire=K}ngOnInit(){this.loadLibraries()}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-questionnaire"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-t-xl",3,"ngClass"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],["class","col-span-full grid grid-cols-12",4,"ngFor","ngForOf"],[1,"text-sm","col-start-1","col-span-12","border-b-2","border-gray-200","mt-2","mb-4"],[1,"text-sm","col-start-1","col-span-12","w-full","px-5","mt-2","mb-4",3,"ngClass"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8"],[1,"text-sm","col-start-1","col-span-9","w-full","px-5","mt-4","mb-4"],[1,"mb-1"],[1,"list-disc","px-8"],[1,"mb-1","px-4","mt-2"],[1,"col-start-10","col-span-3","px-5"],["formControlName","question8","name","question8",1,"text-sm","mt-4","bg-white","border-gray-300","border","px-2","p-2.5","rounded-md","w-full",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-start-1","col-span-12","border-b-2","border-gray-200","mt-2","mb-1"],[1,"flex","justify-end"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],[1,"col-span-full","grid","grid-cols-12"],[1,"text-sm","col-start-1","col-span-9","w-full","px-5","mt-4","mb-4","grid","grid-cols-1"],[1,"pl-3","italic"],[1,"text-sm","mt-4","bg-white","border-gray-300","border","px-2","p-2.5","rounded-md","w-full",3,"formControlName","name","change"],[3,"value"],[1,"mr-2",3,"icon"],["spin","true",1,"mr-2",3,"icon"]],template:function(s,o){1&s&&e.YNc(0,Ue,49,18,"form",0),2&s&&e.Q6J("ngIf",o.show_form)},dependencies:[u.mk,u.sg,u.O5,d.BN,n._Y,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u]}),r})();function Fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.patient_diagnosis[l.id]=o)}),e.qZA(),e.TgZ(2,"label",20),e._uU(3),e.qZA()()}if(2&i){const t=r.$implicit,s=e.oxw();e.xp6(1),e.Q2q("id","patient_diagnosis",t.id,""),e.Q6J("ngModel",s.patient_diagnosis[t.id]),e.xp6(1),e.Q2q("for","patient_diagnosis",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.patient_target_organ[l.id]=o)}),e.qZA(),e.TgZ(2,"label",20),e._uU(3),e.qZA()()}if(2&i){const t=r.$implicit,s=e.oxw();e.xp6(1),e.Q2q("id","patient_target_organ",t.id,""),e.Q6J("ngModel",s.patient_target_organ[t.id]),e.xp6(1),e.Q2q("for","patient_target_organ",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function Se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"h1",21),e._uU(2),e.qZA(),e.TgZ(3,"select",22),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.ncd_record[l.code]=o)}),e.YNc(4,Qe,2,2,"option",23),e.qZA()()}if(2&i){const t=r.$implicit,s=e.oxw();e.xp6(2),e.Oqu(t.desc),e.xp6(1),e.Q6J("ngModel",s.ncd_record[t.code]),e.xp6(1),e.Q6J("ngForOf",s.physical_examination_result)}}function Oe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.patient_counseling[l.id]=o)}),e.qZA(),e.TgZ(2,"label",25),e._uU(3),e.qZA()()}if(2&i){const t=r.$implicit,s=e.oxw();e.xp6(1),e.Q2q("id","patient_counseling",t.id,""),e.Q6J("ngModel",s.patient_counseling[t.id]),e.xp6(1),e.Q2q("for","patient_counseling",t.id,""),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Re(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function Ye(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}let O=(()=>{var i;class r{loadLibraries(){Object.entries(this.libraries).forEach(([s,o],a)=>{let l=o;this.http.get("libraries/"+l.url).subscribe({next:c=>{this[l.var_name]=c.data},error:c=>console.log(c)})})}getRecord(){this.consult_details.patientNcdRecord&&(this.ncd_record=this.consult_details.patientNcdRecord,this.consult_details&&Object.keys(this.consult_details.ncdRecordTargetOrgan).length>0&&(this.patient_target_organ=this.loadIndexSelected(this.consult_details.ncdRecordTargetOrgan,"target_organ_code")),this.consult_details&&Object.keys(this.consult_details.ncdRecordDiagnosis).length>0&&(this.patient_diagnosis=this.loadIndexSelected(this.consult_details.ncdRecordDiagnosis,"diagnosis_code")),this.consult_details&&Object.keys(this.consult_details.ncdRecordCounselling).length>0&&(this.patient_counseling=this.loadIndexSelected(this.consult_details.ncdRecordCounselling,"counselling_code")))}loadIndexSelected(s,o){let a=[];return Object.keys(s).length>0&&Object.entries(s).forEach(([l,c],p)=>{a[c[o]]=!0}),a}onSubmit(){this.ncd_record.patient_ncd_id=this.consult_details.patient_ncd_id,this.ncd_record.consult_ncd_risk_id=this.consult_details.id,this.ncd_record.patient_id=this.consult_details.patient_id,this.ncd_record.consultation_date=(0,u.p6)(this.consult_details.assessment_date,"yyyy-MM-dd","en","Asia/Manila"),this.ncd_record.diagnosis_code=this.getIndexVal(this.patient_diagnosis),this.ncd_record.counselling_code=this.getIndexVal(this.patient_counseling),this.ncd_record.target_organ_code=this.getIndexVal(this.patient_target_organ),this.http.post("non-communicable-disease/patient-record",this.ncd_record).subscribe({next:s=>{console.log(s),this.toastr.success("Successfully recorded!","NCD Record")},error:s=>console.log(s)})}getIndexVal(s){let o=[];return s.forEach((a,l)=>{!0===a&&o.push(l)}),o}constructor(s,o){this.http=s,this.toastr=o,this.faSave=g.r6l,this.faInfoCircle=m.sqG,this.faSpinner=m.LM3,this.is_saving=!1,this.patient_counseling=[],this.patient_target_organ=[],this.patient_diagnosis=[],this.ncd_record={current_medications:null,palpitation_heart:null,peripheral_pulses:null,abdomen:null,heart:null,lungs:null,sensation_feet:null,other_findings:null,other_infos:null},this.logical=[{code:"Y",desc:"Yes"},{code:"N",desc:"No"},{code:"U",desc:"Unknown"},{code:"X",desc:"Not Applicable"}],this.physical_examination=[{code:"palpitation_heart",desc:"Palpitation of heart"},{code:"peripheral_pulses",desc:"Palpation of peripheral pulses"},{code:"abdomen",desc:"Palpation of abdomen"},{code:"heart",desc:"Auscultation of heart"},{code:"lungs",desc:"Auscultation of lungs"},{code:"sensation_feet",desc:"If DM, sensation of feet and foot pulses"}],this.libraries=[{var_name:"counselling",url:"ncd-record-counselling"},{var_name:"diagnosis",url:"ncd-record-diagnosis"},{var_name:"target_organ",url:"ncd-record-target-organ"},{var_name:"physical_examination_result",url:"ncd-physical-exam"}]}ngOnInit(){this.loadLibraries()}ngOnChanges(s){this.getRecord()}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-record"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:53,vars:10,consts:[[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-t-xl"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"col-span-12"],[1,"text-sm","col-span-12","px-5","mt-4"],[1,"font-bold","text-md","mt-2","mb-2","text-lg","text-blue-500"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5"],[1,"mb-1","font-semibold"],["name","text","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full",3,"ngModel","ngModelChange"],[1,"text-sm","col-span-12","px-5"],[1,"col-span-12","grid","grid-cols-12","gap-4","ml-10","mb-6"],["class","text-sm col-span-6 ",4,"ngFor","ngForOf"],[1,"col-span-12","grid","grid-cols-12","gap-4","ml-10","mb-6","mr-5"],["class","text-sm col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","flex","justify-end","mr-5","mb-5"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","spin","true",3,"icon",4,"ngIf"],[1,"text-sm","col-span-6"],["type","checkbox",1,"h-4","w-4","border-gray-400","text-blue-500","rounded-md","mr-3",3,"ngModel","ngModelChange"],[1,"ml-1","align-middle"],[1,"mb-1"],["name","family_hx_hypertension",1,"text-sm","form-select","bg-white","border-gray-200","border","p-2.5","rounded-md","w-full",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ml-1","align-middle",3,"value"],[1,"mr-3",3,"icon"],["spin","true",1,"mr-3",3,"icon"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Patient NCD Consulting Record"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h4",5),e._uU(7,"Current Medications"),e.qZA()(),e.TgZ(8,"div",6)(9,"h4",7),e._uU(10,"List current medications"),e.qZA(),e.TgZ(11,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.current_medications=l}),e.qZA()()(),e.TgZ(12,"div",3)(13,"div",9)(14,"h4",5),e._uU(15,"Diagnosis & Associated Clinical Conditions"),e.qZA()(),e.TgZ(16,"div",10),e.YNc(17,Fe,4,4,"div",11),e.qZA()(),e.TgZ(18,"div",3)(19,"div",9)(20,"h4",5),e._uU(21,"Target Organ Damage"),e.qZA()(),e.TgZ(22,"div",10),e.YNc(23,Je,4,4,"div",11),e.qZA()(),e.TgZ(24,"div",3)(25,"div",9)(26,"h4",5),e._uU(27,"Physical Examination"),e.qZA()(),e.TgZ(28,"div",12),e.YNc(29,Se,5,3,"div",13),e.qZA(),e.TgZ(30,"div",6)(31,"h4",7),e._uU(32,"Other significant findings/ Laboratory results"),e.qZA(),e.TgZ(33,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.other_findings=l}),e.qZA()()(),e.TgZ(34,"div",3)(35,"div",9)(36,"h4",5),e._uU(37,"Provided Counselling On"),e.qZA()(),e.TgZ(38,"div",10),e.YNc(39,Oe,4,5,"div",11),e.qZA()(),e.TgZ(40,"div",3)(41,"div",4)(42,"h4",5),e._uU(43,"Others"),e.qZA()(),e.TgZ(44,"div",6)(45,"h4",7),e._uU(46,"Other information"),e.qZA(),e.TgZ(47,"textarea",8),e.NdJ("ngModelChange",function(l){return o.ncd_record.other_infos=l}),e.qZA()()(),e.TgZ(48,"div",14)(49,"button",15),e.NdJ("click",function(){return o.onSubmit()}),e.YNc(50,Re,1,1,"fa-icon",16),e.YNc(51,Ye,1,1,"fa-icon",17),e._uU(52," Save "),e.qZA()()()),2&s&&(e.xp6(11),e.Q6J("ngModel",o.ncd_record.current_medications),e.xp6(6),e.Q6J("ngForOf",o.diagnosis),e.xp6(6),e.Q6J("ngForOf",o.target_organ),e.xp6(6),e.Q6J("ngForOf",o.physical_examination),e.xp6(4),e.Q6J("ngModel",o.ncd_record.other_findings),e.xp6(6),e.Q6J("ngForOf",o.counselling),e.xp6(8),e.Q6J("ngModel",o.ncd_record.other_infos),e.xp6(2),e.Q6J("disabled",o.is_saving),e.xp6(1),e.Q6J("ngIf",!o.is_saving),e.xp6(1),e.Q6J("ngIf",o.is_saving))},dependencies:[u.sg,u.O5,d.BN,n.YN,n.Kr,n.Fj,n.Wl,n.EJ,n.JJ,n.On]}),r})();const Me=[{code:"Y",desc:"Yes"},{code:"N",desc:"No"}],Ve=[{code:"a",desc:"Positive"},{code:"b",desc:"Negative"},{code:"c",desc:"Suspect Cancer"}],R=new n.cw({ncd_id:new n.NI(null),patient_id:new n.NI(null),facility_code:new n.NI(null),abdomen_code:new n.NI(null),abdomen_remarks:new n.NI(null),abdominal_surgery:new n.NI(null),abdominal_surgery_remarks:new n.NI(null),abortion:new n.NI(null),allergies:new n.NI(null),allergies_remarks:new n.NI(null),any_spouse:new n.NI(null),any_spouse_remarks:new n.NI(null),breast_code:new n.NI(null),breast_remarks:new n.NI(null),cancer:new n.NI(null),cancer_remarks:new n.NI(null),chest_code:new n.NI(null),chest_remarks:new n.NI(null),children:new n.NI(null),cigarettes:new n.NI(null),client:new n.NI(null),client_remarks:new n.NI(null),counseling:new n.NI(null),current_medication:new n.NI(null),duration:new n.NI(null),first_intercourse:new n.NI(null),first_preg:new n.NI(null),full_term:new n.NI(null),gravidity:new n.NI(null),heart_code:new n.NI(null),heart_remarks:new n.NI(null),heent_code:new n.NI(null),heent_remarks:new n.NI(null),livebirths:new n.NI(null),medication_remarks:new n.NI(null),months:new n.NI(null),pap_smear:new n.NI(null),pap_smear_findings:new n.NI(null),parity:new n.NI(null),pelvic_code:new n.NI(null),pelvic_remarks:new n.NI(null),preterm:new n.NI(null),previous_screening:new n.NI(null),recto_vaginal:new n.NI(null),sexual_partners:new n.NI(null),skin_code:new n.NI(null),skin_remarks:new n.NI(null),smoking:new n.NI(null),smoking_remarks:new n.NI(null),spouse:new n.NI(null),treatment:new n.NI(null),vaginal_bleeding:new n.NI(null),vaginal_discharge:new n.NI(null),via_findings:new n.NI(null),via_result:new n.NI(null),years:new n.NI(null),glands:new n.NI(null),glands_remarks:new n.NI(null),speculum:new n.NI(null),speculum_remarks:new n.NI(null),motion_tenderness:new n.NI(null),tenderness:new n.NI(null),size:new n.NI(null),shape:new n.NI(null),uterus:new n.NI(null),menarche:new n.NI(null),lmp:new n.NI(null),aog:new n.NI(null),bleeding_pattern:new n.NI(null),pads:new n.NI(null),referral:new n.NI(null)});function Pe(i,r){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),e._uU(5,"Number of children"),e.qZA(),e._UZ(6,"input",17),e.qZA()()()())}function Ee(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ke(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function De(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Le(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function je(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Be(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.code)}}function Ge(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function $e(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function He(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function We(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ze(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Xe(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function et(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function tt(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"div",18)(2,"h4",19),e._uU(3,"A. OB-GYNE History"),e.qZA()(),e.TgZ(4,"div",13)(5,"h4",20),e._uU(6,"Menstrual history"),e.qZA(),e.TgZ(7,"div",21)(8,"div",22)(9,"h4",16),e._uU(10,"Menarche"),e.qZA(),e._UZ(11,"input",23),e.qZA(),e.TgZ(12,"div",22)(13,"h4",16),e._uU(14,"Last menstrual period (LMP)"),e.qZA(),e._UZ(15,"input",24),e.qZA(),e.TgZ(16,"div",22)(17,"h4",16),e._uU(18,"AOG"),e.qZA(),e._UZ(19,"input",25),e.qZA(),e.TgZ(20,"div",22)(21,"h4",16),e._uU(22,"Menstrual bleeding pattern"),e.qZA(),e.TgZ(23,"select",26)(24,"option",27),e._uU(25,"Regular"),e.qZA(),e.TgZ(26,"option",28),e._uU(27,"Irregular"),e.qZA()()(),e.TgZ(28,"div",22)(29,"h4",16),e._uU(30,"Number of pads/day"),e.qZA(),e._UZ(31,"input",29),e.qZA()()(),e.TgZ(32,"div",30)(33,"h4",20),e._uU(34,"Menstrual history"),e.qZA(),e.TgZ(35,"div",21)(36,"div",15)(37,"h4",16),e._uU(38,"Gravidity"),e.qZA(),e._UZ(39,"input",31),e.qZA(),e.TgZ(40,"div",15)(41,"h4",16),e._uU(42,"Parity"),e.qZA(),e._UZ(43,"input",32),e.qZA(),e.TgZ(44,"div",33)(45,"h4",16),e._uU(46,"Full-term"),e.qZA(),e._UZ(47,"input",34),e.qZA(),e.TgZ(48,"div",33)(49,"h4",16),e._uU(50,"Preterm"),e.qZA(),e._UZ(51,"input",35),e.qZA(),e.TgZ(52,"div",33)(53,"h4",16),e._uU(54,"Abortion"),e.qZA(),e._UZ(55,"input",36),e.qZA(),e.TgZ(56,"div",33)(57,"h4",16),e._uU(58,"Livebirths"),e.qZA(),e._UZ(59,"input",37),e.qZA(),e.TgZ(60,"div",15)(61,"h4",16),e._uU(62,"Age at first full term pregnancy (high risk if below 17 years old)"),e.qZA(),e._UZ(63,"input",38),e.qZA()()(),e.TgZ(64,"div",30)(65,"h4",20),e._uU(66,"Oral Contraceptives Use (Duration)"),e.qZA(),e.TgZ(67,"div",21)(68,"div",15)(69,"h4",16),e._uU(70,"Number of years"),e.qZA(),e._UZ(71,"input",39),e.qZA(),e.TgZ(72,"div",15)(73,"h4",16),e._uU(74,"Number of months"),e.qZA(),e._UZ(75,"input",40),e.qZA()()(),e.TgZ(76,"div",30)(77,"h4",20),e._uU(78,"History of previous cervical cancer screening"),e.qZA(),e.TgZ(79,"div",21)(80,"div",22)(81,"h4",16),e._uU(82,"History of previous screening"),e.qZA(),e.TgZ(83,"select",41),e.YNc(84,Ee,2,2,"option",42),e.qZA()(),e.TgZ(85,"div",22)(86,"h4",16),e._uU(87,"VIA (Result)"),e.qZA(),e.TgZ(88,"select",43),e.YNc(89,Ke,2,2,"option",42),e.qZA()(),e.TgZ(90,"div",22)(91,"h4",16),e._uU(92,"Pap smear (Result)"),e.qZA(),e.TgZ(93,"select",44),e.YNc(94,De,2,2,"option",42),e.qZA()()()(),e.TgZ(95,"div",30)(96,"h4",20),e._uU(97,"History of abnormal vaginal discharge / bleeding"),e.qZA(),e.TgZ(98,"div",21)(99,"div",15)(100,"h4",16),e._uU(101,"Discharge"),e.qZA(),e.TgZ(102,"select",45),e.YNc(103,Le,2,2,"option",42),e.qZA()(),e.TgZ(104,"div",15)(105,"h4",16),e._uU(106,"Bleeding"),e.qZA(),e.TgZ(107,"select",46),e.YNc(108,je,2,2,"option",42),e.qZA()()()(),e.TgZ(109,"div",18)(110,"h4",19),e._uU(111,"B. Sexual History"),e.qZA()(),e.TgZ(112,"div",13)(113,"h4",20),e._uU(114,"History"),e.qZA(),e.TgZ(115,"div",21)(116,"div",22)(117,"h4",16),e._uU(118,"Age at first intercourse"),e.qZA(),e._UZ(119,"input",47),e.qZA(),e.TgZ(120,"div",22)(121,"h4",16),e._uU(122,"Number of sexual partner/s"),e.qZA(),e._UZ(123,"input",48),e.qZA(),e.TgZ(124,"div",22)(125,"h4",16),e._uU(126,"Spouse/Partner/s"),e.qZA(),e.TgZ(127,"select",49),e.YNc(128,Be,2,2,"option",42),e.qZA()()()(),e.TgZ(129,"div",13)(130,"h4",20),e._uU(131,"STI History"),e.qZA(),e.TgZ(132,"div",21)(133,"div",22)(134,"h4",16),e._uU(135,"Client"),e.qZA(),e.TgZ(136,"select",50),e.YNc(137,Ge,2,2,"option",42),e.qZA()(),e.TgZ(138,"div",51)(139,"h4",16),e._uU(140,"Specify"),e.qZA(),e._UZ(141,"input",52),e.qZA(),e.TgZ(142,"div",22)(143,"h4",16),e._uU(144,"Any of spouse/partner/s"),e.qZA(),e.TgZ(145,"select",53),e.YNc(146,$e,2,2,"option",42),e.qZA()(),e.TgZ(147,"div",51)(148,"h4",16),e._uU(149,"Specify"),e.qZA(),e._UZ(150,"input",54),e.qZA()()(),e.TgZ(151,"div",18)(152,"h4",19),e._uU(153,"C. Family and Social History"),e.qZA()(),e.TgZ(154,"div",13)(155,"div",21)(156,"div",22)(157,"h4",16),e._uU(158,"Family history of cancer"),e.qZA(),e.TgZ(159,"select",55),e.YNc(160,He,2,2,"option",42),e.qZA()(),e.TgZ(161,"div",51)(162,"h4",16),e._uU(163,"Specify"),e.qZA(),e._UZ(164,"input",56),e.qZA(),e.TgZ(165,"div",22)(166,"h4",16),e._uU(167,"Smoking"),e.qZA(),e.TgZ(168,"select",57),e.YNc(169,We,2,2,"option",42),e.qZA()(),e.TgZ(170,"div",22)(171,"h4",16),e._uU(172,"Year started"),e.qZA(),e._UZ(173,"input",17),e.qZA(),e.TgZ(174,"div",22)(175,"h4",16),e._uU(176,"Number of cigarettes sticks/day"),e.qZA(),e._UZ(177,"input",17),e.qZA()()(),e.TgZ(178,"div",18)(179,"h4",19),e._uU(180,"D. Medical History"),e.qZA()(),e.TgZ(181,"div",13)(182,"div",21)(183,"div",22)(184,"h4",16),e._uU(185,"Current medication"),e.qZA(),e.TgZ(186,"select",58),e.YNc(187,ze,2,2,"option",42),e.qZA()(),e.TgZ(188,"div",51)(189,"h4",16),e._uU(190,"Specify"),e.qZA(),e._UZ(191,"input",59),e.qZA(),e.TgZ(192,"div",22)(193,"h4",16),e._uU(194,"Allergies"),e.qZA(),e.TgZ(195,"select",60),e.YNc(196,Xe,2,2,"option",42),e.qZA()(),e.TgZ(197,"div",51)(198,"h4",16),e._uU(199,"Specify"),e.qZA(),e._UZ(200,"input",61),e.qZA(),e.TgZ(201,"div",22)(202,"h4",16),e._uU(203,"Abdominal surgery"),e.qZA(),e.TgZ(204,"select",62),e.YNc(205,et,2,2,"option",42),e.qZA()(),e.TgZ(206,"div",51)(207,"h4",16),e._uU(208,"Specify"),e.qZA(),e._UZ(209,"input",63),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(84),e.Q6J("ngForOf",t.answer_yna),e.xp6(5),e.Q6J("ngForOf",t.answer_screening),e.xp6(5),e.Q6J("ngForOf",t.answer_screening),e.xp6(9),e.Q6J("ngForOf",t.answer_yna),e.xp6(5),e.Q6J("ngForOf",t.answer_yna),e.xp6(20),e.Q6J("ngForOf",t.circumcision),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(14),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(18),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn),e.xp6(9),e.Q6J("ngForOf",t.answer_yn)}}function it(i,r){1&i&&e._UZ(0,"div",12)}function nt(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ot(i,r){if(1&i&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function st(i,r){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",15)(4,"h4",16),e._uU(5,"VIA findings"),e.qZA(),e.TgZ(6,"select",66),e.YNc(7,nt,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",15)(9,"h4",16),e._uU(10,"Pap smear findings"),e.qZA(),e.TgZ(11,"select",67),e.YNc(12,ot,2,2,"option",42),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.answer_screening),e.xp6(5),e.Q6J("ngForOf",t.answer_screening)}}function rt(i,r){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Counseling"),e.qZA(),e.TgZ(6,"textarea",69),e._uU(7,"\n            "),e.qZA()()()()())}function at(i,r){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Treatment and other care given"),e.qZA(),e.TgZ(6,"textarea",70),e._uU(7,"\n            "),e.qZA()()()()())}function lt(i,r){1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",65)(3,"div",68)(4,"h4",16),e._uU(5,"Referral"),e.qZA(),e.TgZ(6,"textarea",71),e._uU(7,"\n            "),e.qZA()()()()())}function dt(i,r){if(1&i&&e._UZ(0,"fa-icon",72),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function ut(i,r){if(1&i&&e._UZ(0,"fa-icon",73),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}const v=function(i){return{"rounded-b-xl":i}};let Y=(()=>{var i;class r{loadLibraries(){}onSubmit(){this.is_saving=!0}toggleModal(s){this.modals[s]=void 0!==this.modals[s]&&!this.modals[s]}constructor(s){this.http=s,this.faSpinner=m.LM3,this.faInfoCircle=m.sqG,this.faTimes=m.NBC,this.faSave=m.r6l,this.faChevronCircleDown=m.yh$,this.faChevronCircleUp=m._qI,this.modals=[],this.casdtForm=R,this.is_saving=!1,this.size=[{code:"small",desc:"Small"},{code:"normal",desc:"Normal"},{code:"large",desc:"Large"}],this.shape=[{code:"pear",desc:"Pear Shaped"},{code:"horn",desc:"Horn Shaped"},{code:"heart",desc:"Heart Shaped"},{code:"double",desc:"Double"},{code:"tshaped",desc:"T-Shaped"},{code:"tipped",desc:"Tipped"}],this.position=[{code:"mid",desc:"Mid"},{code:"anteflexed",desc:"Anteflexed"},{code:"retroflexed",desc:"Retroflexed"},{code:"retroverted",desc:"Retroverted"},{code:"anteverted",desc:"Anteverted"}],this.circumcision=E,this.answer_yn=Me,this.answer_screening=Ve}ngOnInit(){console.log(this.casdtForm)}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-casdt"]],decls:55,vars:40,consts:[[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-4"],[1,"col-span-12","flex","justify-between","bg-blue-500","p-3","rounded-t-xl",3,"ngClass"],[1,"font-bold","text-white"],["type","button",1,"text-white",3,"click"],["size","lg",3,"icon"],["class","col-span-12",4,"ngIf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4"],[1,"flex","justify-end","w-full"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","spin","true",3,"icon",4,"ngIf"],[1,"col-span-12"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5"],[1,"col-span-12","grid","grid-cols-12","gap-4","mt-4"],[1,"text-sm","col-span-6"],[1,"mb-1","font-semibold"],["name","children","formControlName","children","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12","px-5","mt-4"],[1,"font-bold","text-md","mt-2","mb-2","text-lg","text-blue-500"],[1,"mb-1","text-md","uppercase","font-bold"],[1,"col-span-12","grid","grid-cols-12","gap-4"],[1,"text-sm","col-span-4"],["name","menarche","formControlName","menarche",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","lmp","formControlName","lmp","type","date",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","aog","formControlName","aog","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","bleeding_pattern","formControlName","bleeding_pattern",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["value","R"],["value","I"],["name","pads","formControlName","pads","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12","px-5","mb-6","ml-5","mt-12"],["name","gravidity","formControlName","gravidity","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","parity","formControlName","parity","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-3"],["name","full_term","formControlName","full_term","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","preterm","formControlName","preterm","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abortion","formControlName","abortion","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","livebirths","formControlName","livebirths","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","first_preg","formControlName","first_preg","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","years","formControlName","years","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","months","formControlName","months","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","previous_screening","formControlName","previous_screening",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[3,"value",4,"ngFor","ngForOf"],["name","via_result","formControlName","via_result",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","pap_smear","formControlName","pap_smear",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","vaginal_discharge","formControlName","vaginal_discharge",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","vaginal_bleeding","formControlName","vaginal_bleeding",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","first_intercourse","formControlName","first_intercourse","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","sexual_partners","formControlName","sexual_partners","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","spouse","formControlName","spouse",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","client","formControlName","client",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-8"],["name","client_remarks","formControlName","client_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","any_spouse","formControlName","any_spouse",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","any_spouse_remarks","formControlName","any_spouse_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","cancer","formControlName","cancer",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","cancer_remarks","formControlName","cancer_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","smoking","formControlName","smoking",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","current_medication","formControlName","current_medication",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","medication_remarks","formControlName","medication_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","allergies","formControlName","allergies",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","allergies_remarks","formControlName","allergies_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abdominal_surgery","formControlName","abdominal_surgery",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","abdominal_surgery_remarks","formControlName","abdominal_surgery_remarks","type","text",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[3,"value"],[1,"col-span-12","grid","grid-cols-12","gap-4","mt-5"],["name","via_findings","formControlName","via_findings",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","pap_smear_findings","formControlName","pap_smear_findings",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"text-sm","col-span-12"],["name","counseling","formControlName","counseling","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","treatment","formControlName","treatment","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],["name","referral","formControlName","referral","rows","4",1,"text-sm","border","border-gray-200","p-2.5","rounded","bg-white","w-full"],[1,"mr-3",3,"icon"],["spin","true",1,"mr-3",3,"icon"]],template:function(s,o){1&s&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"I. Personal Information"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.toggleModal("I")}),e._UZ(6,"fa-icon",5),e.qZA()(),e.YNc(7,Pe,7,0,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",2)(10,"h4",3),e._uU(11,"II. History Taking"),e.qZA(),e.TgZ(12,"button",4),e.NdJ("click",function(){return o.toggleModal("II")}),e._UZ(13,"fa-icon",5),e.qZA()(),e.YNc(14,tt,210,13,"div",6),e.qZA(),e.TgZ(15,"div",7)(16,"div",2)(17,"h4",3),e._uU(18,"III. Physical Examination"),e.qZA(),e.TgZ(19,"button",4),e.NdJ("click",function(){return o.toggleModal("III")}),e._UZ(20,"fa-icon",5),e.qZA()(),e.YNc(21,it,1,0,"div",6),e.qZA(),e.TgZ(22,"div",7)(23,"div",2)(24,"h4",3),e._uU(25,"IV. Screening Results"),e.qZA(),e.TgZ(26,"button",4),e.NdJ("click",function(){return o.toggleModal("IV")}),e._UZ(27,"fa-icon",5),e.qZA()(),e.YNc(28,st,13,2,"div",6),e.qZA(),e.TgZ(29,"div",7)(30,"div",2)(31,"h4",3),e._uU(32,"V. Counseling Given"),e.qZA(),e.TgZ(33,"button",4),e.NdJ("click",function(){return o.toggleModal("V")}),e._UZ(34,"fa-icon",5),e.qZA()(),e.YNc(35,rt,8,0,"div",6),e.qZA(),e.TgZ(36,"div",7)(37,"div",2)(38,"h4",3),e._uU(39,"VI. Treatment and Other Care Given"),e.qZA(),e.TgZ(40,"button",4),e.NdJ("click",function(){return o.toggleModal("VI")}),e._UZ(41,"fa-icon",5),e.qZA()(),e.YNc(42,at,8,0,"div",6),e.qZA(),e.TgZ(43,"div",7)(44,"div",2)(45,"h4",3),e._uU(46,"VII. Referral"),e.qZA(),e.TgZ(47,"button",4),e.NdJ("click",function(){return o.toggleModal("VII")}),e._UZ(48,"fa-icon",5),e.qZA()(),e.YNc(49,lt,8,0,"div",6),e.qZA(),e.TgZ(50,"div",8)(51,"button",9),e.YNc(52,dt,1,1,"fa-icon",10),e.YNc(53,ut,1,1,"fa-icon",11),e._uU(54),e.qZA()()()),2&s&&(e.Q6J("formGroup",o.casdtForm),e.xp6(2),e.Q6J("ngClass",e.VKq(26,v,void 0!==o.modals.I&&!o.modals.I)),e.xp6(4),e.Q6J("icon",void 0===o.modals.I||o.modals.I?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.I||o.modals.I),e.xp6(2),e.Q6J("ngClass",e.VKq(28,v,void 0!==o.modals.II&&!o.modals.II)),e.xp6(4),e.Q6J("icon",void 0===o.modals.II||o.modals.II?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.II||o.modals.II),e.xp6(2),e.Q6J("ngClass",e.VKq(30,v,void 0!==o.modals.III&&!o.modals.III)),e.xp6(4),e.Q6J("icon",void 0===o.modals.III||o.modals.III?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.III||o.modals.III),e.xp6(2),e.Q6J("ngClass",e.VKq(32,v,void 0!==o.modals.IV&&!o.modals.IV)),e.xp6(4),e.Q6J("icon",void 0===o.modals.IV||o.modals.IV?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.IV||o.modals.IV),e.xp6(2),e.Q6J("ngClass",e.VKq(34,v,void 0!==o.modals.V&&!o.modals.V)),e.xp6(4),e.Q6J("icon",void 0===o.modals.V||o.modals.V?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.V||o.modals.V),e.xp6(2),e.Q6J("ngClass",e.VKq(36,v,void 0!==o.modals.VI&&!o.modals.VI)),e.xp6(4),e.Q6J("icon",void 0===o.modals.VI||o.modals.VI?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.VI||o.modals.VI),e.xp6(2),e.Q6J("ngClass",e.VKq(38,v,void 0!==o.modals.VII&&!o.modals.VII)),e.xp6(4),e.Q6J("icon",void 0===o.modals.VII||o.modals.VII?o.faChevronCircleUp:o.faChevronCircleDown),e.xp6(1),e.Q6J("ngIf",void 0===o.modals.VII||o.modals.VII),e.xp6(2),e.Q6J("disabled",o.is_saving),e.xp6(1),e.Q6J("ngIf",!o.is_saving),e.xp6(1),e.Q6J("ngIf",o.is_saving),e.xp6(1),e.hij(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[u.mk,u.sg,u.O5,d.BN,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]}),r})();const ct=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),fbs:new n.NI(""),rbs:new n.NI(""),raised_blood_glucose:new n.NI("")}),_t=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),total_cholesterol:new n.NI(""),raised_blood_lipid:new n.NI("")}),pt=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),ketone:new n.NI(""),presence_of_urine_ketone:new n.NI("")}),mt=new n.cw({consult_ncd_risk_id:new n.NI(""),patient_ncd_id:new n.NI(""),patient_id:new n.NI(""),date_taken:new n.NI(""),protein:new n.NI(""),presence_of_urine_protein:new n.NI("")});function gt(i,r){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"FBS >= 126 mg/dl"),e.qZA(),e.TgZ(3,"li"),e._uU(4,"RBS >= 200 mg/dl"),e.qZA()())}function ft(i,r){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"FBS < 126 mg/dl"),e.qZA(),e.TgZ(3,"li"),e._uU(4,"RBS < 200 mg/dl"),e.qZA()())}const C=function(i){return{"bg-red-200 border border-red-300":i}};function ht(i,r){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e.TgZ(3,"ul",23),e.YNc(4,gt,5,0,"div",24),e.YNc(5,ft,5,0,"div",24),e.qZA(),e._UZ(6,"input",25),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,C,!0===t.glucoseForm.value.raised_blood_glucose)),e.xp6(2),e.Oqu(!0===t.glucoseForm.value.raised_blood_glucose?"Raised blood glucose":"Normal blood glucose"),e.xp6(2),e.Q6J("ngIf",!0===t.glucoseForm.value.raised_blood_glucose),e.xp6(1),e.Q6J("ngIf",!1===t.glucoseForm.value.raised_blood_glucose)}}function bt(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function vt(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function Zt(i,r){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"Cholesterol >= 200mg/100ml"),e.qZA()())}function xt(i,r){1&i&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"Cholesterol < 200mg/100ml"),e.qZA()())}function yt(i,r){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e.TgZ(3,"ul",23),e.YNc(4,Zt,3,0,"div",24),e.YNc(5,xt,3,0,"div",24),e.qZA(),e._UZ(6,"input",28),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,C,!0===t.bloodLipidForm.value.raised_blood_lipid)),e.xp6(2),e.Oqu(!0===t.bloodLipidForm.value.raised_blood_lipid?"Raised blood lipids":"Normal blood lipids"),e.xp6(2),e.Q6J("ngIf",!0===t.bloodLipidForm.value.raised_blood_lipid),e.xp6(1),e.Q6J("ngIf",!1===t.bloodLipidForm.value.raised_blood_lipid)}}function qt(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Tt(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function At(i,r){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function wt(i,r){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e._UZ(3,"input",30),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,C,!0===t.urineKetonesForm.value.presence_of_urine_ketone)),e.xp6(2),e.Oqu(!0===t.urineKetonesForm.value.presence_of_urine_ketone?"Traces or amount of urine ketone was found":"No traces or amount of urine ketone was found")}}function kt(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Ct(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}function Nt(i,r){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function It(i,r){if(1&i&&(e.TgZ(0,"div",22)(1,"h4",5),e._uU(2),e.qZA(),e._UZ(3,"input",31),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,C,!0===t.urineProteinForm.value.presence_of_urine_protein)),e.xp6(2),e.Oqu(!0===t.urineProteinForm.value.presence_of_urine_protein?"Traces or amount of urine protein was found":"No traces or amount of urine protein was found")}}function Ut(i,r){if(1&i&&e._UZ(0,"fa-icon",26),2&i){const t=e.oxw();e.Q6J("icon",t.faSpinner)}}function Ft(i,r){if(1&i&&e._UZ(0,"fa-icon",27),2&i){const t=e.oxw();e.Q6J("icon",t.faSave)}}let Jt=(()=>{var i;class r{loadLibraries(){this.http.get("libraries/ncd-risk-screening-urine-ketones").subscribe({next:s=>this.ketones_list=s.data,error:s=>console.log(s)}),this.http.get("libraries/ncd-risk-screening-urine-protein").subscribe({next:s=>this.protein_list=s.data,error:s=>console.log(s)})}loadScreenings(){this.consult_details&&(this.consult_details.riskScreeningGlucose&&(this.consult_details.riskScreeningGlucose.date_taken=(0,u.p6)(this.consult_details.riskScreeningGlucose.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.glucoseForm.patchValue({...this.consult_details.riskScreeningGlucose}),this.glucoseForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningGlucose.id)),this.raisedGlucose()),this.consult_details.riskScreeningLipid&&(this.consult_details.riskScreeningLipid.date_taken=(0,u.p6)(this.consult_details.riskScreeningLipid.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.bloodLipidForm.patchValue({...this.consult_details.riskScreeningLipid}),this.bloodLipidForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningLipid.id)),this.raisedLipids()),this.consult_details.riskScreeningKetones&&(this.consult_details.riskScreeningKetones.date_taken=(0,u.p6)(this.consult_details.riskScreeningKetones.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.urineKetonesForm.patchValue({...this.consult_details.riskScreeningKetones}),this.urineKetonesForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningKetones.id)),this.urineKetone()),this.consult_details.riskScreeningProtein&&(this.consult_details.riskScreeningProtein.date_taken=(0,u.p6)(this.consult_details.riskScreeningProtein.date_taken,"yyyy-MM-dd","en","Asia/Manila"),this.urineProteinForm.patchValue({...this.consult_details.riskScreeningProtein}),this.urineProteinForm.addControl("id",this.formBuilder.control(this.consult_details.riskScreeningProtein.id)),this.urineProtein()))}raisedGlucose(){(this.glucoseForm.value.fbs>0||this.glucoseForm.value.rbs>0)&&this.glucoseForm.patchValue(this.glucoseForm.value.fbs>=126||this.glucoseForm.value.rbs>=200?{raised_blood_glucose:!0}:{raised_blood_glucose:!1})}raisedLipids(){this.bloodLipidForm.value.total_cholesterol>0&&this.bloodLipidForm.patchValue(this.bloodLipidForm.value.total_cholesterol>=5.1?{raised_blood_lipid:!0}:{raised_blood_lipid:!1})}urineKetone(){console.log(this.urineKetonesForm.value.ketone),this.urineKetonesForm.value.ketone&&this.urineKetonesForm.patchValue("1"!==this.urineKetonesForm.value.ketone?{presence_of_urine_ketone:!0}:{presence_of_urine_ketone:!1})}urineProtein(){this.urineProteinForm.value.protein&&this.urineProteinForm.patchValue("1"!=this.urineProteinForm.value.protein?{presence_of_urine_protein:!0}:{presence_of_urine_protein:!1})}onSubmit(s,o){if(this.is_saving[s]=!0,this[s+"Form"].valid){let a=this.getURL(s);this.http.post(a,this[s+"Form"].value).subscribe({next:l=>{this.is_saving[s]=!1,this.toastr.success("Recorded successfully!","Risk screening")},error:l=>console.log(l)})}}getURL(s){switch(s){case"glucose":return this.urls[0].url;case"bloodLipid":return this.urls[1].url;case"urineKetones":return this.urls[2].url;case"urineProtein":return this.urls[3].url}}constructor(s,o,a){this.http=s,this.formBuilder=o,this.toastr=a,this.faInfoCircle=m.sqG,this.faSave=g.r6l,this.faSpinner=m.LM3,this.is_saving={glucose:!1,bloodLipid:!1,urineKetones:!1,urineProtein:!1},this.glucoseForm=ct,this.bloodLipidForm=_t,this.urineKetonesForm=pt,this.urineProteinForm=mt,this.urls=[{group:"glucoseForm",url:"non-communicable-disease/risk-screening-blood-glucose"},{group:"bloodLipidForm",url:"non-communicable-disease/risk-screening-blood-lipid"},{group:"urineKetonesForm",url:"non-communicable-disease/risk-screening-urine-ketones"},{group:"urineProteinForm",url:"non-communicable-disease/risk-screening-urine-protein"}]}createForm(){let s=this.consult_details.id,o=this.consult_details.patient_ncd_id;this.glucoseForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[s,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],fbs:[null],rbs:[null],raised_blood_glucose:[null,n.kI.required]}),this.bloodLipidForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[s,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],total_cholesterol:[null,n.kI.required],raised_blood_lipid:[null,n.kI.required]}),this.urineKetonesForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[s,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],ketone:[null,n.kI.required],presence_of_urine_ketone:[null,n.kI.required]}),this.urineProteinForm=this.formBuilder.nonNullable.group({consult_ncd_risk_id:[s,n.kI.required],patient_ncd_id:[o,n.kI.required],patient_id:[this.patient_id],date_taken:[null,n.kI.required],protein:[null,n.kI.required],presence_of_urine_protein:[null,n.kI.required]})}ngOnInit(){this.loadLibraries()}ngOnChanges(s){this.consult_details&&this.consult_details.assessment_date&&(this.createForm(),this.loadScreenings())}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(n.qu),e.Y36(x._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-risk-screening"]],inputs:{patient_id:"patient_id",consult_details:"consult_details"},features:[e.TTD],decls:82,vars:26,consts:[[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8","overflow-y-auto"],[1,"col-span-12","row-start-1","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,"col-span-12","grid","grid-cols-12","gap-x-5","px-5",3,"formGroup","ngSubmit"],[1,"text-sm","col-span-4","mt-4","mb-4"],[1,"mb-2"],["name","date_taken","formControlName","date_taken","type","date","placeholder","mm/dd/yyyy",1,"text-sm","border-gray-200","border","p-2.5","rounded-md","w-full"],["name","fbs","formControlName","fbs","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["name","rbs","formControlName","rbs","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["class","text-sm col-span-12 mb-6 p-3 rounded-lg",3,"ngClass",4,"ngIf"],[1,"col-span-12","flex","justify-end","border-t","border-slate-200","pt-5"],["type","submit",1,"btn-save","px-10","mr-5","mb-5","disabled:bg-gray-400",3,"disabled"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"relative","text-sm","col-span-6","mt-4","mb-4"],[1,"text-sm","col-span-6","mt-4","mb-4"],["name","total_cholesterol","formControlName","total_cholesterol","type","number",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"input"],["name","ketone","formControlName","ketone",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-4","mt-8","overflow-y-auto"],["name","protein","formControlName","protein",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full",3,"change"],[1,"text-sm","col-span-12","mb-6","p-3","rounded-lg",3,"ngClass"],[1,"list-disc","pl-10"],[4,"ngIf"],["hidden","","name","raised_blood_glucose","formControlName","raised_blood_glucose","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"],["hidden","","name","raised_blood_lipid","formControlName","raised_blood_lipid","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],[3,"value"],["hidden","","name","presence_of_urine_ketone","formControlName","presence_of_urine_ketone","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"],["hidden","","name","presence_of_urine_protein","formControlName","presence_of_urine_protein","type","text","disabled","",1,"text-sm","border","border-gray-200","p-2.5","rounded","w-full","disabled:bg-gray-300"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Blood Glucose Test"),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("glucose",o.glucoseForm.value)}),e.TgZ(5,"div",4)(6,"h4",5),e._uU(7,"Date Taken"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"h4",5),e._uU(11,"If atleast 8 hours, record FBS (mg/dl)"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("input",function(){return o.raisedGlucose()}),e.qZA()(),e.TgZ(13,"div",4)(14,"h4",5),e._uU(15,"Record RBS (mg/dl)"),e.qZA(),e.TgZ(16,"input",8),e.NdJ("input",function(){return o.raisedGlucose()}),e.qZA()(),e.YNc(17,ht,7,6,"div",9),e.TgZ(18,"div",10)(19,"button",11),e.YNc(20,bt,1,1,"fa-icon",12),e.YNc(21,vt,1,1,"fa-icon",13),e._uU(22),e.qZA()()()(),e.TgZ(23,"div",0)(24,"div",14)(25,"h4",2),e._uU(26,"Blood Lipid Test"),e.qZA()(),e.TgZ(27,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("bloodLipid",o.bloodLipidForm.value)}),e.TgZ(28,"div",15)(29,"h4",5),e._uU(30,"Date Taken"),e.qZA(),e._UZ(31,"input",6),e.qZA(),e.TgZ(32,"div",16)(33,"h4",5),e._uU(34,"Total Cholesterol (mmol/l)"),e.qZA(),e.TgZ(35,"input",17),e.NdJ("input",function(){return o.raisedLipids()}),e.qZA()(),e.YNc(36,yt,7,6,"div",9),e.TgZ(37,"div",10)(38,"button",11),e.YNc(39,qt,1,1,"fa-icon",12),e.YNc(40,Tt,1,1,"fa-icon",13),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",0)(43,"div",14)(44,"h4",2),e._uU(45,"Urine Test for Ketones"),e.qZA()(),e.TgZ(46,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("urineKetones",o.urineKetonesForm.value)}),e.TgZ(47,"div",15)(48,"h4",5),e._uU(49,"Date Taken"),e.qZA(),e._UZ(50,"input",6),e.qZA(),e.TgZ(51,"div",16)(52,"h4",5),e._uU(53,"Urine Ketone"),e.qZA(),e.TgZ(54,"select",18),e.NdJ("change",function(){return o.urineKetone()}),e.YNc(55,At,2,2,"option",19),e.qZA()(),e.YNc(56,wt,4,4,"div",9),e.TgZ(57,"div",10)(58,"button",11),e.YNc(59,kt,1,1,"fa-icon",12),e.YNc(60,Ct,1,1,"fa-icon",13),e._uU(61),e.qZA()()()(),e.TgZ(62,"div",20)(63,"div",14)(64,"h4",2),e._uU(65,"Urine Test for Protein"),e.qZA()(),e.TgZ(66,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit("urineProtein",o.urineProteinForm.value)}),e.TgZ(67,"div",15)(68,"h4",5),e._uU(69,"Date Taken"),e.qZA(),e._UZ(70,"input",6),e.qZA(),e.TgZ(71,"div",16)(72,"h4",5),e._uU(73,"Urine Protein"),e.qZA(),e.TgZ(74,"select",21),e.NdJ("change",function(){return o.urineProtein()}),e.YNc(75,Nt,2,2,"option",19),e.qZA()(),e.YNc(76,It,4,4,"div",9),e.TgZ(77,"div",10)(78,"button",11),e.YNc(79,Ut,1,1,"fa-icon",12),e.YNc(80,Ft,1,1,"fa-icon",13),e._uU(81),e.qZA()()()()),2&s&&(e.xp6(4),e.Q6J("formGroup",o.glucoseForm),e.xp6(13),e.Q6J("ngIf",o.glucoseForm.value.raised_blood_glucose),e.xp6(2),e.Q6J("disabled",o.glucoseForm.invalid||!o.glucoseForm.value.rbs&&!o.glucoseForm.value.fbs||o.is_saving.glucose),e.xp6(1),e.Q6J("ngIf",o.is_saving.glucose),e.xp6(1),e.Q6J("ngIf",!o.is_saving.glucose),e.xp6(1),e.hij(" ",o.is_saving.glucose?"Saving":o.glucoseForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.bloodLipidForm),e.xp6(9),e.Q6J("ngIf",o.bloodLipidForm.value.raised_blood_lipid),e.xp6(2),e.Q6J("disabled",o.bloodLipidForm.invalid||o.is_saving.bloodLipid),e.xp6(1),e.Q6J("ngIf",o.is_saving.bloodLipid),e.xp6(1),e.Q6J("ngIf",!o.is_saving.bloodLipid),e.xp6(1),e.hij(" ",o.is_saving.bloodLipid?"Saving":o.bloodLipidForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.urineKetonesForm),e.xp6(9),e.Q6J("ngForOf",o.ketones_list),e.xp6(1),e.Q6J("ngIf",o.urineKetonesForm.value.presence_of_urine_ketone),e.xp6(2),e.Q6J("disabled",o.urineKetonesForm.invalid||o.is_saving.urineKetones),e.xp6(1),e.Q6J("ngIf",o.is_saving.urineKetones),e.xp6(1),e.Q6J("ngIf",!o.is_saving.urineKetones),e.xp6(1),e.hij(" ",o.is_saving.urineKetones?"Saving":o.urineKetonesForm.value.id?"Update":"Save"," "),e.xp6(5),e.Q6J("formGroup",o.urineProteinForm),e.xp6(9),e.Q6J("ngForOf",o.protein_list),e.xp6(1),e.Q6J("ngIf",o.urineProteinForm.value.presence_of_urine_protein),e.xp6(2),e.Q6J("disabled",o.urineProteinForm.invalid||o.is_saving.urineProtein),e.xp6(1),e.Q6J("ngIf",o.is_saving.urineProtein),e.xp6(1),e.Q6J("ngIf",!o.is_saving.urineProtein),e.xp6(1),e.hij(" ",o.is_saving.urineProtein?"Saving":o.urineProteinForm.value.id?"Update":"Save"," "))},dependencies:[u.mk,u.sg,u.O5,d.BN,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]}),r})();var Qt=_(9315);function Ot(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"input",37),e.NdJ("change",function(o){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.handleCheckboxSelection(l.code,o.target.checked))}),e.qZA(),e.TgZ(2,"label",38),e._uU(3),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("id",t.code)("formControlName",t.code),e.xp6(1),e.Q6J("for",t.code),e.xp6(1),e.Oqu(t.desc)}}function Rt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Yt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Mt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Vt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Pt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Et(i,r){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Kt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}function Dt(i,r){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("selected","Both Eye"==t.desc)("value",t.code),e.xp6(1),e.hij(" ",t.desc," ")}}let M=(()=>{var i;class r{constructor(s,o,a){this.http=s,this.toastr=o,this.formBuilder=a,this.casdt2Forms=function St(){return new n.cw({id:new n.NI(null),consult_ncd_risk_id:new n.NI(null),patient_ncd_id:new n.NI(null),patient_id:new n.NI(null),consult_id:new n.NI(null),eye_complaint:new n.NI(null),eye_refer:new n.NI(null),unaided:new n.NI(null),pinhole:new n.NI(null),improved:new n.NI(null),aided:new n.NI(null),eye_refer_prof:new n.NI(null)})}(),this.faInfoCircle=m.sqG,this.show_form=!1,this.eye_complaints=[],this.eye_refer=[],this.is_saving=!1,this.casdt2Form=R,this.faSave=g.r6l,this.faSpinner=m.LM3,this.riskAssessForm=I}lodFormLibraries(){const s=this.http.get("libraries/ncd-eye-complaint"),o=this.http.get("libraries/ncd-eye-refer"),a=this.http.get("libraries/ncd-eye-vision-screen"),l=this.http.get("libraries/ncd-eye-refer-prof");(0,Qt.D)([s,o,a,l]).subscribe({next:([c,p,T,N])=>{this.eye_complaints=c.data,this.eye_refer=p.data,this.eye_vision_screen=T.data,this.eye_refer_prof=N.data,this.show_form=!0,this.createForm()},error:c=>{this.http.showError(c.error.message,"Casdt2 Library")}})}createForm(){this.casdt2Forms=this.formBuilder.nonNullable.group({id:[""],consult_ncd_risk_id:[this.consult_details.id,[n.kI.required]],patient_ncd_id:[this.consult_details.patient_ncd_id,[n.kI.required]],consult_id:[this.consult_details.consult_id,[n.kI.required]],patient_id:[this.consult_details.patient_id,[n.kI.required]],casdt:this.formBuilder.array([]),eye_refer:[null,n.kI.required],unaided:[null,n.kI.required],pinhole:[null,n.kI.required],improved:[null,n.kI.required],aided:[null,n.kI.required],eye_refer_prof:[null,n.kI.required]})}addEyeComplaint(s){this.casdt2Forms.get("casdt").push(this.formBuilder.group({eye_complaint:[s]}))}removeEyeComplaint(s){this.casdt2Forms.get("casdt").removeAt(s)}handleCheckboxSelection(s,o){if(o)this.addEyeComplaint(s);else{const a=this.casdt2Forms.get("casdt").controls.findIndex(l=>l.value.eye_complaint===s);-1!==a&&this.removeEyeComplaint(a)}}onSubmit(){console.log(this.casdt2Forms,"eto"),console.log(this.casdt2Forms.value,"hahah"),this.is_saving=!0,this.casdt2Form.valid&&this.http.post("non-communicable-disease/risk-casdt2",this.casdt2Forms.value).subscribe({next:s=>{this.toastr.success("Recorded successfully!","Casdt2"),this.is_saving=!1},error:s=>{this.http.showError(s.error.message,"Casdt2")}})}ngOnInit(){this.lodFormLibraries()}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(f.O),e.Y36(x._W),e.Y36(n.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-casdt2"]],inputs:{patient_id:"patient_id",consult_details:"consult_details",vaccine_details:"vaccine_details"},decls:89,vars:16,consts:[[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-12","flex","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8","overflow-y-auto"],[1,"col-span-12","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"font-bold","text-white","text-md","mt-2","mb-2"],[1,""],[1,"peer","text-white","hover:text-white","z-50","px-2",3,"icon"],[1,"absolute","text-sm","bg-gradient-to-b","from-stone-500","to-gray-400","p-2","rounded","border","border-gray-500","text-white","drop-shadow-lg","opacity-90","border-check","z-50","w-60","invisible","peer-hover:visible"],[1,"font-bold","drop-shadow-lg"],[1,"font-light","drop-shadow-lg"],[1,"col-start-1","col-span-12","px-5","mt-4","mb-6"],[1,"font-bold"],["class","text-sm col-span-4 w-full px-5 mb-6 select-none",4,"ngFor","ngForOf"],[1,"text-sm","col-start-1","col-span-12","w-full","px-5","mt-2","mb-6"],[1,"mb-2","font-semibold"],["name","eye_refer","formControlName","eye_refer","appendTo","body",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],["ng-value","vision.desc",3,"selected","value",4,"ngFor","ngForOf"],[1,"col-start-1","col-span-12","row-start-1","border-b-2","border-gray-300","mt-2","mb-2"],[1,"grid","grid-cols-12","item-start","flex-wrap","shadow-md","rounded-xl","mb-8","mt-8"],[1,"col-span-12","row-start-1","flex","bg-blue-500","px-5","py-3","rounded-tl","rounded-tr"],[1,"col-start-1","col-span-12","row-start-2","px-5","mt-4","mb-4"],[1,"text-sm","col-start-1","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],[1,"mb-2"],["name","unaided","formControlName","unaided",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],[1,"text-sm","col-start-4","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],["name","pinhole","formControlName","pinhole",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],[1,"text-sm","col-start-7","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],["name","improved","formControlName","improved",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],[1,"text-sm","col-start-10","col-span-3","w-full","row-start-3","px-5","mt-2","mb-4"],["name","aided","formControlName","aided",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],[1,"text-sm","col-start-1","col-span-12","w-full","row-start-4","px-5","mt-2","mb-6"],["name","eye_refer_prof","formControlName","eye_refer_prof",1,"text-sm","bg-white","border","border-gray-200","p-2.5","rounded","w-full"],["ng-value","refers.desc",3,"selected","value",4,"ngFor","ngForOf"],[1,"justify-center"],["type","submit","name","add-btn",1,"btn-save","px-10","disabled:bg-gray-300"],[3,"icon","spin"],[1,"mb-3"],[1,"text-sm","col-span-4","w-full","px-5","mb-6","select-none"],["type","checkbox","name","eye_complaints",1,"input-checkbox","h-4","w-4","border-gray-400","text-blue-500",3,"id","formControlName","change"],[1,"ml-1","align-middle",3,"for"],["ng-value","vision.desc",3,"selected","value"],["ng-value","refers.desc",3,"selected","value"]],template:function(s,o){1&s&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Eye Assessment"),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"fa-icon",5),e.TgZ(7,"div",6)(8,"h1",7),e._uU(9,"IMPORTANT"),e.qZA(),e.TgZ(10,"p",8),e._uU(11,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(12,"div",9)(13,"h4",10),e._uU(14,"A. Eye Complaints (Check all applicable)"),e.qZA()(),e.YNc(15,Ot,4,4,"div",11),e.TgZ(16,"div",12)(17,"h1",13),e._uU(18,"Refer immediately to opthalmologist"),e.qZA(),e.TgZ(19,"select",14),e.YNc(20,Rt,2,2,"option",15),e.qZA()()(),e._UZ(21,"div",16),e.TgZ(22,"div",17)(23,"div",18)(24,"h4",3),e._uU(25,"Vision Assessment"),e.qZA(),e.TgZ(26,"div",4),e._UZ(27,"fa-icon",5),e.TgZ(28,"div",6)(29,"h1",7),e._uU(30,"IMPORTANT"),e.qZA(),e.TgZ(31,"p",8),e._uU(32,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(33,"div",19)(34,"h4",10),e._uU(35,"B. Vision Screening"),e.qZA()(),e.TgZ(36,"div",20)(37,"h1",21),e._uU(38,"Unaided"),e.qZA(),e.TgZ(39,"select",22),e.YNc(40,Yt,2,3,"option",15),e.qZA()(),e.TgZ(41,"div",23)(42,"h1",21),e._uU(43,"Pinhole"),e.qZA(),e.TgZ(44,"select",24),e.YNc(45,Mt,2,3,"option",15),e.qZA()(),e.TgZ(46,"div",25)(47,"h1",21),e._uU(48,"Improved"),e.qZA(),e.TgZ(49,"select",26),e.YNc(50,Vt,2,3,"option",15),e.qZA()(),e.TgZ(51,"div",27)(52,"h1",21),e._uU(53,"Aided"),e.qZA(),e.TgZ(54,"select",28),e.YNc(55,Pt,2,3,"option",15),e.qZA()(),e.TgZ(56,"div",29)(57,"h1",21),e._uU(58,"Refer to eyecare professional"),e.qZA(),e.TgZ(59,"select",30),e.YNc(60,Et,2,2,"option",31),e.qZA()(),e.TgZ(61,"div",32)(62,"button",33),e._UZ(63,"fa-icon",34),e._uU(64),e.qZA()()(),e._UZ(65,"div",16),e.TgZ(66,"div",17)(67,"div",18)(68,"h4",3),e._uU(69,"Vaccines"),e.qZA(),e.TgZ(70,"div",4),e._UZ(71,"fa-icon",5),e.TgZ(72,"div",6)(73,"h1",7),e._uU(74,"IMPORTANT"),e.qZA(),e.TgZ(75,"p",8),e._uU(76,"Once saved, the information will be displayed in the input boxes and shall not be editable unless Edit button is pressed."),e.qZA()()()(),e.TgZ(77,"div",19),e._UZ(78,"h4",10),e.qZA(),e.TgZ(79,"div",20)(80,"h1",21),e._uU(81,"Influenza (Flu Vaccine)"),e.qZA(),e.TgZ(82,"select",22),e.YNc(83,Kt,2,3,"option",15),e.qZA()(),e.TgZ(84,"div",23)(85,"h1",35),e._uU(86,"PPV "),e.qZA(),e.TgZ(87,"select",24),e.YNc(88,Dt,2,3,"option",15),e.qZA()()()()),2&s&&(e.Q6J("formGroup",o.casdt2Forms),e.xp6(6),e.Q6J("icon",o.faInfoCircle),e.xp6(9),e.Q6J("ngForOf",o.eye_complaints),e.xp6(5),e.Q6J("ngForOf",o.eye_refer),e.xp6(7),e.Q6J("icon",o.faInfoCircle),e.xp6(13),e.Q6J("ngForOf",o.eye_vision_screen),e.xp6(5),e.Q6J("ngForOf",o.eye_vision_screen),e.xp6(5),e.Q6J("ngForOf",o.eye_vision_screen),e.xp6(5),e.Q6J("ngForOf",o.eye_vision_screen),e.xp6(5),e.Q6J("ngForOf",o.eye_refer_prof),e.xp6(3),e.Q6J("icon",o.is_saving?o.faSpinner:o.faSave)("spin",o.is_saving),e.xp6(1),e.hij(" ",o.is_saving?"Saving":"Save"," "),e.xp6(7),e.Q6J("icon",o.faInfoCircle),e.xp6(12),e.Q6J("ngForOf",o.eye_vision_screen),e.xp6(5),e.Q6J("ngForOf",o.eye_vision_screen))},dependencies:[u.sg,d.BN,n._Y,n.YN,n.Kr,n.Wl,n.EJ,n.JJ,n.JL,n.sg,n.u]}),r})();function Lt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleModal())}),e._UZ(1,"fa-icon",8),e._uU(2," End Visit "),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faDoorClosed)}}function jt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(2))}),e._uU(1," RISK SCREENING "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(2===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Bt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(3))}),e._uU(1," QUESTIONNAIRE "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(3===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Gt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(4))}),e._uU(1," RISK STRATIFICATION "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(4===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function $t(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.switchTab(5))}),e._uU(1," PATIENT RECORD "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(5===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300")}}function Ht(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-risk-assessment",17),e.NdJ("loadRisk",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.loadRisk())}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("patient_info",t.patient_info)("consult_details",t.consult_details)("vitals",t.vitals)}}function Wt(i,r){if(1&i&&e._UZ(0,"app-risk-screening",18),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function zt(i,r){if(1&i&&e._UZ(0,"app-questionnaire",19),2&i){const t=e.oxw(2);e.Q6J("consult_details",t.consult_details)}}function Xt(i,r){if(1&i&&e._UZ(0,"app-risk-stratification",18),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function ei(i,r){if(1&i&&e._UZ(0,"app-patient-record",18),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function ti(i,r){if(1&i&&e._UZ(0,"app-casdt",18),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)}}function ii(i,r){if(1&i&&e._UZ(0,"app-casdt2",20),2&i){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)("consult_details",t.consult_details)("vaccine_details",t.vaccine_details)}}function ni(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"div",9),e.TgZ(2,"nav",10)(3,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchTab(1))}),e._uU(4," RISK ASSESSMENT "),e.qZA(),e.YNc(5,jt,2,2,"button",11),e.YNc(6,Bt,2,2,"button",11),e.YNc(7,Gt,2,2,"button",11),e.YNc(8,$t,2,2,"button",11),e.TgZ(9,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchTab(7))}),e._uU(10," CASDT 2 "),e.qZA()(),e.TgZ(11,"div",12),e.YNc(12,Ht,1,3,"app-risk-assessment",13),e.YNc(13,Wt,1,2,"app-risk-screening",14),e.YNc(14,zt,1,1,"app-questionnaire",15),e.YNc(15,Xt,1,2,"app-risk-stratification",14),e.YNc(16,ei,1,2,"app-patient-record",14),e.YNc(17,ti,1,2,"app-casdt",14),e.YNc(18,ii,1,3,"app-casdt2",16),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Tol(1===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(2),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Q6J("ngIf",null==t.consult_details?null:t.consult_details.assessment_date),e.xp6(1),e.Tol(7===t.module?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(3),e.Q6J("ngIf",1===t.module),e.xp6(1),e.Q6J("ngIf",2===t.module),e.xp6(1),e.Q6J("ngIf",3===t.module),e.xp6(1),e.Q6J("ngIf",4===t.module),e.xp6(1),e.Q6J("ngIf",5===t.module),e.xp6(1),e.Q6J("ngIf",6===t.module),e.xp6(1),e.Q6J("ngIf",7===t.module)}}function oi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e._UZ(5,"td",30),e.TgZ(6,"td",30),e._uU(7),e.qZA(),e.TgZ(8,"td",30)(9,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.openNCD(a))}),e._uU(10),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.hij(" ",t.assessment_date?e.Dn7(3,3,t.assessment_date,"MM/dd/yyyy","Asia/Manila"):e.Dn7(4,7,t.consult_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(5),e.hij(" ",t.location?1===t.location?"Community":"Facility":"-"," "),e.xp6(3),e.hij(" ",t.consult_done?"View":"Open"," ")}}function si(i,r){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,oi,11,11,"tr",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ncd_list)("ngForTrackBy",t.identify)}}function ri(i,r){if(1&i&&(e.TgZ(0,"div")(1,"div",21)(2,"div",22),e._uU(3," NCD Visits "),e.qZA(),e.TgZ(4,"div",23)(5,"table",24)(6,"thead",25)(7,"tr")(8,"th",26),e._uU(9,"Assessment Date"),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Risk Stratification"),e.qZA(),e.TgZ(12,"th",26),e._uU(13,"Location"),e.qZA(),e.TgZ(14,"th",26),e._uU(15,"Actions"),e.qZA()()(),e.YNc(16,si,2,2,"tbody",5),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(16),e.Q6J("ngIf",t.ncd_list)}}function ai(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-end-visit",32),e.NdJ("toggleModal",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("consult_id",t.consult_details_temp.id)("patient_id",t.consult_details_temp.patient?t.consult_details_temp.patient.id:t.consult_details_temp.patient_id)("consult_date",t.consult_details_temp.consult_date)("pt_group","ncd")}}const li=[{path:"",component:(()=>{var i;class r{constructor(s,o,a,l){this.route=s,this.http=o,this.router=a,this.patientInfo=l,this.show_end=!1,this.faDoorClosed=m.TH0,this.loadVitals=this.loadVitals.bind(this),w(l.reloadNCDVitals,this.loadVitals)}ngOnDestroy(){w(this.patientInfo.reloadNCDVitals,this.loadVitals,!0)}openNCD(s){this.router.navigate(["/patient/ncd",{id:s.patient_id??s.patient.id,consult_id:s.consult_id??s.id}]),this.consult_details=s,this.modules=2}toggleModal(){this.show_end=!this.show_end}loadNCD(s,o){this.http.get("non-communicable-disease/risk-assessment",{params:{consult_id:s}}).subscribe({next:l=>{l.data.length>0?(l.data[0].consult_date=l.data[0].assessment_date,this.consult_details=l.data[0]):this.consult_details=this.consult_details_temp},error:l=>console.log(l)})}loadRisk(){this.http.get("non-communicable-disease/risk-assessment",{params:{patient_id:this.patient_id,sort:"-assessment_date"}}).subscribe({next:o=>{this.risk_list=o.data,this.risk_list&&this.fillConsult()},error:o=>console.log(o)})}loadConsult(){this.http.get("consultation/records",{params:{patient_id:this.patient_id,pt_group:"ncd",sort:"-consult_date"}}).subscribe({next:o=>{console.log(o),this.ncd_list=o.data,this.consult_details_temp=o.data[0],Object.entries(o.data).forEach(([a,l],c)=>{l.id===Number(this.consult_id)&&(this.consult_details_temp=l)}),this.loadRisk()},error:o=>console.log(o)})}fillConsult(){Object.entries(this.ncd_list).forEach(([s,o],a)=>{let l=o,c=this.risk_list.find(p=>p.consult_id===l.id);c&&(this.ncd_list[a]=c,this.ncd_list[a].consult_done=l.consult_done),Object.keys(this.ncd_list).length-1===a&&this.loadNCD(this.consult_id)})}loadVitals(){this.http.get("patient-vitals/vitals",{params:{patient_id:this.patient_id,sort:"-vitals_date",per_page:15}}).subscribe({next:s=>{let o=s.data;if(o.length>0){let l=s.data[0].bp_diastolic;o[0].bp_systolic=s.data[0].bp_systolic,o[0].bp_diastolic=l,this.vitals=o}},error:s=>console.log(s)})}patientVitals(s){}ngOnInit(){this.module=1,this.modules=1,this.patient_info=this.http.getPatientInfo(),this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadConsult(),this.loadVitals()}switchTab(s){this.module=0,this.module=s}switchTabs(s){this.modules=0,this.modules=s}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(Z.gz),e.Y36(f.O),e.Y36(Z.F0),e.Y36(b.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ncd"]],decls:11,vars:8,consts:[[1,"flex"],[1,"flex","flex-row","whitespace-nowrap","text-sm","max-w-xl","mt-5"],[1,"text-gray-600","border-b-2","border-gray-200","block","hover:text-blue-500","hover:border-blue-500","mr-6","pb-2",3,"click"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],[4,"ngIf"],[3,"consult_id","patient_id","consult_date","pt_group","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"text-gray-600","border","border-slate-100","mt-5"],[1,"mt-4","flex","flex-row","whitespace-nowrap","sm:text-xs","md:text-xs","overflow-x-auto","no-scrollbar","lg:text-xs"],["class","text-gray-600 border-b-2 border-gray-200 block hover:text-blue-500 hover:border-blue-500 mr-6 pb-2",3,"class","click",4,"ngIf"],[1,"grid","grid-col-8"],[3,"patient_info","consult_details","vitals","loadRisk",4,"ngIf"],[3,"patient_id","consult_details",4,"ngIf"],[3,"consult_details",4,"ngIf"],[3,"patient_id","consult_details","vaccine_details",4,"ngIf"],[3,"patient_info","consult_details","vitals","loadRisk"],[3,"patient_id","consult_details"],[3,"consult_details"],[3,"patient_id","consult_details","vaccine_details"],[1,"border","border-slate-200","shadow-md","rounded-xl","mt-5"],[1,"w-full","bg-green-500","text-white","rounded-t-xl","p-3","font-semibold"],[1,"w-full","p-5"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"text-center","py-3","px-3","w-3/12"],["class","bg-white border-b last:border-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","border-b","last:border-0"],[1,"py-4","px-3","text-center"],["scope","row",1,"py-4","px-3","font-medium","text-gray-900","text-center"],["type","button",1,"btn-save",3,"click"],[3,"consult_id","patient_id","consult_date","pt_group","toggleModal"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return o.switchTabs(1)}),e._uU(3," NCD HISTORY "),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return o.switchTabs(2)}),e._uU(5," NCD CONSULT "),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,Lt,3,1,"button",4),e.qZA()(),e.YNc(8,ni,19,15,"div",5),e.YNc(9,ri,17,1,"div",5),e.YNc(10,ai,1,4,"app-end-visit",6)),2&s&&(e.xp6(2),e.Tol(1===o.modules?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(2),e.Tol(2===o.modules?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),e.xp6(3),e.Q6J("ngIf",!(null!=o.consult_details&&o.consult_details.consult_done)),e.xp6(1),e.Q6J("ngIf",2===o.modules),e.xp6(1),e.Q6J("ngIf",1===o.modules),e.xp6(1),e.Q6J("ngIf",o.ncd_list&&o.show_end))},dependencies:[u.sg,u.O5,d.BN,q.F,U,F,S,O,Y,Jt,M,u.uU],styles:[".what[_ngcontent-%COMP%]:active{color:#00f;text-decoration:underline}"]}),r})()},{path:"risk-stratification",component:F},{path:"risk-assessment",component:U},{path:"questionnaire",component:S},{path:"patient-record",component:O},{path:"casdt",component:Y},{path:"casdt2",component:M}];let di=(()=>{var i;class r{}return(i=r).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Z.Bz.forChild(li),Z.Bz]}),r})();var ui=_(8316);let ci=(()=>{var i;class r{}return(i=r).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,d.uH,di,n.u5,n.UX,q.F,ui.A0]}),r})()},279:(V,A,_)=>{_.d(A,{F:()=>f});var u=_(6814),d=_(5879),Z=_(6223),m=_(5597),y=_(265),w=_(3602),e=_(2425);let f=(()=>{var b;class q{onSubmit(){let g;this.is_saving=!0,g=this.consult_date&&this.pt_group?{patient_id:this.patient_id,consult_date:this.consult_date,pt_group:this.pt_group,consult_done:!0}:{},this.http.update("consultation/records/",this.consult_id,g).subscribe({next:h=>{this.is_saving=!1,this.toastr.info("Visit was ended"),this.router.navigate(["/patient/itr",{id:this.patient_id}])},error:h=>console.log(h)})}constructor(g,h,k){this.http=g,this.router=h,this.toastr=k,this.toggleModal=new d.vpe,this.is_saving=!1}closeModal(){this.toggleModal.emit("end_visit")}}return(b=q).\u0275fac=function(g){return new(g||b)(d.Y36(y.O),d.Y36(w.F0),d.Y36(e._W))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-end-visit"]],inputs:{consult_id:"consult_id",consult_date:"consult_date",patient_id:"patient_id",pt_group:"pt_group"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[d.jDz],decls:20,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"h-40"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-3","py-3","mt-10","mx-10","w-full","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200","font-semibold","text-lg"],[1,"col-span-3","text-left","mb-2","pb-2","text-sm"],[1,"flex","justify-end","py-2","px-5","space-x-4","rounded-b"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-rose-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-rose-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(g,h){1&g&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),d._uU(5," End Visit "),d.qZA()(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),d._uU(10," Do you really want to end this visit? "),d.qZA(),d.TgZ(11,"div",9),d._uU(12),d.ALo(13,"date"),d.qZA()()()(),d.TgZ(14,"div",10)(15,"button",11),d.NdJ("click",function(){return h.closeModal()}),d._uU(16,"Cancel"),d.qZA(),d.TgZ(17,"button",12),d.NdJ("click",function(){return h.onSubmit()}),d._uU(18,"End Visit"),d.qZA()()()()(),d._UZ(19,"div",13)),2&g&&(d.xp6(12),d.hij(" Visit date & time: ",d.xi3(13,2,h.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),d.xp6(5),d.Q6J("disabled",h.is_saving))},dependencies:[m.uH,Z.u5,u.ez,u.uU],changeDetection:0}),q})()}}]);