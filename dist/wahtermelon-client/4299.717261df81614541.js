"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[4299],{4299:(C,m,l)=>{l.r(m),l.d(m,{HouseholdsModule:()=>T});var d=l(6814),c=l(3602),a=l(590),e=l(5879),g=l(265),u=l(6223),h=l(5597);function _(o,r){if(1&o&&e._UZ(0,"fa-icon",26),2&o){const t=e.oxw(3);e.Q6J("icon",t.faUser)}}const f=function(o){return{"bg-blue-500 text-white":o}};function b(o,r){if(1&o&&(e.TgZ(0,"span",24),e.YNc(1,_,1,1,"fa-icon",25),e._uU(2),e.qZA()),2&o){const t=r.$implicit;e.Q6J("ngClass",e.VKq(6,f,"MEMBER"===t.family_role_code)),e.xp6(1),e.Q6J("ngIf","MEMBER"!==t.family_role_code),e.xp6(1),e.HOy(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," ")}}function x(o,r){if(1&o&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.patient.mobile_number?t.patient.mobile_number:"-"," ")}}function y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",16)(1,"th",17),e._uU(2),e.qZA(),e.TgZ(3,"td",18),e.YNc(4,b,3,8,"span",19),e.qZA(),e.TgZ(5,"td",18),e.YNc(6,x,2,1,"span",20),e.qZA(),e.TgZ(7,"td",21),e._uU(8," - "),e.qZA(),e.TgZ(9,"td",22)(10,"button",23),e.NdJ("click",function(){const i=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.navigateTo("environmental",i))}),e._uU(11," Environmental & Sanitation "),e.qZA()()()}if(2&o){const t=r.$implicit;e.xp6(2),e.HOy(" ",t.address,", ","Brgy. "+t.barangay.name,", ",t.barangay.municipality.name," ",t.barangay.province.name," "),e.xp6(2),e.Q6J("ngForOf",t.household_member),e.xp6(2),e.Q6J("ngForOf",t.household_member),e.xp6(4),e.Tol(t.environmentalLatest?"bg-green-600 text-white px-2 py-1 rounded-md":"bg-orange-400 text-white px-2 py-1 rounded-md")}}function v(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",28)(2,"div",29)(3,"div")(4,"p",30),e._uU(5," Showing "),e.TgZ(6,"span",31),e._uU(7),e.qZA(),e._uU(8," to "),e.TgZ(9,"span",31),e._uU(10),e.qZA(),e._uU(11," of "),e.TgZ(12,"span",31),e._uU(13),e.qZA(),e._uU(14," results "),e.qZA()(),e.TgZ(15,"div")(16,"nav",32)(17,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadHouseholds(1))}),e._UZ(18,"fa-icon",34),e.qZA(),e.TgZ(19,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadHouseholds(n.current_page-1))}),e._UZ(20,"fa-icon",34),e._uU(21,"Previous "),e.qZA(),e.TgZ(22,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadHouseholds(n.current_page+1))}),e._uU(23," Next"),e._UZ(24,"fa-icon",36),e.qZA(),e.TgZ(25,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadHouseholds(n.last_page))}),e._UZ(26,"fa-icon",36),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(4),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}const Z=[{path:"",component:(()=>{var o;class r{navigateTo(s,n){this.router.navigate(["/"+s,{id:n.id}])}loadHouseholds(s){let n={params:{}};this.search_item&&(n.params["filter[search]"]=this.search_item),s&&(n.params.page=s),n.params.include="barangay",n.params.per_page=this.per_page,n.params.effectivity_year=(0,d.p6)(new Date,"yyyy","en","Asia/Manila"),this.http.get("households/household-folders",n).subscribe({next:i=>{this.household_list=i.data,this.current_page=i.meta.current_page,this.last_page=i.meta.last_page,this.from=i.meta.from,this.to=i.meta.to,this.total=i.meta.total},error:i=>console.log(i)})}constructor(s,n){this.http=s,this.router=n,this.faSearch=a.wn1,this.faPenToSquare=a.Yai,this.faChevronLeft=a.A35,this.faChevronRight=a._tD,this.faAnglesLeft=a._Wx,this.faAnglesRight=a.ccb,this.faUser=a.ILF,this.per_page=10}ngOnInit(){this.loadHouseholds()}}return(o=r).\u0275fac=function(s){return new(s||o)(e.Y36(g.O),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-households"]],decls:28,vars:4,consts:[[1,"my-10","flex","justify-center","w-full"],[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-6","w-3/12"],["scope","col",1,"py-3","px-6","w-2/12"],["class","border-t",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border-t"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],["class","block",3,"ngClass",4,"ngFor","ngForOf"],["class","block",4,"ngFor","ngForOf"],[1,"py-4","px-6","justify-center"],[1,"py-4","px-6","justify-center","text-xs"],["type","button",3,"click"],[1,"block",3,"ngClass"],[3,"icon",4,"ngIf"],[3,"icon"],[1,"block"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Households "),e.qZA(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(p){return n.search_item=p})("keyup.enter",function(){return n.loadHouseholds()}),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.loadHouseholds()}),e._UZ(9,"fa-icon",8),e.qZA()()(),e.TgZ(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e._uU(16,"Address"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"Household Member"),e.qZA(),e.TgZ(19,"th",13),e._uU(20,"Contact Number"),e.qZA(),e.TgZ(21,"th",13),e._uU(22,"Philhealth Info"),e.qZA(),e.TgZ(23,"th",13),e._uU(24,"Action"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,y,12,8,"tr",14),e.qZA()()()()(),e.YNc(27,v,27,11,"div",15),e.qZA()()),2&s&&(e.xp6(7),e.Q6J("ngModel",n.search_item),e.xp6(2),e.Q6J("icon",n.faSearch),e.xp6(17),e.Q6J("ngForOf",n.household_list),e.xp6(1),e.Q6J("ngIf",(null==n.household_list?null:n.household_list.length)>=1))},dependencies:[d.mk,d.sg,d.O5,u.Fj,u.JJ,u.On,h.BN]}),r})()}];let H=(()=>{var o;class r{}return(o=r).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(Z),c.Bz]}),r})(),T=(()=>{var o;class r{}return(o=r).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,H,u.u5,h.uH]}),r})()}}]);