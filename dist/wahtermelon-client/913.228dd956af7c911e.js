"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[913],{913:(st,A,c)=>{c.r(A),c.d(A,{AnimalbiteModule:()=>lt});var s=c(6814),h=c(3602),r=c(590),e=c(5879),f=c(265),T=c(279),w=c(4593),u=c(5597),q=c(640),g=c(1449),b=c(2425),a=c(6223),v=c(9315);function C(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function U(o,i){1&o&&(e.TgZ(0,"div",18)(1,"label",47),e._uU(2,"Specify"),e.qZA(),e._UZ(3,"input",48),e.qZA())}function J(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function I(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Q(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function F(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function E(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function M(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}const p=function(o){return{"invalid-input":o}};function k(o,i){if(1&o&&(e.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"h4",16),e._uU(4,"Client Type *"),e.qZA()(),e.TgZ(5,"div",17)(6,"div",18)(7,"label",19),e._uU(8,"Indication Option"),e.qZA(),e.TgZ(9,"select",20),e.YNc(10,C,2,2,"option",21),e.qZA()(),e.YNc(11,U,4,0,"div",22),e.qZA()(),e._UZ(12,"div",23),e.TgZ(13,"div",14)(14,"div",15)(15,"h4",16),e._uU(16,"Day 0 *"),e.qZA()(),e.TgZ(17,"div",24)(18,"div",18)(19,"label",25),e._uU(20,"Date"),e.qZA(),e._UZ(21,"input",26),e.qZA(),e.TgZ(22,"div",18)(23,"label",27),e._uU(24,"Vaccine"),e.qZA(),e.TgZ(25,"select",28),e.YNc(26,J,2,2,"option",21),e.qZA()(),e.TgZ(27,"div",18)(28,"label",29),e._uU(29,"Vaccine Route"),e.qZA(),e.TgZ(30,"select",30),e.YNc(31,I,2,2,"option",21),e.qZA()()()(),e.TgZ(32,"div",14)(33,"div",15)(34,"h4",16),e._uU(35,"Day 7"),e.qZA()(),e.TgZ(36,"div",24)(37,"div",18)(38,"label",31),e._uU(39,"Date"),e.qZA(),e._UZ(40,"input",32),e.qZA(),e.TgZ(41,"div",18)(42,"label",33),e._uU(43,"Vaccine"),e.qZA(),e.TgZ(44,"select",34),e.YNc(45,Q,2,2,"option",21),e.qZA()(),e.TgZ(46,"div",18)(47,"label",35),e._uU(48,"Vaccine Route"),e.qZA(),e.TgZ(49,"select",36),e.YNc(50,F,2,2,"option",21),e.qZA()()()(),e.TgZ(51,"div",14)(52,"div",15)(53,"h4",16),e._uU(54,"Day 21"),e.qZA()(),e.TgZ(55,"div",24)(56,"div",18)(57,"label",37),e._uU(58,"Date"),e.qZA(),e._UZ(59,"input",38),e.qZA(),e.TgZ(60,"div",18)(61,"label",39),e._uU(62,"Vaccine"),e.qZA(),e.TgZ(63,"select",40),e.YNc(64,E,2,2,"option",21),e.qZA()(),e.TgZ(65,"div",18)(66,"label",41),e._uU(67,"Vaccine Route"),e.qZA(),e.TgZ(68,"select",42),e.YNc(69,M,2,2,"option",21),e.qZA()()()(),e.TgZ(70,"div",14)(71,"div",15)(72,"h4",16),e._uU(73,"Remarks"),e.qZA()(),e.TgZ(74,"div",43)(75,"div",18)(76,"label",44),e._uU(77,"Remarks"),e.qZA(),e._UZ(78,"input",45),e.qZA()()(),e._UZ(79,"div",23),e.qZA()),2&o){const t=e.oxw();e.Q6J("formGroup",t.preExposureForm),e.xp6(9),e.Q6J("ngClass",e.VKq(19,p,t.is_saving&&t.f.indication_option_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.indication_options),e.xp6(1),e.Q6J("ngIf","OTHERS"===t.preExposureForm.value.indication_option_code),e.xp6(10),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(21,p,t.is_saving&&t.f.day0_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(23,p,t.is_saving&&t.f.day0_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes),e.xp6(9),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(25,p,t.is_saving&&t.f.day7_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(27,p,t.is_saving&&t.f.day7_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes),e.xp6(9),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(29,p,t.is_saving&&t.f.day21_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(31,p,t.is_saving&&t.f.day21_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes)}}function P(o,i){if(1&o&&(e.TgZ(0,"div",49)(1,"div",50),e._UZ(2,"fa-icon",51),e.qZA(),e.TgZ(3,"div",52),e._uU(4," Loadin libraries... "),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let O=(()=>{var o;class i{onSubmit(){let _;this.is_saving=!0,console.log(this.preExposureForm.value),_=this.preExposureForm.value.id?this.http.update("animal-bite/patient-ab-pre-exposure/",this.preExposureForm.value.id,this.preExposureForm.value):this.http.post("animal-bite/patient-ab-pre-exposure",this.preExposureForm.value),_.subscribe({next:n=>{console.log(n),this.toastr.success("Successfully Recorded","Pre-exposure"),this.is_saving=!1,this.closeModal()},error:n=>console.log(n)})}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-indication-option"),n=this.http.get("libraries/ab-vaccine"),l=this.http.get("libraries/ab-vaccine-route");(0,v.D)([_,n,l]).subscribe({next:([d,m,x])=>{this.indication_options=d.data,this.ab_vaccines=m.data,this.ab_vaccine_routes=x.data,this.createForm()},error:d=>console.log(d)})}createForm(){this.preExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.kI.required],indication_option_code:[null,a.kI.required],indication_option_remarks:[null],day0_date:[null,a.kI.required],day0_vaccine_code:[null,a.kI.required],day0_vaccine_route_code:[null,a.kI.required],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day21_date:[null],day21_vaccine_code:[null],day21_vaccine_route_code:[null],remarks:[null]}),this.selected_pre_exposure&&this.preExposureForm.patchValue({...this.selected_pre_exposure}),this.show_form=!0}closeModal(){this.toggleModal.emit("preexp-modal")}get f(){return this.preExposureForm.controls}constructor(_,n,l){this.http=_,this.toastr=n,this.formBuilder=l,this.toggleModal=new e.vpe,this.faCircleNotch=r.IJ7,this.faSave=g.r6l,this.preExposureForm=function N(){return new a.cw({id:new a.NI(null),patient_id:new a.NI(null),indication_option_code:new a.NI(null),indication_option_remarks:new a.NI(""),day0_date:new a.NI(null),day0_vaccine_code:new a.NI(null),day0_vaccine_route_code:new a.NI(null),day7_date:new a.NI(null),day7_vaccine_code:new a.NI(null),day7_vaccine_route_code:new a.NI(null),day21_date:new a.NI(null),day21_vaccine_code:new a.NI(null),day21_vaccine_route_code:new a.NI(null),remarks:new a.NI(null)})}(),this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.show_form=!1,this.is_saving=!1}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(f.O),e.Y36(b._W),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pre-exposure-modal"]],inputs:{selected_pre_exposure:"selected_pre_exposure",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:16,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","max-h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full max-w-3xl text-left text-gray-500 dark:text-gray-400",3,"formGroup",4,"ngIf"],["class","grid grid-cols-1 my-16",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"disabled","click"],["type","button",1,"btn-save",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-2","gap-4","w-full","ml-10","mr-5"],[1,"col-span-1"],["for","vitals_date_temp",1,"font-semibold"],["name","indication_option_code","id","indication_option_code","formControlName","indication_option_code",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-1",4,"ngIf"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"grid","grid-cols-3","gap-4","w-full","ml-10","mr-5"],["for","day0_date",1,"font-semibold"],["name","day0_date","id","day0_date","formControlName","day0_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day0_vaccine_code",1,"font-semibold"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input",3,"ngClass"],["for","day0_vaccine_route_code",1,"font-semibold"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input",3,"ngClass"],["for","day7_date",1,"font-semibold"],["name","day7_date","id","day7_date","formControlName","day7_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day7_vaccine_code",1,"font-semibold"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input",3,"ngClass"],["for","day7_vaccine_route_code",1,"font-semibold"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input",3,"ngClass"],["for","day21_date",1,"font-semibold"],["name","day21_date","id","day21_date","formControlName","day21_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day21_vaccine_code",1,"font-semibold"],["name","day21_vaccine_code","id","day21_vaccine_code","formControlName","day21_vaccine_code",1,"input",3,"ngClass"],["for","day21_vaccine_route_code",1,"font-semibold"],["name","day21_vaccine_route_code","id","day21_vaccine_route_code","formControlName","day21_vaccine_route_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-1","gap-4","w-full","ml-10","mr-5"],["for","remarks",1,"font-semibold"],["name","remarks","id","remarks","formControlName","remarks","type","text",1,"input"],[3,"value"],["for","indication_option_remarks",1,"font-semibold"],["name","indication_option_remarks","id","indication_option_remarks","formControlName","indication_option_remarks","type","text",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," PRE-EXPOSURE "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,k,80,33,"form",6),e.YNc(8,P,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&_&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(2),e.Q6J("disabled",n.is_saving),e.xp6(2),e.Q6J("disabled",n.is_saving||n.preExposureForm.pristine||n.preExposureForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave)("spin",n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[s.mk,s.sg,s.O5,u.BN,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]}),i})();function Y(o,i){if(1&o&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"fa-icon",5),e.qZA(),e.TgZ(3,"div",6),e._uU(4,"Fetching pre-exposure record..."),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function D(o,i){1&o&&(e.TgZ(0,"td",23)(1,"div",24),e._uU(2," No records to show... "),e.qZA()())}function S(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day0_date?e.Dn7(3,3,t.day0_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day0_vaccine?t.day0_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day0_vaccine_route?t.day0_vaccine_route.desc:"-")}}function V(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day7_date?e.Dn7(3,3,t.day7_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day7_vaccine?t.day7_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day7_vaccine_route?t.day7_vaccine_route.desc:"-")}}function R(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day21_date?e.Dn7(3,3,t.day21_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day21_vaccine?t.day21_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day21_vaccine_route?t.day21_vaccine_route.desc:"-")}}function j(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",18),e.YNc(1,D,3,0,"td",19),e.TgZ(2,"td",20),e._uU(3),e.qZA(),e.TgZ(4,"td",20),e.YNc(5,S,8,7,"span",21),e.qZA(),e.TgZ(6,"td",20),e.YNc(7,V,8,7,"span",21),e.qZA(),e.TgZ(8,"td",20),e.YNc(9,R,8,7,"span",21),e.qZA(),e.TgZ(10,"td",20),e._uU(11),e.qZA(),e.TgZ(12,"td",20)(13,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.editPreExposure("preexp-modal",l))}),e._UZ(14,"fa-icon",10),e.qZA()()()}if(2&o){const t=i.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t),e.xp6(2),e.hij(" ",t.indication_option.desc," "),e.xp6(2),e.Q6J("ngIf",t.day0_date),e.xp6(2),e.Q6J("ngIf",t.day7_date),e.xp6(2),e.Q6J("ngIf",t.day21_date),e.xp6(2),e.hij(" ",t.remarks?t.remarks:"-"," "),e.xp6(3),e.Q6J("icon",_.faEdit)}}function $(o,i){1&o&&(e.TgZ(0,"tr",18)(1,"td",26)(2,"span"),e._uU(3,"No records found..."),e.qZA()()())}function H(o,i){if(1&o&&(e.TgZ(0,"table",13)(1,"thead",14)(2,"tr")(3,"th",15),e._uU(4,"Indication"),e.qZA(),e.TgZ(5,"th",15),e._uU(6,"Day 0 Vaccine"),e.qZA(),e.TgZ(7,"th",15),e._uU(8,"Day 7 Vaccine"),e.qZA(),e.TgZ(9,"th",15),e._uU(10,"Day 21/28 Vaccine"),e.qZA(),e.TgZ(11,"th",15),e._uU(12,"Remarks"),e.qZA(),e.TgZ(13,"th",15),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,j,15,7,"tr",16),e.YNc(17,$,4,0,"tr",17),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.pre_exposure_list),e.xp6(1),e.Q6J("ngIf",!t.pre_exposure_list[0])}}function K(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"span"),e._uU(3,"PRE-EXPOSURE RECORD"),e.qZA(),e.TgZ(4,"span")(5,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("preexp-modal"))}),e._UZ(6,"fa-icon",10),e.qZA()()(),e.TgZ(7,"div",11),e.YNc(8,H,18,2,"table",12),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("icon",t.faPlus),e.xp6(2),e.Q6J("ngIf",!t.fetching_history&&t.pre_exposure_list)}}function G(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-pre-exposure-modal",27),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_pre_exposure",t.selected_pre_exposure)}}let B=(()=>{var o;class i{getPreExposure(){this.fetching_history=!0,this.http.get("animal-bite/patient-ab-pre-exposure",{params:{patient_id:this.patient_id}}).subscribe({next:n=>{this.pre_exposure_list=n.data,this.fetching_history=!1},error:n=>console.log(n)})}editPreExposure(_,n){this.selected_pre_exposure=n,this.modals[_]=!this.modals[_]}toggleModal(_){this.selected_pre_exposure=null,this.modals[_]=!this.modals[_],"preexp-modal"===_&&!1===this.modals["preexp-modal"]&&this.getPreExposure()}constructor(_,n){this.http=_,this.toastr=n,this.fetching_history=!0,this.modals=[],this.faCircleNotch=r.IJ7,this.faPlus=r.r8p,this.faEdit=g.Xcf}ngOnInit(){this.getPreExposure()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(f.O),e.Y36(b._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-preexposure"]],inputs:{patient_id:"patient_id"},decls:3,vars:3,consts:[["class","flex flex-col",4,"ngIf"],["class","border border-slate-200 rounded-lg mt-5",4,"ngIf"],[3,"patient_id","selected_pre_exposure","toggleModal",4,"ngIf"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["spin","true",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"border","border-slate-200","rounded-lg","mt-5"],[1,"bg-blue-500","text-white","rounded-t-md","p-3","font-semibold","flex","justify-between"],["type","button",1,"bg-white","text-blue-500","px-1","rounded-md","text-sm","hover:opacity-70",3,"click"],[3,"icon"],[1,"mt-3"],["class","w-full text-sm text-left rounded-b-md",4,"ngIf"],[1,"w-full","text-sm","text-left","rounded-b-md"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["class","grid grid-cols-1",4,"ngIf"],["type","button",1,"rounded-md","text-orange-500","py-1","px-2",3,"click"],["colspan","7"],[1,"text-center"],[1,"grid","grid-cols-1"],["colspan","7",1,"text-center","h-16"],[3,"patient_id","selected_pre_exposure","toggleModal"]],template:function(_,n){1&_&&(e.YNc(0,Y,5,1,"div",0),e.YNc(1,K,9,2,"div",1),e.YNc(2,G,1,2,"app-pre-exposure-modal",2)),2&_&&(e.Q6J("ngIf",n.fetching_history),e.xp6(1),e.Q6J("ngIf",!n.fetching_history),e.xp6(1),e.Q6J("ngIf",n.modals["preexp-modal"]))},dependencies:[s.sg,s.O5,u.BN,O,s.uU]}),i})();function X(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function W(o,i){1&o&&(e.TgZ(0,"div",29)(1,"label",52),e._uU(2,"Please specify Type of Animal"),e.qZA(),e._UZ(3,"input",53),e.qZA())}function z(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function ee(o,i){if(1&o&&(e.TgZ(0,"div",54),e._UZ(1,"input",55),e.TgZ(2,"label",56),e._uU(3),e.qZA()()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("formControlName",t.bite_code),e.uIk("id",t.bite_code),e.xp6(1),e.uIk("for",t.bite_code),e.xp6(1),e.Oqu(t.bite_desc)}}function te(o,i){1&o&&(e.TgZ(0,"div",29)(1,"label",57),e._uU(2,"Please specify Bite Location"),e.qZA(),e._UZ(3,"input",58),e.qZA())}function oe(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function ae(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.category+": "+t.desc)}}function ne(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2," Exposure Record "),e.qZA(),e.TgZ(3,"div",4)(4,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e.TgZ(5,"div",6)(6,"div",7),e._uU(7," Date "),e.qZA(),e.TgZ(8,"div",8)(9,"div")(10,"label",9),e._uU(11,"Exposure Date *"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div")(14,"label",11),e._uU(15,"Consultation Date *"),e.qZA(),e._UZ(16,"input",12),e.qZA()(),e.TgZ(17,"div",7),e._uU(18," Exposure Details "),e.qZA(),e.TgZ(19,"div",13)(20,"div")(21,"label",14),e._uU(22,"Place of exposure"),e.qZA(),e._UZ(23,"input",15),e.qZA(),e.TgZ(24,"div")(25,"label",16),e._uU(26,"Bite/Non Bite "),e.qZA(),e.TgZ(27,"select",17)(28,"option",18),e._uU(29,"Bite"),e.qZA(),e.TgZ(30,"option",18),e._uU(31,"Non Bite"),e.qZA()()(),e.TgZ(32,"div")(33,"label",19),e._uU(34,"Type of Animal *"),e.qZA(),e.TgZ(35,"select",20),e.YNc(36,X,2,2,"option",21),e.qZA()(),e.YNc(37,W,4,0,"div",22),e.TgZ(38,"div")(39,"label",23),e._uU(40,"Type of Ownership *"),e.qZA(),e.TgZ(41,"select",24),e.YNc(42,z,2,2,"option",21),e.qZA()(),e.TgZ(43,"div",25)(44,"label",26),e._uU(45,"Anti-rabies Vaccination of Animal (if any)"),e.qZA(),e._UZ(46,"input",27),e.qZA(),e.TgZ(47,"div",28)(48,"div",29),e._uU(49," Bite Location "),e.qZA(),e.YNc(50,ee,4,4,"div",30),e.qZA(),e.YNc(51,te,4,0,"div",22),e.TgZ(52,"div",29)(53,"label",31),e._uU(54,"Exposure Category *"),e.qZA(),e.TgZ(55,"select",32),e.YNc(56,oe,2,2,"option",21),e.qZA()(),e.TgZ(57,"div",29)(58,"label",33),e._uU(59,"Type of Exposure *"),e.qZA(),e.TgZ(60,"select",34),e.YNc(61,ae,2,2,"option",21),e.qZA()(),e.TgZ(62,"div",35)(63,"div")(64,"label",36),e._uU(65,"Washing of Bite"),e.qZA(),e.TgZ(66,"select",37)(67,"option",18),e._uU(68,"Yes"),e.qZA(),e.TgZ(69,"option",18),e._uU(70,"No"),e.qZA()()(),e.TgZ(71,"div")(72,"label",38),e._uU(73,"With PEP?"),e.qZA(),e.TgZ(74,"select",39)(75,"option",18),e._uU(76,"Yes"),e.qZA(),e.TgZ(77,"option",18),e._uU(78,"No"),e.qZA()()()(),e.TgZ(79,"div",35)(80,"div")(81,"label",40),e._uU(82,"Name of Tandok/Supsup"),e.qZA(),e._UZ(83,"input",41),e.qZA(),e.TgZ(84,"div")(85,"label",42),e._uU(86,"Date of Tandok"),e.qZA(),e._UZ(87,"input",43),e.qZA(),e.TgZ(88,"div",25)(89,"label",44),e._uU(90,"Address"),e.qZA(),e._UZ(91,"input",45),e.qZA()(),e.TgZ(92,"div",29)(93,"label",46),e._uU(94,"Remarks"),e.qZA(),e._UZ(95,"input",47),e.qZA()()(),e.TgZ(96,"div",48)(97,"button",49),e._UZ(98,"fa-icon",50),e._uU(99),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.abExposureForm),e.xp6(8),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(12),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(6),e.Q6J("ngForOf",t.animal_types),e.xp6(1),e.Q6J("ngIf","5"===t.abExposureForm.value.animal_type_id),e.xp6(5),e.Q6J("ngForOf",t.animal_ownerships),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngForOf",t.bite_locations),e.xp6(1),e.Q6J("ngIf",t.abExposureForm.value.others_flag),e.xp6(5),e.Q6J("ngForOf",t.categories),e.xp6(5),e.Q6J("ngForOf",t.exposure_types),e.xp6(6),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(6),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(10),e.Q6J("max",t.max_date),e.xp6(10),e.Q6J("disabled",t.is_saving||t.abExposureForm.invalid),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.abExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function ie(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",59)(2,"div",60),e._UZ(3,"fa-icon",61),e.qZA(),e.TgZ(4,"div",60),e._uU(5," Fetching exposure record... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let _e=(()=>{var o;class i{onSubmit(){let _;this.is_saving=!0,console.log(this.abExposureForm.value),_=this.abExposureForm.value.id?this.http.update("animal-bite/patient-ab-exposure/",this.abExposureForm.value.id,this.abExposureForm.value):this.http.post("animal-bite/patient-ab",this.abExposureForm.value),_.subscribe({next:n=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Exposure Details"),this.updateSelectedAb.emit(n)},error:n=>console.log(n)})}loadLibraries(){const _=this.http.get("libraries/ab-animal-type"),n=this.http.get("libraries/ab-animal-ownership"),l=this.http.get("libraries/ab-exposure-type"),d=this.http.get("libraries/ab-category");(0,v.D)([_,n,l,d]).subscribe({next:([m,x,y,Z])=>{this.animal_types=m.data,this.animal_ownerships=x.data,this.exposure_types=y.data,this.categories=Z.data,this.createForm()},error:m=>console.log(m)})}createForm(){this.abExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.kI.required],consult_date:[null,a.kI.required],exposure_date:[null,a.kI.required],patient_ab_id:[null],animal_type_id:[null,a.kI.required],animal_type_remarks:[null],exposure_place:[null],bite_flag:[!1],animal_ownership_id:[null,a.kI.required],animal_vaccine_date:[null],feet_flag:[!1],leg_flag:[!1],arms_flag:[!1],hand_flag:[!1],knee_flag:[!1],neck_flag:[!1],head_flag:[!1],others_flag:[!1],al_remarks:[null],category_id:[null,a.kI.required],exposure_type_code:[null,a.kI.required],wash_flag:[!1],pep_flag:[!1],tandok_name:[null],tandok_date:[null],tandok_addresss:[null],remarks:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abExposure&&(this.abExposureForm.patchValue({...this.selected_ab_consult.abExposure}),this.abExposureForm.patchValue({consult_date:this.selected_ab_consult.consult_date?(0,s.p6)(this.selected_ab_consult.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.selected_ab_consult.exposure_date?(0,s.p6)(this.selected_ab_consult.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(_,n,l){this.http=_,this.toastr=n,this.formBuilder=l,this.updateSelectedAb=new e.vpe,this.faCircleNotch=r.IJ7,this.faSave=g.r6l,this.abExposureForm=function L(){return new a.cw({id:new a.NI(null),patient_id:new a.NI(null),consult_date:new a.NI(null),exposure_date:new a.NI(null),patient_ab_id:new a.NI(null),animal_type_id:new a.NI(null),animal_type_remarks:new a.NI(null),exposure_place:new a.NI(null),bite_flag:new a.NI(!1),animal_ownership_id:new a.NI(null),animal_vaccine_date:new a.NI(null),feet_flag:new a.NI(!1),leg_flag:new a.NI(!1),arms_flag:new a.NI(!1),hand_flag:new a.NI(!1),knee_flag:new a.NI(!1),neck_flag:new a.NI(!1),head_flag:new a.NI(!1),others_flag:new a.NI(!1),al_remarks:new a.NI(null),category_id:new a.NI(null),exposure_type_code:new a.NI(null),wash_flag:new a.NI(!1),pep_flag:new a.NI(!1),tandok_name:new a.NI(null),tandok_date:new a.NI(null),tandok_addresss:new a.NI(null),remarks:new a.NI(null)})}(),this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.show_form=!1,this.bite_locations=[{bite_code:"feet_flag",bite_desc:"Feet"},{bite_code:"leg_flag",bite_desc:"Leg"},{bite_code:"arms_flag",bite_desc:"Arms"},{bite_code:"hand_flag",bite_desc:"Hand"},{bite_code:"knee_flag",bite_desc:"Knee"},{bite_code:"neck_flag",bite_desc:"Neck"},{bite_code:"head_flag",bite_desc:"Head"},{bite_code:"others_flag",bite_desc:"Others"}]}ngOnChanges(_){this.patchData()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(f.O),e.Y36(b._W),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-exposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},features:[e.TTD],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gpa-y-2"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","exposure_place"],["type","text","name","exposure_place","id","exposure_place","formControlName","exposure_place",1,"input"],["for","bite_flag"],["name","bite_flag","id","bite_flag","formControlName","bite_flag",1,"input"],[3,"ngValue"],["for","animal_type_id"],["name","animal_type_id","id","animal_type_id","formControlName","animal_type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-3",4,"ngIf"],["for","animal_ownership_id"],["name","animal_ownership_id","id","animal_ownership_id","formControlName","animal_ownership_id",1,"input"],[1,"col-span-2"],["for","animal_vaccine_date"],["type","date","name","animal_vaccine_date","id","animal_vaccine_date","formControlName","animal_vaccine_date",1,"input",3,"max"],[1,"col-span-3","grid","grid-cols-3","gap-x-4"],[1,"col-span-3"],["class","mx-5",4,"ngFor","ngForOf"],["for","category_id"],["name","category_id","id","category_id","formControlName","category_id",1,"input"],["for","exposure_type_code"],["name","exposure_type_code","id","exposure_type_code","formControlName","exposure_type_code",1,"input"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","wash_flag"],["name","wash_flag","id","wash_flag","formControlName","wash_flag",1,"input"],["for","pep_flag"],["name","pep_flag","id","pep_flag","formControlName","pep_flag",1,"input"],["for","tandok_name"],["type","text","name","tandok_name","id","tandok_name","formControlName","tandok_name",1,"input"],["for","tandok_date"],["type","date","name","tandok_date","id","tandok_date","formControlName","tandok_date",1,"input",3,"max"],["for","tandok_addresss"],["type","text","name","tandok_addresss","id","tandok_addresss","formControlName","tandok_addresss",1,"input"],["for","remarks"],["type","text","name","remarks","id","remarks","formControlName","remarks",1,"input"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[3,"value"],["for","animal_type_remarks"],["type","text","name","animal_type_remarks","id","animal_type_remarks","formControlName","animal_type_remarks",1,"input"],[1,"mx-5"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-2"],["for","al_remarks"],["type","text","name","al_remarks","id","al_remarks","formControlName","al_remarks",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,n){1&_&&(e.YNc(0,ne,100,22,"div",0),e.YNc(1,ie,6,1,"div",1)),2&_&&(e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form))},dependencies:[s.sg,s.O5,u.BN,a._Y,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.JL,a.sg,a.u]}),i})();function se(o,i){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function ce(o,i){1&o&&(e.TgZ(0,"div",15),e._uU(1," Death details "),e.qZA())}function de(o,i){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function re(o,i){if(1&o&&(e.TgZ(0,"div",28)(1,"div")(2,"label",32),e._uU(3,"Onset of Illness"),e.qZA(),e._UZ(4,"input",33),e.qZA(),e.TgZ(5,"div")(6,"label",34),e._uU(7,"Date Died"),e.qZA(),e._UZ(8,"input",35),e.qZA(),e.TgZ(9,"div")(10,"label",36),e._uU(11,"Place of Death"),e.qZA(),e.TgZ(12,"select",37),e.YNc(13,de,2,2,"option",23),e.qZA()(),e.TgZ(14,"div",38)(15,"label",39),e._uU(16,"Clinical Manifestations"),e.qZA(),e._UZ(17,"input",40),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.death_places)}}function ue(o,i){if(1&o&&(e.TgZ(0,"form",13)(1,"div",14)(2,"div",15),e._uU(3," Outcome "),e.qZA(),e.TgZ(4,"div",16)(5,"div")(6,"label",17),e._uU(7,"Consultation Date"),e.qZA(),e._UZ(8,"input",18),e.qZA(),e.TgZ(9,"div")(10,"label",19),e._uU(11,"Exposure Date"),e.qZA(),e._UZ(12,"input",20),e.qZA(),e.TgZ(13,"div")(14,"label",21),e._uU(15,"Outcome"),e.qZA(),e.TgZ(16,"select",22),e.YNc(17,se,2,2,"option",23),e.qZA()(),e.TgZ(18,"div")(19,"label",24),e._uU(20,"Outcome Date"),e.qZA(),e._UZ(21,"input",25),e.qZA()(),e.YNc(22,ce,2,0,"div",26),e.YNc(23,re,18,3,"div",27),e.TgZ(24,"div",15),e._uU(25," Remarks "),e.qZA(),e.TgZ(26,"div",28)(27,"div")(28,"label",29),e._uU(29,"Remarks"),e.qZA(),e._UZ(30,"input",30),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.abForm),e.xp6(8),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.treatment_oucomes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(1),e.Q6J("ngIf",3===t.abForm.value.ab_treatment_outcome_id),e.xp6(1),e.Q6J("ngIf",3===t.abForm.value.ab_treatment_outcome_id)}}function pe(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",41)(2,"div",42),e._UZ(3,"fa-icon",43),e.qZA(),e.TgZ(4,"div",42),e._uU(5," Fetching libraries... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let me=(()=>{var o;class i{onSubmit(){this.is_saving=!0,this.http.update("animal-bite/patient-ab/",this.selected_ab_consult.id,this.abForm.value).subscribe({next:_=>{this.saveComplete()},error:_=>console.log(_)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Outcome"),this.switchPage.emit(1),this.closeModal()}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-outcome"),n=this.http.get("libraries/ab-death-place");(0,v.D)([_,n]).subscribe({next:([l,d])=>{this.treatment_oucomes=l.data,this.death_places=d.data,this.createForm()},error:l=>console.log(l)})}createForm(){this.abForm=this.formBuilder.group({id:[null],patient_id:[null],consult_date:[null],exposure_date:[null],ab_treatment_outcome_id:[null],date_outcome:[null],ab_death_place_id:[null],manifestations:[null],date_onset:[null],date_dies:[null],death_remarks:[null]}),console.log(this.selected_ab_consult),this.abForm.patchValue({...this.selected_ab_consult}),this.abForm.patchValue({consult_date:this.abForm.value.consult_date?(0,s.p6)(this.abForm.value.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.abForm.value.exposure_date?(0,s.p6)(this.abForm.value.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null,date_onset:this.abForm.value.date_onset?(0,s.p6)(this.abForm.value.date_onset,"yyyy-MM-dd","en","Asia/Manila"):null,date_died:this.abForm.value.date_died?(0,s.p6)(this.abForm.value.date_died,"yyyy-MM-dd","en","Asia/Manila"):null}),this.show_form=!0}closeModal(){this.toggleModal.emit("treatment_outcome")}get f(){return this.abForm.controls}constructor(_,n,l){this.formBuilder=_,this.http=n,this.toastr=l,this.getPatientTbHistory=new e.vpe,this.toggleModal=new e.vpe,this.switchPage=new e.vpe,this.faSave=g.r6l,this.faCircleNotch=r.IJ7,this.is_saving=!1,this.show_form=!1,this.show_error=!1,this.required_message="Required field",this.abForm=function le(){return new a.cw({id:new a.NI(null),patient_id:new a.NI(null),consult_date:new a.NI(null),exposure_date:new a.NI(null),ab_treatment_outcome_id:new a.NI(null),date_outcome:new a.NI(null),ab_death_place_id:new a.NI(null),manifestations:new a.NI(null),date_onset:new a.NI(null),date_dies:new a.NI(null),death_remarks:new a.NI(null)})}()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(a.qu),e.Y36(f.O),e.Y36(b._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-outcome"]],inputs:{selected_ab_consult:"selected_ab_consult",max_date:"max_date"},outputs:{getPatientTbHistory:"getPatientTbHistory",toggleModal:"toggleModal",switchPage:"switchPage"},decls:16,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-orange-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-x-4","mx-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-2","gap-x-4","gpa-y-2"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","ab_treatment_outcome_id"],["name","ab_treatment_outcome_id","id","ab_treatment_outcome_id","formControlName","ab_treatment_outcome_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["for","date_outcome"],["type","date","name","date_outcome","id","date_outcome","formControlName","date_outcome",1,"input",3,"max"],["class","col-span-3 border-b border-slate-200 w-full my-2 font-semibold text-sky-500",4,"ngIf"],["class","col-span-3 grid grid-cols-3 gap-x-4 gap-y-2",4,"ngIf"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","death_remarks"],["type","text","name","death_remarks","id","death_remarks","formControlName","death_remarks",1,"input"],[3,"ngValue"],["for","date_onset"],["type","date","name","date_onset","id","date_onset","formControlName","date_onset",1,"input",3,"max"],["for","date_dies"],["type","date","name","date_dies","id","date_dies","formControlName","date_dies",1,"input",3,"max"],["for","ab_death_place_id"],["name","ab_death_place_id","id","ab_death_place_id","formControlName","ab_death_place_id",1,"input"],[1,"col-span-3"],["for","manifestations"],["type","text","name","manifestations","id","manifestations","formControlName","manifestations",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Treatment Outcome "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,ue,31,7,"form",6),e.YNc(8,pe,6,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&_&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(4),e.Q6J("disabled",!n.show_form||n.is_saving||n.abForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave)("spin",n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[s.sg,s.O5,u.BN,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]}),i})();function ge(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function be(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function xe(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ve(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function he(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ye(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ze(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ae(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Te(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function qe(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function we(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ne(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ce(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ue(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Je(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ie(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Qe(o,i){if(1&o&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Fe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2," Post Exposure Record "),e.qZA(),e.TgZ(3,"div",4)(4,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e.TgZ(5,"div",6)(6,"div",7),e._uU(7," Post Exposure Details "),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e._uU(12,"Status of Biting Animal"),e.qZA(),e.TgZ(13,"select",11),e.YNc(14,ge,2,2,"option",12),e.qZA()(),e.TgZ(15,"div")(16,"label",13),e._uU(17,"Date Killed/Died"),e.qZA(),e._UZ(18,"input",14),e.qZA()(),e.TgZ(19,"div")(20,"label",15),e._uU(21,"RIG Type"),e.qZA(),e.TgZ(22,"select",16),e.YNc(23,be,2,2,"option",12),e.qZA()(),e.TgZ(24,"div")(25,"label",17),e._uU(26,"RIG Date"),e.qZA(),e._UZ(27,"input",18),e.qZA()(),e.TgZ(28,"div",7),e._uU(29," Vaccine Details "),e.qZA(),e.TgZ(30,"div",8)(31,"div")(32,"label",19),e._uU(33,"Others"),e.qZA(),e._UZ(34,"input",20),e.qZA(),e.TgZ(35,"div")(36,"label",21),e._uU(37,"Specify"),e.qZA(),e._UZ(38,"input",22),e.qZA(),e.TgZ(39,"div")(40,"label",23),e._uU(41,"Route of Delivery"),e.qZA(),e.TgZ(42,"select",24)(43,"option",25),e._uU(44,"-"),e.qZA(),e.YNc(45,xe,2,2,"option",12),e.qZA()(),e.TgZ(46,"div")(47,"label",26),e._uU(48,"Day 0 Date"),e.qZA(),e._UZ(49,"input",27),e.qZA(),e.TgZ(50,"div")(51,"label",28),e._uU(52,"Vaccine"),e.qZA(),e.TgZ(53,"select",29)(54,"option",25),e._uU(55,"-"),e.qZA(),e.YNc(56,ve,2,2,"option",12),e.qZA()(),e.TgZ(57,"div")(58,"label",30),e._uU(59,"Route of Delivery"),e.qZA(),e.TgZ(60,"select",31)(61,"option",25),e._uU(62,"-"),e.qZA(),e.YNc(63,he,2,2,"option",12),e.qZA()(),e.TgZ(64,"div")(65,"label",32),e._uU(66,"Day 3 Date"),e.qZA(),e._UZ(67,"input",33),e.qZA(),e.TgZ(68,"div")(69,"label",34),e._uU(70,"Vaccine"),e.qZA(),e.TgZ(71,"select",35)(72,"option",25),e._uU(73,"-"),e.qZA(),e.YNc(74,ye,2,2,"option",12),e.qZA()(),e.TgZ(75,"div")(76,"label",36),e._uU(77,"Route of Delivery"),e.qZA(),e.TgZ(78,"select",37)(79,"option",25),e._uU(80,"-"),e.qZA(),e.YNc(81,Ze,2,2,"option",12),e.qZA()(),e.TgZ(82,"div")(83,"label",38),e._uU(84,"Day 7 Date"),e.qZA(),e._UZ(85,"input",39),e.qZA(),e.TgZ(86,"div")(87,"label",40),e._uU(88,"Vaccine"),e.qZA(),e.TgZ(89,"select",41)(90,"option",25),e._uU(91,"-"),e.qZA(),e.YNc(92,Ae,2,2,"option",12),e.qZA()(),e.TgZ(93,"div")(94,"label",42),e._uU(95,"Route of Delivery"),e.qZA(),e.TgZ(96,"select",43)(97,"option",25),e._uU(98,"-"),e.qZA(),e.YNc(99,Te,2,2,"option",12),e.qZA()(),e.TgZ(100,"div")(101,"label",44),e._uU(102,"Day 14 Date"),e.qZA(),e._UZ(103,"input",45),e.qZA(),e.TgZ(104,"div")(105,"label",46),e._uU(106,"Vaccine"),e.qZA(),e.TgZ(107,"select",47)(108,"option",25),e._uU(109,"-"),e.qZA(),e.YNc(110,qe,2,2,"option",12),e.qZA()(),e.TgZ(111,"div")(112,"label",48),e._uU(113,"Route of Delivery"),e.qZA(),e.TgZ(114,"select",49)(115,"option",25),e._uU(116,"-"),e.qZA(),e.YNc(117,we,2,2,"option",12),e.qZA()(),e.TgZ(118,"div")(119,"label",50),e._uU(120,"Day 28 Date"),e.qZA(),e._UZ(121,"input",51),e.qZA(),e.TgZ(122,"div")(123,"label",52),e._uU(124,"Vaccine"),e.qZA(),e.TgZ(125,"select",53)(126,"option",25),e._uU(127,"-"),e.qZA(),e.YNc(128,Ne,2,2,"option",12),e.qZA()(),e.TgZ(129,"div")(130,"label",54),e._uU(131,"Route of Delivery"),e.qZA(),e.TgZ(132,"select",55)(133,"option",25),e._uU(134,"-"),e.qZA(),e.YNc(135,Ce,2,2,"option",12),e.qZA()(),e.TgZ(136,"div")(137,"label",56),e._uU(138,"Booster 1 Date"),e.qZA(),e._UZ(139,"input",57),e.qZA(),e.TgZ(140,"div")(141,"label",58),e._uU(142,"Vaccine"),e.qZA(),e.TgZ(143,"select",59)(144,"option",25),e._uU(145,"-"),e.qZA(),e.YNc(146,Ue,2,2,"option",12),e.qZA()(),e.TgZ(147,"div")(148,"label",60),e._uU(149,"Route of Delivery"),e.qZA(),e.TgZ(150,"select",61)(151,"option",25),e._uU(152,"-"),e.qZA(),e.YNc(153,Je,2,2,"option",12),e.qZA()(),e.TgZ(154,"div")(155,"label",62),e._uU(156,"Booster 2 Date"),e.qZA(),e._UZ(157,"input",63),e.qZA(),e.TgZ(158,"div")(159,"label",64),e._uU(160,"Vaccine"),e.qZA(),e.TgZ(161,"select",65)(162,"option",25),e._uU(163,"-"),e.qZA(),e.YNc(164,Ie,2,2,"option",12),e.qZA()(),e.TgZ(165,"div")(166,"label",66),e._uU(167,"Route of Delivery"),e.qZA(),e.TgZ(168,"select",67)(169,"option",25),e._uU(170,"-"),e.qZA(),e.YNc(171,Qe,2,2,"option",12),e.qZA()()()(),e.TgZ(172,"div",68)(173,"button",69),e._UZ(174,"fa-icon",70),e._uU(175),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.abPostExposureForm),e.xp6(10),e.Q6J("ngForOf",t.animal_statuses),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.rig_types),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(7),e.Q6J("max",t.max_date),e.xp6(9),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(2),e.Q6J("disabled",t.is_saving||t.abPostExposureForm.invalid),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",t.is_saving),e.xp6(1),e.hij(" ",t.abPostExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Ee(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",72)(2,"div",73),e._UZ(3,"fa-icon",74),e.qZA(),e.TgZ(4,"div",73),e._uU(5," Fetching post exposure record... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let Me=(()=>{var o;class i{onSubmit(){this.is_saving=!0,this.http.post("animal-bite/patient-ab-post-exposure",this.abPostExposureForm.value).subscribe({next:_=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Post Exposure"),this.updateSelectedAb.emit(_)},error:_=>console.log(_)})}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-animal-status"),n=this.http.get("libraries/ab-rig-type"),l=this.http.get("libraries/ab-vaccine"),d=this.http.get("libraries/ab-vaccine-route");(0,v.D)([_,n,l,d]).subscribe({next:([m,x,y,Z])=>{this.animal_statuses=m.data,this.rig_types=x.data,this.vaccines=y.data,this.vaccine_routes=Z.data,this.createForm()}})}createForm(){this.abPostExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.kI.required],patient_ab_id:[this.selected_ab_consult.id],weight:[null],animal_status_code:[null,a.kI.required],animal_status_date:[null],rig_type_code:[null,a.kI.required],rig_date:[null],booster1_date:[null],booster1_vaccine_code:[null],booster1_vaccine_route_code:[null],booster2_date:[null],booster2_vaccine_code:[null],booster2_vaccine_route_code:[null],other_vacc_date:[null],other_vacc_desc:[null],other_vacc_route_code:[null],day0_date:[null],day0_vaccine_code:[null],day0_vaccine_route_code:[null],day3_date:[null],day3_vaccine_code:[null],day3_vaccine_route_code:[null],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day14_date:[null],day14_vaccine_code:[null],day14_vaccine_route_code:[null],day28_date:[null],day28_vaccine_code:[null],day28_vaccine_route_code:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abPostExposure&&(this.abPostExposureForm.patchValue({...this.selected_ab_consult.abPostExposure}),this.abPostExposureForm.patchValue({animal_status_date:this.abPostExposureForm.value.animal_status_date?(0,s.p6)(this.abPostExposureForm.value.animal_status_date,"yyyy-MM-dd","en","Asia/Manila"):null,rig_type_date:this.abPostExposureForm.value.rig_type_date?(0,s.p6)(this.abPostExposureForm.value.rig_type_date,"yyyy-MM-dd","en","Asia/Manila"):null,other_vacc_date:this.abPostExposureForm.value.other_vacc_date?(0,s.p6)(this.abPostExposureForm.value.other_vacc_date,"yyyy-MM-dd","en","Asia/Manila"):null,day0_date:this.abPostExposureForm.value.day0_date?(0,s.p6)(this.abPostExposureForm.value.day0_date,"yyyy-MM-dd","en","Asia/Manila"):null,day3_date:this.abPostExposureForm.value.day3_date?(0,s.p6)(this.abPostExposureForm.value.day3_date,"yyyy-MM-dd","en","Asia/Manila"):null,day7_date:this.abPostExposureForm.value.day7_date?(0,s.p6)(this.abPostExposureForm.value.day7_date,"yyyy-MM-dd","en","Asia/Manila"):null,day14_date:this.abPostExposureForm.value.day14_date?(0,s.p6)(this.abPostExposureForm.value.day14_date,"yyyy-MM-dd","en","Asia/Manila"):null,day28_date:this.abPostExposureForm.value.day28_date?(0,s.p6)(this.abPostExposureForm.value.day28_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(_,n,l){this.http=_,this.toastr=n,this.formBuilder=l,this.updateSelectedAb=new e.vpe,this.show_form=!1,this.is_saving=!1,this.faCircleNotch=r.IJ7,this.faSave=g.r6l,this.abPostExposureForm=function fe(){return new a.cw({id:new a.NI(null),patient_id:new a.NI(null),patient_ab_id:new a.NI(null),weight:new a.NI(null),animal_status_code:new a.NI(null),animal_status_date:new a.NI(null),rig_type_code:new a.NI(null),rig_date:new a.NI(null),booster1_date:new a.NI(null),booster1_vaccine_code:new a.NI(null),booster1_vaccine_route_code:new a.NI(null),booster2_date:new a.NI(null),booster2_vaccine_code:new a.NI(null),booster2_vaccine_route_code:new a.NI(null),other_vacc_date:new a.NI(null),other_vacc_desc:new a.NI(null),other_vacc_route_code:new a.NI(null),day0_date:new a.NI(null),day0_vaccine_code:new a.NI(null),day0_vaccine_route_code:new a.NI(null),day3_date:new a.NI(null),day3_vaccine_code:new a.NI(null),day3_vaccine_route_code:new a.NI(null),day7_date:new a.NI(null),day7_vaccine_code:new a.NI(null),day7_vaccine_route_code:new a.NI(null),day14_date:new a.NI(null),day14_vaccine_code:new a.NI(null),day14_vaccine_route_code:new a.NI(null),day28_date:new a.NI(null),day28_vaccine_code:new a.NI(null),day28_vaccine_route_code:new a.NI(null)})}(),this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnChanges(_){this.patchData()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(f.O),e.Y36(b._W),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-postexposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},features:[e.TTD],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2","ml-5"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","animal_status_code"],["name","animal_status_code","id","animal_status_code","formControlName","animal_status_code",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","animal_status_date"],["type","date","name","animal_status_date","id","animal_status_date","formControlName","animal_status_date",1,"input",3,"max"],["for","rig_type_code"],["name","rig_type_code","id","rig_type_code","formControlName","rig_type_code",1,"input"],["for","rig_date"],["type","date","name","rig_date","id","rig_date","formControlName","rig_date",1,"input",3,"max"],["for","other_vacc_date"],["type","date","name","other_vacc_date","id","other_vacc_date","formControlName","other_vacc_date",1,"input",3,"max"],["for","other_vacc_desc"],["type","text","name","other_vacc_desc","id","other_vacc_desc","formControlName","other_vacc_desc",1,"input"],["for","other_vacc_route_code"],["name","other_vacc_route_code","id","other_vacc_route_code","formControlName","other_vacc_route_code",1,"input"],[3,"ngValue"],["for","day0_date"],["type","date","name","day0_date","id","day0_date","formControlName","day0_date",1,"input",3,"max"],["for","day0_vaccine_code"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input"],["for","day0_vaccine_route_code"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input"],["for","day3_date"],["type","date","name","day3_date","id","day3_date","formControlName","day3_date",1,"input",3,"max"],["for","day3_vaccine_code"],["name","day3_vaccine_code","id","day3_vaccine_code","formControlName","day3_vaccine_code",1,"input"],["for","day3_vaccine_route_code"],["name","day3_vaccine_route_code","id","day3_vaccine_route_code","formControlName","day3_vaccine_route_code",1,"input"],["for","day7_date"],["type","date","name","day7_date","id","day7_date","formControlName","day7_date",1,"input",3,"max"],["for","day7_vaccine_code"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input"],["for","day7_vaccine_route_code"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input"],["for","day14_date"],["type","date","name","day14_date","id","day14_date","formControlName","day14_date",1,"input",3,"max"],["for","day14_vaccine_code"],["name","day14_vaccine_code","id","day14_vaccine_code","formControlName","day14_vaccine_code",1,"input"],["for","day14_vaccine_route_code"],["name","day14_vaccine_route_code","id","day14_vaccine_route_code","formControlName","day14_vaccine_route_code",1,"input"],["for","day28_date"],["type","date","name","day28_date","id","day28_date","formControlName","day28_date",1,"input",3,"max"],["for","day28_vaccine_code"],["name","day28_vaccine_code","id","day28_vaccine_code","formControlName","day28_vaccine_code",1,"input"],["for","day28_vaccine_route_code"],["name","day28_vaccine_route_code","id","day28_vaccine_route_code","formControlName","day28_vaccine_route_code",1,"input"],["for","booster1_date"],["type","date","name","booster1_date","id","booster1_date","formControlName","booster1_date",1,"input",3,"max"],["for","booster1_vaccine_code"],["name","booster1_vaccine_code","id","booster1_vaccine_code","formControlName","booster1_vaccine_code",1,"input"],["for","booster1_vaccine_route_code"],["name","booster1_vaccine_route_code","id","booster1_vaccine_route_code","formControlName","booster1_vaccine_route_code",1,"input"],["for","booster2_date"],["type","date","name","booster2_date","id","booster2_date","formControlName","booster2_date",1,"input",3,"max"],["for","booster2_vaccine_code"],["name","booster2_vaccine_code","id","booster2_vaccine_code","formControlName","booster2_vaccine_code",1,"input"],["for","booster2_vaccine_route_code"],["name","booster2_vaccine_route_code","id","booster2_vaccine_route_code","formControlName","booster2_vaccine_route_code",1,"input"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[3,"value"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,n){1&_&&(e.YNc(0,Fe,176,47,"div",0),e.YNc(1,Ee,6,1,"div",1)),2&_&&(e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form))},dependencies:[s.sg,s.O5,u.BN,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]}),i})();function ke(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchPage(2))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.Tol(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(1),e.hij(" ",t.selected_ab_consult?"DETAILS":"NEW EXPOSURE"," ")}}function Pe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchPage(3))}),e._uU(1," ECLAIMS "),e.qZA()}if(2&o){const t=e.oxw();e.Tol(3===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function Oe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleModal("end_visit"))}),e._UZ(1,"fa-icon",14),e._uU(2," End Visit "),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faDoorClosed)}}function Ye(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.switchTab(2))}),e._uU(1," POST EXPOSURE "),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol(2===t.module?"tabs-main-true":"tabs-main-false")}}function De(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.switchTab(8))}),e._uU(1," CASE RATE "),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol(8===t.module?"tabs-main-true":"tabs-main-false")}}function Se(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleModal("treatment_outcome"))}),e._uU(1," Treatment Outcome "),e.qZA()}}function Ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"nav",15)(1,"div",16)(2,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchTab(1))}),e._uU(3," EXPOSURE DETAILS "),e.qZA(),e.YNc(4,Ye,2,2,"button",18),e.YNc(5,De,2,2,"button",18),e.qZA(),e.TgZ(6,"div",16),e.YNc(7,Se,2,0,"button",19),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Tol(1===t.module?"tabs-main-true":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.xp6(1),e.Q6J("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.xp6(2),e.Q6J("ngIf",t.selected_ab_consult&&!t.selected_ab_consult.date_outcome)}}function Re(o,i){1&o&&(e.TgZ(0,"div",26),e._uU(1," There is an ongoing Animal Bite treatment for this patient on another facility. You are not allowed to create a new treatment or view previous treatment from other facilities. "),e.qZA())}function je(o,i){if(1&o&&(e.TgZ(0,"div",27)(1,"div",28),e._UZ(2,"fa-icon",29),e.qZA(),e.TgZ(3,"div",30),e._uU(4,"Fetching history..."),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function $e(o,i){1&o&&(e.TgZ(0,"td",42)(1,"div",43),e._uU(2," No records to show... "),e.qZA()())}function He(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.openAbConsult(n))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.date_outcome?"View":"Open"," ")}}function Ke(o,i){if(1&o&&(e.TgZ(0,"tr",38),e.YNc(1,$e,3,0,"td",39),e.TgZ(2,"td",40),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"td",40),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",40),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",40),e._uU(12),e.qZA(),e.TgZ(13,"td",40),e.YNc(14,He,2,1,"button",41),e.qZA()()),2&o){const t=i.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!_.patient_ab_history),e.xp6(2),e.hij(" ",e.Dn7(4,6,t.consult_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",e.Dn7(7,10,t.exposure_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",t.date_outcome?e.Dn7(10,14,t.date_outcome,"MM/dd/yyyy","Asia/Manila"):"-"," "),e.xp6(3),e.hij(" ",t.ab_treatment_outcome?t.ab_treatment_outcome.desc:"-"," "),e.xp6(2),e.Q6J("ngIf",_.user_facility===t.facility_code)}}function Ge(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",45)(1,"td",46)(2,"div",47)(3,"div",48),e._uU(4,"No records to show..."),e.qZA(),e.TgZ(5,"div",48)(6,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.switchPage(2))}),e._uU(7," create record "),e.qZA()()()()()}}function Be(o,i){if(1&o&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2," EXPOSURE HISTORY "),e.qZA(),e.TgZ(3,"div")(4,"table",33)(5,"thead",34)(6,"tr")(7,"th",35),e._uU(8,"Consult Date"),e.qZA(),e.TgZ(9,"th",35),e._uU(10,"Exposure Date"),e.qZA(),e.TgZ(11,"th",35),e._uU(12,"Outcome Date"),e.qZA(),e.TgZ(13,"th",35),e._uU(14,"Outcome"),e.qZA(),e.TgZ(15,"th",35),e._uU(16,"Action"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Ke,15,18,"tr",36),e.YNc(19,Ge,8,0,"tr",37),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(18),e.Q6J("ngForOf",t.patient_ab_history),e.xp6(1),e.Q6J("ngIf",!t.patient_ab_history[0])}}function Le(o,i){if(1&o&&e._UZ(0,"app-ab-preexposure",50),2&o){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)}}function Xe(o,i){if(1&o&&(e.TgZ(0,"div",21),e.YNc(1,Re,2,0,"div",22),e.YNc(2,je,5,1,"div",23),e.YNc(3,Be,20,2,"div",24),e.YNc(4,Le,1,1,"app-ab-preexposure",25),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selected_ab_consult&&(null==t.selected_ab_consult?null:t.selected_ab_consult.facility_code)!==t.user_facility),e.xp6(1),e.Q6J("ngIf",t.fetching_history),e.xp6(1),e.Q6J("ngIf",!t.fetching_history&&t.patient_ab_history),e.xp6(1),e.Q6J("ngIf",!t.fetching_history)}}function We(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-exposure",51),e.NdJ("updateSelectedAb",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedAb(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function ze(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-postexposure",51),e.NdJ("updateSelectedAb",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedAb(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function et(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-end-visit",52),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("consult_id",null==t.consult_details?null:t.consult_details.id)("consult_date",null==t.consult_details?null:t.consult_details.consult_date)("patient_id",null==t.consult_details?null:t.consult_details.patient.id)("pt_group","tb")}}function tt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-outcome",53),e.NdJ("toggleModal",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(n))})("switchPage",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.switchPage(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("selected_ab_consult",t.selected_ab_consult)("max_date",t.max_date)}}function ot(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-caserate",54),e.NdJ("switchPage",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.switchPage(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.selected_ab_consult.patient_id)("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)}}function at(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-eclaims",55),e.NdJ("switchPage",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.switchPage(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)("selected_case",t.selected_ab_consult)}}const nt=[{path:"",component:(()=>{var o;class i{openAbConsult(_){this.selected_ab_consult=_,1===_.treatment_done&&(this.consult_details=null),this.pages=2}getAbHistory(){this.selected_ab_consult=null,this.fetching_history=!0,this.http.get("animal-bite/patient-ab",{params:{patient_id:this.patient_id}}).subscribe({next:n=>{this.patient_ab_history=n.data,this.patient_ab_history[0]&&!this.patient_ab_history[0].ab_treatment_outcome&&(this.selected_ab_consult=n.data[0]),this.fetching_history=!1},error:n=>console.log(n)})}updateSelectedAb(_){console.log(_),this.selected_ab_consult=_.data[0]}get showEclaims(){return this.selected_ab_consult?.abPostExposure?.day0_date&&this.selected_ab_consult?.abPostExposure?.day3_date&&this.selected_ab_consult?.abPostExposure?.day7_date&&this.selected_ab_consult?.abPostExposure?.rig_date&&this.selected_ab_consult?.abPostExposure?.other_vacc_date}switchPage(_){1===_&&this.getAbHistory(),this.pages=_}switchTab(_){this.module=_}toggleModal(_){this.modals[_]=!this.modals[_]}loadConsult(){this.http.get("consultation/records",{params:{id:this.consult_id,pt_group:"ab"}}).subscribe({next:n=>{this.consult_details=n.data[0],this.getAbHistory()},error:n=>console.log(n)})}constructor(_,n){this.http=_,this.route=n,this.faPersonWalking=r.EiI,this.faDoorClosed=r.TH0,this.faCircleNotch=r.IJ7,this.pages=1,this.module=1,this.show_end=!1,this.fetching_history=!0,this.patient_ab_history=[],this.modals=[],this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadConsult()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(f.O),e.Y36(h.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-animalbite"]],decls:16,vars:13,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full",4,"ngIf"],[3,"patient_id","selected_ab_consult","updateSelectedAb",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"selected_ab_consult","max_date","toggleModal","switchPage",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[3,"program_id","program_name","max_date","selected_case","switchPage",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],["type","button","class","bg-rose-500 px-3 py-2  rounded text-white hover:opacity-75",3,"click",4,"ngIf"],["type","button",1,"bg-rose-500","px-3","py-2","rounded","text-white","hover:opacity-75",3,"click"],[1,"my-5","w-full"],["class","text-orange-800 border border-orange-400 bg-orange-100 rounded-md p-3 mb-2 w-full",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","mb-5 rounded-lg border border-slate-200",4,"ngIf"],["class","mt-5",3,"patient_id",4,"ngIf"],[1,"text-orange-800","border","border-orange-400","bg-orange-100","rounded-md","p-3","mb-2","w-full"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["spin","true",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"mb-5","rounded-lg","border","border-slate-200"],[1,"bg-blue-500","text-white","p-3","font-semibold","rounded-t-lg","flex","justify-between"],[1,"w-full","text-sm","text-left","rounded-b-lg"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["type","button","class","rounded-md bg-blue-500 text-white py-1 px-2",3,"click",4,"ngIf"],["colspan","7"],[1,"text-center"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],[1,"bg-white"],["colspan","7",1,"py-3"],[1,"text-center","flex","flex-col"],[1,"flex","justify-center"],["type","button",1,"mt-3","bg-blue-500","px-3","py-1","rounded-md","text-white","hover:opacity-75",3,"click"],[1,"mt-5",3,"patient_id"],[3,"patient_id","selected_ab_consult","updateSelectedAb"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal"],[3,"selected_ab_consult","max_date","toggleModal","switchPage"],[3,"patient_id","program_id","program_name","max_date","switchPage"],[3,"program_id","program_name","max_date","selected_case","switchPage"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return n.switchPage(1)}),e._uU(3," HISTORY "),e.qZA(),e.YNc(4,ke,2,3,"button",3),e.YNc(5,Pe,2,2,"button",3),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,Oe,3,1,"button",5),e.qZA()(),e.YNc(8,Ve,8,5,"nav",6),e.YNc(9,Xe,5,4,"div",7),e.YNc(10,We,1,2,"app-ab-exposure",8),e.YNc(11,ze,1,2,"app-ab-postexposure",8),e.YNc(12,et,1,4,"app-end-visit",9),e.YNc(13,tt,1,2,"app-ab-outcome",10),e.YNc(14,ot,1,4,"app-caserate",11),e.YNc(15,at,1,4,"app-eclaims",12)),2&_&&(e.xp6(2),e.Tol(1===n.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",!n.selected_ab_consult||(null==n.selected_ab_consult?null:n.selected_ab_consult.facility_code)===n.user_facility),e.xp6(1),e.Q6J("ngIf",n.showEclaims&&(null==n.selected_ab_consult?null:n.selected_ab_consult.facility_code)===n.user_facility),e.xp6(2),e.Q6J("ngIf",!(null!=n.consult_details&&n.consult_details.consult_done)&&(null==n.consult_details?null:n.consult_details.facility.code)===n.user_facility),e.xp6(1),e.Q6J("ngIf",2===n.pages),e.xp6(1),e.Q6J("ngIf",1===n.pages),e.xp6(1),e.Q6J("ngIf",2===n.pages&&1===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&2===n.module),e.xp6(1),e.Q6J("ngIf",n.modals.end_visit),e.xp6(1),e.Q6J("ngIf",n.modals.treatment_outcome),e.xp6(1),e.Q6J("ngIf",2===n.pages&&8===n.module),e.xp6(1),e.Q6J("ngIf",3===n.pages))},dependencies:[s.sg,s.O5,T.F,w.h,u.BN,q.Y,B,_e,me,Me,s.uU]}),i})()}];let it=(()=>{var o;class i{}return(o=i).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(nt),h.Bz]}),i})();var _t=c(8048);let lt=(()=>{var o;class i{}return(o=i).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,it,T.F,_t.q,u.uH,a.UX,a.u5,q.Y]}),i})()}}]);