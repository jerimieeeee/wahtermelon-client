"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[28],{6028:(M,g,n)=>{n.r(g),n.d(g,{PatientInfoModule:()=>I});var c=n(6895),u=n(5749),o=n(3746),_=n(4650);const T=[{path:"",component:o.M,children:[{path:"itr",loadChildren:()=>Promise.resolve().then(n.bind(n,3209)).then(a=>a.PatientItrModule)},{path:"cn",loadChildren:()=>Promise.all([n.e(966),n.e(234),n.e(384)]).then(n.bind(n,5384)).then(a=>a.ConsultationModule)},{path:"ncd",loadChildren:()=>n.e(354).then(n.bind(n,8354)).then(a=>a.NcdModule)},{path:"mc",loadChildren:()=>Promise.all([n.e(966),n.e(234),n.e(980),n.e(127)]).then(n.bind(n,14)).then(a=>a.MaternalcareModule)},{path:"cc",loadChildren:()=>Promise.all([n.e(966),n.e(234),n.e(980),n.e(439),n.e(548)]).then(n.bind(n,1548)).then(a=>a.ChildcareModule)},{path:"dispensing",loadChildren:()=>n.e(752).then(n.bind(n,2752)).then(a=>a.DrugDispensingModule)},{path:"lab",loadChildren:()=>n.e(967).then(n.bind(n,5967)).then(a=>a.LabModule)},{path:"tb",loadChildren:()=>Promise.all([n.e(966),n.e(234),n.e(980),n.e(729)]).then(n.bind(n,1729)).then(a=>a.TbdotsModule)},{path:"gbv",loadChildren:()=>Promise.all([n.e(966),n.e(45)]).then(n.bind(n,45)).then(a=>a.GbvModule)},{path:"ab",loadChildren:()=>Promise.all([n.e(966),n.e(234),n.e(980),n.e(710)]).then(n.bind(n,9710)).then(a=>a.AnimalbiteModule)},{path:"fp",loadChildren:()=>n.e(858).then(n.bind(n,6858)).then(a=>a.FamilyplanningModule)}]}];let A=(()=>{class a{}return a.\u0275fac=function(x){return new(x||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({imports:[u.Bz.forChild(T),u.Bz]}),a})();var r=n(2216),f=n(4006),t=n(2965),v=n(6205),C=n(3209),U=n(1094),h=n(4499),b=n(1079);let I=(()=>{class a{}return a.\u0275fac=function(x){return new(x||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({providers:[(0,U.e$)()],imports:[c.ez,A,r.uH,f.u5,t.Tm,f.UX,v.X,C.PatientItrModule,h.h,b.A0]}),a})()},3209:(M,g,n)=>{n.r(g),n.d(g,{PatientItrModule:()=>Ut});var c=n(6895),u=n(5749),o=n(7340);const _=[(0,o.X$)("myInsertRemoveTrigger",[(0,o.eR)(":enter",[(0,o.oB)({width:0,opacity:0,visibility:"hidden"}),(0,o.jt)("250ms",(0,o.oB)({width:"50%",opacity:"100%",visibility:"visible"}))]),(0,o.eR)(":leave",[(0,o.jt)("250ms",(0,o.oB)({width:0,opacity:0,visibility:"hidden",overflow:"hidden"}))])]),(0,o.X$)("halfFull",[(0,o.SB)("half",(0,o.oB)({width:"50%"})),(0,o.SB)("full",(0,o.oB)({width:"100%"})),(0,o.eR)("* => *",[(0,o.jt)("250ms")])]),(0,o.X$)("chartOpenClose",[(0,o.eR)(":enter",[(0,o.oB)({width:0,opacity:0}),(0,o.jt)("200ms",(0,o.oB)({opacity:"100%"}))]),(0,o.eR)(":leave",[(0,o.jt)("100ms",(0,o.oB)({opacity:0}))])])];var T=n(9300),A=n(8505),r=n(2687),f=n(3396),t=n(4650),v=n(4691),C=n(6311),U=n(6356),h=n(2216);function b(l,s){if(1&l&&(t.TgZ(0,"li",17),t._uU(1),t.qZA()),2&l){const e=s.$implicit;t.xp6(1),t.hij(" ",e.lib_complaints.complaint_desc," ")}}function I(l,s){if(1&l&&(t.TgZ(0,"li",18),t._uU(1),t.qZA()),2&l){const e=s.$implicit;t.xp6(1),t.hij(" ",e.diagnosis.class_name," ")}}function a(l,s){if(1&l&&(t.TgZ(0,"div")(1,"span",19),t._uU(2,"remarks:"),t.qZA(),t._uU(3),t.qZA()),2&l){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.selected_visit||null==e.selected_visit.consult_notes?null:e.selected_visit.consult_notes.idx_remarks," ")}}function Z(l,s){if(1&l&&(t.TgZ(0,"li",18)(1,"span",20),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&l){const e=s.$implicit;t.xp6(2),t.hij("",e.lib_icd10.icd10_code,":"),t.xp6(1),t.hij(" ",e.lib_icd10.icd10_desc," ")}}function x(l,s){if(1&l&&(t.TgZ(0,"div")(1,"span",19),t._uU(2,"remarks:"),t.qZA(),t._uU(3),t.qZA()),2&l){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.selected_visit||null==e.selected_visit.consult_notes?null:e.selected_visit.consult_notes.fdx_remarks," ")}}function q(l,s){if(1&l&&(t.TgZ(0,"li",18),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&l){const e=s.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.pe_desc)," ")}}function N(l,s){if(1&l&&(t.TgZ(0,"div")(1,"span",19),t._uU(2,"remarks:"),t.qZA(),t._uU(3),t.qZA()),2&l){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.hij("",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.physical_exam_remarks[e.key+"_remarks"]," ")}}function O(l,s){if(1&l&&(t.TgZ(0,"div",21)(1,"span",8),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",9)(5,"ul",10),t.YNc(6,q,3,3,"li",11),t.qZA(),t.YNc(7,N,4,1,"div",12),t.qZA()()),2&l){const e=s.$implicit,i=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,e.key)," "),t.xp6(4),t.Q6J("ngForOf",e.value),t.xp6(1),t.Q6J("ngIf",(null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.physical_exam_remarks)&&(null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.physical_exam_remarks[e.key+"_remarks"]))}}let P=(()=>{class l{groupPE(e){Object.entries(e).forEach(([i,d],y)=>{let p=d;this.physical_exam[p.lib_physical_exam.category_id.toLowerCase()]||(this.physical_exam[p.lib_physical_exam.category_id.toLowerCase()]=[]),this.physical_exam[p.lib_physical_exam.category_id.toLowerCase()].push(p.lib_physical_exam)})}constructor(){this.physical_exam=[]}ngOnChanges(e){this.selected_visit&&this.selected_visit.consult_notes&&Object.keys(this.selected_visit.consult_notes.physical_exam).length>0&&this.groupPE(this.selected_visit.consult_notes.physical_exam)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-consultation"]],inputs:{selected_visit:"selected_visit"},features:[t.TTD],decls:45,vars:10,consts:[[1,"flex","mx-2","mt-3","text-sm","font-semibold"],[1,"grid","grid-cols-1","mx-2","ml-4","text-sm"],[1,"flex-1","text-left"],[1,"font-semibold"],[1,"list-disc"],["class","ml-5",4,"ngFor","ngForOf"],[1,"flex","mx-2","ml-4","text-sm"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm","mb-5","pb-5","border-b","border-slate-200"],[1,"col-span-1","text-left"],[1,"col-span-1","grid","grid-cols-1"],[1,"list-disc","grid","grid-cols-1","mb-2"],["class","break-all ",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm"],[1,"flex-1","text-right"],[1,"border-b","border-slate-200"],["class","grid grid-cols-2 mx-2 ml-4 text-sm mb-5",4,"ngFor","ngForOf"],[1,"ml-5"],[1,"break-all"],[1,"text-sm","italic"],[1,"italic"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm","mb-5"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1," CHIEF COMPLAINT\n"),t.qZA(),t.TgZ(2,"div",1)(3,"span",2)(4,"span",3),t._uU(5,"Notes:"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"ul",4),t.YNc(8,b,2,1,"li",5),t.qZA()(),t.TgZ(9,"div",0),t._uU(10," HISTORY OF CURRENT ILLNESS\n"),t.qZA(),t.TgZ(11,"div",6)(12,"span",2),t._uU(13),t.qZA()(),t.TgZ(14,"div")(15,"div",0),t._uU(16," DIAGNOSIS "),t.qZA(),t.TgZ(17,"div",7)(18,"span",8),t._uU(19," Initial "),t.qZA(),t.TgZ(20,"div",9)(21,"ul",10),t.YNc(22,I,2,1,"li",11),t.qZA(),t.YNc(23,a,4,1,"div",12),t.qZA()(),t.TgZ(24,"div",13)(25,"span",8),t._uU(26," Final "),t.qZA(),t.TgZ(27,"div",9)(28,"ul",10),t.YNc(29,Z,4,2,"li",11),t.qZA(),t.YNc(30,x,4,1,"div",12),t.qZA()()(),t.TgZ(31,"div")(32,"div",0),t._uU(33," PRESCRIPTION "),t.qZA(),t.TgZ(34,"div",6)(35,"span",2),t._uU(36," - "),t.qZA(),t.TgZ(37,"span",14),t._uU(38," -"),t._UZ(39,"br"),t.qZA()()(),t.TgZ(40,"div",15)(41,"div",0),t._uU(42," PHYSICAL EXAM "),t.qZA(),t.YNc(43,O,8,5,"div",16),t.ALo(44,"keyvalue"),t.qZA()),2&e&&(t.xp6(6),t.hij(" ",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.complaint," "),t.xp6(2),t.Q6J("ngForOf",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.complaints),t.xp6(5),t.hij(" ",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.history," "),t.xp6(9),t.Q6J("ngForOf",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.initialdx),t.xp6(1),t.Q6J("ngIf",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.idx_remarks),t.xp6(6),t.Q6J("ngForOf",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.finaldx),t.xp6(1),t.Q6J("ngIf",null==i.selected_visit||null==i.selected_visit.consult_notes?null:i.selected_visit.consult_notes.fdx_remarks),t.xp6(13),t.Q6J("ngForOf",t.lcZ(44,8,i.physical_exam)))},dependencies:[c.sg,c.O5,c.rS,c.Nd]}),l})(),j=(()=>{class l{loadData(){this.http.get("child-care/cc-records/"+this.selected_visit.patient.id).subscribe({next:e=>{console.log(e)},error:e=>console.log(e)})}constructor(e){this.http=e}ngOnInit(){}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(v.O))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-ncd"]],inputs:{selected_visit:"selected_visit"},decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Risk Strat will be shown here!"),t.qZA())}}),l})();function J(l,s){if(1&l&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&l){const e=t.oxw(3);let i;t.xp6(1),t.hij(" Filter Number: ",null!==(i=null==e.ccdev_record?null:e.ccdev_record.nbs_filter)&&void 0!==i?i:"-"," ")}}function w(l,s){if(1&l&&(t.TgZ(0,"div",11)(1,"div",4),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,J,2,1,"div",12),t.qZA()),2&l){const e=s.$implicit;t.xp6(2),t.hij(" ",e.services.service_name," "),t.xp6(2),t.hij(" ",e.service_date?t.Dn7(5,3,e.service_date,"MM/dd/yyyy","Asia/Manila"):"-"," "),t.xp6(2),t.Q6J("ngIf","NBSDONE"===e.service_id)}}function D(l,s){if(1&l&&(t.TgZ(0,"div",14),t._UZ(1,"fa-icon",15),t.qZA()),2&l){const e=t.oxw(2);t.xp6(1),t.Q6J("icon",e.faCircleNotch)}}function Q(l,s){if(1&l&&(t.TgZ(0,"div",1)(1,"div",2),t._uU(2," Childcare Record "),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5," Admission Date "),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",4),t._uU(10," Discharge Date "),t.qZA(),t.TgZ(11,"div",5),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",6)(15,"div",7),t._uU(16," Services "),t.qZA(),t.YNc(17,w,7,7,"div",8),t.qZA(),t.TgZ(18,"div",6)(19,"div",7),t._uU(20," Breastfeeding "),t.qZA(),t.TgZ(21,"div",4),t._uU(22," Month 1 \xbd "),t.qZA(),t.TgZ(23,"div",5),t._uU(24),t.qZA(),t.TgZ(25,"div",4),t._uU(26," Month 2 \xbd "),t.qZA(),t.TgZ(27,"div",5),t._uU(28),t.qZA(),t.TgZ(29,"div",4),t._uU(30," Month 3 \xbd "),t.qZA(),t.TgZ(31,"div",5),t._uU(32),t.qZA(),t.TgZ(33,"div",4),t._uU(34," 5 months 29 Days "),t.qZA(),t.TgZ(35,"div",5),t._uU(36),t.qZA(),t.TgZ(37,"div",9),t._uU(38," Date Assessed "),t.qZA(),t.TgZ(39,"div",5),t._uU(40),t.ALo(41,"date"),t.qZA()(),t._UZ(42,"div"),t.qZA(),t.YNc(43,D,2,1,"div",10),t.qZA()),2&l){const e=t.oxw();t.xp6(7),t.hij(" ",t.xi3(8,9,null==e.ccdev_record?null:e.ccdev_record.admission_date,"MM/dd/yyyy hh:mm:SS a")," "),t.xp6(5),t.hij(" ",t.xi3(13,12,null==e.ccdev_record?null:e.ccdev_record.discharge_date,"MM/dd/yyyy hh:mm:SS a")," "),t.xp6(5),t.Q6J("ngForOf",e.ccdev_services),t.xp6(7),t.hij(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month1)?"Yes":"No"," "),t.xp6(4),t.hij(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month2)?"Yes":"No"," "),t.xp6(4),t.hij(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month3)?"Yes":"No"," "),t.xp6(4),t.hij(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month4)?"Yes":"No"," "),t.xp6(4),t.hij(" ",null!=e.ccdev_breastfed&&e.ccdev_breastfed.ebf_date?t.Dn7(41,15,null==e.ccdev_breastfed?null:e.ccdev_breastfed.ebf_date,"MM/dd/yyyy","Asia/Manila"):"-"," "),t.xp6(3),t.Q6J("ngIf",!e.show_form)}}let Y=(()=>{class l{loadData(){this.fetchCc()}fetchCc(){this.http.get("child-care/cc-records",{params:{patient_id:this.selected_visit.patient.id}}).subscribe({next:i=>{i.data.length>0&&(this.ccdev_record=i.data[0],console.log(i.data),this.fetchBreastfed())},error:i=>console.log(i)})}fetchBreastfed(){this.http.get("child-care/cc-breastfed/"+this.selected_visit.patient.id).subscribe({next:e=>{this.ccdev_breastfed=e.data,console.log(e.data),this.fetchServices()},error:e=>console.log(e)})}fetchServices(){this.http.get("child-care/cc-services",{params:{patient_id:this.selected_visit.patient.id,sort:"service_id"}}).subscribe({next:e=>{this.ccdev_services=e.data,console.log(e.data),this.show_form=!0},error:e=>console.log(e)})}constructor(e){this.http=e,this.faCircleNotch=r.IJ7,this.show_form=!1}ngOnInit(){this.selected_visit&&this.loadData()}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(v.O))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-cc"]],inputs:{selected_visit:"selected_visit"},decls:1,vars:1,consts:[["class","grid grid-cols-12",4,"ngIf"],[1,"grid","grid-cols-12"],[1,"col-span-12"],[1,"col-span-12","grid","grid-cols-2","pl-3"],[1,"text-xs"],[1,"text-xs","text-right"],[1,"col-span-2","grid","grid-cols-2","mt-3"],[1,"col-span-2","font-semibold","text-sm"],["class","grid grid-cols-2 col-span-2",4,"ngFor","ngForOf"],[1,"text-xs","pl-5"],["class","w-full flex justify-center",4,"ngIf"],[1,"grid","grid-cols-2","col-span-2"],["class","pl-5 col-span-2 text-xs",4,"ngIf"],[1,"pl-5","col-span-2","text-xs"],[1,"w-full","flex","justify-center"],["spin","true",1,"text-blue-500","pt-15",3,"icon"]],template:function(e,i){1&e&&t.YNc(0,Q,44,19,"div",0),2&e&&t.Q6J("ngIf",i.show_form)},dependencies:[c.sg,c.O5,h.BN,c.uU]}),l})();function F(l,s){if(1&l&&(t.TgZ(0,"tr")(1,"th",7),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"th",7),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"th",7),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"th",7),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"th",7),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"th",7),t._uU(18),t.qZA()()),2&l){const e=s.$implicit;t.xp6(2),t.Oqu(e.pre_registration?"MCR: "+t.Dn7(3,6,e.pre_registration.pre_registration_date,"MM/dd/yyyy","Asia/Manila"):"Post: "+t.Dn7(4,10,e.post_registration.post_registration_date,"MM/dd/yyyy","Asia/Manila")),t.xp6(4),t.Oqu(e.pre_registration?t.Dn7(7,14,e.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.xp6(3),t.Oqu(e.post_registration?t.Dn7(10,18,e.post_registration.delivery_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.xp6(3),t.Oqu(e.post_registration?t.Dn7(13,22,e.post_registration.admission_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.xp6(3),t.Oqu(e.post_registration?t.Dn7(16,26,e.post_registration.discharge_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.xp6(3),t.Oqu(e.post_registration&&e.post_registration.end_pregnancy?"Closed":"Open")}}function V(l,s){if(1&l&&(t.TgZ(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),t._uU(4,"Registration Date"),t.qZA(),t.TgZ(5,"th",5),t._uU(6,"LMP Date"),t.qZA(),t.TgZ(7,"th",5),t._uU(8,"Delivery Date"),t.qZA(),t.TgZ(9,"th",5),t._uU(10,"Admission Date"),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"Discharge Date"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Status"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,F,19,30,"tr",6),t.qZA()()),2&l){const e=t.oxw();t.xp6(16),t.Q6J("ngForOf",e.patient_mc_list)}}let L=(()=>{class l{loadData(){this.http.get("maternal-care/mc-records",{params:{type:"all",patient_id:this.selected_visit.patient.id}}).subscribe({next:i=>{i.data.length>0&&(this.patient_mc_list=i.data)},error:i=>console.log(i)})}constructor(e){this.http=e}ngOnInit(){this.selected_visit&&this.loadData()}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(v.O))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-mc"]],inputs:{selected_visit:"selected_visit"},decls:4,vars:1,consts:[[1,"font-semibold","text-sm"],[1,"w-full","rounded-md","border","border-slate-200","shadow-md","overflow-auto"],["class","table-auto",4,"ngIf"],[1,"table-auto"],[1,""],[1,"px-1","text-xs","font-semibold","align-top"],[4,"ngFor","ngForOf"],[1,"px-1","text-sm","font-normal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1," Maternal Care History\n"),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,V,17,1,"table",2),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",i.patient_mc_list))},dependencies:[c.sg,c.O5,c.uU]}),l})();function S(l,s){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const e=t.oxw();t.xp6(1),t.HOy("",(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.last_name)+", "," ",null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.first_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.middle_name)?"":null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.middle_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.suffix_name)?"":null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.suffix_name,"")}}function B(l,s){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const e=t.oxw();t.xp6(1),t.HOy("",(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.last_name)+", "," ",null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.first_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.middle_name)?"":null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.middle_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.suffix_name)?"":null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.suffix_name,"")}}const m=function(l){return{"text-red-500":l}};function R(l,s){if(1&l&&(t.TgZ(0,"div",13)(1,"span",10),t._uU(2," BMI "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,m,!(null==e.latest_vitals||!e.latest_vitals.patient_bmi)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class))),t.xp6(4),t.AsE(" ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi?null==e.latest_vitals?null:e.latest_vitals.patient_bmi:"-"," ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi_class?"("+(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class)+")":""," ")}}function H(l,s){if(1&l&&(t.TgZ(0,"div",13)(1,"span",10),t._uU(2," Weight for age "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,m,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age:""," ")}}function $(l,s){if(1&l&&(t.TgZ(0,"div",13)(1,"span",10),t._uU(2," Height for age "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,m,!(null==e.latest_vitals||!e.latest_vitals.patient_height_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_height_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age:""," ")}}function E(l,s){if(1&l&&(t.TgZ(0,"div",13)(1,"span",10),t._uU(2," Weight for Height "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,m,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_height)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_height?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height:""," ")}}function X(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Head Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_head_circumference?(null==e.latest_vitals?null:e.latest_vitals.patient_head_circumference)+" cm":""," ")}}function z(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Mid-Upper Arm Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_muac?(null==e.latest_vitals?null:e.latest_vitals.patient_muac)+" cm":""," ")}}function K(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Chest Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_chest?(null==e.latest_vitals?null:e.latest_vitals.patient_chest)+" cm":""," ")}}function W(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Abdominal Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_abdomen?(null==e.latest_vitals?null:e.latest_vitals.patient_abdomen)+" cm":""," ")}}function G(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Waist Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_waist?(null==e.latest_vitals?null:e.latest_vitals.patient_waist)+" cm":"-"," ")}}function k(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Hip Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_hip?(null==e.latest_vitals?null:e.latest_vitals.patient_waist)+" cm":"-"," ")}}function tt(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Limbs Circumference "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_limbs?(null==e.latest_vitals?null:e.latest_vitals.patient_limbs)+" cm":""," ")}}function et(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2," Skinfold Thickness "),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&l){const e=t.oxw();t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_skinfold_thickness?(null==e.latest_vitals?null:e.latest_vitals.patient_skinfold_thickness)+" cm":""," ")}}function lt(l,s){if(1&l&&t._UZ(0,"app-consultation",17),2&l){const e=t.oxw();t.Q6J("selected_visit",e.selected_visit)}}function it(l,s){if(1&l&&t._UZ(0,"app-ncd",17),2&l){const e=t.oxw();t.Q6J("selected_visit",e.selected_visit)}}function nt(l,s){if(1&l&&t._UZ(0,"app-cc",17),2&l){const e=t.oxw();t.Q6J("selected_visit",e.selected_visit)}}function st(l,s){if(1&l&&t._UZ(0,"app-mc",17),2&l){const e=t.oxw();t.Q6J("selected_visit",e.selected_visit)}}let at=(()=>{class l{openVisit(e){this.router.navigate(["/patient/"+e.pt_group,{id:e.patient.id,consult_id:e.id}])}displayVisit(){this.selected_visit&&(Object.entries(this.comps).forEach(([e,i],d)=>{e!==this.selected_visit.pt_group&&(this.comps[e]=!1)}),this.comps[this.selected_visit.pt_group]=!this.comps[this.selected_visit.pt_group])}ngOnChanges(e){this.displayVisit()}constructor(e){this.router=e,this.comps=[]}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(u.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-visit-details"]],inputs:{latest_vitals:"latest_vitals",selected_visit:"selected_visit"},features:[t.TTD],decls:86,vars:54,consts:[[1,"flex","justify-between","align-middle","bg-blue-500","w-full","p-2","font-semibold","text-sm","mb-1","text-white","rounded-md"],[1,"py-1"],["type","button",1,"px-2","py-1","bg-slate-50","text-gray-700","rounded-lg",3,"click"],[1,"flex","mx-2","text-sm"],[1,"flex-1","text-left","font-semibold"],[1,"flex-1","text-right"],[4,"ngIf"],[1,"flex","mx-2","mt-3","text-sm","font-semibold"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngIf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],[1,"flex","pl-3","pb-5","justify-between","items-center"],["class","flex pl-3 justify-between items-center",4,"ngIf"],[3,"selected_visit",4,"ngIf"],[3,"selected_visit"]],template:function(e,i){1&e&&(t.TgZ(0,"span",0)(1,"span",1),t._uU(2,"VISIT DETAILS"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.openVisit(i.selected_visit)}),t._uU(4," Open "),t.qZA()(),t.TgZ(5,"div")(6,"div",3)(7,"span",4),t._uU(8," Date "),t.qZA(),t.TgZ(9,"span",5),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"div",3)(13,"span",4),t._uU(14," Assessed By "),t.qZA(),t.TgZ(15,"span",5),t.YNc(16,S,2,4,"span",6),t.qZA()(),t.TgZ(17,"div",3)(18,"span",4),t._uU(19," Physician "),t.qZA(),t.TgZ(20,"span",5),t.YNc(21,B,2,4,"span",6),t.qZA()(),t.TgZ(22,"div",7),t._uU(23),t.ALo(24,"date"),t.qZA(),t.TgZ(25,"div",8)(26,"div",9)(27,"span",10),t._uU(28," Weight "),t.qZA(),t.TgZ(29,"span",11),t._uU(30),t.qZA()(),t.TgZ(31,"div",9)(32,"span",10),t._uU(33),t.qZA(),t.TgZ(34,"span",11),t._uU(35),t.qZA()(),t.YNc(36,R,5,5,"div",12),t.YNc(37,H,5,4,"div",12),t.YNc(38,$,5,4,"div",12),t.YNc(39,E,5,4,"div",12),t.TgZ(40,"div",9)(41,"span",10),t._uU(42," Blood Pressure "),t.qZA(),t.TgZ(43,"span",11),t._uU(44),t.qZA()(),t.TgZ(45,"div",13)(46,"span",10),t._uU(47," Blood Oxygen (SpO2) "),t.qZA(),t.TgZ(48,"span",11),t._uU(49),t.ALo(50,"number"),t.qZA()(),t.TgZ(51,"div",13)(52,"span",10),t._uU(53," Temperature "),t.qZA(),t.TgZ(54,"span",11),t._uU(55),t.qZA()(),t.TgZ(56,"div",9)(57,"span",10),t._uU(58," Heart Rate "),t.qZA(),t.TgZ(59,"span",11),t._uU(60),t.ALo(61,"number"),t.qZA()(),t.TgZ(62,"div",9)(63,"span",10),t._uU(64," Respiratory Rate "),t.qZA(),t.TgZ(65,"span",11),t._uU(66),t.ALo(67,"number"),t.qZA()(),t.TgZ(68,"div",14)(69,"span",10),t._uU(70," Pulse Rate "),t.qZA(),t.TgZ(71,"span",11),t._uU(72),t.ALo(73,"number"),t.qZA()(),t.YNc(74,X,5,1,"div",15),t.YNc(75,z,5,1,"div",15),t.YNc(76,K,5,1,"div",15),t.YNc(77,W,5,1,"div",15),t.YNc(78,G,5,1,"div",15),t.YNc(79,k,5,1,"div",15),t.YNc(80,tt,5,1,"div",15),t.YNc(81,et,5,1,"div",15),t.qZA(),t.YNc(82,lt,1,1,"app-consultation",16),t.YNc(83,it,1,1,"app-ncd",16),t.YNc(84,nt,1,1,"app-cc",16),t.YNc(85,st,1,1,"app-mc",16),t.qZA()),2&e&&(t.xp6(10),t.hij(" ",t.xi3(11,31,null==i.selected_visit?null:i.selected_visit.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),t.xp6(6),t.Q6J("ngIf",null==i.selected_visit?null:i.selected_visit.user),t.xp6(5),t.Q6J("ngIf",null==i.selected_visit?null:i.selected_visit.physician),t.xp6(2),t.hij(" VITALS ",t.Dn7(24,34,null==i.latest_vitals?null:i.latest_vitals.vitals_date,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(7),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_weight?(null==i.latest_vitals?null:i.latest_vitals.patient_weight)+" kg":"-"," "),t.xp6(3),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_weight_for_age||null!=i.latest_vitals&&i.latest_vitals.patient_height_for_age||null!=i.latest_vitals&&i.latest_vitals.patient_weight_for_height?"Length":"Height"," "),t.xp6(2),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_height?(null==i.latest_vitals?null:i.latest_vitals.patient_height)+" cm":"-"," "),t.xp6(1),t.Q6J("ngIf",!(null!=i.latest_vitals&&i.latest_vitals.patient_weight_for_age)),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_weight_for_age),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_height_for_age),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_weight_for_height),t.xp6(5),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.bp_systolic?(null==i.latest_vitals?null:i.latest_vitals.bp_systolic)+"/"+(null==i.latest_vitals?null:i.latest_vitals.bp_diastolic):"-"," "),t.xp6(1),t.Q6J("ngClass",t.VKq(50,m,!(null==i.latest_vitals||!i.latest_vitals.patient_spo2)&&(null==i.latest_vitals?null:i.latest_vitals.patient_spo2)<95)),t.xp6(4),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_spo2?t.xi3(50,38,null==i.latest_vitals?null:i.latest_vitals.patient_spo2,"1.0-0")+" %":"-"," "),t.xp6(2),t.Q6J("ngClass",t.VKq(52,m,(null==i.latest_vitals?null:i.latest_vitals.patient_temp)>=37.6)),t.xp6(4),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_temp?(null==i.latest_vitals?null:i.latest_vitals.patient_temp)+" C":"-"," "),t.xp6(5),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_heart_rate?t.xi3(61,41,null==i.latest_vitals?null:i.latest_vitals.patient_heart_rate,"1.0-0"):"-"," "),t.xp6(6),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_respiratory_rate?t.xi3(67,44,null==i.latest_vitals?null:i.latest_vitals.patient_respiratory_rate,"1.0-0"):"-"," "),t.xp6(6),t.hij(" ",null!=i.latest_vitals&&i.latest_vitals.patient_pulse_rate?t.xi3(73,47,null==i.latest_vitals?null:i.latest_vitals.patient_pulse_rate,"1.0-0"):"-"," "),t.xp6(2),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_head_circumference),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_muac),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_chest),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_abdomen),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_waist),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_hip),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_limbs),t.xp6(1),t.Q6J("ngIf",null==i.latest_vitals?null:i.latest_vitals.patient_skinfold_thickness),t.xp6(1),t.Q6J("ngIf",i.comps.cn),t.xp6(1),t.Q6J("ngIf",i.comps.ncd),t.xp6(1),t.Q6J("ngIf",i.comps.cc),t.xp6(1),t.Q6J("ngIf",i.comps.mc))},dependencies:[c.mk,c.O5,P,j,Y,L,c.JJ,c.uU]}),l})();function ot(l,s){1&l&&(t.TgZ(0,"div",7)(1,"div",8),t._uU(2," No record to show "),t.qZA()())}function ct(l,s){if(1&l&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit;t.xp6(1),t.hij("",null==e||null==e.facility?null:e.facility.facility_name," ")}}function dt(l,s){if(1&l&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit;t.xp6(1),t.HOy("",(null==e||null==e.user?null:e.user.last_name)+", "," ",null==e||null==e.user?null:e.user.first_name," ","NA"===(null==e||null==e.user?null:e.user.middle_name)?" ":null==e||null==e.user?null:e.user.middle_name," ","NA"===(null==e||null==e.user?null:e.user.suffix_name)?" ":null==e||null==e.user?null:e.user.suffix_name,"")}}function ut(l,s){if(1&l&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&l){const e=t.oxw().$implicit;t.xp6(1),t.HOy("",(null==e||null==e.physician?null:e.physician.last_name)+", "," ",null==e||null==e.physician?null:e.physician.first_name," ","NA"===(null==e||null==e.physician?null:e.physician.middle_name)?" ":null==e||null==e.physician?null:e.physician.middle_name," ","NA"===(null==e||null==e.physician?null:e.physician.suffix_name)?" ":null==e||null==e.physician?null:e.physician.suffix_name,"")}}const pt=function(l){return{"text-green-600":l}};function _t(l,s){if(1&l&&(t.TgZ(0,"span",25),t._UZ(1,"fa-icon",26),t.qZA()),2&l){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("icon",i.faFolderOpen)("ngClass",t.VKq(2,pt,!1===e.consult_done))}}function rt(l,s){if(1&l&&(t.TgZ(0,"span",27),t._UZ(1,"fa-icon",28),t.qZA()),2&l){const e=t.oxw(3);t.xp6(1),t.Q6J("icon",e.faFolder)}}function vt(l,s){if(1&l&&(t.TgZ(0,"span",29),t._UZ(1,"fa-icon",28),t.qZA()),2&l){const e=t.oxw(3);t.xp6(1),t.Q6J("icon",e.faStethoscope)}}const mt=function(l){return{"bg-green-200 hover:bg-green-300":l}};function gt(l,s){if(1&l){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"div",15),t._uU(3),t.ALo(4,"date"),t._UZ(5,"br"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",16),t.NdJ("click",function(){const y=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.showConsult(y))}),t.TgZ(9,"div",17)(10,"span",18),t._uU(11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span",19),t._uU(14,"Facility: "),t.YNc(15,ct,2,1,"span",20),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"span",19),t._uU(18,"Attended by: "),t.YNc(19,dt,2,4,"span",20),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"span",19),t._uU(22,"Physician: "),t.YNc(23,ut,2,4,"span",20),t.qZA()(),t.YNc(24,_t,2,4,"span",21),t.YNc(25,rt,2,1,"span",22),t.YNc(26,vt,2,1,"span",23),t.qZA()()()}if(2&l){const e=s.$implicit,i=t.oxw(2);t.xp6(3),t.hij(" ",t.Dn7(4,10,null==e?null:e.consult_date,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.hij(" ",t.xi3(7,14,null==e?null:e.consult_date,"hh:mm a")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(17,mt,!1===(null==e?null:e.consult_done))),t.xp6(3),t.hij("",i.getVisitType(null==e?null:e.pt_group)," "),t.xp6(4),t.Q6J("ngIf",null==e?null:e.facility),t.xp6(4),t.Q6J("ngIf",null==e?null:e.user),t.xp6(4),t.Q6J("ngIf",null==e?null:e.physician),t.xp6(1),t.Q6J("ngIf",i.show_details&&e.id===i.selected_id),t.xp6(1),t.Q6J("ngIf",!0===e.consult_done&&e.id!==i.selected_id),t.xp6(1),t.Q6J("ngIf",!1===e.consult_done&&e.id!==i.selected_id)}}function ft(l,s){if(1&l&&t._UZ(0,"app-visit-details",33),2&l){const e=t.oxw(3);t.Q6J("selected_visit",e.selected_visit)("latest_vitals",e.latest_vitals)}}function ht(l,s){1&l&&(t.TgZ(0,"div")(1,"span",34)(2,"span",35),t._uU(3,"VISIT DETAILS"),t.qZA()(),t.TgZ(4,"div",36)(5,"span",37),t._uU(6," This visit record is from other facility. "),t._UZ(7,"br"),t._uU(8," You are not allowed to view this record. "),t.qZA()()())}function Zt(l,s){if(1&l&&(t.TgZ(0,"div",30),t.YNc(1,ft,1,2,"app-visit-details",31),t.YNc(2,ht,9,0,"div",32),t.qZA()),2&l){const e=t.oxw(2);t.Q6J("@myInsertRemoveTrigger",void 0),t.xp6(1),t.Q6J("ngIf",e.user_allowed),t.xp6(1),t.Q6J("ngIf",!e.user_allowed)}}function xt(l,s){if(1&l&&(t.TgZ(0,"div",9)(1,"div",10),t.YNc(2,gt,27,19,"div",11),t.qZA(),t.YNc(3,Zt,3,3,"div",12),t.qZA()),2&l){const e=t.oxw();t.xp6(1),t.Q6J("@halfFull",e.show_details?"half":"full"),t.xp6(1),t.Q6J("ngForOf",e.visit_list),t.xp6(1),t.Q6J("ngIf",e.show_details)}}const yt=[{path:"",component:(()=>{class l{loadData(){let e=this.route.snapshot.paramMap.get("id");this.patient_id!==e&&this.getVisitList({patient_id:e,per_page:"10",sort:"-consult_date",disable_filter:1})}getVisitList(e,i){this.http.get("consultation/records",{params:e}).subscribe({next:d=>{this.visit_list=d.data},error:d=>console.log(d)})}showConsult(e){"cn"!=e.pt_group?e.facility.code===this.user_location?(this.user_allowed=!0,this.selected_visit=e,e.vitals&&this.getLatestToday(e)):(this.user_allowed=!1,this.show_details=!0):(this.user_allowed=!0,this.selected_visit=e,e.vitals&&this.getLatestToday(e))}getLatestToday(e){this.latest_vitals=this.vitalsCharts.getLatestToday(e.vitals,e.consult_date),this.selected_id&&this.selected_id===e.id?(this.selected_id=void 0,this.show_details=!1):(this.selected_id=e.id,this.show_details=!0)}getVisitType(e){return this.nameHelper.getVisitType(e)}constructor(e,i,d,y,p){this.router=e,this.http=i,this.vitalsCharts=d,this.route=y,this.nameHelper=p,this.faCircle=r.diR,this.faEye=f.Mdf,this.faFolderOpen=f.cC_,this.faFolder=r.Pk,this.faStethoscope=r.TTu,this.show_details=!1,this.user_allowed=!1,this.navigationEnd$=this.router.events.pipe((0,T.h)(bt=>bt instanceof u.m2),(0,A.b)(()=>{this.loadData(),this.show_details=!1}))}ngOnInit(){this.user_location=this.http.getUserFacility(),this.route.params.subscribe(e=>{this.loadData()})}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(u.F0),t.Y36(v.O),t.Y36(C.i),t.Y36(u.gz),t.Y36(U.y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-patient-itr"]],decls:8,vars:2,consts:[[1,"w-full"],[1,"block","shadow","px-2","py-2","mt-4","rounded-xl","text-gray-600","border","border-slate-100"],[1,"grid","grid-cols-3","border-b-2"],[1,"col-span-1"],[1,"col-auto"],["class","pt-15 mt-15",4,"ngIf"],["class","flex",4,"ngIf"],[1,"pt-15","mt-15"],[1,"text-center","items-center","mb-3","mt-15","italic"],[1,"flex"],[1,"mr-2","flex-auto","h-[900px]","overflow-y-auto"],["class","last:border-0 border-b border-slate-200 pb-2 h-",4,"ngFor","ngForOf"],["class","my-2 w-1/2",4,"ngIf"],[1,"last:border-0","border-b","border-slate-200","pb-2","h-"],[1,"grid","grid-cols-8","gap-2","mt-2"],[1,"col-span-2","text-sm","font-semibold","h-full"],[1,"col-span-6","bg-blue-50","hover:bg-blue-200","hover:cursor-pointer","p-1","pl-5","text-sm","col-start-3","grid","grid-cols-12","rounded-l-xl",3,"ngClass","click"],[1,"col-span-11"],[1,"text-cyan-800","font-semibold"],[1,"text-[.8em]"],["class","font-semibold",4,"ngIf"],["class","col-span-1 flex justify-center my-auto",4,"ngIf"],["class","col-span-1 flex justify-center my-auto text-blue-50 hover:text-blue-500",4,"ngIf"],["class","col-span-1 flex justify-center my-auto text-green-600 hover:text-green-700",4,"ngIf"],[1,"font-semibold"],[1,"col-span-1","flex","justify-center","my-auto"],[1,"text-blue-500","text-lg",3,"icon","ngClass"],[1,"col-span-1","flex","justify-center","my-auto","text-blue-50","hover:text-blue-500"],[1,"text-lg",3,"icon"],[1,"col-span-1","flex","justify-center","my-auto","text-green-600","hover:text-green-700"],[1,"my-2","w-1/2"],[3,"selected_visit","latest_vitals",4,"ngIf"],[4,"ngIf"],[3,"selected_visit","latest_vitals"],[1,"flex","justify-between","align-middle","bg-blue-500","w-full","p-2","font-semibold","text-sm","mb-1","text-white","rounded-md"],[1,"py-1"],[1,"flex","flex-col","justify-center","pt-5","text-sm"],[1,"mx-auto","italic","text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Medical Journal"),t.qZA(),t._UZ(5,"div",4),t.qZA(),t.YNc(6,ot,3,0,"div",5),t.YNc(7,xt,4,3,"div",6),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngIf",0===(null==i.visit_list?null:i.visit_list.length)),t.xp6(1),t.Q6J("ngIf",(null==i.visit_list?null:i.visit_list.length)>=1))},dependencies:[c.mk,c.sg,c.O5,h.BN,at,c.uU],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{color:#2c3e50;background:#ecf0f1;padding:0 1em 1em}h1[_ngcontent-%COMP%]{margin:0;line-height:2;text-align:center}h2[_ngcontent-%COMP%]{margin:0 0 .5em;font-weight:400}input[_ngcontent-%COMP%]{position:absolute;opacity:0;z-index:-1}.row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-child{margin-left:1em}.tabs[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 4px -2px #00000080}.tab[_ngcontent-%COMP%]{width:100%;color:#fff;overflow:hidden}.tab-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;background:#2c3e50;font-weight:700;cursor:pointer}.tab-label[_ngcontent-%COMP%]:hover{background:#1a252f}.tab-label[_ngcontent-%COMP%]:after{content:"\\276f";width:1em;height:1em;text-align:center;transition:all .35s}.tab-content[_ngcontent-%COMP%]{max-height:0;padding:0 1em;color:#2c3e50;background:white;transition:all .35s}.tab-close[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em;font-size:.75em;background:#2c3e50;cursor:pointer}.tab-close[_ngcontent-%COMP%]:hover{background:#1a252f}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]{background:#1a252f}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]:after{transform:rotate(90deg)}input[_ngcontent-%COMP%]:checked ~ .tab-content[_ngcontent-%COMP%]{max-height:100vh;padding:1em}'],data:{animation:[_]}}),l})()}];let Tt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[u.Bz.forChild(yt),u.Bz]}),l})();var At=n(6205),Ct=n(4006);let Ut=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[c.ez,Tt,At.X,Ct.u5,h.uH]}),l})()}}]);