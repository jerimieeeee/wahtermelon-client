"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[913],{913:(it,y,c)=>{c.r(y),c.d(y,{AnimalbiteModule:()=>ot});var l=c(6814),h=c(3602),r=c(590),e=c(5879),m=c(265),Z=c(279),T=c(3316),u=c(5597),A=c(640),f=c(1449),g=c(2425),n=c(6223),v=c(9315);function q(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function N(o,i){1&o&&(e.TgZ(0,"div",18)(1,"label",47),e._uU(2,"Specify"),e.qZA(),e._UZ(3,"input",48),e.qZA())}function C(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function U(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function J(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function I(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function F(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function M(o,i){if(1&o&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}const p=function(o){return{"invalid-input":o}};function E(o,i){if(1&o&&(e.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"h4",16),e._uU(4,"Client Type *"),e.qZA()(),e.TgZ(5,"div",17)(6,"div",18)(7,"label",19),e._uU(8,"Indication Option"),e.qZA(),e.TgZ(9,"select",20),e.YNc(10,q,2,2,"option",21),e.qZA()(),e.YNc(11,N,4,0,"div",22),e.qZA()(),e._UZ(12,"div",23),e.TgZ(13,"div",14)(14,"div",15)(15,"h4",16),e._uU(16,"Day 0 *"),e.qZA()(),e.TgZ(17,"div",24)(18,"div",18)(19,"label",25),e._uU(20,"Date"),e.qZA(),e._UZ(21,"input",26),e.qZA(),e.TgZ(22,"div",18)(23,"label",27),e._uU(24,"Vaccine"),e.qZA(),e.TgZ(25,"select",28),e.YNc(26,C,2,2,"option",21),e.qZA()(),e.TgZ(27,"div",18)(28,"label",29),e._uU(29,"Vaccine Route"),e.qZA(),e.TgZ(30,"select",30),e.YNc(31,U,2,2,"option",21),e.qZA()()()(),e.TgZ(32,"div",14)(33,"div",15)(34,"h4",16),e._uU(35,"Day 7"),e.qZA()(),e.TgZ(36,"div",24)(37,"div",18)(38,"label",31),e._uU(39,"Date"),e.qZA(),e._UZ(40,"input",32),e.qZA(),e.TgZ(41,"div",18)(42,"label",33),e._uU(43,"Vaccine"),e.qZA(),e.TgZ(44,"select",34),e.YNc(45,J,2,2,"option",21),e.qZA()(),e.TgZ(46,"div",18)(47,"label",35),e._uU(48,"Vaccine Route"),e.qZA(),e.TgZ(49,"select",36),e.YNc(50,I,2,2,"option",21),e.qZA()()()(),e.TgZ(51,"div",14)(52,"div",15)(53,"h4",16),e._uU(54,"Day 21"),e.qZA()(),e.TgZ(55,"div",24)(56,"div",18)(57,"label",37),e._uU(58,"Date"),e.qZA(),e._UZ(59,"input",38),e.qZA(),e.TgZ(60,"div",18)(61,"label",39),e._uU(62,"Vaccine"),e.qZA(),e.TgZ(63,"select",40),e.YNc(64,F,2,2,"option",21),e.qZA()(),e.TgZ(65,"div",18)(66,"label",41),e._uU(67,"Vaccine Route"),e.qZA(),e.TgZ(68,"select",42),e.YNc(69,M,2,2,"option",21),e.qZA()()()(),e.TgZ(70,"div",14)(71,"div",15)(72,"h4",16),e._uU(73,"Remarks"),e.qZA()(),e.TgZ(74,"div",43)(75,"div",18)(76,"label",44),e._uU(77,"Remarks"),e.qZA(),e._UZ(78,"input",45),e.qZA()()(),e._UZ(79,"div",23),e.qZA()),2&o){const t=e.oxw();e.Q6J("formGroup",t.preExposureForm),e.xp6(9),e.Q6J("ngClass",e.VKq(19,p,t.is_saving&&t.f.indication_option_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.indication_options),e.xp6(1),e.Q6J("ngIf","OTHERS"===t.preExposureForm.value.indication_option_code),e.xp6(10),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(21,p,t.is_saving&&t.f.day0_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(23,p,t.is_saving&&t.f.day0_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes),e.xp6(9),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(25,p,t.is_saving&&t.f.day7_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(27,p,t.is_saving&&t.f.day7_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes),e.xp6(9),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("ngClass",e.VKq(29,p,t.is_saving&&t.f.day21_vaccine_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccines),e.xp6(4),e.Q6J("ngClass",e.VKq(31,p,t.is_saving&&t.f.day21_vaccine_route_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.ab_vaccine_routes)}}function Q(o,i){if(1&o&&(e.TgZ(0,"div",49)(1,"div",50),e._UZ(2,"fa-icon",51),e.qZA(),e.TgZ(3,"div",52),e._uU(4," Loadin libraries... "),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let P=(()=>{var o;class i{onSubmit(){let _;this.is_saving=!0,console.log(this.preExposureForm.value),_=this.preExposureForm.value.id?this.http.update("animal-bite/patient-ab-pre-exposure/",this.preExposureForm.value.id,this.preExposureForm.value):this.http.post("animal-bite/patient-ab-pre-exposure",this.preExposureForm.value),_.subscribe({next:a=>{console.log(a),this.toastr.success("Successfully Recorded","Pre-exposure"),this.is_saving=!1,this.closeModal()},error:a=>console.log(a)})}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-indication-option"),a=this.http.get("libraries/ab-vaccine"),s=this.http.get("libraries/ab-vaccine-route");(0,v.D)([_,a,s]).subscribe({next:([d,b,x])=>{this.indication_options=d.data,this.ab_vaccines=b.data,this.ab_vaccine_routes=x.data,this.createForm()},error:d=>console.log(d)})}createForm(){this.preExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,n.kI.required],indication_option_code:[null,n.kI.required],indication_option_remarks:[null],day0_date:[null,n.kI.required],day0_vaccine_code:[null,n.kI.required],day0_vaccine_route_code:[null,n.kI.required],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day21_date:[null],day21_vaccine_code:[null],day21_vaccine_route_code:[null],remarks:[null]}),this.selected_pre_exposure&&this.preExposureForm.patchValue({...this.selected_pre_exposure}),this.show_form=!0}closeModal(){this.toggleModal.emit("preexp-modal")}get f(){return this.preExposureForm.controls}constructor(_,a,s){this.http=_,this.toastr=a,this.formBuilder=s,this.toggleModal=new e.vpe,this.faCircleNotch=r.IJ7,this.faSave=f.r6l,this.preExposureForm=function w(){return new n.cw({id:new n.NI(null),patient_id:new n.NI(null),indication_option_code:new n.NI(null),indication_option_remarks:new n.NI(""),day0_date:new n.NI(null),day0_vaccine_code:new n.NI(null),day0_vaccine_route_code:new n.NI(null),day7_date:new n.NI(null),day7_vaccine_code:new n.NI(null),day7_vaccine_route_code:new n.NI(null),day21_date:new n.NI(null),day21_vaccine_code:new n.NI(null),day21_vaccine_route_code:new n.NI(null),remarks:new n.NI(null)})}(),this.max_date=(0,l.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.show_form=!1,this.is_saving=!1}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(m.O),e.Y36(g._W),e.Y36(n.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pre-exposure-modal"]],inputs:{selected_pre_exposure:"selected_pre_exposure",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:16,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","max-h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full max-w-3xl text-left text-gray-500 dark:text-gray-400",3,"formGroup",4,"ngIf"],["class","grid grid-cols-1 my-16",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"disabled","click"],["type","button",1,"btn-save",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-2","gap-4","w-full","ml-10","mr-5"],[1,"col-span-1"],["for","vitals_date_temp",1,"font-semibold"],["name","indication_option_code","id","indication_option_code","formControlName","indication_option_code",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-1",4,"ngIf"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"grid","grid-cols-3","gap-4","w-full","ml-10","mr-5"],["for","day0_date",1,"font-semibold"],["name","day0_date","id","day0_date","formControlName","day0_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day0_vaccine_code",1,"font-semibold"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input",3,"ngClass"],["for","day0_vaccine_route_code",1,"font-semibold"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input",3,"ngClass"],["for","day7_date",1,"font-semibold"],["name","day7_date","id","day7_date","formControlName","day7_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day7_vaccine_code",1,"font-semibold"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input",3,"ngClass"],["for","day7_vaccine_route_code",1,"font-semibold"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input",3,"ngClass"],["for","day21_date",1,"font-semibold"],["name","day21_date","id","day21_date","formControlName","day21_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day21_vaccine_code",1,"font-semibold"],["name","day21_vaccine_code","id","day21_vaccine_code","formControlName","day21_vaccine_code",1,"input",3,"ngClass"],["for","day21_vaccine_route_code",1,"font-semibold"],["name","day21_vaccine_route_code","id","day21_vaccine_route_code","formControlName","day21_vaccine_route_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-1","gap-4","w-full","ml-10","mr-5"],["for","remarks",1,"font-semibold"],["name","remarks","id","remarks","formControlName","remarks","type","text",1,"input"],[3,"value"],["for","indication_option_remarks",1,"font-semibold"],["name","indication_option_remarks","id","indication_option_remarks","formControlName","indication_option_remarks","type","text",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"]],template:function(_,a){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," PRE-EXPOSURE "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,E,80,33,"form",6),e.YNc(8,Q,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return a.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return a.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&_&&(e.xp6(7),e.Q6J("ngIf",a.show_form),e.xp6(1),e.Q6J("ngIf",!a.show_form),e.xp6(2),e.Q6J("disabled",a.is_saving),e.xp6(2),e.Q6J("disabled",a.is_saving||a.preExposureForm.pristine||a.preExposureForm.invalid),e.xp6(1),e.Q6J("icon",a.is_saving?a.faCircleNotch:a.faSave)("spin",a.is_saving),e.xp6(1),e.hij(" ",a.is_saving?"Saving":"Save"," "))},dependencies:[l.mk,l.sg,l.O5,u.BN,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function k(o,i){if(1&o&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"fa-icon",5),e.qZA(),e.TgZ(3,"div",6),e._uU(4,"Fetching pre-exposure record..."),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function O(o,i){1&o&&(e.TgZ(0,"td",23)(1,"div",24),e._uU(2," No records to show... "),e.qZA()())}function Y(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day0_date?e.Dn7(3,3,t.day0_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day0_vaccine?t.day0_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day0_vaccine_route?t.day0_vaccine_route.desc:"-")}}function D(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day7_date?e.Dn7(3,3,t.day7_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day7_vaccine?t.day7_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day7_vaccine_route?t.day7_vaccine_route.desc:"-")}}function S(o,i){if(1&o&&(e.TgZ(0,"span",25)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.day21_date?e.Dn7(3,3,t.day21_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.xp6(3),e.Oqu(t.day21_vaccine?t.day21_vaccine.desc:"-"),e.xp6(2),e.Oqu(t.day21_vaccine_route?t.day21_vaccine_route.desc:"-")}}function V(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",18),e.YNc(1,O,3,0,"td",19),e.TgZ(2,"td",20),e._uU(3),e.qZA(),e.TgZ(4,"td",20),e.YNc(5,Y,8,7,"span",21),e.qZA(),e.TgZ(6,"td",20),e.YNc(7,D,8,7,"span",21),e.qZA(),e.TgZ(8,"td",20),e.YNc(9,S,8,7,"span",21),e.qZA(),e.TgZ(10,"td",20),e._uU(11),e.qZA(),e.TgZ(12,"td",20)(13,"button",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.editPreExposure("preexp-modal",s))}),e._UZ(14,"fa-icon",10),e.qZA()()()}if(2&o){const t=i.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t),e.xp6(2),e.hij(" ",t.indication_option.desc," "),e.xp6(2),e.Q6J("ngIf",t.day0_date),e.xp6(2),e.Q6J("ngIf",t.day7_date),e.xp6(2),e.Q6J("ngIf",t.day21_date),e.xp6(2),e.hij(" ",t.remarks?t.remarks:"-"," "),e.xp6(3),e.Q6J("icon",_.faEdit)}}function j(o,i){1&o&&(e.TgZ(0,"tr",18)(1,"td",26)(2,"span"),e._uU(3,"No records found..."),e.qZA()()())}function R(o,i){if(1&o&&(e.TgZ(0,"table",13)(1,"thead",14)(2,"tr")(3,"th",15),e._uU(4,"Indication"),e.qZA(),e.TgZ(5,"th",15),e._uU(6,"Day 0 Vaccine"),e.qZA(),e.TgZ(7,"th",15),e._uU(8,"Day 7 Vaccine"),e.qZA(),e.TgZ(9,"th",15),e._uU(10,"Day 21/28 Vaccine"),e.qZA(),e.TgZ(11,"th",15),e._uU(12,"Remarks"),e.qZA(),e.TgZ(13,"th",15),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,V,15,7,"tr",16),e.YNc(17,j,4,0,"tr",17),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.pre_exposure_list),e.xp6(1),e.Q6J("ngIf",!t.pre_exposure_list[0])}}function H(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"span"),e._uU(3,"PRE-EXPOSURE RECORD"),e.qZA(),e.TgZ(4,"span")(5,"button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("preexp-modal"))}),e._UZ(6,"fa-icon",10),e.qZA()()(),e.TgZ(7,"div",11),e.YNc(8,R,18,2,"table",12),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("icon",t.faPlus),e.xp6(2),e.Q6J("ngIf",!t.fetching_history&&t.pre_exposure_list)}}function K(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-pre-exposure-modal",27),e.NdJ("toggleModal",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleModal(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_pre_exposure",t.selected_pre_exposure)}}let $=(()=>{var o;class i{getPreExposure(){this.fetching_history=!0,this.http.get("animal-bite/patient-ab-pre-exposure",{params:{patient_id:this.patient_id}}).subscribe({next:a=>{console.log(a),this.pre_exposure_list=a.data,this.fetching_history=!1},error:a=>console.log(a)})}editPreExposure(_,a){this.selected_pre_exposure=a,this.modals[_]=!this.modals[_]}toggleModal(_){this.selected_pre_exposure=null,this.modals[_]=!this.modals[_],"preexp-modal"===_&&!1===this.modals["preexp-modal"]&&this.getPreExposure()}constructor(_,a){this.http=_,this.toastr=a,this.fetching_history=!0,this.modals=[],this.faCircleNotch=r.IJ7,this.faPlus=r.r8p,this.faEdit=f.Xcf}ngOnInit(){this.getPreExposure()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(m.O),e.Y36(g._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-preexposure"]],inputs:{patient_id:"patient_id"},decls:3,vars:3,consts:[["class","flex flex-col",4,"ngIf"],["class","border border-slate-200 rounded-lg mt-5",4,"ngIf"],[3,"patient_id","selected_pre_exposure","toggleModal",4,"ngIf"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["spin","true",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"border","border-slate-200","rounded-lg","mt-5"],[1,"bg-blue-500","text-white","rounded-t-md","p-3","font-semibold","flex","justify-between"],["type","button",1,"bg-white","text-blue-500","px-1","rounded-md","text-sm","hover:opacity-70",3,"click"],[3,"icon"],[1,"mt-3"],["class","w-full text-sm text-left rounded-b-md",4,"ngIf"],[1,"w-full","text-sm","text-left","rounded-b-md"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["class","grid grid-cols-1",4,"ngIf"],["type","button",1,"rounded-md","text-orange-500","py-1","px-2",3,"click"],["colspan","7"],[1,"text-center"],[1,"grid","grid-cols-1"],["colspan","7",1,"text-center","h-16"],[3,"patient_id","selected_pre_exposure","toggleModal"]],template:function(_,a){1&_&&(e.YNc(0,k,5,1,"div",0),e.YNc(1,H,9,2,"div",1),e.YNc(2,K,1,2,"app-pre-exposure-modal",2)),2&_&&(e.Q6J("ngIf",a.fetching_history),e.xp6(1),e.Q6J("ngIf",!a.fetching_history),e.xp6(1),e.Q6J("ngIf",a.modals["preexp-modal"]))},dependencies:[l.sg,l.O5,u.BN,P,l.uU]}),i})();function B(o,i){if(1&o&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function L(o,i){if(1&o&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function X(o,i){1&o&&(e.TgZ(0,"div",26)(1,"label",43),e._uU(2,"Please specify Type of Animal"),e.qZA(),e._UZ(3,"input",44),e.qZA())}function W(o,i){if(1&o&&(e.TgZ(0,"div",45),e._UZ(1,"input",46),e.TgZ(2,"label",47),e._uU(3),e.qZA()()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("formControlName",t.bite_code),e.uIk("id",t.bite_code),e.xp6(1),e.uIk("for",t.bite_code),e.xp6(1),e.Oqu(t.bite_desc)}}function z(o,i){1&o&&(e.TgZ(0,"div",26)(1,"label",48),e._uU(2,"Please specify Bite Location"),e.qZA(),e._UZ(3,"input",49),e.qZA())}function ee(o,i){if(1&o&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function te(o,i){if(1&o&&(e.TgZ(0,"div",50)(1,"button",51),e._UZ(2,"fa-icon",52),e._uU(3),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.is_saving||t.abExposureForm.invalid),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.abExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function oe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2," Exposure Record "),e.qZA(),e.TgZ(3,"div",4)(4,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmit())}),e.TgZ(5,"div",6)(6,"div",7),e._uU(7," Date "),e.qZA(),e.TgZ(8,"div",8)(9,"div")(10,"label",9),e._uU(11,"Exposure Date *"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div")(14,"label",11),e._uU(15,"Consulation Date *"),e.qZA(),e._UZ(16,"input",12),e.qZA()(),e.TgZ(17,"div",7),e._uU(18," Exposure Details "),e.qZA(),e.TgZ(19,"div",13)(20,"div")(21,"label",14),e._uU(22,"Place of exposure"),e.qZA(),e._UZ(23,"input",15),e.qZA(),e.TgZ(24,"div")(25,"label",16),e._uU(26,"Type of Animal *"),e.qZA(),e.TgZ(27,"select",17),e.YNc(28,B,2,2,"option",18),e.qZA()(),e.TgZ(29,"div")(30,"label",19),e._uU(31,"Type of Ownership *"),e.qZA(),e.TgZ(32,"select",20),e.YNc(33,L,2,2,"option",18),e.qZA()(),e.TgZ(34,"div")(35,"label",21),e._uU(36,"Bite/Non Bite"),e.qZA(),e.TgZ(37,"select",22)(38,"option",23),e._uU(39,"Bite"),e.qZA(),e.TgZ(40,"option",23),e._uU(41,"Non Bite"),e.qZA()()(),e.YNc(42,X,4,0,"div",24),e.TgZ(43,"div",25)(44,"div",26),e._uU(45," Bite Location "),e.qZA(),e.YNc(46,W,4,4,"div",27),e.qZA(),e.YNc(47,z,4,0,"div",24),e.TgZ(48,"div",26)(49,"label",28),e._uU(50,"Type of Exposure *"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,ee,2,2,"option",18),e.qZA()(),e.TgZ(53,"div",30)(54,"div")(55,"label",31),e._uU(56,"Washing of Bite"),e.qZA(),e.TgZ(57,"select",32)(58,"option",23),e._uU(59,"Yes"),e.qZA(),e.TgZ(60,"option",23),e._uU(61,"No"),e.qZA()()(),e.TgZ(62,"div")(63,"label",33),e._uU(64,"With PEP?"),e.qZA(),e.TgZ(65,"select",34)(66,"option",23),e._uU(67,"Yes"),e.qZA(),e.TgZ(68,"option",23),e._uU(69,"No"),e.qZA()()()(),e.TgZ(70,"div",30)(71,"div")(72,"label",35),e._uU(73,"Name of Tandok/Supsup"),e.qZA(),e._UZ(74,"input",36),e.qZA(),e.TgZ(75,"div")(76,"label",37),e._uU(77,"Address"),e.qZA(),e._UZ(78,"input",38),e.qZA()(),e.TgZ(79,"div",26)(80,"label",39),e._uU(81,"Remarks"),e.qZA(),e._UZ(82,"input",40),e.qZA()()(),e.YNc(83,te,4,4,"div",41),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.abExposureForm),e.xp6(8),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(12),e.Q6J("ngForOf",t.animal_types),e.xp6(5),e.Q6J("ngForOf",t.animal_ownerships),e.xp6(5),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(2),e.Q6J("ngIf",1===t.abExposureForm.value.animal_type_id),e.xp6(4),e.Q6J("ngForOf",t.bite_locations),e.xp6(1),e.Q6J("ngIf",t.abExposureForm.value.others_flag),e.xp6(5),e.Q6J("ngForOf",t.exposure_types),e.xp6(6),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(6),e.Q6J("ngValue",1),e.xp6(2),e.Q6J("ngValue",0),e.xp6(15),e.Q6J("ngIf",!(null!=t.selected_ab_consult&&t.selected_ab_consult.date_outcome))}}function ae(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",53)(2,"div",54),e._UZ(3,"fa-icon",55),e.qZA(),e.TgZ(4,"div",54),e._uU(5," Fetching exposure record... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let ne=(()=>{var o;class i{onSubmit(){let _;this.is_saving=!0,_=this.abExposureForm.value.id?this.http.update("animal-bite/patient-ab-exposure/",this.abExposureForm.value.id,this.abExposureForm.value):this.http.post("animal-bite/patient-ab",this.abExposureForm.value),_.subscribe({next:a=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Exposure Details"),this.updateSelectedAb.emit(a)},error:a=>console.log(a)})}loadLibraries(){const _=this.http.get("libraries/ab-animal-type"),a=this.http.get("libraries/ab-animal-ownership"),s=this.http.get("libraries/ab-exposure-type");(0,v.D)([_,a,s]).subscribe({next:([d,b,x])=>{this.animal_types=d.data,this.animal_ownerships=b.data,this.exposure_types=x.data,this.createForm()},error:d=>console.log(d)})}createForm(){this.abExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,n.kI.required],consult_date:[null,n.kI.required],exposure_date:[null,n.kI.required],patient_ab_id:[null],animal_type_id:[null,n.kI.required],animal_type_remarks:[null],exposure_place:[null],bite_flag:[null],animal_ownership_id:[null,n.kI.required],feet_flag:[null],leg_flag:[null],arms_flag:[null],hand_flag:[null],knee_flag:[null],neck_flag:[null],head_flag:[null],others_flag:[null],al_remarks:[null],exposure_type_code:[null,n.kI.required],wash_flag:[null],pep_flag:[null],tandok_name:[null],tandok_addresss:[null],remarks:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abExposure&&(this.abExposureForm.patchValue({...this.selected_ab_consult.abExposure}),this.abExposureForm.patchValue({consult_date:this.selected_ab_consult.consult_date?(0,l.p6)(this.selected_ab_consult.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.selected_ab_consult.exposure_date?(0,l.p6)(this.selected_ab_consult.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(_,a,s){this.http=_,this.toastr=a,this.formBuilder=s,this.updateSelectedAb=new e.vpe,this.faCircleNotch=r.IJ7,this.faSave=f.r6l,this.abExposureForm=function G(){return new n.cw({id:new n.NI(null),patient_id:new n.NI(null),consult_date:new n.NI(null),exposure_date:new n.NI(null),patient_ab_id:new n.NI(null),animal_type_id:new n.NI(null),animal_type_remarks:new n.NI(null),exposure_place:new n.NI(null),bite_flag:new n.NI(!1),animal_ownership_id:new n.NI(null),feet_flag:new n.NI(!1),leg_flag:new n.NI(!1),arms_flag:new n.NI(!1),hand_flag:new n.NI(!1),knee_flag:new n.NI(!1),neck_flag:new n.NI(!1),head_flag:new n.NI(!1),others_flag:new n.NI(!1),al_remarks:new n.NI(null),exposure_type_code:new n.NI(null),wash_flag:new n.NI(!1),pep_flag:new n.NI(!1),tandok_name:new n.NI(null),tandok_addresss:new n.NI(null),remarks:new n.NI(null)})}(),this.max_date=(0,l.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.show_form=!1,this.bite_locations=[{bite_code:"feet_flag",bite_desc:"Feet"},{bite_code:"leg_flag",bite_desc:"Leg"},{bite_code:"arms_flag",bite_desc:"Arms"},{bite_code:"hand_flag",bite_desc:"Hand"},{bite_code:"knee_flag",bite_desc:"Knee"},{bite_code:"neck_flag",bite_desc:"Neck"},{bite_code:"head_flag",bite_desc:"Head"},{bite_code:"others_flag",bite_desc:"Others"}]}ngOnChanges(_){this.patchData()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(m.O),e.Y36(g._W),e.Y36(n.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-exposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},features:[e.TTD],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gpa-y-2"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","exposure_place"],["type","text","name","exposure_place","id","exposure_place","formControlName","exposure_place",1,"input"],["for","animal_type_id"],["name","animal_type_id","id","animal_type_id","formControlName","animal_type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","animal_ownership_id"],["name","animal_ownership_id","id","animal_ownership_id","formControlName","animal_ownership_id",1,"input"],["for","bite_flag"],["name","bite_flag","id","bite_flag","formControlName","bite_flag",1,"input"],[3,"ngValue"],["class","col-span-3",4,"ngIf"],[1,"col-span-3","grid","grid-cols-3","gap-x-4"],[1,"col-span-3"],["class","mx-5",4,"ngFor","ngForOf"],["for","exposure_type_code"],["name","exposure_type_code","id","exposure_type_code","formControlName","exposure_type_code",1,"input"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","wash_flag"],["name","wash_flag","id","wash_flag","formControlName","wash_flag",1,"input"],["for","pep_flag"],["name","pep_flag","id","pep_flag","formControlName","pep_flag",1,"input"],["for","tandok_name"],["type","text","name","tandok_name","id","tandok_name","formControlName","tandok_name",1,"input"],["for","tandok_addresss"],["type","text","name","tandok_addresss","id","tandok_addresss","formControlName","tandok_addresss",1,"input"],["for","remarks"],["type","text","name","remarks","id","remarks","formControlName","remarks",1,"input"],["class","flex justify-center mt-5",4,"ngIf"],[3,"value"],["for","animal_type_remarks"],["type","text","name","animal_type_remarks","id","animal_type_remarks","formControlName","animal_type_remarks",1,"input"],[1,"mx-5"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-2"],["for","al_remarks"],["type","text","name","al_remarks","id","al_remarks","formControlName","al_remarks",1,"input"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,a){1&_&&(e.YNc(0,oe,84,16,"div",0),e.YNc(1,ae,6,1,"div",1)),2&_&&(e.Q6J("ngIf",a.show_form),e.xp6(1),e.Q6J("ngIf",!a.show_form))},dependencies:[l.sg,l.O5,u.BN,n._Y,n.YN,n.Kr,n.Fj,n.Wl,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function _e(o,i){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function se(o,i){1&o&&(e.TgZ(0,"div",15),e._uU(1," Death details "),e.qZA())}function le(o,i){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function ce(o,i){if(1&o&&(e.TgZ(0,"div",28)(1,"div")(2,"label",32),e._uU(3,"Onset of Illness"),e.qZA(),e._UZ(4,"input",33),e.qZA(),e.TgZ(5,"div")(6,"label",34),e._uU(7,"Date Died"),e.qZA(),e._UZ(8,"input",35),e.qZA(),e.TgZ(9,"div")(10,"label",36),e._uU(11,"Place of Death"),e.qZA(),e.TgZ(12,"select",37),e.YNc(13,le,2,2,"option",23),e.qZA()(),e.TgZ(14,"div",38)(15,"label",39),e._uU(16,"Clinical Manifestations"),e.qZA(),e._UZ(17,"input",40),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.death_places)}}function de(o,i){if(1&o&&(e.TgZ(0,"form",13)(1,"div",14)(2,"div",15),e._uU(3," Outcome "),e.qZA(),e.TgZ(4,"div",16)(5,"div")(6,"label",17),e._uU(7,"Consulation Date"),e.qZA(),e._UZ(8,"input",18),e.qZA(),e.TgZ(9,"div")(10,"label",19),e._uU(11,"Exposure Date"),e.qZA(),e._UZ(12,"input",20),e.qZA(),e.TgZ(13,"div")(14,"label",21),e._uU(15,"Outcome"),e.qZA(),e.TgZ(16,"select",22),e.YNc(17,_e,2,2,"option",23),e.qZA()(),e.TgZ(18,"div")(19,"label",24),e._uU(20,"Outcome Date"),e.qZA(),e._UZ(21,"input",25),e.qZA()(),e.YNc(22,se,2,0,"div",26),e.YNc(23,ce,18,3,"div",27),e.TgZ(24,"div",15),e._uU(25," Remarks "),e.qZA(),e.TgZ(26,"div",28)(27,"div")(28,"label",29),e._uU(29,"Remarks"),e.qZA(),e._UZ(30,"input",30),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.abForm),e.xp6(8),e.Q6J("max",t.max_date),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.treatment_oucomes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(1),e.Q6J("ngIf",3===t.abForm.value.ab_treatment_outcome_id),e.xp6(1),e.Q6J("ngIf",3===t.abForm.value.ab_treatment_outcome_id)}}function re(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",41)(2,"div",42),e._UZ(3,"fa-icon",43),e.qZA(),e.TgZ(4,"div",42),e._uU(5," Fetching libraries... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let ue=(()=>{var o;class i{onSubmit(){this.is_saving=!0,this.http.update("animal-bite/patient-ab/",this.selected_ab_consult.id,this.abForm.value).subscribe({next:_=>{this.saveComplete()},error:_=>console.log(_)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Outcome"),this.switchPage.emit(1),this.closeModal()}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-outcome"),a=this.http.get("libraries/ab-death-place");(0,v.D)([_,a]).subscribe({next:([s,d])=>{this.treatment_oucomes=s.data,this.death_places=d.data,this.createForm()},error:s=>console.log(s)})}createForm(){this.abForm=this.formBuilder.group({id:[null],patient_id:[null],consult_date:[null],exposure_date:[null],ab_treatment_outcome_id:[null],date_outcome:[null],ab_death_place_id:[null],manifestations:[null],date_onset:[null],date_dies:[null],death_remarks:[null]}),console.log(this.selected_ab_consult),this.abForm.patchValue({...this.selected_ab_consult}),this.abForm.patchValue({consult_date:this.abForm.value.consult_date?(0,l.p6)(this.abForm.value.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.abForm.value.exposure_date?(0,l.p6)(this.abForm.value.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null,date_onset:this.abForm.value.date_onset?(0,l.p6)(this.abForm.value.date_onset,"yyyy-MM-dd","en","Asia/Manila"):null,date_died:this.abForm.value.date_died?(0,l.p6)(this.abForm.value.date_died,"yyyy-MM-dd","en","Asia/Manila"):null}),this.show_form=!0}closeModal(){this.toggleModal.emit("treatment_outcome")}get f(){return this.abForm.controls}constructor(_,a,s){this.formBuilder=_,this.http=a,this.toastr=s,this.getPatientTbHistory=new e.vpe,this.toggleModal=new e.vpe,this.switchPage=new e.vpe,this.faSave=f.r6l,this.faCircleNotch=r.IJ7,this.is_saving=!1,this.show_form=!1,this.show_error=!1,this.required_message="Required field",this.abForm=function ie(){return new n.cw({id:new n.NI(null),patient_id:new n.NI(null),consult_date:new n.NI(null),exposure_date:new n.NI(null),ab_treatment_outcome_id:new n.NI(null),date_outcome:new n.NI(null),ab_death_place_id:new n.NI(null),manifestations:new n.NI(null),date_onset:new n.NI(null),date_dies:new n.NI(null),death_remarks:new n.NI(null)})}()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(n.qu),e.Y36(m.O),e.Y36(g._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-outcome"]],inputs:{selected_ab_consult:"selected_ab_consult",max_date:"max_date"},outputs:{getPatientTbHistory:"getPatientTbHistory",toggleModal:"toggleModal",switchPage:"switchPage"},decls:16,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-orange-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-x-4","mx-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-2","gap-x-4","gpa-y-2"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","ab_treatment_outcome_id"],["name","ab_treatment_outcome_id","id","ab_treatment_outcome_id","formControlName","ab_treatment_outcome_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["for","date_outcome"],["type","date","name","date_outcome","id","date_outcome","formControlName","date_outcome",1,"input",3,"max"],["class","col-span-3 border-b border-slate-200 w-full my-2 font-semibold text-sky-500",4,"ngIf"],["class","col-span-3 grid grid-cols-3 gap-x-4 gap-y-2",4,"ngIf"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","death_remarks"],["type","text","name","death_remarks","id","death_remarks","formControlName","death_remarks",1,"input"],[3,"ngValue"],["for","date_onset"],["type","date","name","date_onset","id","date_onset","formControlName","date_onset",1,"input",3,"max"],["for","date_dies"],["type","date","name","date_dies","id","date_dies","formControlName","date_dies",1,"input",3,"max"],["for","ab_death_place_id"],["name","ab_death_place_id","id","ab_death_place_id","formControlName","ab_death_place_id",1,"input"],[1,"col-span-3"],["for","manifestations"],["type","text","name","manifestations","id","manifestations","formControlName","manifestations",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,a){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Treatment Outcome "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,de,31,7,"form",6),e.YNc(8,re,6,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return a.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return a.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&_&&(e.xp6(7),e.Q6J("ngIf",a.show_form),e.xp6(1),e.Q6J("ngIf",!a.show_form),e.xp6(4),e.Q6J("disabled",!a.show_form||a.is_saving||a.abForm.invalid),e.xp6(1),e.Q6J("icon",a.is_saving?a.faCircleNotch:a.faSave)("spin",a.is_saving),e.xp6(1),e.hij(" ",a.is_saving?"Saving":"Save"," "))},dependencies:[l.sg,l.O5,u.BN,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function me(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function fe(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ge(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function be(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function xe(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ve(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function he(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function ye(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ze(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ae(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Te(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function we(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function qe(o,i){if(1&o&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.desc)}}function Ne(o,i){if(1&o&&(e.TgZ(0,"div",57)(1,"button",58),e._UZ(2,"fa-icon",59),e._uU(3),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.is_saving||t.abPostExposureForm.invalid),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",t.is_saving),e.xp6(1),e.hij(" ",t.abPostExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Ce(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2," Post Exposure Record "),e.qZA(),e.TgZ(3,"div",4)(4,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmit())}),e.TgZ(5,"div",6)(6,"div",7),e._uU(7," Post Exposure Details "),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e._uU(12,"Status of Biting Animal"),e.qZA(),e.TgZ(13,"select",11),e.YNc(14,me,2,2,"option",12),e.qZA()(),e.TgZ(15,"div")(16,"label",13),e._uU(17,"Date Killed/Died"),e.qZA(),e._UZ(18,"input",14),e.qZA()(),e.TgZ(19,"div")(20,"label",15),e._uU(21,"RIG Type"),e.qZA(),e.TgZ(22,"select",16),e.YNc(23,fe,2,2,"option",12),e.qZA()(),e.TgZ(24,"div")(25,"label",17),e._uU(26,"RIG Date"),e.qZA(),e._UZ(27,"input",18),e.qZA()(),e.TgZ(28,"div",7),e._uU(29," Vaccine Details "),e.qZA(),e.TgZ(30,"div",8)(31,"div")(32,"label",19),e._uU(33,"Others"),e.qZA(),e._UZ(34,"input",20),e.qZA(),e.TgZ(35,"div")(36,"label",21),e._uU(37,"Specify"),e.qZA(),e._UZ(38,"input",22),e.qZA(),e.TgZ(39,"div")(40,"label",23),e._uU(41,"Route of Delivery"),e.qZA(),e.TgZ(42,"select",24),e.YNc(43,ge,2,2,"option",12),e.qZA()(),e.TgZ(44,"div")(45,"label",25),e._uU(46,"Day 0 Date"),e.qZA(),e._UZ(47,"input",26),e.qZA(),e.TgZ(48,"div")(49,"label",27),e._uU(50,"Vaccine"),e.qZA(),e.TgZ(51,"select",28),e.YNc(52,be,2,2,"option",12),e.qZA()(),e.TgZ(53,"div")(54,"label",29),e._uU(55,"Route of Delivery"),e.qZA(),e.TgZ(56,"select",30),e.YNc(57,xe,2,2,"option",12),e.qZA()(),e.TgZ(58,"div")(59,"label",31),e._uU(60,"Day 3 Date"),e.qZA(),e._UZ(61,"input",32),e.qZA(),e.TgZ(62,"div")(63,"label",33),e._uU(64,"Vaccine"),e.qZA(),e.TgZ(65,"select",34),e.YNc(66,ve,2,2,"option",12),e.qZA()(),e.TgZ(67,"div")(68,"label",35),e._uU(69,"Route of Delivery"),e.qZA(),e.TgZ(70,"select",36),e.YNc(71,he,2,2,"option",12),e.qZA()(),e.TgZ(72,"div")(73,"label",37),e._uU(74,"Day 7 Date"),e.qZA(),e._UZ(75,"input",38),e.qZA(),e.TgZ(76,"div")(77,"label",39),e._uU(78,"Vaccine"),e.qZA(),e.TgZ(79,"select",40),e.YNc(80,ye,2,2,"option",12),e.qZA()(),e.TgZ(81,"div")(82,"label",41),e._uU(83,"Route of Delivery"),e.qZA(),e.TgZ(84,"select",42),e.YNc(85,Ze,2,2,"option",12),e.qZA()(),e.TgZ(86,"div")(87,"label",43),e._uU(88,"Day 14 Date"),e.qZA(),e._UZ(89,"input",44),e.qZA(),e.TgZ(90,"div")(91,"label",45),e._uU(92,"Vaccine"),e.qZA(),e.TgZ(93,"select",46),e.YNc(94,Ae,2,2,"option",12),e.qZA()(),e.TgZ(95,"div")(96,"label",47),e._uU(97,"Route of Delivery"),e.qZA(),e.TgZ(98,"select",48),e.YNc(99,Te,2,2,"option",12),e.qZA()(),e.TgZ(100,"div")(101,"label",49),e._uU(102,"Day 28 Date"),e.qZA(),e._UZ(103,"input",50),e.qZA(),e.TgZ(104,"div")(105,"label",51),e._uU(106,"Vaccine"),e.qZA(),e.TgZ(107,"select",52),e.YNc(108,we,2,2,"option",12),e.qZA()(),e.TgZ(109,"div")(110,"label",53),e._uU(111,"Route of Delivery"),e.qZA(),e.TgZ(112,"select",54),e.YNc(113,qe,2,2,"option",12),e.qZA()()()(),e.YNc(114,Ne,4,4,"div",55),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.abPostExposureForm),e.xp6(10),e.Q6J("ngForOf",t.animal_statuses),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.rig_types),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(7),e.Q6J("max",t.max_date),e.xp6(9),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(4),e.Q6J("max",t.max_date),e.xp6(5),e.Q6J("ngForOf",t.vaccines),e.xp6(5),e.Q6J("ngForOf",t.vaccine_routes),e.xp6(1),e.Q6J("ngIf",!(null!=t.selected_ab_consult&&t.selected_ab_consult.date_outcome))}}function Ue(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",60)(2,"div",61),e._UZ(3,"fa-icon",62),e.qZA(),e.TgZ(4,"div",61),e._uU(5," Fetching post exposure record... "),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}let Je=(()=>{var o;class i{onSubmit(){this.is_saving=!0,this.http.post("animal-bite/patient-ab-post-exposure",this.abPostExposureForm.value).subscribe({next:_=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Post Exposure"),this.updateSelectedAb.emit(_)},error:_=>console.log(_)})}loadLibraries(){this.show_form=!1;const _=this.http.get("libraries/ab-animal-status"),a=this.http.get("libraries/ab-rig-type"),s=this.http.get("libraries/ab-vaccine"),d=this.http.get("libraries/ab-vaccine-route");(0,v.D)([_,a,s,d]).subscribe({next:([b,x,at,nt])=>{this.animal_statuses=b.data,this.rig_types=x.data,this.vaccines=at.data,this.vaccine_routes=nt.data,this.createForm()}})}createForm(){this.abPostExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,n.kI.required],patient_ab_id:[this.selected_ab_consult.id],weight:[null],animal_status_code:[null,n.kI.required],animal_status_date:[null],rig_type_code:[null,n.kI.required],rig_date:[null,n.kI.required],booster_1_flag:[!1],booster_2_flag:[!1],other_vacc_date:[null],other_vacc_desc:[null],other_vacc_route_code:[null],day0_date:[null],day0_vaccine_code:[null],day0_vaccine_route_code:[null],day3_date:[null],day3_vaccine_code:[null],day3_vaccine_route_code:[null],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day14_date:[null],day14_vaccine_code:[null],day14_vaccine_route_code:[null],day28_date:[null],day28_vaccine_code:[null],day28_vaccine_route_code:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abPostExposure&&(this.abPostExposureForm.patchValue({...this.selected_ab_consult.abPostExposure}),this.abPostExposureForm.patchValue({animal_status_date:this.abPostExposureForm.value.animal_status_date?(0,l.p6)(this.abPostExposureForm.value.animal_status_date,"yyyy-MM-dd","en","Asia/Manila"):null,rig_type_date:this.abPostExposureForm.value.rig_type_date?(0,l.p6)(this.abPostExposureForm.value.rig_type_date,"yyyy-MM-dd","en","Asia/Manila"):null,other_vacc_date:this.abPostExposureForm.value.other_vacc_date?(0,l.p6)(this.abPostExposureForm.value.other_vacc_date,"yyyy-MM-dd","en","Asia/Manila"):null,day0_date:this.abPostExposureForm.value.day0_date?(0,l.p6)(this.abPostExposureForm.value.day0_date,"yyyy-MM-dd","en","Asia/Manila"):null,day3_date:this.abPostExposureForm.value.day3_date?(0,l.p6)(this.abPostExposureForm.value.day3_date,"yyyy-MM-dd","en","Asia/Manila"):null,day7_date:this.abPostExposureForm.value.day7_date?(0,l.p6)(this.abPostExposureForm.value.day7_date,"yyyy-MM-dd","en","Asia/Manila"):null,day14_date:this.abPostExposureForm.value.day14_date?(0,l.p6)(this.abPostExposureForm.value.day14_date,"yyyy-MM-dd","en","Asia/Manila"):null,day28_date:this.abPostExposureForm.value.day28_date?(0,l.p6)(this.abPostExposureForm.value.day28_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(_,a,s){this.http=_,this.toastr=a,this.formBuilder=s,this.updateSelectedAb=new e.vpe,this.show_form=!1,this.is_saving=!1,this.faCircleNotch=r.IJ7,this.faSave=f.r6l,this.abPostExposureForm=function pe(){return new n.cw({id:new n.NI(null),patient_id:new n.NI(null),patient_ab_id:new n.NI(null),weight:new n.NI(null),animal_status_code:new n.NI(null),animal_status_date:new n.NI(null),rig_type_code:new n.NI(null),rig_date:new n.NI(null),booster_1_flag:new n.NI(!1),booster_2_flag:new n.NI(!1),other_vacc_date:new n.NI(null),other_vacc_desc:new n.NI(null),other_vacc_route_code:new n.NI(null),day0_date:new n.NI(null),day0_vaccine_code:new n.NI(null),day0_vaccine_route_code:new n.NI(null),day3_date:new n.NI(null),day3_vaccine_code:new n.NI(null),day3_vaccine_route_code:new n.NI(null),day7_date:new n.NI(null),day7_vaccine_code:new n.NI(null),day7_vaccine_route_code:new n.NI(null),day14_date:new n.NI(null),day14_vaccine_code:new n.NI(null),day14_vaccine_route_code:new n.NI(null),day28_date:new n.NI(null),day28_vaccine_code:new n.NI(null),day28_vaccine_route_code:new n.NI(null)})}(),this.max_date=(0,l.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnChanges(_){this.patchData()}ngOnInit(){this.loadLibraries()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(m.O),e.Y36(g._W),e.Y36(n.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ab-postexposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},features:[e.TTD],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2","ml-5"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","animal_status_code"],["name","animal_status_code","id","animal_status_code","formControlName","animal_status_code",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","animal_status_date"],["type","date","name","animal_status_date","id","animal_status_date","formControlName","animal_status_date",1,"input",3,"max"],["for","rig_type_code"],["name","rig_type_code","id","rig_type_code","formControlName","rig_type_code",1,"input"],["for","rig_date"],["type","date","name","rig_date","id","rig_date","formControlName","rig_date",1,"input",3,"max"],["for","other_vacc_date"],["type","date","name","other_vacc_date","id","other_vacc_date","formControlName","other_vacc_date",1,"input",3,"max"],["for","other_vacc_desc"],["type","text","name","other_vacc_desc","id","other_vacc_desc","formControlName","other_vacc_desc",1,"input"],["for","other_vacc_route_code"],["name","other_vacc_route_code","id","other_vacc_route_code","formControlName","other_vacc_route_code",1,"input"],["for","day0_date"],["type","date","name","day0_date","id","day0_date","formControlName","day0_date",1,"input",3,"max"],["for","day0_vaccine_code"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input"],["for","day0_vaccine_route_code"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input"],["for","day3_date"],["type","date","name","day3_date","id","day3_date","formControlName","day3_date",1,"input",3,"max"],["for","day3_vaccine_code"],["name","day3_vaccine_code","id","day3_vaccine_code","formControlName","day3_vaccine_code",1,"input"],["for","day3_vaccine_route_code"],["name","day3_vaccine_route_code","id","day3_vaccine_route_code","formControlName","day3_vaccine_route_code",1,"input"],["for","day7_date"],["type","date","name","day7_date","id","day7_date","formControlName","day7_date",1,"input",3,"max"],["for","day7_vaccine_code"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input"],["for","day7_vaccine_route_code"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input"],["for","day14_date"],["type","date","name","day14_date","id","day14_date","formControlName","day14_date",1,"input",3,"max"],["for","day14_vaccine_code"],["name","day14_vaccine_code","id","day14_vaccine_code","formControlName","day14_vaccine_code",1,"input"],["for","day14_vaccine_route_code"],["name","day14_vaccine_route_code","id","day14_vaccine_route_code","formControlName","day14_vaccine_route_code",1,"input"],["for","day28_date"],["type","date","name","day28_date","id","day28_date","formControlName","day28_date",1,"input",3,"max"],["for","day28_vaccine_code"],["name","day28_vaccine_code","id","day28_vaccine_code","formControlName","day28_vaccine_code",1,"input"],["for","day28_vaccine_route_code"],["name","day28_vaccine_route_code","id","day28_vaccine_route_code","formControlName","day28_vaccine_route_code",1,"input"],["class","flex justify-center mt-5",4,"ngIf"],[3,"value"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",3,"icon"]],template:function(_,a){1&_&&(e.YNc(0,Ce,115,23,"div",0),e.YNc(1,Ue,6,1,"div",1)),2&_&&(e.Q6J("ngIf",a.show_form),e.xp6(1),e.Q6J("ngIf",!a.show_form))},dependencies:[l.sg,l.O5,u.BN,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),i})();function Ie(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.switchPage(2))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.Tol(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(1),e.hij(" ",t.selected_ab_consult?"DETAILS":"NEW EXPOSURE"," ")}}function Fe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.switchPage(3))}),e._uU(1," ECLAIMS "),e.qZA()}if(2&o){const t=e.oxw();e.Tol(3===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function Me(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("end_visit"))}),e._UZ(1,"fa-icon",14),e._uU(2," End Visit "),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faDoorClosed)}}function Ee(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.switchTab(2))}),e._uU(1," POST EXPOSURE "),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol(2===t.module?"tabs-main-true":"tabs-main-false")}}function Qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.switchTab(8))}),e._uU(1," CASE RATE "),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol(8===t.module?"tabs-main-true":"tabs-main-false")}}function Pe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleModal("treatment_outcome"))}),e._uU(1," Treatment Outome "),e.qZA()}}function ke(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"nav",15)(1,"div",16)(2,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.switchTab(1))}),e._uU(3," EXPOSURE DETAILS "),e.qZA(),e.YNc(4,Ee,2,2,"button",18),e.YNc(5,Qe,2,2,"button",18),e.qZA(),e.TgZ(6,"div",16),e.YNc(7,Pe,2,0,"button",19),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Tol(1===t.module?"tabs-main-true":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.xp6(1),e.Q6J("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.xp6(2),e.Q6J("ngIf",t.selected_ab_consult&&!t.selected_ab_consult.date_outcome)}}function Oe(o,i){1&o&&(e.TgZ(0,"div",26),e._uU(1," There is an ongoing Animal Bite treatment for this patient on another facility. You are not allowed to create a new treatment or view previous treatment from other facilities. "),e.qZA())}function Ye(o,i){if(1&o&&(e.TgZ(0,"div",27)(1,"div",28),e._UZ(2,"fa-icon",29),e.qZA(),e.TgZ(3,"div",30),e._uU(4,"Fetching history..."),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function De(o,i){1&o&&(e.TgZ(0,"td",42)(1,"div",43),e._uU(2," No records to show... "),e.qZA()())}function Se(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openAbConsult(a))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.date_outcome?"View":"Open"," ")}}function Ve(o,i){if(1&o&&(e.TgZ(0,"tr",38),e.YNc(1,De,3,0,"td",39),e.TgZ(2,"td",40),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"td",40),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",40),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",40),e._uU(12),e.qZA(),e.TgZ(13,"td",40),e.YNc(14,Se,2,1,"button",41),e.qZA()()),2&o){const t=i.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!_.patient_ab_history),e.xp6(2),e.hij(" ",e.Dn7(4,6,t.consult_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",e.Dn7(7,10,t.exposure_date,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",t.date_outcome?e.Dn7(10,14,t.date_outcome,"MM/dd/yyyy","Asia/Manila"):"-"," "),e.xp6(3),e.hij(" ",t.ab_treatment_outcome?t.ab_treatment_outcome.desc:"-"," "),e.xp6(2),e.Q6J("ngIf",_.user_facility===t.facility_code)}}function je(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",45)(1,"td",46)(2,"div",47)(3,"div",48),e._uU(4,"No records to show..."),e.qZA(),e.TgZ(5,"div",48)(6,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.switchPage(2))}),e._uU(7," create record "),e.qZA()()()()()}}function Re(o,i){if(1&o&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2," EXPOSURE HISTORY "),e.qZA(),e.TgZ(3,"div")(4,"table",33)(5,"thead",34)(6,"tr")(7,"th",35),e._uU(8,"Consult Date"),e.qZA(),e.TgZ(9,"th",35),e._uU(10,"Exposure Date"),e.qZA(),e.TgZ(11,"th",35),e._uU(12,"Outcome Date"),e.qZA(),e.TgZ(13,"th",35),e._uU(14,"Outcome"),e.qZA(),e.TgZ(15,"th",35),e._uU(16,"Action"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Ve,15,18,"tr",36),e.YNc(19,je,8,0,"tr",37),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(18),e.Q6J("ngForOf",t.patient_ab_history),e.xp6(1),e.Q6J("ngIf",!t.patient_ab_history[0])}}function He(o,i){if(1&o&&e._UZ(0,"app-ab-preexposure",50),2&o){const t=e.oxw(2);e.Q6J("patient_id",t.patient_id)}}function Ke(o,i){if(1&o&&(e.TgZ(0,"div",21),e.YNc(1,Oe,2,0,"div",22),e.YNc(2,Ye,5,1,"div",23),e.YNc(3,Re,20,2,"div",24),e.YNc(4,He,1,1,"app-ab-preexposure",25),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selected_ab_consult&&(null==t.selected_ab_consult?null:t.selected_ab_consult.facility_code)!==t.user_facility),e.xp6(1),e.Q6J("ngIf",t.fetching_history),e.xp6(1),e.Q6J("ngIf",!t.fetching_history&&t.patient_ab_history),e.xp6(1),e.Q6J("ngIf",!t.fetching_history)}}function $e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-exposure",51),e.NdJ("updateSelectedAb",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.updateSelectedAb(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function Ge(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-postexposure",51),e.NdJ("updateSelectedAb",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.updateSelectedAb(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function Be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-end-visit",52),e.NdJ("toggleModal",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleModal(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("consult_id",null==t.consult_details?null:t.consult_details.id)("consult_date",null==t.consult_details?null:t.consult_details.consult_date)("patient_id",null==t.consult_details?null:t.consult_details.patient.id)("pt_group","tb")}}function Le(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-ab-outcome",53),e.NdJ("toggleModal",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleModal(a))})("switchPage",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.switchPage(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("selected_ab_consult",t.selected_ab_consult)("max_date",t.max_date)}}function Xe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-caserate",54),e.NdJ("switchPage",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.switchPage(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("patient_id",t.selected_ab_consult.patient_id)("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)}}function We(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-eclaims",55),e.NdJ("switchPage",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.switchPage(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)("selected_case",t.selected_ab_consult)}}const ze=[{path:"",component:(()=>{var o;class i{openAbConsult(_){this.selected_ab_consult=_,1===_.treatment_done&&(this.consult_details=null),this.pages=2}getAbHistory(){this.selected_ab_consult=null,this.fetching_history=!0,this.http.get("animal-bite/patient-ab",{params:{patient_id:this.patient_id}}).subscribe({next:a=>{this.patient_ab_history=a.data,this.patient_ab_history[0]&&!this.patient_ab_history[0].ab_treatment_outcome&&(this.selected_ab_consult=a.data[0]),console.log(a.data),this.fetching_history=!1},error:a=>console.log(a)})}updateSelectedAb(_){console.log(_),this.selected_ab_consult=_.data[0]}get showEclaims(){return this.selected_ab_consult?.abPostExposure?.day0_date&&this.selected_ab_consult?.abPostExposure?.day3_date&&this.selected_ab_consult?.abPostExposure?.day7_date&&this.selected_ab_consult?.abPostExposure?.rig_date&&this.selected_ab_consult?.abPostExposure?.other_vacc_date}switchPage(_){1===_&&this.getAbHistory(),this.pages=_}switchTab(_){this.module=_}toggleModal(_){this.modals[_]=!this.modals[_]}loadConsult(){this.http.get("consultation/records",{params:{id:this.consult_id,pt_group:"ab"}}).subscribe({next:a=>{this.consult_details=a.data[0],this.getAbHistory()},error:a=>console.log(a)})}constructor(_,a){this.http=_,this.route=a,this.faPersonWalking=r.EiI,this.faDoorClosed=r.TH0,this.faCircleNotch=r.IJ7,this.pages=1,this.module=1,this.show_end=!1,this.fetching_history=!0,this.patient_ab_history=[],this.modals=[],this.max_date=(0,l.p6)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadConsult()}}return(o=i).\u0275fac=function(_){return new(_||o)(e.Y36(m.O),e.Y36(h.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-animalbite"]],decls:16,vars:13,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full",4,"ngIf"],[3,"patient_id","selected_ab_consult","updateSelectedAb",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"selected_ab_consult","max_date","toggleModal","switchPage",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[3,"program_id","program_name","max_date","selected_case","switchPage",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],["type","button","class","bg-rose-500 px-3 py-2  rounded text-white hover:opacity-75",3,"click",4,"ngIf"],["type","button",1,"bg-rose-500","px-3","py-2","rounded","text-white","hover:opacity-75",3,"click"],[1,"my-5","w-full"],["class","text-orange-800 border border-orange-400 bg-orange-100 rounded-md p-3 mb-2 w-full",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","mb-5 rounded-lg border border-slate-200",4,"ngIf"],["class","mt-5",3,"patient_id",4,"ngIf"],[1,"text-orange-800","border","border-orange-400","bg-orange-100","rounded-md","p-3","mb-2","w-full"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["spin","true",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"mb-5","rounded-lg","border","border-slate-200"],[1,"bg-blue-500","text-white","p-3","font-semibold","rounded-t-lg","flex","justify-between"],[1,"w-full","text-sm","text-left","rounded-b-lg"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["type","button","class","rounded-md bg-blue-500 text-white py-1 px-2",3,"click",4,"ngIf"],["colspan","7"],[1,"text-center"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],[1,"bg-white"],["colspan","7",1,"py-3"],[1,"text-center","flex","flex-col"],[1,"flex","justify-center"],["type","button",1,"mt-3","bg-blue-500","px-3","py-1","rounded-md","text-white","hover:opacity-75",3,"click"],[1,"mt-5",3,"patient_id"],[3,"patient_id","selected_ab_consult","updateSelectedAb"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal"],[3,"selected_ab_consult","max_date","toggleModal","switchPage"],[3,"patient_id","program_id","program_name","max_date","switchPage"],[3,"program_id","program_name","max_date","selected_case","switchPage"]],template:function(_,a){1&_&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return a.switchPage(1)}),e._uU(3," HISTORY "),e.qZA(),e.YNc(4,Ie,2,3,"button",3),e.YNc(5,Fe,2,2,"button",3),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,Me,3,1,"button",5),e.qZA()(),e.YNc(8,ke,8,5,"nav",6),e.YNc(9,Ke,5,4,"div",7),e.YNc(10,$e,1,2,"app-ab-exposure",8),e.YNc(11,Ge,1,2,"app-ab-postexposure",8),e.YNc(12,Be,1,4,"app-end-visit",9),e.YNc(13,Le,1,2,"app-ab-outcome",10),e.YNc(14,Xe,1,4,"app-caserate",11),e.YNc(15,We,1,4,"app-eclaims",12)),2&_&&(e.xp6(2),e.Tol(1===a.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",!a.selected_ab_consult||(null==a.selected_ab_consult?null:a.selected_ab_consult.facility_code)===a.user_facility),e.xp6(1),e.Q6J("ngIf",a.showEclaims&&(null==a.selected_ab_consult?null:a.selected_ab_consult.facility_code)===a.user_facility),e.xp6(2),e.Q6J("ngIf",!(null!=a.consult_details&&a.consult_details.consult_done)&&(null==a.selected_ab_consult?null:a.selected_ab_consult.facility_code)===a.user_facility),e.xp6(1),e.Q6J("ngIf",2===a.pages),e.xp6(1),e.Q6J("ngIf",1===a.pages),e.xp6(1),e.Q6J("ngIf",2===a.pages&&1===a.module),e.xp6(1),e.Q6J("ngIf",2===a.pages&&2===a.module),e.xp6(1),e.Q6J("ngIf",a.modals.end_visit),e.xp6(1),e.Q6J("ngIf",a.modals.treatment_outcome),e.xp6(1),e.Q6J("ngIf",2===a.pages&&8===a.module),e.xp6(1),e.Q6J("ngIf",3===a.pages))},dependencies:[l.sg,l.O5,Z.F,T.h,u.BN,A.Y,$,ne,ue,Je,l.uU]}),i})()}];let et=(()=>{var o;class i{}return(o=i).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(ze),h.Bz]}),i})();var tt=c(8048);let ot=(()=>{var o;class i{}return(o=i).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.ez,et,Z.F,tt.q,u.uH,n.UX,n.u5,A.Y]}),i})()}}]);