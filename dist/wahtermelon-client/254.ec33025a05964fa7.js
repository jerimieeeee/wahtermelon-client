"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[254],{254:(Jt,b,d)=>{d.r(b),d.d(b,{KonsultaModule:()=>kt});var _=d(6814),v=d(3602),Z=d(9862),y=d(1449),p=d(590),t=d(5879),m=d(265),h=d(2425),w=d(607),u=d(6223),f=d(5597);const T=function(n){return{"bg-gray-50":n}};function C(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",7)(1,"th",8)(2,"div",9)(3,"div",10)(4,"input",11),t.NdJ("ngModelChange",function(i){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.saving_list[r.patient.id]=i)})("change",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.addToSaving(s.patient.id))}),t.qZA()(),t.TgZ(5,"div",12),t._uU(6),t.qZA()()(),t.TgZ(7,"td",13),t._uU(8),t.ALo(9,"date"),t._UZ(10,"br"),t._uU(11),t.ALo(12,"date"),t._UZ(13,"br"),t.qZA(),t.TgZ(14,"td",14),t._uU(15),t.ALo(16,"date"),t._UZ(17,"br"),t._uU(18),t.qZA(),t.TgZ(19,"td",14),t._uU(20),t.qZA(),t.TgZ(21,"td",14),t._uU(22),t.qZA(),t.TgZ(23,"td",13)(24,"button",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.validate(s,0))}),t._UZ(25,"fa-icon",16),t._uU(26),t.qZA(),t.TgZ(27,"button",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.validate(s,1))}),t._UZ(28,"fa-icon",16),t._uU(29),t.qZA()()()}if(2&n){const e=o.$implicit,a=o.odd,i=t.oxw();t.Q6J("ngClass",t.VKq(38,T,a)),t.xp6(4),t.Q6J("disabled",!e.validated)("ngModel",i.saving_list[e.patient.id]),t.xp6(2),t.HOy(" ",e.patient.last_name,", ",e.patient.first_name," ","NA"===e.patient.middle_name?"":e.patient.middle_name," ","NA"===e.patient.suffix_name?"":e.patient.suffix_name," "),t.xp6(1),t.Tol(e.enlistment_date<e.konsulta_registration[0].assigned_date?"text-red-500":""),t.xp6(1),t.hij(" ",t.Dn7(9,26,e.konsulta_registration[0].assigned_date,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.hij(" ",t.Dn7(12,30,e.enlistment_date,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(4),t.hij(" ",t.Dn7(16,34,e.patient.birthdate,"MM/dd/yyyy","Asia/Manila")," "),t.xp6(3),t.hij(" [",e.patient.gender,"] "),t.xp6(2),t.hij(" ",e.philhealth_id," "),t.xp6(2),t.HOy(" ",e.konsulta_registration[0].last_name,", ",e.konsulta_registration[0].first_name," ","NA"===e.konsulta_registration[0].middle_name?"":e.konsulta_registration[0].middle_name," ","NA"===e.konsulta_registration[0].suffix_name?"":e.konsulta_registration[0].suffix_name," "),t.xp6(2),t.Q6J("disabled",i.validating),t.xp6(1),t.Q6J("icon",i.validating?i.faSpinner:i.faCircleCheck)("spin",i.validating),t.xp6(1),t.hij(" ",i.validating?"Loading":"Validate"," "),t.xp6(1),t.Q6J("disabled",i.validating),t.xp6(1),t.Q6J("icon",i.validating?i.faSpinner:i.faSave)("spin",i.validating),t.xp6(1),t.hij(" ",i.validating?"Loading":"Save"," ")}}let A=(()=>{var n;class o{validate(a,i){this.validating=!0;let s=new Z.LE({fromObject:{"patient_id[]":[a.patient.id],tranche:this.filter_tranche,revalidate:0,save:i,effectivity_year:this.filter_year}});this.http.get("konsulta/validate-report",{params:s}).subscribe({next:r=>{this.processReturn(r,i,a)},error:r=>{console.log(r),this.http.showError(r.error.message,"Konsulta Validation"),this.validating=!1}})}processReturn(a,i,s){a?a.errors?(this.toastr.error("Record error","Error"),this.returnData(a,i)):a.message&&(this.returnData(a,i),s.validated=!0,this.toastr.success("Record validated/submitted","Success")):(this.loadList.emit(),this.toastr.error("Validation failed","Error")),this.validating=!1}addToSaving(a){!1===this.saving_list[a]&&delete this.saving_list[a],this.addSaving.emit(this.saving_list)}returnData(a,i){this.showReturn.emit({data:a,save:i})}constructor(a,i){this.http=a,this.toastr=i,this.showReturn=new t.vpe,this.addSaving=new t.vpe,this.loadList=new t.vpe,this.faCircleCheck=p.fV7,this.faSpinner=p.LM3,this.faSave=p.r6l,this.saving_list=[],this.is_saving=!1}}return(n=o).\u0275fac=function(a){return new(a||n)(t.Y36(m.O),t.Y36(h._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-for-validation"]],inputs:{konsulta_list:"konsulta_list",filter_tranche:"filter_tranche",validating:"validating",filter_year:"filter_year"},outputs:{showReturn:"showReturn",addSaving:"addSaving",loadList:"loadList"},decls:21,vars:1,consts:[[1,"w-full","text-sm","text-left","text-gray-500","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-3","w-4/12","text-center"],["scope","col",1,"py-3","px-3","w-2/12","text-center"],["scope","col",1,"py-3","px-3","w-1/12"],["scope","col",1,"py-3","px-3","w-2/12"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-white","border-t",3,"ngClass"],["scope","row",1,"py-4","px-3","font-medium"],[1,"grid","grid-cols-12"],[1,"col-span-1","align-middle"],["type","checkbox",1,"input-checkbox","disabled:bg-gray-400",3,"disabled","ngModel","ngModelChange","change"],[1,"col-span-11"],[1,"py-4","px-3","text-center"],[1,"py-4","px-3"],[1,"text-sm","text-white","bg-blue-500","py-1","w-28","rounded-md","px-3","mb-2","hover:opacity-90","disabled:bg-gray-300",3,"disabled","click"],[1,"mr-2",3,"icon","spin"],[1,"text-sm","text-white","bg-orange-400","py-1","w-28","rounded-md","px-3","hover:opacity-90","disabled:bg-gray-300",3,"disabled","click"]],template:function(a,i){1&a&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th",3),t._uU(6," Registration Date | "),t._UZ(7,"br"),t._uU(8," Enlistment Date "),t.qZA(),t.TgZ(9,"th",4),t._uU(10,"Birthdate "),t._UZ(11,"br"),t._uU(12," [Gender]"),t.qZA(),t.TgZ(13,"th",4),t._uU(14,"Pin"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Konsulta Registration"),t.qZA(),t.TgZ(17,"th",3),t._uU(18,"Actions"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,C,30,40,"tr",6),t.qZA()()),2&a&&(t.xp6(20),t.Q6J("ngForOf",i.konsulta_list))},dependencies:[_.mk,_.sg,u.Wl,u.JJ,u.On,f.BN,_.uU]}),o})();function k(n,o){1&n&&(t.TgZ(0,"th",2),t._uU(1,"Konsulta Transaction Number"),t.qZA())}function J(n,o){if(1&n&&(t.TgZ(0,"td",8),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.konsulta_transaction_number," ")}}function q(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.philhealth[0].konsulta_registration[0]?null:e.philhealth[0].konsulta_registration[0].assigned_date)}}function N(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,q,2,1,"span",16),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.philhealth&&(null==e.philhealth[0]?null:e.philhealth[0].konsulta_registration))}}function U(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.philhealth[0]?null:e.philhealth[0].enlistment_date)}}function M(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,U,2,1,"span",16),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.philhealth&&(null==e.philhealth[0]?null:e.philhealth[0].enlistment_date))}}function K(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.HOy(" ",e.last_name,", ",e.first_name," ",e.middle_name," ","NA"===e.suffix_name?"":e.suffix_name," ")}}function L(n,o){if(1&n&&t._UZ(0,"fa-icon",17),2&n){const e=t.oxw(2);t.Q6J("icon",e.faSpinner)}}function Q(n,o){if(1&n&&t._UZ(0,"fa-icon",17),2&n){const e=t.oxw(2);t.Q6J("icon",e.faSpinner)}}function F(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.returnData(i.xml_errors,0))}),t._uU(2," show errors "),t.qZA()()}}function R(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.validate(i))}),t._UZ(2,"fa-icon",20),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Tol("F"===e.xml_status?"w-44":"w-28"),t.Q6J("disabled",a.validating),t.xp6(1),t.Q6J("icon",a.validating?a.faSpinner:a.faCircleCheck)("spin",a.validating),t.xp6(1),t.hij(" ",a.validating?"loading":"revalidate"," ")}}function O(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.submit(i.transmittal_number))}),t._UZ(2,"fa-icon",20),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.submitting),t.xp6(1),t.Q6J("icon",e.submitting?e.faSpinner:e.faCircleCheck)("spin",e.submitting),t.xp6(1),t.hij(" ",e.submitting?"loading":"submit"," ")}}const Y=function(n){return{"bg-gray-50":n}};function I(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",7)(1,"td",8),t._uU(2),t.qZA(),t.YNc(3,J,2,1,"td",9),t.TgZ(4,"td",10),t._uU(5),t.qZA(),t.TgZ(6,"td",10),t.YNc(7,N,2,1,"span",11),t.qZA(),t.TgZ(8,"td",10),t.YNc(9,M,2,1,"span",11),t.qZA(),t.TgZ(10,"td",12),t.YNc(11,K,3,4,"span",11),t.qZA(),t.TgZ(12,"td",13)(13,"div")(14,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.downloadXml(s,"enc"))}),t._uU(15),t.YNc(16,L,1,1,"fa-icon",15),t.qZA()(),t.TgZ(17,"div")(18,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.downloadXml(s,"raw"))}),t._uU(19),t.YNc(20,Q,1,1,"fa-icon",15),t.qZA()(),t.YNc(21,F,3,0,"div",16),t.YNc(22,R,4,6,"div",16),t.YNc(23,O,4,4,"div",16),t.qZA()()}if(2&n){const e=o.$implicit,a=o.odd,i=t.oxw();t.Q6J("ngClass",t.VKq(18,Y,a)),t.xp6(2),t.hij(" ",e.transmittal_number," "),t.xp6(1),t.Q6J("ngIf","S"===i.filter_status),t.xp6(2),t.lnq(" ",e.total_soap," | ",e.total_profile," | ",e.total_enlistment," "),t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(3),t.Q6J("disabled",i.downloading),t.xp6(1),t.hij(" ",i.downlaoding?"":".enc"," "),t.xp6(1),t.Q6J("ngIf",i.downloading),t.xp6(2),t.Q6J("disabled",i.downloading),t.xp6(1),t.hij(" ",i.downlaoding?"":".raw"," "),t.xp6(1),t.Q6J("ngIf",i.downloading),t.xp6(1),t.Q6J("ngIf","F"===e.xml_status),t.xp6(1),t.Q6J("ngIf","F"===e.xml_status),t.xp6(1),t.Q6J("ngIf","V"===e.xml_status)}}let S=(()=>{var n;class o{validate(a){this.submitting=!0,this.validating=!0,this.http.get("konsulta/validate-report",{params:{tranche:[this.filter_tranche],revalidate:1,transmittal_number:[a.transmittal_number],save:1,effectivity_year:a.effectivity_year}}).subscribe({next:r=>{this.processReturn(r)},error:r=>console.log(r)})}downloadXml(a,i){this.downloading=!0;let r,s={raw:"raw"===i?1:0};s.transmittal_number=a.transmittal_number,r=this.http.get("konsulta/download-xml","raw"===i?{params:s,responseType:"text/xml"}:{params:s});let l=a.xml_url.split("/"),x=l[l.length-1];r.subscribe({next:c=>{"raw"===i?this.downloadFile(c,"S"===a.xml_status?a.konsulta_transaction_number:a.transmittal_number,"raw","S"===a.xml_status?a.konsulta_transaction_number:a.transmittal_number+".xml"):this.downloadFile(c,"S"===a.xml_status?a.konsulta_transaction_number:a.transmittal_number,"enc",x)},error:c=>console.log(c)})}downloadFile(a,i,s,r){let l;l="raw"===s?a:JSON.stringify(a);let x=new Blob([l],{type:"text/xml"}),c=window.URL.createObjectURL(x),g=document.createElement("a");g.href=c,g.setAttribute("download",r),document.body.appendChild(g),g.click(),this.downloading=!1}submit(a){this.validating=!0,this.submitting=!0,this.http.get("konsulta/submit-xml",{params:{transmittal_number:a}}).subscribe({next:s=>{this.processReturn(s)},error:s=>console.log(s)})}checkPatientList(a){return Object.keys(a).length>0}processReturn(a){if(a){let i=a.data?a.data:a;i.errors?(this.toastr.error("Record error","Error"),this.returnData(i)):i.message&&(this.returnData(i),this.toastr.success("Record validated/submitted","Success"))}else this.toastr.error("Validation failed","Error");this.submitting=!1,this.validating=!1}openList(a){this.showList.emit(a)}returnData(a,i){this.showReturn.emit({data:a,save:i})}constructor(a,i){this.http=a,this.toastr=i,this.showReturn=new t.vpe,this.showList=new t.vpe,this.faSpinner=p.LM3,this.faCircleCheck=p.fV7,this.validating=!1,this.submitting=!1,this.downloading=!1}}return(n=o).\u0275fac=function(a){return new(a||n)(t.Y36(m.O),t.Y36(h._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-validated-list"]],inputs:{konsulta_list:"konsulta_list",filter_tranche:"filter_tranche",filter_status:"filter_status",filter_year:"filter_year"},outputs:{showReturn:"showReturn",showList:"showList"},decls:18,vars:2,consts:[[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-3"],["scope","col","class","py-3 px-3",4,"ngIf"],["scope","col",1,"py-3","px-3","text-center","w-1/12"],["scope","col",1,"py-3","px-3","text-center"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-white","border-t",3,"ngClass"],["scope","row",1,"py-4","px-3","font-medium","align-top"],["scope","row","class","py-4 px-3 font-medium align-top",4,"ngIf"],[1,"py-4","px-3","align-top","text-center"],[4,"ngFor","ngForOf"],[1,"py-4","px-3","align-top","text-left"],[1,"py-4","px-3","flex","justify-center"],[1,"text-sm","text-white","bg-blue-500","py-1","font-normal","rounded-md","px-1","mr-2","disabled:bg-gray-300",3,"disabled","click"],["spin","true",3,"icon",4,"ngIf"],[4,"ngIf"],["spin","true",3,"icon"],[1,"text-sm","text-white","bg-red-400","py-1","w-28","rounded-md","px-3","mr-2","disabled:bg-gray-300",3,"click"],[1,"text-sm","text-white","bg-blue-500","py-1","rounded-md","px-3","mr-2","disabled:bg-gray-300",3,"disabled","click"],[1,"mr-2",3,"icon","spin"],[1,"text-sm","text-white","bg-green-500","py-1","w-28","rounded-md","px-3","mr-2","disabled:bg-gray-300",3,"disabled","click"]],template:function(a,i){1&a&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),t._uU(4,"Transmittal Number"),t.qZA(),t.YNc(5,k,2,0,"th",3),t.TgZ(6,"th",4),t._uU(7," SOAP | Profile | Enlistment Count "),t.qZA(),t.TgZ(8,"th",4),t._uU(9," Konsulta Assignment Date "),t.qZA(),t.TgZ(10,"th",4),t._uU(11," Enlistment Date "),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"Name"),t.qZA(),t.TgZ(14,"th",5),t._uU(15,"Actions"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,I,24,20,"tr",6),t.qZA()()),2&a&&(t.xp6(5),t.Q6J("ngIf","S"===i.filter_status),t.xp6(12),t.Q6J("ngForOf",i.konsulta_list))},dependencies:[_.mk,_.sg,_.O5,f.BN]}),o})();function V(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Errors"),t.qZA())}function j(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function E(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",15),t.YNc(2,j,2,1,"div",16),t.ALo(3,"keyvalue"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,null==e.return_value?null:e.return_value.errors))}}function $(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.return_value.errors," ")}}function H(n,o){if(1&n&&(t.TgZ(0,"td")(1,"div",19),t._uU(2),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.hij(" ",e.return_value.message," ")}}function G(n,o){if(1&n&&(t.TgZ(0,"tr",18),t.YNc(1,$,2,1,"td",13),t.YNc(2,H,3,1,"td",13),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.return_value.errors),t.xp6(1),t.Q6J("ngIf",e.return_value.message)}}function D(n,o){if(1&n&&(t.TgZ(0,"div",9)(1,"table",10)(2,"thead",11)(3,"tr")(4,"th",12),t.YNc(5,V,2,0,"span",13),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,E,4,3,"tr",13),t.YNc(8,G,3,2,"tr",14),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.return_value.message),t.xp6(2),t.Q6J("ngIf",!0===e.is_error_array),t.xp6(1),t.Q6J("ngIf",!1===e.is_error_array)}}let P=(()=>{var n;class o{constructor(){this.showReturn=new t.vpe,this.toggleModal=new t.vpe,this.show_form=!1}closeModal(){this.toggleModal.emit()}ngOnInit(){this.is_error_array=Array.isArray(this.return_value.errors),this.show_form=!0}}return(n=o).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-result-form"]],inputs:{return_value:"return_value"},outputs:{showReturn:"showReturn",toggleModal:"toggleModal"},decls:11,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[4,"ngIf"],["class","bg-white border-b",4,"ngIf"],[1,"py-4","px-6"],["class","grid grid-cols-1",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1"],[1,"bg-white","border-b"],[1,"flex","justify-center","mt-20","text-lg","font-semibold"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," RETURN "),t.qZA()(),t.YNc(6,D,9,3,"div",5),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){return i.closeModal()}),t._uU(9,"Close"),t.qZA()()()()(),t._UZ(10,"div",8)),2&a&&(t.xp6(6),t.Q6J("ngIf",i.show_form))},dependencies:[_.sg,_.O5,_.Nd]}),o})();function B(n,o){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.HOy(" ",e.last_name,", ",e.first_name," ",e.middle_name," ","NA"!==e.suffix_name?e.suffix_name:""," ")}}let z=(()=>{var n;class o{constructor(){this.showReturn=new t.vpe,this.toggleList=new t.vpe}closeModal(){this.toggleList.emit()}}return(n=o).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-list"]],inputs:{patient_list:"patient_list"},outputs:{showReturn:"showReturn",toggleList:"toggleList"},decls:18,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","px-6"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Patient List "),t.qZA()(),t.TgZ(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),t._uU(11,"Name"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,B,3,4,"tr",9),t.qZA()()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return i.closeModal()}),t._uU(16,"Close"),t.qZA()()()()(),t._UZ(17,"div",12)),2&a&&(t.xp6(13),t.Q6J("ngForOf",i.patient_list))},dependencies:[_.sg]}),o})();function X(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"select",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.filter_status=i)}),t.TgZ(1,"option",26),t._uU(2,"Validated"),t.qZA(),t.TgZ(3,"option",27),t._uU(4,"Submitted"),t.qZA(),t.TgZ(5,"option",28),t._uU(6,"Failed"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.filter_status)}}function W(n,o){if(1&n&&(t.TgZ(0,"option",9),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",29),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.start_date=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.start_date)}}function et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",29),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.end_date=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.end_date)}}function nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createExportList())}),t._UZ(1,"fa-icon",31),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.excel_exporting?e.faCircleNotch:e.faFileExcel)("spin",e.excel_exporting)}}function it(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.value)}}function at(n,o){if(1&n&&(t.TgZ(0,"div",32)(1,"div",33)(2,"ul",34),t.YNc(3,it,2,1,"li",35),t.ALo(4,"keyvalue"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.submit_error))}}function ot(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-for-validation",36),t.NdJ("addSaving",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.addSaving(i))})("showReturn",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.showReturn(i))})("loadList",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadList())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("validating",e.is_saving)("konsulta_list",e.konsulta_list)("filter_tranche",e.filter_tranche)("filter_year",e.filter_year)}}function st(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-validated-list",37),t.NdJ("showReturn",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.showReturn(i))})("showList",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.showList(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("filter_status",e.filter_status)("konsulta_list",e.konsulta_list)("filter_tranche",e.filter_tranche)("filter_year",e.filter_year)}}function rt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"button",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.validateNewList())}),t._UZ(2,"fa-icon",51),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",0===e.save_list_length||e.is_saving),t.xp6(1),t.Q6J("icon",e.is_saving?e.faSpinner:e.faSave)("spin",e.is_saving),t.xp6(1),t.AsE(" ",e.is_saving?"Saving":"Save"," ","("+e.save_list_length+")"," ")}}function lt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",38)(2,"div",39)(3,"div")(4,"nav",40)(5,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadList(1))}),t._UZ(6,"fa-icon",42),t.qZA(),t.TgZ(7,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadList(i.current_page-1))}),t._UZ(8,"fa-icon",42),t._uU(9,"Previous "),t.qZA(),t.TgZ(10,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadList(i.current_page+1))}),t._uU(11," Next"),t._UZ(12,"fa-icon",44),t.qZA(),t.TgZ(13,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loadList(i.last_page))}),t._UZ(14,"fa-icon",44),t.qZA()()(),t.TgZ(15,"div")(16,"p",46),t._uU(17," Showing "),t.TgZ(18,"span",47),t._uU(19),t.qZA(),t._uU(20," to "),t.TgZ(21,"span",47),t._uU(22),t.qZA(),t._uU(23," of "),t.TgZ(24,"span",47),t._uU(25),t.qZA(),t._uU(26," results "),t.qZA()()(),t.YNc(27,rt,4,5,"div",48),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight),t.xp6(5),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(2),t.Q6J("ngIf","1"===e.form_type)}}function _t(n,o){if(1&n&&(t.TgZ(0,"div",52)(1,"div",53),t._UZ(2,"fa-icon",54),t.qZA(),t.TgZ(3,"div",55),t._uU(4," Fetching list... "),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("icon",e.faCircleNotch)}}function pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-result-form",56),t.NdJ("showReturn",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showReturn())})("toggleModal",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleModal())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("return_value",e.return_value)}}function dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-patient-list",57),t.NdJ("toggleList",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleList())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("patient_list",e.patient_list)}}function ut(n,o){1&n&&(t.TgZ(0,"th"),t._uU(1,"Consult Date"),t.qZA())}function ct(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.HOy(" ",e.last_name,", ",e.first_name," ",e.middle_name," ","NA"===e.suffix_name?"":e.suffix_name," ")}}function gt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.philhealth[0]?null:e.philhealth[0].philhealth_id)}}function ft(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,gt,2,1,"span",21),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.philhealth)}}function mt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.philhealth[0]?null:e.philhealth[0].enlistment_date)}}function ht(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,mt,2,1,"span",21),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.philhealth&&(null==e.philhealth[0]?null:e.philhealth[0].enlistment_date))}}function xt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.consult[0]?null:e.consult[0].consult_date)}}function bt(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,xt,2,1,"span",21),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.consult)}}function vt(n,o){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,bt,2,1,"span",35),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.patient)}}function Zt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e.philhealth[0].konsulta_registration[0]?null:e.philhealth[0].konsulta_registration[0].assigned_date)}}function wt(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Zt,2,1,"span",21),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.philhealth&&(null==e.philhealth[0]?null:e.philhealth[0].konsulta_registration))}}function yt(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,ct,3,4,"span",35),t.qZA(),t.TgZ(3,"td"),t.YNc(4,ft,2,1,"span",35),t.qZA(),t.TgZ(5,"td"),t.YNc(6,ht,2,1,"span",35),t.qZA(),t.YNc(7,vt,2,1,"td",21),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t.YNc(13,wt,2,1,"span",35),t.qZA()()),2&n){const e=o.$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(2),t.Q6J("ngForOf",e.patient),t.xp6(1),t.Q6J("ngIf",2===a.filter_tranche),t.xp6(2),t.Oqu(e.transmittal_number),t.xp6(2),t.Oqu(e.konsulta_transaction_number),t.xp6(2),t.Q6J("ngForOf",e.patient)}}function Tt(n,o){if(1&n&&(t.TgZ(0,"table",58)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Patient Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Philhealth No."),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Enlistment Date"),t.qZA(),t.YNc(9,ut,2,0,"th",21),t.TgZ(10,"th"),t._uU(11,"Transmittal Number"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Konsulta Transaction Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Konsulta Assign Date"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,yt,14,7,"tr",35),t.qZA()()),2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngIf",2===e.filter_tranche),t.xp6(8),t.Q6J("ngForOf",e.konsulta_list_export)}}const Ct=[{path:"",component:(()=>{var n;class o{loadList(a,i){this.forms=[],this.searching=!0;let s,r={params:{}};a&&(r.params.page=a),r.params.per_page=i?"all":this.per_page,r.params.search=this.search??"","1"===this.form_type?(this.filter_tranche&&(r.params.tranche=this.filter_tranche),r.params.effectivity_year=this.filter_year,s=this.http.get("konsulta/generate-data",r)):(this.filter_tranche&&(r.params["filter[tranche]"]=this.filter_tranche),this.filter_status&&(r.params["filter[xml_status]"]=this.filter_status),this.start_date&&(r.params.start_date=this.start_date),this.end_date&&(r.params.end_date=this.end_date),r.params.effectivity_year=this.filter_year,s=this.http.get("konsulta/validated-xml",r)),s.subscribe({next:l=>{i?this.konsulta_list_export=l.data:this.konsulta_list=l.data,"1"===this.form_type?this.forms.for_validation=!0:(this.forms.validated_list=!0,i&&(this.excel_exporting=!0,console.log("test"),setTimeout(()=>{this.exportAsService.save(this.exportAsExcel,"Submitted").subscribe(()=>{this.excel_exporting=!1})}))),this.searching=!1,this.current_page=l.meta.current_page,this.last_page=l.meta.last_page,this.from=l.meta.from,this.to=l.meta.to,this.total=l.meta.total},error:l=>{this.toastr.error(l.error.message,"Konsulta List")}})}createExportList(){this.excel_exporting=!0;let a={params:{}};a.params.per_page="all",a.params.search=this.search??"",this.filter_tranche&&(a.params["filter[tranche]"]=this.filter_tranche),this.filter_status&&(a.params["filter[xml_status]"]=this.filter_status),this.start_date&&(a.params.start_date=this.start_date),this.end_date&&(a.params.end_date=this.end_date),a.params.effectivity_year=this.filter_year,this.http.get("konsulta/validated-xml",a).subscribe({next:i=>{this.konsulta_list_export=i.data,setTimeout(()=>{this.exportAsService.save(this.exportAsExcel,"Submitted").subscribe(()=>{this.excel_exporting=!1})})},error:i=>{this.toastr.error(i.error.message,"Konsulta List"),this.excel_exporting=!1}})}showReturn(a){this.return_value=a.data,this.show_return=!this.show_return,0!==a.save&&this.loadList()}showList(a){this.patient_list=a,this.toggleList()}toggleList(){this.show_list=!this.show_list}toggleModal(){this.show_return=!this.show_return}generateYear(){let a=parseInt(this.current_year);for(let i=a;i>a-5;i--)this.years.push(i)}addSaving(a){this.save_list=a,this.save_list_length=Object.keys(this.save_list).length}validateNewList(){this.is_saving=!0;let a=[];Object.entries(this.save_list).forEach(([s,r],l)=>{a.push(s)});let i=new Z.LE({fromObject:{"patient_id[]":a,tranche:this.filter_tranche,revalidate:0,save:1}});this.http.get("konsulta/validate-report",{params:i}).subscribe({next:s=>{this.is_saving=!1,s.errors?(this.toastr.error("Validation failed","Error"),this.showReturn({data:s})):(this.toastr.success("Success!","Record Validation"),this.showReturn({data:s})),this.loadList()},error:s=>console.log(s)})}constructor(a,i,s){this.http=a,this.toastr=i,this.exportAsService=s,this.faSpinner=p.LM3,this.faChevronLeft=p.A35,this.faChevronRight=p._tD,this.faAnglesLeft=p._Wx,this.faAnglesRight=p.ccb,this.faSearch=p.wn1,this.faFilter=p.G_j,this.faSave=p.r6l,this.faCircleNotch=p.IJ7,this.faFileExcel=y.icc,this.current_year=(0,_.p6)(new Date,"yyyy","en","Asia/Manila"),this.years=[],this.per_page=10,this.filter_tranche=1,this.filter_status="V",this.forms=[],this.form_type="1",this.konsulta_list=[],this.konsulta_list_export=[],this.save_list=[],this.save_list_length=0,this.searching=!1,this.show_return=!1,this.show_list=!1,this.is_saving=!1,this.exportAsExcel={type:"xlsx",elementIdOrContent:"submitted",options:{}},this.excel_exporting=!1}ngOnInit(){this.generateYear(),this.filter_year=this.current_year,this.loadList()}}return(n=o).\u0275fac=function(a){return new(a||n)(t.Y36(m.O),t.Y36(h._W),t.Y36(w.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-konsulta"]],decls:33,vars:22,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"w-full","justify-end","flex"],["type","text","placeholder","Search name",1,"input","rounded-r-none","w-44",3,"ngModel","ngModelChange","keyup.enter"],[1,"input","w-36","rounded-none",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"input","w-28","rounded-none",3,"ngModel","ngModelChange"],[3,"value"],["class","input w-28 rounded-none",3,"ngModel","ngModelChange",4,"ngIf"],[1,"input","w-24","rounded-none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","input w-36 rounded-none","type","date",3,"ngModel","ngModelChange",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","h-10","px-3","mt-1","rounded-r-md",3,"disabled","click"],[1,"",3,"icon","spin"],["class","bg-green-500 text-white text-xl px-2 mt-1 rounded-md ml-2",3,"click",4,"ngIf"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[3,"validating","konsulta_list","filter_tranche","filter_year","addSaving","showReturn","loadList",4,"ngIf"],[3,"filter_status","konsulta_list","filter_tranche","filter_year","showReturn","showList",4,"ngIf"],[4,"ngIf"],["class","grid grid-cols-1 my-20",4,"ngIf"],[3,"return_value","showReturn","toggleModal",4,"ngIf"],[3,"patient_list","toggleList",4,"ngIf"],["id","submitted","hidden","",4,"ngIf"],["value","V"],["value","S"],["value","F"],["type","date",1,"input","w-36","rounded-none",3,"ngModel","ngModelChange"],[1,"bg-green-500","text-white","text-xl","px-2","mt-1","rounded-md","ml-2",3,"click"],[3,"icon","spin"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],[3,"validating","konsulta_list","filter_tranche","filter_year","addSaving","showReturn","loadList"],[3,"filter_status","konsulta_list","filter_tranche","filter_year","showReturn","showList"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"flex-1","flex","items-center","justify-start"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px","mr-5"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["class","flex justify-end",4,"ngIf"],[1,"flex","justify-end"],["type","button",1,"btn-save","bg-orange-400","px-5","disabled:bg-gray-300",3,"disabled","click"],[1,"mr-2",3,"icon","spin"],[1,"grid","grid-cols-1","my-20"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"],[3,"return_value","showReturn","toggleModal"],[3,"patient_list","toggleList"],["id","submitted","hidden",""]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(r){return i.search=r})("keyup.enter",function(){return i.loadList()}),t.qZA(),t.TgZ(5,"select",5),t.NdJ("ngModelChange",function(r){return i.form_type=r}),t.TgZ(6,"option",6),t._uU(7,"For Validation"),t.qZA(),t.TgZ(8,"option",7),t._uU(9,"Validated List"),t.qZA()(),t.TgZ(10,"select",8),t.NdJ("ngModelChange",function(r){return i.filter_tranche=r}),t.TgZ(11,"option",9),t._uU(12,"Tranche 1"),t.qZA(),t.TgZ(13,"option",9),t._uU(14,"Tranche 2"),t.qZA()(),t.YNc(15,X,7,1,"select",10),t.TgZ(16,"select",11),t.NdJ("ngModelChange",function(r){return i.filter_year=r}),t.YNc(17,W,2,2,"option",12),t.qZA(),t.YNc(18,tt,1,1,"input",13),t.YNc(19,et,1,1,"input",13),t.TgZ(20,"button",14),t.NdJ("click",function(){return i.loadList()}),t._UZ(21,"fa-icon",15),t.qZA(),t.YNc(22,nt,2,2,"button",16),t.qZA()(),t.YNc(23,at,5,3,"div",17),t.TgZ(24,"div")(25,"div",18),t.YNc(26,ot,1,4,"app-for-validation",19),t.YNc(27,st,1,4,"app-validated-list",20),t.qZA()()(),t.YNc(28,lt,28,12,"div",21),t.YNc(29,_t,5,1,"div",22),t.qZA(),t.YNc(30,pt,1,1,"app-result-form",23),t.YNc(31,dt,1,1,"app-patient-list",24),t.YNc(32,Tt,18,2,"table",25)),2&a&&(t.xp6(4),t.Q6J("ngModel",i.search),t.xp6(1),t.Q6J("ngModel",i.form_type),t.xp6(5),t.Q6J("ngModel",i.filter_tranche),t.xp6(1),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf","2"===i.form_type),t.xp6(1),t.Q6J("ngModel",i.filter_year),t.xp6(1),t.Q6J("ngForOf",i.years),t.xp6(1),t.Q6J("ngIf","2"===i.form_type),t.xp6(1),t.Q6J("ngIf","2"===i.form_type),t.xp6(1),t.Q6J("disabled",i.searching),t.xp6(1),t.Q6J("icon",i.searching?i.faCircleNotch:i.faFilter)("spin",i.searching),t.xp6(1),t.Q6J("ngIf","2"===i.form_type&&"S"===i.filter_status&&i.forms.validated_list),t.xp6(1),t.Q6J("ngIf",i.submit_error),t.xp6(3),t.Q6J("ngIf",i.forms.for_validation),t.xp6(1),t.Q6J("ngIf",i.forms.validated_list),t.xp6(1),t.Q6J("ngIf",(null==i.konsulta_list?null:i.konsulta_list.length)>=1),t.xp6(1),t.Q6J("ngIf",i.searching),t.xp6(1),t.Q6J("ngIf",i.show_return),t.xp6(1),t.Q6J("ngIf",i.show_list),t.xp6(1),t.Q6J("ngIf","2"===i.form_type&&"S"===i.filter_status&&i.forms.validated_list))},dependencies:[_.sg,_.O5,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.On,f.BN,A,S,P,z,_.Nd]}),o})()}];let At=(()=>{var n;class o{}return(n=o).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[v.Bz.forChild(Ct),v.Bz]}),o})(),kt=(()=>{var n;class o{}return(n=o).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.ez,At,u.u5,f.uH,w.a]}),o})()}}]);