"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[9204],{9204:(Ft,F,_)=>{_.r(F),_.d(F,{AnimalbiteModule:()=>xt});var c=_(177),h=_(1317),r=_(5383),e=_(4438),m=_(3318),k=_(9217),w=_(8588),d=_(60),E=_(9596),j=_(2038),R=_(2505),G=_(9932),f=_(614),b=_(5794),a=_(9417),g=_(7468);const p=o=>({"invalid-input":o});function $(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Y(o,i){1&o&&(e.j41(0,"div",19)(1,"label",48),e.EFF(2,"Specify"),e.k0s(),e.nrm(3,"input",49),e.k0s())}function M(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function A(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function N(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function I(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function T(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function P(o,i){if(1&o&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function D(o,i){if(1&o&&(e.j41(0,"form",14)(1,"div",15)(2,"div",16)(3,"h4",17),e.EFF(4,"Client Type *"),e.k0s()(),e.j41(5,"div",18)(6,"div",19)(7,"label",20),e.EFF(8,"Indication Option"),e.k0s(),e.j41(9,"select",21),e.DNE(10,$,2,2,"option",22),e.k0s()(),e.DNE(11,Y,4,0,"div",23),e.k0s()(),e.nrm(12,"div",24),e.j41(13,"div",15)(14,"div",16)(15,"h4",17),e.EFF(16,"Day 0 *"),e.k0s()(),e.j41(17,"div",25)(18,"div",19)(19,"label",26),e.EFF(20,"Date"),e.k0s(),e.nrm(21,"input",27),e.k0s(),e.j41(22,"div",19)(23,"label",28),e.EFF(24,"Vaccine"),e.k0s(),e.j41(25,"select",29),e.DNE(26,M,2,2,"option",22),e.k0s()(),e.j41(27,"div",19)(28,"label",30),e.EFF(29,"Vaccine Route"),e.k0s(),e.j41(30,"select",31),e.DNE(31,A,2,2,"option",22),e.k0s()()()(),e.j41(32,"div",15)(33,"div",16)(34,"h4",17),e.EFF(35,"Day 7"),e.k0s()(),e.j41(36,"div",25)(37,"div",19)(38,"label",32),e.EFF(39,"Date"),e.k0s(),e.nrm(40,"input",33),e.k0s(),e.j41(41,"div",19)(42,"label",34),e.EFF(43,"Vaccine"),e.k0s(),e.j41(44,"select",35),e.DNE(45,N,2,2,"option",22),e.k0s()(),e.j41(46,"div",19)(47,"label",36),e.EFF(48,"Vaccine Route"),e.k0s(),e.j41(49,"select",37),e.DNE(50,I,2,2,"option",22),e.k0s()()()(),e.j41(51,"div",15)(52,"div",16)(53,"h4",17),e.EFF(54,"Day 21"),e.k0s()(),e.j41(55,"div",25)(56,"div",19)(57,"label",38),e.EFF(58,"Date"),e.k0s(),e.nrm(59,"input",39),e.k0s(),e.j41(60,"div",19)(61,"label",40),e.EFF(62,"Vaccine"),e.k0s(),e.j41(63,"select",41),e.DNE(64,T,2,2,"option",22),e.k0s()(),e.j41(65,"div",19)(66,"label",42),e.EFF(67,"Vaccine Route"),e.k0s(),e.j41(68,"select",43),e.DNE(69,P,2,2,"option",22),e.k0s()()()(),e.j41(70,"div",15)(71,"div",16)(72,"h4",17),e.EFF(73,"Remarks"),e.k0s()(),e.j41(74,"div",44)(75,"div",19)(76,"label",45),e.EFF(77,"Remarks"),e.k0s(),e.nrm(78,"input",46),e.k0s()()(),e.nrm(79,"div",24),e.k0s()),2&o){const t=e.XpG();e.Y8G("formGroup",t.preExposureForm),e.R7$(9),e.Y8G("ngClass",e.eq3(19,p,t.is_saving&&t.f.indication_option_code.errors)),e.R7$(),e.Y8G("ngForOf",t.indication_options),e.R7$(),e.Y8G("ngIf","OTHERS"===t.preExposureForm.value.indication_option_code),e.R7$(10),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("ngClass",e.eq3(21,p,t.is_saving&&t.f.day0_vaccine_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccines),e.R7$(4),e.Y8G("ngClass",e.eq3(23,p,t.is_saving&&t.f.day0_vaccine_route_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccine_routes),e.R7$(9),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("ngClass",e.eq3(25,p,t.is_saving&&t.f.day7_vaccine_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccines),e.R7$(4),e.Y8G("ngClass",e.eq3(27,p,t.is_saving&&t.f.day7_vaccine_route_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccine_routes),e.R7$(9),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("ngClass",e.eq3(29,p,t.is_saving&&t.f.day21_vaccine_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccines),e.R7$(4),e.Y8G("ngClass",e.eq3(31,p,t.is_saving&&t.f.day21_vaccine_route_code.errors)),e.R7$(),e.Y8G("ngForOf",t.ab_vaccine_routes)}}function J(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",51),e.nrm(2,"fa-icon",52),e.k0s(),e.j41(3,"div",53),e.EFF(4," Loadin libraries... "),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function V(o,i){if(1&o&&e.nrm(0,"fa-icon",54),2&o){const t=e.XpG();e.Y8G("icon",t.faSave)}}function X(o,i){if(1&o&&e.nrm(0,"fa-icon",52),2&o){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}let S=(()=>{class o{onSubmit(){let t;this.is_saving=!0,console.log(this.preExposureForm.value),t=this.preExposureForm.value.id?this.http.update("animal-bite/patient-ab-pre-exposure/",this.preExposureForm.value.id,this.preExposureForm.value):this.http.post("animal-bite/patient-ab-pre-exposure",this.preExposureForm.value),t.subscribe({next:s=>{console.log(s),this.toastr.success("Successfully Recorded","Pre-exposure"),this.is_saving=!1,this.closeModal()},error:s=>console.log(s)})}loadLibraries(){this.show_form=!1;const t=this.http.get("libraries/ab-indication-option"),s=this.http.get("libraries/ab-vaccine"),n=this.http.get("libraries/ab-vaccine-route");(0,g.p)([t,s,n]).subscribe({next:([l,u,v])=>{this.indication_options=l.data,this.ab_vaccines=u.data,this.ab_vaccine_routes=v.data,this.createForm()},error:l=>console.log(l)})}createForm(){this.preExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.k0.required],indication_option_code:[null,a.k0.required],indication_option_remarks:[null],day0_date:[null,a.k0.required],day0_vaccine_code:[null,a.k0.required],day0_vaccine_route_code:[null,a.k0.required],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day21_date:[null],day21_vaccine_code:[null],day21_vaccine_route_code:[null],remarks:[null]}),this.selected_pre_exposure&&this.preExposureForm.patchValue({...this.selected_pre_exposure}),this.show_form=!0}closeModal(){this.toggleModal.emit("preexp-modal")}get f(){return this.preExposureForm.controls}constructor(t,s,n){this.http=t,this.toastr=s,this.formBuilder=n,this.toggleModal=new e.bkB,this.faCircleNotch=r.s4k,this.faSave=f.hSh,this.preExposureForm=function C(){return new a.gE({id:new a.MJ(null),patient_id:new a.MJ(null),indication_option_code:new a.MJ(null),indication_option_remarks:new a.MJ(""),day0_date:new a.MJ(null),day0_vaccine_code:new a.MJ(null),day0_vaccine_route_code:new a.MJ(null),day7_date:new a.MJ(null),day7_vaccine_code:new a.MJ(null),day7_vaccine_route_code:new a.MJ(null),day21_date:new a.MJ(null),day21_vaccine_code:new a.MJ(null),day21_vaccine_route_code:new a.MJ(null),remarks:new a.MJ(null)})}(),this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.show_form=!1,this.is_saving=!1}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.k),e.rXU(b.tw),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-pre-exposure-modal"]],inputs:{selected_pre_exposure:"selected_pre_exposure",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:17,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","max-h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full max-w-3xl text-left text-gray-500 dark:text-gray-400",3,"formGroup",4,"ngIf"],["class","grid grid-cols-1 my-16",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-cancel",3,"click","disabled"],["type","button",1,"btn-save",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-2","gap-4","w-full","ml-10","mr-5"],[1,"col-span-1"],["for","vitals_date_temp",1,"font-semibold"],["name","indication_option_code","id","indication_option_code","formControlName","indication_option_code",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-1",4,"ngIf"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"grid","grid-cols-3","gap-4","w-full","ml-10","mr-5"],["for","day0_date",1,"font-semibold"],["name","day0_date","id","day0_date","formControlName","day0_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day0_vaccine_code",1,"font-semibold"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input",3,"ngClass"],["for","day0_vaccine_route_code",1,"font-semibold"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input",3,"ngClass"],["for","day7_date",1,"font-semibold"],["name","day7_date","id","day7_date","formControlName","day7_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day7_vaccine_code",1,"font-semibold"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input",3,"ngClass"],["for","day7_vaccine_route_code",1,"font-semibold"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input",3,"ngClass"],["for","day21_date",1,"font-semibold"],["name","day21_date","id","day21_date","formControlName","day21_date","type","date","placeholder","MM/dd/yyyy",1,"input",3,"max"],["for","day21_vaccine_code",1,"font-semibold"],["name","day21_vaccine_code","id","day21_vaccine_code","formControlName","day21_vaccine_code",1,"input",3,"ngClass"],["for","day21_vaccine_route_code",1,"font-semibold"],["name","day21_vaccine_route_code","id","day21_vaccine_route_code","formControlName","day21_vaccine_route_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-1","gap-4","w-full","ml-10","mr-5"],["for","remarks",1,"font-semibold"],["name","remarks","id","remarks","formControlName","remarks","type","text",1,"input"],[3,"value"],["for","indication_option_remarks",1,"font-semibold"],["name","indication_option_remarks","id","indication_option_remarks","formControlName","indication_option_remarks","type","text",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center","text-blue-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"],[3,"icon"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," PRE-EXPOSURE "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,D,80,33,"form",6)(8,J,5,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return n.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return n.onSubmit()}),e.DNE(13,V,1,1,"fa-icon",11)(14,X,1,1,"fa-icon",12),e.EFF(15),e.k0s()()()()(),e.nrm(16,"div",13)),2&s&&(e.R7$(7),e.Y8G("ngIf",n.show_form),e.R7$(),e.Y8G("ngIf",!n.show_form),e.R7$(2),e.Y8G("disabled",n.is_saving),e.R7$(2),e.Y8G("disabled",n.is_saving||n.preExposureForm.pristine||n.preExposureForm.invalid),e.R7$(),e.Y8G("ngIf",!n.is_saving),e.R7$(),e.Y8G("ngIf",n.is_saving),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.YU,c.Sq,c.bT,d.aY,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return o})();function O(o,i){if(1&o&&(e.j41(0,"div",3)(1,"div",4),e.nrm(2,"fa-icon",5),e.k0s(),e.j41(3,"div",6),e.EFF(4,"Fetching pre-exposure record..."),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function B(o,i){1&o&&(e.j41(0,"td",23)(1,"div",24),e.EFF(2," No records to show... "),e.k0s()())}function H(o,i){if(1&o&&(e.j41(0,"span",25)(1,"span"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.day0_date?e.brH(3,3,t.day0_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.day0_vaccine?t.day0_vaccine.desc:"-"),e.R7$(2),e.JRh(t.day0_vaccine_route?t.day0_vaccine_route.desc:"-")}}function q(o,i){if(1&o&&(e.j41(0,"span",25)(1,"span"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.day7_date?e.brH(3,3,t.day7_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.day7_vaccine?t.day7_vaccine.desc:"-"),e.R7$(2),e.JRh(t.day7_vaccine_route?t.day7_vaccine_route.desc:"-")}}function U(o,i){if(1&o&&(e.j41(0,"span",25)(1,"span"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.day21_date?e.brH(3,3,t.day21_date,"MM/dd/yyyy","Asia/Manila"):"-"),e.R7$(3),e.JRh(t.day21_vaccine?t.day21_vaccine.desc:"-"),e.R7$(2),e.JRh(t.day21_vaccine_route?t.day21_vaccine_route.desc:"-")}}function L(o,i){if(1&o){const t=e.RV6();e.j41(0,"tr",18),e.DNE(1,B,3,0,"td",19),e.j41(2,"td",20),e.EFF(3),e.k0s(),e.j41(4,"td",20),e.DNE(5,H,8,7,"span",21),e.k0s(),e.j41(6,"td",20),e.DNE(7,q,8,7,"span",21),e.k0s(),e.j41(8,"td",20),e.DNE(9,U,8,7,"span",21),e.k0s(),e.j41(10,"td",20),e.EFF(11),e.k0s(),e.j41(12,"td",20)(13,"button",22),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.editPreExposure("preexp-modal",n))}),e.nrm(14,"fa-icon",10),e.k0s()()()}if(2&o){const t=i.$implicit,s=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t),e.R7$(2),e.SpI(" ",t.indication_option.desc," "),e.R7$(2),e.Y8G("ngIf",t.day0_date),e.R7$(2),e.Y8G("ngIf",t.day7_date),e.R7$(2),e.Y8G("ngIf",t.day21_date),e.R7$(2),e.SpI(" ",t.remarks?t.remarks:"-"," "),e.R7$(3),e.Y8G("icon",s.faEdit)}}function z(o,i){1&o&&(e.j41(0,"tr",18)(1,"td",26)(2,"span"),e.EFF(3,"No records found..."),e.k0s()()())}function W(o,i){if(1&o&&(e.j41(0,"table",13)(1,"thead",14)(2,"tr")(3,"th",15),e.EFF(4,"Indication"),e.k0s(),e.j41(5,"th",15),e.EFF(6,"Day 0 Vaccine"),e.k0s(),e.j41(7,"th",15),e.EFF(8,"Day 7 Vaccine"),e.k0s(),e.j41(9,"th",15),e.EFF(10,"Day 21/28 Vaccine"),e.k0s(),e.j41(11,"th",15),e.EFF(12,"Remarks"),e.k0s(),e.j41(13,"th",15),e.EFF(14,"Action"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,L,15,7,"tr",16)(17,z,4,0,"tr",17),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(16),e.Y8G("ngForOf",t.pre_exposure_list),e.R7$(),e.Y8G("ngIf",!t.pre_exposure_list[0])}}function K(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"span"),e.EFF(3,"PRE-EXPOSURE RECORD"),e.k0s(),e.j41(4,"span")(5,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("preexp-modal"))}),e.nrm(6,"fa-icon",10),e.k0s()()(),e.j41(7,"div",11),e.DNE(8,W,18,2,"table",12),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("icon",t.faPlus),e.R7$(2),e.Y8G("ngIf",!t.fetching_history&&t.pre_exposure_list)}}function Q(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-pre-exposure-modal",27),e.bIt("toggleModal",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_pre_exposure",t.selected_pre_exposure)}}let Z=(()=>{class o{getPreExposure(){this.fetching_history=!0,this.http.get("animal-bite/patient-ab-pre-exposure",{params:{patient_id:this.patient_id}}).subscribe({next:s=>{this.pre_exposure_list=s.data,this.fetching_history=!1},error:s=>console.log(s)})}editPreExposure(t,s){this.selected_pre_exposure=s,this.modals[t]=!this.modals[t]}toggleModal(t){this.selected_pre_exposure=null,this.modals[t]=!this.modals[t],"preexp-modal"===t&&!1===this.modals["preexp-modal"]&&this.getPreExposure()}constructor(t,s){this.http=t,this.toastr=s,this.fetching_history=!0,this.modals=[],this.faCircleNotch=r.s4k,this.faPlus=r.QLR,this.faEdit=f.MT7}ngOnInit(){this.getPreExposure()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.k),e.rXU(b.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ab-preexposure"]],inputs:{patient_id:"patient_id"},standalone:!1,decls:3,vars:3,consts:[["class","flex flex-col",4,"ngIf"],["class","border border-slate-200 rounded-lg mt-5",4,"ngIf"],[3,"patient_id","selected_pre_exposure","toggleModal",4,"ngIf"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["animation","spin",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"border","border-slate-200","rounded-lg","mt-5"],[1,"bg-blue-500","text-white","rounded-t-md","p-3","font-semibold","flex","justify-between"],["type","button",1,"bg-white","text-blue-500","px-1","rounded-md","text-sm","hover:opacity-70",3,"click"],[3,"icon"],[1,"mt-3"],["class","w-full text-sm text-left rounded-b-md",4,"ngIf"],[1,"w-full","text-sm","text-left","rounded-b-md"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["class","grid grid-cols-1",4,"ngIf"],["type","button",1,"rounded-md","text-orange-500","py-1","px-2",3,"click"],["colspan","7"],[1,"text-center"],[1,"grid","grid-cols-1"],["colspan","7",1,"text-center","h-16"],[3,"toggleModal","patient_id","selected_pre_exposure"]],template:function(s,n){1&s&&e.DNE(0,O,5,1,"div",0)(1,K,9,2,"div",1)(2,Q,1,2,"app-pre-exposure-modal",2),2&s&&(e.Y8G("ngIf",n.fetching_history),e.R7$(),e.Y8G("ngIf",!n.fetching_history),e.R7$(),e.Y8G("ngIf",n.modals["preexp-modal"]))},dependencies:[c.Sq,c.bT,d.aY,S,c.vh],encapsulation:2})}}return o})();function te(o,i){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function oe(o,i){1&o&&(e.j41(0,"div",29)(1,"label",53),e.EFF(2,"Please specify Type of Animal"),e.k0s(),e.nrm(3,"input",54),e.k0s())}function ae(o,i){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function ne(o,i){if(1&o&&(e.j41(0,"div",55),e.nrm(1,"input",56),e.j41(2,"label",57),e.EFF(3),e.k0s()()),2&o){const t=i.$implicit;e.R7$(),e.Y8G("formControlName",t.bite_code),e.BMQ("id",t.bite_code),e.R7$(),e.BMQ("for",t.bite_code),e.R7$(),e.JRh(t.bite_desc)}}function ie(o,i){1&o&&(e.j41(0,"div",29)(1,"label",58),e.EFF(2,"Please specify Bite Location"),e.k0s(),e.nrm(3,"input",59),e.k0s())}function se(o,i){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.desc)}}function le(o,i){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.category+": "+t.desc)}}function ce(o,i){if(1&o&&e.nrm(0,"fa-icon",60),2&o){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function _e(o,i){if(1&o&&e.nrm(0,"fa-icon",61),2&o){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function re(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",2)(1,"div",3),e.EFF(2," Exposure Record "),e.k0s(),e.j41(3,"div",4)(4,"form",5),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(5,"div",6)(6,"div",7),e.EFF(7," Date "),e.k0s(),e.j41(8,"div",8)(9,"div")(10,"label",9),e.EFF(11,"Exposure Date *"),e.k0s(),e.nrm(12,"input",10),e.k0s(),e.j41(13,"div")(14,"label",11),e.EFF(15,"Consultation Date *"),e.k0s(),e.nrm(16,"input",12),e.k0s()(),e.j41(17,"div",7),e.EFF(18," Exposure Details "),e.k0s(),e.j41(19,"div",13)(20,"div")(21,"label",14),e.EFF(22,"Place of exposure"),e.k0s(),e.nrm(23,"input",15),e.k0s(),e.j41(24,"div")(25,"label",16),e.EFF(26,"Bite/Non Bite "),e.k0s(),e.j41(27,"select",17)(28,"option",18),e.EFF(29,"Bite"),e.k0s(),e.j41(30,"option",18),e.EFF(31,"Non Bite"),e.k0s()()(),e.j41(32,"div")(33,"label",19),e.EFF(34,"Type of Animal *"),e.k0s(),e.j41(35,"select",20),e.DNE(36,te,2,2,"option",21),e.k0s()(),e.DNE(37,oe,4,0,"div",22),e.j41(38,"div")(39,"label",23),e.EFF(40,"Type of Ownership *"),e.k0s(),e.j41(41,"select",24),e.DNE(42,ae,2,2,"option",21),e.k0s()(),e.j41(43,"div",25)(44,"label",26),e.EFF(45,"Anti-rabies Vaccination of Animal (if any)"),e.k0s(),e.nrm(46,"input",27),e.k0s(),e.j41(47,"div",28)(48,"div",29),e.EFF(49," Bite Location "),e.k0s(),e.DNE(50,ne,4,4,"div",30),e.k0s(),e.DNE(51,ie,4,0,"div",22),e.j41(52,"div",29)(53,"label",31),e.EFF(54,"Exposure Category *"),e.k0s(),e.j41(55,"select",32),e.DNE(56,se,2,2,"option",21),e.k0s()(),e.j41(57,"div",29)(58,"label",33),e.EFF(59,"Type of Exposure *"),e.k0s(),e.j41(60,"select",34),e.DNE(61,le,2,2,"option",21),e.k0s()(),e.j41(62,"div",35)(63,"div")(64,"label",36),e.EFF(65,"Washing of Bite"),e.k0s(),e.j41(66,"select",37)(67,"option",18),e.EFF(68,"Yes"),e.k0s(),e.j41(69,"option",18),e.EFF(70,"No"),e.k0s()()(),e.j41(71,"div")(72,"label",38),e.EFF(73,"With PEP?"),e.k0s(),e.j41(74,"select",39)(75,"option",18),e.EFF(76,"Yes"),e.k0s(),e.j41(77,"option",18),e.EFF(78,"No"),e.k0s()()()(),e.j41(79,"div",35)(80,"div")(81,"label",40),e.EFF(82,"Name of Tandok/Supsup"),e.k0s(),e.nrm(83,"input",41),e.k0s(),e.j41(84,"div")(85,"label",42),e.EFF(86,"Date of Tandok"),e.k0s(),e.nrm(87,"input",43),e.k0s(),e.j41(88,"div",25)(89,"label",44),e.EFF(90,"Address"),e.k0s(),e.nrm(91,"input",45),e.k0s()(),e.j41(92,"div",29)(93,"label",46),e.EFF(94,"Remarks"),e.k0s(),e.nrm(95,"input",47),e.k0s()()(),e.j41(96,"div",48)(97,"button",49),e.DNE(98,ce,1,1,"fa-icon",50)(99,_e,1,1,"fa-icon",51),e.EFF(100),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("formGroup",t.abExposureForm),e.R7$(8),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(12),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",0),e.R7$(6),e.Y8G("ngForOf",t.animal_types),e.R7$(),e.Y8G("ngIf","5"===t.abExposureForm.value.animal_type_id),e.R7$(5),e.Y8G("ngForOf",t.animal_ownerships),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("ngForOf",t.bite_locations),e.R7$(),e.Y8G("ngIf",t.abExposureForm.value.others_flag),e.R7$(5),e.Y8G("ngForOf",t.categories),e.R7$(5),e.Y8G("ngForOf",t.exposure_types),e.R7$(6),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",0),e.R7$(6),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",0),e.R7$(10),e.Y8G("max",t.max_date),e.R7$(10),e.Y8G("disabled",t.is_saving||t.abExposureForm.invalid),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.abExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function de(o,i){if(1&o&&(e.j41(0,"div")(1,"div",62)(2,"div",63),e.nrm(3,"fa-icon",64),e.k0s(),e.j41(4,"div",63),e.EFF(5," Fetching exposure record... "),e.k0s()()()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faCircleNotch)}}let pe=(()=>{class o{onSubmit(){let t;this.is_saving=!0,console.log(this.abExposureForm.value),t=this.abExposureForm.value.id?this.http.update("animal-bite/patient-ab-exposure/",this.abExposureForm.value.id,this.abExposureForm.value):this.http.post("animal-bite/patient-ab",this.abExposureForm.value),t.subscribe({next:s=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Exposure Details"),this.updateSelectedAb.emit(s)},error:s=>console.log(s)})}loadLibraries(){const t=this.http.get("libraries/ab-animal-type"),s=this.http.get("libraries/ab-animal-ownership"),n=this.http.get("libraries/ab-exposure-type"),l=this.http.get("libraries/ab-category");(0,g.p)([t,s,n,l]).subscribe({next:([u,v,y,x])=>{this.animal_types=u.data,this.animal_ownerships=v.data,this.exposure_types=y.data,this.categories=x.data,this.createForm()},error:u=>console.log(u)})}createForm(){this.abExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.k0.required],consult_date:[null,a.k0.required],exposure_date:[null,a.k0.required],patient_ab_id:[null],animal_type_id:[null,a.k0.required],animal_type_remarks:[null],exposure_place:[null],bite_flag:[!1],animal_ownership_id:[null,a.k0.required],animal_vaccine_date:[null],feet_flag:[!1],leg_flag:[!1],arms_flag:[!1],hand_flag:[!1],knee_flag:[!1],neck_flag:[!1],head_flag:[!1],others_flag:[!1],al_remarks:[null],category_id:[null,a.k0.required],exposure_type_code:[null,a.k0.required],wash_flag:[!1],pep_flag:[!1],tandok_name:[null],tandok_date:[null],tandok_addresss:[null],remarks:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abExposure&&(this.abExposureForm.patchValue({...this.selected_ab_consult.abExposure}),this.abExposureForm.patchValue({consult_date:this.selected_ab_consult.consult_date?(0,c.Yq)(this.selected_ab_consult.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.selected_ab_consult.exposure_date?(0,c.Yq)(this.selected_ab_consult.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(t,s,n){this.http=t,this.toastr=s,this.formBuilder=n,this.updateSelectedAb=new e.bkB,this.faCircleNotch=r.s4k,this.faSave=f.hSh,this.abExposureForm=function ee(){return new a.gE({id:new a.MJ(null),patient_id:new a.MJ(null),consult_date:new a.MJ(null),exposure_date:new a.MJ(null),patient_ab_id:new a.MJ(null),animal_type_id:new a.MJ(null),animal_type_remarks:new a.MJ(null),exposure_place:new a.MJ(null),bite_flag:new a.MJ(!1),animal_ownership_id:new a.MJ(null),animal_vaccine_date:new a.MJ(null),feet_flag:new a.MJ(!1),leg_flag:new a.MJ(!1),arms_flag:new a.MJ(!1),hand_flag:new a.MJ(!1),knee_flag:new a.MJ(!1),neck_flag:new a.MJ(!1),head_flag:new a.MJ(!1),others_flag:new a.MJ(!1),al_remarks:new a.MJ(null),category_id:new a.MJ(null),exposure_type_code:new a.MJ(null),wash_flag:new a.MJ(!1),pep_flag:new a.MJ(!1),tandok_name:new a.MJ(null),tandok_date:new a.MJ(null),tandok_addresss:new a.MJ(null),remarks:new a.MJ(null)})}(),this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.show_form=!1,this.bite_locations=[{bite_code:"feet_flag",bite_desc:"Feet"},{bite_code:"leg_flag",bite_desc:"Leg"},{bite_code:"arms_flag",bite_desc:"Arms"},{bite_code:"hand_flag",bite_desc:"Hand"},{bite_code:"knee_flag",bite_desc:"Knee"},{bite_code:"neck_flag",bite_desc:"Neck"},{bite_code:"head_flag",bite_desc:"Head"},{bite_code:"others_flag",bite_desc:"Others"}]}ngOnChanges(t){this.patchData()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.k),e.rXU(b.tw),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ab-exposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},standalone:!1,features:[e.OA$],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gpa-y-2"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","exposure_place"],["type","text","name","exposure_place","id","exposure_place","formControlName","exposure_place",1,"input"],["for","bite_flag"],["name","bite_flag","id","bite_flag","formControlName","bite_flag",1,"input"],[3,"ngValue"],["for","animal_type_id"],["name","animal_type_id","id","animal_type_id","formControlName","animal_type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-3",4,"ngIf"],["for","animal_ownership_id"],["name","animal_ownership_id","id","animal_ownership_id","formControlName","animal_ownership_id",1,"input"],[1,"col-span-2"],["for","animal_vaccine_date"],["type","date","name","animal_vaccine_date","id","animal_vaccine_date","formControlName","animal_vaccine_date",1,"input",3,"max"],[1,"col-span-3","grid","grid-cols-3","gap-x-4"],[1,"col-span-3"],["class","mx-5",4,"ngFor","ngForOf"],["for","category_id"],["name","category_id","id","category_id","formControlName","category_id",1,"input"],["for","exposure_type_code"],["name","exposure_type_code","id","exposure_type_code","formControlName","exposure_type_code",1,"input"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","wash_flag"],["name","wash_flag","id","wash_flag","formControlName","wash_flag",1,"input"],["for","pep_flag"],["name","pep_flag","id","pep_flag","formControlName","pep_flag",1,"input"],["for","tandok_name"],["type","text","name","tandok_name","id","tandok_name","formControlName","tandok_name",1,"input"],["for","tandok_date"],["type","date","name","tandok_date","id","tandok_date","formControlName","tandok_date",1,"input",3,"max"],["for","tandok_addresss"],["type","text","name","tandok_addresss","id","tandok_addresss","formControlName","tandok_addresss",1,"input"],["for","remarks"],["type","text","name","remarks","id","remarks","formControlName","remarks",1,"input"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[3,"value"],["for","animal_type_remarks"],["type","text","name","animal_type_remarks","id","animal_type_remarks","formControlName","animal_type_remarks",1,"input"],[1,"mx-5"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-2"],["for","al_remarks"],["type","text","name","al_remarks","id","al_remarks","formControlName","al_remarks",1,"input"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["animation","spin",3,"icon"]],template:function(s,n){1&s&&e.DNE(0,re,101,22,"div",0)(1,de,6,1,"div",1),2&s&&(e.Y8G("ngIf",n.show_form),e.R7$(),e.Y8G("ngIf",!n.show_form))},dependencies:[c.Sq,c.bT,d.aY,a.qT,a.xH,a.y7,a.me,a.Zm,a.wz,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return o})();function me(o,i){if(1&o&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("ngValue",t.id),e.R7$(),e.JRh(t.desc)}}function fe(o,i){1&o&&(e.j41(0,"div",16),e.EFF(1," Death details "),e.k0s())}function be(o,i){if(1&o&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("ngValue",t.id),e.R7$(),e.JRh(t.desc)}}function ve(o,i){if(1&o&&(e.j41(0,"div",29)(1,"div")(2,"label",33),e.EFF(3,"Onset of Illness"),e.k0s(),e.nrm(4,"input",34),e.k0s(),e.j41(5,"div")(6,"label",35),e.EFF(7,"Date Died"),e.k0s(),e.nrm(8,"input",36),e.k0s(),e.j41(9,"div")(10,"label",37),e.EFF(11,"Place of Death"),e.k0s(),e.j41(12,"select",38),e.DNE(13,be,2,2,"option",24),e.k0s()(),e.j41(14,"div",39)(15,"label",40),e.EFF(16,"Clinical Manifestations"),e.k0s(),e.nrm(17,"input",41),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(4),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngForOf",t.death_places)}}function ge(o,i){if(1&o&&(e.j41(0,"form",14)(1,"div",15)(2,"div",16),e.EFF(3," Outcome "),e.k0s(),e.j41(4,"div",17)(5,"div")(6,"label",18),e.EFF(7,"Consultation Date"),e.k0s(),e.nrm(8,"input",19),e.k0s(),e.j41(9,"div")(10,"label",20),e.EFF(11,"Exposure Date"),e.k0s(),e.nrm(12,"input",21),e.k0s(),e.j41(13,"div")(14,"label",22),e.EFF(15,"Outcome"),e.k0s(),e.j41(16,"select",23),e.DNE(17,me,2,2,"option",24),e.k0s()(),e.j41(18,"div")(19,"label",25),e.EFF(20,"Outcome Date"),e.k0s(),e.nrm(21,"input",26),e.k0s()(),e.DNE(22,fe,2,0,"div",27)(23,ve,18,3,"div",28),e.j41(24,"div",16),e.EFF(25," Remarks "),e.k0s(),e.j41(26,"div",29)(27,"div")(28,"label",30),e.EFF(29,"Remarks"),e.k0s(),e.nrm(30,"input",31),e.k0s()()()()),2&o){const t=e.XpG();e.Y8G("formGroup",t.abForm),e.R7$(8),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngForOf",t.treatment_oucomes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(),e.Y8G("ngIf",3===t.abForm.value.ab_treatment_outcome_id),e.R7$(),e.Y8G("ngIf",3===t.abForm.value.ab_treatment_outcome_id)}}function he(o,i){if(1&o&&(e.j41(0,"div")(1,"div",42)(2,"div",43),e.nrm(3,"fa-icon",44),e.k0s(),e.j41(4,"div",43),e.EFF(5," Fetching libraries... "),e.k0s()()()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faCircleNotch)}}function ye(o,i){if(1&o&&e.nrm(0,"fa-icon",45),2&o){const t=e.XpG();e.Y8G("icon",t.faSave)}}function xe(o,i){if(1&o&&e.nrm(0,"fa-icon",44),2&o){const t=e.XpG();e.Y8G("icon",t.faCircleNotch)}}let Fe=(()=>{class o{onSubmit(){this.is_saving=!0,this.http.update("animal-bite/patient-ab/",this.selected_ab_consult.id,this.abForm.value).subscribe({next:t=>{this.saveComplete()},error:t=>console.log(t)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Outcome"),this.switchPage.emit(1),this.closeModal()}loadLibraries(){this.show_form=!1;const t=this.http.get("libraries/ab-outcome"),s=this.http.get("libraries/ab-death-place");(0,g.p)([t,s]).subscribe({next:([n,l])=>{this.treatment_oucomes=n.data,this.death_places=l.data,this.createForm()},error:n=>console.log(n)})}createForm(){this.abForm=this.formBuilder.group({id:[null],patient_id:[null],consult_date:[null],exposure_date:[null],ab_treatment_outcome_id:[null],date_outcome:[null],ab_death_place_id:[null],manifestations:[null],date_onset:[null],date_dies:[null],death_remarks:[null]}),console.log(this.selected_ab_consult),this.abForm.patchValue({...this.selected_ab_consult}),this.abForm.patchValue({consult_date:this.abForm.value.consult_date?(0,c.Yq)(this.abForm.value.consult_date,"yyyy-MM-dd","en","Asia/Manila"):null,exposure_date:this.abForm.value.exposure_date?(0,c.Yq)(this.abForm.value.exposure_date,"yyyy-MM-dd","en","Asia/Manila"):null,date_onset:this.abForm.value.date_onset?(0,c.Yq)(this.abForm.value.date_onset,"yyyy-MM-dd","en","Asia/Manila"):null,date_died:this.abForm.value.date_died?(0,c.Yq)(this.abForm.value.date_died,"yyyy-MM-dd","en","Asia/Manila"):null}),this.show_form=!0}closeModal(){this.toggleModal.emit("treatment_outcome")}get f(){return this.abForm.controls}constructor(t,s,n){this.formBuilder=t,this.http=s,this.toastr=n,this.getPatientTbHistory=new e.bkB,this.toggleModal=new e.bkB,this.switchPage=new e.bkB,this.faSave=f.hSh,this.faCircleNotch=r.s4k,this.is_saving=!1,this.show_form=!1,this.show_error=!1,this.required_message="Required field",this.abForm=function ue(){return new a.gE({id:new a.MJ(null),patient_id:new a.MJ(null),consult_date:new a.MJ(null),exposure_date:new a.MJ(null),ab_treatment_outcome_id:new a.MJ(null),date_outcome:new a.MJ(null),ab_death_place_id:new a.MJ(null),manifestations:new a.MJ(null),date_onset:new a.MJ(null),date_dies:new a.MJ(null),death_remarks:new a.MJ(null)})}()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(a.ok),e.rXU(m.k),e.rXU(b.tw))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ab-outcome"]],inputs:{selected_ab_consult:"selected_ab_consult",max_date:"max_date"},outputs:{getPatientTbHistory:"getPatientTbHistory",toggleModal:"toggleModal",switchPage:"switchPage"},standalone:!1,decls:17,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-orange-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-x-4","mx-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-2","gap-x-4","gpa-y-2"],["for","consult_date"],["type","date","name","consult_date","id","consult_date","formControlName","consult_date",1,"input",3,"max"],["for","exposure_date"],["type","date","name","exposure_date","id","exposure_date","formControlName","exposure_date",1,"input",3,"max"],["for","ab_treatment_outcome_id"],["name","ab_treatment_outcome_id","id","ab_treatment_outcome_id","formControlName","ab_treatment_outcome_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["for","date_outcome"],["type","date","name","date_outcome","id","date_outcome","formControlName","date_outcome",1,"input",3,"max"],["class","col-span-3 border-b border-slate-200 w-full my-2 font-semibold text-sky-500",4,"ngIf"],["class","col-span-3 grid grid-cols-3 gap-x-4 gap-y-2",4,"ngIf"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2"],["for","death_remarks"],["type","text","name","death_remarks","id","death_remarks","formControlName","death_remarks",1,"input"],[3,"ngValue"],["for","date_onset"],["type","date","name","date_onset","id","date_onset","formControlName","date_onset",1,"input",3,"max"],["for","date_dies"],["type","date","name","date_dies","id","date_dies","formControlName","date_dies",1,"input",3,"max"],["for","ab_death_place_id"],["name","ab_death_place_id","id","ab_death_place_id","formControlName","ab_death_place_id",1,"input"],[1,"col-span-3"],["for","manifestations"],["type","text","name","manifestations","id","manifestations","formControlName","manifestations",1,"input"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["animation","spin",3,"icon"],[3,"icon"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Treatment Outcome "),e.k0s()(),e.j41(6,"div",5),e.DNE(7,ge,31,7,"form",6)(8,he,6,1,"div",7),e.k0s(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return n.closeModal()}),e.EFF(11,"Close"),e.k0s(),e.j41(12,"button",10),e.bIt("click",function(){return n.onSubmit()}),e.DNE(13,ye,1,1,"fa-icon",11)(14,xe,1,1,"fa-icon",12),e.EFF(15),e.k0s()()()()(),e.nrm(16,"div",13)),2&s&&(e.R7$(7),e.Y8G("ngIf",n.show_form),e.R7$(),e.Y8G("ngIf",!n.show_form),e.R7$(4),e.Y8G("disabled",!n.show_form||n.is_saving||n.abForm.invalid),e.R7$(),e.Y8G("ngIf",!n.is_saving),e.R7$(),e.Y8G("ngIf",n.is_saving),e.R7$(),e.SpI(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[c.Sq,c.bT,d.aY,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return o})();function Ee(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function je(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Re(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ge(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function we(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ce(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function $e(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ye(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Me(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ae(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ne(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ie(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Te(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Pe(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function De(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Je(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Ve(o,i){if(1&o&&(e.j41(0,"option",72),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function Xe(o,i){if(1&o&&e.nrm(0,"fa-icon",73),2&o){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function Se(o,i){if(1&o&&e.nrm(0,"fa-icon",74),2&o){const t=e.XpG(2);e.Y8G("icon",t.faCircleNotch)}}function Oe(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",2)(1,"div",3),e.EFF(2," Post Exposure Record "),e.k0s(),e.j41(3,"div",4)(4,"form",5),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(5,"div",6)(6,"div",7),e.EFF(7," Post Exposure Details "),e.k0s(),e.j41(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e.EFF(12,"Status of Biting Animal"),e.k0s(),e.j41(13,"select",11),e.DNE(14,Ee,2,2,"option",12),e.k0s()(),e.j41(15,"div")(16,"label",13),e.EFF(17,"Date Killed/Died"),e.k0s(),e.nrm(18,"input",14),e.k0s()(),e.j41(19,"div")(20,"label",15),e.EFF(21,"RIG Type"),e.k0s(),e.j41(22,"select",16),e.DNE(23,je,2,2,"option",12),e.k0s()(),e.j41(24,"div")(25,"label",17),e.EFF(26,"RIG Date"),e.k0s(),e.nrm(27,"input",18),e.k0s()(),e.j41(28,"div",7),e.EFF(29," Vaccine Details "),e.k0s(),e.j41(30,"div",8)(31,"div")(32,"label",19),e.EFF(33,"Others"),e.k0s(),e.nrm(34,"input",20),e.k0s(),e.j41(35,"div")(36,"label",21),e.EFF(37,"Specify"),e.k0s(),e.nrm(38,"input",22),e.k0s(),e.j41(39,"div")(40,"label",23),e.EFF(41,"Route of Delivery"),e.k0s(),e.j41(42,"select",24)(43,"option",25),e.EFF(44,"-"),e.k0s(),e.DNE(45,Re,2,2,"option",12),e.k0s()(),e.j41(46,"div")(47,"label",26),e.EFF(48,"Day 0 Date"),e.k0s(),e.nrm(49,"input",27),e.k0s(),e.j41(50,"div")(51,"label",28),e.EFF(52,"Vaccine"),e.k0s(),e.j41(53,"select",29)(54,"option",25),e.EFF(55,"-"),e.k0s(),e.DNE(56,Ge,2,2,"option",12),e.k0s()(),e.j41(57,"div")(58,"label",30),e.EFF(59,"Route of Delivery"),e.k0s(),e.j41(60,"select",31)(61,"option",25),e.EFF(62,"-"),e.k0s(),e.DNE(63,we,2,2,"option",12),e.k0s()(),e.j41(64,"div")(65,"label",32),e.EFF(66,"Day 3 Date"),e.k0s(),e.nrm(67,"input",33),e.k0s(),e.j41(68,"div")(69,"label",34),e.EFF(70,"Vaccine"),e.k0s(),e.j41(71,"select",35)(72,"option",25),e.EFF(73,"-"),e.k0s(),e.DNE(74,Ce,2,2,"option",12),e.k0s()(),e.j41(75,"div")(76,"label",36),e.EFF(77,"Route of Delivery"),e.k0s(),e.j41(78,"select",37)(79,"option",25),e.EFF(80,"-"),e.k0s(),e.DNE(81,$e,2,2,"option",12),e.k0s()(),e.j41(82,"div")(83,"label",38),e.EFF(84,"Day 7 Date"),e.k0s(),e.nrm(85,"input",39),e.k0s(),e.j41(86,"div")(87,"label",40),e.EFF(88,"Vaccine"),e.k0s(),e.j41(89,"select",41)(90,"option",25),e.EFF(91,"-"),e.k0s(),e.DNE(92,Ye,2,2,"option",12),e.k0s()(),e.j41(93,"div")(94,"label",42),e.EFF(95,"Route of Delivery"),e.k0s(),e.j41(96,"select",43)(97,"option",25),e.EFF(98,"-"),e.k0s(),e.DNE(99,Me,2,2,"option",12),e.k0s()(),e.j41(100,"div")(101,"label",44),e.EFF(102,"Day 14 Date"),e.k0s(),e.nrm(103,"input",45),e.k0s(),e.j41(104,"div")(105,"label",46),e.EFF(106,"Vaccine"),e.k0s(),e.j41(107,"select",47)(108,"option",25),e.EFF(109,"-"),e.k0s(),e.DNE(110,Ae,2,2,"option",12),e.k0s()(),e.j41(111,"div")(112,"label",48),e.EFF(113,"Route of Delivery"),e.k0s(),e.j41(114,"select",49)(115,"option",25),e.EFF(116,"-"),e.k0s(),e.DNE(117,Ne,2,2,"option",12),e.k0s()(),e.j41(118,"div")(119,"label",50),e.EFF(120,"Day 28 Date"),e.k0s(),e.nrm(121,"input",51),e.k0s(),e.j41(122,"div")(123,"label",52),e.EFF(124,"Vaccine"),e.k0s(),e.j41(125,"select",53)(126,"option",25),e.EFF(127,"-"),e.k0s(),e.DNE(128,Ie,2,2,"option",12),e.k0s()(),e.j41(129,"div")(130,"label",54),e.EFF(131,"Route of Delivery"),e.k0s(),e.j41(132,"select",55)(133,"option",25),e.EFF(134,"-"),e.k0s(),e.DNE(135,Te,2,2,"option",12),e.k0s()(),e.j41(136,"div")(137,"label",56),e.EFF(138,"Booster 1 Date"),e.k0s(),e.nrm(139,"input",57),e.k0s(),e.j41(140,"div")(141,"label",58),e.EFF(142,"Vaccine"),e.k0s(),e.j41(143,"select",59)(144,"option",25),e.EFF(145,"-"),e.k0s(),e.DNE(146,Pe,2,2,"option",12),e.k0s()(),e.j41(147,"div")(148,"label",60),e.EFF(149,"Route of Delivery"),e.k0s(),e.j41(150,"select",61)(151,"option",25),e.EFF(152,"-"),e.k0s(),e.DNE(153,De,2,2,"option",12),e.k0s()(),e.j41(154,"div")(155,"label",62),e.EFF(156,"Booster 2 Date"),e.k0s(),e.nrm(157,"input",63),e.k0s(),e.j41(158,"div")(159,"label",64),e.EFF(160,"Vaccine"),e.k0s(),e.j41(161,"select",65)(162,"option",25),e.EFF(163,"-"),e.k0s(),e.DNE(164,Je,2,2,"option",12),e.k0s()(),e.j41(165,"div")(166,"label",66),e.EFF(167,"Route of Delivery"),e.k0s(),e.j41(168,"select",67)(169,"option",25),e.EFF(170,"-"),e.k0s(),e.DNE(171,Ve,2,2,"option",12),e.k0s()()()(),e.j41(172,"div",68)(173,"button",69),e.DNE(174,Xe,1,1,"fa-icon",70)(175,Se,1,1,"fa-icon",71),e.EFF(176),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("formGroup",t.abPostExposureForm),e.R7$(10),e.Y8G("ngForOf",t.animal_statuses),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngForOf",t.rig_types),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(7),e.Y8G("max",t.max_date),e.R7$(9),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(4),e.Y8G("max",t.max_date),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccines),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.vaccine_routes),e.R7$(2),e.Y8G("disabled",t.is_saving||t.abPostExposureForm.invalid),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.abPostExposureForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Be(o,i){if(1&o&&(e.j41(0,"div")(1,"div",75)(2,"div",76),e.nrm(3,"fa-icon",77),e.k0s(),e.j41(4,"div",76),e.EFF(5," Fetching post exposure record... "),e.k0s()()()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faCircleNotch)}}let He=(()=>{class o{onSubmit(){this.is_saving=!0,this.http.post("animal-bite/patient-ab-post-exposure",this.abPostExposureForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Post Exposure"),this.updateSelectedAb.emit(t)},error:t=>console.log(t)})}loadLibraries(){this.show_form=!1;const t=this.http.get("libraries/ab-animal-status"),s=this.http.get("libraries/ab-rig-type"),n=this.http.get("libraries/ab-vaccine"),l=this.http.get("libraries/ab-vaccine-route");(0,g.p)([t,s,n,l]).subscribe({next:([u,v,y,x])=>{this.animal_statuses=u.data,this.rig_types=v.data,this.vaccines=y.data,this.vaccine_routes=x.data,this.createForm()}})}createForm(){this.abPostExposureForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id,a.k0.required],patient_ab_id:[this.selected_ab_consult.id],weight:[null],animal_status_code:[null,a.k0.required],animal_status_date:[null],rig_type_code:[null,a.k0.required],rig_date:[null],booster1_date:[null],booster1_vaccine_code:[null],booster1_vaccine_route_code:[null],booster2_date:[null],booster2_vaccine_code:[null],booster2_vaccine_route_code:[null],other_vacc_date:[null],other_vacc_desc:[null],other_vacc_route_code:[null],day0_date:[null],day0_vaccine_code:[null],day0_vaccine_route_code:[null],day3_date:[null],day3_vaccine_code:[null],day3_vaccine_route_code:[null],day7_date:[null],day7_vaccine_code:[null],day7_vaccine_route_code:[null],day14_date:[null],day14_vaccine_code:[null],day14_vaccine_route_code:[null],day28_date:[null],day28_vaccine_code:[null],day28_vaccine_route_code:[null]}),this.patchData(),this.show_form=!0}patchData(){this.selected_ab_consult&&this.selected_ab_consult.abPostExposure&&(this.abPostExposureForm.patchValue({...this.selected_ab_consult.abPostExposure}),this.abPostExposureForm.patchValue({animal_status_date:this.abPostExposureForm.value.animal_status_date?(0,c.Yq)(this.abPostExposureForm.value.animal_status_date,"yyyy-MM-dd","en","Asia/Manila"):null,rig_type_date:this.abPostExposureForm.value.rig_type_date?(0,c.Yq)(this.abPostExposureForm.value.rig_type_date,"yyyy-MM-dd","en","Asia/Manila"):null,other_vacc_date:this.abPostExposureForm.value.other_vacc_date?(0,c.Yq)(this.abPostExposureForm.value.other_vacc_date,"yyyy-MM-dd","en","Asia/Manila"):null,day0_date:this.abPostExposureForm.value.day0_date?(0,c.Yq)(this.abPostExposureForm.value.day0_date,"yyyy-MM-dd","en","Asia/Manila"):null,day3_date:this.abPostExposureForm.value.day3_date?(0,c.Yq)(this.abPostExposureForm.value.day3_date,"yyyy-MM-dd","en","Asia/Manila"):null,day7_date:this.abPostExposureForm.value.day7_date?(0,c.Yq)(this.abPostExposureForm.value.day7_date,"yyyy-MM-dd","en","Asia/Manila"):null,day14_date:this.abPostExposureForm.value.day14_date?(0,c.Yq)(this.abPostExposureForm.value.day14_date,"yyyy-MM-dd","en","Asia/Manila"):null,day28_date:this.abPostExposureForm.value.day28_date?(0,c.Yq)(this.abPostExposureForm.value.day28_date,"yyyy-MM-dd","en","Asia/Manila"):null}))}constructor(t,s,n){this.http=t,this.toastr=s,this.formBuilder=n,this.updateSelectedAb=new e.bkB,this.show_form=!1,this.is_saving=!1,this.faCircleNotch=r.s4k,this.faSave=f.hSh,this.abPostExposureForm=function ke(){return new a.gE({id:new a.MJ(null),patient_id:new a.MJ(null),patient_ab_id:new a.MJ(null),weight:new a.MJ(null),animal_status_code:new a.MJ(null),animal_status_date:new a.MJ(null),rig_type_code:new a.MJ(null),rig_date:new a.MJ(null),booster1_date:new a.MJ(null),booster1_vaccine_code:new a.MJ(null),booster1_vaccine_route_code:new a.MJ(null),booster2_date:new a.MJ(null),booster2_vaccine_code:new a.MJ(null),booster2_vaccine_route_code:new a.MJ(null),other_vacc_date:new a.MJ(null),other_vacc_desc:new a.MJ(null),other_vacc_route_code:new a.MJ(null),day0_date:new a.MJ(null),day0_vaccine_code:new a.MJ(null),day0_vaccine_route_code:new a.MJ(null),day3_date:new a.MJ(null),day3_vaccine_code:new a.MJ(null),day3_vaccine_route_code:new a.MJ(null),day7_date:new a.MJ(null),day7_vaccine_code:new a.MJ(null),day7_vaccine_route_code:new a.MJ(null),day14_date:new a.MJ(null),day14_vaccine_code:new a.MJ(null),day14_vaccine_route_code:new a.MJ(null),day28_date:new a.MJ(null),day28_vaccine_code:new a.MJ(null),day28_vaccine_route_code:new a.MJ(null)})}(),this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnChanges(t){this.patchData()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.k),e.rXU(b.tw),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ab-postexposure"]],inputs:{patient_id:"patient_id",selected_ab_consult:"selected_ab_consult"},outputs:{updateSelectedAb:"updateSelectedAb"},standalone:!1,features:[e.OA$],decls:2,vars:2,consts:[["class","m-5 border border-slate-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"m-5","border","border-slate-200","rounded-lg"],[1,"bg-blue-500","text-white","rounded-t-md","py-2","pl-3","font-semibold"],[1,"mx-5","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-3","gap-x-4","w-full"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-x-4","gap-y-2","ml-5"],[1,"col-span-3","grid","grid-cols-2","gap-x-4"],["for","animal_status_code"],["name","animal_status_code","id","animal_status_code","formControlName","animal_status_code",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","animal_status_date"],["type","date","name","animal_status_date","id","animal_status_date","formControlName","animal_status_date",1,"input",3,"max"],["for","rig_type_code"],["name","rig_type_code","id","rig_type_code","formControlName","rig_type_code",1,"input"],["for","rig_date"],["type","date","name","rig_date","id","rig_date","formControlName","rig_date",1,"input",3,"max"],["for","other_vacc_date"],["type","date","name","other_vacc_date","id","other_vacc_date","formControlName","other_vacc_date",1,"input",3,"max"],["for","other_vacc_desc"],["type","text","name","other_vacc_desc","id","other_vacc_desc","formControlName","other_vacc_desc",1,"input"],["for","other_vacc_route_code"],["name","other_vacc_route_code","id","other_vacc_route_code","formControlName","other_vacc_route_code",1,"input"],[3,"ngValue"],["for","day0_date"],["type","date","name","day0_date","id","day0_date","formControlName","day0_date",1,"input",3,"max"],["for","day0_vaccine_code"],["name","day0_vaccine_code","id","day0_vaccine_code","formControlName","day0_vaccine_code",1,"input"],["for","day0_vaccine_route_code"],["name","day0_vaccine_route_code","id","day0_vaccine_route_code","formControlName","day0_vaccine_route_code",1,"input"],["for","day3_date"],["type","date","name","day3_date","id","day3_date","formControlName","day3_date",1,"input",3,"max"],["for","day3_vaccine_code"],["name","day3_vaccine_code","id","day3_vaccine_code","formControlName","day3_vaccine_code",1,"input"],["for","day3_vaccine_route_code"],["name","day3_vaccine_route_code","id","day3_vaccine_route_code","formControlName","day3_vaccine_route_code",1,"input"],["for","day7_date"],["type","date","name","day7_date","id","day7_date","formControlName","day7_date",1,"input",3,"max"],["for","day7_vaccine_code"],["name","day7_vaccine_code","id","day7_vaccine_code","formControlName","day7_vaccine_code",1,"input"],["for","day7_vaccine_route_code"],["name","day7_vaccine_route_code","id","day7_vaccine_route_code","formControlName","day7_vaccine_route_code",1,"input"],["for","day14_date"],["type","date","name","day14_date","id","day14_date","formControlName","day14_date",1,"input",3,"max"],["for","day14_vaccine_code"],["name","day14_vaccine_code","id","day14_vaccine_code","formControlName","day14_vaccine_code",1,"input"],["for","day14_vaccine_route_code"],["name","day14_vaccine_route_code","id","day14_vaccine_route_code","formControlName","day14_vaccine_route_code",1,"input"],["for","day28_date"],["type","date","name","day28_date","id","day28_date","formControlName","day28_date",1,"input",3,"max"],["for","day28_vaccine_code"],["name","day28_vaccine_code","id","day28_vaccine_code","formControlName","day28_vaccine_code",1,"input"],["for","day28_vaccine_route_code"],["name","day28_vaccine_route_code","id","day28_vaccine_route_code","formControlName","day28_vaccine_route_code",1,"input"],["for","booster1_date"],["type","date","name","booster1_date","id","booster1_date","formControlName","booster1_date",1,"input",3,"max"],["for","booster1_vaccine_code"],["name","booster1_vaccine_code","id","booster1_vaccine_code","formControlName","booster1_vaccine_code",1,"input"],["for","booster1_vaccine_route_code"],["name","booster1_vaccine_route_code","id","booster1_vaccine_route_code","formControlName","booster1_vaccine_route_code",1,"input"],["for","booster2_date"],["type","date","name","booster2_date","id","booster2_date","formControlName","booster2_date",1,"input",3,"max"],["for","booster2_vaccine_code"],["name","booster2_vaccine_code","id","booster2_vaccine_code","formControlName","booster2_vaccine_code",1,"input"],["for","booster2_vaccine_route_code"],["name","booster2_vaccine_route_code","id","booster2_vaccine_route_code","formControlName","booster2_vaccine_route_code",1,"input"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["animation","spin","class","mr-2",3,"icon",4,"ngIf"],[3,"value"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["animation","spin",3,"icon"]],template:function(s,n){1&s&&e.DNE(0,Oe,177,47,"div",0)(1,Be,6,1,"div",1),2&s&&(e.Y8G("ngIf",n.show_form),e.R7$(),e.Y8G("ngIf",!n.show_form))},dependencies:[c.Sq,c.bT,d.aY,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return o})();function qe(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchPage(2))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG();e.HbH(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(),e.SpI(" ",t.selected_ab_consult?"DETAILS":"NEW EXPOSURE"," ")}}function Ue(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchPage(3))}),e.EFF(1," ECLAIMS "),e.k0s()}if(2&o){const t=e.XpG();e.HbH(3===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function Le(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleModal("end_visit"))}),e.nrm(1,"fa-icon",16),e.EFF(2," End Visit "),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("icon",t.faDoorClosed)}}function ze(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(2))}),e.EFF(1," POST EXPOSURE "),e.k0s()}if(2&o){const t=e.XpG(2);e.HbH(2===t.module?"tabs-main-true":"tabs-main-false")}}function We(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(11))}),e.EFF(1," Diagnosis & Prescription "),e.k0s()}if(2&o){const t=e.XpG(2);e.HbH(11===t.module?"tabs-main-true":"tabs-main-false")}}function Ke(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(9))}),e.EFF(1," Supplies "),e.k0s()}if(2&o){const t=e.XpG(2);e.HbH(9===t.module?"tabs-main-true":"tabs-main-false")}}function Qe(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.switchTab(8))}),e.EFF(1," CASE RATE "),e.k0s()}if(2&o){const t=e.XpG(2);e.HbH(8===t.module?"tabs-main-true":"tabs-main-false")}}function Ze(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleModal("treatment_outcome"))}),e.EFF(1," Treatment Outcome "),e.k0s()}}function et(o,i){if(1&o){const t=e.RV6();e.j41(0,"nav",17)(1,"div",18)(2,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchTab(1))}),e.EFF(3," EXPOSURE DETAILS "),e.k0s(),e.DNE(4,ze,2,2,"button",20)(5,We,2,2,"button",20)(6,Ke,2,2,"button",20)(7,Qe,2,2,"button",20),e.k0s(),e.j41(8,"div",18),e.DNE(9,Ze,2,0,"button",21),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.HbH(1===t.module?"tabs-main-true":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.R7$(),e.Y8G("ngIf",t.selected_ab_consult),e.R7$(),e.Y8G("ngIf",t.selected_ab_consult),e.R7$(),e.Y8G("ngIf",null==t.selected_ab_consult?null:t.selected_ab_consult.id),e.R7$(2),e.Y8G("ngIf",t.selected_ab_consult&&!t.selected_ab_consult.date_outcome)}}function tt(o,i){1&o&&(e.j41(0,"div",28),e.EFF(1," There is an ongoing Animal Bite treatment for this patient on another facility. You are not allowed to create a new treatment or view previous treatment from other facilities. "),e.k0s())}function ot(o,i){if(1&o&&(e.j41(0,"div",29)(1,"div",30),e.nrm(2,"fa-icon",31),e.k0s(),e.j41(3,"div",32),e.EFF(4,"Fetching history..."),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.faCircleNotch)}}function at(o,i){1&o&&(e.j41(0,"td",44)(1,"div",45),e.EFF(2," No records to show... "),e.k0s()())}function nt(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,l=e.XpG(3);return e.Njj(l.openAbConsult(n))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.date_outcome?"View":"Open"," ")}}function it(o,i){if(1&o&&(e.j41(0,"tr",40),e.DNE(1,at,3,0,"td",41),e.j41(2,"td",42),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"td",42),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",42),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"td",42),e.EFF(12),e.k0s(),e.j41(13,"td",42),e.DNE(14,nt,2,1,"button",43),e.k0s()()),2&o){const t=i.$implicit,s=e.XpG(3);e.R7$(),e.Y8G("ngIf",!s.patient_ab_history),e.R7$(2),e.SpI(" ",e.brH(4,6,t.consult_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",e.brH(7,10,t.exposure_date,"MM/dd/yyyy","Asia/Manila")," "),e.R7$(3),e.SpI(" ",t.date_outcome?e.brH(10,14,t.date_outcome,"MM/dd/yyyy","Asia/Manila"):"-"," "),e.R7$(3),e.SpI(" ",t.ab_treatment_outcome?t.ab_treatment_outcome.desc:"-"," "),e.R7$(2),e.Y8G("ngIf",s.user_facility===t.facility_code)}}function st(o,i){if(1&o){const t=e.RV6();e.j41(0,"tr",47)(1,"td",48)(2,"div",49)(3,"div",50),e.EFF(4,"No records to show..."),e.k0s(),e.j41(5,"div",50)(6,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.switchPage(2))}),e.EFF(7," create record "),e.k0s()()()()()}}function lt(o,i){if(1&o&&(e.j41(0,"div",33)(1,"div",34),e.EFF(2," EXPOSURE HISTORY "),e.k0s(),e.j41(3,"div")(4,"table",35)(5,"thead",36)(6,"tr")(7,"th",37),e.EFF(8,"Consult Date"),e.k0s(),e.j41(9,"th",37),e.EFF(10,"Exposure Date"),e.k0s(),e.j41(11,"th",37),e.EFF(12,"Outcome Date"),e.k0s(),e.j41(13,"th",37),e.EFF(14,"Outcome"),e.k0s(),e.j41(15,"th",37),e.EFF(16,"Action"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,it,15,18,"tr",38)(19,st,8,0,"tr",39),e.k0s()()()()),2&o){const t=e.XpG(2);e.R7$(18),e.Y8G("ngForOf",t.patient_ab_history),e.R7$(),e.Y8G("ngIf",!t.patient_ab_history[0])}}function ct(o,i){if(1&o&&e.nrm(0,"app-ab-preexposure",52),2&o){const t=e.XpG(2);e.Y8G("patient_id",t.patient_id)}}function _t(o,i){if(1&o&&(e.j41(0,"div",23),e.DNE(1,tt,2,0,"div",24)(2,ot,5,1,"div",25)(3,lt,20,2,"div",26)(4,ct,1,1,"app-ab-preexposure",27),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.selected_ab_consult&&(null==t.selected_ab_consult?null:t.selected_ab_consult.facility_code)!==t.user_facility),e.R7$(),e.Y8G("ngIf",t.fetching_history),e.R7$(),e.Y8G("ngIf",!t.fetching_history&&t.patient_ab_history),e.R7$(),e.Y8G("ngIf",!t.fetching_history)}}function rt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-ab-exposure",53),e.bIt("updateSelectedAb",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.updateSelectedAb(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function dt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-ab-postexposure",53),e.bIt("updateSelectedAb",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.updateSelectedAb(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("patient_id",t.patient_id)("selected_ab_consult",t.selected_ab_consult)}}function pt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-end-visit",54),e.bIt("toggleModal",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("consult_id",null==t.consult_details?null:t.consult_details.id)("consult_date",null==t.consult_details?null:t.consult_details.consult_date)("patient_id",null==t.consult_details?null:t.consult_details.patient.id)("pt_group","tb")}}function ut(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-ab-outcome",55),e.bIt("toggleModal",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(n))})("switchPage",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.switchPage(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("selected_ab_consult",t.selected_ab_consult)("max_date",t.max_date)}}function mt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-caserate",56),e.bIt("switchPage",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.switchPage(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("patient_id",t.selected_ab_consult.patient_id)("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)}}function ft(o,i){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"app-final-dx",57),e.bIt("loadConsult",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.loadConsult(n))}),e.k0s(),e.j41(2,"app-prescription",58),e.bIt("loadConsult",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.loadConsult(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("toggle_content",t.toggle_content)("consult_details",t.consult_details)("have_complaint",t.have_complaint)("allowed_to_edit",t.allowed_to_edit),e.R7$(),e.Y8G("toggle_content",t.toggle_content)("consult_details",t.consult_details)("have_complaint",t.have_complaint)("allowed_to_edit",t.allowed_to_edit)("user_id",t.user_id)}}function bt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-supplies",59),e.bIt("switchPage",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.switchPage(n))})("loadConsult",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.loadConsult(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("toggle_content",t.toggle_content)("consult_details",t.consult_details)("allowed_to_edit",t.allowed_to_edit)("user_id",t.user_id)}}function vt(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-eclaims",60),e.bIt("switchPage",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.switchPage(n))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("program_id",t.selected_ab_consult.id)("program_name","ab")("max_date",t.max_date)("selected_case",t.selected_ab_consult)}}const gt=[{path:"",component:(()=>{class o{openAbConsult(t){console.log(t),this.selected_ab_consult=t,1===t.treatment_done&&(this.consult_details=null),console.log(this.consult_details),this.pages=2}getAbHistory(){this.selected_ab_consult=null,this.fetching_history=!0,this.http.get("animal-bite/patient-ab",{params:{patient_id:this.patient_id}}).subscribe({next:s=>{this.patient_ab_history=s.data,this.patient_ab_history[0]&&!this.patient_ab_history[0].ab_treatment_outcome&&(this.selected_ab_consult=s.data[0]),this.fetching_history=!1},error:s=>console.log(s)})}updateSelectedAb(t){console.log(t),this.selected_ab_consult=t.data[0]}get showEclaims(){return this.selected_ab_consult?.abPostExposure?.day0_date&&this.selected_ab_consult?.abPostExposure?.day3_date&&this.selected_ab_consult?.abPostExposure?.day7_date&&this.selected_ab_consult?.abPostExposure?.rig_date&&this.selected_ab_consult?.abPostExposure?.other_vacc_date}switchPage(t){1===t&&this.getAbHistory(),this.pages=t}switchTab(t){this.module=t}toggleModal(t){this.modals[t]=!this.modals[t]}loadConsult(){console.log("test"),this.http.get("consultation/records",{params:{id:this.consult_id,pt_group:"ab"}}).subscribe({next:s=>{this.consult_details=s.data[0],console.log(this.consult_details),this.getAbHistory()},error:s=>console.log(s)})}constructor(t,s){this.http=t,this.route=s,this.faPersonWalking=r.kH$,this.faDoorClosed=r.K_I,this.faCircleNotch=r.s4k,this.pages=1,this.module=1,this.show_end=!1,this.fetching_history=!0,this.toggle_content=!0,this.allowed_to_edit=!0,this.patient_ab_history=[],this.modals=[],this.max_date=(0,c.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila")}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadConsult()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.k),e.rXU(h.nX))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-animalbite"]],standalone:!1,decls:18,vars:15,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full",4,"ngIf"],[3,"patient_id","selected_ab_consult","updateSelectedAb",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"selected_ab_consult","max_date","toggleModal","switchPage",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[4,"ngIf"],[3,"toggle_content","consult_details","allowed_to_edit","user_id","switchPage","loadConsult",4,"ngIf"],[3,"program_id","program_name","max_date","selected_case","switchPage",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],["type","button","class","bg-rose-500 px-3 py-2  rounded text-white hover:opacity-75",3,"click",4,"ngIf"],["type","button",1,"bg-rose-500","px-3","py-2","rounded","text-white","hover:opacity-75",3,"click"],[1,"my-5","w-full"],["class","text-orange-800 border border-orange-400 bg-orange-100 rounded-md p-3 mb-2 w-full",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","mb-5 rounded-lg border border-slate-200",4,"ngIf"],["class","mt-5",3,"patient_id",4,"ngIf"],[1,"text-orange-800","border","border-orange-400","bg-orange-100","rounded-md","p-3","mb-2","w-full"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["animation","spin",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"mb-5","rounded-lg","border","border-slate-200"],[1,"bg-blue-500","text-white","p-3","font-semibold","rounded-t-lg","flex","justify-between"],[1,"w-full","text-sm","text-left","rounded-b-lg"],[1,"text-xs","uppercase"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white",4,"ngIf"],[1,"bg-white","border-b"],["colspan","7",4,"ngIf"],[1,"py-4","px-6"],["type","button","class","rounded-md bg-blue-500 text-white py-1 px-2",3,"click",4,"ngIf"],["colspan","7"],[1,"text-center"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],[1,"bg-white"],["colspan","7",1,"py-3"],[1,"text-center","flex","flex-col"],[1,"flex","justify-center"],["type","button",1,"mt-3","bg-blue-500","px-3","py-1","rounded-md","text-white","hover:opacity-75",3,"click"],[1,"mt-5",3,"patient_id"],[3,"updateSelectedAb","patient_id","selected_ab_consult"],[3,"toggleModal","consult_id","consult_date","patient_id","pt_group"],[3,"toggleModal","switchPage","selected_ab_consult","max_date"],[3,"switchPage","patient_id","program_id","program_name","max_date"],[3,"loadConsult","toggle_content","consult_details","have_complaint","allowed_to_edit"],[3,"loadConsult","toggle_content","consult_details","have_complaint","allowed_to_edit","user_id"],[3,"switchPage","loadConsult","toggle_content","consult_details","allowed_to_edit","user_id"],[3,"switchPage","program_id","program_name","max_date","selected_case"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"nav",1)(2,"button",2),e.bIt("click",function(){return n.switchPage(1)}),e.EFF(3," HISTORY "),e.k0s(),e.DNE(4,qe,2,3,"button",3)(5,Ue,2,2,"button",3),e.k0s(),e.j41(6,"div",4),e.DNE(7,Le,3,1,"button",5),e.k0s()(),e.DNE(8,et,10,7,"nav",6)(9,_t,5,4,"div",7)(10,rt,1,2,"app-ab-exposure",8)(11,dt,1,2,"app-ab-postexposure",8)(12,pt,1,4,"app-end-visit",9)(13,ut,1,2,"app-ab-outcome",10)(14,mt,1,4,"app-caserate",11)(15,ft,3,9,"div",12)(16,bt,1,4,"app-supplies",13)(17,vt,1,4,"app-eclaims",14)),2&s&&(e.R7$(2),e.HbH(1===n.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.R7$(2),e.Y8G("ngIf",!n.selected_ab_consult||(null==n.selected_ab_consult?null:n.selected_ab_consult.facility_code)===n.user_facility),e.R7$(),e.Y8G("ngIf",n.showEclaims&&(null==n.selected_ab_consult?null:n.selected_ab_consult.facility_code)===n.user_facility),e.R7$(2),e.Y8G("ngIf",!(null!=n.consult_details&&n.consult_details.consult_done)&&(null==n.consult_details?null:n.consult_details.facility.code)===n.user_facility),e.R7$(),e.Y8G("ngIf",2===n.pages),e.R7$(),e.Y8G("ngIf",1===n.pages),e.R7$(),e.Y8G("ngIf",2===n.pages&&1===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&2===n.module),e.R7$(),e.Y8G("ngIf",n.modals.end_visit),e.R7$(),e.Y8G("ngIf",n.modals.treatment_outcome),e.R7$(),e.Y8G("ngIf",2===n.pages&&8===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&11===n.module),e.R7$(),e.Y8G("ngIf",2===n.pages&&9===n.module),e.R7$(),e.Y8G("ngIf",3===n.pages))},dependencies:[c.Sq,c.bT,k.u,w.i,d.aY,E.G,j.W,R._,G.H,Z,pe,Fe,He,c.vh],encapsulation:2})}}return o})()}];let ht=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(gt),h.iI]})}}return o})();var yt=_(4959);let xt=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[c.MD,ht,k.u,yt.u,d.dX,a.X1,a.YN,E.G,j.W,R._,G.H]})}}return o})()}}]);