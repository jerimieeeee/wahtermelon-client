"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[416],{7416:(q,m,s)=>{s.r(m),s.d(m,{AccountsModule:()=>M});var l=s(6814),_=s(3602),d=s(590),e=s(5879),b=s(265),u=s(6223),f=s(5597);function h(n,a){if(1&n&&(e.TgZ(0,"button",17),e._UZ(1,"fa-icon",18),e._uU(2," Updating "),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.faSpinner)}}function x(n,a){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.value)}}function A(n,a){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20)(2,"ul",21),e.YNc(3,x,2,1,"li",22),e.ALo(4,"keyvalue"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.submit_error))}}const y=function(n){return{"bg-gray-50":n}},v=function(n){return{"text-red-500":n}},Z=function(n){return{"peer-checked:bg-gray-600":n}};function C(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",23)(1,"th",24),e._uU(2),e.qZA(),e.TgZ(3,"td",25),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",25),e._uU(7),e.qZA(),e.TgZ(8,"td",25),e._uU(9),e.qZA(),e.TgZ(10,"td",25),e._uU(11),e.qZA(),e.TgZ(12,"td",25)(13,"label",26)(14,"input",27),e.NdJ("ngModelChange",function(r){const c=e.CHM(t).index,p=e.oxw();return e.KtG(p.account_list[c].is_active=r)})("change",function(){const o=e.CHM(t).index,c=e.oxw();return e.KtG(c.updateActive(c.account_list[o],o))}),e.qZA(),e._UZ(15,"div",28),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.odd,r=a.index,o=e.oxw();e.Q6J("ngClass",e.VKq(17,y,i))("ngClass",e.VKq(19,v,!t.employer)),e.xp6(2),e.HOy(" ",t.last_name,", ",t.first_name," ","NA"===t.middle_name?"":t.middle_name," ","NA"===t.suffix_name?"":t.suffix_name," "),e.xp6(2),e.hij(" ",e.Dn7(5,13,t.birtdate,"MM/dd/yyyy","Asia/Manila")," "),e.xp6(3),e.hij(" ",t.gender," "),e.xp6(2),e.hij(" ",t.contact_number," "),e.xp6(2),e.hij(" ",t.email," "),e.xp6(3),e.Q6J("ngModel",o.account_list[r].is_active)("disabled",o.is_updating),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Z,o.is_updating))}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",29)(2,"div",30)(3,"div")(4,"p",31),e._uU(5," Showing "),e.TgZ(6,"span",32),e._uU(7),e.qZA(),e._uU(8," to "),e.TgZ(9,"span",32),e._uU(10),e.qZA(),e._uU(11," of "),e.TgZ(12,"span",32),e._uU(13),e.qZA(),e._uU(14," results "),e.qZA()(),e.TgZ(15,"div")(16,"nav",33)(17,"button",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadAccount(1))}),e._UZ(18,"fa-icon",35),e.qZA(),e.TgZ(19,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadAccount(r.current_page-1))}),e._UZ(20,"fa-icon",35),e._uU(21,"Previous "),e.qZA(),e.TgZ(22,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadAccount(r.current_page+1))}),e._uU(23," Next"),e._UZ(24,"fa-icon",37),e.qZA(),e.TgZ(25,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loadAccount(r.last_page))}),e._UZ(26,"fa-icon",37),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(4),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}const T=[{path:"",component:(()=>{var n;class a{loadAccount(i){let r={params:{}};this.search_item&&(r.params["filter[search]"]=this.search_item),i&&(r.params.page=i),r.params.per_page=this.per_page,console.log(r),this.http.get("users",r).subscribe({next:o=>{console.log(o.data),this.account_list=o.data,this.current_page=o.meta.current_page,this.last_page=o.meta.last_page,this.from=o.meta.from,this.to=o.meta.to,this.total=o.meta.total},error:o=>console.log(o)})}updateActive(i,r){this.is_updating=!0;let o=i;const c=o.id,p=o.email;o.birthdate=(0,l.p6)(o.birthdate,"yyyy-MM-dd","en","Asia/Manila"),o.employer_code=o.employer?o.employer.code:null,o.designation_code=o.designation?o.designation.code:null,o.facility_code=o.facility?o.facility.code:null,delete o.email,delete o.id,this.http.update("users/",c,o).subscribe({next:g=>{console.log(g),this.is_updating=!1,o.email=p},error:g=>{this.account_list[r].is_active=!o.is_active,this.submit_error=g.error.errors,o.email=p,this.is_updating=!1}})}constructor(i){this.http=i,this.faSpinner=d.LM3,this.faChevronLeft=d.A35,this.faChevronRight=d._tD,this.faAnglesLeft=d._Wx,this.faAnglesRight=d.ccb,this.faSearch=d.wn1,this.is_updating=!1,this.per_page=10}ngOnInit(){this.loadAccount()}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(b.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-accounts"]],decls:33,vars:6,consts:[[1,"my-10","flex","justify-center","w-full"],[1,"lg:w-4/6","md:w-5/6","bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],["class","text-white-500 bg-amber-500 active:bg-amber-300 hover:bg-amber-600 text-sm px-4 py-2 rounded hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",4,"ngIf"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"text-white-500","bg-amber-500","active:bg-amber-300","hover:bg-amber-600","text-sm","px-4","py-2","rounded","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150"],["spin","true",1,"mr-3",3,"icon"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],[1,"bg-white","border-t",3,"ngClass"],["scope","row",1,"py-4","px-6","font-medium","whitespace-nowrap"],[1,"py-4","px-6"],[1,"inline-flex","relative","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModel","disabled","ngModelChange","change"],[1,"w-14","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[8px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-blue-600","disabled:opacity-7",3,"ngClass"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," User accounts "),e.qZA(),e.TgZ(6,"div"),e.YNc(7,h,3,1,"button",5),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(c){return r.search_item=c})("keyup.enter",function(){return r.loadAccount()}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return r.loadAccount()}),e._UZ(11,"fa-icon",9),e.qZA()()(),e.YNc(12,A,5,3,"div",10),e.TgZ(13,"div")(14,"div",11)(15,"table",12)(16,"thead",13)(17,"tr")(18,"th",14),e._uU(19,"Name"),e.qZA(),e.TgZ(20,"th",14),e._uU(21,"Birthdate"),e.qZA(),e.TgZ(22,"th",14),e._uU(23,"Gender"),e.qZA(),e.TgZ(24,"th",14),e._uU(25,"Contact Number"),e.qZA(),e.TgZ(26,"th",14),e._uU(27,"Email Address"),e.qZA(),e.TgZ(28,"th",14),e._uU(29,"Active Status"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,C,16,23,"tr",15),e.qZA()()()()(),e.YNc(32,w,27,11,"div",16),e.qZA()()),2&i&&(e.xp6(7),e.Q6J("ngIf",r.is_updating),e.xp6(2),e.Q6J("ngModel",r.search_item),e.xp6(2),e.Q6J("icon",r.faSearch),e.xp6(1),e.Q6J("ngIf",r.submit_error),e.xp6(19),e.Q6J("ngForOf",r.account_list),e.xp6(1),e.Q6J("ngIf",(null==r.account_list?null:r.account_list.length)>=1))},dependencies:[l.mk,l.sg,l.O5,u.Fj,u.Wl,u.JJ,u.On,f.BN,l.uU,l.Nd]}),a})()}];let U=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(T),_.Bz]}),a})();var J=s(8839);let M=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[(0,J.e$)()],imports:[l.ez,U,u.u5,f.uH,u.UX]}),a})()}}]);