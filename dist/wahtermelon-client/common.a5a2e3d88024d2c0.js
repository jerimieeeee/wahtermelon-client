"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[592],{9366:(p,d,o)=>{o.d(d,{q:()=>l});var t=o(6895),u=o(2216),_=o(6205),s=o(433),a=o(2965),n=o(4346),e=o(1571);let l=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,u.uH,_.X,s.UX,s.u5,a.Tm,n.K]}),i})()},8696:(p,d,o)=>{o.d(d,{F:()=>n});var t=o(1571),u=o(4691),_=o(4553),s=o(7185),a=o(6895);let n=(()=>{class e{onSubmit(){let i;this.is_saving=!0,i=this.consult_date&&this.pt_group?{patient_id:this.patient_id,consult_date:this.consult_date,pt_group:this.pt_group,consult_done:!0}:{},this.http.update("consultation/records/",this.consult_id,i).subscribe({next:r=>{console.log(r),this.is_saving=!1,this.toastr.info("Visit was ended"),this.router.navigate(["/patient/itr",{id:this.patient_id}])},error:r=>console.log(r)})}constructor(i,r,c){this.http=i,this.router=r,this.toastr=c,this.toggleModal=new t.vpe,this.is_saving=!1}closeModal(){this.toggleModal.emit("end_visit")}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(u.O),t.Y36(_.F0),t.Y36(s._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-end-visit"]],inputs:{consult_id:"consult_id",consult_date:"consult_date",patient_id:"patient_id",pt_group:"pt_group"},outputs:{toggleModal:"toggleModal"},decls:20,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"h-40"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-3","py-3","mt-10","mx-10","w-full","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200","font-semibold","text-lg"],[1,"col-span-3","text-left","mb-2","pb-2","text-sm"],[1,"flex","justify-end","py-2","px-5","space-x-4","rounded-b"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-rose-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-rose-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," End Visit "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),t._uU(10," Do you really want to end this visit? "),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.ALo(13,"date"),t.qZA()()()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){return r.closeModal()}),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return r.onSubmit()}),t._uU(18,"End Visit"),t.qZA()()()()(),t._UZ(19,"div",13)),2&i&&(t.xp6(12),t.hij(" Visit date & time: ",t.xi3(13,2,r.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),t.xp6(5),t.Q6J("disabled",r.is_saving))},dependencies:[a.uU]}),e})()},4346:(p,d,o)=>{o.d(d,{I:()=>u,K:()=>_});var t=o(1571);let u=(()=>{class s{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(n){for(let e in n)n.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(n[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(n){let e=function(l){return`<link rel="stylesheet" type="text/css" href="${l}">`};if(-1!==n.indexOf(",")){const l=n.split(",");for(let i of l)this._styleSheetFile=this._styleSheetFile+e(i)}else this._styleSheetFile=e(n)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(n){const e=[],l=document.getElementsByTagName(n);for(let i=0;i<l.length;i++)e.push(l[i].outerHTML);return e.join("\r\n")}getFormData(n){for(var e=0;e<n.length;e++)n[e].defaultValue=n[e].value,n[e].checked&&(n[e].defaultChecked=!0)}getHtmlContents(){let n=document.getElementById(this.printSectionId),e=n.getElementsByTagName("input");this.getFormData(e);let l=n.getElementsByTagName("textarea");return this.getFormData(l),n.innerHTML}print(){let n,e,l="",i="";const r=this.getElementTag("base");this.useExistingCss&&(l=this.getElementTag("style"),i=this.getElementTag("link")),n=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${r}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${l}\n          ${i}\n        </head>\n        <body>\n          ${n}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=t.lG2({type:s,selectors:[["button","ngxPrint",""]],hostBindings:function(n,e){1&n&&t.NdJ("click",function(){return e.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),s})(),_=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})()}}]);