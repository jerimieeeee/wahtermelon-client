"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[198],{6198:(D,q,g)=>{g.d(q,{M:()=>Ta});var t=g(1571),x=g(4553),d=g(2687),y=g(9300),w=g(8505),m=g(4691),s=g(6895),c=g(2216);function M(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("family-history"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions["family-history"]?e.faChevronUp:e.faChevronDown)}}function k(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function U(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("(",e.history.length,")")}}function p(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function J(i,n){if(1&i&&(t.TgZ(0,"div",15)(1,"span",16),t._uU(2),t.qZA(),t.TgZ(3,"span",17),t._uU(4),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",e.libmedicalHistory.history_desc," "),t.xp6(2),t.hij(" ",e.remarks," ")}}function I(i,n){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,J,5,2,"div",14),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(1),t.Q6J("ngForOf",e.history)("ngForTrackBy",e.identify)}}function it(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,I,2,3,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions["family-history"])}}const ot=function(i){return{"opacity-70":i}};let H=(()=>{class i{loadData(e){this.http.get("patient-history/history",{params:{patient_id:e,category:"2"}}).subscribe({next:o=>{this.setFamilyMedical.emit(o.data),this.history=o.data},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setFamilyMedical=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faMinus=d.Kl4}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-family-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setFamilyMedical:"setFamilyMedical"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,M,1,1,"fa-icon",3),t.YNc(4,k,1,1,"fa-icon",4),t._uU(5," FAMILY MEDICAL HISTORY "),t.YNc(6,U,2,1,"span",5),t.qZA(),t.TgZ(7,"fa-icon",6),t.NdJ("click",function(){return o.modalToggle("fam-history")}),t.qZA()(),t.YNc(8,p,9,0,"div",5),t.YNc(9,it,2,1,"div",5),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(7,ot,0===(null==o.history?null:o.history.length)||!o.history)),t.xp6(1),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("ngIf",0===(null==o.history?null:o.history.length)||!o.history),t.xp6(2),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.history),t.xp6(1),t.Q6J("ngIf",o.history))},dependencies:[s.mk,s.sg,s.O5,c.BN]}),i})();function nt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9),t._UZ(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),t.qZA()()())}function at(i,n){if(1&i&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.laboratory.desc," ")}}function lt(i,n){if(1&i&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.request_date,"MM/dd/yyyy")," ")}}function rt(i,n){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,at,2,1,"span",15),t.YNc(2,lt,3,4,"span",16),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!e.result||"N"===e.result.lab_status_code),t.xp6(1),t.Q6J("ngIf",!e.result||"N"===e.result.lab_status_code)}}function st(i,n){if(1&i&&(t.TgZ(0,"div",12),t.YNc(1,rt,3,2,"div",13),t.qZA()),2&i){const e=t.oxw(3);t.Q6J("@openCloseAccordion",void 0),t.xp6(1),t.Q6J("ngForOf",e.lab_list)}}function dt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,st,2,2,"div",11),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.accordions.lab_request)}}function _t(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("lab_request"))}),t.qZA(),t._uU(4," LAB REQUESTS "),t.qZA(),t.TgZ(5,"span")(6,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalToggle("lab-request"))}),t._uU(7,"request"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navigate("lab"))}),t._uU(9,"open lab"),t.qZA()()(),t.YNc(10,nt,9,0,"div",7),t.YNc(11,dt,2,1,"div",7),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.accordions.lab_request?e.faChevronUp:e.faChevronDown),t.xp6(7),t.Q6J("ngIf",!e.lab_list),t.xp6(1),t.Q6J("ngIf",e.lab_list)}}let L=(()=>{class i{loadData(e){this.http.get("laboratory/consult-laboratories",{params:{patient_id:e,sort:"-request_date",include:"laboratory"}}).subscribe({next:a=>{this.lab_list=a.data,this.setLabList.emit(this.lab_list)},error:a=>console.log(a)})}getResults(){Object.entries(this.lab_list).forEach(([e,o],a)=>{let r=o,_=this.http.getURL(r.laboratory.code);""!==_?this.http.get(_,{params:{request_id:r.id}}).subscribe({next:u=>{this.lab_list[e].result=u.data[0],Object.keys(this.lab_list).length-1===a&&(this.show_form=!0,this.setLabList.emit(this.lab_list))},error:u=>console.log(u)}):Object.keys(this.lab_list).length-1===a&&(this.show_form=!0,this.setLabList.emit(this.lab_list))})}navigate(e){this.navigateTo.emit(e)}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e,o){this.http=e,this.router=o,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.navigateTo=new t.vpe,this.setLabList=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.lab_request=!1,this.show_form=!1,this.navigationEnd$=this.router.events.pipe((0,y.h)(a=>a instanceof x.m2),(0,w.b)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-laboratory"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",navigateTo:"navigateTo",setLabList:"setLabList"},decls:1,vars:1,consts:[["class","block pt-4 justify-items-start mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mr-2","bg-amber-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-amber-400",3,"click"],[1,"bg-green-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-green-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block pt-2",4,"ngIf"],[1,"block","pt-2"],["class","flex pl-3 justify-between items-center",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center"],["class","block font-medium text-xs",4,"ngIf"],["class","block text-xs",4,"ngIf"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(e,o){1&e&&t.YNc(0,_t,12,3,"div",0),2&e&&t.Q6J("ngIf","lab"!==(null==o.active_loc_id?null:o.active_loc_id.loc))},dependencies:[s.sg,s.O5,c.BN,s.uU]}),i})();function ct(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("menstrual"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions.menstrual?e.faChevronUp:e.faChevronDown)}}function pt(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function ut(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function mt(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"span",15),t._uU(3," Menarche "),t.qZA(),t.TgZ(4,"span",16),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"span",15),t._uU(8," Last menstrual period "),t.qZA(),t.TgZ(9,"span",16),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"div",14)(13,"span",15),t._uU(14," Period duration "),t.qZA(),t.TgZ(15,"span",16),t._uU(16),t.qZA()(),t.TgZ(17,"div",14)(18,"span",15),t._uU(19," Cycle "),t.qZA(),t.TgZ(20,"span",16),t._uU(21),t.qZA()(),t.TgZ(22,"div",14)(23,"span",15),t._uU(24," Pads/day "),t.qZA(),t.TgZ(25,"span",16),t._uU(26),t.qZA()(),t.TgZ(27,"div",14)(28,"span",15),t._uU(29," Onset sexual intercourse "),t.qZA(),t.TgZ(30,"span",16),t._uU(31),t.qZA()(),t.TgZ(32,"div",14)(33,"span",15),t._uU(34," FP method "),t.qZA(),t.TgZ(35,"span",16),t._uU(36),t.qZA()(),t.TgZ(37,"div",14)(38,"span",15),t._uU(39," Menopause "),t.qZA(),t.TgZ(40,"span",16),t._uU(41),t.qZA()(),t.TgZ(42,"div",14)(43,"span",15),t._uU(44," Menopause age "),t.qZA(),t.TgZ(45,"span",16),t._uU(46),t.qZA()()()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.menarche," "),t.xp6(5),t.hij(" ",t.xi3(11,10,null==e.menstrual_history?null:e.menstrual_history.lmp,"MM/dd/yyyy")," "),t.xp6(6),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.period_duration," "),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.cycle," "),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.pads_per_day," "),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.onset_sexual_intercourse," "),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.method," "),t.xp6(5),t.hij(" ",1===(null==e.menstrual_history?null:e.menstrual_history.menopause)?"Yes":"No"," "),t.xp6(5),t.hij(" ",null==e.menstrual_history?null:e.menstrual_history.menopause_age," ")}}function gt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,mt,47,13,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.menstrual)}}const ht=function(i){return{"opacity-70":i}};let S=(()=>{class i{loadData(e){this.http.get("patient-menstrual-history/history",{params:{patient_id:e}}).subscribe({next:o=>{this.setMenstrual.emit(o.data),this.show_form=!0,this.menstrual_history=o.data[0]},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setMenstrual=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faMinus=d.Kl4,this.show_form=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-menstrual-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setMenstrual:"setMenstrual"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,ct,1,1,"fa-icon",3),t.YNc(4,pt,1,1,"fa-icon",4),t._uU(5," MENSTRUAL HISTORY "),t.qZA(),t.TgZ(6,"fa-icon",5),t.NdJ("click",function(){return o.modalToggle("menstrual")}),t.qZA()(),t.YNc(7,ut,9,0,"div",6),t.YNc(8,gt,2,1,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(6,ht,!o.menstrual_history)),t.xp6(1),t.Q6J("ngIf",o.menstrual_history),t.xp6(1),t.Q6J("ngIf",!o.menstrual_history),t.xp6(2),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.show_form),t.xp6(1),t.Q6J("ngIf",o.show_form))},dependencies:[s.mk,s.O5,c.BN,s.uU]}),i})();function ft(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("history"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions.history?e.faChevronUp:e.faChevronDown)}}function vt(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function bt(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("(",e.history.length,")")}}function xt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function yt(i,n){if(1&i&&(t.TgZ(0,"div",15)(1,"span",16),t._uU(2),t.qZA(),t.TgZ(3,"span",17),t._uU(4),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",e.libmedicalHistory.history_desc," "),t.xp6(2),t.hij(" ",e.remarks," ")}}function Zt(i,n){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,yt,5,2,"div",14),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(1),t.Q6J("ngForOf",e.history)("ngForTrackBy",e.identify)}}function wt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Zt,2,3,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.history)}}const Tt=function(i){return{"opacity-70":i}};let E=(()=>{class i{loadData(e){this.http.get("patient-history/history",{params:{patient_id:e,category:"1"}}).subscribe({next:o=>{this.setPastMedical.emit(o.data),this.history=o.data},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setPastMedical=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faMinus=d.Kl4}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-past-medical"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setPastMedical:"setPastMedical"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,ft,1,1,"fa-icon",3),t.YNc(4,vt,1,1,"fa-icon",4),t._uU(5," PAST MEDICAL HISTORY "),t.YNc(6,bt,2,1,"span",5),t.qZA(),t.TgZ(7,"fa-icon",6),t.NdJ("click",function(){return o.modalToggle("history")}),t.qZA()(),t.YNc(8,xt,9,0,"div",5),t.YNc(9,wt,2,1,"div",5),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(7,Tt,0===(null==o.history?null:o.history.length)||!o.history)),t.xp6(1),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("ngIf",0===(null==o.history?null:o.history.length)||!o.history),t.xp6(2),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.history),t.xp6(1),t.Q6J("ngIf",o.history))},dependencies:[s.mk,s.sg,s.O5,c.BN]}),i})();function Ct(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalToggle("philhealth-list"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.faTableList)}}const kt=function(i){return{"text-red-500":i}};let K=(()=>{class i{loadData(e){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":e,per_page:"1",sort:"-enlistment_date"}}).subscribe({next:o=>{this.philhealth_info=o.data[0],this.http.setPhilhealhtInfo(this.philhealth_info),this.setDetails.emit({var_name:"philhealth_details",data:o.data[0]}),this.show_philhealth=!0},error:o=>console.log(o)})}get philhealthColor(){return!!this.philhealth_info&&(0,s.p6)(this.philhealth_info.enlistment_date,"yyyy","en")<(0,s.p6)(new Date,"yyyy","en")}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setDetails=new t.vpe,this.faPlusCircle=d.KtF,this.faTableList=d.u7T,this.show_philhealth=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-philhealth"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:17,vars:11,consts:[[1,"mt-4","leading-tight"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"grid","grid-cols-2","pl-3","w-full",3,"ngClass"],[1,"col-span-1","text-xs"],[1,"col-span-1","text-xs","text-right"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"icon","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3," PHILHEALTH "),t.qZA(),t.TgZ(4,"span"),t.YNc(5,Ct,1,1,"fa-icon",3),t.TgZ(6,"fa-icon",4),t.NdJ("click",function(){return o.modalToggle("philhealth")}),t.qZA()()(),t.TgZ(7,"div",5)(8,"span",6),t._uU(9),t.qZA(),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",6),t._uU(14," ATC "),t.qZA(),t.TgZ(15,"span",7),t._uU(16),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.philhealth_info),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngClass",t.VKq(9,kt,o.philhealthColor)),t.xp6(2),t.hij(" ",null==o.philhealth_info?null:o.philhealth_info.philhealth_id," "),t.xp6(2),t.hij(" ",t.xi3(12,6,null==o.philhealth_info?null:o.philhealth_info.enlistment_date,"MM/dd/yyyy")," "),t.xp6(5),t.hij(" ",null==o.philhealth_info?null:o.philhealth_info.authorization_transaction_code," "))},dependencies:[s.mk,s.O5,c.BN,s.uU]}),i})();function Mt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("preghist"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions.preghist?e.faChevronUp:e.faChevronDown)}}function At(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function qt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function Ut(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"span",15),t._uU(3," FPAL "),t.qZA(),t.TgZ(4,"span",16),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"span",15),t._uU(8," GP "),t.qZA(),t.TgZ(9,"span",16),t._uU(10),t.qZA()(),t.TgZ(11,"div",14)(12,"span",15),t._uU(13," Delivery method "),t.qZA(),t.TgZ(14,"span",16),t._uU(15),t.qZA()(),t.TgZ(16,"div",14)(17,"span",15),t._uU(18," With family planning "),t.qZA(),t.TgZ(19,"span",16),t._uU(20),t.qZA()(),t.TgZ(21,"div",14)(22,"span",15),t._uU(23," Induced hypertension "),t.qZA(),t.TgZ(24,"span",16),t._uU(25),t.qZA()()()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(5),t.HOy(" ",null==e.pregnancy_history?null:e.pregnancy_history.full_term,", ",null==e.pregnancy_history?null:e.pregnancy_history.preterm,", ",null==e.pregnancy_history?null:e.pregnancy_history.abortion,", ",null==e.pregnancy_history?null:e.pregnancy_history.livebirths," "),t.xp6(5),t.AsE(" ",null==e.pregnancy_history?null:e.pregnancy_history.gravidity,", ",null==e.pregnancy_history?null:e.pregnancy_history.parity," "),t.xp6(5),t.hij(" ",null==e.pregnancy_history?null:e.pregnancy_history.libPregnancyDeliveryType.desc," "),t.xp6(5),t.hij(" ",null==e.pregnancy_history?null:e.pregnancy_history.withFamilyPlanning.desc," "),t.xp6(5),t.hij(" ",null==e.pregnancy_history?null:e.pregnancy_history.inducedHypertension.desc," ")}}function It(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ut,26,10,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.preghist)}}const Jt=function(i){return{"opacity-70":i}};let G=(()=>{class i{loadData(e){this.http.get("patient-pregnancy-history/history",{params:{patient_id:e}}).subscribe({next:o=>{this.show_form=!0,this.pregnancy_history=o.data[0],this.setDetails.emit({var_name:"pregnancy_history",data:this.pregnancy_history})},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setDetails=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faMinus=d.Kl4,this.show_form=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-preghist"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,Mt,1,1,"fa-icon",3),t.YNc(4,At,1,1,"fa-icon",4),t._uU(5," PREGNANCY HISTORY "),t.qZA(),t.TgZ(6,"fa-icon",5),t.NdJ("click",function(){return o.modalToggle("preghist")}),t.qZA()(),t.YNc(7,qt,9,0,"div",6),t.YNc(8,It,2,1,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(6,Jt,!o.pregnancy_history)),t.xp6(1),t.Q6J("ngIf",o.pregnancy_history),t.xp6(1),t.Q6J("ngIf",!o.pregnancy_history),t.xp6(2),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.show_form),t.xp6(1),t.Q6J("ngIf",o.show_form))},dependencies:[s.mk,s.O5,c.BN]}),i})(),Nt=(()=>{class i{constructor(){this.faMinus=d.Kl4}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pregnancy-history"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"pregnancy-history works!"),t.qZA())}}),i})();function Qt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",7)(2,"div",8),t._UZ(3,"div",9)(4,"div",9)(5,"div",9)(6,"div",9)(7,"div",9)(8,"div",9),t.qZA()()())}function Ft(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",e.konsulta_medicine?e.konsulta_medicine.desc:e.added_medicine," "),t.xp6(2),t.hij(" ",e.quantity," ")}}function Pt(i,n){if(1&i&&(t.TgZ(0,"div",11),t.YNc(1,Ft,5,2,"div",12),t.qZA()),2&i){const e=t.oxw(3);t.Q6J("@openCloseAccordion",void 0),t.xp6(1),t.Q6J("ngForOf",e.prescriptions)("ngForTrackBy",e.identify)}}function Yt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Pt,2,3,"div",10),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.accordions.prescriptions)}}function jt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"span",3)(3,"fa-icon",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("prescriptions"))}),t.qZA(),t._uU(4," PRESCRIPTIONS "),t.qZA(),t.TgZ(5,"span")(6,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navigate("dispensing"))}),t._uU(7,"dispensing"),t.qZA()()(),t.YNc(8,Qt,9,0,"div",6),t.YNc(9,Yt,2,1,"div",6),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.accordions.prescriptions?e.faChevronUp:e.faChevronDown),t.xp6(5),t.Q6J("ngIf",!e.prescriptions),t.xp6(1),t.Q6J("ngIf",e.prescriptions)}}let B=(()=>{class i{toggle(e){this.toggleAccordion.emit(e)}navigate(e){this.navigateTo.emit(e)}identify(e,o){return o.id}loadData(e){this.http.get("medicine/prescriptions",{params:{patient_id:e,status:"dispensing"}}).subscribe({next:a=>{this.prescriptions=a.data},error:a=>console.log(a)})}loadPrescriptions(){this.patient_info&&this.http.get("medicine/prescriptions",{params:{patient_id:this.patient_info.id,status:"dispensing"}}).subscribe({next:o=>{console.log(o.data),this.prescriptions=o.data},error:o=>console.log(o)})}constructor(e,o){this.http=e,this.router=o,this.toggleAccordion=new t.vpe,this.navigateTo=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.libraries={konsulta_medicine_code:{var_name:"medicine_desc",location:"konsulta-medicines",value:""}},this.no_pres_form=["dispensing","cn"],this.navigationEnd$=this.router.events.pipe((0,y.h)(a=>a instanceof x.m2),(0,w.b)(()=>{this.active_loc_id=this.http.getUrlParams()}))}ngOnInit(){this.active_loc_id=this.http.getUrlParams(),this.navi_end=this.navigationEnd$.subscribe()}ngOnDestroy(){this.navi_end.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-prescriptions"]],inputs:{accordions:"accordions",consult_id:"consult_id",patient_info:"patient_info"},outputs:{toggleAccordion:"toggleAccordion",navigateTo:"navigateTo"},decls:1,vars:1,consts:[["class","block pt-4 justify-items-start mx-5 pb-5",4,"ngIf"],[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"bg-blue-500","text-xs","text-white","px-3","py-1","rounded-md","hover:ring-2","hover:ring-blue-400",3,"click"],[4,"ngIf"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1 border-dashed border-b border-slate-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1","border-dashed","border-b","border-slate-200"],[1,"block","font-medium","text-xs","w-10/12"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(e,o){1&e&&t.YNc(0,jt,10,3,"div",0),2&e&&t.Q6J("ngIf",-1===o.no_pres_form.indexOf(null==o.active_loc_id?null:o.active_loc_id.loc))},dependencies:[s.sg,s.O5,c.BN]}),i})();function Vt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("lifestyle"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions.lifestyle?e.faChevronUp:e.faChevronDown)}}function Ot(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function Dt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function Ht(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"span",15),t._uU(3," Smoker "),t.qZA(),t.TgZ(4,"span",16),t._uU(5),t.qZA()(),t.TgZ(6,"div",14)(7,"span",15),t._uU(8," Pack year "),t.qZA(),t.TgZ(9,"span",16),t._uU(10),t.qZA()(),t.TgZ(11,"div",14)(12,"span",15),t._uU(13," Alcohol "),t.qZA(),t.TgZ(14,"span",16),t._uU(15),t.qZA()(),t.TgZ(16,"div",14)(17,"span",15),t._uU(18," Bottle per day "),t.qZA(),t.TgZ(19,"span",16),t._uU(20),t.qZA()(),t.TgZ(21,"div",14)(22,"span",15),t._uU(23," Illicit drugs "),t.qZA(),t.TgZ(24,"span",16),t._uU(25),t.qZA()(),t.TgZ(26,"div",14)(27,"span",15),t._uU(28," Sexually Active "),t.qZA(),t.TgZ(29,"span",16),t._uU(30),t.qZA()()()),2&i){const e=t.oxw(2);let o,a;t.Q6J("@openCloseAccordion",void 0),t.xp6(5),t.hij(" ",null==e.social_history?null:e.social_history.smoking," "),t.xp6(5),t.hij(" ",null!==(o=null==e.social_history?null:e.social_history.pack_per_year)&&void 0!==o?o:"-"," "),t.xp6(5),t.hij(" ",null==e.social_history?null:e.social_history.alcohol," "),t.xp6(5),t.hij(" ",null!==(a=null==e.social_history?null:e.social_history.bottles_per_day)&&void 0!==a?a:"-"," "),t.xp6(5),t.hij(" ",null==e.social_history?null:e.social_history.illicit_drugs," "),t.xp6(5),t.hij(" ",null==e.social_history?null:e.social_history.sexually_active," ")}}function Lt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ht,31,7,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.lifestyle)}}const St=function(i){return{"opacity-70":i}};let R=(()=>{class i{loadData(e){this.http.get("patient-social-history/history",{params:{patient_id:e}}).subscribe({next:o=>{this.social_history=0!==o.data.length?o.data[0]:[],this.setDetails.emit({var_name:"social_history",data:this.social_history})},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setDetails=new t.vpe,this.faPlusCircle=d.KtF,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faMinus=d.Kl4}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-social-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setDetails:"setDetails"},decls:9,vars:8,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,Vt,1,1,"fa-icon",3),t.YNc(4,Ot,1,1,"fa-icon",4),t._uU(5," LIFESTYLE "),t.qZA(),t.TgZ(6,"fa-icon",5),t.NdJ("click",function(){return o.modalToggle("lifestyle")}),t.qZA()(),t.YNc(7,Dt,9,0,"div",6),t.YNc(8,Lt,2,1,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(6,St,!o.social_history)),t.xp6(1),t.Q6J("ngIf",o.social_history),t.xp6(1),t.Q6J("ngIf",!o.social_history),t.xp6(2),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.social_history),t.xp6(1),t.Q6J("ngIf",o.social_history))},dependencies:[s.mk,s.O5,c.BN]}),i})();function Et(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("surgical-history"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions["surgical-history"]?e.faChevronUp:e.faChevronDown)}}function Kt(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function Gt(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("(",e.history.length,")")}}function Bt(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function Rt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"span",16)(2,"fa-icon",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw(3);return t.KtG(_.modalToggle("surgical-action",r))}),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"span",18),t._uU(5),t.ALo(6,"date"),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(2),t.Q6J("icon",o.faTrashCan),t.xp6(1),t.hij(" ",e.operation," "),t.xp6(2),t.hij(" ",t.xi3(6,3,e.operation_date,"MM/dd/yyyy")," ")}}function zt(i,n){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Rt,7,6,"div",14),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(1),t.Q6J("ngForOf",e.history)("ngForTrackBy",e.identify)}}function $t(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,zt,2,3,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions["surgical-history"])}}const Wt=function(i){return{"opacity-70":i}};let z=(()=>{class i{loadData(e){this.http.get("patient-surgical-history/history",{params:{patient_id:e,category:"1"}}).subscribe({next:o=>{this.setSurgicalHistory.emit(o.data),this.history=o.data},error:o=>console.log(o)})}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e,o){this.toggleModal.emit({modal_name:e,data:o})}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setSurgicalHistory=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faTrashCan=d.Vui,this.faMinus=d.Kl4}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-surgical-history"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setSurgicalHistory:"setSurgicalHistory"},decls:10,vars:9,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 text-gray-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 text-gray-500 mr-2",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-gray-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],["class","flex pl-3 justify-between items-center mt-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","pl-3","justify-between","items-center","mt-1"],[1,"block","font-medium","text-xs","w-10/12"],[1,"text-rose-500","hover:cursor-pointer",3,"icon","click"],[1,"block","text-xs","w-2/12","align-top","text-right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,Et,1,1,"fa-icon",3),t.YNc(4,Kt,1,1,"fa-icon",4),t._uU(5," SURGICAL HISTORY "),t.YNc(6,Gt,2,1,"span",5),t.qZA(),t.TgZ(7,"fa-icon",6),t.NdJ("click",function(){return o.modalToggle("surgical-history")}),t.qZA()(),t.YNc(8,Bt,9,0,"div",5),t.YNc(9,$t,2,1,"div",5),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(7,Wt,0===(null==o.history?null:o.history.length)||!o.history)),t.xp6(1),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("ngIf",0===(null==o.history?null:o.history.length)||!o.history),t.xp6(2),t.Q6J("ngIf",(null==o.history?null:o.history.length)>=1),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.history),t.xp6(1),t.Q6J("ngIf",o.history))},dependencies:[s.mk,s.sg,s.O5,c.BN,s.uU]}),i})();function Xt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle("vaccines"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.accordions.vaccines?e.faChevronUp:e.faChevronDown)}}function te(i,n){if(1&i&&t._UZ(0,"fa-icon",8),2&i){const e=t.oxw();t.Q6J("icon",e.faMinus)}}function ee(i,n){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"div",11)(6,"div",11)(7,"div",11)(8,"div",11),t.qZA()()())}function ie(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"fa-icon",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw(3);return t.KtG(_.toggleActionModal("vaccine-action",r))}),t.qZA(),t.TgZ(2,"span",15)(3,"span",22),t._uU(4),t.qZA(),t._UZ(5,"br"),t._uU(6),t.qZA(),t.TgZ(7,"span",18),t._uU(8),t.ALo(9,"date"),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("icon",o.faPenToSquare),t.xp6(3),t.AsE("",e.vaccine_id," - ",e.dose," Dose"),t.xp6(2),t.hij("(",1===e.status_id?"Done":2===e.status_id?"Done Outside - Private":"Done Outside - Public",") "),t.xp6(2),t.hij(" ",e.vaccine_date?t.xi3(9,5,e.vaccine_date,"MM/dd/yyyy"):"-"," ")}}function oe(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"span",15)(3,"span",16),t._uU(4,"IMMUNIZATION STATUS: "),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",17),t._uU(7),t.qZA()(),t.TgZ(8,"span",18),t._UZ(9,"br"),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.YNc(12,ie,10,8,"div",19),t.qZA()),2&i){const e=t.oxw(2);let o;t.Q6J("@openCloseAccordion",void 0),t.xp6(7),t.Oqu(null!==(o=null==e.immunization_status?null:e.immunization_status.immunization_status)&&void 0!==o?o:"-"),t.xp6(3),t.Oqu(null!=e.immunization_status&&e.immunization_status.immunization_status?t.xi3(11,4,null==e.immunization_status?null:e.immunization_status.vaccine_date,"MM/dd/yyyy"):"-"),t.xp6(2),t.Q6J("ngForOf",e.vaccine_list)}}function ne(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,oe,13,7,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.vaccines)}}const ae=function(i){return{"opacity-70":i}};let $=(()=>{class i{loadData(e){this.http.get("patient-vaccines/vaccines-records",{params:{patient_id:e,sort:"-vaccine_date"}}).subscribe({next:o=>{this.vaccine_list=o.data,this.immunization_status=o.status,this.checkVaccineStatus(this.vaccine_list)},error:o=>{console.log(o)}})}checkVaccineStatus(e){var o=[];Object.entries(e).reverse().forEach(([a,r],_)=>{var u=r;o[u.vaccines.vaccine_id]||(o[u.vaccines.vaccine_id]=[]);let v={id:u.id,vaccine_id:u.vaccines.vaccine_id,vaccine_date:u.vaccine_date,dose:this.getNumberSuffix(Object.keys(o[u.vaccines.vaccine_id]).length+1)};o[u.vaccines.vaccine_id][u.id]=v,this.vaccine_list[a].dose=o[u.vaccines.vaccine_id][u.id].dose}),this.vaccines_given=o,this.setVaccineGiven.emit(this.vaccines_given),this.show_vaccines=!0}toggleActionModal(e,o){this.toggleModal.emit({modal_name:e,data:o})}getNumberSuffix(e){var o=e%10,a=e%100;return 1==o&&11!=a?e+"st":2==o&&12!=a?e+"nd":3==o&&13!=a?e+"rd":e+"th"}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){console.log(this.vaccines_given),this.toggleModal.emit({modal_name:e,data:this.vaccines_given})}constructor(e){this.http=e,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setVaccineGiven=new t.vpe,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faPlusCircle=d.KtF,this.faPenToSquare=d.Yai,this.faMinus=d.Kl4,this.vaccine_list=[],this.show_vaccines=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vaccine"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVaccineGiven:"setVaccineGiven"},decls:9,vars:9,consts:[[1,"block","justify-items-start","mx-5","mb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm","select-none",3,"ngClass"],["class","mx-0 my-0 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],["class","mx-0 my-0 mr-2",3,"icon",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center","mb-5","border-b","border-b-gray-100"],[1,"font-medium","text-xs","flex-auto"],[1,"font-semibold"],[1,"font-bold","text-l"],[1,"italic","text-xs","flex-auto","text-right"],["class","flex pl-3 justify-between items-center mb-3 border-b border-b-gray-100",4,"ngFor","ngForOf"],[1,"flex","pl-3","justify-between","items-center","mb-3","border-b","border-b-gray-100"],[1,"mx-0","my-0","text-amber-400","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[1,"font-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.YNc(3,Xt,1,1,"fa-icon",3),t.YNc(4,te,1,1,"fa-icon",4),t._uU(5),t.qZA(),t.TgZ(6,"fa-icon",5),t.NdJ("click",function(){return o.modalToggle("vaccine")}),t.qZA()(),t.YNc(7,ee,9,0,"div",6),t.YNc(8,ne,2,1,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(7,ae,0===(null==o.vaccine_list?null:o.vaccine_list.length)||!o.vaccine_list)),t.xp6(1),t.Q6J("ngIf",(null==o.vaccine_list?null:o.vaccine_list.length)>0),t.xp6(1),t.Q6J("ngIf",0===(null==o.vaccine_list?null:o.vaccine_list.length)||!o.vaccine_list),t.xp6(1),t.hij(" VACCINES ",(null==o.vaccine_list?null:o.vaccine_list.length)>0?"("+o.vaccine_list.length+")":""," "),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.show_vaccines),t.xp6(1),t.Q6J("ngIf",o.show_vaccines&&(null==o.vaccine_list?null:o.vaccine_list.length)>0))},dependencies:[s.mk,s.sg,s.O5,c.BN,s.uU]}),i})();var le=g(6311);function re(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("(",t.xi3(2,1,null==e.latest_vitals?null:e.latest_vitals.vitals_date,"MM/dd/yyyy hh:mm:ss a"),")")}}function se(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalToggle("vitals-list"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("icon",e.faTableList)}}function de(i,n){1&i&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9),t._UZ(3,"div",10)(4,"div",10)(5,"div",10)(6,"div",10)(7,"div",10)(8,"div",10),t.qZA()()())}const A=function(i){return{"text-red-500":i}};function _e(i,n){if(1&i&&(t.TgZ(0,"div",17)(1,"span",14),t._uU(2," BMI "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(3,A,!(null==e.latest_vitals||!e.latest_vitals.patient_bmi)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class))),t.xp6(4),t.AsE(" ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi?null==e.latest_vitals?null:e.latest_vitals.patient_bmi:"-"," ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi_class?"("+(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class)+")":""," ")}}function ce(i,n){if(1&i&&(t.TgZ(0,"div",17)(1,"span",14),t._uU(2," Weight for age "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age:""," ")}}function pe(i,n){if(1&i&&(t.TgZ(0,"div",17)(1,"span",14),t._uU(2," Height for age "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,!(null==e.latest_vitals||!e.latest_vitals.patient_height_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_height_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age:""," ")}}function ue(i,n){if(1&i&&(t.TgZ(0,"div",17)(1,"span",14),t._uU(2," Weight for Height "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(2,A,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_height)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height))),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_height?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height:""," ")}}function me(i,n){if(1&i&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"number"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE(" ",null!=e.latest_vitals&&e.latest_vitals.patient_right_vision_acuity?t.xi3(2,2,null==e.latest_vitals?null:e.latest_vitals.patient_right_vision_acuity,"1.0-0"):"-"," | ",null!=e.latest_vitals&&e.latest_vitals.patient_left_vision_acuity?t.xi3(3,5,null==e.latest_vitals?null:e.latest_vitals.patient_left_vision_acuity,"1.0-0"):"-"," ")}}function ge(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Head Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_head_circumference?(null==e.latest_vitals?null:e.latest_vitals.patient_head_circumference)+" cm":""," ")}}function he(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Mid-Upper Arm Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_muac?(null==e.latest_vitals?null:e.latest_vitals.patient_muac)+" cm":""," ")}}function fe(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Chest Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_chest?(null==e.latest_vitals?null:e.latest_vitals.patient_chest)+" cm":""," ")}}function ve(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Abdominal Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_abdomen?(null==e.latest_vitals?null:e.latest_vitals.patient_abdomen)+" cm":""," ")}}function be(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Waist Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_waist?(null==e.latest_vitals?null:e.latest_vitals.patient_waist)+" cm":"-"," ")}}function xe(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Hip Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_hip?(null==e.latest_vitals?null:e.latest_vitals.patient_hip)+" cm":"-"," ")}}function ye(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Limbs Circumference "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_limbs?(null==e.latest_vitals?null:e.latest_vitals.patient_limbs)+" cm":""," ")}}function Ze(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2," Skinfold Thickness "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_skinfold_thickness?(null==e.latest_vitals?null:e.latest_vitals.patient_skinfold_thickness)+" cm":""," ")}}function we(i,n){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13)(2,"span",14),t._uU(3," Weight "),t.qZA(),t.TgZ(4,"span",15),t._uU(5),t.qZA()(),t.TgZ(6,"div",13)(7,"span",14),t._uU(8),t.qZA(),t.TgZ(9,"span",15),t._uU(10),t.qZA()(),t.YNc(11,_e,5,5,"div",16),t.YNc(12,ce,5,4,"div",16),t.YNc(13,pe,5,4,"div",16),t.YNc(14,ue,5,4,"div",16),t.TgZ(15,"div",13)(16,"span",14),t._uU(17," Blood Pressure "),t.qZA(),t.TgZ(18,"span",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",17)(21,"span",14),t._uU(22," Blood Oxygen (SpO2) "),t.qZA(),t.TgZ(23,"span",15),t._uU(24),t.ALo(25,"number"),t.qZA()(),t.TgZ(26,"div",17)(27,"span",14),t._uU(28," Temperature "),t.qZA(),t.TgZ(29,"span",15),t._uU(30),t.qZA()(),t.TgZ(31,"div",13)(32,"span",14),t._uU(33," Heart Rate "),t.qZA(),t.TgZ(34,"span",15),t._uU(35),t.ALo(36,"number"),t.qZA()(),t.TgZ(37,"div",13)(38,"span",14),t._uU(39," Respiratory Rate "),t.qZA(),t.TgZ(40,"span",15),t._uU(41),t.ALo(42,"number"),t.qZA()(),t.TgZ(43,"div",13)(44,"span",14),t._uU(45," Pulse Rate "),t.qZA(),t.TgZ(46,"span",15),t._uU(47),t.ALo(48,"number"),t.qZA()(),t.TgZ(49,"div",18)(50,"span",14),t._uU(51," Visual Acuity (Right | Left) "),t.qZA(),t.YNc(52,me,4,8,"span",19),t.qZA(),t.YNc(53,ge,5,1,"div",20),t.YNc(54,he,5,1,"div",20),t.YNc(55,fe,5,1,"div",20),t.YNc(56,ve,5,1,"div",20),t.YNc(57,be,5,1,"div",20),t.YNc(58,xe,5,1,"div",20),t.YNc(59,ye,5,1,"div",20),t.YNc(60,Ze,5,1,"div",20),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("@openCloseAccordion",void 0),t.xp6(5),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight?(null==e.latest_vitals?null:e.latest_vitals.patient_weight)+" kg":"-"," "),t.xp6(3),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_age||null!=e.latest_vitals&&e.latest_vitals.patient_height_for_age||null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_height?"Length":"Height"," "),t.xp6(2),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_height?(null==e.latest_vitals?null:e.latest_vitals.patient_height)+" cm":"-"," "),t.xp6(1),t.Q6J("ngIf",!(null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_age)),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height),t.xp6(5),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.bp_systolic?(null==e.latest_vitals?null:e.latest_vitals.bp_systolic)+"/"+(null==e.latest_vitals?null:e.latest_vitals.bp_diastolic):"-"," "),t.xp6(1),t.Q6J("ngClass",t.VKq(37,A,!(null==e.latest_vitals||!e.latest_vitals.patient_spo2)&&(null==e.latest_vitals?null:e.latest_vitals.patient_spo2)<95)),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_spo2?t.xi3(25,25,null==e.latest_vitals?null:e.latest_vitals.patient_spo2,"1.0-0")+" %":"-"," "),t.xp6(2),t.Q6J("ngClass",t.VKq(39,A,(null==e.latest_vitals?null:e.latest_vitals.patient_temp)>=37.6)),t.xp6(4),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_temp?(null==e.latest_vitals?null:e.latest_vitals.patient_temp)+" C":"-"," "),t.xp6(5),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_heart_rate?t.xi3(36,28,null==e.latest_vitals?null:e.latest_vitals.patient_heart_rate,"1.0-0"):"-"," "),t.xp6(6),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_respiratory_rate?t.xi3(42,31,null==e.latest_vitals?null:e.latest_vitals.patient_respiratory_rate,"1.0-0"):"-"," "),t.xp6(6),t.hij(" ",null!=e.latest_vitals&&e.latest_vitals.patient_pulse_rate?t.xi3(48,34,null==e.latest_vitals?null:e.latest_vitals.patient_pulse_rate,"1.0-0"):"-"," "),t.xp6(5),t.Q6J("ngIf",(null==e.latest_vitals?null:e.latest_vitals.patient_right_vision_acuity)&&(null==e.latest_vitals?null:e.latest_vitals.patient_right_vision_acuity)),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_head_circumference),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_muac),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_chest),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_abdomen),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_waist),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_hip),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_limbs),t.xp6(1),t.Q6J("ngIf",null==e.latest_vitals?null:e.latest_vitals.patient_skinfold_thickness)}}function Te(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,we,61,41,"div",11),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.accordions.vitals)}}let W=(()=>{class i{loadData(e){this.http.get("patient-vitals/vitals",{params:{patient_id:e,sort:"-vitals_date",per_page:15}}).subscribe({next:o=>{let a=o.data;if(a.length>0){let r=o.data[0].bp_systolic,_=o.data[0].bp_diastolic;this.latest_vitals=this.vitalsCharts.getLatestToday(a),a[0].bp_systolic=r,a[0].bp_diastolic=_,this.show_vitals=!0,this.setVitals.emit(a)}else this.show_vitals=!0,this.latest_vitals=null},error:o=>console.log(o)})}getLatestToday(e){this.latest_vitals=e.length>0?this.vitalsCharts.getLatestToday(e):null}toggle(e){this.toggleAccordion.emit(e)}modalToggle(e){this.toggleModal.emit(e)}constructor(e,o){this.http=e,this.vitalsCharts=o,this.toggleAccordion=new t.vpe,this.toggleModal=new t.vpe,this.setVitals=new t.vpe,this.faPlusCircle=d.KtF,this.faTableList=d.u7T,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.show_vitals=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(le.i))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vitals"]],inputs:{accordions:"accordions"},outputs:{toggleAccordion:"toggleAccordion",toggleModal:"toggleModal",setVitals:"setVitals"},decls:11,vars:6,consts:[[1,"block","pt-4","justify-items-start","mx-5","pb-5"],[1,"flex","justify-between","items-center"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"mx-0","my-0","mr-2","hover:cursor-pointer",3,"icon","click"],[4,"ngIf"],["class","mx-0 my-0 text-green-500 mr-2 hover:cursor-pointer",3,"icon","click",4,"ngIf"],[1,"mx-0","my-0","text-blue-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"mx-0","my-0","text-green-500","mr-2","hover:cursor-pointer",3,"icon","click"],[1,"p-4","mx-auto"],[1,"animate-pulse","grid","grid-cols-2","gap-x-20","gap-y-4","justify-between"],[1,"h-2","bg-slate-200","rounded"],["class","block",4,"ngIf"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngIf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],[1,"flex","pl-3","pb-5","justify-between","items-center"],["class","block text-xs",4,"ngIf"],["class","flex pl-3 justify-between items-center",4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"fa-icon",3),t.NdJ("click",function(){return o.toggle("vitals")}),t.qZA(),t._uU(4," VITAL SIGNS "),t.YNc(5,re,3,4,"span",4),t.qZA(),t.TgZ(6,"span"),t.YNc(7,se,1,1,"fa-icon",5),t.TgZ(8,"fa-icon",6),t.NdJ("click",function(){return o.modalToggle("vitals")}),t.qZA()()(),t.YNc(9,de,9,0,"div",4),t.YNc(10,Te,2,1,"div",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("icon",o.accordions.vitals?o.faChevronUp:o.faChevronDown),t.xp6(2),t.Q6J("ngIf",o.latest_vitals),t.xp6(2),t.Q6J("ngIf",o.latest_vitals),t.xp6(1),t.Q6J("icon",o.faPlusCircle),t.xp6(1),t.Q6J("ngIf",!o.show_vitals),t.xp6(1),t.Q6J("ngIf",o.show_vitals))},dependencies:[s.mk,s.O5,c.BN,s.JJ,s.uU]}),i})();var Ce=g(6054),l=g(433);const ke=new l.cw({facility_code:new l.NI(""),patient_id:new l.NI(""),user_id:new l.NI(""),vitals_date:new l.NI(""),patient_temp:new l.NI(null),patient_height:new l.NI(null),patient_weight:new l.NI(null),patient_head_circumference:new l.NI(null),patient_skinfold_thickness:new l.NI(null),bp_systolic:new l.NI(null),bp_diastolic:new l.NI(null),patient_heart_rate:new l.NI(null),patient_respiratory_rate:new l.NI(null),patient_pulse_rate:new l.NI(null),patient_waist:new l.NI(null),patient_hip:new l.NI(null),patient_limbs:new l.NI(null),patient_muac:new l.NI(null),patient_chest:new l.NI(null),patient_abdomen:new l.NI(null),patient_spo2:new l.NI(null),vitals_height_ft:new l.NI(null),vitals_height_in:new l.NI(null),vitals_waist_in:new l.NI(null),vitals_date_temp:new l.NI(""),vitals_time_temp:new l.NI(""),patient_left_vision_acuity:new l.NI(null),patient_right_vision_acuity:new l.NI(null)});var b=g(7185);function Me(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_weight.errors.max.max+")"," ")}}function Ae(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message_min+" ("+e.f.patient_weight.errors.min.min+")"," ")}}function qe(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Me,2,1,"div",23),t.YNc(2,Ae,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_weight.errors?null:e.f.patient_weight.errors.max),t.xp6(1),t.Q6J("ngIf",null==e.f.patient_weight.errors?null:e.f.patient_weight.errors.min)}}function Ue(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_temp.errors.max.max+")"," ")}}function Ie(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Ue,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_temp.errors?null:e.f.patient_temp.errors.max)}}function Je(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Length in ft"),t.qZA())}function Ne(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Height in ft"),t.qZA())}function Qe(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Length in cm"),t.qZA())}function Fe(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"Height in cm"),t.qZA())}function Pe(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_height.errors.max.max+")"," ")}}function Ye(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message_min+" ("+e.f.patient_height.errors.min.min+")"," ")}}function je(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Pe,2,1,"div",23),t.YNc(2,Ye,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_height.errors?null:e.f.patient_height.errors.max),t.xp6(1),t.Q6J("ngIf",null==e.f.patient_height.errors?null:e.f.patient_height.errors.min)}}function Ve(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_spo2.errors.max.max+")"," ")}}function Oe(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Ve,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_spo2.errors?null:e.f.patient_spo2.errors.max)}}function De(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_heart_rate.errors.max.max+")"," ")}}function He(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,De,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_heart_rate.errors?null:e.f.patient_heart_rate.errors.max)}}function Le(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_pulse_rate.errors.max.max+")"," ")}}function Se(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Le,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_pulse_rate.errors?null:e.f.patient_pulse_rate.errors.max)}}function Ee(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_respiratory_rate.errors.max.max+")"," ")}}function Ke(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Ee,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_respiratory_rate.errors?null:e.f.patient_respiratory_rate.errors.max)}}function Ge(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_right_vision_acuity.errors.max.max+")"," ")}}function Be(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Ge,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_right_vision_acuity.errors?null:e.f.patient_right_vision_acuity.errors.max)}}function Re(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_left_vision_acuity.errors.max.max+")"," ")}}function ze(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,Re,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_left_vision_acuity.errors?null:e.f.patient_left_vision_acuity.errors.max)}}function $e(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_head_circumference.errors.max.max+")"," ")}}function We(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,$e,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_head_circumference.errors?null:e.f.patient_head_circumference.errors.max)}}function Xe(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",54),t._uU(2,"Head Circumference(Centimeters)"),t.qZA(),t._UZ(3,"input",55),t.YNc(4,We,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_head_circumference.errors)}}function ti(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_muac.errors.max.max+")"," ")}}function ei(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,ti,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_muac.errors?null:e.f.patient_muac.errors.max)}}function ii(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",56),t._uU(2,"MUAC (Centimeters)"),t.qZA(),t._UZ(3,"input",57),t.YNc(4,ei,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_muac.errors)}}function oi(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_abdomen.errors.max.max+")"," ")}}function ni(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,oi,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_abdomen.errors?null:e.f.patient_abdomen.errors.max)}}function ai(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",58),t._uU(2,"Abdominal Circumference(Centimeters)"),t.qZA(),t._UZ(3,"input",59),t.YNc(4,ni,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_abdomen.errors)}}function li(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_chest.errors.max.max+")"," ")}}function ri(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,li,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_chest.errors?null:e.f.patient_chest.errors.max)}}function si(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",60),t._uU(2,"Chest Circumference(Centimeters)"),t.qZA(),t._UZ(3,"input",61),t.YNc(4,ri,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_chest.errors)}}function di(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_hip.errors.max.max+")"," ")}}function _i(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,di,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_hip.errors?null:e.f.patient_hip.errors.max)}}function ci(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_waist.errors.max.max+")"," ")}}function pi(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,ci,2,1,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.patient_waist.errors?null:e.f.patient_waist.errors.max)}}function ui(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_limbs.errors.max.max+")"," ")}}function mi(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,ui,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_limbs.errors?null:e.f.patient_limbs.errors.max)}}function gi(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",62),t._uU(2,"Limbs (Centimeters)"),t.qZA(),t._UZ(3,"input",63),t.YNc(4,mi,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_limbs.errors)}}function hi(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.error_message+" ("+e.f.patient_skinfold_thickness.errors.max.max+")"," ")}}function fi(i,n){if(1&i&&(t.TgZ(0,"div",53),t.YNc(1,hi,2,1,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.patient_skinfold_thickness.errors?null:e.f.patient_skinfold_thickness.errors.max)}}function vi(i,n){if(1&i&&(t.TgZ(0,"div",11)(1,"label",64),t._uU(2,"Skinfold Thickness (Centimeters)"),t.qZA(),t._UZ(3,"input",65),t.YNc(4,fi,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.f.patient_skinfold_thickness.errors)}}let bi=(()=>{class i{constructor(e,o,a){this.formBuilder=e,this.http=o,this.toastr=a,this.toggleModal=new t.vpe,this.vitalsForm=ke,this.error_message="exceeded maximum value",this.error_message_min="exceeded minimum value",this.showChildVitals=!1}onSubmit(){let e;this.vitalsForm.patchValue({vitals_date:this.vitalsForm.value.vitals_date_temp+" "+this.vitalsForm.value.vitals_time_temp}),e=this.vitals_to_edit?this.http.update("patient-vitals/vitals/",this.vitals_to_edit.id,this.vitalsForm.value):this.http.post("patient-vitals/vitals",this.vitalsForm.value),e.subscribe({next:()=>{this.vitalsForm.markAsPristine(),this.vitalsForm.disable(),this.toastr.success("Successfully recorded!","Vital signs"),this.closeModal()},error:o=>console.log(o),complete:()=>console.log("vitals saved")})}get f(){return this.vitalsForm.controls}ftChange(){this.vitalsForm.patchValue({patient_height:(12*this.vitalsForm.value.vitals_height_ft*2.54+2.54*this.vitalsForm.value.vitals_height_in).toFixed(2)})}cmChange(){let e=.393701*this.vitalsForm.value.patient_height/12,o=Math.floor(e),a=Math.round(12*(e-o));this.vitalsForm.patchValue({vitals_height_ft:o}),this.vitalsForm.patchValue({vitals_height_in:a})}cmToInch(){this.vitalsForm.patchValue({vitals_waist_in:(.393701*this.vitalsForm.value.patient_waist).toFixed(2)})}inchToCm(){this.vitalsForm.patchValue({patient_waist:(2.54*this.vitalsForm.value.vitals_waist_in).toFixed(2)})}closeModal(){this.toggleModal.emit("vitals-modal")}checkIfChild(){this.showChildVitals="year"==this.patient_age.type&&this.patient_age.age<=6||"month"==this.patient_age.type||"day"==this.patient_age.type}ngOnInit(){let e=new Date,o=this.http.getUserID(),a=this.http.getUserFacility();this.vitalsForm=this.formBuilder.group({facility_code:[a,l.kI.required],patient_id:[this.patient_info.id,l.kI.required],vitals_date:[null,l.kI.required],user_id:[o,l.kI.required],patient_temp:[null,l.kI.max(50)],patient_height:[null,[l.kI.min(10),l.kI.max(272)]],patient_weight:[null,[l.kI.min(1),l.kI.max(200)]],patient_head_circumference:[null,l.kI.max(200)],patient_skinfold_thickness:[null,l.kI.max(200)],bp_systolic:[null],bp_diastolic:[null],patient_heart_rate:[null,l.kI.max(300)],patient_respiratory_rate:[null,l.kI.max(300)],patient_pulse_rate:[null,l.kI.max(300)],patient_waist:[null,l.kI.max(300)],patient_hip:[null,l.kI.max(300)],patient_limbs:[null,l.kI.max(300)],patient_muac:[null,l.kI.max(300)],patient_chest:[null,l.kI.max(300)],patient_abdomen:[null,l.kI.max(300)],patient_spo2:[null,l.kI.max(100)],vitals_waist_in:[null],vitals_height_ft:[null,l.kI.max(8)],vitals_height_in:[null,l.kI.max(11)],vitals_date_temp:[(0,s.p6)(e,"yyyy-MM-dd","en"),l.kI.required],vitals_time_temp:[(0,s.p6)(e,"HH:mm:ss","en"),l.kI.required],patient_right_vision_acuity:[null,l.kI.max(20)],patient_left_vision_acuity:[null,l.kI.max(20)]}),this.vitals_to_edit&&(console.log(this.vitals_to_edit),this.vitalsForm.patchValue({...this.vitals_to_edit}),this.vitalsForm.patchValue({vitals_date_temp:(0,s.p6)(this.vitalsForm.value.vitals_date,"yyyy-MM-dd","en")}),this.vitalsForm.patchValue({vitals_time_temp:(0,s.p6)(this.vitalsForm.value.vitals_date,"HH:mm:ss","en")}),console.log(this.vitalsForm),this.cmChange()),this.date=(new Date).toISOString().slice(0,10),this.checkIfChild()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vitals-modal"]],inputs:{patient_age:"patient_age",patient_info:"patient_info",vitals_to_edit:"vitals_to_edit"},outputs:{toggleModal:"toggleModal"},decls:123,vars:27,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","vitals_date_temp",1,"font-semibold"],["name","vitals_date_temp","id","vitals_date_temp","formControlName","vitals_date_temp","type","date","placeholder","mm/dd/yyyy",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input",3,"max"],["for","vitals_time_temp",1,"font-semibold"],["name","vitals_time_temp","id","vitals_time_temp","formControlName","vitals_time_temp","type","time","step","1","placeholder","Input Time",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"text-gray-600","border","border-slate-100","mx-5"],["for","patient_weight",1,"font-semibold"],["name","patient_weight","id","patient_weight","formControlName","patient_weight","type","number","placeholder","Enter weight in kilograms",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","invalid-alert",4,"ngIf"],["for","patient_temp",1,"font-semibold"],["name","patient_temp","id","patient_temp","formControlName","patient_temp","type","number","placeholder","Enter temperature in celcius",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","vitals_height_ft",1,"font-semibold"],[4,"ngIf"],[1,"flex"],["name","vitals_height_ft","id","vitals_height_ft","formControlName","vitals_height_ft","type","number","placeholder","Feet",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["name","vitals_height_in","id","vitals_height_in","formControlName","vitals_height_in","type","number","placeholder","Inches",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["for","patient_height",1,"font-semibold"],["name","patient_height","id","patient_height","formControlName","patient_height","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["for","bp_systolic",1,"font-semibold"],["name","bp_systolic","id","bp_systolic","formControlName","bp_systolic","type","number","placeholder","Systolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["name","bp_diastolic","id","bp_diastolic","formControlName","bp_diastolic","type","number","placeholder","Diastolic",1,"md:w-1/2","lg:w-1/2","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_spo2",1,"font-semibold"],["name","patient_spo2","id","patient_spo2","formControlName","patient_spo2","type","number","placeholder","SpO2",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_heart_rate",1,"font-semibold"],["name","patient_heart_rate","id","patient_heart_rate","formControlName","patient_heart_rate","type","number","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_pulse_rate",1,"font-semibold"],["name","patient_pulse_rate","id","patient_pulse_rate","formControlName","patient_pulse_rate","type","text","placeholder","Beats per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_respiratory_rate",1,"font-semibold"],["name","patient_respiratory_rate","id","patient_respiratory_rate","formControlName","patient_respiratory_rate","type","number","placeholder","Breaths per minute",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_right_vision_acuity",1,"font-semibold"],["name","patient_right_vision_acuity","id","patient_right_vision_acuity","formControlName","patient_right_vision_acuity","type","number","placeholder","Right eye visual acuity",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["for","patient_left_vision_acuity",1,"font-semibold"],["name","patient_left_vision_acuity","id","patient_left_vision_acuity","formControlName","patient_left_vision_acuity","type","text","placeholder","Left eye visual acuity",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","patient_hip",1,"font-semibold"],["name","patient_hip","id","patient_hip","formControlName","patient_hip","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_waist",1,"font-semibold"],["name","patient_waist","id","patient_waist","formControlName","patient_waist","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],["for","patient_head_circumference",1,"font-semibold"],["name","patient_head_circumference","id","patient_head_circumference","formControlName","patient_head_circumference","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_muac",1,"font-semibold"],["name","patient_muac","id","patient_muac","formControlName","patient_muac","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_abdomen",1,"font-semibold"],["name","patient_abdomen","id","patient_abdomen","formControlName","patient_abdomen","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_chest",1,"font-semibold"],["name","patient_chest","id","patient_chest","formControlName","patient_chest","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_limbs",1,"font-semibold"],["name","patient_limbs","id","patient_limbs","formControlName","patient_limbs","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","patient_skinfold_thickness",1,"font-semibold"],["name","patient_skinfold_thickness","id","patient_skinfold_thickness","formControlName","patient_skinfold_thickness","type","number","placeholder","Centimeters",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," VITAL SIGNS "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),t._uU(11,"Date & Time"),t.qZA()(),t.TgZ(12,"div",10)(13,"div",11)(14,"label",12),t._uU(15,"Date"),t.qZA(),t._UZ(16,"input",13),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",11)(19,"label",14),t._uU(20,"Time"),t.qZA(),t._UZ(21,"input",15),t.qZA()()(),t._UZ(22,"div",16),t.TgZ(23,"div",7)(24,"div",8)(25,"h4",9),t._uU(26,"Details"),t.qZA()(),t.TgZ(27,"div",10)(28,"div",11)(29,"label",17),t._uU(30,"Weight (Kilograms)"),t.qZA(),t._UZ(31,"input",18),t.YNc(32,qe,3,2,"div",19),t.qZA(),t.TgZ(33,"div",11)(34,"label",20),t._uU(35,"Temperature (Celcius)"),t.qZA(),t._UZ(36,"input",21),t.YNc(37,Ie,2,1,"div",19),t.qZA()(),t.TgZ(38,"div",10)(39,"div",11)(40,"label",22),t.YNc(41,Je,2,0,"span",23),t.YNc(42,Ne,2,0,"span",23),t.qZA(),t.TgZ(43,"div",24)(44,"input",25),t.NdJ("input",function(){return o.ftChange()}),t.qZA(),t.TgZ(45,"input",26),t.NdJ("input",function(){return o.ftChange()}),t.qZA()()(),t.TgZ(46,"div",11)(47,"label",27),t.YNc(48,Qe,2,0,"span",23),t.YNc(49,Fe,2,0,"span",23),t.qZA(),t.TgZ(50,"input",28),t.NdJ("input",function(){return o.cmChange()}),t.qZA(),t.YNc(51,je,3,2,"div",19),t.qZA()(),t.TgZ(52,"div",10)(53,"div",11)(54,"label",29),t._uU(55,"Blood Pressure"),t.qZA(),t.TgZ(56,"div",24),t._UZ(57,"input",30)(58,"input",31),t.qZA()(),t.TgZ(59,"div",11)(60,"label",32),t._uU(61,"Blood Oxygen (SpO2)"),t.qZA(),t._UZ(62,"input",33),t.YNc(63,Oe,2,1,"div",19),t.qZA()(),t.TgZ(64,"div",10)(65,"div",11)(66,"label",34),t._uU(67,"Heart Rate"),t.qZA(),t._UZ(68,"input",35),t.YNc(69,He,2,1,"div",19),t.qZA(),t.TgZ(70,"div",11)(71,"label",36),t._uU(72,"Pulse Rate"),t.qZA(),t._UZ(73,"input",37),t.YNc(74,Se,2,1,"div",19),t.qZA()(),t.TgZ(75,"div",10)(76,"div",11)(77,"label",38),t._uU(78,"Respiratory Rate"),t.qZA(),t._UZ(79,"input",39),t.YNc(80,Ke,2,1,"div",19),t.qZA()(),t.TgZ(81,"div",10)(82,"div",11)(83,"label",40),t._uU(84,"Visual Acuity (Right)"),t.qZA(),t._UZ(85,"input",41),t.YNc(86,Be,2,1,"div",19),t.qZA(),t.TgZ(87,"div",11)(88,"label",42),t._uU(89,"Visual Acuity (Left)"),t.qZA(),t._UZ(90,"input",43),t.YNc(91,ze,2,1,"div",19),t.qZA()()(),t._UZ(92,"div",16),t.TgZ(93,"div",7)(94,"div",8)(95,"h4",9),t._uU(96,"Body Measurement"),t.qZA()(),t.TgZ(97,"div",10),t.YNc(98,Xe,5,1,"div",44),t.YNc(99,ii,5,1,"div",44),t.qZA(),t.TgZ(100,"div",10),t.YNc(101,ai,5,1,"div",44),t.YNc(102,si,5,1,"div",44),t.qZA(),t.TgZ(103,"div",10)(104,"div",11)(105,"label",45),t._uU(106,"Hip Circumference (Centimeters)"),t.qZA(),t._UZ(107,"input",46),t.YNc(108,_i,2,1,"div",19),t.qZA(),t.TgZ(109,"div",11)(110,"label",47),t._uU(111,"Waist Circumference (Centimeters)"),t.qZA(),t._UZ(112,"input",48),t.YNc(113,pi,2,1,"div",19),t.qZA()(),t.TgZ(114,"div",10),t.YNc(115,gi,5,1,"div",44),t.YNc(116,vi,5,1,"div",44),t.qZA()()()(),t.TgZ(117,"div",49)(118,"button",50),t.NdJ("click",function(){return o.closeModal()}),t._uU(119,"Close"),t.qZA(),t.TgZ(120,"button",51),t.NdJ("click",function(){return o.onSubmit()}),t._uU(121,"Save"),t.qZA()()()()(),t._UZ(122,"div",52)),2&e&&(t.xp6(7),t.Q6J("formGroup",o.vitalsForm),t.xp6(9),t.s9C("max",t.xi3(17,24,o.date,"yyyy-MM-dd")),t.xp6(16),t.Q6J("ngIf",o.f.patient_weight.errors),t.xp6(5),t.Q6J("ngIf",o.f.patient_temp.errors),t.xp6(4),t.Q6J("ngIf",o.showChildVitals),t.xp6(1),t.Q6J("ngIf",!o.showChildVitals),t.xp6(6),t.Q6J("ngIf",o.showChildVitals),t.xp6(1),t.Q6J("ngIf",!o.showChildVitals),t.xp6(2),t.Q6J("ngIf",o.f.patient_height.errors),t.xp6(12),t.Q6J("ngIf",o.f.patient_spo2.errors),t.xp6(6),t.Q6J("ngIf",o.f.patient_heart_rate.errors),t.xp6(5),t.Q6J("ngIf",o.f.patient_pulse_rate.errors),t.xp6(6),t.Q6J("ngIf",o.f.patient_respiratory_rate.errors),t.xp6(6),t.Q6J("ngIf",o.f.patient_right_vision_acuity.errors),t.xp6(5),t.Q6J("ngIf",o.f.patient_left_vision_acuity.errors),t.xp6(7),t.Q6J("ngIf",o.showChildVitals),t.xp6(1),t.Q6J("ngIf",o.showChildVitals),t.xp6(2),t.Q6J("ngIf",o.showChildVitals),t.xp6(1),t.Q6J("ngIf",o.showChildVitals),t.xp6(6),t.Q6J("ngIf",o.f.patient_hip.errors),t.xp6(5),t.Q6J("ngIf",o.f.patient_waist.errors),t.xp6(2),t.Q6J("ngIf",o.showChildVitals),t.xp6(1),t.Q6J("ngIf",o.showChildVitals),t.xp6(4),t.Q6J("disabled",o.vitalsForm.pristine))},dependencies:[s.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,s.uU]}),i})(),xi=(()=>{class i{constructor(){this.toggleModal=new t.vpe}ngOnInit(){}closeModal(){this.toggleModal.emit("death-modal")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-death-modal"]],outputs:{toggleModal:"toggleModal"},decls:149,vars:0,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button",1,"px-3","py-1.5","bg-white","text-gray-600","text-sm","font-medium","leading-normal","rounded","shadow-md","focus:shadow-lg","focus:outline-none","hover:ring-2","hover:ring-gray-300","active:shadow-lg","transition","duration-150","ease-in-out","flex","align-center","transform","hover:scale-110"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-printer","mr-1"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"],["d","M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"],["x","7","y","13","width","10","height","8","rx","2"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-2"],[1,"relative"],[1,"flex","absolute","inset-y-0","left-0","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-calendar-time","text-blue-500"],["d","M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"],["cx","18","cy","18","r","4"],["d","M15 3v4"],["d","M7 3v4"],["d","M3 11h16"],["d","M18 16.496v1.504l1 1"],["type","text","placeholder","Select Date","onfocus","(this.type='date')","placeholder","Select date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-clock","text-blue-500"],["cx","12","cy","12","r","9"],["points","12 7 12 12 15 15"],["type","text","placeholder","Input Time","onfocus","(this.type='time')",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-certificate","text-blue-500"],["cx","15","cy","15","r","3"],["d","M13 17.5v4.5l2 -1.5l2 1.5v-4.5"],["d","M10 19h-5a2 2 0 0 1 -2 -2v-10c0 -1.1 .9 -2 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -1 1.73"],["x1","6","y1","9","x2","18","y2","9"],["x1","6","y1","12","x2","9","y2","12"],["x1","6","y1","15","x2","8","y2","15"],["type","text","placeholder","Input Type of Death",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-map-pin","text-blue-500"],["cx","12","cy","11","r","3"],["d","M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"],["type","text","placeholder","Input Place of Death",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-10","py-2","mt-1"],["type","text","placeholder","Select Region",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Province",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Municipality",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Select Barangay",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","px-10","py-2","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-notes","text-blue-500"],["x","5","y","3","width","14","height","18","rx","2"],["x1","9","y1","7","x2","15","y2","7"],["x1","9","y1","11","x2","15","y2","11"],["x1","9","y1","15","x2","13","y2","15"],["type","text","placeholder","Input Immediate Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"relative","w-full","text-sm","px-10","py-2"],["type","text","placeholder","Input Antecedent Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["type","text","placeholder","Input Underlying Cause",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-pencil","text-blue-500"],["d","M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"],["x1","13.5","y1","6.5","x2","17.5","y2","10.5"],["type","text","placeholder","Input Remarks",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","datepicker-input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," DEATH RECORD "),t.qZA(),t.TgZ(6,"button",5),t.O4$(),t.TgZ(7,"svg",6),t._UZ(8,"path",7)(9,"path",8)(10,"path",9)(11,"rect",10),t.qZA(),t._uU(12,"Print "),t.qZA()(),t.kcU(),t.TgZ(13,"div",11)(14,"table",12)(15,"div",13)(16,"div",14)(17,"h4",15),t._uU(18,"Registry Information"),t.qZA()(),t.TgZ(19,"div",16)(20,"label"),t._uU(21,"Date of Death"),t.qZA(),t.TgZ(22,"div",17)(23,"div",18),t.O4$(),t.TgZ(24,"svg",19),t._UZ(25,"path",7)(26,"path",20)(27,"circle",21)(28,"path",22)(29,"path",23)(30,"path",24)(31,"path",25),t.qZA()(),t.kcU(),t._UZ(32,"input",26),t.qZA()(),t.TgZ(33,"div",16)(34,"label"),t._uU(35,"Time of Death"),t.qZA(),t.TgZ(36,"div",17)(37,"div",18),t.O4$(),t.TgZ(38,"svg",27),t._UZ(39,"path",7)(40,"circle",28)(41,"polyline",29),t.qZA()(),t.kcU(),t._UZ(42,"input",30),t.qZA()(),t.TgZ(43,"div",31)(44,"label"),t._uU(45,"Type of Death"),t.qZA(),t.TgZ(46,"div",17)(47,"div",18),t.O4$(),t.TgZ(48,"svg",32),t._UZ(49,"path",7)(50,"circle",33)(51,"path",34)(52,"path",35)(53,"line",36)(54,"line",37)(55,"line",38),t.qZA()(),t.kcU(),t._UZ(56,"input",39),t.qZA()(),t.TgZ(57,"div",31)(58,"label"),t._uU(59,"Place of Death"),t.qZA(),t.TgZ(60,"div",17)(61,"div",18),t.O4$(),t.TgZ(62,"svg",40),t._UZ(63,"path",7)(64,"circle",41)(65,"path",42),t.qZA()(),t.kcU(),t._UZ(66,"input",43),t.qZA()()(),t._UZ(67,"div",44),t.TgZ(68,"div",13)(69,"div",14)(70,"h4",15),t._uU(71,"Place of Occurence"),t.qZA()(),t.TgZ(72,"div",45)(73,"label"),t._uU(74,"Region"),t.qZA(),t.TgZ(75,"div",17),t._UZ(76,"input",46),t.qZA()(),t.TgZ(77,"div",45)(78,"label"),t._uU(79,"Province"),t.qZA(),t.TgZ(80,"div",17),t._UZ(81,"input",47),t.qZA()(),t.TgZ(82,"div",31)(83,"label"),t._uU(84,"Municipality"),t.qZA(),t.TgZ(85,"div",17),t._UZ(86,"input",48),t.qZA()(),t.TgZ(87,"div",31)(88,"label"),t._uU(89,"Barangay"),t.qZA(),t.TgZ(90,"div",17),t._UZ(91,"input",49),t.qZA()()(),t._UZ(92,"div",44),t.TgZ(93,"div",13)(94,"div",14)(95,"h4",15),t._uU(96,"Cause of Death"),t.qZA()(),t.TgZ(97,"div",50)(98,"label"),t._uU(99,"Immediate Cause"),t.qZA(),t.TgZ(100,"div",17)(101,"div",18),t.O4$(),t.TgZ(102,"svg",51),t._UZ(103,"path",7)(104,"rect",52)(105,"line",53)(106,"line",54)(107,"line",55),t.qZA()(),t.kcU(),t._UZ(108,"input",56),t.qZA()(),t.TgZ(109,"div",57)(110,"label"),t._uU(111,"Antecedent Cause"),t.qZA(),t.TgZ(112,"div",17)(113,"div",18),t.O4$(),t.TgZ(114,"svg",51),t._UZ(115,"path",7)(116,"rect",52)(117,"line",53)(118,"line",54)(119,"line",55),t.qZA()(),t.kcU(),t._UZ(120,"input",58),t.qZA()(),t.TgZ(121,"div",57)(122,"label"),t._uU(123,"Underlying Cause"),t.qZA(),t.TgZ(124,"div",17)(125,"div",18),t.O4$(),t.TgZ(126,"svg",51),t._UZ(127,"path",7)(128,"rect",52)(129,"line",53)(130,"line",54)(131,"line",55),t.qZA()(),t.kcU(),t._UZ(132,"input",59),t.qZA()(),t.TgZ(133,"div",57)(134,"label"),t._uU(135,"Remarks"),t.qZA(),t.TgZ(136,"div",17)(137,"div",18),t.O4$(),t.TgZ(138,"svg",60),t._UZ(139,"path",7)(140,"path",61)(141,"line",62),t.qZA()(),t.kcU(),t._UZ(142,"input",63),t.qZA()()()()(),t.TgZ(143,"div",64)(144,"button",65),t.NdJ("click",function(){return o.closeModal()}),t._uU(145,"Close"),t.qZA(),t.TgZ(146,"button",66),t.NdJ("click",function(){return o.closeModal()}),t._uU(147,"Save"),t.qZA()()()()(),t._UZ(148,"div",67))}}),i})();const yi=[{group:"Child Care Vaccines",vaccines:[{vaccine_id:"BCG",vaccine_desc:"BCG"},{vaccine_id:"VAR",vaccine_desc:"Varicella"},{vaccine_id:"FLU",vaccine_desc:"Flu Vaccine"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"HPV",vaccine_desc:"HPV"},{vaccine_id:"DPT",vaccine_desc:"DPT"},{vaccine_id:"HB",vaccine_desc:"HB"},{vaccine_id:"OPV",vaccine_desc:"OPV"},{vaccine_id:"PCV",vaccine_desc:"PCV"},{vaccine_id:"Penta",vaccine_desc:"Penta"},{vaccine_id:"HEPB",vaccine_desc:"Hepa at Birth"},{vaccine_id:"MCV",vaccine_desc:"MCV"}]},{group:"Maternal Care",vaccines:[{vaccine_id:"TD",vaccine_desc:"Tetanus Dipteria"}]}];function Zi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"input",28),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,_=t.oxw(2);return t.KtG(_.vaccineForm.vaccine_date[r.vaccine_id]=a)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.s9C("name","vaccine_date."+e.vaccine_id),t.s9C("id","vaccine_date."+e.vaccine_id),t.Q6J("ngModel",o.vaccineForm.vaccine_date[e.vaccine_id])}}function wi(i,n){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",32),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij("",e.value.dose," Dose "),t.xp6(2),t.hij(": ",e.value.vaccine_date?t.xi3(5,2,e.value.vaccine_date,"MM/dd/yyyy"):"-","")}}function Ti(i,n){if(1&i&&(t.TgZ(0,"div",29)(1,"table",30)(2,"thead")(3,"tr")(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Date Administered"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,wi,6,5,"tr",31),t.ALo(10,"keyvalue"),t.qZA()()()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(5),t.Oqu(e.vaccine_id),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,2,o.vaccines_given[e.vaccine_id]))}}function Ci(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"label",19),t._uU(3),t.qZA(),t.TgZ(4,"div",20)(5,"select",21),t.NdJ("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.vaccineForm.vaccine_status[_.vaccine_id]=a)}),t.TgZ(6,"option"),t._uU(7,"-"),t.qZA(),t.TgZ(8,"option",22),t._uU(9,"Done"),t.qZA(),t.TgZ(10,"option",23),t._uU(11,"Done Outside - Private"),t.qZA(),t.TgZ(12,"option",24),t._uU(13,"Done Outside - Public"),t.qZA()(),t.YNc(14,Zi,2,3,"div",25),t.YNc(15,Ti,11,4,"div",26),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(2),t.s9C("for","vaccine_status."+e.vaccine_id),t.xp6(1),t.AsE("",e.vaccine_desc," (",e.vaccine_id,")"),t.xp6(2),t.s9C("id","vaccine_status."+e.vaccine_id),t.s9C("name","vaccine_status."+e.vaccine_id),t.Q6J("ngModel",o.vaccineForm.vaccine_status[e.vaccine_id]),t.xp6(9),t.Q6J("ngIf","-"!==o.vaccineForm.vaccine_status[e.vaccine_id]&&""!==o.vaccineForm.vaccine_status[e.vaccine_id]&&void 0!==o.vaccineForm.vaccine_status[e.vaccine_id]),t.xp6(1),t.Q6J("ngIf",o.vaccines_given&&o.vaccines_given[e.vaccine_id])}}function ki(i,n){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14)(2,"h4",15),t._uU(3),t.qZA()(),t.YNc(4,Ci,16,8,"div",16),t.qZA()),2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e.value.name),t.xp6(1),t.Q6J("ngForOf",e.value.items)}}let Mi=(()=>{class i{constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.loadData=new t.vpe,this.error_message="exceeded maximum value",this.vaccine_list=yi,this.vaccineForm={vaccine_status:[],vaccine_date:[]},this.vaccine_grouped=[],this.showAlert=!1}onSubmit(){var e=[];if(Object.entries(this.vaccineForm.vaccine_status).forEach(([a,r],_)=>{"-"!=r&&e.push({vaccine_id:a,vaccine_date:this.vaccineForm.vaccine_date[a]?this.vaccineForm.vaccine_date[a]:null,status_id:r})}),e.length>0){let a=this.http.getUserID();this.http.post("patient-vaccines/vaccines",{patient_id:this.patient_info.id,user_id:a,vaccines:e}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Vaccine record"),this.loadData.emit("vaccines")},error:_=>console.log(_),complete:()=>console.log("success")})}}closeModal(){this.toggleModal.emit("vaccine-moodal")}loadLibraries(){this.http.get("libraries/vaccine").subscribe(o=>{const a=o.data;console.log(o.data);const r=a.reduce((v,Z)=>{if("DPT"!==Z.vaccine_id){Z.vaccine_module=this.getName(Z.vaccine_module);const T=v[Z.vaccine_module]||[];T.push(Z),v[Z.vaccine_module]=T}return v},{});let u=[];["Child Care","General","Animal Bite","NCD","Maternal Care"].forEach(v=>{u.push({name:v,items:r[v]})}),this.vaccine_grouped=u,console.log(this.vaccine_grouped)})}getName(e){let o;switch(e){case"animalbite":o="Animal Bite";break;case"ccdev":o="Child Care";break;case"gen":o="General";break;case"mc":o="Maternal Care";break;case"ncd":o="NCD"}return o}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vaccine-modal"]],inputs:{patient_info:"patient_info",vaccines_given:"vaccines_given"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},decls:18,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[1,"text-gray-600","border","border-slate-100","mx-5"],["class","flex item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","justify-between","w-full","px-5","mt-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],["class","w-full mx-10",4,"ngFor","ngForOf"],[1,"w-full","mx-10"],[1,"grid","grid-cols-3","gap-4"],[1,"col-span-1","pt-2",3,"for"],[1,"col-span-2","grid","grid-cols-2"],[1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","id","name","ngModelChange"],["value","1"],["value","2"],["value","3"],["class","col-span-1",4,"ngIf"],["class","border border-slate-200 rounded-lg my-3 bg-slate-100 col-span-2",4,"ngIf"],[1,"col-span-1"],["type","date","placeholder","Enter vaccine date",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","name","id","ngModelChange"],[1,"border","border-slate-200","rounded-lg","my-3","bg-slate-100","col-span-2"],[1,"table-auto","w-full","m-3"],[4,"ngFor","ngForOf"],[1,"pl-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," VACCINES "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6),t._UZ(8,"div",7),t.YNc(9,ki,5,2,"div",8),t.ALo(10,"keyvalue"),t._UZ(11,"div",7),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return o.onSubmit()}),t._uU(16,"Save"),t.qZA()()()()(),t._UZ(17,"div",12)),2&e&&(t.xp6(9),t.Q6J("ngForOf",t.lcZ(10,1,o.vaccine_grouped)))},dependencies:[s.sg,s.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.F,s.uU,s.Nd]}),i})(),Ai=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-medication-modal"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"medication-modal works!"),t.qZA())}}),i})();function qi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"input",13),t.NdJ("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.patient_history.medical_history_id[_.id]=a)}),t.qZA(),t.TgZ(3,"label",14),t._uU(4),t.qZA()(),t.TgZ(5,"div",15)(6,"input",16),t.NdJ("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.patient_history.remarks[_.id]=a)}),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.xp6(2),t.Q2q("id","patient_history",e.id,""),t.Q6J("ngModel",o.patient_history.medical_history_id[e.id]),t.xp6(1),t.Q2q("for","patient_history",e.id,""),t.xp6(1),t.Oqu(e.history_desc),t.xp6(2),t.Q6J("ngModel",o.patient_history.remarks[e.id])}}let Ui=(()=>{class i{onSubmit(){var e=[];Object.entries(this.patient_history.medical_history_id).forEach(([a,r],_)=>{if(!0===r){let u={category:1,medical_history_id:a,remarks:this.patient_history.remarks[a]?this.patient_history.remarks[a]:null};console.log(u),e.push(u)}}),e.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:e}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Past Medical History"),this.loadData.emit("past_medical"),this.closeModal()},error:a=>console.log(a),complete:()=>console.log("success")})}patchData(){this.past_medical&&Object.entries(this.past_medical).forEach(([e,o],a)=>{let r=o;this.patient_history.medical_history_id[r.medical_history_id]=!0,r.remarks&&(this.patient_history.remarks[r.medical_history_id]=r.remarks)})}closeModal(){this.toggleModal.emit("history")}constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.loadData=new t.vpe,this.patient_history={medical_history_id:[],remarks:[]}}ngOnChanges(e){this.patchData()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-history-modal"]],inputs:{patient_info:"patient_info",past_medical:"past_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},features:[t.TTD],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-2"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModel","ngModelChange"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Past Medical History "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,qi,7,5,"div",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return o.closeModal()}),t._uU(10,"Close"),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return o.onSubmit()}),t._uU(12,"Save"),t.qZA()()()()(),t._UZ(13,"div",10)),2&e&&(t.xp6(7),t.Q6J("ngForOf",o.history_list))},dependencies:[s.sg,l.Fj,l.Wl,l.JJ,l.On]}),i})();function Ii(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"input",13),t.NdJ("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.patient_history.medical_history_id[_.id]=a)}),t.qZA(),t.TgZ(3,"label",14),t._uU(4),t.qZA()(),t.TgZ(5,"div",15)(6,"input",16),t.NdJ("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.patient_history.remarks[_.id]=a)}),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.xp6(2),t.Q2q("id","patient_history",e.id,""),t.Q6J("ngModel",o.patient_history.medical_history_id[e.id]),t.xp6(1),t.Q2q("for","patient_history",e.id,""),t.xp6(1),t.Oqu(e.history_desc),t.xp6(2),t.Q6J("ngModel",o.patient_history.remarks[e.id])}}let Ji=(()=>{class i{onSubmit(){var e=[];Object.entries(this.patient_history.medical_history_id).forEach(([a,r],_)=>{!0===r&&e.push({category:2,medical_history_id:a,remarks:this.patient_history.remarks[a]?this.patient_history.remarks[a]:null})}),e.length>0&&this.http.post("patient-history/history",{patient_id:this.patient_info.id,medical_history:e}).subscribe({next:()=>{this.toastr.success("Successfully recorded!","Family Medical History"),this.loadData.emit("family_medical"),this.closeModal()},error:a=>console.log(a),complete:()=>console.log("success")})}patchData(){this.family_medical&&(console.log(this.family_medical),Object.entries(this.family_medical).forEach(([e,o],a)=>{let r=o;this.patient_history.medical_history_id[r.medical_history_id]=!0,r.remarks&&(this.patient_history.remarks[r.medical_history_id]=r.remarks)}))}ngOnChanges(e){this.patchData()}closeModal(){this.toggleModal.emit("fam-history")}constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.loadData=new t.vpe,this.patient_history={medical_history_id:[],remarks:[]}}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fam-history-modal"]],inputs:{patient_info:"patient_info",family_medical:"family_medical",history_list:"history_list"},outputs:{toggleModal:"toggleModal",loadData:"loadData"},features:[t.TTD],decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","flex item-start flex-wrap pt-3 px-10 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"flex","item-start","flex-wrap","pt-3","px-10","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-5"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModel","ngModelChange"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Family Medical History "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,Ii,7,5,"div",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return o.closeModal()}),t._uU(10,"Close"),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return o.onSubmit()}),t._uU(12,"Save"),t.qZA()()()()(),t._UZ(13,"div",10)),2&e&&(t.xp6(7),t.Q6J("ngForOf",o.history_list))},dependencies:[s.sg,l.Fj,l.Wl,l.JJ,l.On]}),i})();function Ni(i,n){if(1&i&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function Qi(i,n){1&i&&(t.TgZ(0,"div",9)(1,"label",25),t._uU(2,"Number of Pack Year"),t.qZA(),t._UZ(3,"input",26),t.qZA())}function Fi(i,n){if(1&i&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function Pi(i,n){if(1&i&&(t.TgZ(0,"div",9)(1,"label",27),t._uU(2,"Bottles per day"),t.qZA(),t._UZ(3,"input",28),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("disabled",e.f.bottles_per_day.disabled)}}function Yi(i,n){if(1&i&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function ji(i,n){if(1&i&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}let Vi=(()=>{class i{get f(){return this.lifestyleForm.controls}onSubmit(){this.is_saving=!0,console.log(this.lifestyleForm),this.http.post("patient-social-history/history",this.lifestyleForm.value).subscribe({next:e=>{console.log(e.data),this.saveComplete()},error:e=>console.log(e)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Social History"),this.closeModal()}disableFields(){"Y"!==this.lifestyleForm.value.smoking?this.lifestyleForm.patchValue({pack_per_year:null}):this.lifestyleForm.controls.pack_per_year.enable(),"Y"!==this.lifestyleForm.value.alcohol?this.lifestyleForm.patchValue({bottles_per_day:null}):this.lifestyleForm.controls.bottles_per_day.enable()}loadLibraries(){this.http.get("libraries/social-history").subscribe({next:e=>this.answers=e.data,error:e=>console.log(e)}),this.http.get("libraries/ncd-answers-s2").subscribe({next:e=>this.answers_yn=e.data,error:e=>console.log(e)})}createForm(){this.patient_info&&(this.lifestyleForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],smoking:[null,l.kI.required],pack_per_year:[null],alcohol:[null,l.kI.required],bottles_per_day:[null],illicit_drugs:[null,l.kI.required],sexually_active:[null,l.kI.required]}),this.disableFields())}closeModal(){this.toggleModal.emit("lifestyle")}constructor(e,o,a){this.formBuilder=e,this.http=o,this.toastr=a,this.loadData=new t.vpe,this.toggleModal=new t.vpe,this.is_saving=!1,this.lifestyleForm=new l.cw({patient_id:new l.NI(""),smoking:new l.NI(""),pack_per_year:new l.NI(null),alcohol:new l.NI(null),bottles_per_day:new l.NI(null),illicit_drugs:new l.NI(null),sexually_active:new l.NI(null)})}ngOnChanges(e){this.lifestyleForm.patchValue({...this.social_history}),this.disableFields()}ngOnInit(){this.createForm(),this.loadLibraries(),console.log(this.social_history),this.social_history&&this.lifestyleForm.patchValue({...this.social_history})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lifestyle-modal"]],inputs:{patient_info:"patient_info",social_history:"social_history"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[t.TTD],decls:41,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup","submit"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","smoking"],["id","smoking","name","smoking","formControlName","smoking",1,"input",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","relative w-full text-sm md:w-1/2 lg:w-1/2 px-5 py-2 mt-2",4,"ngIf"],["for","alcohol"],["id","alcohol","name","alcohol","formControlName","alcohol",1,"input",3,"change"],["for","illicit_drugs"],["id","illicit_drugs","name","illicit_drugs","formControlName","illicit_drugs",1,"input"],["for","sexually_active"],["id","sexually_active","name","sexually_active","formControlName","sexually_active",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","pack_per_year"],["name","pack_per_year","id","pack_per_year","formControlName","pack_per_year","type","number",1,"input","disabled:bg-gray-300"],["for","bottles_per_day"],["name","bottles_per_day","id","bottles_per_day","formControlName","bottles_per_day","type","number",1,"input","disabled:bg-gray-300",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Social/Personal History "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Smoking"),t.qZA(),t.TgZ(13,"select",11),t.NdJ("change",function(){return o.disableFields()}),t.YNc(14,Ni,2,2,"option",12),t.qZA()(),t.YNc(15,Qi,4,0,"div",13),t.qZA(),t.TgZ(16,"div",8)(17,"div",9)(18,"label",14),t._uU(19,"Alcohol"),t.qZA(),t.TgZ(20,"select",15),t.NdJ("change",function(){return o.disableFields()}),t.YNc(21,Fi,2,2,"option",12),t.qZA()(),t.YNc(22,Pi,4,1,"div",13),t.qZA(),t.TgZ(23,"div",8)(24,"div",9)(25,"label",16),t._uU(26,"Illicit Drug"),t.qZA(),t.TgZ(27,"select",17),t.YNc(28,Yi,2,2,"option",12),t.qZA()()(),t.TgZ(29,"div",8)(30,"div",9)(31,"label",18),t._uU(32,"Sexually Active"),t.qZA(),t.TgZ(33,"select",19),t.YNc(34,ji,2,2,"option",12),t.qZA()()()()()(),t.TgZ(35,"div",20)(36,"button",21),t.NdJ("click",function(){return o.closeModal()}),t._uU(37,"Close"),t.qZA(),t.TgZ(38,"button",22),t.NdJ("click",function(){return o.onSubmit()}),t._uU(39),t.qZA()()()()(),t._UZ(40,"div",23)),2&e&&(t.xp6(7),t.Q6J("formGroup",o.lifestyleForm),t.xp6(7),t.Q6J("ngForOf",o.answers),t.xp6(1),t.Q6J("ngIf","Y"===o.lifestyleForm.value.smoking),t.xp6(6),t.Q6J("ngForOf",o.answers),t.xp6(1),t.Q6J("ngIf","Y"===o.lifestyleForm.value.alcohol),t.xp6(6),t.Q6J("ngForOf",o.answers),t.xp6(6),t.Q6J("ngForOf",o.answers_yn),t.xp6(4),t.Q6J("disabled",o.is_saving||o.lifestyleForm.invalid),t.xp6(1),t.hij(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[s.sg,s.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u]}),i})();function Oi(i,n){if(1&i&&(t.TgZ(0,"div",12)(1,"label",13),t._uU(2),t.qZA(),t.TgZ(3,"select",14)(4,"option"),t._uU(5,"-"),t.qZA(),t.TgZ(6,"option",15),t._uU(7,"Yes"),t.qZA(),t.TgZ(8,"option",16),t._uU(9,"None"),t.qZA()()()),2&i){const e=n.$implicit;t.xp6(2),t.hij("",e.name," Allergy")}}let Di=(()=>{class i{constructor(){this.toggleModal=new t.vpe,this.allergies=[{id:1,name:"Drug"},{id:2,name:"Food"},{id:3,name:"Insect"},{id:4,name:"Latex"},{id:5,name:"Mold"},{id:6,name:"Pet"},{id:7,name:"Pollen"}]}onSubmit(){console.log("test")}closeModal(){this.toggleModal.emit("allergies-modal")}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-allergies-modal"]],outputs:{toggleModal:"toggleModal"},decls:15,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],["class","grid grid-cols-2 gap-4 mx-10",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-2","gap-4","mx-10"],["for","vitals_date",1,"col-span-1","pt-2"],["id","vaccine.vaccine_id","name","vaccine.vaccine_id",1,"col-span-1","mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["value","true"],["value","false"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," VACCINES "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6),t.YNc(8,Oi,10,1,"div",7),t.qZA()(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return o.closeModal()}),t._uU(11,"Close"),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return o.onSubmit()}),t._uU(13,"Save"),t.qZA()()()()(),t._UZ(14,"div",11)),2&e&&(t.xp6(8),t.Q6J("ngForOf",o.allergies))},dependencies:[s.sg,l._Y,l.YN,l.Kr,l.JL,l.F]}),i})();var C=g(7340);function Hi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24),t._uU(2," Your are about to delete a vaccine record for this patient. Please enter the generated delete code in order to proceed. "),t.qZA(),t.TgZ(3,"div",25)(4,"span",26),t._uU(5,"Delete Code"),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",25)(9,"label",28),t._uU(10,"Enter Code"),t.qZA(),t.TgZ(11,"input",29),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.confirmation_code=a)}),t.qZA()(),t.TgZ(12,"div",30)(13,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onDelete())}),t._UZ(14,"fa-icon",6),t._uU(15," Delete "),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Oqu(e.confirm_code),t.xp6(4),t.Q6J("ngModel",e.confirmation_code),t.xp6(2),t.Q6J("disabled",!e.confirmation_code),t.xp6(1),t.Q6J("icon",e.faTrash)}}let Li=(()=>{class i{constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.faTrash=d.$aW,this.confirm_code="0000",this.showDeleteCode=!1,this.showAlert=!1,this.showAlertDelete=!1,this.disableSave=!1}onUpdate(){this.http.update("patient-vaccines/vaccines/",this.vaccine.id,this.vaccine).subscribe({next:()=>{this.showToastr("success","Succcessfully updated!","Vaccine record")},error:e=>console.log(e)})}onDelete(){this.confirm_code===this.confirmation_code?this.http.delete("patient-vaccines/vaccines/",this.vaccine.id).subscribe({next:()=>{this.disableSave=!0,this.showToastr("error","Record was deleted!","Vaccine record")},error:e=>console.log(e),complete:()=>console.log("updated")}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"),console.log("error"))}showToastr(e,o,a){this.toastr[e](o,a),this.closeModal()}showDeleteForm(){this.showDeleteCode=!0,this.generateCode()}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){console.log("test"),this.toggleModal.emit({modal_name:"vaccine-action"})}ngOnInit(){this.vaccine={...this.vaccine_to_edit}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vaccine-action-modal"]],inputs:{vaccine_to_edit:"vaccine_to_edit"},outputs:{toggleModal:"toggleModal"},decls:34,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-4","py-2.5","transition","duration-150","ease-in-out",3,"click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","status_id"],["id","status_id","name","status_id",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"disabled","ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["for","vaccine_date"],["name","vaccine_date","id","vaccine_date","type","date",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"disabled","ngModel","ngModelChange"],["class","grid grid-cols-3 px-5 py-5 mt-10 mx-10 w-full bg-red-50 rounded-lg text-center",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.showDeleteForm()}),t._UZ(7,"fa-icon",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"select",12),t.NdJ("ngModelChange",function(r){return o.vaccine.status_id=r}),t.TgZ(15,"option"),t._uU(16,"-"),t.qZA(),t.TgZ(17,"option",13),t._uU(18,"Done"),t.qZA(),t.TgZ(19,"option",14),t._uU(20,"Done Outside - Private"),t.qZA(),t.TgZ(21,"option",15),t._uU(22,"Done Outside - Public"),t.qZA()()(),t.TgZ(23,"div",10)(24,"label",16),t._uU(25),t.qZA(),t.TgZ(26,"input",17),t.NdJ("ngModelChange",function(r){return o.vaccine.vaccine_date=r}),t.qZA()()(),t.YNc(27,Hi,16,4,"div",18),t.qZA()(),t.TgZ(28,"div",19)(29,"button",20),t.NdJ("click",function(){return o.closeModal()}),t._uU(30,"Close"),t.qZA(),t.TgZ(31,"button",21),t.NdJ("click",function(){return o.onUpdate()}),t._uU(32,"Update"),t.qZA()()()()(),t._UZ(33,"div",22)),2&e&&(t.xp6(5),t.hij(" UPDATE/DELETE VACCINE (",o.vaccine.vaccine_id,") "),t.xp6(2),t.Q6J("icon",o.faTrash),t.xp6(7),t.Q6J("disabled",o.disableSave)("ngModel",o.vaccine.status_id),t.xp6(11),t.hij("Vaccine Date ",o.showDeleteCode," "),t.xp6(1),t.Q6J("disabled",o.disableSave)("ngModel",o.vaccine.vaccine_date),t.xp6(1),t.Q6J("ngIf",o.showDeleteCode),t.xp6(4),t.Q6J("disabled",o.disableSave))},dependencies:[s.O5,c.BN,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On],data:{animation:[(0,C.X$)("openCloseTrigger",[(0,C.eR)(":enter",[(0,C.oB)({width:0,opacity:0}),(0,C.jt)("200ms",(0,C.oB)({opacity:"100%"}))]),(0,C.eR)(":leave",[(0,C.jt)("100ms",(0,C.oB)({opacity:0}))])])]}}),i})();const Si=function(i){return{"bg-gray-50":i}};function Ei(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr",15)(1,"th",16),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td",17),t._uU(5),t.qZA(),t.TgZ(6,"td",17),t._uU(7),t._UZ(8,"br"),t._uU(9),t.qZA(),t.TgZ(10,"td",17),t._uU(11),t.qZA(),t.TgZ(12,"td",17),t._uU(13),t.qZA(),t.TgZ(14,"td",17),t._uU(15),t.ALo(16,"number"),t._UZ(17,"br"),t._uU(18),t.ALo(19,"number"),t._UZ(20,"br"),t._uU(21),t.ALo(22,"number"),t._UZ(23,"br"),t._uU(24),t.ALo(25,"number"),t.qZA(),t.TgZ(26,"td",17),t._uU(27),t._UZ(28,"br"),t._uU(29),t._UZ(30,"br"),t._uU(31),t._UZ(32,"br"),t._uU(33),t._UZ(34,"br"),t._uU(35),t._UZ(36,"br"),t._uU(37),t._UZ(38,"br"),t._uU(39),t._UZ(40,"br"),t._uU(41),t.qZA(),t.TgZ(42,"td",18)(43,"fa-icon",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.editVitals(r))}),t.qZA()()()}if(2&i){const e=n.$implicit,o=n.odd,a=t.oxw();let r,_,u,v,Z,T,N,Q,F,P,Y,j,V,O;t.Q6J("ngClass",t.VKq(38,Si,o)),t.xp6(2),t.hij(" ",t.xi3(3,23,e.vitals_date,"MM/dd/yyyy h:mm:ss a")," "),t.xp6(3),t.lnq(" ",e.bp_systolic,"",e.bp_systolic?"/":"-","",e.bp_diastolic," "),t.xp6(2),t.hij(" ",e.patient_height?e.patient_height+" cm":"-"," "),t.xp6(2),t.hij(" ",e.patient_weight?e.patient_weight+" kg":"-"," "),t.xp6(2),t.AsE(" ",e.patient_right_vision_acuity?e.patient_right_vision_acuity+" | ":""," ",null!==(r=e.patient_left_vision_acuity)&&void 0!==r?r:"-"," "),t.xp6(2),t.hij(" ",null!==(_=e.patient_temp)&&void 0!==_?_:"-"," "),t.xp6(2),t.hij(" SpO2: ",t.xi3(16,26,e.patient_spo2,null!==(u="1.0-0")&&void 0!==u?u:"-")," "),t.xp6(3),t.hij(" Heart Rate: ",t.xi3(19,29,e.patient_heart_rate,null!==(v="1.0-0")&&void 0!==v?v:"-")," "),t.xp6(3),t.hij(" Pulse Rate: ",t.xi3(22,32,e.patient_pulse_rate,null!==(Z="1.0-0")&&void 0!==Z?Z:"-")," "),t.xp6(3),t.hij(" Resp Rate: ",t.xi3(25,35,e.patient_respiratory_rate,null!==(T="1.0-0")&&void 0!==T?T:"-")," "),t.xp6(3),t.hij(" Head: ",null!==(N=e.patient_head_circumference)&&void 0!==N?N:"-"," "),t.xp6(2),t.hij(" MUAC: ",null!==(Q=e.patient_muac)&&void 0!==Q?Q:"-"," "),t.xp6(2),t.hij(" Chest: ",null!==(F=e.patient_chest)&&void 0!==F?F:"-"," "),t.xp6(2),t.hij(" Abdmn: ",null!==(P=e.patient_abdomen)&&void 0!==P?P:"-"," "),t.xp6(2),t.hij(" Waist: ",null!==(Y=e.patient_waist)&&void 0!==Y?Y:"-"," "),t.xp6(2),t.hij(" Hip: ",null!==(j=e.patient_hip)&&void 0!==j?j:"-"," "),t.xp6(2),t.hij(" Limbs: ",null!==(V=e.patient_limbs)&&void 0!==V?V:"-"," "),t.xp6(2),t.hij(" Skinfold: ",null!==(O=e.patient_skinfold_thickness)&&void 0!==O?O:"-"," "),t.xp6(2),t.Q6J("icon",a.faPenToSquare)}}function Ki(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div")(4,"p",22),t._uU(5," Showing "),t.TgZ(6,"span",23),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",23),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",23),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.TgZ(15,"div")(16,"nav",24)(17,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadVitals(1))}),t._UZ(18,"fa-icon",26),t.qZA(),t.TgZ(19,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadVitals(a.current_page-1))}),t._UZ(20,"fa-icon",26),t._uU(21,"Previous "),t.qZA(),t.TgZ(22,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadVitals(a.current_page+1))}),t._uU(23," Next"),t._UZ(24,"fa-icon",28),t.qZA(),t.TgZ(25,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadVitals(a.last_page))}),t._UZ(26,"fa-icon",28),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(4),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}let Gi=(()=>{class i{constructor(e){this.http=e,this.toggleModal=new t.vpe,this.vitalsEdit=new t.vpe,this.faPenToSquare=d.Yai,this.faChevronRight=d._tD,this.faChevronLeft=d.A35,this.faAnglesLeft=d._Wx,this.faAnglesRight=d.ccb,this.per_page=5}editVitals(e){this.vitalsEdit.emit(e),this.closeModal()}onSubmit(){}loadVitals(e){let o={params:{}};e&&(o.params.page=e),o.params.per_page=this.per_page,o.params.patient_id=this.patient_info.id,o.params.sort="-vitals_date",this.http.get("patient-vitals/vitals",o).subscribe({next:a=>{this.vitals_list=a.data,this.current_page=a.meta.current_page,this.last_page=a.meta.last_page,this.from=a.meta.from,this.to=a.meta.to,this.total=a.meta.total},error:a=>console.log(a),complete:()=>console.log("Vitals signs loaded")})}closeModal(){this.toggleModal.emit("vaccine-moodal")}ngOnInit(){this.loadVitals()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vitals-list-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal",vitalsEdit:"vitalsEdit"},decls:38,vars:2,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-3"],["class","bg-white border-b",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b",3,"ngClass"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap","align-top"],[1,"py-4","px-6","align-top"],[1,"py-4","px-6"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Vitals Signs "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),t._uU(12,"Date & Time"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Blood Pressure"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Weight & "),t._UZ(17,"br"),t._uU(18," Height"),t.qZA(),t.TgZ(19,"th",9),t._uU(20,"Visual Acuity "),t._UZ(21,"br"),t._uU(22," (R|L)"),t.qZA(),t.TgZ(23,"th",9),t._uU(24,"Temp (C)"),t.qZA(),t.TgZ(25,"th",9),t._uU(26,"O2 sat, Heart/Pulse/Resp Rate"),t.qZA(),t.TgZ(27,"th",9),t._uU(28,"Body Measurement"),t.qZA(),t.TgZ(29,"th",9),t._uU(30,"Action"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Ei,44,40,"tr",10),t.qZA()()(),t.YNc(33,Ki,27,11,"div",11),t.qZA(),t.TgZ(34,"div",12)(35,"button",13),t.NdJ("click",function(){return o.closeModal()}),t._uU(36,"Close"),t.qZA()()()()(),t._UZ(37,"div",14)),2&e&&(t.xp6(32),t.Q6J("ngForOf",o.vitals_list),t.xp6(1),t.Q6J("ngIf",(null==o.vitals_list?null:o.vitals_list.length)>=1))},dependencies:[s.mk,s.sg,s.O5,c.BN,s.JJ,s.uU]}),i})();function Bi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onModuleSelect(a.itr))}),t._UZ(1,"fa-icon",22),t._uU(2," Patient ITR "),t.qZA()}if(2&i){const e=t.oxw(4);t.Q6J("disabled",e.is_loading),t.xp6(1),t.Q6J("icon",e.faHouse)}}function Ri(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onModuleSelect(a.lab))}),t._UZ(1,"fa-icon",22),t._uU(2," Laboratory "),t.qZA()}if(2&i){const e=t.oxw(4);t.Q6J("disabled",e.is_loading),t.xp6(1),t.Q6J("icon",e.faFlask)}}const X=function(i){return{"enabled:bg-green-500 enabled:hover:ring-green-300":i}};function zi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onModuleSelect(a.cn))}),t._UZ(1,"fa-icon",22),t._uU(2," Consultation "),t.qZA()}if(2&i){const e=t.oxw(4);t.Q6J("disabled",e.is_loading)("ngClass",t.VKq(3,X,e.cn.consult_active)),t.xp6(1),t.Q6J("icon",e.faUserDoctor)}}function $i(i,n){if(1&i&&t._UZ(0,"fa-icon",22),2&i){const e=t.oxw(5);t.Q6J("icon",e.faClipboard)}}function Wi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw(4);return t.KtG(_.onModuleSelect(r.value))}),t.YNc(1,$i,1,1,"fa-icon",24),t._uU(2),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw(4);t.Q6J("disabled",o.is_loading)("ngClass",t.VKq(4,X,e.value.consult_active)),t.xp6(1),t.Q6J("ngIf",e.value.consult_active),t.xp6(1),t.hij(" ",e.value.name," ")}}function Xi(i,n){if(1&i&&(t.TgZ(0,"div",14)(1,"div",15)(2,"h4",16),t._uU(3),t.qZA()(),t.TgZ(4,"div",17),t.YNc(5,Bi,3,2,"button",18),t.YNc(6,Ri,3,2,"button",18),t.YNc(7,zi,3,5,"button",19),t.YNc(8,Wi,3,6,"button",20),t.ALo(9,"keyvalue"),t.qZA()()),2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e.key),t.xp6(2),t.Q6J("ngIf","Others"!==e.key),t.xp6(1),t.Q6J("ngIf","Others"!==e.key),t.xp6(1),t.Q6J("ngIf","Others"!==e.key),t.xp6(1),t.Q6J("ngForOf",t.lcZ(9,5,e.value.modules))}}function to(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Xi,10,7,"div",13),t.ALo(2,"keyvalue"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.list_modules))}}function eo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",44)(1,"label",45),t._uU(2,"Konsulta ATC"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"input",46),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.pATC=a)}),t.qZA(),t.TgZ(5,"input",47),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.pATC_date=a)}),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isATCValid())}),t._UZ(8,"fa-icon",49),t.qZA()()}if(2&i){const e=t.oxw(4);t.xp6(4),t.Q6J("ngModel",e.pATC),t.xp6(1),t.s9C("max",t.xi3(6,6,e.date,"yyyy-MM-dd HH:mm:ss")),t.Q6J("ngModel",e.pATC_date),t.xp6(2),t.Q6J("disabled",!e.pATC||!e.pATC_date||e.is_loading||e.is_checking_atc),t.xp6(1),t.Q6J("icon",e.is_checking_atc?e.faSpinner:e.faCheck)("spin",e.is_checking_atc)}}const io=function(i){return{"bg-red-100 text-red-900":i}};function oo(i,n){if(1&i&&(t.TgZ(0,"div",50),t._UZ(1,"fa-icon",51),t._uU(2),t.qZA()),2&i){const e=t.oxw(4);t.Q6J("ngClass",t.VKq(3,io,!e.is_atc_valid)),t.xp6(1),t.Q6J("icon",e.faCircleInfo),t.xp6(1),t.hij(" ",e.is_atc_valid?"ATC is valid":"ATC is not valid"," ")}}function no(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"input",41),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.is_walk_in=a)}),t.qZA(),t._uU(3,"Check if patient is Walk-in "),t.qZA(),t.YNc(4,eo,9,9,"div",42),t.YNc(5,oo,3,5,"div",43),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("disabled",e.is_checking_atc)("ngModel",e.is_walk_in),t.xp6(2),t.Q6J("ngIf",!e.is_walk_in),t.xp6(1),t.Q6J("ngIf",void 0!==e.is_atc_valid)}}function ao(i,n){1&i&&(t.TgZ(0,"div",52)(1,"div",53),t._uU(2," ATC checking is not available. Philhealth pin not found. "),t.qZA()())}function lo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",25),t._uU(2," No active visit for "),t.TgZ(3,"span",26),t._uU(4),t.qZA(),t._uU(5,". Would you like to create a new "),t.TgZ(6,"span",26),t._uU(7),t.qZA(),t._uU(8," visit? "),t.qZA(),t.TgZ(9,"div",27)(10,"div",28)(11,"label",29),t._uU(12,"Consultation Date"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"input",30),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.consult_date=a)}),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"input",31),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.consult_time=a)}),t.ALo(17,"date"),t.qZA()(),t.YNc(18,no,6,4,"div",32),t.YNc(19,ao,3,0,"div",33),t.TgZ(20,"div",34)(21,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onCreateCancel())}),t._uU(22,"Cancel"),t.qZA(),t.TgZ(23,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onCreateNew(a.selected_module))}),t._uU(24,"Proceed"),t.qZA()()(),t.TgZ(25,"div",37),t._UZ(26,"fa-icon",38),t._uU(27," Consultation date default value is today. You may change the date for backencoding. "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.selected_module.name),t.xp6(3),t.Oqu(e.selected_module.name),t.xp6(7),t.s9C("max",t.xi3(15,11,e.date,"yyyy-MM-dd HH:mm:ss")),t.Q6J("ngModel",e.consult_date),t.xp6(2),t.s9C("max",t.xi3(17,14,e.date,"yyyy-MM-dd HH:mm:ss")),t.Q6J("ngModel",e.consult_time),t.xp6(2),t.Q6J("ngIf",e.philhealth_details),t.xp6(1),t.Q6J("ngIf",!e.philhealth_details),t.xp6(2),t.Q6J("disabled",e.is_checking_atc),t.xp6(2),t.Q6J("disabled",!e.consult_date||e.is_loading||e.is_checking_atc),t.xp6(3),t.Q6J("icon",e.faCircleInfo)}}function ro(i,n){if(1&i&&(t.TgZ(0,"div",10),t.YNc(1,to,3,3,"div",11),t.YNc(2,lo,28,17,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.show_new),t.xp6(1),t.Q6J("ngIf",e.show_new)}}let so=(()=>{class i{isATCValid(){this.is_checking_atc=!0;let e={pPIN:this.philhealth_details.philhealth_id,pATC:this.pATC,pEffectivityDate:(0,s.p6)(this.pATC_date,"MM/dd/yyyy","en")};this.http.get("konsulta/check-atc",{params:e}).subscribe({next:o=>{console.log(o),this.is_checking_atc=!1,this.is_atc_valid="YES"===o.return},error:o=>console.log(o)})}selectPrograms(){"F"==this.patient_info.gender&&"year"===this.patient_age.type&&this.patient_age.age>=9&&(this.list_modules.General.modules.mc=this.mc),("year"===this.patient_age.type&&this.patient_age.age<7||"year"!==this.patient_age.type)&&(this.list_modules.General.modules.cc=this.cc)}onModuleSelect(e){let o=e.location,a=e.group;this.is_loading=!0,"/patient/"+o===this.router.url.split(";")[0]?this.closeModal():"itr"===o||"lab"===o?(this.router.navigate(["/patient/"+o,{id:this.patient_info.id}]),this.closeModal()):this.http.get("consultation/records",{params:{pt_group:a,consult_done:0,patient_id:this.patient_info.id}}).subscribe({next:r=>{this.selected_module=e,r.data.length>0?(this.router.navigate(["/patient/"+o,{id:this.patient_info.id,consult_id:r.data[0].id}]),this.closeModal()):this.show_new=!0},error:r=>{console.log(r),this.is_loading=!1},complete:()=>this.is_loading=!1})}onCreateCancel(){this.show_new=!1}onCreateNew(e){this.is_loading=!0;let o=this.http.getUserID();this.http.post("consultation/records",{patient_id:this.patient_info.id,user_id:o,consult_date:this.consult_date+" "+this.consult_time+":00",consult_done:0,pt_group:e.group,authorization_transaction_code:this.is_atc_valid?this.is_walk_in?"WALKEDIN":this.pATC||""!==this.pATC?this.pATC:"WALKEDIN":"WALKEDIN",walkedin_status:!this.is_atc_valid}).subscribe({next:r=>{console.log(r),this.toastr.success("Successfully created!","New visit"),this.router.navigate(["/patient/"+e.location,{id:this.patient_info.id,consult_id:r.data.id}]),this.closeModal()},error:r=>console.log(r.error.message)})}closeModal(){this.is_loading=!1,this.toggleModal.emit("module")}constructor(e,o,a){this.router=e,this.http=o,this.toastr=a,this.toggleModal=new t.vpe,this.faClipboard=d.Yjj,this.faCircleInfo=d.DBf,this.faHouse=d.wp6,this.faUserDoctor=d.x3j,this.faFlask=d.jZZ,this.faCheck=d.LEp,this.faSpinner=d.LM3,this.list_modules={General:{modules:{}},Others:{modules:{tb:{name:"Tuberculosis",location:"tb",group:"tb",consult_active:!1},ncd:{name:"NCD",location:"ncd",group:"ncd",consult_active:!1}}}},this.itr={name:"Patient ITR",location:"itr",group:"",consult_active:!1},this.lab={name:"Laboratory",location:"lab",group:"",consult_active:!1},this.cn={name:"Consultation",location:"cn",group:"cn",consult_active:!1},this.mc={name:"Maternal Care",location:"mc",group:"mc",consult_active:!1},this.cc={name:"Child Care",location:"cc",group:"cc",consult_active:!1},this.show_new=!1,this.is_loading=!1,this.show_form=!1,this.is_checking_atc=!1,this.selected_module=""}checkOpenConsult(e){Object.entries(e).forEach(([o,a],r)=>{let _=a;"cn"===_.pt_group&&(this.cn.consult_active=!0),Object.entries(this.list_modules).forEach(([u,v],Z)=>{Object.entries(v.modules).forEach(([T,N],Q)=>{_.pt_group===T&&(this.list_modules[u].modules[T].consult_active=!0)})})}),this.show_form=!0}ngOnInit(){this.selectPrograms(),this.http.get("consultation/records",{params:{consult_done:0,patient_id:this.patient_info.id}}).subscribe({next:o=>{o.data.length>0&&this.checkOpenConsult(o.data),this.show_form=!0},error:o=>console.log(o)});let e=new Date;this.date=e.toISOString().slice(0,10),this.consult_date=(0,s.p6)(e,"yyyy-MM-dd","en"),this.consult_time=(0,s.p6)(e,"HH:mm","en"),console.log(this.philhealth_details)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.F0),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-module-modal"]],inputs:{patient_info:"patient_info",patient_age:"patient_age",philhealth_details:"philhealth_details"},outputs:{toggleModal:"toggleModal"},decls:12,vars:2,consts:[[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["class","overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","px-5","bg-gray-400",3,"disabled","click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[1,"overflow-y-auto","overflow-x-hidden","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngIf"],["class","grid grid-cols-1 item-start flex-wrap pb-5",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","item-start","flex-wrap","pb-5"],[1,"w-full","px-5","my-3","rounded-tl","rounded-tr"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"grid","grid-cols-3","gap-4","mx-10"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngIf"],["type","button","class","col-span-1 text-white disabled:bg-gray-400 enabled:bg-blue-500 enabled:hover:ring-2 enabled:focus:outline-none enabled:hover:ring-blue-300 font-medium rounded text-sm px-6 py-2.5 text-center transition duration-150 ease-in-out transform hover:scale-110",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"disabled","click"],["size","lg",1,"mx-0","my-0","text-white","mr-2",3,"icon"],["type","button",1,"col-span-1","text-white","disabled:bg-gray-400","enabled:bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"disabled","ngClass","click"],["class","mx-0 my-0 text-white mr-2","size","lg",3,"icon",4,"ngIf"],[1,"flex","justify-center","w-full","my-5"],[1,"font-semibold"],[1,"flex","flex-col"],[1,"flex","justify-start","pb-3","w-full","ml-10"],["for","consult_date",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","date","name","consult_date","id","consult_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModel","ngModelChange"],["type","time","name","consult_date","id","consult_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModel","ngModelChange"],["class","border border-slate-200 rounded-md mx-10 shadow-md",4,"ngIf"],["class","border border-yellow-400 text-yellow-700 rounded-md mx-10 bg-yellow-100",4,"ngIf"],[1,"flex","justify-center","mt-5"],["type","button",1,"btn-save","px-10","bg-amber-500","mr-2","disabled:bg-gray-300",3,"disabled","click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"flex","mx-16","mt-5","p-2","rounded-md","bg-blue-100","border","border-blue-200","text-blue-900"],["size","lg",1,"flex-none","my-0","text-blue-900","m-2",3,"icon"],[1,"border","border-slate-200","rounded-md","mx-10","shadow-md"],[1,"flex","justify-start","w-full","ml-5","my-3"],["type","checkbox",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"disabled","ngModel","ngModelChange"],["class","flex justify-start w-full ml-5 mb-3",4,"ngIf"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],[1,"flex","justify-start","w-full","ml-5","mb-3"],["for","pATC",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","text","name","pATC","id","pATC","placeholder","Patient ATC",1,"input","w-52",3,"ngModel","ngModelChange"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModel","ngModelChange"],["type","button",1,"h-9","mt-1","text-sm","rounded-md","text-white","bg-blue-500","disabled:bg-gray-300",3,"disabled","click"],[1,"py-1","px-2",3,"icon","spin"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"border","border-yellow-400","text-yellow-700","rounded-md","mx-10","bg-yellow-100"],[1,"p-3"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6," Health Programs "),t.qZA()(),t.YNc(7,ro,3,2,"div",6),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return o.closeModal()}),t._uU(10,"Close"),t.qZA()()()()()(),t._UZ(11,"div",9)),2&e&&(t.xp6(7),t.Q6J("ngIf",o.show_form),t.xp6(2),t.Q6J("disabled",o.is_loading))},dependencies:[s.mk,s.sg,s.O5,c.BN,l.Fj,l.Wl,l.JJ,l.On,s.uU,s.Nd]}),i})();var _o=g(1094);function co(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function po(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,co,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.enlistment_date.errors?null:e.f.enlistment_date.errors.required)}}function uo(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function mo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function go(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,mo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.enlistment_status_id.errors?null:e.f.enlistment_status_id.errors.required)}}function ho(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function fo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function vo(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,fo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.package_type_id.errors?null:e.f.package_type_id.errors.required)}}function bo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function xo(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Philhealth ID must be 12 characters "),t.qZA())}function yo(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,bo,2,1,"div",51),t.YNc(2,xo,2,0,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.philhealth_id.errors?null:e.f.philhealth_id.errors.required),t.xp6(1),t.Q6J("ngIf",e.is_saving&&(null==e.f.philhealth_id.errors?null:e.f.philhealth_id.errors.minLength))}}function Zo(i,n){1&i&&(t.TgZ(0,"div",50)(1,"div"),t._uU(2," Philhealth number does not match "),t.qZA()())}function wo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function To(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Philhealth ID must be 12 characters "),t.qZA())}function Co(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,wo,2,1,"div",51),t.YNc(2,To,2,0,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.philhealth_id_confirmation.errors?null:e.f.philhealth_id_confirmation.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.philhealth_id_confirmation.errors?null:e.f.philhealth_id_confirmation.errors.minLength)}}const ko=function(){return{standalone:!0}};function Mo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",57)(1,"label",58),t._uU(2,"Konsulta ATC"),t.qZA(),t._UZ(3,"br")(4,"input",59),t.TgZ(5,"input",60),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.pATC_date=a)}),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"button",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isATCValid())})("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isATCValid())}),t._UZ(8,"fa-icon",62),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(5),t.s9C("max",t.xi3(6,6,e.date,"yyyy-MM-dd HH:mm:ss")),t.Q6J("ngModelOptions",t.DdM(9,ko))("ngModel",e.pATC_date),t.xp6(2),t.Q6J("disabled",!e.philhealthForm.value.authorization_transaction_code||!e.pATC_date||e.is_loading||e.is_checking_atc||!e.philhealthForm.value.philhealth_id),t.xp6(1),t.Q6J("icon",e.is_checking_atc?e.faSpinner:e.faCheck)("spin",e.is_checking_atc)}}const tt=function(i){return{"bg-red-100 text-red-900":i}};function Ao(i,n){if(1&i&&(t.TgZ(0,"div",63),t._UZ(1,"fa-icon",64),t._uU(2),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(3,tt,"YES"!==e.is_atc_valid)),t.xp6(1),t.Q6J("icon",e.faCircleInfo),t.xp6(1),t.hij(" ","YES"===e.is_atc_valid?"ATC is valid":"NO"===e.is_atc_valid?"ATC is not valid":e.is_atc_valid," ")}}function qo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",53)(1,"div",54)(2,"input",55),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.isATCrequired())}),t.qZA(),t._uU(3,"Check if patient is Walk-in "),t.qZA(),t.YNc(4,Mo,9,10,"div",56),t.YNc(5,Ao,3,5,"div",35),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.is_checking_atc),t.xp6(2),t.Q6J("ngIf",!e.philhealthForm.value.walkedin_status),t.xp6(1),t.Q6J("ngIf",void 0!==e.is_atc_valid)}}function Uo(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function Io(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Jo(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Io,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.membership_type_id.errors?null:e.f.membership_type_id.errors.required)}}function No(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function Qo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Fo(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Qo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.membership_category_id.errors?null:e.f.membership_category_id.errors.required)}}function Po(i,n){if(1&i&&t._UZ(0,"fa-icon",69),2&i){const e=t.oxw(2);t.Q6J("icon",e.faSpinner)}}function Yo(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",65)(1,"div",66)(2,"button",67),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.isMemberDependentRegistered())}),t.YNc(3,Po,1,1,"fa-icon",68),t._uU(4),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.is_checking_status),t.xp6(1),t.hij(" ",e.is_checking_status?"checking":"check pin registration"," ")}}function jo(i,n){if(1&i&&(t.TgZ(0,"div",63),t._UZ(1,"fa-icon",64),t._uU(2),t.qZA()),2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,tt,"YES"!==e.is_registered)),t.xp6(1),t.Q6J("icon",e.faCircleInfo),t.xp6(1),t.hij(" ","YES"===e.is_registered?"PIN is registered":"NO"===e.is_registered?"PIN not registered":e.is_registered," ")}}function Vo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Oo(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Vo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.employer_pin.errors?null:e.f.employer_pin.errors.required)}}function Do(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Ho(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Do,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.employer_name.errors?null:e.f.employer_name.errors.required)}}function Lo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function So(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Lo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.employer_address.errors?null:e.f.employer_address.errors.required)}}function Eo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function Ko(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Philhealth ID must be 12 characters "),t.qZA())}function Go(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Eo,2,1,"div",51),t.YNc(2,Ko,2,0,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_pin.errors?null:e.f.member_pin.errors.required),t.xp6(1),t.Q6J("ngIf",e.is_saving&&(null==e.f.member_pin.errors?null:e.f.member_pin.errors.minLength))}}function Bo(i,n){1&i&&(t.TgZ(0,"div",50)(1,"div"),t._uU(2," Philhealth number does not match "),t.qZA()())}function Ro(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function zo(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," Philhealth ID must be 12 characters "),t.qZA())}function $o(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Ro,2,1,"div",51),t.YNc(2,zo,2,0,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_pin_confirmation.errors?null:e.f.member_pin_confirmation.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.member_pin_confirmation.errors?null:e.f.member_pin_confirmation.errors.minLength)}}function Wo(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function Xo(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function tn(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,Xo,2,1,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_relation_id.errors?null:e.f.member_relation_id.errors.required)}}function en(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function on(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," field must have at least 2 characters "),t.qZA())}function nn(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,en,2,1,"div",51),t.YNc(2,on,2,0,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_last_name.errors?null:e.f.member_last_name.errors.required),t.xp6(1),t.Q6J("ngIf",e.is_saving&&(null==e.f.member_last_name.errors?null:e.f.member_last_name.errors.minLength))}}function an(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function ln(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," field must have at least 2 characters "),t.qZA())}function rn(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,an,2,1,"div",51),t.YNc(2,ln,2,0,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_first_name.errors?null:e.f.member_first_name.errors.required),t.xp6(1),t.Q6J("ngIf",e.is_saving&&(null==e.f.member_first_name.errors?null:e.f.member_first_name.errors.minLength))}}function sn(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function dn(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1," field must have at least 2 characters "),t.qZA())}function _n(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,sn,2,1,"div",51),t.YNc(2,dn,2,0,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_middle_name.errors?null:e.f.member_middle_name.errors.required),t.xp6(1),t.Q6J("ngIf",e.is_saving&&(null==e.f.member_middle_name.errors?null:e.f.member_middle_name.errors.minLength))}}function cn(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.suffix_desc)}}function pn(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function un(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,pn,2,1,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_suffix_name.errors?null:e.f.member_suffix_name.errors.required)}}function mn(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function gn(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,mn,2,1,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_birthdate.errors?null:e.f.member_birthdate.errors.required)}}function hn(i,n){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function fn(i,n){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function vn(i,n){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,fn,2,1,"div",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.member_gender.errors?null:e.f.member_gender.errors.required)}}const h=function(i){return{"text-red-500":i}},f=function(i){return{"invalid-input":i}};function bn(i,n){if(1&i&&(t.TgZ(0,"div",7)(1,"div",22)(2,"h4",9),t._uU(3,"Member Details"),t.qZA()(),t.TgZ(4,"div",23)(5,"label",70),t._uU(6,"Member philhealth number"),t.qZA(),t._UZ(7,"input",71),t.YNc(8,Go,3,2,"div",13),t.qZA(),t.TgZ(9,"div",23)(10,"label",72),t._uU(11,"Confirm Philhealth ID"),t.qZA(),t._UZ(12,"input",73),t.YNc(13,Bo,3,0,"div",13),t.YNc(14,$o,3,2,"div",13),t.qZA(),t.TgZ(15,"div",23)(16,"label",74),t._uU(17,"Member relation"),t.qZA(),t.TgZ(18,"select",75),t.YNc(19,Wo,2,2,"option",17),t.qZA(),t.YNc(20,tn,2,1,"div",13),t.qZA(),t._UZ(21,"div",23),t.TgZ(22,"div",23)(23,"label",76),t._uU(24,"Member last name"),t.qZA(),t._UZ(25,"input",77),t.YNc(26,nn,3,2,"div",13),t.qZA(),t.TgZ(27,"div",23)(28,"label",78),t._uU(29,"Member first name"),t.qZA(),t._UZ(30,"input",79),t.YNc(31,rn,3,2,"div",13),t.qZA(),t.TgZ(32,"div",23)(33,"label",80),t._uU(34,"Member middle name"),t.qZA(),t._UZ(35,"input",81),t.YNc(36,_n,3,2,"div",13),t.qZA(),t.TgZ(37,"div",23)(38,"label",82),t._uU(39,"Member suffix name"),t.qZA(),t.TgZ(40,"select",83),t.YNc(41,cn,2,2,"option",17),t.qZA(),t.YNc(42,un,2,1,"div",13),t.qZA(),t.TgZ(43,"div",23)(44,"label",84),t._uU(45,"Member birthdate"),t.qZA(),t._UZ(46,"input",85),t.ALo(47,"date"),t.YNc(48,gn,2,1,"div",13),t.qZA(),t.TgZ(49,"div",23)(50,"label",86),t._uU(51,"Member gender"),t.qZA(),t.TgZ(52,"select",87),t.YNc(53,hn,2,2,"option",17),t.qZA(),t.YNc(54,vn,2,1,"div",13),t.qZA()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(37,h,e.is_saving&&e.f.member_pin.errors)),t.xp6(2),t.Q6J("showMaskTyped",!0)("ngClass",t.VKq(39,f,e.is_saving&&e.f.member_pin.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_pin.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(41,h,e.is_saving&&e.f.member_pin_confirmation.errors)),t.xp6(2),t.Q6J("showMaskTyped",!0)("ngClass",t.VKq(43,f,e.is_saving&&e.f.member_pin_confirmation.errors)),t.xp6(1),t.Q6J("ngIf",e.philhealthMemberMatchError),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_pin_confirmation.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(45,h,e.is_saving&&e.f.member_relation_id.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(47,f,e.is_saving&&e.f.member_relation_id.errors)),t.xp6(1),t.Q6J("ngForOf",e.member_relationships),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_relation_id.errors),t.xp6(3),t.Q6J("ngClass",t.VKq(49,h,e.is_saving&&e.f.member_last_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(51,f,e.is_saving&&e.f.member_last_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_last_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(53,h,e.is_saving&&e.f.member_first_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(55,f,e.is_saving&&e.f.member_first_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_first_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(57,h,e.is_saving&&e.f.member_middle_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(59,f,e.is_saving&&e.f.member_middle_name.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_middle_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(61,h,e.is_saving&&e.f.member_suffix_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(63,f,e.is_saving&&e.f.member_suffix_name.errors)),t.xp6(1),t.Q6J("ngForOf",e.suffix_names),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_suffix_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(65,h,e.is_saving&&e.f.member_birthdate.errors)),t.xp6(2),t.s9C("max",t.xi3(47,34,e.date,"yyyy-MM-dd")),t.Q6J("ngClass",t.VKq(67,f,e.is_saving&&e.f.member_birthdate.errors)),t.xp6(2),t.Q6J("ngIf",e.is_saving&&e.f.member_birthdate.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(69,h,e.is_saving&&e.f.member_gender.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(71,f,e.is_saving&&e.f.member_gender.errors)),t.xp6(1),t.Q6J("ngForOf",e.sex_cat),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.member_gender.errors)}}function xn(i,n){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.value)}}function yn(i,n){if(1&i&&(t.TgZ(0,"div",88)(1,"div",89)(2,"ul",90),t.YNc(3,xn,2,1,"li",91),t.ALo(4,"keyvalue"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.submit_errors))}}function Zn(i,n){1&i&&(t.TgZ(0,"div",92)(1,"span",93),t._uU(2,"Record was updated."),t.qZA()()),2&i&&t.Q6J("@openCloseTrigger",void 0)}let wn=(()=>{class i{isATCValid(){this.is_checking_atc=!0;let e={pPIN:this.philhealthForm.value.philhealth_id,pATC:this.philhealthForm.value.authorization_transaction_code,pEffectivityDate:(0,s.p6)(this.pATC_date,"MM/dd/yyyy","en")};this.http.get("konsulta/check-atc",{params:e}).subscribe({next:o=>{console.log(o),this.is_checking_atc=!1,this.is_atc_valid=o.return},error:o=>console.log(o)})}isMemberDependentRegistered(){this.is_checking_status=!0,this.http.get("konsulta/check-registered",{params:{pPIN:this.philhealthForm.value.philhealth_id,pType:this.philhealthForm.value.membership_type_id}}).subscribe({next:o=>{console.log(o),this.is_checking_status=!1,this.is_registered=o.return},error:o=>console.log(o)})}onSubmit(){if(this.is_saving=!0,console.log(this.philhealthForm),"YES"!==this.is_atc_valid&&this.philhealthForm.patchValue({authorization_transaction_code:"WALKEDIN",walkedin_status:!0}),this.philhealthForm.valid){let e;e=this.philhealth_to_edit?this.http.update("patient-philhealth/philhealth/",this.philhealth_to_edit.id,this.philhealthForm.value):this.http.post("patient-philhealth/philhealth",this.philhealthForm.value),e.subscribe({next:o=>{console.log(o),this.showAlert=!0,this.philhealthForm.markAsPristine(),this.philhealthForm.disable(),this.toastr.success("Successfully recorded!","Philhealth"),this.closeModal()},error:o=>{console.log(o),this.submit_errors=o.error.errors}})}}get f(){return this.philhealthForm.controls}get philhealthMatchError(){return this.philhealthForm.controls.philhealth_id.value!=this.philhealthForm.controls.philhealth_id_confirmation.value&&this.philhealthForm.get("philhealth_id_confirmation")?.dirty}get philhealthMemberMatchError(){return this.philhealthForm.controls.member_pin.value!=this.philhealthForm.controls.member_pin_confirmation.value&&this.philhealthForm.get("member_pin_confirmation")?.dirty}loadMainLibrary(){this.http.get("libraries/membership-types").subscribe({next:e=>this.membership_types=e.data,error:e=>console.log(e)}),this.http.get("libraries/membership-categories").subscribe({next:e=>this.membership_categories=e.data,error:e=>console.log(e)}),this.http.get("libraries/enlistment-status").subscribe({next:e=>this.enlistment_status=e.data,error:e=>console.log(e)}),this.http.get("libraries/package-types").subscribe({next:e=>this.package_types=e.data,error:e=>console.log(e)}),this.http.get("libraries/member-relationships").subscribe({next:e=>this.member_relationships=e.data,error:e=>console.log(e)}),this.http.get("libraries/suffix-names").subscribe({next:e=>this.suffix_names=e.data,error:e=>console.log(e)})}showMember(){this.show_member_form="DD"===this.philhealthForm.value.membership_type_id,this.enableMemberForm(this.show_member_form)}enableMemberForm(e){!0===e?(this.philhealthForm.controls.member_pin.enable(),this.philhealthForm.controls.member_pin_confirmation.enable(),this.philhealthForm.controls.member_last_name.enable(),this.philhealthForm.controls.member_first_name.enable(),this.philhealthForm.controls.member_middle_name.enable(),this.philhealthForm.controls.member_suffix_name.enable(),this.philhealthForm.controls.member_birthdate.enable(),this.philhealthForm.controls.member_gender.enable(),this.philhealthForm.controls.member_relation_id.enable()):(this.philhealthForm.controls.member_pin.disable(),this.philhealthForm.controls.member_pin_confirmation.disable(),this.philhealthForm.controls.member_last_name.disable(),this.philhealthForm.controls.member_first_name.disable(),this.philhealthForm.controls.member_middle_name.disable(),this.philhealthForm.controls.member_suffix_name.disable(),this.philhealthForm.controls.member_birthdate.disable(),this.philhealthForm.controls.member_gender.disable(),this.philhealthForm.controls.member_relation_id.disable())}updateEffectivity(){this.philhealthForm.patchValue({effectivity_year:(0,s.p6)(this.philhealthForm.value.enlistment_date,"yyyy","en")})}isATCrequired(){"K"===this.philhealthForm.value.package_type_id?(this.philhealthForm.controls.authorization_transaction_code.enable(),this.philhealthForm.patchValue(this.philhealthForm.value.walkedin_status?{authorization_transaction_code:"WALKEDIN"}:{authorization_transaction_code:null})):this.philhealthForm.controls.authorization_transaction_code.disable()}closeModal(){this.toggleModal.emit({modal_name:"philhealth"})}constructor(e,o,a){this.formBuilder=e,this.http=o,this.toastr=a,this.toggleModal=new t.vpe,this.faCheck=d.LEp,this.faSpinner=d.LM3,this.faCircleInfo=d.DBf,this.error_message="exceeded maximum value",this.error_message_min="does not meet minimum length",this.required_message="this field is required",this.sex_cat=[{id:"M",desc:"Male"},{id:"F",desc:"Female"}],this.philhealthForm=new l.cw({philhealth_id:new l.NI(""),facility_code:new l.NI(""),patient_id:new l.NI(""),user_id:new l.NI(""),enlistment_date:new l.NI(""),effectivity_year:new l.NI(""),enlistment_status_id:new l.NI(""),package_type_id:new l.NI(""),membership_type_id:new l.NI(""),membership_category_id:new l.NI(""),member_pin:new l.NI(""),member_last_name:new l.NI(""),member_first_name:new l.NI(""),member_middle_name:new l.NI(""),member_suffix_name:new l.NI(""),member_birthdate:new l.NI(""),member_gender:new l.NI(""),member_relation_id:new l.NI(""),employer_pin:new l.NI(""),employer_name:new l.NI(""),employer_address:new l.NI(""),member_pin_confirmation:new l.NI(""),philhealth_id_confirmation:new l.NI(""),authorization_transaction_code:new l.NI(""),walkedin_status:new l.NI(null)}),this.showChildVitals=!1,this.showAlert=!1,this.is_saving=!1,this.loading=!1,this.show_member_form=!1,this.is_checking_atc=!1,this.is_checking_status=!1}ngOnInit(){this.loadMainLibrary();let e=this.http.getUserID(),o=this.http.getUserFacility();this.philhealthForm=this.formBuilder.group({philhealth_id:[null,[l.kI.required,l.kI.minLength(12)]],facility_code:[o,l.kI.required],patient_id:[this.patient_info.id,l.kI.required],user_id:[e,l.kI.required],enlistment_date:[null,l.kI.required],effectivity_year:[null,l.kI.required],enlistment_status_id:["1",l.kI.required],package_type_id:["K",l.kI.required],membership_type_id:[null,l.kI.required],membership_category_id:[null,l.kI.required],member_pin:[null,[l.kI.required,l.kI.minLength(12)]],member_last_name:[null,[l.kI.required,l.kI.minLength(2)]],member_first_name:[null,[l.kI.required,l.kI.minLength(2)]],member_middle_name:[null,[l.kI.required,l.kI.minLength(2)]],member_suffix_name:["NA",l.kI.required],member_birthdate:[null,l.kI.required],member_gender:[null,l.kI.required],member_relation_id:[null,l.kI.required],employer_pin:[null],employer_name:[null],employer_address:[null],member_pin_confirmation:[null,[l.kI.required,l.kI.minLength(12)]],philhealth_id_confirmation:[null,[l.kI.required,l.kI.minLength(12)]],authorization_transaction_code:[null,[l.kI.required]],walkedin_status:[!1]}),this.philhealth_to_edit?(console.log(this.philhealth_to_edit),this.philhealthForm.patchValue({...this.philhealth_to_edit}),this.philhealthForm.patchValue({philhealth_id_confirmation:this.philhealth_to_edit.philhealth_id}),this.philhealthForm.patchValue({membership_type_id:this.philhealth_to_edit.membership_type.id}),this.philhealthForm.patchValue({membership_category_id:this.philhealth_to_edit.membership_category.id}),"WALKEDIN"!==this.philhealth_to_edit.authorization_transaction_code&&0===this.philhealth_to_edit.walkedin_status&&(this.is_atc_valid="YES"),"DD"===this.philhealthForm.value.membership_type_id&&(this.philhealthForm.patchValue({member_birthdate:(0,s.p6)(this.philhealth_to_edit.member_birthdate,"yyyy-MM-dd","en")}),this.philhealthForm.patchValue({member_pin_confirmation:this.philhealth_to_edit.member_pin})),this.showMember()):console.log("new philhealth"),this.date=(new Date).toISOString().slice(0,10)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-philhealth-modal"]],inputs:{patient_info:"patient_info",philhealth_to_edit:"philhealth_to_edit"},outputs:{toggleModal:"toggleModal"},decls:93,vars:89,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5","px-5"],[1,"flex","justify-between","w-full","-px-5","mt-3"],[1,"font-bold","text-blue-500","text-sm","mt-2"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","pl-5","py-2","mt-1"],["for","enlistment_date",1,"font-semibold",3,"ngClass"],["name","enlistment_date","id","enlistment_date","formControlName","enlistment_date","type","date",1,"input",3,"ngClass","max","change"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","px-5","py-2","mt-1"],["for","enlistment_status_id",1,"font-semibold",3,"ngClass"],["name","enlistment_status_id","id","enlistment_status_id","formControlName","enlistment_status_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"relative","w-full","text-sm","md:w-1/3","lg:w-1/3","pr-5","py-2","mt-1"],["for","package_type_id",1,"font-semibold",3,"ngClass"],["name","package_type_id","id","package_type_id","formControlName","package_type_id",1,"input",3,"ngClass","change"],[1,"text-gray-600","border","border-slate-100","mx-5"],[1,"flex","justify-between","w-full","-px-5","mt-3","rounded-tl","rounded-tr"],[1,"relative","w-full","text-sm","md:w-1/2","lg:w-1/2","px-5","py-2","mt-2"],["for","philhealth_id",1,"font-semibold",3,"ngClass"],["name","philhealth_id","id","philhealth_id","formControlName","philhealth_id","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","philhealth_id_confirmation",1,"font-semibold",3,"ngClass"],["name","philhealth_id_confirmation","id","philhealth_id_confirmation","formControlName","philhealth_id_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["class","border border-slate-200 rounded-md mx-5 shadow-md w-full",4,"ngIf"],["for","membership_type_id",1,"font-semibold",3,"ngClass"],["name","membership_type_id","id","membership_type_id","formControlName","membership_type_id",1,"input",3,"ngClass","change"],["for","membership_category_id",1,"font-semibold",3,"ngClass"],["name","membership_category_id","id","membership_category_id","formControlName","membership_category_id",1,"input",3,"ngClass"],["class","relative w-full flex text-sm px-5 mt-2",4,"ngIf"],[1,"w-full","flex","justify-center"],["class","flex mx-16 my-3 p-2 rounded-md bg-green-100 text-green-900 shadow-sm",3,"ngClass",4,"ngIf"],["for","employer_pin",1,"font-semibold",3,"ngClass"],["name","employer_pin","id","employer_pin","formControlName","employer_pin","type","text",1,"input",3,"ngClass"],["for","employer_name",1,"font-semibold",3,"ngClass"],["name","employer_name","id","employer_name","formControlName","employer_name","type","text",1,"input",3,"ngClass"],[1,"relative","w-full","text-sm","px-5","py-2","mt-2"],["for","employer_address",1,"font-semibold",3,"ngClass"],["name","employer_address","id","employer_address","formControlName","employer_address","type","text",1,"input",3,"ngClass"],["class","flex item-start flex-wrap pb-5 px-5",4,"ngIf"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-500","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:bg-gray-300","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"],[1,"border","border-slate-200","rounded-md","mx-5","shadow-md","w-full"],[1,"flex","justify-start","w-full","ml-5","my-3"],["type","checkbox","formControlName","walkedin_status",1,"border","border-gray-400","rounded-md","h-5","w-5","mr-2","disabled:bg-gray-300",3,"disabled","change"],["class","flex justify-start w-full ml-5 mb-3",4,"ngIf"],[1,"flex","justify-start","w-full","ml-5","mb-3"],["for","authorization_transaction_code",1,"input-label","pr-5","inline-block","align-middle","pt-3","w-1/4"],["type","authorization_transaction_code","name","authorization_transaction_code","id","authorization_transaction_code","placeholder","Patient ATC","formControlName","authorization_transaction_code",1,"input","w-52"],["type","date","name","pATC_date","id","pATC_date","placeholder","mm/dd/yyyy",1,"input","w-52",3,"max","ngModelOptions","ngModel","ngModelChange"],["type","button",1,"h-9","mt-1","text-sm","rounded-md","text-white","bg-blue-500","disabled:bg-gray-300",3,"disabled","click"],[1,"py-1","px-2",3,"icon","spin"],[1,"flex","mx-16","my-3","p-2","rounded-md","bg-green-100","text-green-900","shadow-sm",3,"ngClass"],["size","lg",1,"flex-none","my-0","m-2",3,"icon"],[1,"relative","w-full","flex","text-sm","px-5","mt-2"],[1,"w-full","text-sm","md:w-1/2","lg:w-1/2"],[1,"px-5","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-500","hover:text-gray-50",3,"click"],["spin","true",3,"icon",4,"ngIf"],["spin","true",3,"icon"],["for","member_pin",1,"font-semibold",3,"ngClass"],["name","member_pin","id","member_pin","formControlName","member_pin","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","member_pin_confirmation",1,"font-semibold",3,"ngClass"],["name","member_pin_confirmation","id","member_pin_confirmation","formControlName","member_pin_confirmation","mask","99-999999999-9","type","text",1,"input",3,"showMaskTyped","ngClass"],["for","member_relation_id",1,"font-semibold",3,"ngClass"],["name","member_relation_id","id","member_relation_id","formControlName","member_relation_id",1,"input",3,"ngClass"],["for","member_last_name",1,"font-semibold",3,"ngClass"],["name","member_last_name","id","member_last_name","formControlName","member_last_name","type","text",1,"input",3,"ngClass"],["for","member_first_name",1,"font-semibold",3,"ngClass"],["name","member_first_name","id","member_first_name","formControlName","member_first_name","type","text",1,"input",3,"ngClass"],["for","member_middle_name",1,"font-semibold",3,"ngClass"],["name","member_middle_name","id","member_middle_name","formControlName","member_middle_name","type","text",1,"input",3,"ngClass"],["for","member_suffix_name",1,"font-semibold",3,"ngClass"],["name","member_suffix_name","id","member_suffix_name","formControlName","member_suffix_name",1,"input",3,"ngClass"],["for","member_birthdate",1,"font-semibold",3,"ngClass"],["name","member_birthdate","id","member_birthdate","formControlName","member_birthdate","type","date",1,"input",3,"ngClass","max"],["for","member_gender",1,"font-semibold",3,"ngClass"],["name","member_gender","id","member_gender","formControlName","member_gender",1,"input",3,"ngClass"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Philhealth Information "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"h4",9),t._uU(11,"Enlistment Details"),t.qZA()(),t.TgZ(12,"div",10)(13,"label",11),t._uU(14,"Enlistment Date"),t.qZA(),t.TgZ(15,"input",12),t.NdJ("change",function(){return o.updateEffectivity()}),t.ALo(16,"date"),t.qZA(),t.YNc(17,po,2,1,"div",13),t.qZA(),t.TgZ(18,"div",14)(19,"label",15),t._uU(20,"Enlistment status"),t.qZA(),t.TgZ(21,"select",16),t.YNc(22,uo,2,2,"option",17),t.qZA(),t.YNc(23,go,2,1,"div",13),t.qZA(),t.TgZ(24,"div",18)(25,"label",19),t._uU(26,"Enlistment type"),t.qZA(),t.TgZ(27,"select",20),t.NdJ("change",function(){return o.isATCrequired()}),t.YNc(28,ho,2,2,"option",17),t.qZA(),t.YNc(29,vo,2,1,"div",13),t.qZA()(),t._UZ(30,"div",21),t.TgZ(31,"div",7)(32,"div",22)(33,"h4",9),t._uU(34,"Patient Details"),t.qZA()(),t.TgZ(35,"div",23)(36,"label",24),t._uU(37,"Philhealth ID"),t.qZA(),t._UZ(38,"input",25),t.YNc(39,yo,3,2,"div",13),t.qZA(),t.TgZ(40,"div",23)(41,"label",26),t._uU(42,"Confirm Philhealth ID"),t.qZA(),t._UZ(43,"input",27),t.YNc(44,Zo,3,0,"div",13),t.YNc(45,Co,3,2,"div",13),t.qZA(),t.YNc(46,qo,6,3,"div",28),t.TgZ(47,"div",23)(48,"label",29),t._uU(49,"Membership type"),t.qZA(),t.TgZ(50,"select",30),t.NdJ("change",function(){return o.showMember()}),t.YNc(51,Uo,2,2,"option",17),t.qZA(),t.YNc(52,Jo,2,1,"div",13),t.qZA(),t.TgZ(53,"div",23)(54,"label",31),t._uU(55,"Membership category"),t.qZA(),t.TgZ(56,"select",32),t.YNc(57,No,2,2,"option",17),t.qZA(),t.YNc(58,Fo,2,1,"div",13),t.qZA(),t.YNc(59,Yo,5,2,"div",33),t.TgZ(60,"div",34),t.YNc(61,jo,3,5,"div",35),t.qZA()(),t._UZ(62,"div",21),t.TgZ(63,"div",7)(64,"div",22)(65,"h4",9),t._uU(66,"Employer Details"),t.qZA()(),t.TgZ(67,"div",23)(68,"label",36),t._uU(69,"Employer PEN"),t.qZA(),t._UZ(70,"input",37),t.YNc(71,Oo,2,1,"div",13),t.qZA(),t.TgZ(72,"div",23)(73,"label",38),t._uU(74,"Employer name"),t.qZA(),t._UZ(75,"input",39),t.YNc(76,Ho,2,1,"div",13),t.qZA(),t.TgZ(77,"div",40)(78,"label",41),t._uU(79,"Employer address"),t.qZA(),t._UZ(80,"input",42),t.YNc(81,So,2,1,"div",13),t.qZA()(),t._UZ(82,"div",21),t.YNc(83,bn,55,73,"div",43),t._UZ(84,"div",21),t.YNc(85,yn,5,3,"div",44),t.qZA()(),t.TgZ(86,"div",45),t.YNc(87,Zn,3,1,"div",46),t.TgZ(88,"button",47),t.NdJ("click",function(){return o.closeModal()}),t._uU(89,"Close"),t.qZA(),t.TgZ(90,"button",48),t.NdJ("click",function(){return o.onSubmit()}),t._uU(91,"Save"),t.qZA()()()()(),t._UZ(92,"div",49)),2&e&&(t.xp6(7),t.Q6J("formGroup",o.philhealthForm),t.xp6(6),t.Q6J("ngClass",t.VKq(49,h,o.is_saving&&o.f.enlistment_date.errors)),t.xp6(2),t.s9C("max",t.xi3(16,46,o.date,"yyyy-MM-dd")),t.Q6J("ngClass",t.VKq(51,f,o.is_saving&&o.f.enlistment_date.errors)),t.xp6(2),t.Q6J("ngIf",o.is_saving&&o.f.enlistment_date.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(53,h,o.is_saving&&o.f.enlistment_status_id.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(55,f,o.is_saving&&o.f.enlistment_status_id.errors)),t.xp6(1),t.Q6J("ngForOf",o.enlistment_status),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.enlistment_status_id.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(57,h,o.is_saving&&o.f.package_type_id.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(59,f,o.is_saving&&o.f.package_type_id.errors)),t.xp6(1),t.Q6J("ngForOf",o.package_types),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.package_type_id.errors),t.xp6(7),t.Q6J("ngClass",t.VKq(61,h,o.is_saving&&o.f.philhealth_id.errors)),t.xp6(2),t.Q6J("showMaskTyped",!0)("ngClass",t.VKq(63,f,o.is_saving&&o.f.philhealth_id.errors)),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.philhealth_id.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(65,h,o.is_saving&&o.f.philhealth_id_confirmation.errors)),t.xp6(2),t.Q6J("showMaskTyped",!0)("ngClass",t.VKq(67,f,o.is_saving&&o.f.philhealth_id_confirmation.errors)),t.xp6(1),t.Q6J("ngIf",o.philhealthMatchError),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.philhealth_id_confirmation.errors),t.xp6(1),t.Q6J("ngIf",o.philhealthForm.controls.authorization_transaction_code.enabled),t.xp6(2),t.Q6J("ngClass",t.VKq(69,h,o.is_saving&&o.f.membership_type_id.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(71,f,o.is_saving&&o.f.membership_type_id.errors)),t.xp6(1),t.Q6J("ngForOf",o.membership_types),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.membership_type_id.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(73,h,o.is_saving&&o.f.membership_category_id.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(75,f,o.is_saving&&o.f.membership_category_id.errors)),t.xp6(1),t.Q6J("ngForOf",o.membership_categories),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.membership_category_id.errors),t.xp6(1),t.Q6J("ngIf",o.philhealthForm.controls.authorization_transaction_code.enabled&&o.philhealthForm.value.philhealth_id&&o.philhealthForm.value.philhealth_id_confirmation&&o.philhealthForm.value.membership_type_id&&!o.philhealthMatchError),t.xp6(2),t.Q6J("ngIf",void 0!==o.is_registered),t.xp6(7),t.Q6J("ngClass",t.VKq(77,h,o.is_saving&&o.f.employer_pin.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(79,f,o.is_saving&&o.f.employer_pin.errors)),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.employer_pin.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(81,h,o.is_saving&&o.f.employer_name.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(83,f,o.is_saving&&o.f.employer_name.errors)),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.employer_name.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(85,h,o.is_saving&&o.f.employer_address.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(87,f,o.is_saving&&o.f.employer_address.errors)),t.xp6(1),t.Q6J("ngIf",o.is_saving&&o.f.employer_address.errors),t.xp6(2),t.Q6J("ngIf",o.show_member_form),t.xp6(2),t.Q6J("ngIf",o.submit_errors),t.xp6(2),t.Q6J("ngIf",o.showAlert),t.xp6(3),t.Q6J("disabled",o.philhealthForm.invalid))},dependencies:[s.mk,s.sg,s.O5,c.BN,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,_o.Z6,s.uU,s.Nd]}),i})();function Tn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr",14)(1,"td",15),t._uU(2),t.qZA(),t.TgZ(3,"th",16),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",15),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td",15),t._uU(10),t.qZA(),t.TgZ(11,"td",15),t._uU(12),t.qZA(),t.TgZ(13,"td",15)(14,"fa-icon",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.editPhilhealth(r))}),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",e.philhealth_id," "),t.xp6(2),t.hij(" ",t.xi3(5,6,e.enlistment_date,"MM/dd/yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(8,9,e.enlistment_date,"yyyy")," "),t.xp6(3),t.hij(" ",e.membership_type.desc," "),t.xp6(2),t.hij(" ",e.membership_category.desc," "),t.xp6(2),t.Q6J("icon",o.faPenToSquare)}}let Cn=(()=>{class i{editPhilhealth(e){this.philhealthEdit.emit(e),this.closeModal()}loadPhilhealth(){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":this.patient_info.id,per_page:"all",sort:"-enlistment_date",include:"membershipType,membershipCategory"}}).subscribe({next:e=>{this.philhealth_infos=e.data},error:e=>console.log(e)})}closeModal(){this.toggleModal.emit("philhealth-list-modal")}constructor(e){this.http=e,this.toggleModal=new t.vpe,this.philhealthEdit=new t.vpe,this.faPenToSquare=d.Yai}ngOnInit(){this.loadPhilhealth()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-philhealth-list-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal",philhealthEdit:"philhealthEdit"},decls:29,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-7xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg","m-4"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap"],[1,"mx-0","my-0","text-amber-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Philhealth Information "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),t._uU(12,"Philhealth ID"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Enlistment Date"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Effectivity Year"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"Membership type"),t.qZA(),t.TgZ(19,"th",9),t._uU(20,"Membership category"),t.qZA(),t.TgZ(21,"th",9),t._uU(22,"Action"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,Tn,15,12,"tr",10),t.qZA()()()(),t.TgZ(25,"div",11)(26,"button",12),t.NdJ("click",function(){return o.closeModal()}),t._uU(27,"Close"),t.qZA()()()()(),t._UZ(28,"div",13)),2&e&&(t.xp6(24),t.Q6J("ngForOf",o.philhealth_infos))},dependencies:[s.sg,c.BN,s.uU]}),i})();function kn(i,n){if(1&i&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" Consult ID: ",e.consult_id," ")}}function Mn(i,n){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function An(i,n){1&i&&(t.TgZ(0,"div",24)(1,"div",25),t._uU(2," You are requesting this lab independently. "),t._UZ(3,"br"),t.TgZ(4,"span",26),t._uU(5," If you wish to link this lab request to an open consult please open that specify consult and try to request again. "),t.qZA()()())}function qn(i,n){if(1&i&&(t.TgZ(0,"div",30)(1,"span",31),t._uU(2),t.qZA(),t.TgZ(3,"span",32),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij("",e.laboratory.desc," "),t.xp6(2),t.hij("",t.xi3(5,2,e.request_date,"MM/dd/yyyy")," ")}}function Un(i,n){if(1&i&&(t.TgZ(0,"div",27)(1,"span",28),t._uU(2,"Requested Labs"),t.qZA(),t.YNc(3,qn,6,5,"div",29),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.lab_req_list)}}const In=function(i){return{hidden:i}};function Jn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",33)(1,"input",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.updateList(r.code))})("ngModelChange",function(a){const _=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.labs[_.code]=a)}),t.qZA(),t._uU(2),t.qZA()}if(2&i){const e=n.$implicit,o=t.oxw();t.Q6J("ngClass",t.VKq(4,In,"PSMR"===e.code&&"M"===o.patient_info.gender)),t.xp6(1),t.Q6J("disabled",o.consult_done||!o.request_date)("ngModel",o.labs[e.code]),t.xp6(1),t.hij(" ",e.desc," ")}}let Nn=(()=>{class i{constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.labs=[],this.is_saving=!1,this.count=0,this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en")}updateList(e){!0===this.labs[e]?this.count-=1:this.count+=1}loadLabs(){this.http.get("libraries/laboratories").subscribe({next:e=>{this.lab_list=e.data},error:e=>console.log(e)}),this.http.get("libraries/laboratory-recommendations").subscribe({next:e=>{this.recommended=e.data},error:e=>console.log(e)})}onSubmit(){this.is_saving=!0,Object.entries(this.labs).forEach(([e,o],a)=>{if(!0===o){let r={request_date:this.request_date,patient_id:this.patient_info.id,lab_code:e,recommendation_code:this.is_recommended,request_status_code:"RQ"};this.consult_id&&(r.consult_id=this.consult_id),this.http.post("laboratory/consult-laboratories",r).subscribe({next:()=>{this.count-1===a&&this.saveDone()},error:_=>this.toastr.error(_,"Request Error")})}else this.count-1===a&&this.saveDone()})}saveDone(){this.showToastr(),this.is_saving=!1,this.closeModal()}showToastr(){this.toastr.success("laboratory requested","Lab Request")}closeModal(){this.toggleModal.emit("lab-request")}ngOnInit(){this.loadLabs()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lab-request-modal"]],inputs:{patient_info:"patient_info",consult_id:"consult_id",lab_req_list:"lab_req_list"},outputs:{toggleModal:"toggleModal"},decls:31,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-left","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-2","p-5","w-full","px-5"],[1,"col-span-1","grid","grid-cols-2","w-full"],["for","request_date",1,"input-label","text-left","pt-3","pr-5"],["type","date",1,"input","w-44",3,"ngModel","max","ngModelChange"],["class","input-label col-span-1 pl-5 pt-3",4,"ngIf"],["type","date",1,"input","w-44",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-2 flex justify-center w-full mt-3",4,"ngIf"],["class","col-span-2 grid grid-cols-2 pt-5 pl-5",4,"ngIf"],[1,"col-span-2","flex","flex-wrap","pt-5","pl-5"],["class","w-1/2 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"input-label","col-span-1","pl-5","pt-3"],[3,"value"],[1,"col-span-2","flex","justify-center","w-full","mt-3"],[1,"bg-orange-100","border","border-orange-500","p-3","rounded-md","text-orange-700"],[1,"text-sm","font-normal"],[1,"col-span-2","grid","grid-cols-2","pt-5","pl-5"],[1,"col-span-2"],["class","col-span-1 mb-2 flex justify-between",4,"ngFor","ngForOf"],[1,"col-span-1","mb-2","flex","justify-between"],[1,"w-1/2"],[1,"w-1/2","text-right","mr-5"],[1,"w-1/2","mb-2",3,"ngClass"],["type","checkbox",1,"rounded-md","border","border-gray-400","p-2","disabled:bg-gray-200",3,"disabled","ngModel","click","ngModelChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Lab Request "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),t._uU(11,"Request Date"),t.qZA(),t.TgZ(12,"input",10),t.NdJ("ngModelChange",function(r){return o.request_date=r}),t.qZA()(),t.YNc(13,kn,2,1,"div",11),t.TgZ(14,"div")(15,"div",8)(16,"label",9),t._uU(17,"Recommended by physician?"),t.qZA(),t.TgZ(18,"select",12),t.NdJ("ngModelChange",function(r){return o.is_recommended=r}),t._UZ(19,"option"),t.YNc(20,Mn,2,2,"option",13),t.qZA()()(),t.YNc(21,An,6,0,"div",14),t.YNc(22,Un,4,1,"div",15),t.TgZ(23,"div",16),t.YNc(24,Jn,3,6,"div",17),t.qZA()()()(),t.TgZ(25,"div",18)(26,"button",19),t.NdJ("click",function(){return o.closeModal()}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",20),t.NdJ("click",function(){return o.onSubmit()}),t._uU(29," Request "),t.qZA()()()()(),t._UZ(30,"div",21)),2&e&&(t.xp6(12),t.Q6J("ngModel",o.request_date)("max",o.max_date),t.xp6(1),t.Q6J("ngIf",o.consult_id),t.xp6(5),t.Q6J("ngModel",o.is_recommended),t.xp6(2),t.Q6J("ngForOf",o.recommended),t.xp6(1),t.Q6J("ngIf",!o.consult_id),t.xp6(1),t.Q6J("ngIf",o.lab_req_list),t.xp6(2),t.Q6J("ngForOf",o.lab_list),t.xp6(4),t.Q6J("disabled",!o.request_date||0===o.count||!o.is_recommended||o.is_saving))},dependencies:[s.mk,s.sg,s.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,s.uU]}),i})();var et=g(7579),Qn=g(2965);function Fn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"webcam",16),t.NdJ("imageCapture",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.captureImg(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("trigger",e.invokeObservable)}}function Pn(i,n){if(1&i&&t._UZ(0,"img",17),2&i){const e=t.oxw();t.Q6J("src",null==e.webcamImage?null:e.webcamImage.imageAsDataUrl,t.LSH)}}function Yn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.webcamImage?a.onSubmit():a.getSnapshot())}),t._uU(1," Save photo "),t.qZA()}}const jn=function(i){return{"bg-orange-500 hover:ring-2 hover:ring-orange-400":i}};let Vn=(()=>{class i{getSnapshot(){this.trigger.next(void 0)}captureImg(e){console.log(this.webcamImage),this.webcamImage=e,this.sysImage=e.imageAsBase64,console.info("got webcam image",this.sysImage)}toggleCamera(){this.webcamImage=null}get invokeObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}onSubmit(){}closeModal(){this.toggleModal.emit("vaccine-moodal")}constructor(){this.toggleModal=new t.vpe,this.faXmark=d.g82,this.trigger=new et.x,this.nextWebcam=new et.x}ngOnDestroy(){this.trigger.unsubscribe(),this.nextWebcam.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-photo-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal"},decls:18,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow-sm"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],["type","button",3,"click"],["size","xl",1,"text-white",3,"icon"],[1,"overflow-y-auto","scrollbar-thin","h-full","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"container","mt-5","grid","grid-cols-1","w-full"],[1,"flex","justify-center","w-full"],[3,"trigger","imageCapture",4,"ngIf"],[3,"src",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","px-10",3,"ngClass","click"],["type","button","class","btn-save px-10",3,"click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"trigger","imageCapture"],[3,"src"],["type","button",1,"btn-save","px-10",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Photo "),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.closeModal()}),t._UZ(7,"fa-icon",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9),t.YNc(11,Fn,1,1,"webcam",10),t.YNc(12,Pn,1,1,"img",11),t.qZA()()(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){return o.webcamImage?o.toggleCamera():o.getSnapshot()}),t._uU(15),t.qZA(),t.YNc(16,Yn,2,0,"button",14),t.qZA()()()(),t._UZ(17,"div",15)),2&e&&(t.xp6(7),t.Q6J("icon",o.faXmark),t.xp6(4),t.Q6J("ngIf",!o.webcamImage),t.xp6(1),t.Q6J("ngIf",o.webcamImage),t.xp6(2),t.Q6J("ngClass",t.VKq(6,jn,o.webcamImage)),t.xp6(1),t.hij(" ",o.webcamImage?"Retake photo":"Take a photo"," "),t.xp6(1),t.Q6J("ngIf",o.webcamImage))},dependencies:[s.mk,s.O5,c.BN,Qn.i3]}),i})();function On(i,n){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.method_desc)}}function Dn(i,n){1&i&&(t.TgZ(0,"div",9)(1,"label",34),t._uU(2,"Menopause age"),t.qZA(),t._UZ(3,"input",35),t.qZA())}let Hn=(()=>{class i{onSubmit(){console.log(this.menstrualForm.value),this.http.post("patient-menstrual-history/history",this.menstrualForm.value).subscribe({next:e=>{console.log(e),this.toastr.success("Successfully recorded!","Menstual History"),this.closeModal()},error:e=>console.log(e)})}createForm(){this.patient_info&&(this.menstrualForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],menarche:[null],lmp:[null,l.kI.required],period_duration:[null],cycle:[null],pads_per_day:[null],onset_sexual_intercourse:[null],method:["NA",l.kI.required],menopause:[!1,l.kI.required],menopause_age:[null]}),this.menstrual_history&&this.patchValue())}patchValue(){this.menstrualForm.patchValue({...this.menstrual_history[0]}),this.menstrualForm.patchValue({menopause:0!==this.menstrual_history[0].menopause,lmp:(0,s.p6)(this.menstrual_history[0].lmp,"yyyy-MM-dd","en")}),console.log(this.menstrualForm.value)}closeModal(){this.toggleModal.emit("menstrual")}get f(){return this.menstrualForm.controls}ngOnChanges(e){}constructor(e,o,a){this.formBuilder=e,this.http=o,this.toastr=a,this.loadData=new t.vpe,this.toggleModal=new t.vpe,this.is_saving=!1,this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en"),this.menstrualForm=new l.cw({patient_id:new l.NI(null),menarche:new l.NI(null),lmp:new l.NI(null),period_duration:new l.NI(null),cycle:new l.NI(null),pads_per_day:new l.NI(null),onset_sexual_intercourse:new l.NI(null),method:new l.NI(null),menopause:new l.NI(null),menopause_age:new l.NI(null)})}ngOnInit(){this.createForm()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-menstrual-modal"]],inputs:{patient_info:"patient_info",menstrual_history:"menstrual_history",fp_method:"fp_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[t.TTD],decls:58,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","smoking"],["name","menarche","id","menarche","formControlName","menarche","type","number",1,"input","disabled:bg-gray-300"],["for","lmp"],["name","lmp","id","lmp","formControlName","lmp","type","date","placeholder","mm/dd/yyyy",1,"input","disabled:bg-gray-300",3,"max"],["for","period_duration"],["name","period_duration","id","period_duration","formControlName","period_duration","type","number",1,"input","disabled:bg-gray-300"],["for","cycle"],["name","cycle","id","cycle","formControlName","cycle","type","number",1,"input","disabled:bg-gray-300"],["for","pads_per_day"],["name","pads_per_day","id","pads_per_day","formControlName","pads_per_day","type","number",1,"input","disabled:bg-gray-300"],["for","onset_sexual_intercourse"],["name","onset_sexual_intercourse","id","onset_sexual_intercourse","formControlName","onset_sexual_intercourse","type","number",1,"input","disabled:bg-gray-300"],["for","method"],["name","method","id","method","formControlName","method",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","menopause"],["name","menopause","id","menopause","formControlName","menopause",1,"input","disabled:bg-gray-300"],[3,"ngValue"],["class","relative text-sm w-1/2 px-5 py-2 mt-2",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],["for","menopause_age"],["name","menopause_age","id","menopause_age","formControlName","menopause_age","type","number",1,"input","disabled:bg-gray-300"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Menstrual History "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Menarche"),t.qZA(),t._UZ(13,"input",11),t.qZA(),t.TgZ(14,"div",9)(15,"label",12),t._uU(16,"Last menstrual period"),t.qZA(),t._UZ(17,"input",13),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"label",14),t._uU(21,"Period duration"),t.qZA(),t._UZ(22,"input",15),t.qZA(),t.TgZ(23,"div",9)(24,"label",16),t._uU(25,"Cycle"),t.qZA(),t._UZ(26,"input",17),t.qZA()(),t.TgZ(27,"div",8)(28,"div",9)(29,"label",18),t._uU(30,"Pads per day"),t.qZA(),t._UZ(31,"input",19),t.qZA(),t.TgZ(32,"div",9)(33,"label",20),t._uU(34,"Onset sexual intercourse"),t.qZA(),t._UZ(35,"input",21),t.qZA()(),t.TgZ(36,"div",8)(37,"div",9)(38,"label",22),t._uU(39,"Family planning method"),t.qZA(),t.TgZ(40,"select",23),t.YNc(41,On,2,2,"option",24),t.qZA()()(),t.TgZ(42,"div",8)(43,"div",9)(44,"label",25),t._uU(45,"Menopause"),t.qZA(),t.TgZ(46,"select",26)(47,"option",27),t._uU(48,"Yes"),t.qZA(),t.TgZ(49,"option",27),t._uU(50,"No"),t.qZA()()(),t.YNc(51,Dn,4,0,"div",28),t.qZA()()()(),t.TgZ(52,"div",29)(53,"button",30),t.NdJ("click",function(){return o.closeModal()}),t._uU(54,"Close"),t.qZA(),t.TgZ(55,"button",31),t.NdJ("click",function(){return o.onSubmit()}),t._uU(56),t.qZA()()()()(),t._UZ(57,"div",32)),2&e&&(t.xp6(7),t.Q6J("formGroup",o.menstrualForm),t.xp6(10),t.Q6J("max",o.max_date),t.xp6(24),t.Q6J("ngForOf",o.fp_method),t.xp6(6),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(2),t.Q6J("ngIf",!0===o.menstrualForm.value.menopause),t.xp6(4),t.Q6J("disabled",o.is_saving||o.menstrualForm.invalid),t.xp6(1),t.hij(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[s.sg,s.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u]}),i})();function Ln(i,n){if(1&i&&t._UZ(0,"fa-icon",21),2&i){const e=t.oxw();t.Q6J("icon",e.faSpinner)}}function Sn(i,n){if(1&i&&(t.TgZ(0,"tr",22)(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"th",24),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",e.operation," "),t.xp6(2),t.hij(" ",t.xi3(5,2,e.operation_date,"MM/dd/yyyy")," ")}}let En=(()=>{class i{editSurgical(e){this.surgical_form=e}loadData(){this.http.get("patient-surgical-history/history",{params:{patient_id:this.patient_info.id}}).subscribe({next:e=>{console.log(e.data),this.surgical_list=e.data},error:e=>console.log(e)})}onSubmit(){let e;this.is_saving=!0,this.surgical_form.patient_id=this.patient_info.id,console.log(this.surgical_form),e=this.surgical_form.id?this.http.update("patient-surgical-history/history/",this.surgical_form.id,this.surgical_form):this.http.post("patient-surgical-history/history",this.surgical_form),e.subscribe({next:o=>{console.log(o),this.is_saving=!1,this.toastr.success("Successfully recorded!","Operation History"),this.resetField(),this.loadData()},error:o=>console.log(o)})}resetField(){this.surgical_form.operation=null,this.surgical_form.operation_date=null}closeModal(){this.toggleModal.emit({modal_name:"surgical-history"})}constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.faSpinner=d.LM3,this.faPenToSquare=d.Yai,this.surgical_list=[],this.surgical_form={patient_id:null,operation:null,operation_date:null},this.is_saving=!1}ngOnInit(){this.loadData()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-surgical-modal"]],inputs:{patient_info:"patient_info"},outputs:{toggleModal:"toggleModal"},decls:33,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-3","gap-4","w-full","text-left","py-2","px-10"],[1,"col-span-1"],["for","operation",1,"text-sm"],["name","operation","type","text",1,"input",3,"ngModel","ngModelChange"],["for","operation_date",1,"text-sm"],["name","operation_date","type","date",1,"input",3,"ngModel","ngModelChange"],["type","button",1,"btn-save","w-full","mt-6","disabled:bg-gray-300",3,"disabled","click"],["spin","true","class","mr-2",3,"icon",4,"ngIf"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["spin","true",1,"mr-2",3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["scope","row",1,"py-4","px-6"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Surgical History "),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Surgical procedure"),t.qZA(),t.TgZ(11,"input",9),t.NdJ("ngModelChange",function(r){return o.surgical_form.operation=r}),t.qZA()(),t.TgZ(12,"div",7)(13,"label",10),t._uU(14,"Date"),t.qZA(),t.TgZ(15,"input",11),t.NdJ("ngModelChange",function(r){return o.surgical_form.operation_date=r}),t.qZA()(),t.TgZ(16,"div",7)(17,"button",12),t.NdJ("click",function(){return o.onSubmit()}),t.YNc(18,Ln,1,1,"fa-icon",13),t._uU(19),t.qZA()()(),t.TgZ(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),t._uU(24,"Description"),t.qZA(),t.TgZ(25,"th",16),t._uU(26,"Surgical Date"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,Sn,6,5,"tr",17),t.qZA()()(),t.TgZ(29,"div",18)(30,"button",19),t.NdJ("click",function(){return o.closeModal()}),t._uU(31,"Close"),t.qZA()()()()(),t._UZ(32,"div",20)),2&e&&(t.xp6(11),t.Q6J("ngModel",o.surgical_form.operation),t.xp6(4),t.Q6J("ngModel",o.surgical_form.operation_date),t.xp6(2),t.Q6J("disabled",!o.surgical_form.operation||!o.surgical_form.operation_date),t.xp6(1),t.Q6J("ngIf",o.is_saving),t.xp6(1),t.hij(" ",o.is_saving?"Saving":"Save"," "),t.xp6(9),t.Q6J("ngForOf",o.surgical_list))},dependencies:[s.sg,s.O5,c.BN,l.Fj,l.JJ,l.On,s.uU]}),i})(),Kn=(()=>{class i{onDelete(){this.is_saving=!0,this.confirm_code===this.confirmation_code?this.http.delete("patient-surgical-history/history/",this.surgery_to_delete.id).subscribe({next:()=>{this.is_saving=!1,this.toastr.error("Record was deleted!","Surgery record"),this.closeModal()},error:e=>console.log(e)}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}closeModal(){this.toggleModal.emit({modal_name:"surgical-action"})}constructor(e,o){this.http=e,this.toastr=o,this.toggleModal=new t.vpe,this.faTrash=d.$aW,this.confirm_code="0000",this.is_saving=!1}ngOnInit(){this.generateCode()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-surgical-action-modal"]],inputs:{surgery_to_delete:"surgery_to_delete"},outputs:{toggleModal:"toggleModal"},decls:28,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:opacity-75","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-5",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),t._uU(10," Your are about to delete a surgical history record for this patient. Please enter the generated delete code in order to proceed. "),t.qZA(),t.TgZ(11,"div",9)(12,"span",10),t._uU(13,"Delete Code"),t.qZA(),t.TgZ(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"div",9)(17,"label",12),t._uU(18,"Enter Code"),t.qZA(),t.TgZ(19,"input",13),t.NdJ("ngModelChange",function(r){return o.confirmation_code=r}),t.qZA()(),t.TgZ(20,"div",14)(21,"button",15),t.NdJ("click",function(){return o.onDelete()}),t._UZ(22,"fa-icon",16),t._uU(23," Delete "),t.qZA()()()()(),t.TgZ(24,"div",17)(25,"button",18),t.NdJ("click",function(){return o.closeModal()}),t._uU(26,"Cancel"),t.qZA()()()()(),t._UZ(27,"div",19)),2&e&&(t.xp6(5),t.hij(" DELETE SURGICAL HISTORY (",o.surgery_to_delete.operation,") "),t.xp6(10),t.Oqu(o.confirm_code),t.xp6(4),t.Q6J("ngModel",o.confirmation_code),t.xp6(2),t.Q6J("disabled",!o.confirmation_code),t.xp6(1),t.Q6J("icon",o.faTrash))},dependencies:[c.BN,l.Fj,l.JJ,l.On]}),i})();var Gn=g(6205);function Bn(i,n){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"apx-chart",11),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.chartOptions?null:e.chartOptions.series)("chart",null==e.chartOptions?null:e.chartOptions.chart)("xaxis",null==e.chartOptions?null:e.chartOptions.xaxis)("stroke",null==e.chartOptions?null:e.chartOptions.stroke)("tooltip",null==e.chartOptions?null:e.chartOptions.tooltip)("dataLabels",null==e.chartOptions?null:e.chartOptions.dataLabels)("title",null==e.chartOptions?null:e.chartOptions.title)}}function Rn(i,n){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"apx-chart",11),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.WeightChart?null:e.WeightChart.series)("chart",null==e.WeightChart?null:e.WeightChart.chart)("xaxis",null==e.WeightChart?null:e.WeightChart.xaxis)("stroke",null==e.WeightChart?null:e.WeightChart.stroke)("tooltip",null==e.WeightChart?null:e.WeightChart.tooltip)("dataLabels",null==e.WeightChart?null:e.WeightChart.dataLabels)("title",null==e.WeightChart?null:e.WeightChart.title)}}function zn(i,n){if(1&i&&(t.TgZ(0,"div",12)(1,"div",14),t._UZ(2,"apx-chart",11),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.BmiChart?null:e.BmiChart.series)("chart",null==e.BmiChart?null:e.BmiChart.chart)("xaxis",null==e.BmiChart?null:e.BmiChart.xaxis)("stroke",null==e.BmiChart?null:e.BmiChart.stroke)("tooltip",null==e.BmiChart?null:e.BmiChart.tooltip)("dataLabels",null==e.BmiChart?null:e.BmiChart.dataLabels)("title",null==e.BmiChart?null:e.BmiChart.title)}}function $n(i,n){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,Bn,3,7,"div",7),t.YNc(2,Rn,3,7,"div",8),t.YNc(3,zn,3,7,"div",8),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.show_bp),t.xp6(1),t.Q6J("ngIf",e.show_weight),t.xp6(1),t.Q6J("ngIf",e.show_bmi)}}function Wn(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"button",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle_content=!a.toggle_content)}),t._UZ(3,"fa-icon",4),t.qZA(),t._uU(4),t.qZA(),t.YNc(5,$n,4,3,"div",5),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.toggle_content?e.faChevronUp:e.faChevronDown),t.xp6(1),t.hij(" ",e.toggle_content?"HIDE ":"SHOW "," VITALS CHART "),t.xp6(1),t.Q6J("ngIf",e.show_graphs&&e.toggle_content)}}let Xn=(()=>{class i{patientVitals(e){this.vitals_graph.systolic=[],this.vitals_graph.diastolic=[],this.vitals_graph.bp_date=[],this.vitals_graph.weight=[],this.vitals_graph.weight_date=[],Object.entries(e).forEach(([o,a],r)=>{let _=a;_.bp_systolic&&(this.vitals_graph.systolic.push(_.bp_systolic),this.vitals_graph.diastolic.push(_.bp_diastolic),this.vitals_graph.bp_date.push(_.vitals_date)),_.patient_weight&&(this.vitals_graph.weight.push(_.patient_weight),this.vitals_graph.weight_date.push(_.vitals_date)),_.patient_bmi&&(this.vitals_graph.bmi.push(_.patient_bmi),this.vitals_graph.bmi_date.push(_.vitals_date))}),this.vitals_graph.systolic.length>0||this.vitals_graph.diastolic.length>0||this.vitals_graph.weight.length>0||this.vitals_graph.bmi.length>0?(this.selected_chart="all_chart",this.loadChart(this.selected_chart)):this.showChart=!1,this.generateAllChart()}generateBPChart(){this.chartOptions={series:[{name:"Systolic",data:this.vitals_graph.systolic},{name:"Diastolic",data:this.vitals_graph.diastolic}],chart:{height:200,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Blood Pressure History"},xaxis:{type:"datetime",categories:this.vitals_graph.bp_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateWeightChart(){this.WeightChart={series:[{name:"Weight",data:this.vitals_graph.weight}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Weight History"},xaxis:{type:"datetime",categories:this.vitals_graph.weight_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateBMIChart(){this.BmiChart={series:[{name:"BMI",data:this.vitals_graph.bmi}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"BMI History"},xaxis:{type:"datetime",categories:this.vitals_graph.bmi_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}loadChart(e){switch(this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,e){case"bp_chart":this.show_bp=!0;break;case"weight_chart":this.show_weight=!0;break;case"bmi_chart":this.show_bmi=!0;break;case"bmi_weight_chart":this.show_weight=!0,this.show_bmi=!0;break;case"bp_weight_chart":this.show_bp=!0,this.show_weight=!0;break;case"all_chart":this.show_bp=!0,this.show_weight=!0,this.show_bmi=!0}this.showChart=!0}generateAllChart(){this.generateBPChart(),this.generateWeightChart(),this.generateBMIChart()}constructor(){this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.showChart=!1,this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,this.show_graphs=!0,this.vitals_graph={systolic:[],diastolic:[],bp_date:[],weight:[],weight_date:[],bmi:[],bmi_date:[]}}ngOnChanges(e){this.patient_vitals&&this.patientVitals(this.patient_vitals)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-graph"]],inputs:{patient_vitals:"patient_vitals"},features:[t.TTD],decls:1,vars:1,consts:[["class","grid grid-cols-1 w-full h-auto",4,"ngIf"],[1,"grid","grid-cols-1","w-full","h-auto"],[1,"w-full","flex","ml-5","font-semibold","my-0","text-sky-500"],["type","button",1,"font-normal","px-2","py-1","text-sm","mr-2",3,"click"],["size","lg",3,"icon"],["class","cols-span-1 flex w-full mt-3",4,"ngIf"],[1,"cols-span-1","flex","w-full","mt-3"],["class","w-1/3 shadow px-2 mr-2 py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],["class","w-1/3 shadow px-2 ml-2  py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],[1,"w-1/3","shadow","px-2","mr-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","bp-chart"],[3,"series","chart","xaxis","stroke","tooltip","dataLabels","title"],[1,"w-1/3","shadow","px-2","ml-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","weight-chart"],["id","bmi-chart"]],template:function(e,o){1&e&&t.YNc(0,Wn,6,3,"div",0),2&e&&t.Q6J("ngIf",o.showChart)},dependencies:[s.O5,c.BN,Gn.x]}),i})();function ta(i,n){if(1&i&&(t.TgZ(0,"option",36),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}let ea=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("patient-pregnancy-history/history",this.pregnancyForm.value).subscribe({next:e=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Pregnancy History"),this.closeModal()},error:e=>console.log(e)})}createForm(){this.patient_info&&(this.pregnancyForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_info.id],gravidity:[null,l.kI.required],parity:[null,l.kI.required],full_term:[null,l.kI.required],preterm:[null,l.kI.required],abortion:[null,l.kI.required],livebirths:[null,l.kI.required],delivery_type:[null,l.kI.required],induced_hypertension:[null,l.kI.required],with_family_planning:[null,l.kI.required]}),this.pregnancy_history&&this.patchValue())}patchValue(){this.pregnancyForm.patchValue({...this.pregnancy_history}),this.pregnancyForm.patchValue({induced_hypertension:this.pregnancy_history.inducedHypertension.id,with_family_planning:this.pregnancy_history.withFamilyPlanning.id,delivery_type:this.pregnancy_history.libPregnancyDeliveryType.code})}closeModal(){this.toggleModal.emit("preghist")}get f(){return this.pregnancyForm.controls}ngOnChanges(e){}constructor(e,o,a){this.formBuilder=e,this.http=o,this.toastr=a,this.loadData=new t.vpe,this.toggleModal=new t.vpe,this.is_saving=!1,this.max_date=(0,s.p6)(new Date,"yyyy-MM-dd","en"),this.pregnancyForm=new l.cw({patient_id:new l.NI(null),gravidity:new l.NI(null),parity:new l.NI(null),full_term:new l.NI(null),preterm:new l.NI(null),abortion:new l.NI(null),livebirths:new l.NI(null),delivery_type:new l.NI(null),induced_hypertension:new l.NI(null),with_family_planning:new l.NI(null)})}ngOnInit(){this.createForm()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(m.O),t.Y36(b._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-preghist-modal"]],inputs:{patient_info:"patient_info",pregnancy_history:"pregnancy_history",delivery_method:"delivery_method"},outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[t.TTD],decls:65,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"flex","px-5","w-full"],[1,"relative","text-sm","w-1/2","px-5","py-2","mt-2"],["for","gravidity"],["name","gravidity","id","gravidity","formControlName","gravidity","type","number",1,"input","disabled:bg-gray-300"],["for","parity"],["name","parity","id","parity","formControlName","parity","type","number",1,"input","disabled:bg-gray-300"],["for","full_term"],["name","full_term","id","full_term","formControlName","full_term","type","number",1,"input","disabled:bg-gray-300"],["for","preterm"],["name","preterm","id","preterm","formControlName","preterm","type","number",1,"input","disabled:bg-gray-300"],["for","abortion"],["name","abortion","id","abortion","formControlName","abortion","type","number",1,"input","disabled:bg-gray-300"],["for","livebirths"],["name","livebirths","id","livebirths","formControlName","livebirths","type","number",1,"input","disabled:bg-gray-300"],[1,"relative","text-sm","w-full","px-5","py-2","mt-2"],["for","delivery_type"],["name","delivery_type","id","delivery_type","formControlName","delivery_type",1,"input","disabled:bg-gray-300"],[3,"value",4,"ngFor","ngForOf"],["for","induced_hypertension"],["name","induced_hypertension","id","induced_hypertension","formControlName","induced_hypertension",1,"input","disabled:bg-gray-300"],["value","N"],["value","Y"],["for","with_family_planning"],["name","with_family_planning","id","with_family_planning","formControlName","with_family_planning",1,"input","disabled:bg-gray-300"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Pregnancy History "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Gravidity"),t.qZA(),t._UZ(13,"input",11),t.qZA(),t.TgZ(14,"div",9)(15,"label",12),t._uU(16,"Parity"),t.qZA(),t._UZ(17,"input",13),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"label",14),t._uU(21,"Full Term"),t.qZA(),t._UZ(22,"input",15),t.qZA(),t.TgZ(23,"div",9)(24,"label",16),t._uU(25,"Preterm"),t.qZA(),t._UZ(26,"input",17),t.qZA()(),t.TgZ(27,"div",8)(28,"div",9)(29,"label",18),t._uU(30,"Abortion"),t.qZA(),t._UZ(31,"input",19),t.qZA(),t.TgZ(32,"div",9)(33,"label",20),t._uU(34,"Livebirths"),t.qZA(),t._UZ(35,"input",21),t.qZA()(),t.TgZ(36,"div",8)(37,"div",22)(38,"label",23),t._uU(39,"Delivery Type"),t.qZA(),t.TgZ(40,"select",24),t.YNc(41,ta,2,2,"option",25),t.qZA()()(),t.TgZ(42,"div",8)(43,"div",9)(44,"label",26),t._uU(45,"Induced Hypertension"),t.qZA(),t.TgZ(46,"select",27)(47,"option",28),t._uU(48,"No"),t.qZA(),t.TgZ(49,"option",29),t._uU(50,"Yes"),t.qZA()()(),t.TgZ(51,"div",9)(52,"label",30),t._uU(53,"With Family Planning"),t.qZA(),t.TgZ(54,"select",31)(55,"option",28),t._uU(56,"No"),t.qZA(),t.TgZ(57,"option",29),t._uU(58,"Yes"),t.qZA()()()()()()(),t.TgZ(59,"div",32)(60,"button",33),t.NdJ("click",function(){return o.closeModal()}),t._uU(61,"Close"),t.qZA(),t.TgZ(62,"button",34),t.NdJ("click",function(){return o.onSubmit()}),t._uU(63),t.qZA()()()()(),t._UZ(64,"div",35)),2&e&&(t.xp6(7),t.Q6J("formGroup",o.pregnancyForm),t.xp6(34),t.Q6J("ngForOf",o.delivery_method),t.xp6(21),t.Q6J("disabled",o.is_saving||o.pregnancyForm.invalid),t.xp6(1),t.hij(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[s.sg,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u]}),i})();function ia(i,n){if(1&i&&t._UZ(0,"app-graph",53),2&i){const e=t.oxw();t.Q6J("patient_vitals",e.patient_vitals)}}function oa(i,n){1&i&&t._UZ(0,"router-outlet")}function na(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-module-modal",54),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("module"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("philhealth_details",e.philhealth_details)("patient_info",e.patient_info)("patient_age",e.patient_age)}}function aa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-lab-request-modal",55),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("lab-request"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("lab_req_list",e.lab_req_list)("patient_info",e.patient_info)("consult_id",e.consult_id)}}function la(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-history-modal",56),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("history"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("history_list",e.history_list)("past_medical",e.past_medical)}}function ra(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-fam-history-modal",57),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("history_list",e.history_list)("family_medical",e.family_medical)}}function sa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-lifestyle-modal",58),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("social_history",e.social_history)}}function da(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-menstrual-modal",59),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("menstrual_history",e.menstrual_history)("fp_method",e.fp_method)}}function _a(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-preghist-modal",60),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("pregnancy_history",e.pregnancy_history)("delivery_method",e.delivery_method)}}function ca(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-vitals-modal",61),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("vitals"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_age",e.patient_age)("patient_info",e.patient_info)("vitals_to_edit",e.vitals_to_edit)}}function pa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-vitals-list-modal",62),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("vitals-list"))})("vitalsEdit",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.vitalsEdit(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)}}function ua(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-philhealth-modal",63),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("philhealth_to_edit",e.philhealth_to_edit)}}function ma(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-philhealth-list-modal",64),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("philhealth-list"))})("philhealthEdit",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.philhealthEdit(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)}}function ga(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-vaccine-modal",65),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("vaccine"))})("loadData",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.loadData(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)("vaccines_given",e.vaccines_given)}}function ha(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-vaccine-action-modal",66),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("vaccine_to_edit",e.vaccine_to_edit)}}function fa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-surgical-modal",67),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)}}function va(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-surgical-action-modal",68),t.NdJ("toggleModal",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("surgery_to_delete",e.surgery_to_delete)}}function ba(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-allergies-modal",69),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("allergies"))}),t.qZA()}}function xa(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-medication-modal",69),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("medication"))}),t.qZA()}}function ya(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-death-modal",69),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("death"))}),t.qZA()}}function Za(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-photo-modal",67),t.NdJ("toggleModal",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleModal("photo"))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("patient_info",e.patient_info)}}const wa=function(i){return{"text-rose-400":i}};let Ta=(()=>{class i{reloadChild(e){switch(e){case"ncd":this.reloadNCDVitals.emit();break;case"lab":this.reloadLabs.emit()}}constructor(e,o,a){this.router=e,this.http=o,this.ageService=a,this.reloadNCDVitals=new t.vpe,this.reloadLabs=new t.vpe,this.no_graph_list=["lab","dispensing"],this.faNotesMedical=d.AKf,this.faFlask=d.jZZ,this.faHeart=d.m6i,this.faExclamationCircle=d.RLE,this.faPenSquare=d.e0A,this.faClipboardUser=d.e_0,this.faCamera=d._jT,this.show_form=!1,this.show_vitals=!1,this.lab_request=!1,this.accordions=[],this.modals=[],this.navigationEnd$=this.router.events.pipe((0,y.h)(r=>r instanceof x.m2),(0,w.b)(()=>{this.getPatient()}))}loadData(e){("past_medical"===e||"all"===e)&&this.pastMedical.loadData(this.patient_info.id),("family_medical"===e||"all"===e)&&this.familyMedical.loadData(this.patient_info.id),("vaccines"===e||"all"===e)&&this.vaccine.loadData(this.patient_info.id),("philhealth"===e||"all"===e)&&this.philhealth.loadData(this.patient_info.id),("social_history"===e||"all"===e)&&this.socialHistory.loadData(this.patient_info.id),("surgical_history"===e||"all"===e)&&this.surgicalHistory.loadData(this.patient_info.id),("menstrual_history"===e||"all"===e)&&this.menstrualHistory.loadData(this.patient_info.id),("pregnancy_history"===e||"all"===e)&&this.preghist.loadData(this.patient_info.id),("vitals"===e||"all"===e)&&this.vitals.loadData(this.patient_info.id),("laboratory"===e||"all"===e)&&"lab"!==this.active_loc&&this.laboratories.loadData(this.patient_info.id),("prescription"===e||"all"===e)&&"dispensing"!==this.active_loc&&this.prescriptions.loadData(this.patient_info.id)}navigateTo(e){this.router.navigate(["/patient/"+e,{id:this.patient_info.id}])}editPatient(e){e&&this.router.navigate(["/edit-patient",{id:e}])}getPatient(){this.active_loc_id=this.http.getUrlParams(),this.active_loc=this.active_loc_id.loc,this.consult_id=this.active_loc_id.consult_id??null,this.patient_id!==this.active_loc_id.patient_id?(this.patient_id=this.active_loc_id.patient_id,this.http.get("patient/"+this.active_loc_id.patient_id).subscribe({next:e=>{this.patient_info=e.data,this.show_form=!0,this.http.setPatientInfo(this.patient_info),this.loadData("all"),this.accordions.vitals=!0,this.accordions.lab_request=!0,this.accordions.prescriptions=!0},error:e=>{console.log(e)}})):this.reloadData()}reloadData(){switch(this.active_loc){case"lab":this.loadData("prescription");break;case"dispensing":this.loadData("laboratory")}}setDetails(e){this[e.var_name]=e.data}setSurgicalHistory(e){this.surgical_history=e}setPastMedical(e){this.past_medical=e}setFamilyMedical(e){this.family_medical=e}setMenstrual(e){this.menstrual_history=e}setLabList(e){this.lab_req_list=e}setVaccineGiven(e){this.vaccines_given=e}setVitals(e){this.patient_vitals=e}vitalsEdit(e){this.vitals_to_edit=e,this.toggleModal("vitals")}philhealthEdit(e){this.philhealth_to_edit=e,this.toggleModal("philhealth")}toggleModal(e,o){"fam-history"===e||"history"===e?(this.history_list?this.modals[e]=!this.modals[e]:this.loadLibrary("libraries/medical-history","history_list",e),"history"===e&&!1===this.modals.history&&this.loadData("past_medical"),"fam-history"===e&&!1===this.modals["fam-history"]&&this.loadData("family_medical")):"surgical-history"===e.modal_name||"surgical-action"===e.modal_name?(this.modals[e.modal_name]=!this.modals[e.modal_name],"surgical-action"===e.modal_name&&!0===this.modals["surgical-action"]&&(this.surgery_to_delete=e.data),("surgical-history"===e.modal_name&&!1===this.modals["surgical-history"]||"surgical-action"===e.modal_name&&!1===this.modals["surgical-action"])&&(this.loadData("surgical_history"),this.surgery_to_delete=null)):"menstrual"===e?(this.fp_method?this.modals[e]=!this.modals[e]:this.loadLibrary("libraries/family-planning-method","fp_method","menstrual"),"menstrual"===e&&!1===this.modals.menstrual&&this.loadData("menstrual_history")):"preghist"===e?(this.delivery_method?this.modals[e]=!this.modals[e]:this.loadLibrary("libraries/pregnancy-delivery-type","delivery_method","preghist"),"preghist"===e&&!1===this.modals.preghist&&this.loadData("pregnancy_history")):(this.modals[e.modal_name??e]=!this.modals[e.modal_name??e],"vitals"===e&&!1===this.modals[e]&&(0==this.modals.vitals&&(this.vitals_to_edit=null),this.loadData("vitals")),"philhealth"===e.modal_name&&!1===this.modals[e.modal_name]&&(!1===this.modals.philhealth&&(this.philhealth_to_edit=null),this.loadData("philhealth")),"vaccine"===e.modal_name&&!0===this.modals[e.modal_name]&&(this.vaccines_given=e.data),"vaccine-action"===e.modal_name&&(!0===this.modals[e.modal_name]?this.vaccine_to_edit=e.data:this.loadData("vaccines")),"lifestyle"===e&&!1===this.modals.lifestyle&&this.loadData("social_history"),"lab-request"===e&&!1===this.modals[e]&&this.loadData("laboratory"))}toggleAccordion(e){this.accordions[e]=!this.accordions[e]}loadLibrary(e,o,a){this.http.get(e).subscribe({next:r=>{this[o]=r.data,this.modals[a]=!this.modals[a]},error:r=>console.log(r)})}getInitials(e){return[...e.matchAll(/\b\w/g)].join("")}getAge(){if(this.patient_info&&this.patient_info.birthdate){let e=this.ageService.calcuateAge(this.patient_info.birthdate);return this.patient_age=e,e.age+" "+e.type+(e.age>1?"s old":" old")}}ngOnInit(){this.getPatient(),this.navigationEnd$.subscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.F0),t.Y36(m.O),t.Y36(Ce.J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-patient-info"]],viewQuery:function(e,o){if(1&e&&(t.Gf(E,5),t.Gf(H,5),t.Gf($,5),t.Gf(K,5),t.Gf(L,5),t.Gf(B,5),t.Gf(R,5),t.Gf(z,5),t.Gf(S,5),t.Gf(Nt,5),t.Gf(W,5),t.Gf(G,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.pastMedical=a.first),t.iGM(a=t.CRH())&&(o.familyMedical=a.first),t.iGM(a=t.CRH())&&(o.vaccine=a.first),t.iGM(a=t.CRH())&&(o.philhealth=a.first),t.iGM(a=t.CRH())&&(o.laboratories=a.first),t.iGM(a=t.CRH())&&(o.prescriptions=a.first),t.iGM(a=t.CRH())&&(o.socialHistory=a.first),t.iGM(a=t.CRH())&&(o.surgicalHistory=a.first),t.iGM(a=t.CRH())&&(o.menstrualHistory=a.first),t.iGM(a=t.CRH())&&(o.pregnancyHistory=a.first),t.iGM(a=t.CRH())&&(o.vitals=a.first),t.iGM(a=t.CRH())&&(o.preghist=a.first)}},decls:74,vars:61,consts:[[1,"grid","grid-cols-11","mt-4","gap-4"],[1,"col-span-8"],[3,"patient_vitals",4,"ngIf"],[4,"ngIf"],[1,"col-span-3"],[1,"rounded-xl","text-gray-600","border","border-slate-100"],[1,"block","m-0","relative","p-0","scrollbar-thumb-white","hover:scrollbar-thumb-blue-300","scrollbar-track-white"],[1,"flex","justify-items-start","sticky","top-0","bg-white","rounded-lg","border","border-gray-200","shadow-md","p-2"],[1,"m-3"],[1,"group","cursor-pointer","inline-flex","overflow-hidden","relative","justify-center","items-center","w-16","h-16","bg-gray-100","rounded-full","hover:bg-gray-700","hover:opacity-50",3,"click"],[1,"font-medium","text-gray-600","opacity-100","group-hover:opacity-50"],[1,"absolute","text-white","opacity-0","group-hover:opacity-100"],["size","xl",3,"icon"],[1,"mt-4","leading-tight"],[1,"block","text-blue-500","font-medium"],[1,"block","text-xs"],[1,"flex","pt-2","justify-between"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-blue-500","mr-2",3,"icon","click"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"icon","ngClass","click"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-gray-500","mr-2",3,"icon","click"],["size","lg",1,"mx-0","my-0","text-gray-500","mr-2",3,"icon"],["size","lg",1,"cursor-pointer","mx-0","my-0","text-amber-500","mr-2",3,"icon","click"],[1,"block","justify-items-start","mx-5","pb-5","border-b","border-gray-200"],[1,"mt-4","flex","justify-center"],["type","button",1,"w-48","inline-flex","justify-center","px-5","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-sky-500","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-sky-500",3,"click"],[1,"block","text-blue-500","font-medium","text-sm"],[1,"block","text-xs","pl-3"],[3,"accordions","setDetails","toggleAccordion","toggleModal"],[3,"accordions","consult_id","patient_info","toggleAccordion","navigateTo"],[3,"accordions","toggleAccordion","navigateTo","toggleModal","setLabList"],[3,"accordions","toggleAccordion","toggleModal","setVitals"],[3,"accordions","toggleAccordion","toggleModal","setVaccineGiven"],[3,"accordions","toggleAccordion","toggleModal","setPastMedical"],[3,"accordions","toggleAccordion","toggleModal","setMenstrual"],[3,"accordions","toggleAccordion","toggleModal","setDetails"],[3,"accordions","toggleAccordion","toggleModal","setFamilyMedical"],[3,"accordions","toggleAccordion","toggleModal","setSurgicalHistory"],[3,"philhealth_details","patient_info","patient_age","toggleModal",4,"ngIf"],[3,"lab_req_list","patient_info","consult_id","toggleModal",4,"ngIf"],[3,"patient_info","history_list","past_medical","toggleModal",4,"ngIf"],[3,"patient_info","history_list","family_medical","toggleModal",4,"ngIf"],[3,"patient_info","social_history","toggleModal",4,"ngIf"],[3,"patient_info","menstrual_history","fp_method","toggleModal",4,"ngIf"],[3,"patient_info","pregnancy_history","delivery_method","toggleModal",4,"ngIf"],[3,"patient_age","patient_info","vitals_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","vitalsEdit",4,"ngIf"],[3,"patient_info","philhealth_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal","philhealthEdit",4,"ngIf"],[3,"patient_info","vaccines_given","toggleModal","loadData",4,"ngIf"],[3,"vaccine_to_edit","toggleModal",4,"ngIf"],[3,"patient_info","toggleModal",4,"ngIf"],[3,"surgery_to_delete","toggleModal",4,"ngIf"],[3,"toggleModal",4,"ngIf"],[3,"patient_vitals"],[3,"philhealth_details","patient_info","patient_age","toggleModal"],[3,"lab_req_list","patient_info","consult_id","toggleModal"],[3,"patient_info","history_list","past_medical","toggleModal"],[3,"patient_info","history_list","family_medical","toggleModal"],[3,"patient_info","social_history","toggleModal"],[3,"patient_info","menstrual_history","fp_method","toggleModal"],[3,"patient_info","pregnancy_history","delivery_method","toggleModal"],[3,"patient_age","patient_info","vitals_to_edit","toggleModal"],[3,"patient_info","toggleModal","vitalsEdit"],[3,"patient_info","philhealth_to_edit","toggleModal"],[3,"patient_info","toggleModal","philhealthEdit"],[3,"patient_info","vaccines_given","toggleModal","loadData"],[3,"vaccine_to_edit","toggleModal"],[3,"patient_info","toggleModal"],[3,"surgery_to_delete","toggleModal"],[3,"toggleModal"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ia,1,1,"app-graph",2),t.YNc(3,oa,1,0,"router-outlet",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),t.NdJ("click",function(){return o.toggleModal("photo")}),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t.TgZ(12,"span",11),t._UZ(13,"fa-icon",12),t.qZA()()(),t.TgZ(14,"div",13)(15,"span",14),t._uU(16),t.qZA(),t.TgZ(17,"span",15),t._uU(18),t.ALo(19,"date"),t.qZA(),t.TgZ(20,"div",16)(21,"div")(22,"fa-icon",17),t.NdJ("click",function(){return o.navigateTo("itr")}),t.qZA(),t.TgZ(23,"fa-icon",18),t.NdJ("click",function(){return o.toggleModal("vitals-list")}),t.qZA(),t.TgZ(24,"fa-icon",19),t.NdJ("click",function(){return o.navigateTo("lab")}),t.qZA(),t._UZ(25,"fa-icon",20)(26,"fa-icon",20),t.TgZ(27,"fa-icon",21),t.NdJ("click",function(){return o.editPatient(null==o.patient_info?null:o.patient_info.id)}),t.qZA()()()()(),t.TgZ(28,"div",22)(29,"div",23)(30,"button",24),t.NdJ("click",function(){return o.toggleModal("module")}),t._uU(31,"Navigate Programs"),t.qZA()(),t.TgZ(32,"div",13)(33,"span",25),t._uU(34," ADDRESS "),t.qZA(),t.TgZ(35,"span",26),t._uU(36),t._UZ(37,"br"),t._uU(38),t.qZA()(),t.TgZ(39,"div",13)(40,"span",25),t._uU(41," CONTACT NUMBER "),t.qZA(),t.TgZ(42,"span",26),t._uU(43),t.qZA()(),t.TgZ(44,"app-philhealth",27),t.NdJ("setDetails",function(r){return o.setDetails(r)})("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)}),t.qZA()(),t.TgZ(45,"app-prescriptions",28),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("navigateTo",function(r){return o.navigateTo(r)}),t.qZA(),t.TgZ(46,"app-laboratory",29),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("navigateTo",function(r){return o.navigateTo(r)})("toggleModal",function(r){return o.toggleModal(r)})("setLabList",function(r){return o.setLabList(r)}),t.qZA(),t.TgZ(47,"app-vitals",30),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setVitals",function(r){return o.setVitals(r)}),t.qZA(),t.TgZ(48,"app-vaccine",31),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setVaccineGiven",function(r){return o.setVaccineGiven(r)}),t.qZA(),t.TgZ(49,"app-past-medical",32),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setPastMedical",function(r){return o.setPastMedical(r)}),t.qZA(),t.TgZ(50,"app-menstrual-history",33),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setMenstrual",function(r){return o.setMenstrual(r)}),t.qZA(),t.TgZ(51,"app-preghist",34),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setDetails",function(r){return o.setDetails(r)}),t.qZA(),t.TgZ(52,"app-family-medical",35),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setFamilyMedical",function(r){return o.setFamilyMedical(r)}),t.qZA(),t.TgZ(53,"app-social-history",34),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setDetails",function(r){return o.setDetails(r)}),t.qZA(),t.TgZ(54,"app-surgical-history",36),t.NdJ("toggleAccordion",function(r){return o.toggleAccordion(r)})("toggleModal",function(r){return o.toggleModal(r)})("setSurgicalHistory",function(r){return o.setSurgicalHistory(r)}),t.qZA()()()()(),t.YNc(55,na,1,3,"app-module-modal",37),t.YNc(56,aa,1,3,"app-lab-request-modal",38),t.YNc(57,la,1,3,"app-history-modal",39),t.YNc(58,ra,1,3,"app-fam-history-modal",40),t.YNc(59,sa,1,2,"app-lifestyle-modal",41),t.YNc(60,da,1,3,"app-menstrual-modal",42),t.YNc(61,_a,1,3,"app-preghist-modal",43),t.YNc(62,ca,1,3,"app-vitals-modal",44),t.YNc(63,pa,1,1,"app-vitals-list-modal",45),t.YNc(64,ua,1,2,"app-philhealth-modal",46),t.YNc(65,ma,1,1,"app-philhealth-list-modal",47),t.YNc(66,ga,1,2,"app-vaccine-modal",48),t.YNc(67,ha,1,1,"app-vaccine-action-modal",49),t.YNc(68,fa,1,1,"app-surgical-modal",50),t.YNc(69,va,1,1,"app-surgical-action-modal",51),t.YNc(70,ba,1,0,"app-allergies-modal",52),t.YNc(71,xa,1,0,"app-medication-modal",52),t.YNc(72,ya,1,0,"app-death-modal",52),t.YNc(73,Za,1,1,"app-photo-modal",50)),2&e&&(t.xp6(2),t.Q6J("ngIf",-1===o.no_graph_list.indexOf(o.active_loc)),t.xp6(1),t.Q6J("ngIf",o.show_form),t.xp6(8),t.Oqu(o.getInitials((null==o.patient_info?null:o.patient_info.first_name)+" "+(null==o.patient_info?null:o.patient_info.last_name))),t.xp6(2),t.Q6J("icon",o.faCamera),t.xp6(3),t.HOy(" ",null==o.patient_info?null:o.patient_info.last_name,", ",null==o.patient_info?null:o.patient_info.first_name," ",null==o.patient_info?null:o.patient_info.middle_name," ","NA"===(null==o.patient_info?null:o.patient_info.suffix_name)?"":null==o.patient_info?null:o.patient_info.suffix_name," "),t.xp6(2),t.lnq(" ",t.xi3(19,56,null==o.patient_info?null:o.patient_info.birthdate,"MM/dd/yyyy")," [",o.getAge(),"][",null==o.patient_info?null:o.patient_info.gender,"] "),t.xp6(4),t.Q6J("icon",o.faClipboardUser),t.xp6(1),t.Q6J("icon",o.faHeart)("ngClass",t.VKq(59,wa,o.latest_vitals)),t.xp6(1),t.Q6J("icon",o.faFlask),t.xp6(1),t.Q6J("icon",o.faNotesMedical),t.xp6(1),t.Q6J("icon",o.faExclamationCircle),t.xp6(1),t.Q6J("icon",o.faPenSquare),t.xp6(9),t.HOy(" ",null!=o.patient_info&&null!=o.patient_info.household_folder&&o.patient_info.household_folder.address?(null==o.patient_info||null==o.patient_info.household_folder?null:o.patient_info.household_folder.address)+", ":"-"," ",null!=o.patient_info&&null!=o.patient_info.household_folder&&o.patient_info.household_folder.barangay.name?"Brgy. "+(null==o.patient_info||null==o.patient_info.household_folder?null:o.patient_info.household_folder.barangay.name)+", ":""," ",null!=o.patient_info&&null!=o.patient_info.household_folder&&o.patient_info.household_folder.barangay.municipality.name?(null==o.patient_info||null==o.patient_info.household_folder?null:o.patient_info.household_folder.barangay.municipality.name)+", ":""," ",null!=o.patient_info&&null!=o.patient_info.household_folder&&o.patient_info.household_folder.barangay.province.name?(null==o.patient_info||null==o.patient_info.household_folder?null:o.patient_info.household_folder.barangay.province.name)+", ":""," "),t.xp6(2),t.hij(" ",null!=o.patient_info&&null!=o.patient_info.household_folder&&o.patient_info.household_folder.barangay.region.name?null==o.patient_info||null==o.patient_info.household_folder?null:o.patient_info.household_folder.barangay.region.name:""," "),t.xp6(5),t.hij(" ",null==o.patient_info?null:o.patient_info.mobile_number," "),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions)("consult_id",o.consult_id)("patient_info",o.patient_info),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("accordions",o.accordions),t.xp6(1),t.Q6J("ngIf",o.modals.module),t.xp6(1),t.Q6J("ngIf",o.modals["lab-request"]),t.xp6(1),t.Q6J("ngIf",o.modals.history),t.xp6(1),t.Q6J("ngIf",o.modals["fam-history"]),t.xp6(1),t.Q6J("ngIf",o.modals.lifestyle),t.xp6(1),t.Q6J("ngIf",o.modals.menstrual),t.xp6(1),t.Q6J("ngIf",o.modals.preghist),t.xp6(1),t.Q6J("ngIf",o.modals.vitals),t.xp6(1),t.Q6J("ngIf",o.modals["vitals-list"]),t.xp6(1),t.Q6J("ngIf",o.modals.philhealth),t.xp6(1),t.Q6J("ngIf",o.modals["philhealth-list"]),t.xp6(1),t.Q6J("ngIf",o.modals.vaccine),t.xp6(1),t.Q6J("ngIf",o.modals["vaccine-action"]),t.xp6(1),t.Q6J("ngIf",o.modals["surgical-history"]),t.xp6(1),t.Q6J("ngIf",o.modals["surgical-action"]),t.xp6(1),t.Q6J("ngIf",o.modals.allergies),t.xp6(1),t.Q6J("ngIf",o.modals.medication),t.xp6(1),t.Q6J("ngIf",o.modals.death),t.xp6(1),t.Q6J("ngIf",o.modals.photo))},dependencies:[s.mk,s.O5,x.lC,c.BN,bi,xi,Mi,Ai,Ui,Ji,Vi,Di,Li,Gi,so,wn,Cn,Nn,Vn,B,E,H,$,W,K,L,R,z,S,Hn,En,Kn,Xn,G,ea,s.uU]}),i})()},6054:(D,q,g)=>{g.d(q,{J:()=>x});var t=g(1571);let x=(()=>{class d{constructor(){}calcuateAge(w,m){let s,M,c=new Date(w);M=m?new Date(m):Date.now();let k=Math.abs(M-c.getTime()),U=Number(Math.round(parseFloat(k/864e5/365.25+"e2"))+"e-2");if(U<1){let p=Math.floor(k/864e5/30);s=p<1?{age:Math.floor(k/864e5),type:"day"}:{age:p,type:"month"}}else s={age:U,type:"year"};return s}}return d.\u0275fac=function(w){return new(w||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6311:(D,q,g)=>{g.d(q,{i:()=>d});var t=g(6895),x=g(1571);let d=(()=>{class y{constructor(){}getLatestToday(m,s){let c=m[0];return Object.entries(m).reverse().forEach(([M,k],U)=>{let p=k;p.patient_height&&(c.patient_height=p.patient_height),p.patient_weight&&(c.patient_weight=p.patient_weight),p.patient_right_vision_acuity&&(c.patient_right_vision_acuity=p.patient_right_vision_acuity),p.patient_left_vision_acuity&&(c.patient_left_vision_acuity=p.patient_left_vision_acuity);let I,J=(0,t.p6)(p.vitals_date,"yyyy-MM-dd","en","en");I=(0,t.p6)(s||new Date,"yyyy-MM-dd","en","en"),J===I&&(p.bp_systolic&&(c.bp_systolic=p.bp_systolic,c.bp_diastolic=p.bp_diastolic),p.patient_spo2&&(c.patient_spo2=p.patient_spo2),p.patient_temp&&(c.patient_temp=p.patient_temp),p.patient_heart_rate&&(c.patient_heart_rate=p.patient_heart_rate),p.patient_respiratory_rate&&(c.patient_respiratory_rate=p.patient_respiratory_rate),p.patient_pulse_rate&&(c.patient_pulse_rate=p.patient_pulse_rate),p.patient_head_circumference&&(c.patient_head_circumference=p.patient_head_circumference),p.patient_muac&&(c.patient_muac=p.patient_muac),p.patient_chest&&(c.patient_chest=p.patient_chest),p.patient_abdomen&&(c.patient_abdomen=p.patient_abdomen),p.patient_waist&&(c.patient_waist=p.patient_waist),p.patient_hip&&(c.patient_hip=p.patient_hip),p.patient_limbs&&(c.patient_limbs=p.patient_limbs),p.patient_skinfold_thickness&&(c.patient_skinfold_thickness=p.patient_skinfold_thickness))}),c}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=x.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()}}]);