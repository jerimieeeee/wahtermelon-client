"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[7485],{7485:(ve,v,d)=>{d.r(v),d.d(v,{DentalModule:()=>be});var r=d(177),f=d(1317),c=d(5383),t=d(4438),u=d(3318),p=d(60),C=d(8437);const $=i=>({"rounded-b":i});function E(i,l){if(1&i&&(t.j41(0,"ul",28)(1,"li"),t.EFF(2),t.k0s()()),2&i){const e=l.$implicit;t.R7$(2),t.JRh(null==e.lib_complaints?null:e.lib_complaints.complaint_desc)}}function I(i,l){if(1&i&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.R7$(),t.SpI(" ",e.diagnosis.class_name," ")}}function D(i,l){if(1&i&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"remarks:"),t.k0s(),t.EFF(3),t.k0s()),2&i){let e;const n=t.XpG().$implicit;t.R7$(3),t.SpI(" ",null!==(e=n.consult_notes.idx_remarks)&&void 0!==e?e:"-"," ")}}function Y(i,l){if(1&i&&(t.j41(0,"li")(1,"span",31),t.EFF(2),t.k0s(),t.EFF(3),t.k0s()),2&i){const e=l.$implicit;t.R7$(2),t.SpI("",e.lib_icd10.icd10_code,":"),t.R7$(),t.SpI(" ",e.lib_icd10.icd10_desc," ")}}function M(i,l){if(1&i&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"remarks:"),t.k0s(),t.EFF(3),t.k0s()),2&i){let e;const n=t.XpG().$implicit;t.R7$(3),t.SpI(" ",null!==(e=n.consult_notes.fdx_remarks)&&void 0!==e?e:"-"," ")}}function N(i,l){if(1&i&&(t.j41(0,"tr",13)(1,"td",14)(2,"div",15)(3,"span",16),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"span",17),t.EFF(7),t.nI1(8,"date"),t.k0s()()(),t.j41(9,"td",18)(10,"div",15)(11,"span",19)(12,"span",20),t.EFF(13,"Complaint notes:"),t.k0s(),t.EFF(14),t.k0s(),t.DNE(15,E,3,1,"ul",21),t.j41(16,"span",22)(17,"span",20),t.EFF(18,"History notes:"),t.k0s(),t.EFF(19),t.k0s()(),t.j41(20,"div",23)(21,"span",20),t.EFF(22,"Initial Diagnosis:"),t.k0s(),t.j41(23,"ul",24),t.DNE(24,I,2,1,"li",25),t.k0s(),t.DNE(25,D,4,1,"div",26),t.k0s(),t.j41(26,"div",27)(27,"span",20),t.EFF(28,"Final Diagnosis:"),t.k0s(),t.j41(29,"ul",24),t.DNE(30,Y,4,2,"li",25),t.k0s(),t.DNE(31,M,4,1,"div",26),t.k0s(),t.j41(32,"div",27)(33,"span",19)(34,"span",20),t.EFF(35,"Treatment Plan:"),t.k0s(),t.EFF(36),t.k0s()()()()),2&i){let e,n,o;const a=l.$implicit;t.R7$(4),t.JRh(t.brH(5,10,a.consult_date,"MM/dd/yyyy","Asia/Manila")),t.R7$(3),t.JRh(t.i5U(8,14,a.consult_date,"hh:mm:ss a")),t.R7$(7),t.SpI(" ",null!==(e=a.consult_notes.complaint)&&void 0!==e?e:"-"," "),t.R7$(),t.Y8G("ngForOf",a.consult_notes.complaints),t.R7$(4),t.SpI(" ",null!==(n=a.consult_notes.history)&&void 0!==n?n:"-"," "),t.R7$(5),t.Y8G("ngForOf",a.consult_notes.initialdx),t.R7$(),t.Y8G("ngIf",a.consult_notes.idx_remarks),t.R7$(5),t.Y8G("ngForOf",a.consult_notes.finaldx),t.R7$(),t.Y8G("ngIf",a.consult_notes.fdx_remarks),t.R7$(5),t.SpI(" ",null!==(o=a.consult_notes.plan)&&void 0!==o?o:"-"," ")}}function X(i,l){if(1&i&&(t.j41(0,"table",10)(1,"thead")(2,"tr",11)(3,"th"),t.EFF(4,"Date"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Details"),t.k0s()()(),t.j41(7,"tbody"),t.DNE(8,N,37,17,"tr",12),t.k0s()()),2&i){const e=t.XpG();t.R7$(8),t.Y8G("ngForOf",e.visit_list)}}function H(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"nav",36)(2,"button",37),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.loadPreviousVisit(1))}),t.nrm(3,"fa-icon",38),t.k0s(),t.j41(4,"button",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.loadPreviousVisit(o.current_page-1))}),t.nrm(5,"fa-icon",38),t.EFF(6,"Previous "),t.k0s(),t.j41(7,"button",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.loadPreviousVisit(o.current_page+1))}),t.EFF(8," Next"),t.nrm(9,"fa-icon",40),t.k0s(),t.j41(10,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.loadPreviousVisit(o.last_page))}),t.nrm(11,"fa-icon",40),t.k0s()()()}if(2&i){const e=t.XpG(2);t.R7$(2),t.Y8G("disabled",1===e.current_page),t.R7$(),t.Y8G("icon",e.faAnglesLeft),t.R7$(),t.Y8G("disabled",1===e.current_page),t.R7$(),t.Y8G("icon",e.faChevronLeft),t.R7$(2),t.Y8G("disabled",e.current_page===e.last_page),t.R7$(2),t.Y8G("icon",e.faChevronRight),t.R7$(),t.Y8G("disabled",e.current_page===e.last_page),t.R7$(),t.Y8G("icon",e.faAnglesRight)}}function V(i,l){if(1&i&&(t.j41(0,"div")(1,"div",32)(2,"div",33)(3,"div")(4,"p",34),t.EFF(5," Showing "),t.j41(6,"span",35),t.EFF(7),t.k0s(),t.EFF(8," to "),t.j41(9,"span",35),t.EFF(10),t.k0s(),t.EFF(11," of "),t.j41(12,"span",35),t.EFF(13),t.k0s(),t.EFF(14," results "),t.k0s()(),t.DNE(15,H,12,8,"div",9),t.k0s()()()),2&i){const e=t.XpG();t.R7$(7),t.JRh(e.from),t.R7$(3),t.JRh(e.to),t.R7$(3),t.JRh(e.total),t.R7$(2),t.Y8G("ngIf",e.total>=6)}}let F=(()=>{class i{loadPreviousVisit(e){this.http.get("consultation/records",{params:{patient_id:this.patient_id,per_page:this.per_page,sort:"-consult_date",pt_group:this.pt_group,page:e,not_consult_id:this.consult_id}}).subscribe({next:o=>{this.visit_list=o.data,this.current_page=o.meta.current_page,this.last_page=o.meta.last_page,this.from=o.meta.from,this.to=o.meta.to,this.total=o.meta.total},error:o=>console.log(o)})}constructor(e,n){this.route=e,this.http=n,this.show_content=!1,this.faChevronCircleUp=c.AeV,this.faChevronCircleDown=c.DqM,this.faChevronLeft=c.Wzs,this.faChevronRight=c.XkK,this.faAnglesLeft=c.rNr,this.faAnglesRight=c.up_,this.per_page=5}ngOnInit(){this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.show_content=!0,this.loadPreviousVisit(1)}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(f.nX),t.rXU(u.k))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-consult-history"]],inputs:{toggle_content:"toggle_content",allowed_to_edit:"allowed_to_edit",pt_group:"pt_group"},decls:12,vars:6,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-green-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],["class","w-full table-auto",4,"ngIf"],[4,"ngIf"],[1,"w-full","table-auto"],[1,"border-b","border-solid","border-gray-200"],["class","text-left mt-3 align-top border-t border-slate-200 text-sm",4,"ngFor","ngForOf"],[1,"text-left","mt-3","align-top","border-t","border-slate-200","text-sm"],[1,"p-3","w-2/12"],[1,"grid","grid-cols-1"],[1,"font-semibold","w-full"],[1,"text-sm","w-full"],[1,"p-3","w-7/12"],[1,"w-full","mb-3"],[1,"font-semibold"],["class","list-disc last:mb-3 ml-10",4,"ngFor","ngForOf"],[1,"w-full","my-2","py-2"],[1,"grid","grid-cols-1","text-left"],[1,"list-disc","ml-10"],[4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],[1,"grid","grid-cols-1","text-left","mt-2","pt-2"],[1,"list-disc","last:mb-3","ml-10"],[1,"mt-2"],[1,"text-sm","italic"],[1,"font-semibold","text-sm"],[1,"bg-white","px-4","py-4","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(n,o){1&n&&(t.nrm(0,"hr",0),t.j41(1,"div",1)(2,"div",2),t.EFF(3," Diagnosis History "),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"span",5),t.EFF(7," Previous History "),t.j41(8,"button",6),t.bIt("click",function(){return o.show_content=!o.show_content}),t.nrm(9,"fa-icon",7),t.k0s()(),t.DNE(10,X,9,1,"table",8)(11,V,16,4,"div",9),t.k0s()()()),2&n&&(t.R7$(6),t.Y8G("ngClass",t.eq3(4,$,!o.show_content)),t.R7$(3),t.Y8G("icon",o.show_content?o.faChevronCircleUp:o.faChevronCircleDown),t.R7$(),t.Y8G("ngIf",o.show_content),t.R7$(),t.Y8G("ngIf",o.total>=1))},dependencies:[r.MD,r.YU,r.Sq,r.bT,r.vh,p.dX,p.aY],encapsulation:2})}}return i})();var y=d(2505),k=d(2038),j=d(9217),x=d(943),G=d(9932),J=d(9206),w=d(9596),h=d(614),R=d(7468),s=d(9417),m=d(5794);function O(i,l){if(1&i&&(t.j41(0,"div",15),t.nrm(1,"input",16),t.j41(2,"label",17),t.EFF(3),t.k0s()()),2&i){const e=l.$implicit;t.R7$(),t.Y8G("formControlName",e.column_name),t.BMQ("id",e.column_name),t.R7$(),t.BMQ("for",e.column_name),t.R7$(),t.JRh(e.desc)}}function U(i,l){if(1&i&&(t.j41(0,"div",15),t.nrm(1,"input",16),t.j41(2,"label",17),t.EFF(3),t.k0s()()),2&i){const e=l.$implicit;t.R7$(),t.Y8G("formControlName",e.column_name),t.R7$(2),t.JRh(e.desc)}}function P(i,l){if(1&i&&t.nrm(0,"fa-icon",18),2&i){const e=t.XpG();t.Y8G("icon",e.faSave)}}function z(i,l){if(1&i&&t.nrm(0,"fa-icon",19),2&i){const e=t.XpG();t.Y8G("icon",e.faSpinner)}}let L=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("dental/medical-social",this.medicalSocialForm.value).subscribe({next:e=>{this.toastr.success("Successfully "+(this.medicalSocialForm.value.id?"updated":"recorded"),"Medical & Social History"),this.loadSelectedConsult.emit(),this.is_saving=!1},error:e=>{this.http.showError(e.error.message,"Dental Medical and Social History")}})}loadLibraries(){const e=this.http.get("libraries/dental-medical-history"),n=this.http.get("libraries/dental-social-history");(0,R.p)([e,n]).subscribe({next:([o,a])=>{this.lib_medical_history=o.data,this.lib_social_history=a.data,this.show_form=!0},error:o=>{this.http.showError(o.error.message,"Dental History Library")}}),this.patchData()}patchData(){this.medicalSocialForm.patchValue(this.selected_visit.dentalMedicalSocials?{...this.selected_visit.dentalMedicalSocials}:{patient_id:this.selected_visit.patient.id})}addHospHistory(){}constructor(e,n){this.http=e,this.toastr=n,this.loadSelectedConsult=new t.bkB,this.faSpinner=c.z1G,this.faSave=h.hSh,this.faPlus=c.QLR,this.is_saving=!1,this.show_form=!1,this.medicalSocialForm=function B(){return new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),allergies_flag:new s.MJ(!1),hypertension_flag:new s.MJ(!1),diabetes_flag:new s.MJ(!1),blood_disorder_flag:new s.MJ(!1),heart_disease_flag:new s.MJ(!1),thyroid_flag:new s.MJ(!1),hepatitis_flag:new s.MJ(!1),malignancy_flag:new s.MJ(!1),blood_transfusion_flag:new s.MJ(!1),tattoo_flag:new s.MJ(!1),medical_others_flag:new s.MJ(!1),medical_remarks:new s.MJ(""),sweet_flag:new s.MJ(!1),tabacco_flag:new s.MJ(!1),alcohol_flag:new s.MJ(!1),nut_flag:new s.MJ(!1),social_others_flag:new s.MJ(!1),social_remarks:new s.MJ("")})}()}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-history"]],inputs:{selected_visit:"selected_visit"},outputs:{loadSelectedConsult:"loadSelectedConsult"},standalone:!1,decls:24,vars:7,consts:[[1,"pt-5"],[1,"border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","font-semibold"],[3,"ngSubmit","formGroup"],[1,"col-span-1","px-5"],[1,"border-b","border-slate-200","my-3","text-gray-800","uppercase","text-sm"],[1,"grid","grid-cols-3","pl-3"],["class","col-span-1 mb-2",4,"ngFor","ngForOf"],[1,"block","m-3"],["rows","2","id","medical_remarks","formControlName","medical_remarks","placeholder","Remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50"],["rows","2","id","social_remarks","formControlName","social_remarks","placeholder","Remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50"],[1,"text-right","m-5"],["type","submit",1,"btn-save",3,"disabled"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","animation","spin",3,"icon",4,"ngIf"],[1,"col-span-1","mb-2"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-2","text-sm"],[1,"mr-3",3,"icon"],["animation","spin",1,"mr-3",3,"icon"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3," History "),t.k0s(),t.j41(4,"form",3),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(5,"div",4)(6,"div",5),t.EFF(7," Medical History "),t.k0s(),t.j41(8,"div",6),t.DNE(9,O,4,4,"div",7),t.k0s(),t.j41(10,"div",8),t.nrm(11,"textarea",9),t.k0s()(),t.j41(12,"div",4)(13,"div",5),t.EFF(14," Dietary/Social History "),t.k0s(),t.j41(15,"div",6),t.DNE(16,U,4,2,"div",7),t.k0s(),t.j41(17,"div",8),t.nrm(18,"textarea",10),t.k0s()(),t.j41(19,"div",11)(20,"button",12),t.DNE(21,P,1,1,"fa-icon",13)(22,z,1,1,"fa-icon",14),t.EFF(23),t.k0s()()()()()),2&n&&(t.R7$(4),t.Y8G("formGroup",o.medicalSocialForm),t.R7$(5),t.Y8G("ngForOf",o.lib_medical_history),t.R7$(7),t.Y8G("ngForOf",o.lib_social_history),t.R7$(4),t.Y8G("disabled",o.is_saving),t.R7$(),t.Y8G("ngIf",!o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.SpI(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.me,s.Zm,s.BC,s.cb,s.j4,s.JD],encapsulation:2})}}return i})();const A=[11,12,13,14,15,16,17,18,21,22,23,24,25,26,27,28,31,32,33,34,35,36,37,38,41,42,43,44,45,46,47,48],q=[51,52,53,54,55,61,62,63,64,65,71,72,73,74,75,81,82,83,84,85],Q=[{id:"D",desc:"Decayed"},{id:"F",desc:"Filled"},{id:"JC",desc:"Jacket Crown"},{id:"M",desc:"Missing"},{id:"P",desc:"Pontic"},{id:"S",desc:"Supernumerary"},{id:"Un",desc:"Unerupted"},{id:"Dx",desc:"For Extraction"},{id:"Y",desc:"Sound/Sealed"}],S=[[{tooth_number:18,condition:null},{tooth_number:17,condition:null},{tooth_number:16,condition:null},{tooth_number:15,condition:null},{tooth_number:14,condition:null},{tooth_number:13,condition:null},{tooth_number:12,condition:null},{tooth_number:11,condition:null},{tooth_number:21,condition:null},{tooth_number:22,condition:null},{tooth_number:23,condition:null},{tooth_number:24,condition:null},{tooth_number:25,condition:null},{tooth_number:26,condition:null},{tooth_number:27,condition:null},{tooth_number:28,condition:null}],[{tooth_number:48,condition:null},{tooth_number:47,condition:null},{tooth_number:46,condition:null},{tooth_number:45,condition:null},{tooth_number:44,condition:null},{tooth_number:43,condition:null},{tooth_number:42,condition:null},{tooth_number:41,condition:null},{tooth_number:31,condition:null},{tooth_number:32,condition:null},{tooth_number:33,condition:null},{tooth_number:34,condition:null},{tooth_number:35,condition:null},{tooth_number:36,condition:null},{tooth_number:37,condition:null},{tooth_number:38,condition:null}]],T=[[{tooth_number:55,condition:null},{tooth_number:54,condition:null},{tooth_number:53,condition:null},{tooth_number:52,condition:null},{tooth_number:51,condition:null},{tooth_number:61,condition:null},{tooth_number:62,condition:null},{tooth_number:63,condition:null},{tooth_number:64,condition:null},{tooth_number:65,condition:null}],[{tooth_number:85,condition:null},{tooth_number:84,condition:null},{tooth_number:83,condition:null},{tooth_number:82,condition:null},{tooth_number:81,condition:null},{tooth_number:71,condition:null},{tooth_number:72,condition:null},{tooth_number:73,condition:null},{tooth_number:74,condition:null},{tooth_number:75,condition:null}]];var g=d(3825);function W(i,l){if(1&i&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.code),t.R7$(),t.JRh(e.desc)}}function K(i,l){if(1&i&&t.nrm(0,"fa-icon",21),2&i){const e=t.XpG();t.Y8G("icon",e.faSave)}}function tt(i,l){if(1&i&&t.nrm(0,"fa-icon",22),2&i){const e=t.XpG();t.Y8G("icon",e.faCircleNotch)}}let et=(()=>{class i{get f(){return this.toothServiceForm.controls}onSubmit(){this.is_saving=!0,this.http.post("dental/tooth-service",this.toothServiceForm.value).subscribe({next:e=>{this.toastr.success("Successfully recorded","Tooth Service"),this.is_saving=!1,this.closeModal()},error:e=>{this.http.showError(e.error.message,"Tooth Service")}})}createForm(){this.toothServiceForm=this.formBuilder.nonNullable.group({id:[""],consult_id:[this.selected_visit.id,[s.k0.required]],patient_id:[this.selected_visit.patient.id,[s.k0.required]],tooth_number:[this.selected_tooth.tooth_number,[s.k0.required]],service_code:[null,[s.k0.required]],remarks:[null]})}loadLibraries(){this.http.get("libraries/dental-tooth-service").subscribe({next:e=>{this.tooth_services=e.data,this.createForm()},error:e=>{this.http.showError(e.error.message,"Tooth Services Library")}})}closeModal(){this.toggleModal.emit("tooth_services")}constructor(e,n,o){this.http=e,this.toastr=n,this.formBuilder=o,this.toggleModal=new t.bkB,this.faSave=h.hSh,this.faCircleNotch=c.s4k,this.tooth_services=[],this.is_saving=!1,this.toothServiceForm=new s.gE({consult_id:new s.MJ(""),patient_id:new s.MJ(""),tooth_number:new s.MJ(null),service_code:new s.MJ(null),remarks:new s.MJ(null)})}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-tooth-services"]],inputs:{selected_tooth:"selected_tooth",selected_visit:"selected_visit"},outputs:{toggleModal:"toggleModal"},standalone:!1,decls:26,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-auto","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400"],[3,"submit","formGroup"],[1,"m-5"],["for","service_code"],["id","service_code","formControlName","service_code",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","remarks"],["type","text","id","remarks","formControlName","remarks",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","button h-10",1,"btn-save",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"],[3,"icon"],["animation","spin",3,"icon"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"form",7),t.bIt("submit",function(){return o.onSubmit()}),t.j41(9,"div",8)(10,"label",9),t.EFF(11,"Service Done"),t.k0s(),t.j41(12,"select",10),t.DNE(13,W,2,2,"option",11),t.k0s()(),t.j41(14,"div",8)(15,"label",12),t.EFF(16,"Remarks"),t.k0s(),t.nrm(17,"input",13),t.k0s()()()(),t.j41(18,"div",14)(19,"button",15),t.bIt("click",function(){return o.closeModal()}),t.EFF(20,"Cancel"),t.k0s(),t.j41(21,"button",16),t.bIt("click",function(){return o.onSubmit()}),t.DNE(22,K,1,1,"fa-icon",17)(23,tt,1,1,"fa-icon",18),t.EFF(24),t.k0s()()()()(),t.nrm(25,"div",19)),2&n&&(t.R7$(5),t.SpI(" Service for Tooth (#",o.selected_tooth.tooth_number,") "),t.R7$(3),t.Y8G("formGroup",o.toothServiceForm),t.R7$(5),t.Y8G("ngForOf",o.tooth_services),t.R7$(8),t.Y8G("disabled",o.toothServiceForm.invalid||o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.SpI(" ",o.is_saving?"Saving":"Save"," "))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD],encapsulation:2})}}return i})();function it(i,l){1&i&&(t.j41(0,"span",35),t.EFF(1," (from previous visit) "),t.k0s())}function ot(i,l){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.desc)}}function nt(i,l){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ","Y"===e.id?"\u2713":e.id," ")}}function st(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",54)(1,"button",55),t.bIt("click",function(o){t.eBV(e);const a=t.XpG(2).$implicit,_=t.XpG(4);return t.Njj(_.toggleModal("tooth_services",a,o))}),t.nrm(2,"fa-icon",56),t.k0s()()}if(2&i){const e=t.XpG(6);t.R7$(2),t.Y8G("icon",e.faAdd)}}function lt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",57),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG(6);return t.Njj(a.toggleModal("delete-service",o))}),t.nrm(2,"fa-icon",58),t.k0s(),t.EFF(3),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG(6);t.R7$(2),t.Y8G("icon",n.faTrash),t.R7$(),t.SpI(" ",e.service_code," ")}}function at(i,l){1&i&&t.nrm(0,"br")}function rt(i,l){if(1&i&&(t.j41(0,"div"),t.DNE(1,lt,4,2,"div",34)(2,at,1,0,"br",34),t.k0s()),2&i){const e=l.$implicit,n=l.last;t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",!n)}}function ct(i,l){if(1&i&&(t.j41(0,"div",52),t.DNE(1,st,3,1,"div",53)(2,rt,3,2,"div",6),t.k0s()),2&i){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("ngIf",!n.current_services[e.tooth_number]),t.R7$(),t.Y8G("ngForOf",n.current_services[e.tooth_number])}}function dt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",48)(1,"span",49),t.EFF(2),t.k0s(),t.j41(3,"div")(4,"select",50),t.mxI("ngModelChange",function(o){const a=t.eBV(e).$implicit,_=t.XpG(4);return t.DH7(_.tooth_condition[a.tooth_number],o)||(_.tooth_condition[a.tooth_number]=o),t.Njj(o)}),t.DNE(5,nt,2,2,"option",39),t.k0s()(),t.DNE(6,ct,3,2,"div",51),t.k0s()}if(2&i){const e=l.$implicit,n=t.XpG(4);t.R7$(2),t.JRh(e.tooth_number),t.R7$(2),t.R50("ngModel",n.tooth_condition[e.tooth_number]),t.R7$(),t.Y8G("ngForOf",n.tooth_condition_legend),t.R7$(),t.Y8G("ngIf",n.consultCondition)}}function _t(i,l){if(1&i&&(t.j41(0,"div",46),t.DNE(1,dt,7,4,"div",47),t.k0s()),2&i){const e=l.$implicit;t.R7$(),t.Y8G("ngForOf",e)}}function pt(i,l){if(1&i&&t.nrm(0,"fa-icon",56),2&i){const e=t.XpG(3);t.Y8G("icon",e.faSave)}}function ut(i,l){if(1&i&&t.nrm(0,"fa-icon",59),2&i){const e=t.XpG(3);t.Y8G("icon",e.faCircleNotch)}}function mt(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",36)(2,"span",37),t.EFF(3,"Tooth Condition"),t.k0s(),t.j41(4,"select",38),t.mxI("ngModelChange",function(o){t.eBV(e);const a=t.XpG().$implicit,_=t.XpG();return t.DH7(_.condition[a.title],o)||(_.condition[a.title]=o),t.Njj(o)}),t.bIt("change",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG();return t.Njj(a.updateConditions(o.title))}),t.DNE(5,ot,2,2,"option",39),t.k0s()(),t.DNE(6,_t,2,1,"div",40),t.j41(7,"div",41)(8,"button",42),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG();return t.Njj(a.onSubmit(o.title))}),t.DNE(9,pt,1,1,"fa-icon",43)(10,ut,1,1,"fa-icon",44),t.EFF(11),t.k0s()()()}if(2&i){const e=t.XpG().$implicit,n=t.XpG();t.R7$(4),t.R50("ngModel",n.condition[e.title]),t.R7$(),t.Y8G("ngForOf",n.tooth_condition_legend),t.R7$(),t.Y8G("ngForOf",e.chart),t.R7$(2),t.Y8G("disabled",n.is_saving),t.R7$(),t.Y8G("ngIf",!n.is_saving),t.R7$(),t.Y8G("ngIf",n.is_saving),t.R7$(),t.SpI(" ",n.is_saving?"Saving ":"Save "," Tooth Condition ")}}function ft(i,l){if(1&i){const e=t.RV6();t.j41(0,"fieldset",29)(1,"legend",30)(2,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.toggleChart(o.title))}),t.nrm(3,"fa-icon",32),t.k0s(),t.EFF(4),t.DNE(5,it,2,0,"span",33),t.k0s(),t.DNE(6,mt,12,7,"div",34),t.k0s()}if(2&i){const e=l.$implicit,n=t.XpG();t.R7$(3),t.Y8G("icon",n.show_chart[e.title]?n.faChevronCircleUp:n.faChevronCircleDown),t.R7$(),t.SpI(" ",e.title," TOOTH CHART "),t.R7$(),t.Y8G("ngIf",!n.consultCondition),t.R7$(),t.Y8G("ngIf",n.show_chart[e.title])}}function ht(i,l){if(1&i&&(t.j41(0,"div",60)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3),t.k0s()),2&i){const e=l.$implicit;t.R7$(2),t.JRh("Y"===e.id?"\u2713":e.id),t.R7$(),t.SpI(": ",e.desc," ")}}function gt(i,l){if(1&i&&(t.j41(0,"div")(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3),t.k0s()),2&i){const e=l.$implicit;t.R7$(2),t.JRh(e.code),t.R7$(),t.SpI(": ",e.desc," ")}}function bt(i,l){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.tooth_number," ")}}function vt(i,l){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.consult.consult_date,"MM/dd/yyyy"))}}function Ct(i,l){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.tooth_service.desc)}}function Ft(i,l){if(1&i){const e=t.RV6();t.j41(0,"td")(1,"button",61),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,a=t.XpG();return t.Njj(a.toggleModal("delete-service",o))}),t.nrm(2,"fa-icon",56),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(2),t.Y8G("icon",e.faTrash)}}function yt(i,l){if(1&i&&(t.j41(0,"tr"),t.DNE(1,bt,2,1,"td",34)(2,vt,3,4,"td",34)(3,Ct,2,1,"td",34)(4,Ft,3,1,"td",34),t.k0s()),2&i){const e=l.$implicit,n=t.XpG();t.HbH(e.consult_id===n.selected_visit.id?"bg-yellow-100":""),t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",e)}}function kt(i,l){if(1&i&&(t.j41(0,"div",62),t.nrm(1,"input",63),t.j41(2,"label",64),t.EFF(3),t.k0s()()),2&i){const e=l.$implicit;t.R7$(),t.Y8G("formControlName",e.column_name),t.BMQ("id",e.column_name),t.R7$(),t.BMQ("for",e.column_name),t.R7$(),t.JRh(e.desc)}}function jt(i,l){if(1&i&&t.nrm(0,"fa-icon",65),2&i){const e=t.XpG();t.Y8G("icon",e.faSave)}}function xt(i,l){if(1&i&&t.nrm(0,"fa-icon",66),2&i){const e=t.XpG();t.Y8G("icon",e.faCircleNotch)}}function Gt(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-delete-item",67),t.bIt("toggleModal",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleModal("delete-service"))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("url",e.url)("delete_id",e.delete_id)("delete_desc",e.delete_desc)}}function wt(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-tooth-services",68),t.bIt("toggleModal",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleModal(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("selected_tooth",e.selected_tooth)("selected_visit",e.selected_visit)}}let Rt=(()=>{class i{toggleChart(e){this.show_chart[e]=!this.show_chart[e]}submitCondition(){this.saving_oralCondition=!0,this.http.post("dental/oral-condition",this.oralConditionForm.value).subscribe({next:()=>{this.saving_oralCondition=!1,this.loadSelectedConsult.emit(),this.toastr.success("Successfully Recorded","Oral Health Condition")},error:e=>{this.http.showError(e.error.message,"Oral Health Condition")}})}onSubmit(e){this.is_saving=!0;let n=[];("adult"===e?this.adult_tooth_arr:this.temp_tooth_arr).forEach(_=>{n.push({tooth_number:_,tooth_condition:this.tooth_condition[_]})}),this.http.post("dental/tooth-condition",{patient_id:this.selected_visit.patient.id,consult_id:this.selected_visit.id,tooth_arr:n}).subscribe({next:()=>{this.is_saving=!1,this.loadSelectedConsult.emit(),this.toastr.success("Successfully Recorded","Tooth Condition")},error:_=>{this.http.showError(_.error.message,"Tooth Condition"),this.is_saving=!1}})}patchToothCondition(){this.consultCondition=Object.keys(this.selected_visit.consultToothCondition).length>0,Object.entries(this.consultCondition?this.selected_visit.consultToothCondition:this.selected_visit.latestToothCondition).forEach(([n,o],a)=>{this.tooth_condition[o.tooth_number]=o.tooth_condition}),this.selected_visit.dentalOralHealthCondition&&this.oralConditionForm.patchValue({...this.selected_visit.dentalOralHealthCondition})}toggleModal(e,n,o){o&&o.preventDefault(),"delete-service"===e&&n&&(this.url="dental/tooth-service/",this.delete_desc="Tooth Service",this.delete_id=n.id),this.selected_tooth=n,this.modals[e]=!this.modals[e],this.modals[e]||this.loadSelectedConsult.emit()}iterateServices(e){this.service_list=this.selected_visit.dentalToothService,this.current_services=[],Object.keys(this.selected_visit.dentalToothService).length>0&&Object.entries(this.selected_visit.dentalToothService).forEach(([n,o],a)=>{this.selected_visit.id===o.consult_id&&(this.current_services[o.tooth_number]?this.current_services[o.tooth_number].push({service_code:o.service_code,id:o.id}):this.current_services[o.tooth_number]=[{service_code:o.service_code,id:o.id}])}),this.createForm()}createForm(){this.oralConditionForm=this.formBuilder.nonNullable.group({patient_id:[this.selected_visit.patient.id,[s.k0.required]],consult_id:[this.selected_visit.id,[s.k0.required]],healthy_gums_flag:[!1],orally_fit_flag:[!1],oral_rehab_flag:[!1],dental_caries_flag:[!1],gingivitis_flag:[!1],periodontal_flag:[!1],debris_flag:[!1],calculus_flag:[!1],abnormal_growth_flag:[!1],cleft_lip_flag:[!1],supernumerary_flag:[!1],dento_facial_flag:[!1],others_flag:[!1],remarks:[null]}),this.patchToothCondition()}loadLibraries(){const e=this.http.get("libraries/dental-tooth-service"),n=this.http.get("libraries/dental-oral-condition");(0,R.p)([e,n]).subscribe({next:([o,a])=>{this.tooth_service_legend=o.data,this.oral_health_condition=a.data,this.iterateServices(!1)},error:o=>{this.http.showError(o.error.message,"Condition and Service Library")}})}updateConditions(e){("adult"===e?this.adult_tooth_arr:this.temp_tooth_arr).forEach(o=>{delete this.tooth_condition[o],this.tooth_condition[o]||(this.tooth_condition[o]=this.condition[e])})}constructor(e,n,o){this.http=e,this.toastr=n,this.formBuilder=o,this.loadSelectedConsult=new t.bkB,this.oralConditionForm=function Z(){return new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),consult_id:new s.MJ(null),healthy_gums_flag:new s.MJ(!1),orally_fit_flag:new s.MJ(!1),oral_rehab_flag:new s.MJ(!1),dental_caries_flag:new s.MJ(!1),gingivitis_flag:new s.MJ(!1),periodontal_flag:new s.MJ(!1),debris_flag:new s.MJ(!1),calculus_flag:new s.MJ(!1),abnormal_growth_flag:new s.MJ(!1),cleft_lip_flag:new s.MJ(!1),supernumerary_flag:new s.MJ(!1),dento_facial_flag:new s.MJ(""),others_flag:new s.MJ(""),remarks:new s.MJ("")})}(),this.adult_tooth_conditions=S,this.temp_tooth_condition=T,this.adult_tooth_arr=A,this.temp_tooth_arr=q,this.tooth_condition_legend=Q,this.faTrash=c.yLS,this.faAdd=c.vkJ,this.faCheck=c.e68,this.faSave=h.hSh,this.faCircleNotch=c.s4k,this.faChevronCircleDown=c.DqM,this.faChevronCircleUp=c.AeV,this.modals=[],this.condition=[],this.service_list=[],this.current_services=[],this.tooth_condition=[],this.tooth_service_legend=[],this.is_saving=!1,this.show_form=!1,this.consultCondition=!1,this.show_chart={adult:!0,temporary:!0},this.tooth_chart=[{chart:S,title:"adult"},{chart:T,title:"temporary"}],this.saving_oralCondition=!1}ngOnChanges(e){this.iterateServices(!0)}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-condition"]],inputs:{selected_visit:"selected_visit"},outputs:{loadSelectedConsult:"loadSelectedConsult"},standalone:!1,features:[t.OA$],decls:46,vars:12,consts:[["class","border border-slate-200 w-full rounded-md my-2",4,"ngFor","ngForOf"],[1,"border","border-slate-200","w-full","rounded-md","mb-2"],[1,"ml-5","font-semibold","text-xs"],[1,"grid","grid-cols-3","m-5","text-sm"],["class","flex",4,"ngFor","ngForOf"],[1,"border","border-slate-200","w-full","rounded-md"],[4,"ngFor","ngForOf"],[1,"mt-5","border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","justify-between","flex"],[1,"flex","flex-col","justify-center"],[1,"table-auto","w-11/12","text-center","m-5","mx-auto","border","border-slate-300","rounded-lg","shadow-md"],[1,"border-b"],[1,"px-3"],[3,"class",4,"ngFor","ngForOf"],[1,"pt-5"],[1,"border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","font-semibold"],[3,"ngSubmit","formGroup"],[1,"col-span-1","p-3"],[1,"grid","grid-cols-3","pl-3"],["class","col-span-1 mb-1",4,"ngFor","ngForOf"],[1,"block","m-3"],["rows","2","id","remarks","formControlName","remarks","placeholder","Remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50"],[1,"text-right","m-5"],["type","submit",1,"btn-save",3,"disabled"],["class","mr-3",3,"icon",4,"ngIf"],["class","mr-3","animation","spin",3,"icon",4,"ngIf"],[3,"url","delete_id","delete_desc","toggleModal",4,"ngIf"],[3,"selected_tooth","selected_visit","toggleModal",4,"ngIf"],[1,"border","border-slate-200","w-full","rounded-md","my-2"],[1,"ml-3","text-sm","bg-blue-200","px-5","py-1","rounded-md","uppercase"],["type","button",3,"click"],[1,"mr-1","text-blue-500",3,"icon"],["class","text-red-500 text-sm lowercase",4,"ngIf"],[4,"ngIf"],[1,"text-red-500","text-sm","lowercase"],[1,"flex","justify-center","w-full","mt-3"],[1,"text-sm","mt-3"],[1,"input","w-32","mx-3",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-wrap justify-center my-3 first:mt-24 mx-auto",4,"ngFor","ngForOf"],[1,"flex","justify-center","w-full","mb-3"],[1,"btn-save","h-9","mt-1",3,"click","disabled"],[3,"icon",4,"ngIf"],["animation","spin",3,"icon",4,"ngIf"],[3,"value"],[1,"flex","flex-wrap","justify-center","my-3","first:mt-24","mx-auto"],["class","w-14",4,"ngFor","ngForOf"],[1,"w-14"],[1,"ml-5"],[1,"input",3,"ngModelChange","ngModel"],["class","text-xs bg-gray-100 w-full border border-gray-300 px-0.5 mt-1",4,"ngIf"],[1,"text-xs","bg-gray-100","w-full","border","border-gray-300","px-0.5","mt-1"],["class","flex justify-center",4,"ngIf"],[1,"flex","justify-center"],["type","button",1,"text-xs","bg-blue-400","text-white","w-5","m-0.5","pb-0.5","rounded-full",3,"click"],[3,"icon"],[3,"click"],[1,"text-red-500",3,"icon"],["animation","spin",3,"icon"],[1,"flex"],["type","button",1,"text-red-500",3,"click"],[1,"col-span-1","mb-1"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-2","text-sm"],[1,"mr-3",3,"icon"],["animation","spin",1,"mr-3",3,"icon"],[3,"toggleModal","url","delete_id","delete_desc"],[3,"toggleModal","selected_tooth","selected_visit"]],template:function(n,o){1&n&&(t.DNE(0,ft,7,4,"fieldset",0),t.j41(1,"fieldset",1)(2,"legend",2),t.EFF(3,"TOOTH CONDITION LEGEND"),t.k0s(),t.j41(4,"div",3),t.DNE(5,ht,4,2,"div",4),t.k0s()(),t.j41(6,"fieldset",5)(7,"legend",2),t.EFF(8,"TOOTH SERVICE LEGEND"),t.k0s(),t.j41(9,"div",3),t.DNE(10,gt,4,2,"div",6),t.k0s()(),t.j41(11,"div",7)(12,"div",8)(13,"span"),t.EFF(14,"Tooth Services"),t.k0s()(),t.j41(15,"div",9)(16,"table",10)(17,"thead",11)(18,"tr")(19,"th",12),t.EFF(20,"Tooth Number"),t.k0s(),t.j41(21,"th",12),t.EFF(22,"Date of Service"),t.k0s(),t.j41(23,"th",12),t.EFF(24,"Service Done"),t.k0s(),t.j41(25,"th",12),t.EFF(26,"Action"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,yt,5,6,"tr",13),t.k0s()()()(),t.j41(29,"div",14)(30,"div",15)(31,"div",16),t.EFF(32," Oral Health Condition "),t.k0s(),t.j41(33,"form",17),t.bIt("ngSubmit",function(){return o.submitCondition()}),t.j41(34,"div",18)(35,"div",19),t.DNE(36,kt,4,4,"div",20),t.k0s(),t.j41(37,"div",21),t.nrm(38,"textarea",22),t.k0s()(),t.j41(39,"div",23)(40,"button",24),t.DNE(41,jt,1,1,"fa-icon",25)(42,xt,1,1,"fa-icon",26),t.EFF(43),t.k0s()()()()(),t.DNE(44,Gt,1,3,"app-delete-item",27)(45,wt,1,2,"app-tooth-services",28)),2&n&&(t.Y8G("ngForOf",o.tooth_chart),t.R7$(5),t.Y8G("ngForOf",o.tooth_condition_legend),t.R7$(5),t.Y8G("ngForOf",o.tooth_service_legend),t.R7$(18),t.Y8G("ngForOf",o.service_list),t.R7$(5),t.Y8G("formGroup",o.oralConditionForm),t.R7$(3),t.Y8G("ngForOf",o.oral_health_condition),t.R7$(4),t.Y8G("disabled",o.saving_oralCondition),t.R7$(),t.Y8G("ngIf",!o.saving_oralCondition),t.R7$(),t.Y8G("ngIf",o.saving_oralCondition),t.R7$(),t.SpI(" ",o.saving_oralCondition?"Saving":"Save"," "),t.R7$(),t.Y8G("ngIf",o.modals["delete-service"]),t.R7$(),t.Y8G("ngIf",o.modals.tooth_services))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.xH,s.y7,s.me,s.Zm,s.wz,s.BC,s.cb,s.vS,s.j4,s.JD,g.c,et,r.vh],encapsulation:2})}}return i})();function St(i,l){if(1&i&&(t.j41(0,"option",21),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.desc)}}function Tt(i,l){if(1&i&&t.nrm(0,"fa-icon",22),2&i){const e=t.XpG();t.Y8G("icon",e.faPlus)}}function $t(i,l){if(1&i&&t.nrm(0,"fa-icon",23),2&i){const e=t.XpG();t.Y8G("icon",e.faCircleNotch)}}function Et(i,l){if(1&i&&(t.j41(0,"span"),t.nrm(1,"br"),t.EFF(2),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.remarks)}}function It(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.DNE(3,Et,3,1,"span",24),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"td")(8,"button",25),t.bIt("click",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.toggleModal("delete-item",o))}),t.nrm(9,"fa-icon",26),t.k0s()()()}if(2&i){const e=l.$implicit,n=t.XpG();t.R7$(2),t.SpI(" ",e.service.desc," "),t.R7$(),t.Y8G("ngIf",e.remarks),t.R7$(2),t.JRh(t.i5U(6,4,e.service_date,"MM/dd/yyyy")),t.R7$(4),t.Y8G("icon",n.faTrash)}}function Dt(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-delete-item",27),t.bIt("toggleModal",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleModal(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("url",e.url)("delete_id",e.delete_id)("delete_desc",e.delete_desc)}}let Yt=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("dental/service",this.dentalServiceForm.value).subscribe({next:e=>{this.is_saving=!1,this.loadSelectedConsult.emit(),this.createForm(),this.toastr.success("Successfully "+(this.dentalServiceForm.value.id?"updated":"recorded"),"Dental Service")},error:e=>{this.http.showError(e.error.message,"Dental Service"),this.is_saving=!1}})}createForm(){this.dentalServiceForm=this.formBuilder.group({id:[""],consult_id:[this.selected_visit.id,[s.k0.required]],patient_id:[this.selected_visit.patient.id,[s.k0.required]],service_date:["",[s.k0.required]],service_id:["",[s.k0.required]]})}toggleModal(e,n){n&&(this.delete_id=n.id),this.modals[e]=!this.modals[e],!1===this.modals[e]&&this.loadSelectedConsult.emit()}loadLibraries(){this.http.get("libraries/dental-service").subscribe({next:e=>{this.service_list=e.data,this.createForm()},error:e=>{this.http.showError(e.error.message,"Dental Services")}})}constructor(e,n,o){this.http=e,this.toastr=n,this.formBuilder=o,this.loadSelectedConsult=new t.bkB,this.faCircleNotch=c.s4k,this.faPlus=c.QLR,this.faTrash=c.yLS,this.is_saving=!1,this.modals=[],this.url="dental/service/",this.delete_desc="Dental Service",this.dentalServiceForm=new s.gE({id:new s.MJ(null),consult_id:new s.MJ(null),patient_id:new s.MJ(null),service_date:new s.MJ(null),service_id:new s.MJ(null)}),this.service_list=[]}ngOnInit(){this.loadLibraries()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-services"]],inputs:{selected_visit:"selected_visit"},outputs:{loadSelectedConsult:"loadSelectedConsult"},standalone:!1,decls:35,vars:8,consts:[[1,"mt-5","border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","justify-between","flex"],[1,"flex","flex-col","justify-center"],[3,"submit","formGroup"],[1,"grid","grid-cols-5","m-3","p-3","gap-x-3","border","border-slate-300","shadow-md","rounded-md","bg-slate-100"],[1,"col-span-2"],["for","service_date"],["id","service_date","type","date","formControlName","service_date","placeholder","Service date",1,"input"],[1,"col-span-3"],["for","service_id"],["id","service_id","type","text","formControlName","service_id","placeholder","service",1,"input"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-5","flex","justify-end","mt-3"],["type","submit",1,"btn-save","text-xs",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"table-auto","w-11/12","text-center","m-5","mx-auto","border","border-slate-300","rounded-lg","shadow-md"],[1,"border-b"],[1,"px-3"],[4,"ngFor","ngForOf"],[3,"url","delete_id","delete_desc","toggleModal",4,"ngIf"],[3,"value"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],[4,"ngIf"],["type","button",1,"text-red-500",3,"click"],[3,"icon"],[3,"toggleModal","url","delete_id","delete_desc"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"span"),t.EFF(3,"Dental Services"),t.k0s()(),t.j41(4,"div",2)(5,"form",3),t.bIt("submit",function(){return o.onSubmit()}),t.j41(6,"fieldset",4)(7,"legend"),t.EFF(8,"New service detail"),t.k0s(),t.j41(9,"div",5)(10,"label",6),t.EFF(11,"Service Date"),t.k0s(),t.nrm(12,"input",7),t.k0s(),t.j41(13,"div",8)(14,"label",9),t.EFF(15,"Service done"),t.k0s(),t.j41(16,"select",10),t.DNE(17,St,2,2,"option",11),t.k0s()(),t.j41(18,"div",12)(19,"button",13),t.DNE(20,Tt,1,1,"fa-icon",14)(21,$t,1,1,"fa-icon",15),t.EFF(22),t.k0s()()()(),t.j41(23,"table",16)(24,"thead",17)(25,"tr")(26,"th",18),t.EFF(27,"Dental Service"),t.k0s(),t.j41(28,"th",18),t.EFF(29,"Date of Service"),t.k0s(),t.j41(30,"th",18),t.EFF(31,"Action"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,It,10,7,"tr",19),t.k0s()()()(),t.DNE(34,Dt,1,3,"app-delete-item",20)),2&n&&(t.R7$(5),t.Y8G("formGroup",o.dentalServiceForm),t.R7$(12),t.Y8G("ngForOf",o.service_list),t.R7$(2),t.Y8G("disabled",o.dentalServiceForm.invalid||o.is_saving),t.R7$(),t.Y8G("ngIf",!o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.SpI(" ",o.is_saving?"Saving":"Add"," "),t.R7$(11),t.Y8G("ngForOf",null==o.selected_visit?null:o.selected_visit.dentalService),t.R7$(),t.Y8G("ngIf",o.modals["delete-item"]))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,g.c,r.vh],encapsulation:2})}}return i})();function Mt(i,l){if(1&i&&t.nrm(0,"fa-icon",21),2&i){const e=t.XpG();t.Y8G("icon",e.faPlus)}}function Nt(i,l){if(1&i&&t.nrm(0,"fa-icon",22),2&i){const e=t.XpG();t.Y8G("icon",e.faCircleNotch)}}function Xt(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"td")(10,"button",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.toggleModal("delete-item",o))}),t.nrm(11,"fa-icon",24),t.k0s()()()}if(2&i){const e=l.$implicit,n=t.XpG();t.R7$(2),t.JRh(e.cause),t.R7$(2),t.JRh(t.i5U(5,4,e.admission_date,"MM/dd/yyyy")),t.R7$(3),t.JRh(t.i5U(8,7,e.discharge_date,"MM/dd/yyyy")),t.R7$(4),t.Y8G("icon",n.faTrash)}}function Ht(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-delete-item",25),t.bIt("toggleModal",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleModal(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("url",e.url)("delete_id",e.delete_id)("delete_desc",e.delete_desc)}}let Vt=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("patient-hospitalizaion-history/history",this.hospitalizationHistoryForm.value).subscribe({next:e=>{this.is_saving=!1,this.loadSelectedConsult.emit(),this.createForm(),this.toastr.success("Successfully "+(this.hospitalizationHistoryForm.value.id?"updated":"recorded"),"Hospitalization History")},error:e=>{this.http.showError(e.error.message,"Hospitalization History"),this.is_saving=!1}})}toggleModal(e,n){n&&(this.delete_id=n.id),this.modals[e]=!this.modals[e],!1===this.modals[e]&&this.loadSelectedConsult.emit()}createForm(){this.hospitalizationHistoryForm=this.formBuilder.nonNullable.group({id:[""],patient_id:[this.selected_visit.patient.id,[s.k0.required]],admission_date:["",[s.k0.required]],discharge_date:["",[s.k0.required]],cause:["",[s.k0.required,s.k0.minLength(3)]]})}constructor(e,n,o){this.http=e,this.toastr=n,this.formBuilder=o,this.loadSelectedConsult=new t.bkB,this.faPlus=c.QLR,this.faCircleNotch=c.s4k,this.faSave=h.hSh,this.faTrash=c.yLS,this.modals=[],this.is_saving=!1,this.hospitalizationHistoryForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),admission_date:new s.MJ(null),discharge_date:new s.MJ(null),cause:new s.MJ(null)}),this.url="patient-hospitalizaion-history/history/",this.delete_desc="Hospitalization history"}ngOnInit(){this.createForm()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-hospitalization-history"]],inputs:{selected_visit:"selected_visit"},outputs:{loadSelectedConsult:"loadSelectedConsult"},standalone:!1,decls:40,vars:7,consts:[[1,"mt-5","border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","justify-between","flex"],[1,"flex","flex-col","justify-center"],[3,"submit","formGroup"],[1,"grid","grid-cols-2","m-3","p-3","gap-x-3","border","border-slate-300","shadow-md","rounded-md","bg-slate-100"],["for","admission_date"],["id","admission_date","type","date","formControlName","admission_date","placeholder","admission date",1,"input"],["for","discharge_date"],["id","discharge_date","type","date","formControlName","discharge_date","placeholder","discharge date",1,"input"],[1,"col-span-2"],["for","cause"],["id","cause","type","text","formControlName","cause","placeholder","Cause",1,"input"],[1,"col-span-2","flex","justify-end","mt-3"],["type","submit",1,"btn-save","text-xs",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"table-auto","w-11/12","text-center","m-5","mx-auto","border","border-slate-300","rounded-lg","shadow-md"],[1,"border-b"],[1,"px-3"],[4,"ngFor","ngForOf"],[3,"url","delete_id","delete_desc","toggleModal",4,"ngIf"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],["type","button",1,"text-red-500",3,"click"],[3,"icon"],[3,"toggleModal","url","delete_id","delete_desc"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"span"),t.EFF(3,"Hospitalization History"),t.k0s()(),t.j41(4,"div",2)(5,"form",3),t.bIt("submit",function(){return o.onSubmit()}),t.j41(6,"fieldset",4)(7,"legend"),t.EFF(8,"Hospitalization Details"),t.k0s(),t.j41(9,"div")(10,"label",5),t.EFF(11,"Admission Date"),t.k0s(),t.nrm(12,"input",6),t.k0s(),t.j41(13,"div")(14,"label",7),t.EFF(15,"Discharge Date"),t.k0s(),t.nrm(16,"input",8),t.k0s(),t.j41(17,"div",9)(18,"label",10),t.EFF(19,"Cause of Hospitalization"),t.k0s(),t.nrm(20,"input",11),t.k0s(),t.j41(21,"div",12)(22,"button",13),t.DNE(23,Mt,1,1,"fa-icon",14)(24,Nt,1,1,"fa-icon",15),t.EFF(25),t.k0s()()()(),t.j41(26,"table",16)(27,"thead",17)(28,"tr")(29,"th",18),t.EFF(30,"Cause of Hospitalization"),t.k0s(),t.j41(31,"th",18),t.EFF(32,"Admission Date"),t.k0s(),t.j41(33,"th",18),t.EFF(34,"Discharge Date"),t.k0s(),t.j41(35,"th",18),t.EFF(36,"Action"),t.k0s()()(),t.j41(37,"tbody"),t.DNE(38,Xt,12,10,"tr",19),t.k0s()()()(),t.DNE(39,Ht,1,3,"app-delete-item",20)),2&n&&(t.R7$(5),t.Y8G("formGroup",o.hospitalizationHistoryForm),t.R7$(17),t.Y8G("disabled",o.hospitalizationHistoryForm.invalid||o.is_saving),t.R7$(),t.Y8G("ngIf",!o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.SpI(" ",o.is_saving?"Saving":"Add"," "),t.R7$(13),t.Y8G("ngForOf",null==o.selected_visit?null:o.selected_visit.dentalHospitalizationHistory),t.R7$(),t.Y8G("ngIf",o.modals["delete-item"]))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,g.c,r.vh],encapsulation:2})}}return i})();function Jt(i,l){if(1&i&&t.nrm(0,"fa-icon",20),2&i){const e=t.XpG();t.Y8G("icon",e.faPlus)}}function Bt(i,l){if(1&i&&t.nrm(0,"fa-icon",21),2&i){const e=t.XpG();t.Y8G("icon",e.faCircleNotch)}}function Ot(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td")(7,"button",22),t.bIt("click",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.toggleModal("delete-item",o))}),t.nrm(8,"fa-icon",23),t.k0s()()()}if(2&i){const e=l.$implicit,n=t.XpG();t.R7$(2),t.JRh(e.operation),t.R7$(2),t.JRh(t.i5U(5,3,e.operation_date,"MM/dd/yyyy")),t.R7$(4),t.Y8G("icon",n.faTrash)}}function Ut(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-delete-item",24),t.bIt("toggleModal",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleModal(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("url",e.url)("delete_id",e.delete_id)("delete_desc",e.delete_desc)}}let Pt=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("patient-surgical-history/history",this.surgicalHistoryForm.value).subscribe({next:e=>{this.is_saving=!1,this.loadSelectedConsult.emit(),this.createForm(),this.toastr.success("Successfully "+(this.surgicalHistoryForm.value.id?"updated":"recorded"),"Surgical History")},error:e=>{this.http.showError(e.error.message,"Surgical History"),this.is_saving=!1}})}get f(){return this.surgicalHistoryForm.controls}toggleModal(e,n){n&&(this.delete_id=n.id),this.modals[e]=!this.modals[e],!1===this.modals[e]&&this.loadSelectedConsult.emit()}createForm(){this.surgicalHistoryForm=this.formBuilder.nonNullable.group({id:[""],patient_id:[this.selected_visit.patient.id,[s.k0.required,s.k0.minLength(2)]],operation_date:["",[s.k0.required,s.k0.minLength(2)]],operation:["",[s.k0.required,s.k0.minLength(2)]]})}constructor(e,n,o){this.http=e,this.toastr=n,this.formBuilder=o,this.loadSelectedConsult=new t.bkB,this.faEdit=h.MT7,this.faPlus=c.QLR,this.faTrash=c.yLS,this.faCircleNotch=c.s4k,this.modals=[],this.is_saving=!1,this.surgicalHistoryForm=new s.gE({id:new s.MJ(null),patient_id:new s.MJ(null),operation_date:new s.MJ(null),operation:new s.MJ(null)}),this.url="patient-surgical-history/history/",this.delete_desc="Surgical history"}ngOnInit(){this.createForm()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(m.tw),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-surgical-history"]],inputs:{selected_visit:"selected_visit"},outputs:{loadSelectedConsult:"loadSelectedConsult"},standalone:!1,decls:34,vars:7,consts:[[1,"my-5","border","border-solid","border-gray-200","rounded-lg"],[1,"bg-blue-500","w-full","text-white","p-3","rounded-t-lg","justify-between","flex"],[1,"flex","flex-col","justify-center"],[3,"submit","formGroup"],[1,"grid","grid-cols-5","m-3","p-3","gap-x-3","border","border-slate-300","shadow-md","rounded-md","bg-slate-100"],[1,"col-span-2"],["for","operation_date"],["id","operation_date","type","date","formControlName","operation_date","placeholder","admission date",1,"input"],[1,"col-span-3"],["for","operation"],["id","operation","type","text","formControlName","operation","placeholder","Operation",1,"input"],[1,"col-span-5","flex","justify-end","mt-3"],["type","submit",1,"btn-save","text-xs",3,"disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"table-auto","w-11/12","text-center","m-5","mx-auto","border","border-slate-300","rounded-lg","shadow-md"],[1,"border-b"],[1,"px-3"],[4,"ngFor","ngForOf"],[3,"url","delete_id","delete_desc","toggleModal",4,"ngIf"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"],["type","button",1,"text-red-500",3,"click"],[3,"icon"],[3,"toggleModal","url","delete_id","delete_desc"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"span"),t.EFF(3,"Surgical History"),t.k0s()(),t.j41(4,"div",2)(5,"form",3),t.bIt("submit",function(){return o.onSubmit()}),t.j41(6,"fieldset",4)(7,"legend"),t.EFF(8,"Surgery Details"),t.k0s(),t.j41(9,"div",5)(10,"label",6),t.EFF(11,"Date of Operation"),t.k0s(),t.nrm(12,"input",7),t.k0s(),t.j41(13,"div",8)(14,"label",9),t.EFF(15,"Operation"),t.k0s(),t.nrm(16,"input",10),t.k0s(),t.j41(17,"div",11)(18,"button",12),t.DNE(19,Jt,1,1,"fa-icon",13)(20,Bt,1,1,"fa-icon",14),t.EFF(21),t.k0s()()()(),t.j41(22,"table",15)(23,"thead",16)(24,"tr")(25,"th",17),t.EFF(26,"Operation Done"),t.k0s(),t.j41(27,"th",17),t.EFF(28,"Operation Date"),t.k0s(),t.j41(29,"th",17),t.EFF(30,"Action"),t.k0s()()(),t.j41(31,"tbody"),t.DNE(32,Ot,9,6,"tr",18),t.k0s()()()(),t.DNE(33,Ut,1,3,"app-delete-item",19)),2&n&&(t.R7$(5),t.Y8G("formGroup",o.surgicalHistoryForm),t.R7$(13),t.Y8G("disabled",o.surgicalHistoryForm.invalid||o.is_saving),t.R7$(),t.Y8G("ngIf",!o.is_saving),t.R7$(),t.Y8G("ngIf",o.is_saving),t.R7$(),t.SpI(" ",o.is_saving?"Saving":"Add"," "),t.R7$(11),t.Y8G("ngForOf",null==o.selected_visit?null:o.selected_visit.dentalSurgicalHistory),t.R7$(),t.Y8G("ngIf",o.modals["delete-item"]))},dependencies:[r.Sq,r.bT,p.aY,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,g.c,r.vh],encapsulation:2})}}return i})();function zt(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",2),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchPage(2))}),t.EFF(1," VISIT DETAILS "),t.k0s()}if(2&i){const e=t.XpG();t.HbH(2===e.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function Lt(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",2),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchPage(3))}),t.EFF(1," ECLAIMS "),t.k0s()}if(2&i){const e=t.XpG();t.HbH(3===e.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function At(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleModal("end_visit"))}),t.nrm(1,"fa-icon",15),t.EFF(2," End Visit "),t.k0s()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("icon",e.faDoorClosed)}}function qt(i,l){if(1&i){const e=t.RV6();t.j41(0,"nav",16)(1,"div",17)(2,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(1))}),t.EFF(3," COMPLAINTS "),t.k0s(),t.j41(4,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(2))}),t.EFF(5," HISTORY "),t.k0s(),t.j41(6,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(3))}),t.EFF(7," TOOTH CONDITION & SERVICES "),t.k0s(),t.j41(8,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(4))}),t.EFF(9," DIAGNOSIS & TREATMENT "),t.k0s(),t.j41(10,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(5))}),t.EFF(11," SUPPLIES "),t.k0s(),t.j41(12,"button",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.switchTab(8))}),t.EFF(13," CASE RATE "),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(2),t.HbH(1===e.module?"tabs-main-true":"tabs-main-false"),t.R7$(2),t.HbH(2===e.module?"tabs-main-true":"tabs-main-false"),t.R7$(2),t.HbH(3===e.module?"tabs-main-true":"tabs-main-false"),t.R7$(2),t.HbH(4===e.module?"tabs-main-true":"tabs-main-false"),t.R7$(2),t.HbH(5===e.module?"tabs-main-true":"tabs-main-false"),t.R7$(2),t.HbH(8===e.module?"tabs-main-true":"tabs-main-false")}}function Qt(i,l){1&i&&(t.j41(0,"div",24),t.EFF(1," There is an ongoing TB treatment for this patient on another facility. You are not allowed to create a new treatment or view previous treatment from other facilities. "),t.k0s())}function Zt(i,l){if(1&i&&(t.j41(0,"div",25)(1,"div",26),t.nrm(2,"fa-icon",27),t.k0s(),t.j41(3,"div",28),t.EFF(4,"Fetching history..."),t.k0s()()),2&i){const e=t.XpG(2);t.R7$(2),t.Y8G("icon",e.faCircleNotch)}}function Wt(i,l){1&i&&(t.j41(0,"td",37)(1,"div",38),t.EFF(2," No records to show... "),t.k0s()())}function Kt(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG(),a=o.$implicit,_=o.index,b=t.XpG(3);return t.Njj(b.switchPage(2,a,_))}),t.EFF(1),t.k0s()}if(2&i){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.consult_done?"View":"Open"," ")}}function te(i,l){if(1&i&&(t.j41(0,"tr",33),t.DNE(1,Wt,3,0,"td",34),t.j41(2,"td",35),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.j41(5,"td",35),t.EFF(6),t.k0s(),t.j41(7,"td",35),t.DNE(8,Kt,2,1,"button",36),t.k0s()()),2&i){const e=l.$implicit,n=t.XpG(3);t.R7$(),t.Y8G("ngIf",!n.consult_details),t.R7$(2),t.SpI(" ",t.brH(4,4,e.consult_date,"MM/dd/yyyy","Asia/Manila")," "),t.R7$(3),t.SpI(" ",e.consult_done?"Done":"Ongoing"," "),t.R7$(2),t.Y8G("ngIf",n.user_facility===e.facility.code)}}function ee(i,l){if(1&i&&(t.j41(0,"table",29)(1,"thead",30)(2,"tr")(3,"th",31),t.EFF(4,"Consult Date"),t.k0s(),t.j41(5,"th",31),t.EFF(6,"Status"),t.k0s(),t.j41(7,"th",31),t.EFF(8,"Action"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,te,9,8,"tr",32),t.k0s()()),2&i){const e=t.XpG(2);t.R7$(10),t.Y8G("ngForOf",e.consult_details)}}function ie(i,l){if(1&i&&(t.j41(0,"div",20),t.DNE(1,Qt,2,0,"div",21)(2,Zt,5,1,"div",22)(3,ee,11,1,"table",23),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.selected_dental_consult&&(null==e.selected_dental_consult?null:e.selected_dental_consult.facility_code)!==e.user_facility),t.R7$(),t.Y8G("ngIf",e.fetching_history),t.R7$(),t.Y8G("ngIf",!e.fetching_history&&e.patient_dental_history)}}function oe(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-pregnant-tag",44),t.bIt("loadConsult",function(o){t.eBV(e);const a=t.XpG(2);return t.Njj(a.loadSelectedConsult(o))}),t.k0s()}if(2&i){const e=t.XpG(2);t.Y8G("consult_details",e.selected_visit)("have_complaint",e.have_complaint)("allowed_to_edit",e.allowed_to_edit)}}function ne(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",40),t.DNE(1,oe,1,3,"app-pregnant-tag",41),t.j41(2,"app-complaint-history",42),t.bIt("loadConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s(),t.nrm(3,"app-consult-history",43),t.k0s()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf","F"===e.selected_visit.patient.gender),t.R7$(),t.Y8G("toggle_content",e.toggle_content)("consult_details",e.selected_visit)("have_complaint",e.have_complaint)("allowed_to_edit",e.allowed_to_edit),t.R7$(),t.Y8G("pt_group","dn")}}function se(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"app-history",45),t.bIt("loadSelectedConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s(),t.j41(2,"app-hospitalization-history",45),t.bIt("loadSelectedConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s(),t.j41(3,"app-surgical-history",45),t.bIt("loadSelectedConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("selected_visit",e.selected_visit),t.R7$(),t.Y8G("selected_visit",e.selected_visit),t.R7$(),t.Y8G("selected_visit",e.selected_visit)}}function le(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"app-condition",45),t.bIt("loadSelectedConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s(),t.j41(2,"app-services",45),t.bIt("loadSelectedConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("selected_visit",e.selected_visit),t.R7$(),t.Y8G("selected_visit",e.selected_visit)}}function ae(i,l){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"app-final-dx",42),t.bIt("loadConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s(),t.j41(2,"app-prescription",46),t.bIt("loadConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("toggle_content",e.toggle_content)("consult_details",e.selected_visit)("have_complaint",e.have_complaint)("allowed_to_edit",e.allowed_to_edit),t.R7$(),t.Y8G("toggle_content",e.toggle_content)("consult_details",e.selected_visit)("have_complaint",e.have_complaint)("allowed_to_edit",e.allowed_to_edit)("user_id",e.user_id)}}function re(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-eclaims",47),t.bIt("switchPage",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.switchPage(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("program_id",e.selected_visit.id)("program_name","dn")("max_date",e.max_date)("selected_case",e.selected_visit)}}function ce(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-supplies",48),t.bIt("switchPage",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.switchPage(o))})("loadConsult",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.loadSelectedConsult(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("toggle_content",e.toggle_content)("consult_details",e.selected_visit)("allowed_to_edit",e.allowed_to_edit)("user_id",e.user_id)}}function de(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-caserate",49),t.bIt("switchPage",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.switchPage(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("patient_id",e.selected_visit.patient_id)("program_id",e.selected_visit.id)("program_name","dn")("max_date",e.max_date)}}function _e(i,l){if(1&i){const e=t.RV6();t.j41(0,"app-end-visit",50),t.bIt("toggleModal",function(o){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleModal(o))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("consult_id",null==e.selected_visit?null:e.selected_visit.id)("consult_date",null==e.selected_visit?null:e.selected_visit.consult_date)("patient_id",null==e.selected_visit?null:e.selected_visit.patient.id)("pt_group","dn")}}const pe=[{path:"",component:(()=>{class i{loadSelectedConsult(){this.http.get("consultation/records",{params:{id:this.selected_visit.id,pt_group:"dn",disable_filter:1}}).subscribe({next:n=>{this.consult_details[this.item_index]=n.data[0],this.selected_visit=n.data[0]},error:n=>{this.http.showError(n.error.message,"Dental Consult")}})}loadConsult(){let n={pt_group:"dn",disable_filter:1,patient_id:this.route.snapshot.paramMap.get("id"),sort:"-consult_date"};this.http.get("consultation/records",{params:n}).subscribe({next:o=>{this.consult_details=o.data},error:o=>{this.http.showError(o.error.message,"Dental Consult")}})}toggleModal(e){this.modals[e]=!this.modals[e]}switchPage(e,n,o){2===e?(this.item_index=o,this.router.navigate(["/patient/dn",{id:n.patient.id,consult_id:n.id}])):this.module=1,this.pages=e,n&&(this.selected_visit=n),console.log(this.selected_visit,"selected visit")}switchTab(e){this.module=e}constructor(e,n,o){this.http=e,this.router=n,this.route=o,this.selected_visit=null,this.pages=1,this.module=1,this.faDoorClosed=c.K_I,this.faCircleNotch=c.s4k,this.patient_dental_history=[],this.enable_edit=!1,this.allowed_to_edit=!0,this.toggle_content=!0,this.have_complaint=!1,this.modals=[],this.item_index=null}ngOnInit(){this.user_id=this.http.getUserID(),this.module=1,this.loadConsult(),this.user_facility=this.http.getUserFacility()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(u.k),t.rXU(f.Ix),t.rXU(f.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-dental"]],standalone:!1,decls:18,vars:15,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full border border-gray-200 shadow-md rounded-xl",4,"ngIf"],["class","m-3",4,"ngIf"],[4,"ngIf"],[3,"program_id","program_name","max_date","selected_case","switchPage",4,"ngIf"],[3,"toggle_content","consult_details","allowed_to_edit","user_id","switchPage","loadConsult",4,"ngIf"],[3,"patient_id","program_id","program_name","max_date","switchPage",4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mr-1",3,"icon"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","px-3",3,"click"],[1,"tabs-main","w-28",3,"click"],[1,"my-5","w-full","border","border-gray-200","shadow-md","rounded-xl"],["class","text-orange-800 border border-orange-400 bg-orange-100 rounded-md p-3 mb-2 w-full",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","w-full text-sm text-left",4,"ngIf"],[1,"text-orange-800","border","border-orange-400","bg-orange-100","rounded-md","p-3","mb-2","w-full"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["animation","spin",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semibold"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"bg-white","border-b"],["colspan","3",4,"ngIf"],[1,"py-4","px-6"],["type","button","class","rounded-md bg-blue-500 text-white py-1 px-2",3,"click",4,"ngIf"],["colspan","3"],[1,"text-center"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],[1,"m-3"],[3,"consult_details","have_complaint","allowed_to_edit","loadConsult",4,"ngIf"],[3,"loadConsult","toggle_content","consult_details","have_complaint","allowed_to_edit"],[3,"pt_group"],[3,"loadConsult","consult_details","have_complaint","allowed_to_edit"],[3,"loadSelectedConsult","selected_visit"],[3,"loadConsult","toggle_content","consult_details","have_complaint","allowed_to_edit","user_id"],[3,"switchPage","program_id","program_name","max_date","selected_case"],[3,"switchPage","loadConsult","toggle_content","consult_details","allowed_to_edit","user_id"],[3,"switchPage","patient_id","program_id","program_name","max_date"],[3,"toggleModal","consult_id","consult_date","patient_id","pt_group"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"nav",1)(2,"button",2),t.bIt("click",function(){return o.switchPage(1)}),t.EFF(3," DENTAL VISITS "),t.k0s(),t.DNE(4,zt,2,2,"button",3)(5,Lt,2,2,"button",3),t.k0s(),t.j41(6,"div",4),t.DNE(7,At,3,1,"button",5),t.k0s()(),t.DNE(8,qt,14,12,"nav",6)(9,ie,4,3,"div",7)(10,ne,4,6,"div",8)(11,se,4,3,"div",9)(12,le,3,2,"div",9)(13,ae,3,9,"div",9)(14,re,1,4,"app-eclaims",10)(15,ce,1,4,"app-supplies",11)(16,de,1,4,"app-caserate",12)(17,_e,1,4,"app-end-visit",13)),2&n&&(t.R7$(2),t.HbH(1===o.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),t.R7$(2),t.Y8G("ngIf",o.selected_visit||(null==o.selected_visit||null==o.selected_visit.facility?null:o.selected_visit.facility.code)===o.user_facility),t.R7$(),t.Y8G("ngIf",o.selected_visit||(null==o.selected_visit?null:o.selected_visit.facility_code)===o.user_facility),t.R7$(2),t.Y8G("ngIf",o.selected_visit&&!(null!=o.selected_visit&&o.selected_visit.consult_done)),t.R7$(),t.Y8G("ngIf",2===o.pages),t.R7$(),t.Y8G("ngIf",1===o.pages),t.R7$(),t.Y8G("ngIf",2===o.pages&&1===o.module),t.R7$(),t.Y8G("ngIf",2===o.pages&&2===o.module),t.R7$(),t.Y8G("ngIf",2===o.pages&&3===o.module),t.R7$(),t.Y8G("ngIf",2===o.pages&&4===o.module),t.R7$(),t.Y8G("ngIf",3===o.pages),t.R7$(),t.Y8G("ngIf",2===o.pages&&5===o.module),t.R7$(),t.Y8G("ngIf",2===o.pages&&8===o.module),t.R7$(),t.Y8G("ngIf",o.modals.end_visit))},dependencies:[r.Sq,r.bT,p.aY,C.Z,F,y._,k.W,j.u,x.B,G.H,J.i,w.G,L,Rt,Yt,Vt,Pt,r.vh],encapsulation:2})}}return i})()}];let ue=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(pe),f.iI]})}}return i})(),me=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-general-survey"]],decls:2,vars:0,template:function(n,o){1&n&&(t.j41(0,"p"),t.EFF(1,"general-survey works!"),t.k0s())},dependencies:[r.MD],encapsulation:2})}}return i})();var fe=d(8249);let he=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-management"]],decls:2,vars:0,template:function(n,o){1&n&&(t.j41(0,"p"),t.EFF(1,"management works!"),t.k0s())},dependencies:[r.MD],encapsulation:2})}}return i})();var ge=d(4959);let be=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[r.MD,ue,p.dX,s.YN,s.X1,C.Z,F,y._,k.W,me,fe.a,he,g.c,j.u,x.B,G.H,ge.u,w.G]})}}return i})()}}]);