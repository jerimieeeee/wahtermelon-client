"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[792],{5792:(I,C,c)=>{c.r(C),c.d(C,{ConsultationModule:()=>Kn});var a=c(6895),h=c(4553),d=c(2687),f=c(7340),t=c(1571),w=c(6205);function J(n,o){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"apx-chart",9),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.chartOptions?null:e.chartOptions.series)("chart",null==e.chartOptions?null:e.chartOptions.chart)("xaxis",null==e.chartOptions?null:e.chartOptions.xaxis)("stroke",null==e.chartOptions?null:e.chartOptions.stroke)("tooltip",null==e.chartOptions?null:e.chartOptions.tooltip)("dataLabels",null==e.chartOptions?null:e.chartOptions.dataLabels)("title",null==e.chartOptions?null:e.chartOptions.title)}}function Z(n,o){if(1&n&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"apx-chart",9),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.WeightChart?null:e.WeightChart.series)("chart",null==e.WeightChart?null:e.WeightChart.chart)("xaxis",null==e.WeightChart?null:e.WeightChart.xaxis)("stroke",null==e.WeightChart?null:e.WeightChart.stroke)("tooltip",null==e.WeightChart?null:e.WeightChart.tooltip)("dataLabels",null==e.WeightChart?null:e.WeightChart.dataLabels)("title",null==e.WeightChart?null:e.WeightChart.title)}}function q(n,o){if(1&n&&(t.TgZ(0,"div",10)(1,"div",12),t._UZ(2,"apx-chart",9),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("series",null==e.BmiChart?null:e.BmiChart.series)("chart",null==e.BmiChart?null:e.BmiChart.chart)("xaxis",null==e.BmiChart?null:e.BmiChart.xaxis)("stroke",null==e.BmiChart?null:e.BmiChart.stroke)("tooltip",null==e.BmiChart?null:e.BmiChart.tooltip)("dataLabels",null==e.BmiChart?null:e.BmiChart.dataLabels)("title",null==e.BmiChart?null:e.BmiChart.title)}}function v(n,o){if(1&n&&(t.TgZ(0,"div",4),t.YNc(1,J,3,7,"div",5),t.YNc(2,Z,3,7,"div",6),t.YNc(3,q,3,7,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.show_bp),t.xp6(1),t.Q6J("ngIf",e.show_weight),t.xp6(1),t.Q6J("ngIf",e.show_bmi)}}function p(n,o){if(1&n&&(t.TgZ(0,"div",1),t._UZ(1,"div",2),t.YNc(2,v,4,3,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.show_graphs)}}let A=(()=>{class n{patientVitals(e){this.vitals_graph.systolic=[],this.vitals_graph.diastolic=[],this.vitals_graph.bp_date=[],this.vitals_graph.weight=[],this.vitals_graph.weight_date=[],Object.entries(e).forEach(([i,s],l)=>{let _=s;_.bp_systolic&&(this.vitals_graph.systolic.push(_.bp_systolic),this.vitals_graph.diastolic.push(_.bp_diastolic),this.vitals_graph.bp_date.push(_.vitals_date)),_.patient_weight&&(this.vitals_graph.weight.push(_.patient_weight),this.vitals_graph.weight_date.push(_.vitals_date)),_.patient_bmi&&(this.vitals_graph.bmi.push(_.patient_bmi),this.vitals_graph.bmi_date.push(_.vitals_date))}),this.vitals_graph.systolic.length>0||this.vitals_graph.diastolic.length>0||this.vitals_graph.weight.length>0||this.vitals_graph.bmi.length>0?(this.selected_chart="all_chart",this.loadChart(this.selected_chart)):this.showChart=!1,this.generateAllChart()}generateBPChart(){this.chartOptions={series:[{name:"Systolic",data:this.vitals_graph.systolic},{name:"Diastolic",data:this.vitals_graph.diastolic}],chart:{height:200,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Blood Pressure History"},xaxis:{type:"datetime",categories:this.vitals_graph.bp_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateWeightChart(){this.WeightChart={series:[{name:"Weight",data:this.vitals_graph.weight}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Weight History"},xaxis:{type:"datetime",categories:this.vitals_graph.weight_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}generateBMIChart(){this.BmiChart={series:[{name:"BMI",data:this.vitals_graph.bmi}],chart:{height:200,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"BMI History"},xaxis:{type:"datetime",categories:this.vitals_graph.bmi_date},tooltip:{x:{format:"MM/dd/yyyy HH:mm"}}}}loadChart(e){switch(this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,e){case"bp_chart":this.show_bp=!0;break;case"weight_chart":this.show_weight=!0;break;case"bmi_chart":this.show_bmi=!0;break;case"bmi_weight_chart":this.show_weight=!0,this.show_bmi=!0;break;case"bp_weight_chart":this.show_bp=!0,this.show_weight=!0;break;case"all_chart":this.show_bp=!0,this.show_weight=!0,this.show_bmi=!0}this.showChart=!0}generateAllChart(){this.generateBPChart(),this.generateWeightChart(),this.generateBMIChart()}constructor(e){this.router=e,this.showChart=!1,this.show_bmi=!1,this.show_bp=!1,this.show_weight=!1,this.show_graphs=!0,this.vitals_graph={systolic:[],diastolic:[],bp_date:[],weight:[],weight_date:[],bmi:[],bmi_date:[]}}ngOnChanges(e){this.vitals&&this.patientVitals(this.vitals)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-graphs"]],inputs:{vitals:"vitals"},features:[t.TTD],decls:1,vars:1,consts:[["class","grid grid-cols-1 w-full h-auto",4,"ngIf"],[1,"grid","grid-cols-1","w-full","h-auto"],[1,"w-full","flex","ml-5","font-semibold"],["class","cols-span-1 flex w-full mt-3",4,"ngIf"],[1,"cols-span-1","flex","w-full","mt-3"],["class","w-1/3 shadow px-2 mr-2 py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],["class","w-1/3 shadow px-2 ml-2  py-4 rounded-xl text-gray-600 border border-slate-100",4,"ngIf"],[1,"w-1/3","shadow","px-2","mr-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","bp-chart"],[3,"series","chart","xaxis","stroke","tooltip","dataLabels","title"],[1,"w-1/3","shadow","px-2","ml-2","py-4","rounded-xl","text-gray-600","border","border-slate-100"],["id","weight-chart"],["id","bmi-chart"]],template:function(e,i){1&e&&t.YNc(0,p,3,1,"div",0),2&e&&t.Q6J("ngIf",i.showChart)},dependencies:[a.O5,w.x],data:{animation:[(0,f.X$)("openCloseAccordion",[(0,f.eR)(":enter",[(0,f.oB)({height:0,opacity:0}),(0,f.jt)("200ms",(0,f.oB)({height:"100%",opacity:"100%"}))]),(0,f.eR)(":leave",[(0,f.jt)("200ms",(0,f.oB)({height:0,opacity:0}))])])]}}),n})();var g=c(4691),y=c(7185),m=c(2216),Q=c(6054),F=c(4346);function G(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.konsulta_medicine.category," ")}}function $(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.purpose.desc," ")}}function B(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.konsulta_medicine.desc)}}function V(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.lnq("",e.added_medicine," ",e.dosage_quantity," ",e.unit_of_measurement.code,"")}}function R(n,o){if(1&n&&(t.TgZ(0,"td",66)(1,"div"),t._UZ(2,"br")(3,"br")(4,"br"),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._UZ(7,"br"),t._uU(8," Signature over printed name "),t._UZ(9,"br"),t._uU(10," License #: ________________ "),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("rowSpan",i.prescription_length),t.xp6(6),t.lnq("",e.prescriber.first_name," ",e.prescriber.middle_name," ",e.prescriber.last_name,"")}}function W(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1," \u2714 "),t.qZA())}function z(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1," X "),t.qZA())}function X(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.dispensing[0].dispensing_date," ")}}function tt(n,o){if(1&n&&(t.TgZ(0,"td",66),t._UZ(1,"br")(2,"br")(3,"br"),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7," Signature over printed name "),t._UZ(8,"br"),t._uU(9," Name of Dispensing Facility: "),t._UZ(10,"br"),t._uU(11),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("rowSpan",e.prescription_length),t.xp6(5),t.lnq("",null==e.dispensed_personnel?null:e.dispensed_personnel.first_name," ",null==e.dispensed_personnel?null:e.dispensed_personnel.middle_name," ",null==e.dispensed_personnel?null:e.dispensed_personnel.last_name,""),t.xp6(6),t.hij("",null==e.facility?null:e.facility.konsulta_credential.facility_name," ")}}function et(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",60),t.YNc(2,G,2,1,"span",61),t.YNc(3,$,2,1,"span",61),t.qZA(),t.TgZ(4,"td",60),t.YNc(5,B,2,1,"span",62),t.YNc(6,V,2,3,"span",62),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.qZA(),t.YNc(9,R,11,4,"td",64),t.TgZ(10,"td",63),t.YNc(11,W,2,0,"span",62),t.YNc(12,z,2,0,"span",62),t.qZA(),t.TgZ(13,"td",60),t.YNc(14,X,2,1,"span",62),t.qZA(),t.YNc(15,tt,12,5,"td",64),t.qZA()),2&n){const e=o.$implicit,i=o.first;t.xp6(2),t.Q6J("ngIf",e.konsulta_medicine),t.xp6(1),t.Q6J("ngIf",e.added_medicine),t.xp6(2),t.Q6J("ngIf",e.konsulta_medicine),t.xp6(1),t.Q6J("ngIf",!e.konsulta_medicine),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(1),t.Q6J("ngIf",i),t.xp6(2),t.Q6J("ngIf",e.dispensing),t.xp6(1),t.Q6J("ngIf",!e.dispensing),t.xp6(2),t.Q6J("ngIf",e.dispensing),t.xp6(1),t.Q6J("ngIf",i)}}function nt(n,o){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),t._uU(4," ANNEX G: Electronic Prescription Slip (ePresS) "),t.qZA(),t.TgZ(5,"div",16),t._uU(6," Electronic Prescription Slip (ePresS) - proof of availment of medicines by the eligible beneficiary. This will be generated by the PhilHealth Konsulta facility for every patient encounter and to be submitted to PhilHealth. "),t.qZA(),t.TgZ(7,"div",17)(8,"div",18),t._UZ(9,"img",19),t.TgZ(10,"span",20),t._uU(11,"ELECTRONIC PRESCRIPTION SLIP (ePresS)"),t.qZA()(),t.TgZ(12,"div",21)(13,"div",22)(14,"div",23),t._uU(15," HCI Name: "),t.TgZ(16,"span",24),t._uU(17),t.qZA()(),t.TgZ(18,"div",23),t._uU(19," Case No.: "),t.TgZ(20,"span",24),t._uU(21),t.qZA()(),t.TgZ(22,"div",23),t._uU(23," HCI Accreditation No: "),t.TgZ(24,"span",24),t._uU(25),t.qZA()(),t.TgZ(26,"div",23),t._uU(27," Transaction No.: "),t.TgZ(28,"span",24),t._uU(29),t.qZA()()(),t.TgZ(30,"div",25)(31,"div",26)(32,"span",27),t._uU(33,"Patient name (pangalan ng pasyente): "),t.qZA(),t.TgZ(34,"span",24),t._uU(35),t.qZA()(),t.TgZ(36,"div",28)(37,"span",27),t._uU(38,"Age (Edad): "),t.qZA(),t.TgZ(39,"span",29),t._uU(40),t.qZA()(),t.TgZ(41,"div",28)(42,"span",27),t._uU(43,"Contact No.: "),t.qZA(),t.TgZ(44,"span",24),t._uU(45),t.qZA()()(),t.TgZ(46,"div",30)(47,"div",31)(48,"span",27),t._uU(49,"PIN (PhilHealth Identification No.): "),t.qZA(),t.TgZ(50,"span",24),t._uU(51),t.qZA()(),t.TgZ(52,"div",32)(53,"span",27),t._uU(54,"Membership Category: "),t.qZA(),t._UZ(55,"span",24),t.qZA(),t.TgZ(56,"div",33)(57,"span",27),t._uU(58,"Membership type: "),t.qZA(),t.TgZ(59,"span",34)(60,"span",35),t._uU(61),t.qZA(),t._uU(62,"Member "),t.TgZ(63,"span",35),t._uU(64),t.qZA(),t._uU(65,"Dependent "),t.qZA()()()(),t.TgZ(66,"div",36),t._uU(67," To be filled out by the facility (pupunuan ng pasilidad) "),t.qZA(),t.TgZ(68,"div",37)(69,"table",38)(70,"thead")(71,"tr")(72,"th",39),t._uU(73," Category "),t._UZ(74,"br"),t._uU(75," (Kategorya) "),t.qZA(),t.TgZ(76,"th",40),t._uU(77," Medicine Strength/ Form/ Volume "),t._UZ(78,"br"),t._uU(79," (Gamot/ Anyo/ Dami) "),t.qZA(),t.TgZ(80,"th",40),t._uU(81," Quantity"),t._UZ(82,"br"),t._uU(83," (Bilang) "),t.qZA(),t.TgZ(84,"th",41),t._uU(85," Name of the Prescribing Physician "),t._UZ(86,"br"),t._uU(87," (Pangalan ng nagresetang doktor) "),t.qZA(),t.TgZ(88,"th",40)(89,"span",35),t._uU(90,"\u2714"),t.qZA(),t._uU(91," Dispensed "),t._UZ(92,"br"),t._uU(93," (Naibigay) "),t._UZ(94,"br"),t.TgZ(95,"span",35),t._uU(96,"X"),t.qZA(),t._uU(97," Not dispensed "),t._UZ(98,"br"),t._uU(99," (Hindi naibigay) "),t.qZA(),t.TgZ(100,"th",40),t._uU(101," Date dispensed (Petsa kung kelan naibigay) "),t.qZA(),t.TgZ(102,"th",41),t._uU(103," Name of the Dispensing Personnel "),t._UZ(104,"br"),t._uU(105," (Pangalan ng nagbigay) "),t.qZA()()(),t.TgZ(106,"tbody"),t.YNc(107,et,16,10,"tr",42),t.qZA()()(),t.TgZ(108,"div",36),t._uU(109," To be filled out by the patient (pupunuan ng pasyente) "),t.qZA(),t.TgZ(110,"div",43)(111,"div",44)(112,"div",45),t._uU(113," Did you receive the above mentioned medicines? __ Yes __ No "),t.qZA(),t.TgZ(114,"div",45),t._uU(115," (Natanggap mo ba ang mga gamot na nabanggit?) "),t.qZA()(),t.TgZ(116,"div",46)(117,"div",47)(118,"span"),t._uU(119,"Are you satisfied with the medicines you received?"),t.qZA(),t.TgZ(120,"span"),t._uU(121,"(Nasiyahan ka ba sa mga gamot na natanggap mo?)"),t.qZA()(),t.TgZ(122,"div",26),t._UZ(123,"div",48)(124,"fa-icon",49)(125,"div",48)(126,"fa-icon",50)(127,"div",48)(128,"fa-icon",51),t.qZA()(),t.TgZ(129,"div",52)(130,"div",45),t._uU(131," For your comment, suggestion or complaint: "),t.qZA(),t.TgZ(132,"div",45),t._uU(133," (Para sa iyong komento, mungkahi o reklamo) "),t.qZA(),t._UZ(134,"div",53),t.qZA(),t.TgZ(135,"div",54)(136,"div",45),t._uU(137," Under the penalty of law, I attest that the information I provided in this slip are true and accurate. "),t.qZA(),t.TgZ(138,"div",45),t._uU(139," (Sa ilalim ng batas, pinatutunayan ko na ang impormasyong ibinigay ko ay totoo at tama) "),t.qZA()()(),t.TgZ(140,"div",55)(141,"div",56)(142,"div",57),t._uU(143," ________________________________________ "),t._UZ(144,"br"),t._uU(145," Signature over printed name of patient "),t._UZ(146,"br"),t._uU(147," (Lagda sa nakalimbag na pangalan ng pasyente) "),t.qZA(),t.TgZ(148,"div",58),t._uU(149," Next Dispensing Date: _____________________ "),t._UZ(150,"br"),t._uU(151," (Petsa ng susunod na bigay ng gamot) "),t.qZA()(),t.TgZ(152,"div",59)(153,"div",57),t._uU(154," Note: "),t._UZ(155,"br"),t._uU(156," Accomplished form shall be submitted to PhilHealth "),t._UZ(157,"br"),t._uU(158," (Ang kumpletong form ay dapat isumite sa PhilHealth) "),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(17),t.Oqu(null==e.facility?null:e.facility.konsulta_credential.facility_name),t.xp6(4),t.Oqu(null==e.patient_info?null:e.patient_info.case_number),t.xp6(4),t.Oqu(null==e.facility?null:e.facility.konsulta_credential.accreditation_number),t.xp6(4),t.Oqu("S"+(null==e.consult_details?null:e.consult_details.transaction_number)),t.xp6(6),t.HOy(" ",null==e.patient_info?null:e.patient_info.last_name,", ",null==e.patient_info?null:e.patient_info.first_name," ",null==e.patient_info?null:e.patient_info.middle_name," ","NA"===(null==e.patient_info?null:e.patient_info.suffix_name)?"":null==e.patient_info?null:e.patient_info.suffix_name," "),t.xp6(5),t.hij("",e.patient_age," "),t.xp6(5),t.Oqu(null==e.patient_info?null:e.patient_info.mobile_number),t.xp6(6),t.Oqu(null==e.patient_philhealth?null:e.patient_philhealth.philhealth_id),t.xp6(10),t.hij("","MM"===(null==e.patient_philhealth?null:e.patient_philhealth.membership_type_id)?"\u2714":"\xa0\xa0"," "),t.xp6(3),t.hij("","DD"===(null==e.patient_philhealth?null:e.patient_philhealth.membership_type_id)?"\u2714":"\xa0\xa0"," "),t.xp6(43),t.Q6J("ngForOf",e.prescriptions),t.xp6(17),t.Q6J("icon",e.faFaceSmile),t.xp6(2),t.Q6J("icon",e.faFaceMeh),t.xp6(2),t.Q6J("icon",e.faFaceFrown)}}function it(n,o){if(1&n&&(t.TgZ(0,"div",67),t._UZ(1,"fa-icon",68),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faCircleNotch)}}let N=(()=>{class n{closeModal(){this.toggleModal.emit("epres")}iteratePrescription(){this.prescriptions&&this.prescriptions[0].dispensing&&this.http.get("users/"+this.prescriptions[0].dispensing[0].user_id).subscribe({next:e=>{this.dispensed_personnel=e.data,this.getAge()},error:e=>console.log(e)})}getAge(){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":this.patient_info.id,per_page:"1",sort:"-enlistment_date"}}).subscribe({next:e=>{this.philhealth_info=e.data[0],this.http.post("konsulta/generate-age",{date_from:this.patient_info.birthdate,date_to:e.data[0].enlistment_date}).subscribe({next:s=>{console.log(s),this.patient_age=s.data,this.show_form=!0},error:s=>console.log(s)})},error:e=>console.log(e)})}constructor(e,i){this.http=e,this.ageService=i,this.toggleModal=new t.vpe,this.faPrint=d.wf8,this.faFaceSmile=d.pkM,this.faFaceMeh=d.FRD,this.faFaceFrown=d.qfV,this.faCircleNotch=d.IJ7,this.show_form=!1}ngOnInit(){this.patient_info=this.http.getPatientInfo(),this.patient_philhealth=this.http.getPhilhealhtInfo(),this.facility=this.http.getUserFromJSON(),this.prescription_length=Object.keys(this.prescriptions).length,console.log(this.prescriptions),this.iteratePrescription()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(Q.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-epres"]],inputs:{prescriptions:"prescriptions",consult_details:"consult_details"},outputs:{toggleModal:"toggleModal"},decls:14,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","max-w-4xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button","printSectionId","philhealth_form","ngxPrint","",1,"bg-white","text-blue-500","hover:bg-gray-100","hover:text-blue-400","px-2","py-1","rounded-md",3,"useExistingCss"],[3,"icon"],["class","overflow-y-auto scrollbar-thin h-96 scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],["class","h-96 flex justify-center align-middle w-full",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-[210mm]","h-[297mm]","flex","justify-center","align-middle","bg-white"],["id","philhealth_form",1,"w-[195mm]","h-[272mm]","mt-[12.5mm]"],[1,"border","border-black","w-full","p-1","font-semibold"],[1,"text-xs","my-5"],[1,"border-2","border-sky-700"],[1,"flex","align-middle","h-14","p-1"],["src","./assets/img/philhealth_logo.png",1,"w-12","h-14"],[1,"underline","font-semibold","mt-3"],[1,"p-1"],[1,"grid","grid-cols-4","text-xs"],[1,"col-span-2","flex","text-[.75em]"],[1,"underline","flex-1","w-full","text-[.8em]"],[1,"grid","grid-cols-4","text-xs","mt-2"],[1,"col-span-2","flex"],[1,"text-[.75em]"],[1,"col-span-1","flex"],[1,"underline","flex-1","w-full","text-[.75em]"],[1,"grid","grid-cols-12","text-xs"],[1,"col-span-4","flex"],[1,"col-span-3","flex","ml-3"],[1,"col-span-5","flex"],[1,"flex-1","w-full","text-[.8em]"],[1,"underline"],[1,"w-full","border","border-black","bg-gray-300","text-xs","my-5","p-1","py-0"],[1,"w-full","text-xs"],[1,"border","border-slate-600","border-collapse","mx-2"],[1,"w-2/12","border","border-slate-700","text-[.8em]"],[1,"w-1/12","border","border-slate-700","text-[.8em]"],[1,"w-3/12","border","border-slate-700","text-[.8em]"],[4,"ngFor","ngForOf"],[1,"w-full","p-1","text-xs"],[1,"grid","grid-cols-1"],[1,"flex","text-[.8em]"],[1,"grid","grid-cols-4","mt-3"],[1,"col-span-2","grid","grid-cols-1","text-[.8em]"],[1,"w-2","h-2","border","border-slate-700","mt-5","mr-2"],[1,"text-3xl","text-green-600","mr-3",3,"icon"],[1,"text-3xl","text-yellow-500","mr-3",3,"icon"],[1,"text-3xl","text-red-600",3,"icon"],[1,"grid","grid-cols-1","mt-3"],[1,"w-full","border-y","border-black","h-5","mt-5"],[1,"grid","grid-cols-1","mt-2"],[1,"w-full","p-1","text-xs","mt-7","mb-5"],[1,"grid","grid-cols-12"],[1,"col-span-7","text-[.8em]"],[1,"col-span-5","text-[.8em]"],[1,"grid","grid-cols-12","mt-3"],[1,"border","border-slate-700","text-[.8em]"],["class","uppercase",4,"ngIf"],[4,"ngIf"],[1,"border","border-slate-700","text-center","text-[.8em]"],["class","border border-slate-700 text-[0.65rem] font-normal align-bottom",3,"rowSpan",4,"ngIf"],[1,"uppercase"],[1,"border","border-slate-700","text-[0.65rem]","font-normal","align-bottom",3,"rowSpan"],[1,"h-96","flex","justify-center","align-middle","w-full"],["spin","true","size","2xl",1,"mt-20","text-blue-500",3,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," electronic Prescription Slip (ePresS) "),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"fa-icon",6),t.qZA()(),t.YNc(8,nt,159,17,"div",7),t.YNc(9,it,2,1,"div",8),t.TgZ(10,"div",9)(11,"button",10),t.NdJ("click",function(){return i.closeModal()}),t._uU(12,"Close"),t.qZA()()()()(),t._UZ(13,"div",11)),2&e&&(t.xp6(6),t.Q6J("useExistingCss",!0),t.xp6(1),t.Q6J("icon",i.faPrint),t.xp6(1),t.Q6J("ngIf",i.show_form),t.xp6(1),t.Q6J("ngIf",!i.show_form))},dependencies:[a.sg,a.O5,m.BN,F.I],styles:["@page{size:auto;size:A4;margin:7mm}"]}),n})();var ot=c(6356);function st(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",39),t._uU(2),t.qZA(),t.TgZ(3,"td",40),t._uU(4),t.qZA(),t.TgZ(5,"td",39),t._uU(6),t.qZA(),t.TgZ(7,"td",39),t._uU(8),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.laboratory.desc),t.xp6(2),t.hij(" ",e.result?"\u2714":"X"," "),t.xp6(2),t.hij(" ",e.result?e.result.laboratory_date:"-"," "),t.xp6(2),t.hij(" ",e.result?e.result.user:"-"," ")}}function at(n,o){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),t._uU(4," ANNEX G: Electronic Konsulta Availment Slip (eKAS) "),t.qZA(),t.TgZ(5,"div",16),t._uU(6," Electronic Konsulta Availment Slip (eKAS) \u2013 proof of availment of services by the eligible beneficiary. This will be generated by the PhilHealth Konsulta facility for every patient encounter and to be submitted to PhilHealth. "),t.qZA(),t.TgZ(7,"div",17)(8,"div",18),t._UZ(9,"img",19),t.TgZ(10,"span",20),t._uU(11,"ELECTRONIC KONSULTA AVAILMENT SLIP (eKAS)"),t.qZA()(),t.TgZ(12,"div",21)(13,"div",22)(14,"div",23)(15,"span",24),t._uU(16,"HCI Name:"),t.qZA(),t.TgZ(17,"span",25),t._uU(18),t.qZA()(),t.TgZ(19,"div",23)(20,"span"),t._uU(21,"HCI Accreditation No:"),t.qZA(),t.TgZ(22,"span",25),t._uU(23),t.qZA()(),t.TgZ(24,"div",23)(25,"span",24),t._uU(26,"Case No.:"),t.qZA(),t.TgZ(27,"span",26),t._uU(28),t.qZA()(),t.TgZ(29,"div",23)(30,"span",24),t._uU(31,"Transaction No.:"),t.qZA(),t.TgZ(32,"span",26),t._uU(33),t.qZA()()(),t.TgZ(34,"div",27)(35,"div",23)(36,"span",24),t._uU(37,"Patient name (pangalan ng pasyente): "),t.qZA(),t.TgZ(38,"span",26),t._uU(39),t.qZA()(),t.TgZ(40,"div",28)(41,"span",24),t._uU(42,"Age (Edad): "),t.qZA(),t.TgZ(43,"span",29),t._uU(44),t.qZA()(),t.TgZ(45,"div",28)(46,"span",24),t._uU(47,"Contact No.: "),t.qZA(),t.TgZ(48,"span",26),t._uU(49),t.qZA()()(),t.TgZ(50,"div",22)(51,"div",23)(52,"span",24),t._uU(53,"PIN (PhilHealth Identification No.): "),t.qZA(),t.TgZ(54,"span",26),t._uU(55),t.qZA()(),t.TgZ(56,"div",23)(57,"span",24),t._uU(58,"Membership Category: "),t.qZA(),t._UZ(59,"span",26),t.qZA()(),t.TgZ(60,"div",22)(61,"div",23)(62,"span",24),t._uU(63,"Membership type: "),t.qZA(),t.TgZ(64,"span",30)(65,"span",31),t._uU(66),t.qZA(),t._uU(67,"Member "),t.TgZ(68,"span",31),t._uU(69),t.qZA(),t._uU(70,"Dependent "),t.qZA()(),t.TgZ(71,"div",23)(72,"span",24),t._uU(73,"Authorization Transaction Code (ATC):"),t.qZA(),t.TgZ(74,"span",26),t._uU(75),t.qZA()()()(),t.TgZ(76,"div",32),t._uU(77," To be filled out by the facility (pupunuan ng pasilidad) "),t.qZA(),t.TgZ(78,"div",33)(79,"table",34)(80,"thead")(81,"tr")(82,"th",35),t._uU(83,"Konsulta Services"),t.qZA(),t.TgZ(84,"th",36)(85,"span",31),t._uU(86,"\u2714"),t.qZA(),t._uU(87," Performed "),t.TgZ(88,"span",37),t._uU(89,"(nagawa)"),t.qZA(),t._UZ(90,"br"),t.TgZ(91,"span",31),t._uU(92,"X"),t.qZA(),t._uU(93," Not performed "),t.TgZ(94,"span",37),t._uU(95,"(hindi nagawa)"),t.qZA(),t._UZ(96,"br"),t.qZA(),t.TgZ(97,"th",38),t._uU(98," Date Performed "),t._UZ(99,"br"),t._uU(100," (Petsa kung kelan ginawa) "),t.qZA(),t.TgZ(101,"th",38),t._uU(102," Performed by "),t._UZ(103,"br"),t._uU(104," (Ginawa ni) "),t._UZ(105,"br"),t._uU(106," (Initial/Signature of Health Care Provider/Technician)"),t._UZ(107,"br"),t._uU(108," (Initial o Lagda ng Health Care Provider/Technician) "),t.qZA()()(),t.TgZ(109,"tbody")(110,"tr")(111,"td",39),t._uU(112,"History and physical examination (vitals, anthropometrics)"),t.qZA(),t.TgZ(113,"td",40),t._uU(114,"\u2714"),t.qZA(),t.TgZ(115,"td",39),t._uU(116),t.ALo(117,"date"),t.qZA(),t.TgZ(118,"td",39),t._uU(119),t.qZA()(),t.TgZ(120,"tr")(121,"td",39),t._uU(122,"Consultation"),t.qZA(),t.TgZ(123,"td",40),t._uU(124,"\u2714"),t.qZA(),t.TgZ(125,"td",39),t._uU(126),t.ALo(127,"date"),t.qZA(),t.TgZ(128,"td",39),t._uU(129),t.qZA()(),t.YNc(130,st,9,4,"tr",41),t.qZA()()(),t.TgZ(131,"div",42),t._uU(132," To be filled out by the patient (pupunuan ng pasyente) "),t.qZA(),t.TgZ(133,"div",43)(134,"div",44)(135,"div",45),t._uU(136," Have you received the above-mentioned essential services? __ Yes __ No "),t.qZA(),t.TgZ(137,"div",45),t._uU(138," (Natanggap mo ba ang mga essential services na nabanggit?) "),t.qZA()(),t.TgZ(139,"div",46)(140,"div",47)(141,"span"),t._uU(142,"How satisfied are you with the services provided?"),t.qZA(),t.TgZ(143,"span"),t._uU(144,"(Gaano ka nasiyahan sa natanggap mong serbisyo?)"),t.qZA()(),t.TgZ(145,"div",23),t._UZ(146,"div",48)(147,"fa-icon",49)(148,"div",48)(149,"fa-icon",50)(150,"div",48)(151,"fa-icon",51),t.qZA()(),t.TgZ(152,"div",52)(153,"div",45),t._uU(154," For your comment, suggestion or complaint: "),t.qZA(),t.TgZ(155,"div",45),t._uU(156," (Para sa iyong komento, mungkahi o reklamo) "),t.qZA(),t._UZ(157,"div",53),t.qZA(),t.TgZ(158,"div",52)(159,"div",45),t._uU(160," Under the penalty of law, I attest that the information I provided in this slip are true and accurate. "),t.qZA(),t.TgZ(161,"div",45),t._uU(162," (Sa ilalim ng batas, pinatutunayan ko na ang impormasyong ibinigay ko ay totoo at tama) "),t.qZA()()(),t.TgZ(163,"div",54)(164,"div",55)(165,"div",56),t._uU(166," ________________________________________ "),t._UZ(167,"br"),t._uU(168," Signature over printed name of patient "),t._UZ(169,"br"),t._uU(170," (Lagda sa nakalimbag na pangalan ng pasyente) "),t.qZA(),t.TgZ(171,"div",57),t._uU(172," Next Consultation Date: _____________________ "),t._UZ(173,"br"),t._uU(174," (Petsa ng susunod na bigay ng gamot) "),t.qZA()(),t.TgZ(175,"div",58)(176,"div",56),t._uU(177," Note: "),t._UZ(178,"br"),t._uU(179," Accomplished form shall be submitted to PhilHealth "),t._UZ(180,"br"),t._uU(181," (Ang kumpletong form ay dapat isumite sa PhilHealth) "),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(18),t.Oqu(null==e.facility?null:e.facility.konsulta_credential.facility_name),t.xp6(5),t.Oqu(null==e.facility?null:e.facility.konsulta_credential.accreditation_number),t.xp6(5),t.Oqu(null==e.patient_info?null:e.patient_info.case_number),t.xp6(5),t.Oqu("S"+(null==e.consult_details?null:e.consult_details.transaction_number)),t.xp6(6),t.HOy(" ",null==e.patient_info?null:e.patient_info.last_name,", ",null==e.patient_info?null:e.patient_info.first_name," ",null==e.patient_info?null:e.patient_info.middle_name," ","NA"===(null==e.patient_info?null:e.patient_info.suffix_name)?"":null==e.patient_info?null:e.patient_info.suffix_name," "),t.xp6(5),t.Oqu(e.patient_age),t.xp6(5),t.Oqu(null==e.patient_info?null:e.patient_info.mobile_number),t.xp6(6),t.Oqu(null==e.patient_philhealth?null:e.patient_philhealth.philhealth_id),t.xp6(11),t.hij("","MM"===(null==e.patient_philhealth?null:e.patient_philhealth.membership_type_id)?"\u2714":"\xa0\xa0"," "),t.xp6(3),t.hij("","DD"===(null==e.patient_philhealth?null:e.patient_philhealth.membership_type_id)?"\u2714":"\xa0\xa0"," "),t.xp6(6),t.Oqu(!0===(null==e.consult_details?null:e.consult_details.walkedin_status)?"WALKEDIN":null!=e.consult_details&&e.consult_details.authorization_transaction_code?null==e.consult_details?null:e.consult_details.authorization_transaction_code:"WALKEDIN"),t.xp6(41),t.hij(" ",t.xi3(117,26,e.consult_details.consult_date,"yyyy-MM-dd")," "),t.xp6(3),t.lnq(" ",e.consult_details.user.first_name," ",e.consult_details.user.middle_name," ",e.consult_details.user.last_name," "),t.xp6(7),t.hij(" ",t.xi3(127,29,e.consult_details.consult_date,"yyyy-MM-dd")," "),t.xp6(3),t.lnq(" ",e.consult_details.user.first_name," ",e.consult_details.user.middle_name," ",e.consult_details.user.last_name," "),t.xp6(1),t.Q6J("ngForOf",e.lab_list),t.xp6(17),t.Q6J("icon",e.faFaceSmile),t.xp6(2),t.Q6J("icon",e.faFaceMeh),t.xp6(2),t.Q6J("icon",e.faFaceFrown)}}function rt(n,o){if(1&n&&(t.TgZ(0,"div",59),t._UZ(1,"fa-icon",60),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faCircleNotch)}}let M=(()=>{class n{getResults(){Object.entries(this.lab_list).forEach(([e,i],s)=>{let l=i,_=this.nameService.getURL(l.laboratory.code);""!==_&&this.http.get(_,{params:{request_id:l.id}}).subscribe({next:u=>{this.lab_list[e].result=u.data[0]},error:u=>console.log(u)})}),this.getAge(),console.log(this.lab_list)}getAge(){this.http.get("patient-philhealth/philhealth",{params:{"filter[patient_id]":this.patient_info.id,per_page:"1",sort:"-enlistment_date"}}).subscribe({next:e=>{this.philhealth_info=e.data[0],this.http.post("konsulta/generate-age",{date_from:this.patient_info.birthdate,date_to:e.data[0].enlistment_date}).subscribe({next:s=>{console.log(s),this.show_form=!0,this.patient_age=s.data},error:s=>console.log(s)})},error:e=>console.log(e)})}closeModal(){this.toggleModal.emit("ekas")}constructor(e,i,s){this.http=e,this.ageService=i,this.nameService=s,this.toggleModal=new t.vpe,this.faPrint=d.wf8,this.faFaceSmile=d.pkM,this.faFaceMeh=d.FRD,this.faFaceFrown=d.qfV,this.faCircleNotch=d.IJ7,this.show_form=!1}ngOnInit(){this.patient_info=this.http.getPatientInfo(),this.patient_philhealth=this.http.getPhilhealhtInfo(),this.facility=this.http.getUserFromJSON(),console.log(this.consult_details),this.getResults()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(Q.J),t.Y36(ot.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ekas"]],inputs:{lab_list:"lab_list",consult_details:"consult_details"},outputs:{toggleModal:"toggleModal"},decls:14,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-hidden","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","max-w-4xl","h-full","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],["type","button","printSectionId","philhealth_form","ngxPrint","",1,"bg-white","text-blue-500","hover:bg-gray-100","hover:text-blue-400","px-2","py-1","rounded-md",3,"useExistingCss"],[3,"icon"],["class","overflow-y-auto scrollbar-thin h-96 scrollbar-thumb-gray-400 scrollbar-track-gray-100",4,"ngIf"],["class","h-96 flex justify-center align-middle w-full",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"text-white","bg-orange-500","hover:ring-2","focus:outline-none","hover:ring-orange-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"overflow-y-auto","scrollbar-thin","h-96","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-[210mm]","h-[297mm]","flex","justify-center","align-middle","bg-white"],["id","philhealth_form",1,"w-[195mm]","h-[272mm]","mt-[12.5mm]"],[1,"border","border-black","w-full","p-1","font-semibold"],[1,"text-xs","my-5"],[1,"border-2","border-sky-700"],[1,"flex","align-middle","h-14","p-1"],["src","./assets/img/philhealth_logo.png",1,"w-12","h-14"],[1,"underline","font-semibold","mt-3"],[1,"p-1"],[1,"grid","grid-cols-4","text-xs"],[1,"col-span-2","flex"],[1,"text-[.75em]"],[1,"underline","flex-1","w-full"],[1,"underline","flex-1","w-full","text-[.8em]"],[1,"grid","grid-cols-4","text-xs","mt-2"],[1,"col-span-1","flex"],[1,"underline","flex-1","w-full","text-[.75em]"],[1,"flex-1","w-full","text-[.8em]"],[1,"underline"],[1,"w-full","border","border-black","bg-gray-300","text-xs","my-5","p-1","py-0"],[1,"w-full","text-xs"],[1,"border","border-slate-600","border-collapse","mx-1"],[1,"w-4/12","border","border-slate-700","text-[.8em]"],[1,"w-2/12","border","border-slate-700","text-[.8em]"],[1,"text-[.7em]"],[1,"w-3/12","border","border-slate-700","text-[.8em]"],[1,"border","border-slate-700","[.8em]"],[1,"border","border-slate-700","text-center","[.8em]"],[4,"ngFor","ngForOf"],[1,"w-full","border","border-black","bg-gray-300","text-xs","my-3","p-1","py-0","text-[.8em]"],[1,"w-full","pl-1","text-xs"],[1,"grid","grid-cols-1"],[1,"flex","text-[.8em]"],[1,"grid","grid-cols-4","mt-3"],[1,"col-span-2","grid","grid-cols-1","text-[.8em]"],[1,"w-2","h-2","border","border-slate-700","mt-5","mr-2"],[1,"text-3xl","text-green-600","mr-3",3,"icon"],[1,"text-3xl","text-yellow-500","mr-3",3,"icon"],[1,"text-3xl","text-red-600",3,"icon"],[1,"grid","grid-cols-1","mt-3"],[1,"w-full","border-y","border-black","h-5","mt-5"],[1,"w-full","p-1","text-xs","mt-7","mb-5"],[1,"grid","grid-cols-12"],[1,"col-span-7","text-[.8em]"],[1,"col-span-5","text-[.8em]"],[1,"grid","grid-cols-12","mt-4"],[1,"h-96","flex","justify-center","align-middle","w-full"],["spin","true","size","2xl",1,"mt-20","text-blue-500",3,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," electronic Konsulta Availment Slip (eKAS) "),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"fa-icon",6),t.qZA()(),t.YNc(8,at,182,32,"div",7),t.YNc(9,rt,2,1,"div",8),t.TgZ(10,"div",9)(11,"button",10),t.NdJ("click",function(){return i.closeModal()}),t._uU(12,"Close"),t.qZA()()()()(),t._UZ(13,"div",11)),2&e&&(t.xp6(6),t.Q6J("useExistingCss",!0),t.xp6(1),t.Q6J("icon",i.faPrint),t.xp6(1),t.Q6J("ngIf",i.show_form),t.xp6(1),t.Q6J("ngIf",!i.show_form))},dependencies:[a.sg,a.O5,m.BN,F.I,a.uU],styles:["@page{size:auto;size:A4;margin:7mm}"]}),n})();function lt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",16)(1,"td",17)(2,"fa-icon",18),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.toggleModal("delete",l))}),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"th",19),t._uU(5),t.qZA(),t.TgZ(6,"td",17)(7,"fa-icon",20),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.toggleModal("add",l))}),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("icon",i.faXmark),t.xp6(1),t.hij(" ",e.type," "),t.xp6(2),t.hij(" ",e.date_requested," "),t.xp6(2),t.Q6J("icon",i.faEdit)}}function dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-ekas",21),t.NdJ("toggleModal",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleModal(s))}),t.qZA()}}function _t(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-epres",21),t.NdJ("toggleModal",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleModal(s))}),t.qZA()}}let ct=(()=>{class n{toggleModal(e){console.log(e),this.modal[e]=!this.modal[e]}loadDetails(){}constructor(e){this.http=e,this.faPrint=d.wf8,this.pending_list=[],this.modal=[]}ngOnInit(){this.active_loc_id=this.http.getUrlParams,this.patient_id=this.active_loc_id.patient_id,this.consult_id=this.active_loc_id.consult_id,this.loadDetails()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-konsulta"]],inputs:{consult_details:"consult_details"},decls:28,vars:3,consts:[[1,"mb-16","w-full"],[1,"block","shadow","p-4","mt-4","rounded-xl","text-gray-600"],[1,"text-sky-500","font-bold","flex","justify-between","py-2"],[1,"flex"],[1,"mt-2"],[1,"text-gray-500","text-sm"],["type","button",1,"px-3","py-2","rounded-md","bg-blue-500","text-sm","text-white","ml-auto","mr-3",3,"click"],["type","button",1,"px-3","py-2","rounded-md","bg-blue-500","text-sm","text-white","ml-auto",3,"click"],[1,"border","border-slate-200","shadow-md","rounded-xl"],[1,"w-full","bg-green-500","text-white","rounded-t-xl","p-3","font-semibold"],[1,"w-full","p-5"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b last:border-0",4,"ngFor","ngForOf"],[3,"toggleModal",4,"ngIf"],[1,"bg-white","border-b","last:border-0"],[1,"w-1/3","py-4","px-6"],["size","lg",1,"mx-0","my-0","text-rose-400","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],["scope","row",1,"w-1/3","py-4","px-6","font-medium","text-gray-900","whitespace-nowrap"],["size","lg",1,"mx-0","my-0","text-blue-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[3,"toggleModal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3)(4,"span",4),t._UZ(5,"span",5),t.qZA()(),t.TgZ(6,"div")(7,"button",6),t.NdJ("click",function(){return i.toggleModal("epres")}),t._uU(8," ePresS "),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.toggleModal("ekas")}),t._uU(10," eKas "),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9),t._uU(13," Konsulta visits "),t.qZA(),t.TgZ(14,"div",10)(15,"table",11)(16,"thead",12)(17,"tr")(18,"th",13),t._uU(19,"Lab type"),t.qZA(),t.TgZ(20,"th",13),t._uU(21,"Date requested"),t.qZA(),t.TgZ(22,"th",13),t._uU(23,"Action"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,lt,8,4,"tr",14),t.qZA()()()()()(),t.YNc(26,dt,1,0,"app-ekas",15),t.YNc(27,_t,1,0,"app-epres",15)),2&e&&(t.xp6(25),t.Q6J("ngForOf",i.pending_list),t.xp6(1),t.Q6J("ngIf",i.modal.ekas),t.xp6(1),t.Q6J("ngIf",i.modal.epres))},dependencies:[a.sg,a.O5,m.BN,N,M]}),n})();function ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",19)(1,"td",20)(2,"fa-icon",21),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.toggleModal("delete",l))}),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"th",22),t._uU(5),t.qZA(),t.TgZ(6,"td",20)(7,"fa-icon",23),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.toggleModal("add",l))}),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("icon",i.faXmark),t.xp6(1),t.hij(" ",e.type," "),t.xp6(2),t.hij(" ",e.date_requested," "),t.xp6(2),t.Q6J("icon",i.faEdit)}}function pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-ekas",24),t.NdJ("toggleModal",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleModal(s))}),t.qZA()}}function gt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-epres",24),t.NdJ("toggleModal",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleModal(s))}),t.qZA()}}let mt=(()=>{class n{refreshClaims(){this.is_refreshing=!0}toggleModal(e){this.modal[e]=!this.modal[e]}constructor(){this.faRotate=d.go9,this.pending_list=[],this.modal=[],this.is_refreshing=!1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-eclaims"]],decls:39,vars:5,consts:[[1,"mb-16","w-full"],[1,"block","shadow","p-4","mt-4","rounded-xl","text-gray-600"],[1,"text-sky-500","font-bold","flex","justify-between","py-2"],[1,"flex"],[1,"mt-2"],[1,"text-gray-500","text-sm"],[1,"text-sm","font-normal"],["type","button",1,"w-32","px-3","py-2","rounded-md","bg-blue-500","text-sm","text-white","ml-auto","mr-1",3,"click"],["type","button",1,"w-32","px-3","py-2","rounded-md","bg-green-500","text-sm","text-white","ml-auto",3,"click"],[1,"border","border-slate-200","shadow-md","rounded-xl"],[1,"w-full","bg-blue-500","text-white","rounded-t-xl","p-3","font-semibold","flex","justify-between"],["type","button",3,"click"],[3,"icon","spin"],[1,"w-full","p-5"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b last:border-0",4,"ngFor","ngForOf"],[3,"toggleModal",4,"ngIf"],[1,"bg-white","border-b","last:border-0"],[1,"w-1/3","py-4","px-6"],["size","lg",1,"mx-0","my-0","text-rose-400","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],["scope","row",1,"w-1/3","py-4","px-6","font-medium","text-gray-900","whitespace-nowrap"],["size","lg",1,"mx-0","my-0","text-blue-500","hover:cursor-pointer","flex-none","mr-2",3,"icon","click"],[3,"toggleModal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3)(4,"span",4),t._UZ(5,"span",5),t.qZA()(),t.TgZ(6,"div",6)(7,"button",7),t.NdJ("click",function(){return i.toggleModal("pbef")}),t._uU(8," PBEF "),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.toggleModal("cf1")}),t._uU(10," CF1 "),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return i.toggleModal("cf2")}),t._uU(12," CF2 "),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return i.toggleModal("upload")}),t._uU(14," Upload "),t.qZA()()(),t.TgZ(15,"div",9)(16,"div",10)(17,"span"),t._uU(18,"Eclaims"),t.qZA(),t.TgZ(19,"button",11),t.NdJ("click",function(){return i.refreshClaims()}),t._UZ(20,"fa-icon",12),t.qZA()(),t.TgZ(21,"div",13)(22,"table",14)(23,"thead",15)(24,"tr")(25,"th",16),t._uU(26,"Claim Series Lhio"),t.qZA(),t.TgZ(27,"th",16),t._uU(28,"Transmittal Date"),t.qZA(),t.TgZ(29,"th",16),t._uU(30,"Claim Status"),t.qZA(),t.TgZ(31,"th",16),t._uU(32,"As of"),t.qZA(),t.TgZ(33,"th",16),t._uU(34,"Action"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,ut,8,4,"tr",17),t.qZA()()()()()(),t.YNc(37,pt,1,0,"app-ekas",18),t.YNc(38,gt,1,0,"app-epres",18)),2&e&&(t.xp6(20),t.Q6J("icon",i.faRotate)("spin",i.is_refreshing),t.xp6(16),t.Q6J("ngForOf",i.pending_list),t.xp6(1),t.Q6J("ngIf",i.modal.ekas),t.xp6(1),t.Q6J("ngIf",i.modal.epres))},dependencies:[a.sg,a.O5,m.BN,N,M]}),n})();var ht=c(8696),r=c(433),D=c(7272),U=c(9646),O=c(9300),S=c(1884),Y=c(8372),k=c(8505),E=c(3900),P=c(262),j=c(4004),H=c(7579),T=c(3455);function ft(n,o){if(1&n&&t._UZ(0,"fa-icon",21),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function xt(n,o){if(1&n&&t._UZ(0,"fa-icon",22),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,ft,1,1,"fa-icon",19),t.YNc(2,xt,1,1,"fa-icon",20),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function vt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",9)(2,"button",10),t._UZ(3,"fa-icon",11),t.qZA(),t.TgZ(4,"div",12)(5,"ng-select",13),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedIdx=s)}),t.ALo(6,"async"),t.qZA()()(),t.TgZ(7,"div",14)(8,"textarea",15),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.idx_remarks=s)}),t.qZA()(),t.TgZ(9,"div",16),t.YNc(10,bt,4,4,"button",17),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.faPlusSquare),t.xp6(2),t.Q6J("items",t.lcZ(6,10,e.idx$))("multiple",!0)("loading",e.idxLoading)("typeahead",e.searchInput$)("ngModel",e.selectedIdx)("disabled",e.consult_done),t.xp6(3),t.Q6J("disabled",e.consult_done)("ngModel",e.idx_remarks),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}const yt=function(n){return{"rounded-b":n}};let Zt=(()=>{class n{onSubmit(){this.is_saving=!0,this.selectedIdx&&Object.keys(this.selectedIdx).length>0?this.http.post("consultation/initial-diagnosis",{notes_id:this.consult_details.consult_notes.id,initial_diagnosis:this.selectedIdx}).subscribe({next:i=>{this.saveNotes()},error:i=>console.log(i)}):this.saveNotes()}saveNotes(){this.idx_remarks?this.http.update("consultation/notes/",this.consult_details.consult_notes.id,{consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,idx_remarks:this.idx_remarks}).subscribe({next:i=>{this.showToastr(),this.is_saving=!1},error:i=>console.log(i)}):(this.showToastr(),this.is_saving=!1)}showToastr(){this.toastr.success("Successfully updated!","Initial Diagnosis")}loadIdx(e){this.idx$=(0,D.z)((0,U.of)(e),this.searchInput$.pipe((0,O.h)(i=>null!==i&&i.length>=this.minLengthTerm),(0,S.x)(),(0,Y.b)(400),(0,k.b)(()=>this.idxLoading=!0),(0,E.w)(i=>this.getIdx(i).pipe((0,P.K)(()=>(0,U.of)([])),(0,k.b)(()=>this.idxLoading=!1)))))}getIdx(e=null){return this.http.get("libraries/diagnosis",{params:{"filter[search]":e}}).pipe((0,j.U)(i=>i.data))}loadSelected(){let e=[],i=[];this.initial_dx&&Object.keys(this.initial_dx).length>0?(Object.entries(this.initial_dx).forEach(([s,l],_)=>{let u=l;e.push(u.class_id.toString()),i.push(u.diagnosis)}),this.loadIdx(i),this.selectedIdx=e):this.loadIdx([])}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.initial_dx=this.consult_details.consult_notes.initialdx,this.idx_remarks=this.consult_details.consult_notes.idx_remarks,this.consult_done=this.consult_details.consult_done,this.loadSelected())}constructor(e,i){this.http=e,this.toastr=i,this.faPlusSquare=d.CPW,this.faSave=d.r6l,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSpinner=d.LM3,this.toastr_message=null,this.toastr_type=null,this.idxLoading=!1,this.show_content=!0,this.is_saving=!1,this.consult_done=!1,this.searchInput$=new H.x,this.minLengthTerm=3}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-initial-dx"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details"},features:[t.TTD],decls:11,vars:5,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],[1,"flex","mb-2","p-4"],["type","submit",1,"inline-flex","p-1","items-center","text-gray-50","bg-sky-400","rounded-l-md","border","border-gray-300"],[1,"text-white","fa-xl",3,"icon"],[1,"chips-container"],["placeholder","search","typeToSearchText","search...","bindValue","class_id","bindLabel","class_name","notFoundText","No records found",1,"select-chips",3,"items","multiple","loading","typeahead","ngModel","disabled","ngModelChange"],[1,"flex","px-4","pb-4"],["rows","3","id","idx_remarks","placeholder","Initial Diagnosis remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[1,"flex","text-right"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t._UZ(0,"hr",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Diagnosis "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7," Initial Diagnosis "),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(9,"fa-icon",7),t.qZA()(),t.YNc(10,vt,11,12,"div",8),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(3,yt,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.O5,m.BN,T.w9,r.Fj,r.JJ,r.On,a.Ov]}),n})();var Ct=c(3396);function Tt(n,o){if(1&n&&(t.TgZ(0,"div",18)(1,"h5",19)(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&n){const e=o.item,i=o.searchTerm;t.xp6(1),t.Q6J("ngOptionHighlight",i),t.xp6(2),t.hij("",e.icd10_code,":"),t.xp6(1),t.hij(" ",e.icd10_desc,"")}}function wt(n,o){if(1&n&&t._UZ(0,"fa-icon",23),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function qt(n,o){if(1&n&&t._UZ(0,"fa-icon",24),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function At(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,wt,1,1,"fa-icon",21),t.YNc(2,qt,1,1,"fa-icon",22),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function Ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",8)(2,"button",9),t._UZ(3,"fa-icon",10),t.qZA(),t.TgZ(4,"div",11)(5,"ng-select",12),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedFdx=s)}),t.ALo(6,"async"),t.YNc(7,Tt,5,3,"ng-template",13),t.qZA()()(),t.TgZ(8,"div",14)(9,"textarea",15),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.fdx_remarks=s)}),t.qZA()(),t.TgZ(10,"div",16),t.YNc(11,At,4,4,"button",17),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.faPlusSquare),t.xp6(2),t.Q6J("items",t.lcZ(6,10,e.fdx$))("multiple",!0)("loading",e.fdxLoading)("typeahead",e.searchInput$)("ngModel",e.selectedFdx)("disabled",e.consult_done),t.xp6(4),t.Q6J("disabled",e.consult_done)("ngModel",e.fdx_remarks),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}const kt=function(n){return{"rounded-b":n}};let Jt=(()=>{class n{onSubmit(){this.is_saving=!0,this.selectedFdx&&Object.keys(this.selectedFdx).length>0?this.http.post("consultation/final-diagnosis",{notes_id:this.consult_details.consult_notes.id,final_diagnosis:this.selectedFdx}).subscribe({next:i=>{this.saveNotes()},error:i=>console.log(i)}):this.saveNotes()}saveNotes(){this.fdx_remarks?this.http.update("consultation/notes/",this.consult_details.consult_notes.id,{consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,fdx_remarks:this.fdx_remarks}).subscribe({next:i=>{this.showToastr()},error:i=>console.log(i)}):this.showToastr()}showToastr(){this.is_saving=!1,this.toastr.success("Successfully updated!","Final Diagnosis")}loadFdx(e){this.fdx$=(0,D.z)((0,U.of)(e),this.searchInput$.pipe((0,O.h)(i=>null!==i&&i.length>=this.minLengthTerm),(0,S.x)(),(0,Y.b)(800),(0,k.b)(()=>this.fdxLoading=!0),(0,E.w)(i=>this.getFdx(i).pipe((0,P.K)(()=>(0,U.of)([])),(0,k.b)(()=>this.fdxLoading=!1)))))}getFdx(e=null){return this.http.get("libraries/icd10",{params:{"filter[search]":e}}).pipe((0,j.U)(i=>i.data))}loadSelected(){let e=[],i=[];this.final_dx&&Object.keys(this.final_dx).length>0?(Object.entries(this.final_dx).forEach(([s,l],_)=>{let u=l;e.push(u.icd10_code.toString()),i.push(u.lib_icd10)}),this.loadFdx(i),this.selectedFdx=e):this.loadFdx([])}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.final_dx=this.consult_details.consult_notes.finaldx,this.fdx_remarks=this.consult_details.consult_notes.fdx_remarks,this.consult_done=this.consult_details.consult_done,this.loadSelected())}constructor(e,i){this.http=e,this.toastr=i,this.faPlusSquare=Ct.CPW,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSave=d.r6l,this.faSpinner=d.LM3,this.fdxLoading=!1,this.show_content=!0,this.is_saving=!1,this.consult_done=!1,this.searchInput$=new H.x,this.minLengthTerm=3}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-final-dx"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details"},features:[t.TTD],decls:9,vars:5,consts:[[1,"grid","grid-cols-10","mt-4"],[1,"col-span-2","pt-2"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],[1,"flex","mb-2","p-4"],["type","submit",1,"inline-flex","p-1","items-center","text-gray-50","bg-sky-400","rounded-l-md","border","border-gray-300"],[1,"text-white","fa-xl",3,"icon"],[1,"chips-container"],["placeholder","search","typeToSearchText","search...","bindValue","icd10_code","bindLabel","icd10_desc","notFoundText","No records found",1,"select-chips",3,"items","multiple","loading","typeahead","ngModel","disabled","ngModelChange"],["ng-option-tmp",""],[1,"flex","px-4","pb-4"],["rows","3","id","fdx_remarks","placeholder","Final Diagnosis remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[1,"flex","justify-between"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"whitespace-normal"],[1,"text-gray-700",3,"ngOptionHighlight"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5," Final Diagnosis "),t.TgZ(6,"button",5),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(7,"fa-icon",6),t.qZA()(),t.YNc(8,Ut,12,12,"div",7),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngClass",t.VKq(3,kt,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.O5,m.BN,T.w9,T.ir,r.Fj,r.JJ,r.On,a.Ov]}),n})();function Nt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.key))}}function Mt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.key))}}function It(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"input",20),t.NdJ("ngModelChange",function(s){const _=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.physical_codes[_.pe_id]=s)}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("disabled",i.consult_done)("ngModel",i.physical_codes[e.pe_id]),t.xp6(1),t.hij(" ",e.pe_desc," ")}}function Qt(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,It,3,3,"div",19),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.value)}}function Ft(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"span",22),t._uU(2,"Remarks: "),t.qZA(),t.TgZ(3,"input",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw().$implicit,_=t.oxw(2);return t.KtG(_.physical_remarks[l.key+"_remarks"]=s)}),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("disabled",i.consult_done)("ngModel",i.physical_remarks[e.key+"_remarks"])}}function Dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"button",6),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.toggleItems(l.key))}),t._UZ(3,"fa-icon",15),t.qZA(),t.YNc(4,Nt,3,3,"span",8),t.YNc(5,Mt,3,3,"span",8),t.qZA(),t.YNc(6,Qt,2,1,"div",16),t.YNc(7,Ft,4,2,"div",17),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("icon",i.pe_item[e.key]?i.faChevronUp:i.faChevronDown),t.xp6(1),t.Q6J("ngIf","heent"!==e.key),t.xp6(1),t.Q6J("ngIf","heent"===e.key),t.xp6(1),t.Q6J("ngIf",void 0!==i.pe_item[e.key]&&i.pe_item[e.key]),t.xp6(1),t.Q6J("ngIf",void 0!==i.pe_item[e.key]&&i.pe_item[e.key])}}function Ot(n,o){if(1&n&&t._UZ(0,"fa-icon",27),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function St(n,o){if(1&n&&t._UZ(0,"fa-icon",28),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function Yt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,Ot,1,1,"fa-icon",25),t.YNc(2,St,1,1,"fa-icon",26),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function Et(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",9),t.YNc(2,Dt,8,5,"div",10),t.ALo(3,"keyvalue"),t.qZA(),t.TgZ(4,"div",11),t.YNc(5,Yt,4,4,"button",12),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,2,e.pe_grouped)),t.xp6(3),t.Q6J("ngIf",!e.consult_done)}}const Pt=function(n){return{"rounded-b":n}};let jt=(()=>{class n{toggleItems(e){this.pe_item[e]=!this.pe_item[e]}onSubmit(){if(this.is_saving=!0,Object.keys(this.physical_codes).length>0){let e=[];Object.entries(this.physical_codes).forEach(([i,s],l)=>{!0===s&&e.push(i)}),this.saveCodes(e)}else this.saveNotes()}saveCodes(e){this.http.post("consultation/physical-exam",{notes_id:this.consult_notes.id,physical_exam:e}).subscribe({next:s=>{this.saveNotes()},error:s=>console.log(s)})}saveNotes(){let e;this.physical_remarks.notes_id=this.consult_notes.id,this.physical_remarks.patient_id=this.consult_details.patient.id,e=null===this.physical_remarks.id?this.http.post("consultation/physical-exam-remarks",this.physical_remarks):this.http.update("consultation/physical-exam-remarks/",this.physical_remarks.id,this.physical_remarks),e.subscribe({next:i=>{this.is_saving=!1,this.showToastr()},error:i=>console.log(i)})}showToastr(){this.toastr.success("Successfully updated!","Physical exam")}loadLibraries(){this.http.get("libraries/pe").subscribe(e=>{const s=e.data.reduce((l,_)=>{const u=l[_.category_id.toLowerCase()]||[];return u.push(_),l[_.category_id.toLowerCase()]=u,l},{});this.pe_grouped=s})}loadSelected(){Object.keys(this.consult_notes.physical_exam).length>0&&Object.entries(this.consult_notes.physical_exam).forEach(([e,i],s)=>{this.physical_codes[i.pe_id]=!0})}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.consult_notes=this.consult_details.consult_notes,this.consult_done=this.consult_details.consult_done,this.loadSelected(),this.consult_notes.physical_exam_remarks&&(this.physical_remarks=this.consult_notes.physical_exam_remarks))}constructor(e,i){this.http=e,this.toastr=i,this.faSave=d.r6l,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSpinner=d.LM3,this.faChevronDown=d.ptq,this.faChevronUp=d.mTx,this.pe_grouped=[],this.physical_codes=[],this.physical_remarks={id:null,abdomen_remarks:null,breast_remarks:null,chest_remarks:null,extremities_remarks:null,genitourinary_remarks:null,heart_remarks:null,heent_remarks:null,neuro_remarks:null,pelvic_remarks:null,rectal_remarks:null,skin_remarks:null},this.show_content=!1,this.consult_done=!1,this.is_saving=!1,this.pe_item=[]}ngOnInit(){this.loadLibraries()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-physical-exam"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details"},features:[t.TTD],decls:11,vars:5,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],[1,"w-full","p-5"],["class","grid grid-cols-1 gap-3 mb-3 border-b border-slate-200 pb-3 last:border-b-0",4,"ngFor","ngForOf"],[1,"flex","text-right"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"grid","grid-cols-1","gap-3","mb-3","border-b","border-slate-200","pb-3","last:border-b-0"],[1,"col-span-1","font-bold"],["size","md",1,"pr-2",3,"icon"],["class","col-span-1 grid grid-cols-2 gap-y-2",4,"ngIf"],["class","flex col-span-1",4,"ngIf"],[1,"col-span-1","grid","grid-cols-2","gap-y-2"],[4,"ngFor","ngForOf"],["type","checkbox",1,"rounded-md","border","border-gray-400","p-2",3,"disabled","ngModel","ngModelChange"],[1,"flex","col-span-1"],[1,"font-semibold","mt-3","mr-2","text-sm"],["rows","2","type","textarea","placeholder","remarks",1,"input","placeholder-slate-400","placeholder:italic",3,"disabled","ngModel","ngModelChange"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t._UZ(0,"hr",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Physical Exam "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7," Observations "),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(9,"fa-icon",7),t.qZA()(),t.YNc(10,Et,6,4,"div",8),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(3,Pt,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.sg,a.O5,m.BN,r.Fj,r.Wl,r.JJ,r.On,a.gd,a.rS,a.Nd]}),n})();var K=c(6491);function Ht(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",23)(2,"div",24)(3,"div",25),t._uU(4," No records found... "),t.qZA(),t.TgZ(5,"div",26)(6,"button",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.showAdd())}),t._UZ(7,"fa-icon",28),t._uU(8," Add "),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("icon",e.faAdd)}}const Kt=function(n){return{"bg-gray-50":n}};function Lt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.selectDrugs(l))}),t.TgZ(1,"th",30),t._uU(2),t.qZA(),t.TgZ(3,"td",31),t._uU(4),t.qZA(),t.TgZ(5,"td",31),t._uU(6),t.qZA(),t._UZ(7,"td",31),t.qZA()}if(2&n){const e=o.$implicit;t.Q6J("ngClass",t.VKq(4,Kt,o.odd)),t.xp6(2),t.hij(" ",e.desc," "),t.xp6(2),t.hij(" ",e.unit_desc," "),t.xp6(2),t.hij(" ",e.package_desc," ")}}function Gt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"p",35),t._uU(4," Showing "),t.TgZ(5,"span",36),t._uU(6),t.qZA(),t._uU(7," to "),t.TgZ(8,"span",36),t._uU(9),t.qZA(),t._uU(10," of "),t.TgZ(11,"span",36),t._uU(12),t.qZA(),t._uU(13," results "),t.qZA()(),t.TgZ(14,"div")(15,"nav",37)(16,"button",38),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadDrugs(1))}),t._UZ(17,"fa-icon",39),t.qZA(),t.TgZ(18,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadDrugs(s.current_page-1))}),t._UZ(19,"fa-icon",39),t._uU(20,"Previous "),t.qZA(),t.TgZ(21,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadDrugs(s.current_page+1))}),t._uU(22," Next"),t._UZ(23,"fa-icon",41),t.qZA(),t.TgZ(24,"button",42),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadDrugs(s.last_page))}),t._UZ(25,"fa-icon",41),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(4),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}let $t=(()=>{class n{selectDrugs(e){this.openAddForm.emit(e),this.toggleList.emit()}closeModal(){this.toggleList.emit()}showAdd(){this.openAddForm.emit(),this.toggleList.emit()}loadDrugs(e){let i={params:{}};this.search_item&&(i.params["filter[desc]"]=this.search_item),e&&(i.params.page=e),i.params.per_page=this.per_page,this.http.get("libraries/konsulta-medicines",i).subscribe({next:s=>{this.drug_list=s.data,this.current_page=s.meta.current_page,this.last_page=s.meta.last_page,this.from=s.meta.from,this.to=s.meta.to,this.total=s.meta.total},error:s=>console.log(s)})}constructor(e){this.http=e,this.openAddForm=new t.vpe,this.toggleList=new t.vpe,this.faAnglesLeft=d._Wx,this.faChevronLeft=d.A35,this.faChevronRight=d._tD,this.faAnglesRight=d.ccb,this.faSearch=d.wn1,this.faEdit=d.Xcf,this.faAdd=d.XSk,this.faCircleXmark=d.WA2,this.is_updating=!1,this.show_lib_drug=!1,this.per_page=10}ngOnInit(){this.loadDrugs()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-drug-list"]],outputs:{openAddForm:"openAddForm",toggleList:"toggleList"},decls:30,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"flex","justify-end"],[1,"border","border-gray-400","rounded-md","bg-white"],["type","text","placeholder","Search drugs",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["type","button",1,"text-white","w-9","h-9",3,"click"],[1,"-mr-4",3,"icon"],[1,"h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"sticky","top-0","text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[1,"overflow-y-auto"],[4,"ngIf"],["class","bg-white border-t","class","hover:bg-blue-200 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-white py-3 flex items-center justify-between sm:px-6",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","9"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"hover:bg-blue-200","cursor-pointer",3,"ngClass","click"],["scope","row",1,"py-4","px-6","font-medium","whitespace-nowrap"],[1,"py-4","px-6"],[1,"bg-white","py-3","flex","items-center","justify-between","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"mr-3"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Drugs library "),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"input",7),t.NdJ("ngModelChange",function(l){return i.search_item=l})("keyup.enter",function(){return i.loadDrugs()}),t.qZA(),t.TgZ(9,"button",8),t.NdJ("click",function(){return i.loadDrugs()}),t._UZ(10,"fa-icon",9),t.qZA()(),t.TgZ(11,"button",10),t.NdJ("click",function(){return i.closeModal()}),t._UZ(12,"fa-icon",11),t.qZA()()(),t.TgZ(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead",15)(17,"tr")(18,"th",16),t._uU(19,"Drug description"),t.qZA(),t.TgZ(20,"th",16),t._uU(21,"Unit"),t.qZA(),t.TgZ(22,"th",16),t._uU(23,"Package"),t.qZA()()(),t.TgZ(24,"tbody",17),t.YNc(25,Ht,9,1,"tr",18),t.YNc(26,Lt,8,6,"tr",19),t.qZA()()()(),t.TgZ(27,"div",20),t.YNc(28,Gt,26,11,"div",21),t.qZA()()()(),t._UZ(29,"div",22)),2&e&&(t.xp6(8),t.Q6J("ngModel",i.search_item),t.xp6(2),t.Q6J("icon",i.faSearch),t.xp6(2),t.Q6J("icon",i.faCircleXmark),t.xp6(13),t.Q6J("ngIf",0===(null==i.drug_list?null:i.drug_list.length)||!i.drug_list),t.xp6(1),t.Q6J("ngForOf",i.drug_list),t.xp6(2),t.Q6J("ngIf",(null==i.drug_list?null:i.drug_list.length)>=1))},dependencies:[a.mk,a.sg,a.O5,m.BN,r.Fj,r.JJ,r.On]}),n})();function Bt(n,o){if(1&n&&(t.TgZ(0,"div",40)(1,"span",41),t._uU(2,"Drug description:"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.selected_drug.konsulta_medicine?e.selected_drug.konsulta_medicine.desc:e.selected_drug.desc," ")}}function Vt(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function Rt(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Vt,2,1,"div",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.added_medicine.errors?null:e.f.added_medicine.errors.required)}}const x=function(n){return{"text-red-500":n}},b=function(n){return{"invalid-input":n}};function Wt(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"label",42),t._uU(2,"Drug name"),t.qZA(),t._UZ(3,"input",43),t.YNc(4,Rt,2,1,"div",13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,x,e.is_saving&&e.f.added_medicine.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(5,b,e.is_saving&&e.f.added_medicine.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.added_medicine.errors)}}function zt(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Xt(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,zt,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.dosage_quantity.errors?null:e.f.dosage_quantity.errors.required)}}function te(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function ee(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function ne(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,ee,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.dosage_uom.errors?null:e.f.dosage_uom.errors.required)}}function ie(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function oe(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function se(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,oe,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.dose_regimen.errors?null:e.f.dose_regimen.errors.required)}}function ae(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function re(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function le(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,re,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.medicine_route_code.errors?null:e.f.medicine_route_code.errors.required)}}function de(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function _e(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,de,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.duration_intake.errors?null:e.f.duration_intake.errors.required)}}function ce(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function ue(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function pe(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,ue,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.duration_frequency.errors?null:e.f.duration_frequency.errors.required)}}function ge(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function me(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,ge,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.quantity.errors?null:e.f.quantity.errors.required)}}function he(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function fe(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function xe(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,fe,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.quantity_preparation.errors?null:e.f.quantity_preparation.errors.required)}}function be(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function ve(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,be,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.instruction_quantity.errors?null:e.f.instruction_quantity.errors.required)}}function ye(n,o){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function Ze(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.required_message," ")}}function Ce(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Ze,2,1,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f.medicine_purpose.errors?null:e.f.medicine_purpose.errors.required)}}function Te(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.required_message," ")}}function we(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Te,2,1,"div",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.f.purpose_other.errors?null:e.f.purpose_other.errors.required)}}function qe(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"label",47),t._uU(2,"Purpose remarks"),t.qZA(),t._UZ(3,"input",48),t.YNc(4,we,2,1,"div",13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,x,e.is_saving&&e.f.purpose_other.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(5,b,e.is_saving&&e.f.purpose_other.errors)),t.xp6(1),t.Q6J("ngIf",e.is_saving&&e.f.purpose_other.errors)}}function Ae(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.value)}}function Ue(n,o){if(1&n&&(t.TgZ(0,"div",49)(1,"div",50)(2,"ul",51),t.YNc(3,Ae,2,1,"li",52),t.ALo(4,"keyvalue"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.submit_errors))}}let ke=(()=>{class n{get f(){return this.prescriptionForm.controls}closeModal(){this.toggleForm.emit()}onSubmit(){if(this.prescriptionForm.valid){let e;e=this.selected_drug&&this.selected_drug.id?this.http.update("medicine/prescriptions/",this.selected_drug.id,this.prescriptionForm.value):this.http.post("medicine/prescriptions",this.prescriptionForm.value),e.subscribe({next:i=>{this.toastr.success("Successfully added","Prescription"),this.closeModal()},error:i=>console.log(i)})}}loadLibraries(){this.libraries.forEach(e=>{this.http.get("libraries/"+e.location).subscribe({next:i=>{this[e.var_name]=i.data,console.log(i.data)},error:i=>console.log(i),complete:()=>this.show_form=!0})})}constructor(e,i,s){this.http=e,this.toastr=i,this.formBuilder=s,this.toggleForm=new t.vpe,this.is_saving=!1,this.show_form=!1,this.membership_types=[],this.prescriptionForm=new r.cw({patient_id:new r.NI(null),prescribed_by:new r.NI(null),consult_id:new r.NI(null),prescription_date:new r.NI(null),konsulta_medicine_code:new r.NI(null),added_medicine:new r.NI(null),dosage_quantity:new r.NI(null),dosage_uom:new r.NI(null),dose_regimen:new r.NI(null),medicine_purpose:new r.NI(null),purpose_other:new r.NI(null),duration_intake:new r.NI(null),duration_frequency:new r.NI(null),quantity:new r.NI(null),quantity_preparation:new r.NI(null),instruction_quantity:new r.NI(null),medicine_route_code:new r.NI(null)}),this.libraries=[{var_name:"drug_uom",location:"unit-of-measurements"},{var_name:"drug_regimen",location:"dose-regimens"},{var_name:"drug_purpose",location:"purposes"},{var_name:"drug_frequency",location:"duration-frequencies"},{var_name:"drug_preparation",location:"preparations"},{var_name:"drug_route",location:"medicine-route"}],this.add_drug=!1}checkPurpose(){"99"===this.prescriptionForm.value.medicine_purpose?this.prescriptionForm.controls.purpose_other.enable():this.prescriptionForm.controls.purpose_other.disable()}ngOnChanges(e){this.prescriptionForm=this.formBuilder.nonNullable.group({patient_id:[this.consult_details.patient.id],prescribed_by:[this.consult_details.physician.id,[r.kI.required]],consult_id:[this.consult_details.id,[r.kI.required]],prescription_date:[(0,a.p6)(this.consult_details.consult_date,"yyyy-MM-dd","en"),[r.kI.required]],konsulta_medicine_code:[null,[r.kI.required]],added_medicine:[null,[r.kI.required]],dosage_quantity:[null,[r.kI.required]],dosage_uom:[null,[r.kI.required]],dose_regimen:[null,[r.kI.required]],medicine_purpose:[null,[r.kI.required]],purpose_other:[null,[r.kI.required]],duration_intake:[null,[r.kI.required]],duration_frequency:[null,[r.kI.required]],quantity:[null,[r.kI.required]],quantity_preparation:[null,[r.kI.required]],instruction_quantity:[null,[r.kI.required]],medicine_route_code:[null,[r.kI.required]]}),this.selected_drug?this.selected_drug.id?(this.prescriptionForm.patchValue({konsulta_medicine_code:this.selected_drug.konsulta_medicine?this.selected_drug.konsulta_medicine.code:null,added_medicine:this.selected_drug.added_medicine?this.selected_drug.added_medicine:null,dosage_quantity:this.selected_drug.dosage_quantity,dosage_uom:this.selected_drug.unit_of_measurement.code,dose_regimen:this.selected_drug.regimen.code,medicine_purpose:this.selected_drug.purpose.code,duration_intake:this.selected_drug.duration_intake,duration_frequency:this.selected_drug.frequency.code,quantity:this.selected_drug.quantity,quantity_preparation:this.selected_drug.preparation.code,instruction_quantity:this.selected_drug.instruction_quantity,medicine_route_code:this.selected_drug.medicine_route?this.selected_drug.medicine_route.code:null}),this.selected_drug.konsulta_medicine?this.prescriptionForm.controls.added_medicine.disable():(this.add_drug=!0,this.prescriptionForm.controls.added_medicine.enable(),this.prescriptionForm.controls.konsulta_medicine_code.disable()),this.checkPurpose()):(this.prescriptionForm.patchValue({konsulta_medicine_code:this.selected_drug.code}),this.prescriptionForm.controls.added_medicine.disable()):(this.add_drug=!0,this.prescriptionForm.controls.konsulta_medicine_code.disable())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-drug-form"]],inputs:{selected_drug:"selected_drug",consult_details:"consult_details",drug_uom:"drug_uom",drug_regimen:"drug_regimen",drug_purpose:"drug_purpose",drug_frequency:"drug_frequency",drug_preparation:"drug_preparation",drug_route:"drug_route"},outputs:{toggleForm:"toggleForm"},features:[t.TTD],decls:75,vars:82,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white","pl-5"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"grid","grid-cols-3","gap-4","pb-5","px-10"],["class","col-span-3 mt-5 mx-5",4,"ngIf"],["class","col-span-3 text-sm ",4,"ngIf"],[1,"col-span-1","text-sm"],["for","dosage_quantity",1,"font-semibold",3,"ngClass"],["name","dosage_quantity","id","dosage_quantity","formControlName","dosage_quantity","type","number",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","dosage_uom",1,"font-semibold",3,"ngClass"],["name","dosage_uom","id","dosage_uom","formControlName","dosage_uom",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","dose_regimen",1,"font-semibold",3,"ngClass"],["name","dose_regimen","id","dose_regimen","formControlName","dose_regimen",1,"input",3,"ngClass"],["for","medicine_route_code",1,"font-semibold",3,"ngClass"],["name","route","id","medicine_route_code","formControlName","medicine_route_code",1,"input",3,"ngClass"],["for","duration_intake",1,"font-semibold",3,"ngClass"],["name","duration_intake","id","duration_intake","formControlName","duration_intake","type","number",1,"input",3,"ngClass"],["for","duration_frequency",1,"font-semibold",3,"ngClass"],["name","duration_frequency","id","duration_frequency","formControlName","duration_frequency",1,"input",3,"ngClass"],["for","quantity",1,"font-semibold",3,"ngClass"],["name","quantity","id","quantity","formControlName","quantity","type","number",1,"input",3,"ngClass"],["for","quantity_preparation",1,"font-semibold",3,"ngClass"],["name","quantity_preparation","id","quantity_preparation","formControlName","quantity_preparation",1,"input",3,"ngClass"],["for","instruction_quantity",1,"font-semibold",3,"ngClass"],["name","instruction_quantity","id","instruction_quantity","formControlName","instruction_quantity","type","number",1,"input",3,"ngClass"],[1,"col-span-3","text-sm"],["for","medicine_purpose",1,"font-semibold",3,"ngClass"],["name","medicine_purpose","id","medicine_purpose","formControlName","medicine_purpose",1,"input",3,"ngClass","change"],["class","col-span-3 text-sm",4,"ngIf"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","mr-10","py-3","rounded-b"],["type","button",1,"btn-save","px-10","bg-gray-400","mr-5",3,"click"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"col-span-3","mt-5","mx-5"],[1,"font-semibold"],["for","added_medicine",1,"font-semibold",3,"ngClass"],["name","added_medicine","id","added_medicine","formControlName","added_medicine","type","text",1,"input",3,"ngClass"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"],["for","purpose_other",1,"font-semibold",3,"ngClass"],["name","purpose_other","id","purpose_other","formControlName","purpose_other","type","text",1,"input",3,"ngClass"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," Prescribe medicine "),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",7),t.YNc(9,Bt,4,1,"div",8),t.YNc(10,Wt,5,7,"div",9),t.TgZ(11,"div",10)(12,"label",11),t._uU(13,"Dosage Qty."),t.qZA(),t._UZ(14,"input",12),t.YNc(15,Xt,2,1,"div",13),t.qZA(),t.TgZ(16,"div",10)(17,"label",14),t._uU(18,"Dosage unit"),t.qZA(),t.TgZ(19,"select",15),t.YNc(20,te,2,2,"option",16),t.qZA(),t.YNc(21,ne,2,1,"div",13),t.qZA(),t.TgZ(22,"div",10)(23,"label",17),t._uU(24,"Dosage regimen"),t.qZA(),t.TgZ(25,"select",18),t.YNc(26,ie,2,2,"option",16),t.qZA(),t.YNc(27,se,2,1,"div",13),t.qZA(),t.TgZ(28,"div",10)(29,"label",19),t._uU(30,"Medicine Route"),t.qZA(),t.TgZ(31,"select",20),t.YNc(32,ae,2,2,"option",16),t.qZA(),t.YNc(33,le,2,1,"div",13),t.qZA(),t.TgZ(34,"div",10)(35,"label",21),t._uU(36,"Duration"),t.qZA(),t._UZ(37,"input",22),t.YNc(38,_e,2,1,"div",13),t.qZA(),t.TgZ(39,"div",10)(40,"label",23),t._uU(41,"Duration frequency"),t.qZA(),t.TgZ(42,"select",24),t.YNc(43,ce,2,2,"option",16),t.qZA(),t.YNc(44,pe,2,1,"div",13),t.qZA(),t.TgZ(45,"div",10)(46,"label",25),t._uU(47,"Quantity"),t.qZA(),t._UZ(48,"input",26),t.YNc(49,me,2,1,"div",13),t.qZA(),t.TgZ(50,"div",10)(51,"label",27),t._uU(52,"Preparation"),t.qZA(),t.TgZ(53,"select",28),t.YNc(54,he,2,2,"option",16),t.qZA(),t.YNc(55,xe,2,1,"div",13),t.qZA(),t.TgZ(56,"div",10)(57,"label",29),t._uU(58,"Instruction Qty."),t.qZA(),t._UZ(59,"input",30),t.YNc(60,ve,2,1,"div",13),t.qZA(),t.TgZ(61,"div",31)(62,"label",32),t._uU(63,"Medicine purpose"),t.qZA(),t.TgZ(64,"select",33),t.NdJ("change",function(){return i.checkPurpose()}),t.YNc(65,ye,2,2,"option",16),t.qZA(),t.YNc(66,Ce,2,1,"div",13),t.qZA(),t.YNc(67,qe,5,7,"div",34),t.qZA(),t.YNc(68,Ue,5,3,"div",35),t.qZA()(),t.TgZ(69,"div",36)(70,"button",37),t.NdJ("click",function(){return i.closeModal()}),t._uU(71,"Close"),t.qZA(),t.TgZ(72,"button",38),t.NdJ("click",function(){return i.onSubmit()}),t._uU(73,"Save"),t.qZA()()()()(),t._UZ(74,"div",39)),2&e&&(t.xp6(7),t.Q6J("formGroup",i.prescriptionForm),t.xp6(2),t.Q6J("ngIf",!i.add_drug),t.xp6(1),t.Q6J("ngIf",i.add_drug),t.xp6(2),t.Q6J("ngClass",t.VKq(42,x,i.is_saving&&i.f.dosage_quantity.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(44,b,i.is_saving&&i.f.dosage_quantity.errors)),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.dosage_quantity.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(46,x,i.is_saving&&i.f.dosage_uom.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(48,b,i.is_saving&&i.f.dosage_uom.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_uom),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.dosage_uom.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(50,x,i.is_saving&&i.f.dose_regimen.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(52,b,i.is_saving&&i.f.dose_regimen.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_regimen),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.dose_regimen.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(54,x,i.is_saving&&i.f.medicine_route_code.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(56,b,i.is_saving&&i.f.medicine_route_code.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_route),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.medicine_route_code.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(58,x,i.is_saving&&i.f.duration.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(60,b,i.is_saving&&i.f.duration_intake.errors)),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.duration_intake.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(62,x,i.is_saving&&i.f.duration_frequency.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(64,b,i.is_saving&&i.f.duration_frequency.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_frequency),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.duration_frequency.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(66,x,i.is_saving&&i.f.quantity.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(68,b,i.is_saving&&i.f.quantity.errors)),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.quantity.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(70,x,i.is_saving&&i.f.quantity_preparation.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(72,b,i.is_saving&&i.f.quantity_preparation.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_preparation),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.quantity_preparation.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(74,x,i.is_saving&&i.f.instruction_quantity.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(76,b,i.is_saving&&i.f.instruction_quantity.errors)),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.instruction_quantity.errors),t.xp6(2),t.Q6J("ngClass",t.VKq(78,x,i.is_saving&&i.f.medicine_purpose.errors)),t.xp6(2),t.Q6J("ngClass",t.VKq(80,b,i.is_saving&&i.f.medicine_purpose.errors)),t.xp6(1),t.Q6J("ngForOf",i.drug_purpose),t.xp6(1),t.Q6J("ngIf",i.is_saving&&i.f.medicine_purpose.errors),t.xp6(1),t.Q6J("ngIf","99"===i.prescriptionForm.value.medicine_purpose),t.xp6(1),t.Q6J("ngIf",i.submit_errors),t.xp6(4),t.Q6J("disabled",i.prescriptionForm.invalid))},dependencies:[a.mk,a.sg,a.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,a.Nd]}),n})();function Je(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleModal())}),t._UZ(1,"fa-icon",20),t._uU(2," epress "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faReceipt)}}function Ne(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.navigateTo("dispensing"))}),t._UZ(1,"fa-icon",20),t._uU(2," dispensing "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faPrescriptionBottleMedical)}}function Me(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleList())}),t._UZ(1,"fa-icon",20),t._uU(2," add drugs "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faAdd)}}function Ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",29)(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",31),t._uU(4),t._UZ(5,"br")(6,"br"),t._uU(7),t.qZA(),t.TgZ(8,"td",31),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td",31),t._uU(12),t.qZA(),t.TgZ(13,"td",31),t._uU(14),t.qZA(),t.TgZ(15,"td",32)(16,"button",33),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.openAddForm(l))}),t._UZ(17,"fa-icon",34),t.qZA(),t.TgZ(18,"button",35),t.NdJ("click",function(){const l=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.toggleModal("delete-item",l))}),t._UZ(19,"fa-icon",36),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" ",e.konsulta_medicine?e.konsulta_medicine.desc:e.added_medicine," "),t.xp6(2),t.xDo(" ",e.dosage_quantity," ",e.unit_of_measurement.desc," ",e.regimen.desc," ",e.duration_intake," ",e.frequency.desc," "),t.xp6(3),t.hij(" Instruction Qty: ",e.instruction_quantity," "),t.xp6(2),t.hij(" ",t.xi3(10,12,e.prescription_date,"MM/dd/yyyy")," "),t.xp6(3),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",e.preparation.desc," "),t.xp6(3),t.Q6J("icon",i.faEdit),t.xp6(2),t.Q6J("icon",i.faTrashCan)}}function Qe(n,o){if(1&n&&(t.TgZ(0,"table",23)(1,"thead")(2,"tr",24)(3,"th",25),t._uU(4,"Medicine"),t.qZA(),t.TgZ(5,"th",25),t._uU(6,"Intake"),t.qZA(),t.TgZ(7,"th",26),t._uU(8,"Prescription Date"),t.qZA(),t.TgZ(9,"th",26),t._uU(10,"Quantity"),t.qZA(),t.TgZ(11,"th",26),t._uU(12,"Unit of Measurement"),t.qZA(),t.TgZ(13,"th",27),t._uU(14,"Action"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,Ie,20,15,"tr",28),t.qZA()()),2&n){const e=t.oxw();t.xp6(16),t.Q6J("ngForOf",e.prescriptions)("ngForTrackBy",e.identify)}}function Fe(n,o){if(1&n&&t._UZ(0,"fa-icon",44),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function De(n,o){if(1&n&&t._UZ(0,"fa-icon",45),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function Oe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,Fe,1,1,"fa-icon",42),t.YNc(2,De,1,1,"fa-icon",43),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function Se(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",37)(2,"textarea",38),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.consult_notes.plan=s)}),t.qZA()(),t.TgZ(3,"div",39),t.YNc(4,Oe,4,4,"button",40),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.consult_done)("ngModel",e.consult_notes.plan),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}function Ye(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-drug-list",46),t.NdJ("openAddForm",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.openAddForm(s))})("toggleList",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleList())}),t.qZA()}}function Ee(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-drug-form",47),t.NdJ("toggleForm",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleForm())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("selected_drug",e.selected_drug)("consult_details",e.consult_details)("drug_uom",e.drug_uom)("drug_regimen",e.drug_regimen)("drug_purpose",e.drug_purpose)("drug_frequency",e.drug_frequency)("drug_preparation",e.drug_preparation)("drug_route",e.drug_route)}}function Pe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-epres",48),t.NdJ("toggleModal",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleModal())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("prescriptions",e.prescriptions)("consult_details",e.consult_details)}}function je(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-delete-item",49),t.NdJ("toggleModal",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleModal(s))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("delete_id",e.delete_id)("delete_desc",e.delete_desc)("url",e.url)}}const L=function(n){return{"rounded-b":n}};let He=(()=>{class n{navigateTo(e){this.router.navigate(["/patient/"+e,{id:this.consult_details.patient.id,consult_id:this.consult_details.id}])}openDeleteForm(e){this.selected_drug=e,this.toggleDeleteForm()}onSubmit(){this.is_saving=!0,this.http.update("consultation/notes/",this.consult_details.consult_notes.id,{consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,plan:this.consult_notes.plan}).subscribe({next:i=>{this.is_saving=!1,this.showToastr()},error:i=>console.log(i)})}showToastr(){this.toastr.success("Successfully recorded!","Treatment plan")}openEditForm(e){this.selected_drug=e}openAddForm(e){this.selected_drug=e,this.toggleForm()}openDeleteModal(e){this.delete_id=e.id,this.modal["delete-item"]=!this.modal["delete-item"]}toggleDeleteForm(){this.show_delete_form=!this.show_delete_form,!1===this.show_delete_form&&this.loadPrescriptions()}toggleForm(){this.drug_uom&&this.drug_uom&&this.drug_purpose&&this.drug_frequency&&this.drug_preparation?this.show_form=!this.show_form:this.loadLibraries(),!1===this.show_form&&this.loadPrescriptions()}ngOnChanges(e){this.show_content=this.toggle_content,this.show_content_tx=this.toggle_content,this.consult_details&&(this.show_actions=!0),this.consult_details&&(this.consult_notes=this.consult_details.consult_notes,this.consult_done=this.consult_details.consult_done)}loadLibraries(){this.libraries.forEach((e,i)=>{this.http.get("libraries/"+e.location).subscribe({next:s=>{this[e.var_name]=s.data,this.libraries.length-1===i&&(this.show_form=!0)},error:s=>console.log(s)})})}toggleModal(e,i){e?(i&&(this.delete_id=i.id),this.modal[e]=!this.modal[e],this.loadPrescriptions()):this.show_epress=!this.show_epress}toggleList(){this.show_list=!this.show_list}identify(e,i){return i.id}loadPrescriptions(){this.http.get("medicine/prescriptions",{params:{sort:"-prescription_date",consult_id:this.consult_details.id}}).subscribe({next:i=>{this.prescriptions=i.data},error:i=>console.log(i)})}constructor(e,i,s){this.http=e,this.toastr=i,this.router=s,this.show_content=!0,this.show_list=!1,this.show_form=!1,this.show_delete_form=!1,this.show_actions=!1,this.show_content_tx=!1,this.is_saving=!1,this.consult_done=!1,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faAdd=d.XSk,this.faSave=d.r6l,this.faSpinner=d.LM3,this.faEdit=d.Xcf,this.faTrash=d.$aW,this.faPrescriptionBottleMedical=d.v0s,this.faReceipt=d.dLy,this.faTrashCan=d.Vui,this.consult_notes={plan:null},this.modal=[],this.delete_desc="Prescription",this.url="medicine/prescriptions/",this.libraries=[{var_name:"drug_uom",location:"unit-of-measurements"},{var_name:"drug_regimen",location:"dose-regimens"},{var_name:"drug_purpose",location:"purposes"},{var_name:"drug_frequency",location:"duration-frequencies"},{var_name:"drug_preparation",location:"preparations"},{var_name:"drug_route",location:"medicine-route"}],this.show_epress=!1}ngOnInit(){this.loadPrescriptions()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W),t.Y36(h.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-prescription"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details",with_credentials:"with_credentials"},features:[t.TTD],decls:23,vars:16,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","flex","justify-between"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-amber-500","flex","justify-between",3,"ngClass"],["type","button","class","ml-3 text-sm bg-white text-green-500 px-3 rounded-full",3,"click",4,"ngIf"],["type","button","class","text-sm bg-white text-amber-500 px-3 rounded-full",3,"click",4,"ngIf"],["type","button","class","ml-3 text-sm bg-white text-blue-500 px-3 rounded-full",3,"click",4,"ngIf"],["class","w-full table-auto p-5",4,"ngIf"],[1,"rounded-md","border","border-solid","border-gray-300","mt-5"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],[3,"openAddForm","toggleList",4,"ngIf"],[3,"selected_drug","consult_details","drug_uom","drug_regimen","drug_purpose","drug_frequency","drug_preparation","drug_route","toggleForm",4,"ngIf"],[3,"prescriptions","consult_details","toggleModal",4,"ngIf"],[3,"delete_id","delete_desc","url","toggleModal",4,"ngIf"],["type","button",1,"ml-3","text-sm","bg-white","text-green-500","px-3","rounded-full",3,"click"],[1,"pr-1",3,"icon"],["type","button",1,"text-sm","bg-white","text-amber-500","px-3","rounded-full",3,"click"],["type","button",1,"ml-3","text-sm","bg-white","text-blue-500","px-3","rounded-full",3,"click"],[1,"w-full","table-auto","p-5"],[1,"align-top"],["scope","col",1,"text-center","py-3","px-3","w-3/12"],["scope","col",1,"text-center","py-3","px-3","w-1/12"],["scope","col",1,"text-center","py-3","px-3","w-2/12"],["class","bg-white border-b last:border-0 text-sm align-top",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","border-b","last:border-0","text-sm","align-top"],[1,"py-4","px-3"],["scope","row",1,"py-4","px-3","font-medium","text-gray-900"],[1,"text-sm","text-center","mb-5","align-middle"],[1,"mr-3",3,"click"],[1,"text-amber-500",3,"icon"],[3,"click"],[1,"text-rose-500",3,"icon"],[1,"grid","grid-cols-1","px-4","pb-4","mt-4"],["rows","3","id","plan","placeholder","Treatment plan",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[1,"flex","text-right"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"],[3,"openAddForm","toggleList"],[3,"selected_drug","consult_details","drug_uom","drug_regimen","drug_purpose","drug_frequency","drug_preparation","drug_route","toggleForm"],[3,"prescriptions","consult_details","toggleModal"],[3,"delete_id","delete_desc","url","toggleModal"]],template:function(e,i){1&e&&(t._UZ(0,"hr",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Prescription "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7," Prescriptions "),t.TgZ(8,"div"),t.YNc(9,Je,3,1,"button",6),t.YNc(10,Ne,3,1,"button",7),t.YNc(11,Me,3,1,"button",8),t.qZA()(),t.YNc(12,Qe,17,2,"table",9),t.qZA(),t.TgZ(13,"div",10)(14,"span",11),t._uU(15," Treatment Plan "),t.TgZ(16,"button",12),t.NdJ("click",function(){return i.show_content_tx=!i.show_content_tx}),t._UZ(17,"fa-icon",13),t.qZA()(),t.YNc(18,Se,5,3,"div",14),t.qZA()()(),t.YNc(19,Ye,1,0,"app-drug-list",15),t.YNc(20,Ee,1,8,"app-drug-form",16),t.YNc(21,Pe,1,2,"app-epres",17),t.YNc(22,je,1,3,"app-delete-item",18)),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(12,L,!i.show_content)),t.xp6(3),t.Q6J("ngIf",i.with_credentials),t.xp6(1),t.Q6J("ngIf",i.prescriptions),t.xp6(1),t.Q6J("ngIf",i.show_actions),t.xp6(1),t.Q6J("ngIf",i.show_content),t.xp6(2),t.Q6J("ngClass",t.VKq(14,L,!i.show_content_tx)),t.xp6(3),t.Q6J("icon",i.show_content_tx?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content_tx),t.xp6(1),t.Q6J("ngIf",i.show_list),t.xp6(1),t.Q6J("ngIf",i.show_form),t.xp6(1),t.Q6J("ngIf",i.show_epress),t.xp6(1),t.Q6J("ngIf",i.modal["delete-item"]))},dependencies:[a.mk,a.sg,a.O5,N,m.BN,r.Fj,r.JJ,r.On,K.N,$t,ke,a.uU]}),n})();function Ke(n,o){if(1&n&&t._UZ(0,"fa-icon",22),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function Le(n,o){if(1&n&&t._UZ(0,"fa-icon",23),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function Ge(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,Ke,1,1,"fa-icon",20),t.YNc(2,Le,1,1,"fa-icon",21),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function $e(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",8)(2,"button",9),t._UZ(3,"fa-icon",10),t.qZA(),t.TgZ(4,"div",11)(5,"ng-select",12),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedComplaint=s)}),t.qZA()()(),t.TgZ(6,"div",13)(7,"label",14),t._uU(8,"Complaint notes"),t.qZA(),t.TgZ(9,"textarea",15),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.consult_notes.complaint=s)}),t.qZA()(),t.TgZ(10,"div",13)(11,"label",14),t._uU(12,"History notes"),t.qZA(),t.TgZ(13,"textarea",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.consult_notes.history=s)}),t.qZA()(),t.TgZ(14,"div",17),t.YNc(15,Ge,4,4,"button",18),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("icon",e.faPlusSquare),t.xp6(2),t.Q6J("disabled",e.consult_done)("items",e.complaints)("multiple",!0)("closeOnSelect",!1)("hideSelected",!0)("ngModel",e.selectedComplaint),t.xp6(4),t.Q6J("disabled",e.consult_done)("ngModel",e.consult_notes.complaint),t.xp6(4),t.Q6J("disabled",e.consult_done)("ngModel",e.consult_notes.history),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}const Be=function(n){return{"rounded-b":n}};let Ve=(()=>{class n{onSubmit(){this.is_saving=!0,this.selectedComplaint&&Object.keys(this.selectedComplaint).length>0?this.http.post("consultation/complaint",{notes_id:this.consult_details.consult_notes.id,consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,complaints:this.selectedComplaint}).subscribe({next:i=>{this.saveNotes()},error:i=>console.log(i)}):this.saveNotes()}saveNotes(){this.consult_notes.complaint||this.consult_notes.history?this.http.update("consultation/notes/",this.consult_details.consult_notes.id,{consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,complaint:this.consult_notes.complaint,history:this.consult_notes.history}).subscribe({next:i=>{this.is_saving=!1,this.showToastr(),this.loadConsult.emit()},error:i=>console.log(i)}):(this.is_saving=!1,this.showToastr(),this.loadConsult.emit())}showToastr(){this.toastr.success("Successfully updated!","Complaint")}loadLib(){this.http.get("libraries/complaint").subscribe(e=>{this.complaints=e.data})}loadSelected(){let e=[];this.consult_details.consult_notes&&this.consult_details.consult_notes.complaints&&Object.entries(this.consult_details.consult_notes.complaints).forEach(([i,s],l)=>{e.push(s.complaint_id)}),this.selectedComplaint=e}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.loadSelected(),this.consult_notes=this.consult_details.consult_notes,this.consult_done=this.consult_details.consult_done)}constructor(e,i){this.http=e,this.toastr=i,this.loadConsult=new t.vpe,this.faPlusSquare=d.CPW,this.faSave=d.r6l,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSpinner=d.LM3,this.selectedComplaint=[],this.consult_notes={complaint:null,history:null},this.show_content=!0,this.is_saving=!1,this.consult_done=!1}ngOnInit(){this.loadLib()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-complaint-history"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details",have_complaint:"have_complaint"},outputs:{loadConsult:"loadConsult"},features:[t.TTD],decls:10,vars:5,consts:[[1,"grid","grid-cols-10","mb-5"],[1,"col-span-2","pt-2","pr-5","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],[1,"flex","mb-2","p-4"],["type","submit",1,"inline-flex","p-1","items-center","text-gray-50","bg-sky-400","rounded-l-md","border","border-gray-300"],[1,"text-white","fa-xl",3,"icon"],[1,"chips-container"],["placeholder","search","bindLabel","complaint_desc","bindValue","complaint_id","placeholder","Select Complaint",1,"select-chips",3,"disabled","items","multiple","closeOnSelect","hideSelected","ngModel","ngModelChange"],[1,"grid","grid-cols-1","px-4","pb-4"],["for","complaint_notes",1,"font-semibold","pl-1"],["rows","3","id","complaint_notes","placeholder","Complaint Notes",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],["rows","3","id","history_notes","placeholder","History of Current Illness",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[1,"flex","text-right"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Chief Complaint and History of Current Illness "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"span",4),t._uU(6," Complaints "),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(8,"fa-icon",6),t.qZA()(),t.YNc(9,$e,16,12,"div",7),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngClass",t.VKq(3,Be,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.O5,m.BN,T.w9,r.Fj,r.JJ,r.On]}),n})();function Re(n,o){if(1&n&&(t.TgZ(0,"ul",29)(1,"li"),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.lib_complaints.complaint_desc)}}function We(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.diagnosis.class_name," ")}}function ze(n,o){if(1&n&&(t.TgZ(0,"div",30)(1,"span",31),t._uU(2,"remarks:"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.consult_notes.idx_remarks," ")}}function Xe(n,o){if(1&n&&(t.TgZ(0,"li")(1,"span",32),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.lib_icd10.icd10_code,":"),t.xp6(1),t.hij(" ",e.lib_icd10.icd10_desc," ")}}function tn(n,o){if(1&n&&(t.TgZ(0,"div",30)(1,"span",31),t._uU(2,"remarks:"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.consult_notes.fdx_remarks," ")}}function en(n,o){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14)(2,"div",15)(3,"span",16),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"span",17),t._uU(7),t.ALo(8,"date"),t.qZA()()(),t.TgZ(9,"td",18)(10,"div",15)(11,"span",19)(12,"span",20),t._uU(13,"Compalint notes:"),t.qZA(),t._UZ(14,"br"),t._uU(15),t.qZA(),t.YNc(16,Re,3,1,"ul",21),t.TgZ(17,"span",22)(18,"span",20),t._uU(19,"History notes:"),t.qZA(),t._UZ(20,"br"),t._uU(21),t.qZA()()(),t.TgZ(22,"td",23)(23,"div",24)(24,"span",20),t._uU(25,"Initial"),t.qZA(),t.TgZ(26,"ul",25),t.YNc(27,We,2,1,"li",26),t.qZA(),t.YNc(28,ze,4,1,"div",27),t.qZA(),t.TgZ(29,"div",28)(30,"span",20),t._uU(31,"Final"),t.qZA(),t.TgZ(32,"ul",25),t.YNc(33,Xe,4,2,"li",26),t.qZA(),t.YNc(34,tn,4,1,"div",27),t.qZA()(),t._UZ(35,"td",23),t.qZA()),2&n){const e=o.$implicit;t.xp6(4),t.Oqu(t.xi3(5,9,e.consult_date,"MM/dd/yyyy")),t.xp6(3),t.Oqu(t.xi3(8,12,e.consult_date,"hh:mm:ss a")),t.xp6(8),t.hij(" ",e.consult_notes.complaint," "),t.xp6(1),t.Q6J("ngForOf",e.consult_notes.complaints),t.xp6(5),t.hij("",e.consult_notes.history," "),t.xp6(6),t.Q6J("ngForOf",e.consult_notes.initialdx),t.xp6(1),t.Q6J("ngIf",e.consult_notes.idx_remarks),t.xp6(5),t.Q6J("ngForOf",e.consult_notes.finaldx),t.xp6(1),t.Q6J("ngIf",e.consult_notes.fdx_remarks)}}function nn(n,o){if(1&n&&(t.TgZ(0,"table",10)(1,"thead")(2,"tr",11)(3,"th"),t._uU(4,"Date"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Complaints | History"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Diagnosis"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Precription"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,en,36,15,"tr",12),t.ALo(13,"slice"),t.qZA()()),2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.xi3(13,1,e.visit_list,1))}}function on(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",33)(2,"div",34)(3,"div")(4,"p",35),t._uU(5," Showing "),t.TgZ(6,"span",36),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",36),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",36),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.TgZ(15,"div")(16,"nav",37)(17,"button",38),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadPreviousVisit(1))}),t._UZ(18,"fa-icon",39),t.qZA(),t.TgZ(19,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadPreviousVisit(s.current_page-1))}),t._UZ(20,"fa-icon",39),t._uU(21,"Previous "),t.qZA(),t.TgZ(22,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadPreviousVisit(s.current_page+1))}),t._uU(23," Next"),t._UZ(24,"fa-icon",41),t.qZA(),t.TgZ(25,"button",42),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.loadPreviousVisit(s.last_page))}),t._UZ(26,"fa-icon",41),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to-1),t.xp6(3),t.Oqu(e.total-1),t.xp6(4),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}const sn=function(n){return{"rounded-b":n}};let an=(()=>{class n{loadPreviousVisit(e){this.http.get("consultation/records",{params:{patient_id:this.patient_id,per_page:this.per_page,sort:"-consult_date",pt_group:"cn",page:e}}).subscribe({next:s=>{this.visit_list=s.data,this.current_page=s.meta.current_page,this.last_page=s.meta.last_page,this.from=s.meta.from,this.to=s.meta.to,this.total=s.meta.total},error:s=>console.log(s)})}ngOnChanges(e){this.show_content=this.toggle_content}constructor(e,i){this.route=e,this.http=i,this.show_content=!1,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faChevronLeft=d.A35,this.faChevronRight=d._tD,this.faAnglesLeft=d._Wx,this.faAnglesRight=d.ccb,this.per_page=5}ngOnInit(){this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.loadPreviousVisit(1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.gz),t.Y36(g.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-consult-history"]],inputs:{toggle_content:"toggle_content"},features:[t.TTD],decls:12,vars:6,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-green-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],["class","w-full table-auto",4,"ngIf"],[4,"ngIf"],[1,"w-full","table-auto"],[1,"border-b","border-solid","border-gray-200"],["class","text-left mt-3 align-top border-t border-slate-200 text-sm",4,"ngFor","ngForOf"],[1,"text-left","mt-3","align-top","border-t","border-slate-200","text-sm"],[1,"p-3","w-2/12"],[1,"grid","grid-cols-1"],[1,"font-semibold","w-full"],[1,"text-sm","w-full"],[1,"p-3","w-4/12"],[1,"w-full","mb-3"],[1,"font-semibold"],["class","list-disc last:mb-3 ml-5",4,"ngFor","ngForOf"],[1,"w-full","mt-2","pt-2"],[1,"p-3","w-3/12"],[1,"grid","grid-cols-1","text-left"],[1,"list-disc","ml-5"],[4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],[1,"grid","grid-cols-1","text-left","mt-2","pt-2"],[1,"list-disc","last:mb-3","ml-5"],[1,"mt-2"],[1,"text-sm","italic"],[1,"font-semibold","text-sm"],[1,"bg-white","px-4","py-4","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(e,i){1&e&&(t._UZ(0,"hr",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Diagnosis History "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7," Previous History "),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(9,"fa-icon",7),t.qZA()(),t.YNc(10,nn,14,4,"table",8),t.YNc(11,on,27,11,"div",9),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(4,sn,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content),t.xp6(1),t.Q6J("ngIf",(null==i.visit_list?null:i.visit_list.length)>=6))},dependencies:[a.mk,a.sg,a.O5,m.BN,a.OU,a.uU]}),n})(),rn=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-consult-summary"]],decls:34,vars:0,consts:[[1,"flex","justify-center"],[1,"w-4/6"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between"],[1,"grid","grid-cols-5","m-5"],[1,"col-span-1","font-semibold"],[1,"col-span-4","ml-5"],[1,"col-span-1","font-semibold","mt-5"],[1,"col-span-4","mt-5","ml-5"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Consultation Summary (Date here) "),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._uU(7," Chief Complaint: "),t.qZA(),t.TgZ(8,"div",6),t._uU(9," test "),t.qZA(),t.TgZ(10,"div",7),t._uU(11," Complaint Notes: "),t.qZA(),t.TgZ(12,"div",8),t._uU(13," test "),t.qZA(),t.TgZ(14,"div",7),t._uU(15," History of Current Illness "),t.qZA(),t.TgZ(16,"div",8),t._uU(17," test "),t.qZA(),t.TgZ(18,"div",7),t._uU(19," Physical Exam "),t.qZA(),t.TgZ(20,"div",8),t._uU(21," test "),t.qZA(),t.TgZ(22,"div",7),t._uU(23," Initial Diagnosis "),t.qZA(),t.TgZ(24,"div",8),t._uU(25," test "),t.qZA(),t.TgZ(26,"div",7),t._uU(27," Final Diagnosis "),t.qZA(),t.TgZ(28,"div",8),t._uU(29," test "),t.qZA(),t.TgZ(30,"div",7),t._uU(31," Prescription "),t.qZA(),t.TgZ(32,"div",8),t._uU(33," test "),t.qZA()()()()())}}),n})();function ln(n,o){if(1&n&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.desc)}}function dn(n,o){if(1&n&&t._UZ(0,"fa-icon",21),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function _n(n,o){if(1&n&&t._UZ(0,"fa-icon",22),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function cn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,dn,1,1,"fa-icon",19),t.YNc(2,_n,1,1,"fa-icon",20),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function un(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"label",11),t._uU(4,"General Survey"),t.qZA(),t.TgZ(5,"select",12),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.general_survey_code=s)}),t.YNc(6,ln,2,2,"option",13),t.qZA()(),t.TgZ(7,"div",10)(8,"label",11),t._uU(9,"Remarks"),t.qZA(),t.TgZ(10,"input",14),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.general_survey_remarks=s)}),t.qZA()()(),t.TgZ(11,"div",15),t.YNc(12,cn,4,4,"button",16),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("disabled",e.consult_done)("ngModel",e.general_survey_code),t.xp6(1),t.Q6J("ngForOf",e.survey_list),t.xp6(4),t.Q6J("disabled",e.consult_done)("ngModel",e.general_survey_remarks),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}const pn=function(n){return{"rounded-b":n}};let gn=(()=>{class n{onSubmit(){this.general_survey_code?this.http.update("consultation/notes/",this.consult_details.consult_notes.id,{consult_id:this.consult_details.id,patient_id:this.consult_details.patient.id,general_survey_code:this.general_survey_code,general_survey_remarks:this.general_survey_remarks}).subscribe({next:i=>{this.toastr.success("Successfully recorded!","General Survey")}}):this.toastr.error("Missing general survey!")}loadLib(){this.http.get("libraries/general-survey").subscribe(e=>{this.survey_list=e.data})}constructor(e,i){this.http=e,this.toastr=i,this.loadConsult=new t.vpe,this.faSave=d.r6l,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSpinner=d.LM3,this.show_content=!0,this.is_saving=!1,this.consult_done=!1}ngOnInit(){this.loadLib()}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.consult_notes=this.consult_details.consult_notes,this.consult_done=this.consult_details.consult_done,this.general_survey_code=this.consult_notes.general_survey_code,this.general_survey_remarks=this.consult_notes.general_survey_remarks)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-general-survey"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details"},outputs:{loadConsult:"loadConsult"},features:[t.TTD],decls:10,vars:5,consts:[[1,"grid","grid-cols-10","my-5","pt-5","border-t","border-slate-200"],[1,"col-span-2","pt-2","pr-5","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-blue-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],["class","grid grid-cols-1",4,"ngIf"],[1,"grid","grid-cols-1"],[1,"col-span-1","flex","mt-3"],[1,"w-1/2","grid","grid-cols-1","px-4","pb-4"],["for","complaint_notes",1,"font-semibold","pl-1"],["rows","3","id","general_survey_code",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["rows","3","id","general_survey_remarks","type","text","placeholder","General Survey Remarks",1,"placeholder-slate-400","w-full","rounded-md","border-gray-300","bg-gray-50",3,"disabled","ngModel","ngModelChange"],[1,"col-span-1","flex","text-right"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[3,"value"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," General Survey "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"span",4),t._uU(6," General Survey "),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(8,"fa-icon",6),t.qZA()(),t.YNc(9,un,13,6,"div",7),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngClass",t.VKq(3,pn,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.sg,a.O5,m.BN,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On]}),n})();function mn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"input",14),t.NdJ("ngModelChange",function(s){const _=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.management_list.management_code[_.code]=s)}),t.qZA(),t.TgZ(3,"label",15),t._uU(4),t.qZA()(),t.TgZ(5,"div",16)(6,"input",17),t.NdJ("ngModelChange",function(s){const _=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.management_list.remarks[_.code]=s)}),t.qZA()()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.Q2q("id","management_list",e.code,""),t.Q6J("ngModel",i.management_list.management_code[e.code]),t.xp6(1),t.Q2q("for","management_list",e.code,""),t.xp6(1),t.Oqu(e.desc),t.xp6(2),t.Q6J("disabled",!i.management_list.management_code[e.code])("ngModel",i.management_list.remarks[e.code])}}function hn(n,o){if(1&n&&t._UZ(0,"fa-icon",21),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSpinner)}}function fn(n,o){if(1&n&&t._UZ(0,"fa-icon",22),2&n){const e=t.oxw(3);t.Q6J("icon",e.faSave)}}function xn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSubmit())}),t.YNc(1,hn,1,1,"fa-icon",19),t.YNc(2,fn,1,1,"fa-icon",20),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.is_saving),t.xp6(1),t.Q6J("ngIf",e.is_saving),t.xp6(1),t.Q6J("ngIf",!e.is_saving),t.xp6(1),t.hij(" ",e.is_saving?"Saving":"Save"," ")}}function bn(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,mn,7,6,"div",9),t.TgZ(2,"div",10),t.YNc(3,xn,4,4,"button",11),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.management_codes),t.xp6(2),t.Q6J("ngIf",!e.consult_done)}}const vn=function(n){return{"rounded-b":n}};let yn=(()=>{class n{onSubmit(){this.is_saving=!0;var e=[];Object.entries(this.management_list.management_code).forEach(([s,l],_)=>{!0===l&&e.push({management_code:s,remarks:this.management_list.remarks[s]?this.management_list.remarks[s]:null})}),e.length>0&&this.http.post("consultation/management",{notes_id:this.consult_notes.id,patient_id:this.consult_details.patient.id,management:e}).subscribe({next:s=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Management record")},error:s=>console.log(s)})}loadLibraries(){this.http.get("libraries/management").subscribe({next:e=>{this.management_codes=e.data},error:e=>console.log(e)})}patchData(){this.consult_management&&Object.entries(this.consult_management).forEach(([e,i],s)=>{let l=i;this.management_list.management_code[l.management_code]=!0,l.remarks&&(this.management_list.remarks[l.management_code]=l.remarks)})}ngOnChanges(e){this.show_content=this.toggle_content,this.consult_details&&(this.consult_notes=this.consult_details.consult_notes,this.consult_done=this.consult_details.consult_done,this.consult_management=this.consult_details.management,this.patchData())}constructor(e,i){this.http=e,this.toastr=i,this.faChevronCircleUp=d._qI,this.faChevronCircleDown=d.yh$,this.faSpinner=d.LM3,this.faSave=d.r6l,this.show_content=!1,this.is_saving=!1,this.management_list={management_code:[],remarks:[]}}ngOnInit(){this.loadLibraries()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-management"]],inputs:{toggle_content:"toggle_content",consult_details:"consult_details"},features:[t.TTD],decls:11,vars:5,consts:[[1,"my-4"],[1,"grid","grid-cols-10"],[1,"col-span-2","pt-2","font-semibold"],[1,"col-span-8"],[1,"rounded-md","border","border-solid","border-gray-300"],[1,"rounded-t-md","m-0","p-2","font-semibold","text-gray-50","bg-cyan-500","flex","justify-between",3,"ngClass"],["type","button",3,"click"],["size","lg",1,"pr-2",3,"icon"],[4,"ngIf"],["class","flex item-start flex-wrap pt-3 px-5 first:mt-5 last:mb-10",4,"ngFor","ngForOf"],[1,"flex","text-right","mt-5"],["type","button","class","btn-save ml-auto mr-5 mb-5 px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"flex","item-start","flex-wrap","pt-3","px-5","first:mt-5","last:mb-10"],[1,"w-4/12","flex","mb-2"],["type","checkbox",1,"flex-none","mt-2","mr-2","border","border-gray-300","sm:text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModel","ngModelChange"],[1,"flex-1","mt-2","text-gray-800"],[1,"w-8/12"],["type","text",1,"input","disabled:bg-gray-300",3,"disabled","ngModel","ngModelChange"],["type","button",1,"btn-save","ml-auto","mr-5","mb-5","px-10","disabled:bg-gray-300",3,"disabled","click"],["class","mr-2","spin","true",3,"icon",4,"ngIf"],["class","mr-2",3,"icon",4,"ngIf"],["spin","true",1,"mr-2",3,"icon"],[1,"mr-2",3,"icon"]],template:function(e,i){1&e&&(t._UZ(0,"hr",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Management "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t._uU(7," Management/Counselling "),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.show_content=!i.show_content}),t._UZ(9,"fa-icon",7),t.qZA()(),t.YNc(10,bn,4,2,"div",8),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(3,vn,!i.show_content)),t.xp6(3),t.Q6J("icon",i.show_content?i.faChevronCircleUp:i.faChevronCircleDown),t.xp6(1),t.Q6J("ngIf",i.show_content))},dependencies:[a.mk,a.sg,a.O5,m.BN,r.Fj,r.Wl,r.JJ,r.On]}),n})();function Zn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.openEkas())}),t._UZ(1,"fa-icon",10),t._uU(2," eKAS "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faFile)}}function Cn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleModal())}),t._UZ(1,"fa-icon",10),t._uU(2," End Visit "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faDoorClosed)}}function Tn(n,o){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq("",e.last_name,", ",e.first_name," ",e.middle_name,"")}}const wn=function(n){return{"bg-orange-500 hover:ring-orange-400":n}};function qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"select",22),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw(2);return t.KtG(l.referred_to.id=s)}),t.YNc(3,Tn,2,4,"option",23),t.qZA(),t.TgZ(4,"button",24),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.referTo())}),t._uU(5),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",e.enable_edit)("ngModel",e.referred_to.id),t.xp6(1),t.Q6J("ngForOf",e.physicians),t.xp6(1),t.Q6J("disabled",!e.referred_to.id)("ngClass",t.VKq(6,wn,e.enable_edit)),t.xp6(1),t.hij(" ",e.enable_edit?"Update":"Refer"," ")}}function An(n,o){if(1&n&&t._UZ(0,"app-physical-exam",27),2&n){const e=t.oxw(3);t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)}}function Un(n,o){if(1&n&&t._UZ(0,"app-management",27),2&n){const e=t.oxw(3);t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)}}function kn(n,o){if(1&n&&t._UZ(0,"app-initial-dx",27),2&n){const e=t.oxw(3);t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)}}function Jn(n,o){if(1&n&&t._UZ(0,"app-final-dx",27),2&n){const e=t.oxw(3);t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)}}function Nn(n,o){if(1&n&&t._UZ(0,"app-prescription",32),2&n){const e=t.oxw(3);t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)("with_credentials",e.with_credentials)}}function Mn(n,o){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq("",e.last_name,", ",e.first_name," ",e.middle_name,"")}}function In(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"label",35),t._uU(3,"To open final diagnosis & prescription you must refer this patient to a physician"),t.qZA(),t.TgZ(4,"select",36),t.NdJ("ngModelChange",function(s){t.CHM(e);const l=t.oxw(3);return t.KtG(l.referred_to.id=s)}),t.YNc(5,Mn,2,4,"option",23),t.qZA(),t.TgZ(6,"div",37)(7,"button",38),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.referTo())}),t._uU(8),t.qZA()()()()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("disabled",e.enable_edit)("ngModel",e.referred_to.id),t.xp6(1),t.Q6J("ngForOf",e.physicians),t.xp6(2),t.Q6J("disabled",!e.referred_to.id),t.xp6(1),t.hij(" ",e.enable_edit?"Update":"Refer"," ")}}function Qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-complaint-history",26),t.NdJ("loadConsult",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.loadConsult())}),t.qZA(),t._UZ(2,"app-general-survey",27),t.YNc(3,An,1,2,"app-physical-exam",28),t.YNc(4,Un,1,2,"app-management",28),t._UZ(5,"app-consult-history",29),t.YNc(6,kn,1,2,"app-initial-dx",28),t.YNc(7,Jn,1,2,"app-final-dx",28),t.YNc(8,Nn,1,3,"app-prescription",30),t.YNc(9,In,9,5,"div",31),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details)("have_complaint",e.have_complaint),t.xp6(1),t.Q6J("toggle_content",e.toggle_content)("consult_details",e.consult_details),t.xp6(1),t.Q6J("ngIf",e.have_complaint),t.xp6(1),t.Q6J("ngIf",e.have_complaint),t.xp6(1),t.Q6J("toggle_content",e.toggle_content),t.xp6(1),t.Q6J("ngIf",e.have_complaint),t.xp6(1),t.Q6J("ngIf",e.have_complaint&&e.consult_details.physician),t.xp6(1),t.Q6J("ngIf",e.have_complaint&&e.consult_details.physician),t.xp6(1),t.Q6J("ngIf",e.have_complaint&&!e.consult_details.physician)}}function Fn(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-consult-summary"),t.qZA())}function Dn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"span",12)(2,"span",13)(3,"div",14)(4,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleAll())}),t._UZ(5,"fa-icon",16),t.qZA(),t.TgZ(6,"span",17),t._uU(7," CONSULTATION "),t.TgZ(8,"span",18),t._uU(9),t.ALo(10,"date"),t.qZA()()(),t.YNc(11,qn,6,8,"div",19),t.qZA()(),t.YNc(12,Qn,10,12,"div",6),t.YNc(13,Fn,2,0,"div",6),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("icon",e.toggle_content?e.faChevronUp:e.faChevronDown),t.xp6(4),t.AsE("(",t.xi3(10,6,null==e.consult_details?null:e.consult_details.consult_date,"MM/dd/yyyy hh:mm:ss a")," | ID:",null==e.consult_details?null:e.consult_details.id,")"),t.xp6(2),t.Q6J("ngIf",e.consult_details&&e.open_consult&&e.have_complaint),t.xp6(1),t.Q6J("ngIf",e.consult_details&&e.open_consult),t.xp6(1),t.Q6J("ngIf",e.consult_details&&!e.open_consult)}}function On(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-konsulta"),t.qZA())}function Sn(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-eclaims"),t.qZA())}function Yn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-end-visit",39),t.NdJ("toggleModal",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleModal())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("consult_id",null==e.consult_details?null:e.consult_details.id)("consult_date",null==e.consult_details?null:e.consult_details.consult_date)("patient_id",null==e.consult_details?null:e.consult_details.patient.id)("pt_group","cn")}}function En(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-ekas",40),t.NdJ("toggleModal",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleEkas())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("lab_list",e.lab_list)("consult_details",e.consult_details)}}const Pn=[{path:"",component:(()=>{class n{switchTabs(e){this.modules=0,this.modules=e}toggleAll(){this.toggle_content=!this.toggle_content}patientVitals(e){this.graph.patientVitals(e)}patientInfo(e){this.patient_details=e}toggleModal(){this.show_end=!this.show_end}openEkas(){this.http.get("laboratory/consult-laboratories",{params:{patient_id:this.patient_id,sort:"-request_date",include:"laboratory"}}).subscribe({next:i=>{this.lab_list=i.data,this.show_ekas=!this.show_ekas},error:i=>console.log(i)})}toggleEkas(){this.show_ekas=!this.show_ekas}loadVisitHistory(){this.http.get("consultation/records",{params:{patient_id:this.patient_id,per_page:"all",sort:"-consult_date"}}).subscribe({next:e=>{this.visit_list=e.data},error:e=>console.log(e)})}loadConsult(){this.http.get("consultation/records",{params:{id:this.consult_id,pt_group:"cn"}}).subscribe({next:s=>{this.consult_details=s.data[0],(this.consult_details.consult_notes.complaint||this.consult_details.consult_notes.complaints.length>0||this.consult_details.consult_notes.history)&&(this.have_complaint=!0,this.loadUsers(),this.consult_details.physician&&(this.referred_to=this.consult_details.physician,this.enable_edit=!0))},error:s=>console.log(s)});let i=this.http.getUserFromJSON();this.with_credentials=!!i.konsulta_credential}referTo(){this.enable_edit?this.enable_edit=!1:this.http.update("consultation/records/",this.consult_details.id,{patient_id:this.consult_details.patient.id,consult_date:this.consult_details.consult_date,pt_group:"cn",consult_done:!1,physician_id:this.referred_to.id}).subscribe({next:i=>{this.toastr.success("Patient was referred","Referral"),this.consult_details.physician=this.referred_to},error:i=>console.log(i)})}loadUsers(){this.http.get("users",{params:{per_page:"all",designation_code:"MD"}}).subscribe({next:e=>{this.physicians=e.data},error:e=>console.log(e)})}constructor(e,i,s){this.http=e,this.route=i,this.toastr=s,this.faChevronUp=d.mTx,this.faChevronDown=d.ptq,this.faDoorClosed=d.TH0,this.faFile=d.gMD,this.is_saving=!1,this.show_item=!0,this.toggle_content=!0,this.open_consult=!0,this.have_complaint=!1,this.show_end=!1,this.enable_edit=!1,this.show_ekas=!1,this.referred_to={id:""},this.with_credentials=!1}ngOnInit(){this.patient_id=this.route.snapshot.paramMap.get("id"),this.consult_id=this.route.snapshot.paramMap.get("consult_id"),this.modules=1,this.loadConsult()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.O),t.Y36(h.gz),t.Y36(y._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-consultation"]],viewQuery:function(e,i){if(1&e&&t.Gf(A,5),2&e){let s;t.iGM(s=t.CRH())&&(i.graph=s.first)}},decls:13,vars:9,consts:[[1,"block","shadow","p-4","mt-4","rounded-xl","text-gray-600","border","border-slate-100"],[1,"flex"],[1,"flex","justify-between","text-sm","w-full"],[1,"text-gray-600","border-b-2","border-gray-200","block","hover:text-blue-500","hover:border-blue-500","mr-6","pb-2",3,"click"],["type","button","class","btn-end-visit bg-green-500 mr-3 hover:ring-green-400",3,"click",4,"ngIf"],["type","button","class","btn-end-visit ml-auto",3,"click",4,"ngIf"],[4,"ngIf"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal",4,"ngIf"],[3,"lab_list","consult_details","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","bg-green-500","mr-3","hover:ring-green-400",3,"click"],[1,"mr-1",3,"icon"],["type","button",1,"btn-end-visit","ml-auto",3,"click"],[1,"text-sky-500","flex","justify-between","py-2"],[1,"flex","justify-between","w-full"],[1,"w-1/2","mt-2"],["type","button",1,"font-normal","text-sky-500","px-2","py-1","text-sm","mr-2",3,"click"],["size","lg",3,"icon"],[1,"mt-2","font-bold"],[1,"text-gray-500","text-sm"],["class","w-1/2 flex justify-end",4,"ngIf"],[1,"w-1/2","flex","justify-end"],[1,"flex","text-gray-700"],[1,"input","px-2","mr-3","disabled:bg-gray-300",3,"disabled","ngModel","ngModelChange"],["class","pr-3",3,"value",4,"ngFor","ngForOf"],[1,"disabled:bg-gray-300","bg-blue-500","text-xs","text-white","px-5","py-1","rounded-md","hover:ring-2","hover:ring-blue-400","h-10","mt-1","w-24",3,"disabled","ngClass","click"],[1,"pr-3",3,"value"],[3,"toggle_content","consult_details","have_complaint","loadConsult"],[3,"toggle_content","consult_details"],[3,"toggle_content","consult_details",4,"ngIf"],[3,"toggle_content"],[3,"toggle_content","consult_details","with_credentials",4,"ngIf"],["class","grid grid-cols-10",4,"ngIf"],[3,"toggle_content","consult_details","with_credentials"],[1,"grid","grid-cols-10"],[1,"col-start-3","col-span-8","text-gray-700","p-10","border","border-slate-300","shadow-md","rounded-md","mt-5"],["for","referred_to"],["name","referred_to",1,"input","px-2","mr-3","disabled:bg-gray-300","mb-3",3,"disabled","ngModel","ngModelChange"],[1,"w-full","text-right"],[1,"btn-save","px-5","disabled:bg-gray-300",3,"disabled","click"],[3,"consult_id","consult_date","patient_id","pt_group","toggleModal"],[3,"lab_list","consult_details","toggleModal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"button",3),t.NdJ("click",function(){return i.switchTabs(1)}),t._uU(4," CONSULTATION "),t.qZA(),t.TgZ(5,"div"),t.YNc(6,Zn,3,1,"button",4),t.YNc(7,Cn,3,1,"button",5),t.qZA()()(),t.YNc(8,Dn,14,9,"div",6),t.YNc(9,On,2,0,"div",6),t.YNc(10,Sn,2,0,"div",6),t.qZA(),t.YNc(11,Yn,1,4,"app-end-visit",7),t.YNc(12,En,1,2,"app-ekas",8)),2&e&&(t.xp6(3),t.Tol(1===i.modules?"text-blue-500 border-b-2 border-blue-500 font-bold":"hover:-translate-y-1 hover:scale-110 transition ease-in-out delay-400 duration-300"),t.xp6(3),t.Q6J("ngIf",i.consult_details&&i.with_credentials),t.xp6(1),t.Q6J("ngIf",!(null!=i.consult_details&&i.consult_details.consult_done)),t.xp6(1),t.Q6J("ngIf",1===i.modules),t.xp6(1),t.Q6J("ngIf",2===i.modules),t.xp6(1),t.Q6J("ngIf",3===i.modules),t.xp6(1),t.Q6J("ngIf",i.show_end),t.xp6(1),t.Q6J("ngIf",i.show_ekas))},dependencies:[a.mk,a.sg,a.O5,ct,mt,ht.F,M,m.BN,r.YN,r.Kr,r.EJ,r.JJ,r.On,Zt,Jt,jt,He,Ve,an,rn,gn,yn,a.uU],styles:["td[_ngcontent-%COMP%]{padding:1em 0}"]}),n})()}];let jn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(Pn),h.Bz]}),n})();var Hn=c(9366);let Kn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,jn,Hn.q,w.X,m.uH,T.A0,r.u5,r.UX,K.N]}),n})()},6356:(I,C,c)=>{c.d(C,{y:()=>h});var a=c(1571);let h=(()=>{class d{getVisitType(t){switch(t){case"cn":return"Consultation";case"cc":return"Child Care";case"mc":return"Maternal Care";case"dn":return"Dental";case"ncd":return"Non Communicable Disease"}}getURL(t){switch(t){case"CBC":return"laboratory/consult-laboratory-cbc";case"CRTN":return"laboratory/consult-laboratory-creatinine";case"CXRAY":return"laboratory/consult-laboratory-chestxray";case"ECG":return"laboratory/consult-laboratory-ecg";case"FBS":return"laboratory/consult-laboratory-fbs";case"RBS":return"laboratory/consult-laboratory-rbs";case"HBA":return"laboratory/consult-laboratory-hba1c";case"PSMR":return"laboratory/consult-laboratory-papsmear";case"PPD":return"laboratory/consult-laboratory-ppd";case"SPTM":return"laboratory/consult-laboratory-sputum";case"FCAL":return"laboratory/consult-laboratory-fecalysis";case"LPFL":return"laboratory/consult-laboratory-lipid-profile";case"URN":return"laboratory/consult-laboratory-urinalysis";case"OGTT":return"laboratory/consult-laboratory-oral-glucose";case"FOBT":return"laboratory/consult-laboratory-fecal-occult";case"GRMS":return"laboratory/consult-laboratory-gram-stain";case"MCRP":return"laboratory/consult-laboratory-microscopy";default:return""}}constructor(){}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6491:(I,C,c)=>{c.d(C,{N:()=>J});var a=c(1571),h=c(433),d=c(2216),f=c(2687),t=c(4691),w=c(7185);let J=(()=>{class Z{generateCode(){this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}onSubmit(){this.confirm_code===this.confirmation_code?this.http.delete(this.url,this.delete_id).subscribe({next:()=>{this.is_loading=!0,this.toastr.error("Record was deleted!","Vaccine record"),this.closeModal()},error:v=>console.log(v)}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"),console.log("error"))}closeModal(){this.toggleModal.emit("delete-item")}constructor(v,p){this.http=v,this.toastr=p,this.toggleModal=new a.vpe,this.faTrash=f.$aW,this.confirm_code="0000",this.is_loading=!1}ngOnInit(){console.log(this.delete_id),console.log(this.delete_desc),console.log(this.url),this.generateCode()}}return Z.\u0275fac=function(v){return new(v||Z)(a.Y36(t.O),a.Y36(w._W))},Z.\u0275cmp=a.Xpm({type:Z,selectors:[["app-delete-item"]],inputs:{url:"url",delete_id:"delete_id",delete_desc:"delete_desc"},outputs:{toggleModal:"toggleModal"},standalone:!0,features:[a.jDz],decls:28,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmation_code"],["name","confirmation_code","id","confirmation_code","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(v,p){1&v&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),a._uU(5),a.qZA()(),a.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),a._uU(10),a.qZA(),a.TgZ(11,"div",9)(12,"span",10),a._uU(13,"Delete Code"),a.qZA(),a.TgZ(14,"span",11),a._uU(15),a.qZA()(),a.TgZ(16,"div",9)(17,"label",12),a._uU(18,"Enter Code"),a.qZA(),a.TgZ(19,"input",13),a.NdJ("ngModelChange",function(g){return p.confirmation_code=g}),a.qZA()(),a.TgZ(20,"div",14)(21,"button",15),a.NdJ("click",function(){return p.onSubmit()}),a._UZ(22,"fa-icon",16),a._uU(23," Delete "),a.qZA()()()()(),a.TgZ(24,"div",17)(25,"button",18),a.NdJ("click",function(){return p.closeModal()}),a._uU(26,"Cancel"),a.qZA()()()()(),a._UZ(27,"div",19)),2&v&&(a.xp6(5),a.AsE(" Delete ",p.delete_desc,": ",p.delete_id," "),a.xp6(5),a.hij(" Your are about to delete a ",p.delete_desc," record for this patient. Please enter the generated delete code in order to proceed. "),a.xp6(5),a.Oqu(p.confirm_code),a.xp6(4),a.Q6J("ngModel",p.confirmation_code),a.xp6(2),a.Q6J("disabled",!p.confirmation_code||p.is_loading),a.xp6(1),a.Q6J("icon",p.faTrash),a.xp6(3),a.Q6J("disabled",p.is_loading))},dependencies:[d.uH,d.BN,h.u5,h.Fj,h.JJ,h.On]}),Z})()}}]);