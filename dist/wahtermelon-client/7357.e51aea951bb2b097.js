"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[7357],{7357:(C,u,i)=>{i.r(u),i.d(u,{HouseholdsModule:()=>R});var r=i(177),h=i(3895),a=i(5383),e=i(3953),f=i(3318),d=i(9417),m=i(60);const _=o=>({"bg-blue-500 text-white px-1 py-0.5 rounded-md":o}),g=o=>({"text-red-500":o});function b(o,l){if(1&o&&e.nrm(0,"fa-icon",29),2&o){const t=e.XpG(3);e.Y8G("icon",t.faUser)}}function y(o,l){if(1&o&&(e.j41(0,"div",14)(1,"span",26),e.DNE(2,b,1,1,"fa-icon",27),e.EFF(3),e.k0s(),e.j41(4,"div",28),e.EFF(5),e.nI1(6,"date"),e.k0s()()),2&o){const t=l.$implicit,s=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(12,_,"MEMBER"!==t.family_role_code)),e.R7$(),e.Y8G("ngIf","MEMBER"!==t.family_role_code),e.R7$(),e.LHq(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," "),e.R7$(),e.Y8G("ngClass",e.eq3(14,g,t.patient.philhealth_latest&&t.patient.philhealth_latest.effectivity_year<s.current_year)),e.R7$(),e.Lme(" ",t.patient.philhealth_latest?t.patient.philhealth_latest.philhealth_id:"-"," ",t.patient.philhealth_latest?"("+e.i5U(6,9,t.patient.philhealth_latest.enlistment_date,"MM/dd/yyyy")+")":""," ")}}function x(o,l){if(1&o&&(e.j41(0,"span",30),e.EFF(1),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.SpI(" ",t.patient.mobile_number?t.patient.mobile_number:"-"," ")}}function v(o,l){if(1&o){const t=e.RV6();e.j41(0,"tr",19)(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.DNE(4,y,7,16,"div",22),e.k0s(),e.j41(5,"td",21),e.DNE(6,x,2,1,"span",23),e.k0s(),e.j41(7,"td",24)(8,"button",25),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.navigateTo("environmental",n))}),e.EFF(9," Environmental & Sanitation "),e.k0s()()()}if(2&o){const t=l.$implicit;e.R7$(2),e.LHq(" ",t.address,", ","Brgy. "+t.barangay.name,", ",t.barangay.municipality.name," ",t.barangay.province.name," "),e.R7$(2),e.Y8G("ngForOf",t.household_member),e.R7$(2),e.Y8G("ngForOf",t.household_member),e.R7$(2),e.HbH(t.environmentalLatest?"bg-green-600 text-white px-2 py-1 rounded-md":"bg-orange-400 text-white px-2 py-1 rounded-md")}}function F(o,l){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",31)(2,"div",32)(3,"div")(4,"p",33),e.EFF(5," Showing "),e.j41(6,"span",34),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",34),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",34),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.j41(15,"div")(16,"nav",35)(17,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadHouseholds(1))}),e.nrm(18,"fa-icon",37),e.k0s(),e.j41(19,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadHouseholds(n.current_page-1))}),e.nrm(20,"fa-icon",37),e.EFF(21,"Previous "),e.k0s(),e.j41(22,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadHouseholds(n.current_page+1))}),e.EFF(23," Next"),e.nrm(24,"fa-icon",39),e.k0s(),e.j41(25,"button",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadHouseholds(n.last_page))}),e.nrm(26,"fa-icon",39),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}const k=[{path:"",component:(()=>{class o{navigateTo(t,s){this.router.navigate(["/"+t,{id:s.id}])}loadHouseholds(t){let s={params:{}};this.search_item&&(s.params["filter[search]"]=this.search_item),t&&(s.params.page=t),s.params.include="barangay",s.params.per_page=this.per_page,s.params.effectivity_year=(0,r.Yq)(new Date,"yyyy","en","Asia/Manila"),this.http.get("households/household-folders",s).subscribe({next:n=>{console.log(n),this.household_list=n.data,this.current_page=n.meta.current_page,this.last_page=n.meta.last_page,this.from=n.meta.from,this.to=n.meta.to,this.total=n.meta.total},error:n=>console.log(n)})}constructor(t,s){this.http=t,this.router=s,this.faSearch=a.MjD,this.faPenToSquare=a.LFz,this.faChevronLeft=a.Wzs,this.faChevronRight=a.XkK,this.faAnglesLeft=a.rNr,this.faAnglesRight=a.up_,this.faUser=a.X46,this.per_page=10,this.current_year=(0,r.Yq)(new Date,"yyyy","en","Asia/Manila")}ngOnInit(){this.loadHouseholds()}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(f.k),e.rXU(h.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-households"]],decls:30,vars:4,consts:[[1,"my-10","flex","justify-center","w-full"],[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-6","w-3/12"],["scope","col",1,"py-3","px-6","w-5/12"],[1,"w-full","grid","grid-cols-2"],[1,"text-center"],["scope","col",1,"py-3","px-6","w-2/12"],["class","border-t",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border-t"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],["class","w-full grid grid-cols-2",4,"ngFor","ngForOf"],["class","block",4,"ngFor","ngForOf"],[1,"py-4","px-6","justify-center","text-xs"],["type","button",3,"click"],[1,"block",3,"ngClass"],[3,"icon",4,"ngIf"],[1,"text-center",3,"ngClass"],[3,"icon"],[1,"block"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.EFF(5," Households "),e.k0s(),e.j41(6,"div",5)(7,"input",6),e.mxI("ngModelChange",function(p){return e.DH7(n.search_item,p)||(n.search_item=p),p}),e.bIt("keyup.enter",function(){return n.loadHouseholds()}),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return n.loadHouseholds()}),e.nrm(9,"fa-icon",8),e.k0s()()(),e.j41(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e.EFF(16,"Address"),e.k0s(),e.j41(17,"th",13)(18,"div",14)(19,"div",15),e.EFF(20,"Household Member"),e.k0s(),e.j41(21,"div",15),e.EFF(22,"Philhealth Info"),e.k0s()()(),e.j41(23,"th",16),e.EFF(24,"Contact Number"),e.k0s(),e.j41(25,"th",16),e.EFF(26,"Action"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,v,10,8,"tr",17),e.k0s()()()()(),e.DNE(29,F,27,11,"div",18),e.k0s()()),2&s&&(e.R7$(7),e.R50("ngModel",n.search_item),e.R7$(2),e.Y8G("icon",n.faSearch),e.R7$(19),e.Y8G("ngForOf",n.household_list),e.R7$(),e.Y8G("ngIf",(null==n.household_list?null:n.household_list.length)>=1))},dependencies:[r.YU,r.Sq,r.bT,d.me,d.BC,d.vS,m.aY,r.vh]})}return o})()}];let j=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[h.iI.forChild(k),h.iI]})}return o})(),R=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[r.MD,j,d.YN,m.dX]})}return o})()}}]);