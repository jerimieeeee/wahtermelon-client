"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[933],{6933:(S,g,c)=>{c.r(g),c.d(g,{EclaimsModule:()=>M});var m=c(6814),d=c(3602),r=c(590),t=c(5879),f=c(265),b=c(2425),h=c(5597),p=c(6223);function x(s,l){if(1&s&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function T(s,l){if(1&s&&(t.TgZ(0,"option",17),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function C(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.toggleModal("upload-claims",o))}),t._UZ(1,"fa-icon",9),t._uU(2),t.qZA()}if(2&s){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("icon",i.faUpload),t.xp6(1),t.hij(" ",e.pReceiptTicketNumber?"Reupload Docs":"Upload Claim"," ")}}function Z(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.checkSeries(o))}),t._UZ(1,"fa-icon",28),t._uU(2," Get Series Lhio "),t.qZA()}if(2&s){const e=t.oxw(3);t.Q6J("disabled",e.is_refreshing),t.xp6(1),t.Q6J("icon",e.is_refreshing?e.faRotate:e.faReceipt)("spin",e.is_refreshing)}}function E(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.getClaimStatus(o,o.pStatus))}),t._UZ(1,"fa-icon",28),t._uU(2),t.qZA()}if(2&s){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("disabled",i.is_refreshing),t.xp6(1),t.Q6J("icon",i.is_refreshing?i.faRotate:i.faClipboardQuestion)("spin",i.is_refreshing),t.xp6(1),t.hij(" Check ","DENIED"===e.pStatus?"Reason":"Status"," ")}}function A(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"tr",19)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",20),t._uU(4),t.ALo(5,"uppercase"),t._UZ(6,"br"),t._uU(7),t._UZ(8,"br"),t._uU(9),t._UZ(10,"br"),t._uU(11),t.qZA(),t.TgZ(12,"td",21),t._uU(13),t.qZA(),t.TgZ(14,"td",21),t._uU(15),t.qZA(),t.TgZ(16,"td",21),t._uU(17),t.qZA(),t.TgZ(18,"td",22)(19,"button",23),t.NdJ("click",function(){const n=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.navigateRoute("itr",n))}),t._UZ(20,"fa-icon",9),t._uU(21," Open ITR "),t.qZA(),t.YNc(22,C,3,2,"button",24),t.YNc(23,Z,3,3,"button",25),t.YNc(24,E,3,4,"button",25),t.qZA()()}if(2&s){const e=l.$implicit,i=t.oxw(2);let o,n,a,u,_;t.xp6(2),t.lnq(" ",e.patient.last_name,", ",e.patient.first_name," ",e.patient.middle_name," "),t.xp6(2),t.lnq(" 1. ",e.caserate.caserate_code," | ",e.caserate.code," (",t.lcZ(5,16,e.caserate.program_desc),")"),t.xp6(3),t.hij(" 2. ",e.pHospitalTransmittalNo," "),t.xp6(2),t.hij(" 3. ",null!==(o=e.pReceiptTicketNumber)&&void 0!==o?o:"-"," "),t.xp6(2),t.hij(" 4. ",null!==(n=e.pClaimSeriesLhio)&&void 0!==n?n:"-"," "),t.xp6(2),t.hij(" ",null!==(a=e.pTransmissionDate)&&void 0!==a?a:"-"," "),t.xp6(2),t.hij(" ",null!==(u=e.pStatus)&&void 0!==u?u:"IN QUEUE"," "),t.xp6(2),t.hij(" ",null!==(_=e.denied_reason)&&void 0!==_?_:"-"," "),t.xp6(3),t.Q6J("icon",i.faUpload),t.xp6(2),t.Q6J("ngIf","DENIED"!==e.pStatus&&"WITH CHEQUE"!==e.pStatus),t.xp6(1),t.Q6J("ngIf",e.pReceiptTicketNumber&&!e.pClaimSeriesLhio),t.xp6(1),t.Q6J("ngIf",e.pClaimSeriesLhio&&!e.denied_reason)}}function y(s,l){1&s&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2," No record found "),t.qZA()())}function U(s,l){if(1&s&&(t.TgZ(0,"tbody"),t.YNc(1,A,25,18,"tr",18),t.YNc(2,y,3,0,"tr",15),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.eclaims_list),t.xp6(1),t.Q6J("ngIf",0===e.eclaims_list.length)}}function N(s,l){if(1&s&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",30)(3,"div",31)(4,"div",32),t._UZ(5,"fa-icon",33),t.qZA(),t.TgZ(6,"div",34),t._uU(7," Fetching claims... "),t.qZA()()()()()),2&s){const e=t.oxw();t.xp6(5),t.Q6J("icon",e.faCircleNotch)}}function w(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div")(1,"div",35)(2,"div",36)(3,"div")(4,"p",37),t._uU(5," Showing "),t.TgZ(6,"span",38),t._uU(7),t.qZA(),t._uU(8," to "),t.TgZ(9,"span",38),t._uU(10),t.qZA(),t._uU(11," of "),t.TgZ(12,"span",38),t._uU(13),t.qZA(),t._uU(14," results "),t.qZA()(),t.TgZ(15,"div")(16,"nav",39)(17,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loadHouseholds(1))}),t._UZ(18,"fa-icon",41),t.qZA(),t.TgZ(19,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loadHouseholds(o.current_page-1))}),t._UZ(20,"fa-icon",41),t._uU(21,"Previous "),t.qZA(),t.TgZ(22,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loadHouseholds(o.current_page+1))}),t._uU(23," Next"),t._UZ(24,"fa-icon",43),t.qZA(),t.TgZ(25,"button",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loadHouseholds(o.last_page))}),t._UZ(26,"fa-icon",43),t.qZA()()()()()()}if(2&s){const e=t.oxw();t.xp6(7),t.Oqu(e.from),t.xp6(3),t.Oqu(e.to),t.xp6(3),t.Oqu(e.total),t.xp6(4),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faAnglesLeft),t.xp6(1),t.Q6J("disabled",1===e.current_page),t.xp6(1),t.Q6J("icon",e.faChevronLeft),t.xp6(2),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(2),t.Q6J("icon",e.faChevronRight),t.xp6(1),t.Q6J("disabled",e.current_page===e.last_page),t.xp6(1),t.Q6J("icon",e.faAnglesRight)}}function J(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"app-upload-claims",45),t.NdJ("modalToggle",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleModal(o))}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("patient",e.patient)("program_name",e.program_name)("selected_pHospitalTransmittalNo",e.selected_pHospitalTransmittalNo)("caserate_code",e.selected_caserate_code)("selected_ticket_number",e.selected_ticket_number)}}const v=[{path:"",component:(()=>{var s;class l{getEclaimsList(i){this.show_form=!1,this.http.get("eclaims/eclaims-upload",{params:{pStatus:this.pStatus??"",program_desc:this.program_desc??"","filter[search]":this.patient_search??"",page:i??"",per_page:this.per_page}}).subscribe({next:n=>{console.log(n),this.eclaims_list=n.data,this.show_form=!0,this.current_page=n.meta.current_page,this.last_page=n.meta.last_page,this.from=n.meta.from,this.to=n.meta.to,this.total=n.meta.total},error:n=>console.log(n)})}navigateRoute(i,o){this.router.navigate(["/patient/"+i,{id:o.patient.id}])}refreshClaims(){this.is_refreshing=!0}checkSeries(i){this.is_refreshing=!0,this.http.post("eclaims/get-claims-map",{pReceiptTicketNumber:i.pReceiptTicketNumber,program_code:"cc"!==i.program_desc?i.program_desc:"mc"}).subscribe({next:n=>{console.log(n),i.pClaimSeriesLhio=n.MAPPING.pClaimSeriesLhio,i.pStatus="IN PROCESS",this.updateUploadClaim(i)},error:n=>{console.log(n),this.is_refreshing=!1,this.toastr.error(n.error.message,"Series LHIO",{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0})}})}getClaimStatus(i,o){this.is_refreshing=!0,this.http.post("eclaims/get-claim-status",{series_lhio:i.pClaimSeriesLhio,program_code:"cc"!==i.program_desc?i.program_desc:"mc"}).subscribe({next:a=>{this.iterateMessage(a,i,o)},error:a=>{this.is_refreshing=!1,this.http.showError(a.error.message,"Claims Status")}})}iterateMessage(i,o,n){let a;switch(o.pStatus=i.CLAIM.pStatus,n){case"DENIED":o.denied_reason=i.CLAIM.DENIED.REASON.pReason,a="As of: "+i.pAsOf+" "+i.pAsOfTime+"<br />"+i.CLAIM.DENIED.REASON.pReason;break;case"WITH CHEQUE":console.log(i.CLAIM.PAYMENT.PAYEE),a="As of: "+i.pAsOf+" "+i.pAsOfTime,Object.entries(i.CLAIM.PAYMENT.PAYEE).forEach(([u,_],q)=>{console.log(_),a="As of: "+i.pAsOf+" "+i.pAsOfTime,a+="<br />Voucher No: "+_.pVoucherNo,a+="<br />Check Amount: "+_.pCheckAmount});default:a="As of: "+i.pAsOf+" "+i.pAsOfTime}this.showInfoToastr(a,i.CLAIM.pStatus),this.updateUploadClaim(o),this.is_refreshing=!1}showInfoToastr(i,o){this.toastr.info(i,o,{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0,enableHtml:!0})}updateUploadClaim(i){this.http.post("eclaims/eclaims-upload",i).subscribe({next:o=>{this.is_refreshing=!1},error:o=>{this.http.showError(o.error.message,"eClaims")}})}reopenCf2(i,o){this.caserate_list=[o.caserate],this.selected_transmittalNumber=o.pHospitalTransmittalNo,this.modal[i]=!this.modal[i]}toggleModal(i,o){this.selected_pHospitalTransmittalNo=o?.pHospitalTransmittalNo??null,this.selected_caserate_code=o?.caserate.caserate_code??null,this.selected_ticket_number=o?.pReceiptTicketNumber??null,this.modal[i]=!this.modal[i],"cf2"===i&&!this.modal.cf2&&this.getEclaimsList(),"upload-claims"===i&&!this.modal["upload-claims"]&&this.getEclaimsList()}constructor(i,o,n){this.http=i,this.toastr=o,this.router=n,this.faRotate=r.go9,this.faUpload=r.cf$,this.faCircleNotch=r.IJ7,this.faReceipt=r.dLy,this.faClipboardQuestion=r.irx,this.faPenToSquare=r.Yai,this.faFilter=r.G_j,this.faChevronLeft=r.A35,this.faChevronRight=r._tD,this.faAnglesLeft=r._Wx,this.faAnglesRight=r.ccb,this.pending_list=[],this.modal=[],this.is_refreshing=!1,this.show_form=!1,this.show_cf2=!1,this.pStatus=null,this.program_desc=null,this.patient_search=null,this.status_lists=["IN PROCESS","DENIED","WITH CHEQUE","RETURN"],this.program_list=["ab","cc","tb","mc","fp"],this.per_page=10}ngOnInit(){this.getEclaimsList()}}return(s=l).\u0275fac=function(i){return new(i||s)(t.Y36(f.O),t.Y36(b._W),t.Y36(d.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-eclaims"]],decls:43,vars:12,consts:[[1,"border","border-slate-200","shadow-md","rounded-xl"],[1,"w-full","bg-blue-500","text-white","rounded-t-xl","p-3","font-semibold","flex","justify-between"],[1,"mt-2"],[1,"grid","grid-cols-10","text-slate-800"],["type","text","placeholder","search...",1,"col-span-3","input","rounded-r-none",3,"ngModel","ngModelChange","keyup.enter"],[1,"input","rounded-none","col-span-3",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"px-3","bg-white","text-blue-500","rounded-r-md","h-10","mt-1",3,"click"],[3,"icon"],[1,"w-full","p-5","overflow-x-auto"],[1,"table-fixed","w-full","text-sm","text-left","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700"],["scope","col",1,"py-3","px-3"],["scope","col",1,"py-3","w-1/5"],[4,"ngIf"],[3,"patient","program_name","selected_pHospitalTransmittalNo","caserate_code","selected_ticket_number","modalToggle",4,"ngIf"],[3,"value"],["class","bg-white border-b last:border-0",4,"ngFor","ngForOf"],[1,"bg-white","border-b","last:border-0"],[1,"py-4","px-3","text-xs"],[1,"py-4","px-3"],[1,"py-4","px-3","text-center","grid","grid-cols-1"],["type","button",1,"bg-gray-300","rounded-md","p-0.5","mb-3","disabled:opacity-75",3,"click"],["class","bg-blue-500 text-white rounded-md p-0.5 mb-3 disabled:opacity-75","type","button",3,"click",4,"ngIf"],["class","bg-green-500 text-white rounded-md p-0.5 mb-3 disabled:opacity-75","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","rounded-md","p-0.5","mb-3","disabled:opacity-75",3,"click"],["type","button",1,"bg-green-500","text-white","rounded-md","p-0.5","mb-3","disabled:opacity-75",3,"disabled","click"],[3,"icon","spin"],["colspan","6",1,"text-center","italic"],["colspan","7"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[3,"patient","program_name","selected_pHospitalTransmittalNo","caserate_code","selected_ticket_number","modalToggle"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"ECLAIMS LIST"),t.qZA(),t.TgZ(4,"div",3)(5,"input",4),t.NdJ("ngModelChange",function(a){return o.patient_search=a})("keyup.enter",function(){return o.getEclaimsList()}),t.qZA(),t.TgZ(6,"select",5),t.NdJ("ngModelChange",function(a){return o.pStatus=a}),t.TgZ(7,"option",6),t._uU(8,"ALL"),t.qZA(),t.YNc(9,x,2,2,"option",7),t.qZA(),t.TgZ(10,"select",5),t.NdJ("ngModelChange",function(a){return o.program_desc=a}),t.TgZ(11,"option",6),t._uU(12,"ALL"),t.qZA(),t.YNc(13,T,3,4,"option",7),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return o.getEclaimsList()}),t._UZ(15,"fa-icon",9),t._uU(16," Filter "),t.qZA()()(),t.TgZ(17,"div",10)(18,"table",11)(19,"thead",12)(20,"tr")(21,"th",13),t._uU(22,"Name"),t.qZA(),t.TgZ(23,"th",14),t._uU(24," 1. Caserate (Program)"),t._UZ(25,"br"),t._uU(26," 2. Transmittal Number "),t._UZ(27,"br"),t._uU(28," 3. Ticket Number "),t._UZ(29,"br"),t._uU(30," 4. Claim Series Lhio "),t.qZA(),t.TgZ(31,"th",13),t._uU(32,"Transmittal Date"),t.qZA(),t.TgZ(33,"th",13),t._uU(34,"Claim Status"),t.qZA(),t.TgZ(35,"th",13),t._uU(36,"Details"),t.qZA(),t.TgZ(37,"th",13),t._uU(38,"Action"),t.qZA()()(),t.YNc(39,U,3,2,"tbody",15),t.YNc(40,N,8,1,"tbody",15),t.qZA()(),t.YNc(41,w,27,11,"div",15),t.qZA(),t.YNc(42,J,1,5,"app-upload-claims",16)),2&i&&(t.xp6(5),t.Q6J("ngModel",o.patient_search),t.xp6(1),t.Q6J("ngModel",o.pStatus),t.xp6(1),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngForOf",o.status_lists),t.xp6(1),t.Q6J("ngModel",o.program_desc),t.xp6(1),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngForOf",o.program_list),t.xp6(2),t.Q6J("icon",o.faFilter),t.xp6(24),t.Q6J("ngIf",o.show_form),t.xp6(1),t.Q6J("ngIf",!o.show_form),t.xp6(1),t.Q6J("ngIf",(null==o.eclaims_list?null:o.eclaims_list.length)>=1),t.xp6(1),t.Q6J("ngIf",o.modal["upload-claims"]))},dependencies:[m.sg,m.O5,h.BN,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,m.gd]}),l})()}];let k=(()=>{var s;class l{}return(s=l).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[d.Bz.forChild(v),d.Bz]}),l})(),M=(()=>{var s;class l{}return(s=l).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.ez,k,h.uH,p.u5]}),l})()}}]);