"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[9621],{9621:(j,I,m)=>{m.r(I),m.d(I,{ItemListModule:()=>ee});var o=m(177),g=m(1317),a=m(5383),e=m(4438),x=m(3318),f=m(60),s=m(9417),k=m(3825);const y=n=>({"bg-gray-50":n});function R(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td",25)(2,"div",26)(3,"div",27),e.EFF(4," No records found... "),e.k0s(),e.j41(5,"div",28)(6,"button",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.closeModal({added_item:i.search_item}))}),e.nrm(7,"fa-icon",30),e.EFF(8," Add "),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("icon",t.faAdd)}}function u(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",31),e.bIt("click",function(){const i=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.closeModal(i))}),e.j41(1,"td",32),e.EFF(2),e.k0s(),e.j41(3,"td",33),e.EFF(4),e.k0s()()}if(2&n){const t=l.$implicit;e.Y8G("ngClass",e.eq3(3,y,l.odd)),e.R7$(2),e.SpI(" ",t.category," "),e.R7$(2),e.SpI(" ",t.item_name," ")}}function _(n,l){if(1&n&&(e.j41(0,"table",18)(1,"thead",19)(2,"tr")(3,"th",20),e.EFF(4,"Item Category"),e.k0s(),e.j41(5,"th",21),e.EFF(6,"Item Name"),e.k0s()()(),e.j41(7,"tbody",22),e.DNE(8,R,9,1,"tr",23)(9,u,5,5,"tr",24),e.k0s()()),2&n){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",0===(null==t.item_list?null:t.item_list.length)),e.R7$(),e.Y8G("ngForOf",t.item_list)}}function c(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"div",36)(3,"p",37),e.EFF(4," Showing "),e.j41(5,"span",38),e.EFF(6),e.k0s(),e.EFF(7," to "),e.j41(8,"span",38),e.EFF(9),e.k0s(),e.EFF(10," of "),e.j41(11,"span",38),e.EFF(12),e.k0s(),e.EFF(13," results "),e.k0s()(),e.j41(14,"div")(15,"nav",39)(16,"button",40),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(1))}),e.nrm(17,"fa-icon",41),e.k0s(),e.j41(18,"button",42),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.current_page-1))}),e.nrm(19,"fa-icon",41),e.EFF(20,"Previous "),e.k0s(),e.j41(21,"button",42),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.current_page+1))}),e.EFF(22," Next"),e.nrm(23,"fa-icon",43),e.k0s(),e.j41(24,"button",44),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.last_page))}),e.nrm(25,"fa-icon",43),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(6),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}let p=(()=>{class n{closeModal(t){let r;r=t?{data:t,name:"item-lib"}:"item-lib",this.toggleModal.emit(r)}loadItem(t){this.is_loading=!0;let r={params:{}};this.search_item&&(r.params["filter[search]"]=this.search_item),t&&(r.params.page=t),r.params.per_page=this.per_page,this.http.get("libraries/item-claims",r).subscribe({next:i=>{this.item_list=i.data,this.current_page=i.meta.current_page,this.last_page=i.meta.last_page,this.from=i.meta.from,this.to=i.meta.to,this.total=i.meta.total,this.is_loading=!1},error:i=>console.log(i)})}constructor(t){this.http=t,this.toggleModal=new e.bkB,this.faAnglesLeft=a.rNr,this.faChevronLeft=a.Wzs,this.faChevronRight=a.XkK,this.faAnglesRight=a.up_,this.faSearch=a.MjD,this.faEdit=a.MT7,this.faAdd=a.vkJ,this.faCircleXmark=a.bnw,this.is_updating=!1,this.is_loading=!1,this.show_lib_drug=!1,this.per_page=10}ngOnInit(){this.loadItem()}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(x.k))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-lib-item-list"]],inputs:{search_item:"search_item"},outputs:{toggleModal:"toggleModal"},decls:19,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"flex","justify-end"],[1,"border","border-gray-400","rounded-md","bg-white"],["type","text","placeholder","Search item",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["type","button",1,"text-white","w-9","h-9",3,"click"],[1,"-mr-4",3,"icon"],[1,"h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],["class","w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-white py-3 flex items-center justify-between sm:px-6",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"sticky","top-0","text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6","w-4/12"],["scope","col",1,"py-3","px-6","w-8/12"],[1,"overflow-y-auto"],[4,"ngIf"],["class","hover:bg-blue-200 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["colspan","4"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"hover:bg-blue-200","cursor-pointer",3,"click","ngClass"],["scope","row",1,"py-4","px-4"],[1,"py-4","px-4"],[1,"bg-white","py-3","flex","items-center","justify-between","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"mr-3"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(r,i){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Item library "),e.k0s(),e.j41(6,"div",5)(7,"div",6)(8,"input",7),e.mxI("ngModelChange",function(h){return e.DH7(i.search_item,h)||(i.search_item=h),h}),e.bIt("keyup.enter",function(){return i.loadItem()}),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){return i.loadItem()}),e.nrm(10,"fa-icon",9),e.k0s()(),e.j41(11,"button",10),e.bIt("click",function(){return i.closeModal()}),e.nrm(12,"fa-icon",11),e.k0s()()(),e.j41(13,"div",12)(14,"div",13),e.DNE(15,_,10,2,"table",14),e.k0s()(),e.j41(16,"div",15),e.DNE(17,c,26,11,"div",16),e.k0s()()()(),e.nrm(18,"div",17)),2&r&&(e.R7$(8),e.R50("ngModel",i.search_item),e.R7$(2),e.Y8G("icon",i.faSearch),e.R7$(2),e.Y8G("icon",i.faCircleXmark),e.R7$(3),e.Y8G("ngIf",!i.is_loading),e.R7$(2),e.Y8G("ngIf",(null==i.item_list?null:i.item_list.length)>=1))},dependencies:[o.MD,o.YU,o.Sq,o.bT,s.YN,s.me,s.BC,s.vS,f.dX,f.aY],encapsulation:2})}}return n})();var v=m(5794);const b=n=>({"text-red-500":n}),F=n=>({"invalid-input":n});function w(n,l){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function G(n,l){if(1&n&&(e.j41(0,"div",24),e.DNE(1,w,2,1,"div",25),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.item_name.errors?null:t.f.item_name.errors.required)}}function E(n,l){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function M(n,l){if(1&n&&(e.j41(0,"div",24),e.DNE(1,E,2,1,"div",25),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.quantity.errors?null:t.f.quantity.errors.required)}}function L(n,l){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.required_message," ")}}function $(n,l){if(1&n&&(e.j41(0,"div",24),e.DNE(1,L,2,1,"div",25),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.unit_price.errors?null:t.f.unit_price.errors.required)}}function T(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.value)}}function Y(n,l){if(1&n&&(e.j41(0,"div",26)(1,"div",27)(2,"ul",28),e.DNE(3,T,2,1,"li",29),e.nI1(4,"keyvalue"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_errors))}}function N(n,l){1&n&&(e.j41(0,"div",30)(1,"span",31),e.EFF(2,"Record was updated."),e.k0s()()),2&n&&e.Y8G("@openCloseTrigger",void 0)}let C=(()=>{class n{onSubmit(){this.is_saving=!0,this.selected_item.added_item&&this.itemForm.patchValue({added_item:this.itemForm.value.item_name}),this.http.post("item-lists/item-list",this.itemForm.value).subscribe({next:t=>{this.toastr.success("Recorded successfully!","Drug List"),this.closeModal()},error:t=>{this.http.showError(t.error.message,"Drug List")}})}get f(){return this.itemForm.controls}loadSelected(){console.log(this.selected_item),this.itemForm.controls.item_name.disable(),this.selected_item&&this.selected_item.facility_code?this.patchToEdit(this.selected_item):this.selected_item&&this.selected_item.added_item?(this.itemForm.patchValue({added_item:this.selected_item.added_item,item_name:this.selected_item.added_item,category:"OTHERS"}),this.itemForm.controls.item_name.enable()):null!=this.selected_item&&this.itemForm.patchValue({lib_item_id:this.selected_item.id,item_name:this.selected_item.item_name,category:this.selected_item.category}),console.log(this.itemForm.value)}patchToEdit(t){this.itemForm.patchValue({id:t.id,added_item:t.libItemClaim?null:t.added_item,lib_item_id:t.lib_item_id,item_name:t.libItemClaim?t.libItemClaim.item_name:t.added_item,category:t.libItemClaim?t.libItemClaim.category:"OTHERS",quantity:t.quantity,unit_price:t.unit_price}),t.libItemClaim||this.itemForm.controls.item_name.enable()}createForm(){this.itemForm=this.formBuilder.group({id:[null],lib_item_id:[null],added_item:[null],category:[null,s.k0.required],item_name:[null,s.k0.required],quantity:[null,s.k0.required],unit_price:[null,s.k0.required]}),this.loadSelected()}closeModal(){this.toggleModal.emit("item-list")}constructor(t,r,i){this.formBuilder=t,this.http=r,this.toastr=i,this.toggleModal=new e.bkB,this.itemForm=new s.gE({id:new s.MJ(null),added_item:new s.MJ(null),lib_item_id:new s.MJ(null),category:new s.MJ(null),item_name:new s.MJ(null),quantity:new s.MJ(null),unit_price:new s.MJ(null)}),this.showAlert=!1,this.is_saving=!1,this.required_message="this is required",this.is_loading=!1}ngOnInit(){console.log(this.selected_item),this.is_loading=!0,this.createForm()}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(s.ok),e.rXU(x.k),e.rXU(v.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-item-form"]],inputs:{selected_item:"selected_item"},outputs:{toggleModal:"toggleModal"},decls:32,vars:25,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","max-h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"formGroup"],[1,"flex","item-start","flex-wrap","pb-5","px-3"],[1,"relative","w-full","text-sm","px-4","py-2","mt-2"],["for","item_name",1,"font-semibold",3,"ngClass"],["name","item_name","id","item_name","formControlName","item_name","type","text",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],[1,"relative","w-1/2","text-sm","px-3","py-2","mt-2"],["for","quantity",1,"font-semibold",3,"ngClass"],["name","quantity","id","quantity","formControlName","quantity","type","number",1,"input",3,"ngClass"],[1,"relative","w-1/2","text-sm","pr-3","py-2","mt-2"],["for","unit_price",1,"font-semibold",3,"ngClass"],["name","unit_price","id","unit_price","formControlName","unit_price","type","number",1,"input",3,"ngClass"],["id","show_errors","class","relative mx-10 col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 my-1 rounded h-11 relative w-64 justify-start","role","alert",4,"ngIf"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-300","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click"],["type","button",1,"text-white","bg-blue-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-blue-300","disabled:opacity-75","font-medium","rounded","text-sm","my-2","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],["id","show_errors",1,"relative","mx-10","col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","my-1","rounded","h-11","relative","w-64","justify-start"],[1,"block","sm:inline"]],template:function(r,i){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," List new item "),e.k0s()(),e.j41(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11,"Item name"),e.k0s(),e.nrm(12,"input",10),e.DNE(13,G,2,1,"div",11),e.k0s(),e.j41(14,"div",12)(15,"label",13),e.EFF(16,"Quantity"),e.k0s(),e.nrm(17,"input",14),e.DNE(18,M,2,1,"div",11),e.k0s(),e.j41(19,"div",15)(20,"label",16),e.EFF(21,"Unit Price"),e.k0s(),e.nrm(22,"input",17),e.DNE(23,$,2,1,"div",11),e.k0s()(),e.DNE(24,Y,5,3,"div",18),e.k0s()(),e.j41(25,"div",19),e.DNE(26,N,3,1,"div",20),e.j41(27,"button",21),e.bIt("click",function(){return i.closeModal()}),e.EFF(28,"Close"),e.k0s(),e.j41(29,"button",22),e.bIt("click",function(){return i.onSubmit()}),e.EFF(30,"Save"),e.k0s()()()()(),e.nrm(31,"div",23)),2&r&&(e.R7$(7),e.Y8G("formGroup",i.itemForm),e.R7$(3),e.Y8G("ngClass",e.eq3(13,b,i.is_saving&&i.f.item_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(15,F,i.is_saving&&i.f.item_name.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.item_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(17,b,i.is_saving&&i.f.quantity.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(19,F,i.is_saving&&i.f.quantity.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.quantity.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(21,b,i.is_saving&&i.f.unit_price.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(23,F,i.is_saving&&i.f.unit_price.errors)),e.R7$(),e.Y8G("ngIf",i.is_saving&&i.f.unit_price.errors),e.R7$(),e.Y8G("ngIf",i.submit_errors),e.R7$(2),e.Y8G("ngIf",i.showAlert),e.R7$(3),e.Y8G("disabled",i.itemForm.invalid))},dependencies:[o.MD,o.YU,o.Sq,o.bT,o.lG,s.X1,s.qT,s.me,s.Q0,s.BC,s.cb,s.j4,s.JD,f.dX],encapsulation:2})}}return n})();const D=n=>({"bg-gray-50":n});function X(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.JRh(t.value)}}function B(n,l){if(1&n&&(e.j41(0,"div",17)(1,"div",18)(2,"ul",19),e.DNE(3,X,2,1,"li",20),e.nI1(4,"keyvalue"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_error))}}function V(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td",22)(2,"div",23)(3,"div",24),e.EFF(4," No records found... "),e.k0s(),e.j41(5,"div",25)(6,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleModal("item-lib"))}),e.nrm(7,"fa-icon",27),e.EFF(8," Add "),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("icon",t.faAdd)}}function S(n,l){if(1&n&&e.EFF(0),2&n){const t=e.XpG().$implicit;e.SpI(" ",t.libItemClaim.item_name," ")}}function O(n,l){if(1&n&&e.EFF(0),2&n){const t=e.XpG().$implicit;e.SpI(" ",t.added_item," ")}}function A(n,l){if(1&n&&e.EFF(0),2&n){const t=e.XpG().$implicit;e.SpI(" ",t.libItemClaim.category," ")}}function q(n,l){1&n&&e.EFF(0," OTHERS ")}function U(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.DNE(2,S,1,1)(3,O,1,1),e.k0s(),e.j41(4,"td",29),e.DNE(5,A,1,1)(6,q,1,0),e.k0s(),e.j41(7,"td",29),e.EFF(8),e.k0s(),e.j41(9,"td",29),e.EFF(10),e.k0s(),e.j41(11,"td",29)(12,"button",30),e.bIt("click",function(){const i=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.toggleModal({data:i,name:"item-list"}))}),e.nrm(13,"fa-icon",31),e.k0s(),e.j41(14,"button",32),e.bIt("click",function(){const i=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.toggleDelete(i))}),e.nrm(15,"fa-icon",33),e.k0s()()()}if(2&n){const t=l.$implicit,r=l.odd,i=e.XpG(2);e.Y8G("ngClass",e.eq3(7,D,r)),e.R7$(2),e.vxM(t.libItemClaim?2:3),e.R7$(3),e.vxM(t.libItemClaim?5:6),e.R7$(3),e.SpI(" ",t.quantity," "),e.R7$(2),e.SpI(" ",t.unit_price," "),e.R7$(3),e.Y8G("icon",i.faEdit),e.R7$(2),e.Y8G("icon",i.faTrashCan)}}function J(n,l){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,V,9,1,"tr",13)(2,U,16,9,"tr",21),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0===(null==t.item_list?null:t.item_list.length)),e.R7$(),e.Y8G("ngForOf",t.item_list)}}function P(n,l){if(1&n&&(e.j41(0,"tbody")(1,"tr")(2,"td",34)(3,"div",35)(4,"span",36),e.nrm(5,"fa-icon",37),e.k0s(),e.j41(6,"span",36),e.EFF(7," Loading list... "),e.k0s()()()()()),2&n){const t=e.XpG();e.R7$(5),e.Y8G("icon",t.faCircleNotch)}}function z(n,l){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",38)(2,"div",39)(3,"div")(4,"p",40),e.EFF(5," Showing "),e.j41(6,"span",41),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",41),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",41),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.j41(15,"div")(16,"nav",42)(17,"button",43),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(1))}),e.nrm(18,"fa-icon",44),e.k0s(),e.j41(19,"button",45),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.current_page-1))}),e.nrm(20,"fa-icon",44),e.EFF(21,"Previous "),e.k0s(),e.j41(22,"button",45),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.current_page+1))}),e.EFF(23," Next"),e.nrm(24,"fa-icon",46),e.k0s(),e.j41(25,"button",47),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem(i.last_page))}),e.nrm(26,"fa-icon",46),e.k0s()()()()()()}if(2&n){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}function K(n,l){if(1&n){const t=e.RV6();e.j41(0,"app-lib-item-list",48),e.bIt("toggleModal",function(i){e.eBV(t);const d=e.XpG();return e.Njj(d.toggleModal(i))})("loadItem",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("search_item",t.search_item)}}function W(n,l){if(1&n){const t=e.RV6();e.j41(0,"app-item-form",49),e.bIt("toggleModal",function(i){e.eBV(t);const d=e.XpG();return e.Njj(d.toggleModal(i))})("loadItem",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.loadItem())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("selected_item",t.selected_item)}}function H(n,l){if(1&n){const t=e.RV6();e.j41(0,"app-delete-item",50),e.bIt("toggleModal",function(i){e.eBV(t);const d=e.XpG();return e.Njj(d.toggleDelete(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("delete_id",t.delete_id)("delete_desc",t.delete_desc)("url",t.url)}}const Q=[{path:"",component:(()=>{class n{toggleDelete(t){this.delete_id=t.id,this.delete_desc="Item Supplies",this.url="item-lists/item-list/",this.modals["delete-item"]=!this.modals["delete-item"],this.loadItem()}toggleModal(t){console.log(t),t.data?(this.selected_item=t.data,this.modals[t.name]=!this.modals[t.name],"item-lib"==t.name&&(this.modals["item-list"]=!0)):this.modals[t]=!this.modals[t],!1===this.modals[t]&&(this.selected_item=null,this.loadItem())}loadItem(t){this.is_loading=!0;let r={params:{page:t||1}};this.search_item&&(r.params["filter[search]"]=this.search_item),this.http.get("item-lists/item-list",r).subscribe({next:i=>{console.log(i),this.item_list=i.data,this.is_loading=!1},error:i=>{console.log(i.error.message),this.is_loading=!1}})}constructor(t){this.http=t,this.faSearch=a.MjD,this.faAdd=a.vkJ,this.faEdit=a.MT7,this.faTrashCan=a.sjs,this.faCircleNotch=a.s4k,this.faAnglesLeft=a.rNr,this.faChevronLeft=a.Wzs,this.faChevronRight=a.XkK,this.faAnglesRight=a.up_,this.modals=[],this.item_list=[],this.is_loading=!1,this.submit_error=!1}ngOnInit(){this.loadItem()}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(x.k))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-item-list"]],standalone:!1,decls:30,vars:9,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search item",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm",4,"ngIf"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],[4,"ngIf"],[3,"search_item","toggleModal","loadItem",4,"ngIf"],[3,"selected_item","toggleModal","loadItem",4,"ngIf"],[3,"delete_id","delete_desc","url","toggleModal",4,"ngIf"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm"],[1,"block","p-3","pl-10"],[1,"list-disc"],[4,"ngFor","ngForOf"],["class","bg-white border-t",3,"ngClass",4,"ngFor","ngForOf"],["colspan","9"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"text-center","italic"],[1,"flex","justify-center","mt-3"],["type","button",1,"btn-save",3,"click"],[1,"mr-1","text-white",3,"icon"],[1,"bg-white","border-t",3,"ngClass"],[1,"py-4","px-6"],["type","button",3,"click"],[1,"text-amber-500",3,"icon"],[1,"ml-2",3,"click"],[1,"text-rose-500",3,"icon"],["colspan","8",1,"text-center","py-12"],[1,"grid","grid-cols-1","w-full"],[1,"flex","justify-center"],["animation","spin",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[3,"toggleModal","loadItem","search_item"],[3,"toggleModal","loadItem","selected_item"],[3,"toggleModal","delete_id","delete_desc","url"]],template:function(r,i){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4," Item List "),e.k0s(),e.j41(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(h){return e.DH7(i.search_item,h)||(i.search_item=h),h}),e.bIt("keyup.enter",function(){return i.loadItem()}),e.k0s(),e.j41(7,"button",6),e.bIt("click",function(){return i.loadItem()}),e.nrm(8,"fa-icon",7),e.k0s()()(),e.DNE(9,B,5,3,"div",8),e.j41(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e.EFF(16,"Item Name"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Category"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Quantity "),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Unit Price"),e.k0s(),e.nrm(23,"th",12),e.k0s()(),e.DNE(24,J,3,2,"tbody",13)(25,P,8,1,"tbody",13),e.k0s()()()(),e.DNE(26,z,27,11,"div",13),e.k0s(),e.DNE(27,K,1,1,"app-lib-item-list",14)(28,W,1,1,"app-item-form",15)(29,H,1,3,"app-delete-item",16)),2&r&&(e.R7$(6),e.R50("ngModel",i.search_item),e.R7$(2),e.Y8G("icon",i.faSearch),e.R7$(),e.Y8G("ngIf",i.submit_error),e.R7$(15),e.Y8G("ngIf",!i.is_loading),e.R7$(),e.Y8G("ngIf",i.is_loading),e.R7$(),e.Y8G("ngIf",(null==i.item_list?null:i.item_list.length)>=1),e.R7$(),e.Y8G("ngIf",i.modals["item-lib"]),e.R7$(),e.Y8G("ngIf",i.modals["item-list"]),e.R7$(),e.Y8G("ngIf",i.modals["delete-item"]))},dependencies:[o.YU,o.Sq,o.bT,f.aY,s.me,s.BC,s.vS,k.c,p,C,o.lG],encapsulation:2})}}return n})()}];let Z=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(Q),g.iI]})}}return n})(),ee=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[o.MD,Z,f.dX,s.YN,s.X1,k.c,p,C]})}}return n})()},3825:(j,I,m)=>{m.d(I,{c:()=>k});var o=m(4438),g=m(9417),a=m(60),e=m(5383),x=m(3318),f=m(5794);const s=["confirmCode"];let k=(()=>{class y{generateCode(){this.is_loading=!1,this.confirmation_code=null,this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}onSubmit(){this.is_loading=!0,this.confirm_code===this.confirmation_code?this.http.delete(this.url,this.delete_id).subscribe({next:()=>{this.is_loading=!1,this.toastr.error("Record was deleted!"),this.closeModal()},error:u=>{console.log(u),this.is_loading=!1,this.generateCode()}}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}closeModal(){this.toggleModal.emit("delete-item")}constructor(u,_){this.http=u,this.toastr=_,this.toggleModal=new o.bkB,this.faTrash=e.yLS,this.confirm_code="0000",this.is_loading=!1}ngOnChanges(u){this.generateCode()}ngAfterViewInit(){this.inputElement.nativeElement.focus()}static{this.\u0275fac=function(_){return new(_||y)(o.rXU(x.k),o.rXU(f.tw))}}static{this.\u0275cmp=o.VBU({type:y,selectors:[["app-delete-item"]],viewQuery:function(_,c){if(1&_&&o.GBs(s,5),2&_){let p;o.mGM(p=o.lsd())&&(c.inputElement=p.first)}},inputs:{url:"url",delete_id:"delete_id",delete_desc:"delete_desc"},outputs:{toggleModal:"toggleModal"},features:[o.OA$],decls:29,vars:8,consts:[["confirmCode",""],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmCode"],["name","confirmCode","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-[59]","bg-black"]],template:function(_,c){if(1&_){const p=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),o.EFF(5),o.k0s()(),o.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),o.EFF(10),o.k0s(),o.j41(11,"div",10)(12,"span",11),o.EFF(13,"Delete Code"),o.k0s(),o.j41(14,"span",12),o.EFF(15),o.k0s()(),o.j41(16,"div",10)(17,"label",13),o.EFF(18,"Enter Code"),o.k0s(),o.j41(19,"input",14,0),o.bIt("keyup.enter",function(){return o.eBV(p),o.Njj(c.onSubmit())}),o.mxI("ngModelChange",function(b){return o.eBV(p),o.DH7(c.confirmation_code,b)||(c.confirmation_code=b),o.Njj(b)}),o.k0s()(),o.j41(21,"div",15)(22,"button",16),o.bIt("click",function(){return o.eBV(p),o.Njj(c.onSubmit())}),o.nrm(23,"fa-icon",17),o.EFF(24," Delete "),o.k0s()()()()(),o.j41(25,"div",18)(26,"button",19),o.bIt("click",function(){return o.eBV(p),o.Njj(c.closeModal())}),o.EFF(27,"Cancel"),o.k0s()()()()(),o.nrm(28,"div",20)}2&_&&(o.R7$(5),o.Lme(" Delete ",c.delete_desc,": ",c.delete_id," "),o.R7$(5),o.SpI(" Your are about to delete a ",c.delete_desc," record for this patient. Please enter the generated delete code in order to proceed. "),o.R7$(5),o.JRh(c.confirm_code),o.R7$(4),o.R50("ngModel",c.confirmation_code),o.R7$(3),o.Y8G("disabled",!c.confirmation_code||c.is_loading),o.R7$(),o.Y8G("icon",c.faTrash),o.R7$(3),o.Y8G("disabled",c.is_loading))},dependencies:[a.dX,a.aY,g.YN,g.me,g.BC,g.vS],encapsulation:2,changeDetection:0})}}return y})()}}]);