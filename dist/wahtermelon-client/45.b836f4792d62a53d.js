"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[45],{45:(vr,j,h)=>{h.r(j),h.d(j,{GbvModule:()=>lr,options:()=>_r});var d=h(6895),M=h(5749),c=h(2687),e=h(4650),p=h(4691),u=h(2216),m=h(3396),o=h(4006);function G(){return new o.cw({id:new o.NI(""),patient_id:new o.NI(""),patient_gbv_id:new o.NI(""),consent_flag:new o.NI(!1),consent_relation_to_child_id:new o.NI(""),case_number:new o.NI(""),case_date:new o.NI(""),primary_complaint_id:new o.NI(""),primary_complaint_remarks:new o.NI(""),physical_abuse_flag:new o.NI(!1),sexual_abuse_flag:new o.NI(!1),neglect_abuse_flag:new o.NI(!1),emotional_abuse_flag:new o.NI(!1),economic_abuse_flag:new o.NI(!1),utv_abuse_flag:new o.NI(!1),others_abuse_flag:new o.NI(!1),others_abuse_remarks:new o.NI(""),neglect_remarks:new o.NI(""),behavioral_remarks:new o.NI(""),service_id:new o.NI(""),service_remarks:new o.NI(""),region:new o.NI(""),province:new o.NI(""),municipality:new o.NI(""),same_address_flag:new o.NI(!1),barangay_code:new o.NI(""),address:new o.NI(""),direction_to_address:new o.NI(""),guardian_name:new o.NI(""),guardian_address:new o.NI(""),relation_to_child_id:new o.NI(""),guardian_contact_info:new o.NI(""),economic_status_id:new o.NI(""),number_of_children:new o.NI(""),number_of_individual_members:new o.NI(""),number_of_family:new o.NI(""),incest_case_flag:new o.NI(!1),sleeping_arrangement_id:new o.NI(""),sleeping_arrangement_remarks:new o.NI(""),same_bed_adult_male_flag:new o.NI(!1),same_bed_adult_female_flag:new o.NI(!1),same_bed_child_male_flag:new o.NI(!1),same_bed_child_female_flag:new o.NI(!1),same_room_adult_male_flag:new o.NI(!1),same_room_adult_female_flag:new o.NI(!1),same_room_child_male_flag:new o.NI(!1),same_room_child_female_flag:new o.NI(!1),abuse_living_arrangement_id:new o.NI(""),abuse_living_arrangement_remarks:new o.NI(""),present_living_arrangement_id:new o.NI(""),present_living_arrangement_remarks:new o.NI(""),vaw_physical_flag:new o.NI(!1),vaw_sexual_flag:new o.NI(!1),vaw_psychological_flag:new o.NI(!1),vaw_economic_flag:new o.NI(!1),rape_sex_intercourse_flag:new o.NI(!1),rape_sex_assault_flag:new o.NI(!1),rape_incest_flag:new o.NI(!1),rape_statutory_flag:new o.NI(!1),rape_marital_flag:new o.NI(!1),harassment_verbal_flag:new o.NI(!1),harassment_physical_flag:new o.NI(!1),harassment_object_flag:new o.NI(!1),child_abuse_engaged_flag:new o.NI(!1),child_abuse_sexual_flag:new o.NI(!1),child_abuse_physical_flag:new o.NI(!1),child_abuse_emotional_flag:new o.NI(!1),child_abuse_economic_flag:new o.NI(!1),wcpd_others:new o.NI("")})}var f=h(7185),E=h(1094);function D(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function P(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,D,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.required)}}function H(i,a){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function L(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function $(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,L,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.child_relation_id.errors?null:t.f.child_relation_id.errors.required)}}function R(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function B(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,R,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.gender.errors?null:t.f.gender.errors.required)}}function W(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function z(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,W,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.tb_treatment_outcome_code.errors?null:t.f.tb_treatment_outcome_code.errors.required)}}function X(i,a){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.status_desc)}}function ee(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function te(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,ee,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.civil_status_code.errors?null:t.f.civil_status_code.errors.required)}}function ie(i,a){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.occupation_desc)}}function ne(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function ae(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,ne,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.occupation.errors?null:t.f.occupation.errors.required)}}function oe(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function _e(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,oe,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.company.errors?null:t.f.company.errors.required)}}function le(i,a){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.education_desc)}}function re(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function se(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,re,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.education_code.errors?null:t.f.education_code.errors.required)}}function de(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.required_message," ")}}function ce(i,a){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,de,2,1,"div",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.school.errors?null:t.f.school.errors.required)}}const A=function(i){return{"text-red-500":i}},k=function(i){return{"invalid-input":i}};let pe=(()=>{class i{get f(){return this.familyForm.controls}onSubmit(){let t;t=this.selected_member?this.http.update("gender-based-violence/patient-gbv-family-composition/",this.selected_member.id,this.familyForm.value):this.http.post("gender-based-violence/patient-gbv-family-composition",this.familyForm.value),t.subscribe({next:n=>{console.log(n),this.toastr.success("Successfully recorded!","Family"),this.closeModal()},error:n=>console.log(n)})}saveComplete(){this.is_saving=!1,this.toastr.success("Successfully recorded!","Treatment Outcome"),this.closeModal()}loadLibraries(){this.http.get("libraries/child-relation").subscribe({next:t=>this.child_relations=t.data,error:t=>console.log(t)}),this.http.get("libraries/civil-statuses").subscribe({next:t=>this.civil_statuses=t.data,error:t=>console.log(t)}),this.http.get("libraries/occupations").subscribe({next:t=>this.occupations=t.data,error:t=>console.log(t)}),this.http.get("libraries/education").subscribe({next:t=>this.educations=t.data,error:t=>console.log(t)})}createForm(){this.familyForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[this.patient_gbv_id],name:[null,o.kI.required],child_relation_id:[null,o.kI.required],living_with_child_flag:[!1],age:[null,o.kI.required],gender:[null],civil_status_code:[null,o.kI.required],employed_flag:[null],occupation_code:[null],education_code:[null],weekly_income:[null],school:[null],company:[null],contact_information:[null]}),this.loadLibraries(),this.loadSelectedMember()}loadSelectedMember(){this.familyForm.patchValue({...this.selected_member}),this.familyForm.patchValue({child_relation_id:this.selected_member.relation?this.selected_member.relation.id:null}),console.log(this.selected_member)}closeModal(){this.toggleModal.emit("add_family")}constructor(t,n,_){this.formBuilder=t,this.http=n,this.toastr=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_error=!1,this.required_message="Required field",this.familyForm=new o.cw({id:new o.NI(""),patient_id:new o.NI(""),patient_gbv_id:new o.NI(""),name:new o.NI(""),child_relation_id:new o.NI(""),living_with_child_flag:new o.NI(!1),age:new o.NI(""),gender:new o.NI(""),civil_status_code:new o.NI(""),employed_flag:new o.NI(""),occupation_code:new o.NI(""),education_code:new o.NI(""),weekly_income:new o.NI(""),school:new o.NI(""),company:new o.NI(""),contact_information:new o.NI("")})}ngOnInit(){this.createForm()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(o.qu),e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-family-composition"]],inputs:{patient_id:"patient_id",patient_gbv_id:"patient_gbv_id",selected_member:"selected_member"},outputs:{toggleModal:"toggleModal"},decls:73,vars:70,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","formControlName","living_with_child_flag",1,"input-checkbox"],[1,"pl-3","py-0.5"],["for","name",3,"ngClass"],["type","text","name","name","id","name","formControlName","name",1,"input",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","child_relation_id",3,"ngClass"],["name","child_relation_id","id","child_relation_id","formControlName","child_relation_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","gender",3,"ngClass"],["name","gender","id","gender","formControlName","gender",1,"input",3,"ngClass"],["value","M"],["value","F"],["for","age",3,"ngClass"],["type","number","name","casagee_number","id","age","formControlName","age",1,"input",3,"ngClass"],["for","civil_status_code",3,"ngClass"],["name","civil_status_code","id","civil_status_code","formControlName","civil_status_code",1,"input",3,"ngClass"],["for","occupation_code",3,"ngClass"],["name","occupation_code","id","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],[1,"col-span-3"],["for","company",3,"ngClass"],["type","text","name","company","id","company","formControlName","company",1,"input",3,"ngClass"],["for","education_code",3,"ngClass"],["name","education_code","id","education_code","formControlName","education_code",1,"input",3,"ngClass"],["for","school",3,"ngClass"],["type","text","name","school","id","school","formControlName","school",1,"input",3,"ngClass"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"invalid-alert"],[4,"ngIf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Family Member Details "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"input",9),e.TgZ(11,"label",10),e._uU(12,"Living with child"),e.qZA()(),e.TgZ(13,"div",8)(14,"label",11),e._uU(15,"Name"),e.qZA(),e._UZ(16,"input",12),e.YNc(17,P,2,1,"div",13),e.qZA(),e.TgZ(18,"div")(19,"label",14),e._uU(20,"Relation to child"),e.qZA(),e.TgZ(21,"select",15),e.YNc(22,H,2,2,"option",16),e.qZA(),e.YNc(23,$,2,1,"div",13),e.qZA(),e.TgZ(24,"div")(25,"label",17),e._uU(26,"Gender"),e.qZA(),e.TgZ(27,"select",18)(28,"option",19),e._uU(29,"Male"),e.qZA(),e.TgZ(30,"option",20),e._uU(31,"Female"),e.qZA()(),e.YNc(32,B,2,1,"div",13),e.qZA(),e.TgZ(33,"div")(34,"label",21),e._uU(35,"Age"),e.qZA(),e._UZ(36,"input",22),e.YNc(37,z,2,1,"div",13),e.qZA(),e.TgZ(38,"div")(39,"label",23),e._uU(40,"Civil Status"),e.qZA(),e.TgZ(41,"select",24),e.YNc(42,X,2,2,"option",16),e.qZA(),e.YNc(43,te,2,1,"div",13),e.qZA(),e.TgZ(44,"div")(45,"label",25),e._uU(46,"Employement"),e.qZA(),e.TgZ(47,"select",26),e.YNc(48,ie,2,2,"option",16),e.qZA(),e.YNc(49,ae,2,1,"div",13),e.qZA(),e.TgZ(50,"div",27)(51,"label",28),e._uU(52,"Company"),e.qZA(),e._UZ(53,"input",29),e.YNc(54,_e,2,1,"div",13),e.qZA(),e.TgZ(55,"div")(56,"label",30),e._uU(57,"Education"),e.qZA(),e.TgZ(58,"select",31),e.YNc(59,le,2,2,"option",16),e.qZA(),e.YNc(60,se,2,1,"div",13),e.qZA(),e.TgZ(61,"div",27)(62,"label",32),e._uU(63,"School"),e.qZA(),e._UZ(64,"input",33),e.YNc(65,ce,2,1,"div",13),e.qZA()()()(),e.TgZ(66,"div",34)(67,"button",35),e.NdJ("click",function(){return n.closeModal()}),e._uU(68,"Close"),e.qZA(),e.TgZ(69,"button",36),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(70,"fa-icon"),e._uU(71),e.qZA()()()()(),e._UZ(72,"div",37)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.familyForm),e.xp6(7),e.Q6J("ngClass",e.VKq(34,A,n.show_error&&n.f.name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(36,k,n.show_error&&n.f.name.errors)),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(38,A,n.show_error&&n.f.child_relation_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(40,k,n.show_error&&n.f.child_relation_id.errors)),e.xp6(1),e.Q6J("ngForOf",n.child_relations),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.child_relation_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(42,A,n.show_error&&n.f.gender.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(44,k,n.show_error&&n.f.gender.errors)),e.xp6(5),e.Q6J("ngIf",n.show_error&&n.f.gender.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(46,A,n.show_error&&n.f.age.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(48,k,n.show_error&&n.f.age.errors)),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.tb_treatment_outcome_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(50,A,n.show_error&&n.f.outcome_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(52,k,n.show_error&&n.f.civil_status_code.errors)),e.xp6(1),e.Q6J("ngForOf",n.civil_statuses),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.civil_status_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(54,A,n.show_error&&n.f.outcome_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(56,k,n.show_error&&n.f.occupation_code.errors)),e.xp6(1),e.Q6J("ngForOf",n.occupations),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.occupation.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(58,A,n.show_error&&n.f.company.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(60,k,n.show_error&&n.f.company.errors)),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.company.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(62,A,n.show_error&&n.f.outcome_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(64,k,n.show_error&&n.f.education_code.errors)),e.xp6(1),e.Q6J("ngForOf",n.educations),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.education_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(66,A,n.show_error&&n.f.school.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(68,k,n.show_error&&n.f.school.errors)),e.xp6(1),e.Q6J("ngIf",n.show_error&&n.f.school.errors),e.xp6(4),e.Q6J("disabled",n.is_saving||n.familyForm.invalid),e.xp6(2),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();var I=h(4128);function ge(i,a){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function me(i,a){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.occupation_desc)}}function fe(i,a){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.education_desc)}}function ve(i,a){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function be(i,a){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}const Z=function(i){return{"text-red-500":i}},x=function(i){return{"invalid-input":i}};function he(i,a){if(1&i&&(e.TgZ(0,"div",27)(1,"div",15)(2,"label",28),e._uU(3,"Full name"),e.qZA(),e._UZ(4,"input",29),e.qZA(),e.TgZ(5,"div")(6,"label",30),e._uU(7,"Nickname"),e.qZA(),e._UZ(8,"input",31),e.qZA(),e.TgZ(9,"div")(10,"label",32),e._uU(11,"Age"),e.qZA(),e._UZ(12,"input",33),e.qZA(),e.TgZ(13,"div")(14,"label",34),e._uU(15,"Occupation"),e.qZA(),e.TgZ(16,"select",35),e.YNc(17,me,2,2,"option",18),e.qZA()(),e.TgZ(18,"div")(19,"label",36),e._uU(20,"Education"),e.qZA(),e.TgZ(21,"select",37),e.YNc(22,fe,2,2,"option",18),e.qZA()(),e.TgZ(23,"div",15),e._UZ(24,"input",38),e.TgZ(25,"label",39),e._uU(26,"Is the person known to child/adolescent/woman?"),e.qZA()(),e.TgZ(27,"div")(28,"label",40),e._uU(29,"Relation to child"),e.qZA(),e.TgZ(30,"select",41),e.YNc(31,ve,2,2,"option",18),e.qZA()(),e.TgZ(32,"div")(33,"label",42),e._uU(34,"Current location"),e.qZA(),e.TgZ(35,"select",43),e.YNc(36,be,2,2,"option",18),e.qZA()(),e.TgZ(37,"div",15)(38,"label",44),e._uU(39,"Permanent Address/location"),e.qZA(),e._UZ(40,"input",45),e.qZA(),e.TgZ(41,"div",15)(42,"label",46),e._uU(43,"Current Address/location"),e.qZA(),e._UZ(44,"input",47),e.qZA(),e.TgZ(45,"div",48),e._uU(46," History of substance abuse "),e.qZA(),e.TgZ(47,"div",49)(48,"div"),e._UZ(49,"input",50),e.TgZ(50,"label",51),e._uU(51,"Alcohol"),e.qZA()(),e.TgZ(52,"div"),e._UZ(53,"input",52),e.TgZ(54,"label",53),e._uU(55,"Drugs"),e.qZA()(),e.TgZ(56,"div"),e._UZ(57,"input",54),e.TgZ(58,"label",55),e._uU(59,"Other substance"),e.qZA()()(),e.TgZ(60,"div")(61,"label",56),e._uU(62,"Name of drugs"),e.qZA(),e._UZ(63,"input",57),e.qZA(),e.TgZ(64,"div")(65,"label",58),e._uU(66,"Name of substance"),e.qZA(),e._UZ(67,"input",59),e.qZA(),e.TgZ(68,"div",48),e._uU(69," History of violence "),e.qZA(),e.TgZ(70,"div",60)(71,"div"),e._UZ(72,"input",61),e.TgZ(73,"label",62),e._uU(74,"Abused as a child"),e.qZA()(),e.TgZ(75,"div"),e._UZ(76,"input",63),e.TgZ(77,"label",64),e._uU(78,"Abused as a spouse"),e.qZA()(),e.TgZ(79,"div"),e._UZ(80,"input",65),e.TgZ(81,"label",66),e._uU(82,"Spouse abuser"),e.qZA()(),e.TgZ(83,"div",15),e._UZ(84,"input",67),e.TgZ(85,"label",68),e._uU(86,"Withness family violence"),e.qZA()()(),e.TgZ(87,"div",48),e._uU(88," Criminal History "),e.qZA(),e.TgZ(89,"div"),e._UZ(90,"input",69),e.TgZ(91,"label",70),e._uU(92,"Previous conviction for similar offense"),e.qZA()(),e.TgZ(93,"div"),e._UZ(94,"input",71),e.TgZ(95,"label",72),e._uU(96,"Previous conviction for other offense"),e.qZA()(),e.TgZ(97,"div"),e._UZ(98,"input",73),e.TgZ(99,"label",74),e._uU(100,"Previous police blotter/barangay report"),e.qZA()(),e.TgZ(101,"div",15)(102,"label",75),e._uU(103,"Reported for"),e.qZA(),e._UZ(104,"input",76),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(28,Z,t.show_error&&t.f.perpetrator_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(30,x,t.show_error&&t.f.perpetrator_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Z,t.show_error&&t.f.perpetrator_nickname.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(34,x,t.show_error&&t.f.perpetrator_nickname.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(36,Z,t.show_error&&t.f.perpetrator_age.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(38,x,t.show_error&&t.f.perpetrator_age.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(40,Z,t.show_error&&t.f.occupation_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(42,x,t.show_error&&t.f.occupation_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.occupations),e.xp6(2),e.Q6J("ngClass",e.VKq(44,Z,t.show_error&&t.f.education_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(46,x,t.show_error&&t.f.education_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.educations),e.xp6(6),e.Q6J("ngClass",e.VKq(48,Z,t.show_error&&t.f.relation_to_child_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(50,x,t.show_error&&t.f.relation_to_child_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.child_relations),e.xp6(2),e.Q6J("ngClass",e.VKq(52,Z,t.show_error&&t.f.location_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(54,x,t.show_error&&t.f.location_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.perpetrator_locations),e.xp6(2),e.Q6J("ngClass",e.VKq(56,Z,t.show_error&&t.f.perpetrator_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(58,x,t.show_error&&t.f.perpetrator_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(60,Z,t.show_error&&t.f.perpetrator_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(62,x,t.show_error&&t.f.perpetrator_address.errors)),e.xp6(17),e.Q6J("ngClass",e.VKq(64,Z,t.show_error&&t.f.abuse_drugs_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(66,x,t.show_error&&t.f.abuse_drugs_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(68,Z,t.show_error&&t.f.abuse_others_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(70,x,t.show_error&&t.f.abuse_others_remarks.errors)),e.xp6(35),e.Q6J("ngClass",e.VKq(72,Z,t.show_error&&t.f.criminal_barangay_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(74,x,t.show_error&&t.f.criminal_barangay_remarks.errors))}}function Ze(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("submit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e.TgZ(1,"div",14)(2,"div",15)(3,"label",16),e._uU(4,"Gender"),e.qZA(),e.TgZ(5,"select",17),e.YNc(6,ge,2,2,"option",18),e.qZA()(),e.TgZ(7,"div",19),e._UZ(8,"input",20),e.TgZ(9,"label",21),e._uU(10,"LGBTQ"),e.qZA()(),e.TgZ(11,"div",22),e._UZ(12,"input",23),e.TgZ(13,"label",24),e._uU(14,"Is the perpetrator unknown?"),e.qZA()(),e.YNc(15,he,105,76,"div",25),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.perpetratorForm),e.xp6(3),e.Q6J("ngClass",e.VKq(5,Z,t.show_error&&t.f.case_number.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(7,x,t.show_error&&t.f.gender.errors)),e.xp6(1),e.Q6J("ngForOf",t.genders),e.xp6(9),e.Q6J("ngIf",!t.perpetratorForm.value.perpetrator_unknown_flag)}}function xe(i,a){if(1&i&&(e.TgZ(0,"div",77)(1,"span",78),e._UZ(2,"fa-icon",79),e.qZA(),e.TgZ(3,"span",80),e._uU(4," Loading... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let V=(()=>{class i{onSubmit(){let t;console.log(this.perpetratorForm.value),this.perpetratorForm.value.perpetrator_unknown_flag&&this.disableDetails(),t=this.perpetratorForm.value.id?this.http.update("gender-based-violence/patient-gbv-perpetrator/",this.perpetratorForm.value.id,this.perpetratorForm.value):this.http.post("gender-based-violence/patient-gbv-perpetrator",this.perpetratorForm.value),t.subscribe({next:n=>{console.log(n),this.toastr.success("Successfully Recorded","Alleged Perpetator"),this.closeModal()},error:n=>console.log(n)})}disableDetails(){this.perpetratorForm.patchValue({perpetrator_name:null,perpetrator_nickname:null,perpetrator_age:null,occupation_code:null,education_code:null,known_to_child_flag:null,relation_to_child_id:null,location_id:null,perpetrator_address:null,perpetrator_current_address:null,abuse_alcohol_flag:null,abuse_drugs_flag:null,abuse_others_flag:null,abuse_drugs_remarks:null,abuse_others_remarks:null,abused_as_child_flag:null,abused_as_spouse_flag:null,spouse_abuser_flag:null,family_violence_flag:null,criminal_conviction_similar_flag:null,criminal_conviction_other_flag:null,criminal_record_unknown_flag:null,criminal_barangay_flag:null,criminal_barangay_remarks:null})}loadLibraries(){const t=this.http.get("libraries/occupations"),n=this.http.get("libraries/child-relation"),_=this.http.get("libraries/gbv-perpetrator-location"),l=this.http.get("libraries/education");(0,I.D)([t,n,_,l]).subscribe({next:([r,s,g,y])=>{this.occupations=r.data,this.child_relations=s.data,this.perpetrator_locations=g.data,this.educations=y.data,console.log(y),this.createForm()},error:r=>console.log(r)})}createForm(){this.perpetratorForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],intake_id:[this.intake_id],gender:[null],lgbtq_flag:[!1],perpetrator_unknown_flag:[!1],perpetrator_name:[null],perpetrator_nickname:[null],perpetrator_age:[null],occupation_code:[null],education_code:[null],known_to_child_flag:[!1],relation_to_child_id:[null],location_id:[null],perpetrator_address:[null],perpetrator_current_address:[null],abuse_alcohol_flag:[!1],abuse_drugs_flag:[!1],abuse_others_flag:[!1],abuse_drugs_remarks:[null],abuse_others_remarks:[null],abused_as_child_flag:[!1],abused_as_spouse_flag:[!1],spouse_abuser_flag:[!1],family_violence_flag:[!1],criminal_conviction_similar_flag:[!1],criminal_conviction_other_flag:[!1],criminal_record_unknown_flag:[!1],criminal_barangay_flag:[!1],criminal_barangay_remarks:[null]}),this.selected_perpetrator.data?this.patchData():this.show_form=!0}patchData(){console.log(this.selected_perpetrator),this.perpetratorForm.patchValue({...this.selected_perpetrator.data}),this.show_form=!0}closeModal(){this.toggleModal.emit("perpetrators")}get f(){return this.perpetratorForm.controls}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.genders=[{id:"M",desc:"Male"},{id:"F",desc:"Female"}],this.perpetratorForm=function ue(){return new o.cw({id:new o.NI(null),patient_id:new o.NI(null),intake_id:new o.NI(null),gender:new o.NI(null),lgbtq_flag:new o.NI(null),perpetrator_unknown_flag:new o.NI(null),perpetrator_name:new o.NI(null),perpetrator_nickname:new o.NI(null),perpetrator_age:new o.NI(null),occupation_code:new o.NI(null),education_code:new o.NI(null),known_to_child_flag:new o.NI(null),relation_to_child_id:new o.NI(null),location_id:new o.NI(null),perpetrator_address:new o.NI(null),perpetrator_current_address:new o.NI(null),abuse_alcohol_flag:new o.NI(null),abuse_drugs_flag:new o.NI(null),abuse_others_flag:new o.NI(null),abuse_drugs_remarks:new o.NI(null),abuse_others_remarks:new o.NI(null),abused_as_child_flag:new o.NI(null),abused_as_spouse_flag:new o.NI(null),spouse_abuser_flag:new o.NI(null),family_violence_flag:new o.NI(null),criminal_conviction_similar_flag:new o.NI(null),criminal_conviction_other_flag:new o.NI(null),criminal_record_unknown_flag:new o.NI(null),criminal_barangay_flag:new o.NI(null),criminal_barangay_remarks:new o.NI(null)})}()}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-perpetrators"]],inputs:{selected_perpetrator:"selected_perpetrator",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:16,vars:6,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[500px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1  mt-32",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","gender",3,"ngClass"],["name","gender","id","gender","formControlName","gender",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-2","mt-7"],["type","checkbox","id","lgbtq_flag","formControlName","lgbtq_flag",1,"input-checkbox"],["for","lgbtq_flag",1,"pl-3","py-0.5"],[1,"col-span-4","mt-7"],["type","checkbox","id","perpetrator_unknown_flag","formControlName","perpetrator_unknown_flag",1,"input-checkbox"],["for","perpetrator_unknown_flag",1,"pl-3","py-0.5"],["class","col-span-4 grid grid-cols-2 gap-4",4,"ngIf"],[3,"value"],[1,"col-span-4","grid","grid-cols-2","gap-4"],["for","perpetrator_name",3,"ngClass"],["type","text","name","perpetrator_name","id","perpetrator_name","formControlName","perpetrator_name",1,"input",3,"ngClass"],["for","perpetrator_nickname",3,"ngClass"],["type","text","name","perpetrator_nickname","id","perpetrator_nickname","formControlName","perpetrator_nickname",1,"input",3,"ngClass"],["for","perpetrator_age",3,"ngClass"],["type","number","name","perpetrator_age","id","perpetrator_age","formControlName","perpetrator_age",1,"input",3,"ngClass"],["for","occupation_code",3,"ngClass"],["name","occupation_code","id","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],["for","education_code",3,"ngClass"],["name","education_code","id","education_code","formControlName","education_code",1,"input",3,"ngClass"],["type","checkbox","formControlName","known_to_child_flag",1,"input-checkbox"],["for","known_to_child_flag",1,"pl-3","py-0.5"],["for","relation_to_child_id",3,"ngClass"],["name","relation_to_child_id","id","relation_to_child_id","formControlName","relation_to_child_id",1,"input",3,"ngClass"],["for","location_id",3,"ngClass"],["name","location_id","id","location_id","formControlName","location_id",1,"input",3,"ngClass"],["for","perpetrator_address",3,"ngClass"],["type","text","name","perpetrator_address","id","perpetrator_address","formControlName","perpetrator_address",1,"input",3,"ngClass"],["for","perpetrator_current_address",3,"ngClass"],["type","text","name","perpetrator_current_address","id","perpetrator_current_address","formControlName","perpetrator_current_address",1,"input",3,"ngClass"],[1,"col-span-2","text-sky-500","font-semibold"],[1,"col-span-2","grid","grid-cols-4","gap-4"],["type","checkbox","formControlName","abuse_alcohol_flag",1,"input-checkbox"],["for","abuse_alcohol_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abuse_drugs_flag",1,"input-checkbox"],["for","abuse_drugs_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abuse_others_flag",1,"input-checkbox"],["for","abuse_others_flag",1,"pl-3","py-0.5"],["for","abuse_drugs_remarks",3,"ngClass"],["type","text","name","abuse_drugs_remarks","id","abuse_drugs_remarks","formControlName","abuse_drugs_remarks",1,"input",3,"ngClass"],["for","abuse_others_remarks",3,"ngClass"],["type","text","name","abuse_others_remarks","id","abuse_others_remarks","formControlName","abuse_others_remarks",1,"input",3,"ngClass"],[1,"col-span-2","grid","grid-cols-3","gap-4"],["type","checkbox","formControlName","abused_as_child_flag",1,"input-checkbox"],["for","abused_as_child_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","abused_as_spouse_flag",1,"input-checkbox"],["for","abused_as_spouse_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","spouse_abuser_flag",1,"input-checkbox"],["for","spouse_abuser_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","family_violence_flag",1,"input-checkbox"],["for","family_violence_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_conviction_similar_flag",1,"input-checkbox"],["for","criminal_conviction_similar_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_conviction_other_flag",1,"input-checkbox"],["for","criminal_conviction_other_flag",1,"pl-3","py-0.5"],["type","checkbox","formControlName","criminal_barangay_flag",1,"input-checkbox"],["for","criminal_barangay_flag",1,"pl-3","py-0.5"],["for","criminal_barangay_remarks",3,"ngClass"],["type","text","name","criminal_barangay_remarks","id","criminal_barangay_remarks","formControlName","criminal_barangay_remarks",1,"input",3,"ngClass"],[1,"grid","grid-cols-1","mt-32"],[1,"flex","justify-center","text-sky-500"],["spin","true",1,"",3,"icon"],[1,"flex","justify-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Alleged Perpetrator Details "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Ze,16,9,"form",6),e.YNc(8,xe,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&t&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(4),e.Q6J("disabled",n.is_saving||n.perpetratorForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave)("spin",n.is_saving),e.xp6(1),e.hij(" ",n.perpetratorForm.value.id?n.is_saving?"Updating":"Update":n.is_saving?"Saving":"Save"," "))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function Te(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function we(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Te,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.case_date.errors?null:t.f.case_date.errors.required)}}function ye(i,a){1&i&&(e.TgZ(0,"div",113)(1,"label",114),e._uU(2,"Other Abuses"),e.qZA(),e._UZ(3,"input",115),e.qZA())}function Ce(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}const v=function(i){return{"text-red-500":i}};function qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",116),e._uU(2,"Region"),e.qZA(),e.TgZ(3,"select",117),e.NdJ("change",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.loadDemog("regions",_.intakeForm.value.region,"provinces"))}),e.YNc(4,Ce,2,2,"option",45),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,v,t.show_error&&t.f.region.errors)),e.xp6(3),e.Q6J("ngForOf",t.regions)}}function Ae(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}const b=function(i){return{"invalid-input":i}};function ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",119),e._uU(2,"Province"),e.qZA(),e.TgZ(3,"select",120),e.NdJ("change",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.loadDemog("provinces",_.intakeForm.value.province,"municipalities"))}),e.YNc(4,Ae,2,2,"option",45),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,v,t.show_error&&t.f.province.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,b,t.show_error&&t.f.province.errors)),e.xp6(1),e.Q6J("ngForOf",t.provinces)}}function Ie(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Ue(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",121),e._uU(2,"Municipality"),e.qZA(),e.TgZ(3,"select",122),e.NdJ("change",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.loadDemog("municipalities",_.intakeForm.value.municipality,"barangays"))}),e.YNc(4,Ie,2,2,"option",45),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,v,t.show_error&&t.f.municipality.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,b,t.show_error&&t.f.municipality.errors)),e.xp6(1),e.Q6J("ngForOf",t.municipalities)}}function Ne(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Je(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function Qe(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Je,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.barangay_code.errors?null:t.f.barangay_code.errors.required)}}function Me(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",123),e._uU(2,"Barangay"),e.qZA(),e.TgZ(3,"select",124),e.YNc(4,Ne,2,2,"option",45),e.qZA(),e.YNc(5,Qe,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(4,v,t.show_error&&t.f.barangay_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,b,t.show_error&&t.f.barangay_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.barangays),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.barangay_code.errors)}}function Fe(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function Ye(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Fe,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.address.errors?null:t.f.address.errors.required)}}function Oe(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"label",125),e._uU(2,"Address"),e.qZA(),e._UZ(3,"input",126),e.YNc(4,Ye,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,v,t.show_error&&t.f.address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,b,t.show_error&&t.f.address.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.address.errors)}}function Se(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function je(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Se,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.direction_to_address.errors?null:t.f.direction_to_address.errors.required)}}function Ge(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"label",127),e._uU(2,"Direction to address"),e.qZA(),e._UZ(3,"input",128),e.YNc(4,je,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,v,t.show_error&&t.f.direction_to_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,b,t.show_error&&t.f.direction_to_address.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.direction_to_address.errors)}}function Ee(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Ve(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Ee,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.guardian_name.errors?null:t.f.guardian_name.errors.required)}}function Ke(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function De(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,Ke,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.guardian_address.errors?null:t.f.guardian_address.errors.required)}}function Pe(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function He(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Le(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,He,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.relation_to_child_id.errors?null:t.f.relation_to_child_id.errors.required)}}function $e(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function Re(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,$e,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.guardian_contact_info.errors?null:t.f.guardian_contact_info.errors.required)}}function Be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",129),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("add_family"))}),e._UZ(1,"fa-icon",130),e._uU(2,"Add "),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function We(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",131)(1,"td",132)(2,"fa-icon",133),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.toggleModal("add_family",l))}),e.qZA()(),e.TgZ(3,"td",132),e._uU(4),e.qZA(),e.TgZ(5,"td",132),e._uU(6),e.qZA(),e.TgZ(7,"td",132),e._uU(8),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.age," | ",t.gender," "),e.xp6(2),e.hij(" ",t.relation.desc," ")}}function ze(i,a){1&i&&(e.TgZ(0,"tr",131)(1,"td",134)(2,"div",135)(3,"div",136),e._uU(4,"No records to show..."),e.qZA()()()())}function Xe(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function et(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function tt(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,et,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.economic_status_id.errors?null:t.f.economic_status_id.errors.required)}}function it(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function nt(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,it,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.number_of_children.errors?null:t.f.number_of_children.errors.required)}}function at(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function ot(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,at,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.number_of_individual_members.errors?null:t.f.number_of_individual_members.errors.required)}}function _t(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function lt(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,_t,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.number_of_family.errors?null:t.f.number_of_family.errors.required)}}function rt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",137)(1,"div",138)(2,"input",139),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.incestCase())}),e.qZA(),e.TgZ(3,"label",140),e._uU(4,"is this an incest case?"),e.qZA()()()}}function st(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function dt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ct(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,dt,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.abuse_living_arrangement_id.errors?null:t.f.abuse_living_arrangement_id.errors.required)}}function pt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ut(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,pt,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.abuse_living_arrangement_remarks.errors?null:t.f.abuse_living_arrangement_remarks.errors.required)}}function gt(i,a){if(1&i&&(e.TgZ(0,"option",118),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function mt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ft(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,mt,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.present_living_arrangement_id.errors?null:t.f.present_living_arrangement_id.errors.required)}}function vt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function bt(i,a){if(1&i&&(e.TgZ(0,"div",112),e.YNc(1,vt,2,1,"div",34),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.present_living_arrangement_remarks.errors?null:t.f.present_living_arrangement_remarks.errors.required)}}function ht(i,a){if(1&i&&(e.TgZ(0,"div",141)(1,"div",70),e._uU(2," Sleeping and living arrangement for incest cases "),e.qZA(),e.TgZ(3,"div",8)(4,"div",71),e._uU(5," Same bed/mat with (check all that applies) "),e.qZA(),e.TgZ(6,"div",72)(7,"div"),e._UZ(8,"input",142),e.TgZ(9,"label",33),e._uU(10,"Adult male"),e.qZA()(),e.TgZ(11,"div"),e._UZ(12,"input",143),e.TgZ(13,"label",33),e._uU(14,"Adult female"),e.qZA()(),e.TgZ(15,"div"),e._UZ(16,"input",144),e.TgZ(17,"label",33),e._uU(18,"Male child(ren)"),e.qZA()(),e.TgZ(19,"div"),e._UZ(20,"input",145),e.TgZ(21,"label",33),e._uU(22,"Female child(ren)"),e.qZA()()(),e.TgZ(23,"div",71),e._uU(24," Same room with (check all that applies) "),e.qZA(),e.TgZ(25,"div",72)(26,"div"),e._UZ(27,"input",146),e.TgZ(28,"label",33),e._uU(29,"Adult male"),e.qZA()(),e.TgZ(30,"div"),e._UZ(31,"input",147),e.TgZ(32,"label",33),e._uU(33,"Adult female"),e.qZA()(),e.TgZ(34,"div"),e._UZ(35,"input",148),e.TgZ(36,"label",33),e._uU(37,"Male child(ren)"),e.qZA()(),e.TgZ(38,"div"),e._UZ(39,"input",149),e.TgZ(40,"label",33),e._uU(41,"Female child(ren)"),e.qZA()()(),e.TgZ(42,"div",9)(43,"label",150),e._uU(44,"Living arrangement at time of abuse"),e.qZA(),e.TgZ(45,"select",151),e.YNc(46,st,2,2,"option",45),e.qZA(),e.YNc(47,ct,2,1,"div",14),e.qZA(),e.TgZ(48,"div",9)(49,"label",152),e._uU(50,"Location"),e.qZA(),e._UZ(51,"input",153),e.YNc(52,ut,2,1,"div",14),e.qZA(),e.TgZ(53,"div",9)(54,"label",154),e._uU(55,"Living arrangement at present"),e.qZA(),e.TgZ(56,"select",155),e.YNc(57,gt,2,2,"option",45),e.qZA(),e.YNc(58,ft,2,1,"div",14),e.qZA(),e.TgZ(59,"div",9)(60,"label",156),e._uU(61,"Location"),e.qZA(),e._UZ(62,"input",157),e.YNc(63,bt,2,1,"div",14),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(43),e.Q6J("ngClass",e.VKq(14,v,t.show_error&&t.f.abuse_living_arrangement_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,b,t.show_error&&t.f.abuse_living_arrangement_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.living_arrangements),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.abuse_living_arrangement_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(18,v,t.show_error&&t.f.abuse_living_arrangement_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(20,b,t.show_error&&t.f.abuse_living_arrangement_remarks.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.abuse_living_arrangement_remarks.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(22,v,t.show_error&&t.f.present_living_arrangement_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(24,b,t.show_error&&t.f.present_living_arrangement_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.living_arrangements),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.present_living_arrangement_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(26,v,t.show_error&&t.f.present_living_arrangement_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(28,b,t.show_error&&t.f.present_living_arrangement_remarks.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.present_living_arrangement_remarks.errors)}}function Zt(i,a){1&i&&(e.TgZ(0,"div",50)(1,"span",161),e._uU(2," No records to show "),e.qZA()())}function xt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," | LGBTQ"),e.qZA())}function Tt(i,a){if(1&i&&(e.TgZ(0,"span")(1,"span",173),e._uU(2,"Permanent:"),e.qZA(),e._UZ(3,"br"),e._uU(4),e._UZ(5,"br")(6,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.perpetrator_address,"")}}function wt(i,a){if(1&i&&(e.TgZ(0,"span")(1,"span",173),e._uU(2,"Current:"),e.qZA(),e._UZ(3,"br"),e._uU(4),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.perpetrator_current_address," ")}}function yt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function Ct(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," Alcohol "),e._UZ(2,"br")(3,"br"),e.qZA())}function qt(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Drugs: "),e.TgZ(2,"span",174),e._uU(3),e.qZA(),e._UZ(4,"br")(5,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.abuse_drugs_remarks)}}function At(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Others: "),e.TgZ(2,"span",174),e._uU(3),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.abuse_others_remarks)}}function kt(i,a){1&i&&(e.TgZ(0,"span",175),e._uU(1," Abuse"),e._UZ(2,"br"),e.qZA())}function It(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Abused as a child"),e._UZ(2,"br"),e.qZA())}function Ut(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Abused as a spouse"),e._UZ(2,"br"),e.qZA())}function Nt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Spouse abuser"),e._UZ(2,"br"),e.qZA())}function Jt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Witness family violence"),e._UZ(2,"br"),e.qZA())}function Qt(i,a){1&i&&(e.TgZ(0,"span",175),e._UZ(1,"br"),e._uU(2," Criminal"),e._UZ(3,"br"),e.qZA())}function Mt(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Previous conviction for similar offense"),e._UZ(2,"br"),e.qZA())}function Ft(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Previous conviction for other offense"),e._UZ(2,"br"),e.qZA())}function Yt(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," - Others: "),e.TgZ(2,"span",174),e._uU(3),e.qZA(),e._UZ(4,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.criminal_barangay_remarks)}}function Ot(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",167)(1,"td",168)(2,"fa-icon",133),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(4);return e.KtG(r.toggleModal("perpetrators",l))}),e.qZA()(),e.TgZ(3,"td",168),e._uU(4),e._UZ(5,"br"),e._uU(6),e.YNc(7,xt,2,0,"span",34),e._uU(8," ) "),e.qZA(),e.TgZ(9,"td",169),e.YNc(10,Tt,7,1,"span",34),e.YNc(11,wt,5,1,"span",34),e.qZA(),e.TgZ(12,"td",170),e.YNc(13,yt,2,0,"span",34),e.YNc(14,Ct,4,0,"span",34),e.YNc(15,qt,6,1,"span",34),e.YNc(16,At,4,1,"span",34),e.qZA(),e.TgZ(17,"td",171),e.YNc(18,kt,3,0,"span",172),e.YNc(19,It,3,0,"span",34),e.YNc(20,Ut,3,0,"span",34),e.YNc(21,Nt,3,0,"span",34),e.YNc(22,Jt,3,0,"span",34),e.YNc(23,Qt,4,0,"span",172),e.YNc(24,Mt,3,0,"span",34),e.YNc(25,Ft,3,0,"span",34),e.YNc(26,Yt,5,1,"span",34),e.qZA(),e._UZ(27,"td"),e.qZA()}if(2&i){const t=a.$implicit,n=e.oxw(4);let _;e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(2),e.hij(" ",null!==(_=t.perpetrator_name)&&void 0!==_?_:"-"," "),e.xp6(2),e.AsE(" ( ",t.perpetrator_age," | ",t.gender?"M"===t.gender?"Male":"Female":"-"," "),e.xp6(1),e.Q6J("ngIf",t.lgbtq_flag),e.xp6(3),e.Q6J("ngIf",t.perpetrator_address),e.xp6(1),e.Q6J("ngIf",t.perpetrator_current_address),e.xp6(2),e.Q6J("ngIf",!t.abuse_alcohol_flag&&!t.abuse_drugs_flag&&!t.abuse_others_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_alcohol_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_drugs_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_others_flag),e.xp6(2),e.Q6J("ngIf",t.abused_as_child_flag||t.abused_as_spouse_flag||t.spouse_abuser_flag||t.family_violence_flag),e.xp6(1),e.Q6J("ngIf",t.abused_as_child_flag),e.xp6(1),e.Q6J("ngIf",t.abused_as_spouse_flag),e.xp6(1),e.Q6J("ngIf",t.spouse_abuser_flag),e.xp6(1),e.Q6J("ngIf",t.family_violence_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_similar_flag||t.criminal_conviction_other_flag||t.criminal_barangay_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_similar_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_other_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_barangay_flag)}}function St(i,a){if(1&i&&(e.TgZ(0,"table",162)(1,"thead")(2,"tr"),e._UZ(3,"td",163),e.TgZ(4,"td",164),e._uU(5," Name"),e._UZ(6,"br"),e._uU(7," (Age | Gender)"),e._UZ(8,"br")(9,"br"),e.qZA(),e.TgZ(10,"td",165),e._uU(11," Address "),e.qZA(),e.TgZ(12,"td",165),e._uU(13," Substance abuse "),e.qZA(),e.TgZ(14,"td",164),e._uU(15," History "),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Ot,28,20,"tr",166),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(17),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function jt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",57),e._uU(2," Perpetrator (s) "),e.qZA(),e.TgZ(3,"div",158)(4,"div",48)(5,"spa"),e._uU(6,"Alleged Perpetrator"),e.qZA(),e.TgZ(7,"button",129),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("perpetrators"))}),e._UZ(8,"fa-icon",130),e.qZA()(),e.YNc(9,Zt,3,0,"div",159),e.YNc(10,St,18,1,"table",160),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("icon",t.faPlus),e.xp6(1),e.Q6J("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.interview_perpetrator)),e.xp6(1),e.Q6J("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function Gt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e.TgZ(3,"div",6)(4,"div",7),e._uU(5," Case Details "),e.qZA(),e.TgZ(6,"div",8)(7,"div",9)(8,"label",10),e._uU(9,"Case Number"),e.qZA(),e._UZ(10,"input",11),e.qZA(),e.TgZ(11,"div",9)(12,"label",12),e._uU(13,"Date"),e.qZA(),e._UZ(14,"input",13),e.YNc(15,we,2,1,"div",14),e.qZA()()(),e.TgZ(16,"div",6)(17,"div",7),e._uU(18," Primary Complaint "),e.qZA(),e.TgZ(19,"div",15)(20,"div",9),e._UZ(21,"input",16),e.TgZ(22,"label",17),e._uU(23,"Physical Abuse"),e.qZA()(),e.TgZ(24,"div",9)(25,"input",18),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.sexualAbuse())}),e.qZA(),e.TgZ(26,"label",19),e._uU(27,"Sexual Abuse"),e.qZA()(),e.TgZ(28,"div",9),e._UZ(29,"input",20),e.TgZ(30,"label",21),e._uU(31,"Neglects"),e.qZA()(),e.TgZ(32,"div",9),e._UZ(33,"input",22),e.TgZ(34,"label",23),e._uU(35,"Emotional/Psychological Abuse"),e.qZA()(),e.TgZ(36,"div",9),e._UZ(37,"input",24),e.TgZ(38,"label",25),e._uU(39,"Economic Abuse"),e.qZA()(),e.TgZ(40,"div",9),e._UZ(41,"input",26),e.TgZ(42,"label",27),e._uU(43,"Unable to Validate"),e.qZA()(),e.TgZ(44,"div",9),e._UZ(45,"input",28),e.TgZ(46,"label",29),e._uU(47,"Others"),e.qZA()(),e.YNc(48,ye,4,0,"div",30),e.qZA()(),e.TgZ(49,"div",6)(50,"div",7),e._uU(51," Present Address "),e.qZA(),e.TgZ(52,"div",31),e._UZ(53,"input",32),e.TgZ(54,"label",33),e._uU(55,"Is the clients present addresss same with the declared address?"),e.qZA()(),e.TgZ(56,"div",15),e.YNc(57,qe,5,4,"div",34),e.YNc(58,ke,5,7,"div",34),e.YNc(59,Ue,5,7,"div",34),e.YNc(60,Me,6,8,"div",34),e.YNc(61,Oe,5,7,"div",35),e.YNc(62,Ge,5,7,"div",35),e.TgZ(63,"div",36)(64,"div",37),e._uU(65," Guardian Information "),e.qZA(),e.TgZ(66,"div",38)(67,"div",9)(68,"label",39),e._uU(69,"Parent/caregiver/guardian name"),e.qZA(),e._UZ(70,"input",40),e.YNc(71,Ve,2,1,"div",14),e.qZA(),e.TgZ(72,"div",9)(73,"label",41),e._uU(74,"Address"),e.qZA(),e._UZ(75,"input",42),e.YNc(76,De,2,1,"div",14),e.qZA(),e.TgZ(77,"div",9)(78,"label",43),e._uU(79,"Relation to child"),e.qZA(),e.TgZ(80,"select",44),e.YNc(81,Pe,2,2,"option",45),e.qZA(),e.YNc(82,Le,2,1,"div",14),e.qZA(),e.TgZ(83,"div",9)(84,"label",46),e._uU(85,"Contact No. (0912) 354-6789"),e.qZA(),e._UZ(86,"input",47),e.YNc(87,Re,2,1,"div",14),e.qZA()()(),e.TgZ(88,"div",36)(89,"div",48)(90,"spa"),e._uU(91,"Family Composition"),e.qZA(),e.YNc(92,Be,3,1,"button",49),e.qZA(),e.TgZ(93,"div",50)(94,"table",51)(95,"thead",52)(96,"tr"),e._UZ(97,"th",53),e.TgZ(98,"th",53),e._uU(99,"Name"),e.qZA(),e.TgZ(100,"th",53),e._uU(101,"Age | Gender"),e.qZA(),e.TgZ(102,"th",53),e._uU(103,"Relation"),e.qZA()()(),e.TgZ(104,"tbody"),e.YNc(105,We,9,5,"tr",54),e.YNc(106,ze,5,0,"tr",55),e.qZA()()()()()(),e.TgZ(107,"div",56)(108,"div",57),e._uU(109," Socio-economic Status "),e.qZA(),e.TgZ(110,"div",8)(111,"div",9)(112,"label",58),e._uU(113,"Economic status"),e.qZA(),e.TgZ(114,"select",59),e.YNc(115,Xe,2,2,"option",45),e.qZA(),e.YNc(116,tt,2,1,"div",14),e.qZA(),e.TgZ(117,"div",9)(118,"label",60),e._uU(119,"No. of children"),e.qZA(),e._UZ(120,"input",61),e.YNc(121,nt,2,1,"div",14),e.qZA(),e.TgZ(122,"div",9)(123,"label",62),e._uU(124,"No. of individual family members"),e.qZA(),e._UZ(125,"input",63),e.YNc(126,ot,2,1,"div",14),e.qZA(),e.TgZ(127,"div",9)(128,"label",64),e._uU(129,"No. of family in household"),e.qZA(),e._UZ(130,"input",65),e.YNc(131,lt,2,1,"div",14),e.qZA()()(),e.YNc(132,rt,5,0,"div",66),e.YNc(133,ht,64,30,"div",67),e.YNc(134,jt,11,3,"div",68),e.TgZ(135,"div",69)(136,"div",70),e._uU(137," Additional Information to be gathered by the WCPD "),e.qZA(),e.TgZ(138,"div",8)(139,"div",71),e._uU(140," Violence Against Women "),e.qZA(),e.TgZ(141,"div",72)(142,"div"),e._UZ(143,"input",73),e.TgZ(144,"label",74),e._uU(145,"Physical"),e.qZA()(),e.TgZ(146,"div"),e._UZ(147,"input",75),e.TgZ(148,"label",76),e._uU(149,"Sexual"),e.qZA()(),e.TgZ(150,"div"),e._UZ(151,"input",77),e.TgZ(152,"label",78),e._uU(153,"Psychological"),e.qZA()(),e.TgZ(154,"div"),e._UZ(155,"input",79),e.TgZ(156,"label",80),e._uU(157,"Economic"),e.qZA()()(),e.TgZ(158,"div",71),e._uU(159," Sexual Abuse "),e.qZA(),e.TgZ(160,"div",72)(161,"div"),e._UZ(162,"input",81),e.TgZ(163,"label",82),e._uU(164,"Sexual Intercourse"),e.qZA()(),e.TgZ(165,"div"),e._UZ(166,"input",83),e.TgZ(167,"label",84),e._uU(168,"Sexual Assault"),e.qZA()(),e.TgZ(169,"div"),e._UZ(170,"input",85),e.TgZ(171,"label",86),e._uU(172,"Incest"),e.qZA()(),e.TgZ(173,"div"),e._UZ(174,"input",87),e.TgZ(175,"label",88),e._uU(176,"Statutory Rape"),e.qZA()(),e.TgZ(177,"div"),e._UZ(178,"input",89),e.TgZ(179,"label",90),e._uU(180,"Marital Rape"),e.qZA()()(),e.TgZ(181,"div",71),e._uU(182," Sexual Harassment "),e.qZA(),e.TgZ(183,"div",72)(184,"div"),e._UZ(185,"input",91),e.TgZ(186,"label",92),e._uU(187,"Verbal"),e.qZA()(),e.TgZ(188,"div"),e._UZ(189,"input",93),e.TgZ(190,"label",94),e._uU(191,"Physical"),e.qZA()(),e.TgZ(192,"div",9),e._UZ(193,"input",95),e.TgZ(194,"label",96),e._uU(195,"Use of object, picture, letter, notes with sexual underpinnings"),e.qZA()()(),e.TgZ(196,"div",71),e._uU(197," Child abuse, exploitation and discrimination "),e.qZA(),e.TgZ(198,"div",72)(199,"div",9),e._UZ(200,"input",97),e.TgZ(201,"label",98),e._uU(202,"Engage, facilitate, commit child prostitution"),e.qZA()(),e.TgZ(203,"div",9),e._UZ(204,"input",99),e.TgZ(205,"label",100),e._uU(206,"Sexual intercourse or lasciviousness conduct"),e.qZA()(),e.TgZ(207,"div"),e._UZ(208,"input",101),e.TgZ(209,"label",102),e._uU(210,"Physical"),e.qZA()(),e.TgZ(211,"div"),e._UZ(212,"input",103),e.TgZ(213,"label",104),e._uU(214,"Emotional"),e.qZA()(),e.TgZ(215,"div"),e._UZ(216,"input",105),e.TgZ(217,"label",106),e._uU(218,"Economic"),e.qZA()()(),e.TgZ(219,"div",9)(220,"label",107),e._uU(221,"Others: Specify"),e.qZA(),e._UZ(222,"input",108),e.qZA()()(),e.TgZ(223,"div",109)(224,"button",110),e._UZ(225,"fa-icon",111),e._uU(226),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.intakeForm),e.xp6(10),e.Q6J("ngClass",e.VKq(51,v,t.show_error&&t.f.case_date.errors)),e.xp6(2),e.Q6J("max",t.max_date)("ngClass",e.VKq(53,b,t.show_error&&t.f.case_date.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.case_date.errors),e.xp6(33),e.Q6J("ngIf",t.intakeForm.value.others_abuse_flag),e.xp6(9),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(1),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(1),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(1),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(1),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(1),e.Q6J("ngIf",!t.intakeForm.value.same_address_flag),e.xp6(6),e.Q6J("ngClass",e.VKq(55,v,t.show_error&&t.f.guardian_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(57,b,t.show_error&&t.f.guardian_name.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.guardian_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(59,v,t.show_error&&t.f.guardian_address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(61,b,t.show_error&&t.f.guardian_address.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.guardian_address.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(63,v,t.show_error&&t.f.relation_to_child_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(65,b,t.show_error&&t.f.relation_to_child_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.child_relations),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.relation_to_child_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(67,v,t.show_error&&t.f.guardian_contact_info.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(69,b,t.show_error&&t.f.guardian_contact_info.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.guardian_contact_info.errors),e.xp6(5),e.Q6J("ngIf",t.intakeForm.value.id),e.xp6(13),e.Q6J("ngForOf",t.family_members),e.xp6(1),e.Q6J("ngIf",!t.family_members),e.xp6(6),e.Q6J("ngClass",e.VKq(71,v,t.show_error&&t.f.economic_status_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(73,b,t.show_error&&t.f.economic_status_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.economic_statuses),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.economic_status_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(75,v,t.show_error&&t.f.number_of_children.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(77,b,t.show_error&&t.f.number_of_children.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.number_of_children.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(79,v,t.show_error&&t.f.number_of_individual_members.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(81,b,t.show_error&&t.f.number_of_individual_members.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.number_of_individual_members.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(83,v,t.show_error&&t.f.number_of_family.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(85,b,t.show_error&&t.f.number_of_family.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.number_of_family.errors),e.xp6(1),e.Q6J("ngIf",t.intakeForm.value.sexual_abuse_flag),e.xp6(1),e.Q6J("ngIf",t.intakeForm.value.incest_case_flag),e.xp6(1),e.Q6J("ngIf",t.intakeForm.value.id),e.xp6(86),e.Q6J("ngClass",e.VKq(87,v,t.show_error&&t.f.wcpd_others.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(89,b,t.show_error&&t.f.wcpd_others.errors)),e.xp6(2),e.Q6J("disabled",t.is_saving),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.intakeForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Et(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-family-composition",176),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.selected_gbv_case.patient_id)("patient_gbv_id",t.selected_gbv_case.id)("selected_member",t.selected_member)}}function Vt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-perpetrators",177),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_perpetrator",t.selected_perpetrator)("intake_id",t.intakeForm.value.id)("patient_id",t.selected_gbv_case.patient_id)}}let Kt=(()=>{class i{onSubmit(){let t;console.log(this.intakeForm.value),this.intakeForm.value.others_abuse_flag||this.intakeForm.patchValue({others_abuse_remarks:null}),t=this.intakeForm.value.id?this.http.update("gender-based-violence/patient-gbv-intake/",this.intakeForm.value.id,this.intakeForm.value):this.http.post("gender-based-violence/patient-gbv-intake",this.intakeForm.value),t.subscribe({next:n=>{this.toastr.success("Successfully recorded!","Intake Form"),this.reloadData()},error:n=>console.log(n)})}loadLibraries(){this.libraries.forEach((t,n)=>{this.http.get("libraries/"+t.location).subscribe({next:_=>{this[t.var_name]=_.data,this.libraries.length-1===n&&(this.show_form=!0)},error:_=>console.log(_)})})}loadSelectedConsult(){this.intakeForm.controls.case_number.disable(),"WCPD"!==this.pos&&(this.f.vaw_physical_flag.disable(),this.f.vaw_sexual_flag.disable(),this.f.vaw_psychological_flag.disable(),this.f.vaw_economic_flag.disable(),this.f.rape_sex_intercourse_flag.disable(),this.f.rape_sex_assault_flag.disable(),this.f.rape_incest_flag.disable(),this.f.rape_statutory_flag.disable(),this.f.rape_marital_flag.disable(),this.f.harassment_verbal_flag.disable(),this.f.harassment_physical_flag.disable(),this.f.harassment_object_flag.disable(),this.f.child_abuse_engaged_flag.disable(),this.f.child_abuse_sexual_flag.disable(),this.f.child_abuse_physical_flag.disable(),this.f.child_abuse_emotional_flag.disable(),this.f.child_abuse_economic_flag.disable(),this.f.wcpd_others.disable()),this.selected_gbv_case.gbvIntake?(console.log(this.selected_gbv_case.gbvIntake),this.intakeForm.patchValue({...this.selected_gbv_case.gbvIntake}),this.intakeForm.patchValue({case_date:this.selected_gbv_case.gbvIntake?(0,d.p6)(this.selected_gbv_case.gbvIntake.case_date,"yyyy-MM-dd","en"):null})):this.intakeForm.patchValue({patient_id:this.selected_gbv_case.patient_id,patient_gbv_id:this.selected_gbv_case.id}),console.log(this.intakeForm.value)}sexualAbuse(){this.intakeForm.value.sexual_abuse_flag&&this.intakeForm.patchValue({incest_case_flag:0})}incestCase(){this.intakeForm.value.incest_case_flag||this.intakeForm.patchValue({same_bed_adult_male_flag:null,same_bed_adult_female_flag:null,same_bed_child_male_flag:null,same_bed_child_female_flag:null,same_room_adult_male_flag:null,same_room_adult_female_flag:null,same_room_child_male_flag:null,same_room_child_female_flag:null,abuse_living_arrangement_id:null,abuse_living_arrangement_remarks:null,present_living_arrangement_id:null,present_living_arrangement_remarks:null})}reloadData(){let t={id:this.selected_gbv_case.id};console.log(t),this.http.get("gender-based-violence/patient-gbv",{params:t}).subscribe({next:n=>{console.log(n),this.selected_gbv_case=n.data[0],this.loadSelectedConsult(),this.updateSelectedGbv.emit(this.selected_gbv_case)},error:n=>console.log(n)})}loadFamily(){this.http.get("gender-based-violence/patient-gbv-family-composition",{params:{patient_id:this.patient_id}}).subscribe({next:n=>{this.family_members=n.data},error:n=>console.log(n)})}loadDemog(t,n,_){"0"!==n?this.http.get("libraries/"+t+"/"+n,{params:{include:_}}).subscribe({next:l=>{this[_]=l.data[_],this.disaledSelection(t,n)},error:l=>console.log(l)}):this.disaledSelection(t,n)}createForm(){this.intakeForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[null],consent_flag:[!1],consent_relation_to_child_id:[null],case_number:[null],case_date:[null],primary_complaint_id:[null],primary_complaint_remarks:[null],physical_abuse_flag:[!1],sexual_abuse_flag:[!1],neglect_abuse_flag:[!1],emotional_abuse_flag:[!1],economic_abuse_flag:[!1],utv_abuse_flag:[!1],others_abuse_flag:[!1],others_abuse_remarks:[null],neglect_remarks:[null],behavioral_remarks:[null],service_remarks:[null],region:[null],province:[null],municipality:[null],same_address_flag:[!1],barangay_code:[null],address:[null],direction_to_address:[null],guardian_name:[null],guardian_address:[null],relation_to_child_id:[null],guardian_contact_info:[null],economic_status_id:[null],number_of_children:[null],number_of_individual_members:[null],number_of_family:[null],incest_case_flag:[null],sleeping_arrangement_id:[null],sleeping_arrangement_remarks:[null],same_bed_adult_male_flag:[!1],same_bed_adult_female_flag:[!1],same_bed_child_male_flag:[!1],same_bed_child_female_flag:[!1],same_room_adult_male_flag:[!1],same_room_adult_female_flag:[!1],same_room_child_male_flag:[!1],same_room_child_female_flag:[!1],abuse_living_arrangement_id:[null],abuse_living_arrangement_remarks:[null],present_living_arrangement_id:[null],present_living_arrangement_remarks:[null],vaw_physical_flag:[!1],vaw_sexual_flag:[!1],vaw_psychological_flag:[!1],vaw_economic_flag:[!1],rape_sex_intercourse_flag:[!1],rape_sex_assault_flag:[!1],rape_incest_flag:[!1],rape_statutory_flag:[!1],rape_marital_flag:[!1],harassment_verbal_flag:[!1],harassment_physical_flag:[!1],harassment_object_flag:[!1],child_abuse_engaged_flag:[!1],child_abuse_sexual_flag:[!1],child_abuse_physical_flag:[!1],child_abuse_emotional_flag:[!1],child_abuse_economic_flag:[!1],wcpd_others:[null]}),this.loadSelectedConsult(),this.loadFamily()}disaledSelection(t,n){"regions"===t?(this.municipalities=null,this.barangays=null,this.f.province.enable(),this.f.municipality.disable(),this.f.barangay_code.disable(),this.f.address.disable()):"provinces"===t?(this.barangays=null,this.f.municipality.enable(),this.f.barangay_code.disable(),this.f.address.disable()):"municipalities"===t&&(this.f.barangay_code.enable(),this.f.address.enable())}get f(){return this.intakeForm.controls}toggleModal(t,n){"perpetrators"===t?this.selected_perpetrator={act_title:"Perpetrator",data:n}:"add_family"===t&&(this.selected_member=n??null),this.modals[t]=!this.modals[t],"add_family"===t&&!this.modals[t]&&this.loadFamily(),"perpetrators"===t&&!this.modals[t]&&this.reloadData()}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.updateSelectedGbv=new e.vpe,this.faPlus=c.r8p,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.faEdit=m.Xcf,this.max_date=(0,d.p6)(new Date,"yyyy-MM-dd","en"),this.show_form=!0,this.modals=[],this.intakeForm=G(),this.libraries=[{var_name:"regions",location:"regions"},{var_name:"economic_statuses",location:"gbv-economic-status"},{var_name:"living_arrangements",location:"gbv-living-arrangement"},{var_name:"child_relations",location:"child-relation"}]}ngOnInit(){this.loadLibraries(),this.createForm()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-intake"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},decls:3,vars:3,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"patient_id","patient_gbv_id","selected_member","toggleModal",4,"ngIf"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","case_number"],["type","text","disabled","","name","case_number","id","case_number","formControlName","case_number",1,"input"],["for","case_date",3,"ngClass"],["type","date","name","case_date","id","case_date","formControlName","case_date",1,"input",3,"max","ngClass"],["class","invalid-alert",4,"ngIf"],[1,"mx-5","col-span-3","grid","grid-cols-4","gap-4"],["type","checkbox","id","physical_abuse_flag","formControlName","physical_abuse_flag",1,"input-checkbox"],["for","physical_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","sexual_abuse_flag","formControlName","sexual_abuse_flag",1,"input-checkbox",3,"click"],["for","sexual_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","neglect_abuse_flag","formControlName","neglect_abuse_flag",1,"input-checkbox"],["for","neglect_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","emotional_abuse_flag","formControlName","emotional_abuse_flag",1,"input-checkbox"],["for","emotional_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","economic_abuse_flag","formControlName","economic_abuse_flag",1,"input-checkbox"],["for","economic_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","utv_abuse_flag","formControlName","utv_abuse_flag",1,"input-checkbox"],["for","utv_abuse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","others_abuse_flag","formControlName","others_abuse_flag",1,"input-checkbox"],["for","others_abuse_flag",1,"pl-3","py-0.5"],["class","col-span-4",4,"ngIf"],[1,"col-span-3"],["type","checkbox","formControlName","same_address_flag","checked","",1,"input-checkbox","ml-3"],[1,"pl-3","py-0.5"],[4,"ngIf"],["class","col-span-2",4,"ngIf"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","pl-3","rounded-t-md"],[1,"grid","grid-cols-4","gap-4","mt-3","mb-5","mx-5"],["for","guardian_name",3,"ngClass"],["type","text","name","guardian_name","id","guardian_name","formControlName","guardian_name",1,"input",3,"ngClass"],["for","guardian_address",3,"ngClass"],["type","text","name","guardian_address","id","guardian_address","formControlName","guardian_address",1,"input",3,"ngClass"],["for","relation_to_child_id",3,"ngClass"],["name","relation_to_child_id","id","relation_to_child_id","formControlName","relation_to_child_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","guardian_contact_info",3,"ngClass"],["type","text","mask","(9999) 999-9999","name","guardian_contact_info","id","guardian_contact_info","formControlName","guardian_contact_info",1,"input",3,"showMaskTyped","ngClass"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],[1,"min-h-24"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-sky-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],["for","economic_status_id",3,"ngClass"],["name","economic_status_id","id","economic_status_id","formControlName","economic_status_id",1,"input",3,"ngClass"],["for","number_of_children",3,"ngClass"],["type","number","name","number_of_children","id","number_of_children","formControlName","number_of_children",1,"input",3,"ngClass"],["for","number_of_individual_members",3,"ngClass"],["type","number","name","number_of_individual_members","id","number_of_individual_members","formControlName","number_of_individual_members",1,"input",3,"ngClass"],["for","number_of_family",3,"ngClass"],["type","number","name","number_of_family","id","number_of_family","formControlName","number_of_family",1,"input",3,"ngClass"],["class","grid grid-cols-1 mt-5",4,"ngIf"],["class","-mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],[1,"mt-3","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-2","font-semibold","text-sky-500"],[1,"col-span-4","font-semibold"],[1,"col-span-4","grid","grid-cols-4","-mt-4"],["type","checkbox","id","vaw_physical_flag","formControlName","vaw_physical_flag",1,"input-checkbox"],["for","vaw_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_sexual_flag","formControlName","vaw_sexual_flag",1,"input-checkbox"],["for","vaw_sexual_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_psychological_flag","formControlName","vaw_psychological_flag",1,"input-checkbox"],["for","vaw_psychological_flag",1,"pl-3","py-0.5"],["type","checkbox","id","vaw_economic_flag","formControlName","vaw_economic_flag",1,"input-checkbox"],["for","vaw_economic_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_sex_intercourse_flag","formControlName","rape_sex_intercourse_flag",1,"input-checkbox"],["for","rape_sex_intercourse_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_sex_assault_flag","formControlName","rape_sex_assault_flag",1,"input-checkbox"],["for","rape_sex_assault_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_incest_flag","formControlName","rape_incest_flag",1,"input-checkbox"],["for","rape_incest_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_statutory_flag","formControlName","rape_statutory_flag",1,"input-checkbox"],["for","rape_statutory_flag",1,"pl-3","py-0.5"],["type","checkbox","id","rape_marital_flag","formControlName","rape_marital_flag",1,"input-checkbox"],["for","rape_marital_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_verbal_flag","formControlName","harassment_verbal_flag",1,"input-checkbox"],["for","harassment_verbal_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_physical_flag","formControlName","harassment_physical_flag",1,"input-checkbox"],["for","harassment_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","harassment_object_flag","formControlName","harassment_object_flag",1,"input-checkbox"],["for","harassment_object_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_engaged_flag","formControlName","child_abuse_engaged_flag",1,"input-checkbox"],["for","child_abuse_engaged_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_sexual_flag","formControlName","child_abuse_sexual_flag",1,"input-checkbox"],["for","child_abuse_sexual_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_physical_flag","formControlName","child_abuse_physical_flag",1,"input-checkbox"],["for","child_abuse_physical_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_emotional_flag","formControlName","child_abuse_emotional_flag",1,"input-checkbox"],["for","child_abuse_emotional_flag",1,"pl-3","py-0.5"],["type","checkbox","id","child_abuse_economic_flag","formControlName","child_abuse_economic_flag",1,"input-checkbox"],["for","child_abuse_economic_flag",1,"pl-3","py-0.5"],["for","wcpd_others",3,"ngClass"],["type","text","name","wcpd_others","id","wcpd_others","formControlName","wcpd_others",1,"input",3,"ngClass"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[1,"invalid-alert"],[1,"col-span-4"],["for","others_abuse_remarks"],["type","text","name","others_abuse_remarks","id","others_abuse_remarks","formControlName","others_abuse_remarks",1,"input"],["for","region",3,"ngClass"],["name","region","id","region","formControlName","region",1,"input",3,"change"],[3,"value"],["for","province",3,"ngClass"],["name","province","id","province","formControlName","province",1,"input",3,"ngClass","change"],["for","municipality",3,"ngClass"],["name","municipality","id","municipality","formControlName","municipality",1,"input",3,"ngClass","change"],["for","barangay_code",3,"ngClass"],["name","barangay_code","id","barangay_code","formControlName","barangay_code",1,"input",3,"ngClass"],["for","address",3,"ngClass"],["type","text","name","address","id","address","formControlName","address",1,"input",3,"ngClass"],["for","direction_to_address",3,"ngClass"],["type","text","name","direction_to_address","id","direction_to_address","formControlName","direction_to_address",1,"input",3,"ngClass"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],[1,"bg-white","border-b"],[1,"py-4","px-6"],[1,"hover:cursor-pointer","text-orange-500",3,"icon","click"],["colspan","7"],[1,"text-center","py-3","flex","flex-col"],[1,"flex","justify-center"],[1,"grid","grid-cols-1","mt-5"],[1,"text-sky-500","font-semibold"],["type","checkbox","name","incest_case_flag","id","incest_case_flag","formControlName","incest_case_flag",1,"input-checkbox",3,"click"],["for","incest_case_flag",1,"pl-3","py-0.5"],[1,"-mt-1","grid","grid-cols-4","gap-x-4","w-full"],["type","checkbox","formControlName","same_bed_adult_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_adult_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_child_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_bed_child_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_adult_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_adult_female_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_child_male_flag",1,"input-checkbox"],["type","checkbox","formControlName","same_room_child_female_flag",1,"input-checkbox"],["for","abuse_living_arrangement_id",3,"ngClass"],["name","abuse_living_arrangement_id","id","abuse_living_arrangement_id","formControlName","abuse_living_arrangement_id",1,"input",3,"ngClass"],["for","abuse_living_arrangement_remarks",3,"ngClass"],["type","text","name","abuse_living_arrangement_remarks","id","abuse_living_arrangement_remarks","formControlName","abuse_living_arrangement_remarks",1,"input",3,"ngClass"],["for","present_living_arrangement_id",3,"ngClass"],["name","present_living_arrangement_id","id","present_living_arrangement_id","formControlName","present_living_arrangement_id",1,"input",3,"ngClass"],["for","present_living_arrangement_remarks",3,"ngClass"],["type","text","name","present_living_arrangement_remarks","id","present_living_arrangement_remarks","formControlName","present_living_arrangement_remarks",1,"input",3,"ngClass"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"w-1/12"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center","align-top","pt-3"],[1,"align-top","pt-3"],[1,"font-semibold","italic","align-top","pt-3"],[1,"p-3"],["class","font-semibold",4,"ngIf"],[1,"italic","font-semibold"],[1,"font-normal","not-italic"],[1,"font-semibold"],[3,"patient_id","patient_gbv_id","selected_member","toggleModal"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal"]],template:function(t,n){1&t&&(e.YNc(0,Gt,227,91,"div",0),e.YNc(1,Et,1,3,"app-family-composition",1),e.YNc(2,Vt,1,3,"app-perpetrators",2)),2&t&&(e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",n.modals.add_family),e.xp6(1),e.Q6J("ngIf",n.modals.perpetrators))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN,E.Z6,pe,V]}),i})();function Pt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",17)(1,"td",18),e._uU(2),e.qZA(),e.TgZ(3,"td",19)(4,"input",20),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.abused_acts[1][r.id]=_)}),e.qZA()(),e.TgZ(5,"td",19)(6,"input",20),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.abused_acts[2][r.id]=_)}),e.qZA()(),e.TgZ(7,"td",19)(8,"input",20),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.abused_acts[3][r.id]=_)}),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(2),e.hij(" ",t.desc," "),e.xp6(2),e.Q6J("ngModel",n.abused_acts[1][t.id]),e.xp6(2),e.Q6J("ngModel",n.abused_acts[2][t.id]),e.xp6(2),e.Q6J("ngModel",n.abused_acts[3][t.id])}}function Ht(i,a){if(1&i&&(e.TgZ(0,"table",11)(1,"thead",12)(2,"tr")(3,"th",13),e._uU(4,"Act"),e.qZA(),e.TgZ(5,"th",14),e._uU(6,"Victim Survivor"),e.qZA(),e.TgZ(7,"th",14),e._uU(8,"Historian"),e.qZA(),e.TgZ(9,"th",14),e._uU(10,"Sworn Statement"),e.qZA()()(),e.TgZ(11,"tbody",15),e.YNc(12,Pt,9,4,"tr",16),e.qZA()()),2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.abuses)}}let Lt=(()=>{class i{onSubmit(){let t=[];Object.entries(this.abused_acts).forEach(([_,l],r)=>{Object.entries(l).forEach(([s,g],y)=>{g&&t.push({info_source_id:_,abused_id:s})})});let n={patient_id:this.patient_id,intake_id:this.intake_id,abused_array:t};console.log(n),this.http.post("gender-based-violence/"+this.selected_abused.save_url,n).subscribe({next:_=>{console.log(_),this.toastr.success("Successfully recorded",this.selected_abused.act_title),this.closeModal()},error:_=>console.log(_)})}loadLibraries(){this.http.get("libraries/"+this.selected_abused.url).subscribe({next:t=>{this.abuses=t.data,this.selected_abused.abused_data&&this.loadAbusedData()},error:t=>console.log(t)})}loadAbusedData(){Object.entries(this.selected_abused.abused_data).forEach(([t,n],_)=>{1===n.info_source_id&&(this.abused_acts[1][n[this.selected_abused.abused_id_name]]=!0),2===n.info_source_id&&(this.abused_acts[2][n[this.selected_abused.abused_id_name]]=!0),3===n.info_source_id&&(this.abused_acts[3][n[this.selected_abused.abused_id_name]]=!0)}),console.log(this.abused_acts)}closeModal(){this.toggleModal.emit("abuse_acts")}constructor(t,n){this.http=t,this.toastr=n,this.toggleModal=new e.vpe,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_error=!1,this.abused_acts={1:[],2:[],3:[]},this.abuses=[]}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-abuse-acts"]],inputs:{selected_abused:"selected_abused",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:15,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full text-sm text-left",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500","sticky","top-0"],["scope","col",1,"py-3","text-center","w-2/5"],["scope","col",1,"py-3","text-center","w-1/5"],[1,"h-96","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"py-4","text-center"],["type","checkbox",1,"input-checkbox",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Ht,13,1,"table",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return n.closeModal()}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(12,"fa-icon"),e._uU(13),e.qZA()()()()(),e._UZ(14,"div",10)),2&t&&(e.xp6(5),e.hij(" ",n.selected_abused.act_title," "),e.xp6(2),e.Q6J("ngIf",n.abuses),e.xp6(4),e.Q6J("disabled",n.is_saving),e.xp6(2),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,d.O5,o.Wl,o.JJ,o.On,u.BN]}),i})();function $t(i,a){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.perpetrator_unknown_flag?"Unknown":t.perpetrator_name)}}const J=function(i){return{"text-red-500":i}},Q=function(i){return{"invalid-input":i}};let Rt=(()=>{class i{onSubmit(){let t;console.log(this.interviewForm.value),this.interviewForm.patchValue({interview_datetime:(0,d.p6)(this.interviewForm.value.interview_datetime,"yyyy-MM-dd HH:mm:ss","en")}),t=this.interviewForm.value.id?this.http.update("gender-based-violence/patient-gbv-interview-summary/",this.interviewForm.value.id,this.interviewForm.value):this.http.post("gender-based-violence/patient-gbv-interview-summary",this.interviewForm.value),t.subscribe({next:n=>{console.log(n),this.toastr.success("Successfully recorded!","Interview Summary"),this.closeModal()}})}createForm(){this.interviewForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],intake_id:[this.intake_id],summary_type:[this.selected_notes.act_title],interview_datetime:[null],interview_place:[null],alleged_perpetrator:[null],interview_notes:[null]}),this.selected_notes.data&&this.patchData()}patchData(){this.interviewForm.patchValue({...this.selected_notes.data})}loadPerpetrators(){this.http.get("gender-based-violence/patient-gbv-perpetrator",{params:{intake_id:this.intake_id}}).subscribe({next:n=>{console.log(n),this.perpetrators=n.data,this.createForm()},error:n=>console.log(n)})}get f(){return this.interviewForm.controls}closeModal(){this.toggleModal.emit("interview_notes")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.is_saving=!1,this.show_error=!1,this.interviewForm=new o.cw({id:new o.NI(""),patient_id:new o.NI(""),intake_id:new o.NI(""),summary_type:new o.NI(""),interview_datetime:new o.NI(""),interview_place:new o.NI(""),alleged_perpetrator:new o.NI(""),interview_notes:new o.NI("")})}ngOnInit(){console.log(this.selected_notes),this.loadPerpetrators()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-inteview-notes"]],inputs:{selected_notes:"selected_notes",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:34,vars:29,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","interview_datetime",3,"ngClass"],["type","datetime-local","name","interview_datetime","id","interview_datetime","formControlName","interview_datetime",1,"input",3,"ngClass"],["for","interview_place",3,"ngClass"],["type","text","name","interview_place","id","interview_place","formControlName","interview_place",1,"input",3,"ngClass"],[1,"col-span-4"],["for","alleged_perpetrator",3,"ngClass"],["name","alleged_perpetrator","id","alleged_perpetrator","formControlName","alleged_perpetrator",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","interview_notes",3,"ngClass"],["rows","4","name","interview_notes","id","interview_notes","formControlName","interview_notes",1,"input",3,"ngClass"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Date & time"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div",8)(14,"label",11),e._uU(15,"Place"),e.qZA(),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Perpetrator"),e.qZA(),e.TgZ(20,"select",15),e.YNc(21,$t,2,2,"option",16),e.qZA()(),e.TgZ(22,"div",13)(23,"label",17),e._uU(24,"Phrases used to describe acts"),e.qZA(),e.TgZ(25,"textarea",18),e._uU(26,"              "),e.qZA()()()()(),e.TgZ(27,"div",19)(28,"button",20),e.NdJ("click",function(){return n.closeModal()}),e._uU(29,"Close"),e.qZA(),e.TgZ(30,"button",21),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(31,"fa-icon"),e._uU(32),e.qZA()()()()(),e._UZ(33,"div",22)),2&t&&(e.xp6(5),e.hij(" ","IS"===(null==n.selected_notes?null:n.selected_notes.act_title)?"Interview Summary":"Social Worker Notes"," "),e.xp6(2),e.Q6J("formGroup",n.interviewForm),e.xp6(3),e.Q6J("ngClass",e.VKq(13,J,n.show_error&&n.f.interview_datetime.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,Q,n.show_error&&n.f.interview_datetime.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(17,J,n.show_error&&n.f.interview_place.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,Q,n.show_error&&n.f.interview_place.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(21,J,n.show_error&&n.f.alleged_perpetrator.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(23,Q,n.show_error&&n.f.alleged_perpetrator.errors)),e.xp6(1),e.Q6J("ngForOf",n.perpetrators),e.xp6(2),e.Q6J("ngClass",e.VKq(25,J,n.show_error&&n.f.interview_notes.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(27,Q,n.show_error&&n.f.interview_notes.errors)),e.xp6(5),e.Q6J("disabled",n.is_saving||n.interviewForm.invalid),e.xp6(2),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.mk,d.sg,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function Bt(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",65),e._uU(2,"Recant date & time"),e.qZA(),e._UZ(3,"input",66),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("max",t.max_date)}}function Wt(i,a){1&i&&(e.TgZ(0,"div")(1,"label",67),e._uU(2,"Remarks"),e.qZA(),e._UZ(3,"input",68),e.qZA())}function zt(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",69),e._uU(2,"Date & time of deferral"),e.qZA(),e._UZ(3,"input",70),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("max",t.max_date)}}function Xt(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function ei(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",71),e._uU(2,"Reason for deferral"),e.qZA(),e.TgZ(3,"select",72),e.YNc(4,Xt,2,2,"option",41),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.deferral_reasons)}}function ti(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function ii(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",74),e._uU(2,"Previous Interviewer"),e.qZA(),e.TgZ(3,"select",75),e.YNc(4,ti,2,2,"option",41),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.previous_interviewers)}}function ni(i,a){1&i&&(e.TgZ(0,"div")(1,"label",76),e._uU(2,"Others"),e.qZA(),e._UZ(3,"input",77),e.qZA())}function ai(i,a){1&i&&(e.TgZ(0,"span",78),e._uU(1,"Required atleast one information source."),e.qZA())}function oi(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function _i(i,a){if(1&i&&(e.TgZ(0,"div")(1,"label",79),e._uU(2,"Mental Age"),e.qZA(),e.TgZ(3,"select",80),e.YNc(4,oi,2,2,"option",41),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.mental_ages)}}function li(i,a){1&i&&(e.TgZ(0,"div")(1,"label",81),e._uU(2,"Historian Name"),e.qZA(),e._UZ(3,"input",82),e.qZA())}function ri(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function si(i,a){if(1&i&&(e.TgZ(0,"div",85),e.YNc(1,ri,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.incident_recent_datetime.errors?null:t.f.incident_recent_datetime.errors.required)}}const T=function(i){return{"text-red-500":i}},w=function(i){return{"invalid-input":i}};function di(i,a){if(1&i&&(e.TgZ(0,"div",32)(1,"label",83),e._uU(2,"Date and time of most recent abuse"),e.qZA(),e._UZ(3,"input",84),e.YNc(4,si,2,1,"div",42),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,T,t.show_error&&t.f.incident_recent_datetime.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,w,t.show_error&&t.f.incident_recent_datetime.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.incident_recent_datetime.errors)}}function ci(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function pi(i,a){if(1&i&&(e.TgZ(0,"div",85),e.YNc(1,ci,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.incident_first_datetime.errors?null:t.f.incident_first_datetime.errors.required)}}function ui(i,a){if(1&i&&(e.TgZ(0,"div",32)(1,"label",86),e._uU(2,"Date and time of first abuse"),e.qZA(),e._UZ(3,"input",87),e.YNc(4,pi,2,1,"div",42),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,T,t.show_error&&t.f.incident_first_datetime.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,w,t.show_error&&t.f.incident_first_datetime.errors)),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.incident_first_datetime.errors)}}function gi(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function mi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function fi(i,a){if(1&i&&(e.TgZ(0,"div",85),e.YNc(1,mi,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.abused_episode_id.errors?null:t.f.abused_episode_id.errors.required)}}function vi(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function bi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function hi(i,a){if(1&i&&(e.TgZ(0,"div",85),e.YNc(1,bi,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.abused_site_id.errors?null:t.f.abused_site_id.errors.required)}}function Zi(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.required_message," ")}}function xi(i,a){if(1&i&&(e.TgZ(0,"div",85),e.YNc(1,Zi,2,1,"div",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.disclosed_flag.errors?null:t.f.disclosed_flag.errors.required)}}function Ti(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function wi(i,a){if(1&i&&(e.TgZ(0,"div",32)(1,"label",88),e._uU(2,"Type of disclosure"),e.qZA(),e.TgZ(3,"select",89),e.YNc(4,Ti,2,2,"option",41),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,T,t.show_error&&t.f.disclosed_type.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,w,t.show_error&&t.f.disclosed_type.errors)),e.xp6(1),e.Q6J("ngForOf",t.disclosed_types)}}function yi(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ci(i,a){if(1&i&&(e.TgZ(0,"div",90)(1,"label",91),e._uU(2,"To whom did the victim survivor disclose first?"),e.qZA(),e.TgZ(3,"select",92),e.YNc(4,yi,2,2,"option",41),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(3,T,t.show_error&&t.f.disclosed_relation_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,w,t.show_error&&t.f.disclosed_relation_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.child_relations)}}function qi(i,a){if(1&i&&(e.TgZ(0,"div",28)(1,"label",93),e._uU(2,"Describe circumstances surrounding the initial disclosure:"),e.qZA(),e.TgZ(3,"textarea",94),e._uU(4,"                "),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,T,t.show_error&&t.f.initial_disclosure.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,w,t.show_error&&t.f.initial_disclosure.errors))}}function Ai(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function ki(i,a){1&i&&e._UZ(0,"input",114)}function Ii(i,a){1&i&&e._UZ(0,"input",114)}function Ui(i,a){1&i&&e._UZ(0,"input",114)}function Ni(i,a){if(1&i&&(e.TgZ(0,"tr",111)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",112),e.YNc(4,ki,1,0,"input",113),e.qZA(),e.TgZ(5,"td",112),e.YNc(6,Ii,1,0,"input",113),e.qZA(),e.TgZ(7,"td",112),e.YNc(8,Ui,1,0,"input",113),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2]),e.xp6(2),e.Q6J("ngIf",t.value[3])}}function Ji(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr")(3,"td",109),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td",109),e._uU(6,"Victim Survivor"),e.qZA(),e.TgZ(7,"td",109),e._uU(8,"Historian"),e.qZA(),e.TgZ(9,"td",109),e._uU(10,"Sworn Statement"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Ni,9,4,"tr",110),e.ALo(13,"keyvalue"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(12),e.Q6J("ngForOf",e.lcZ(13,1,t.sexual_abuses))}}function Qi(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function Mi(i,a){1&i&&e._UZ(0,"input",114)}function Fi(i,a){1&i&&e._UZ(0,"input",114)}function Yi(i,a){1&i&&e._UZ(0,"input",114)}function Oi(i,a){if(1&i&&(e.TgZ(0,"tr",111)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",112),e.YNc(4,Mi,1,0,"input",113),e.qZA(),e.TgZ(5,"td",112),e.YNc(6,Fi,1,0,"input",113),e.qZA(),e.TgZ(7,"td",112),e.YNc(8,Yi,1,0,"input",113),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2]),e.xp6(2),e.Q6J("ngIf",t.value[3])}}function Si(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr")(3,"td",109),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td",109),e._uU(6,"Victim Survivor"),e.qZA(),e.TgZ(7,"td",109),e._uU(8,"Historian"),e.qZA(),e.TgZ(9,"td",109),e._uU(10,"Sworn Statement"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Oi,9,4,"tr",110),e.ALo(13,"keyvalue"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(12),e.Q6J("ngForOf",e.lcZ(13,1,t.physical_abuses))}}function ji(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function Gi(i,a){1&i&&e._UZ(0,"input",114)}function Ei(i,a){1&i&&e._UZ(0,"input",114)}function Vi(i,a){1&i&&e._UZ(0,"input",114)}function Ki(i,a){if(1&i&&(e.TgZ(0,"tr",111)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",112),e.YNc(4,Gi,1,0,"input",113),e.qZA(),e.TgZ(5,"td",112),e.YNc(6,Ei,1,0,"input",113),e.qZA(),e.TgZ(7,"td",112),e.YNc(8,Vi,1,0,"input",113),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2]),e.xp6(2),e.Q6J("ngIf",t.value[3])}}function Di(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr")(3,"td",109),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td",109),e._uU(6,"Victim Survivor"),e.qZA(),e.TgZ(7,"td",109),e._uU(8,"Historian"),e.qZA(),e.TgZ(9,"td",109),e._uU(10,"Sworn Statement"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Ki,9,4,"tr",110),e.ALo(13,"keyvalue"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(12),e.Q6J("ngForOf",e.lcZ(13,1,t.neglect_abuses))}}function Pi(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function Hi(i,a){1&i&&e._UZ(0,"input",114)}function Li(i,a){1&i&&e._UZ(0,"input",114)}function $i(i,a){1&i&&e._UZ(0,"input",114)}function Ri(i,a){if(1&i&&(e.TgZ(0,"tr",111)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",112),e.YNc(4,Hi,1,0,"input",113),e.qZA(),e.TgZ(5,"td",112),e.YNc(6,Li,1,0,"input",113),e.qZA(),e.TgZ(7,"td",112),e.YNc(8,$i,1,0,"input",113),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2]),e.xp6(2),e.Q6J("ngIf",t.value[3])}}function Bi(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr")(3,"td",109),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"td",109),e._uU(6,"Victim Survivor"),e.qZA(),e.TgZ(7,"td",109),e._uU(8,"Historian"),e.qZA(),e.TgZ(9,"td",109),e._uU(10,"Sworn Statement"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Ri,9,4,"tr",110),e.ALo(13,"keyvalue"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(12),e.Q6J("ngForOf",e.lcZ(13,1,t.emotional_abuses))}}function Wi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",95)(1,"div",96),e._uU(2," Acts of abuse "),e.qZA(),e.TgZ(3,"div",97)(4,"div",98)(5,"spa"),e._uU(6,"Sexual Abuse"),e.qZA(),e.TgZ(7,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("abuse_acts","Sexual Abuse","gbv-sexual-abuse","patient-gbv-sexual-abuse",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.interview_sexual_abuses,"sexual_abused_id"))}),e._UZ(8,"fa-icon",100),e.qZA()(),e.YNc(9,Ai,3,0,"div",101),e.YNc(10,Ji,14,3,"table",102),e.qZA(),e.TgZ(11,"div",97)(12,"div",98)(13,"spa"),e._uU(14,"Physical Abuse"),e.qZA(),e.TgZ(15,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("abuse_acts","Physical Abuse","gbv-physical-abuse","patient-gbv-physical-abuse",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.interview_physical_abuses,"physical_abused_id"))}),e._UZ(16,"fa-icon",100),e.qZA()(),e.YNc(17,Qi,3,0,"div",101),e.YNc(18,Si,14,3,"table",102),e.qZA(),e.TgZ(19,"div",97)(20,"div",98)(21,"spa"),e._uU(22,"Neglect"),e.qZA(),e.TgZ(23,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("abuse_acts","Neglects","gbv-neglect","patient-gbv-neglect-abuse",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.interview_neglect_abuses,"neglect_abused_id"))}),e._UZ(24,"fa-icon",100),e.qZA()(),e.YNc(25,ji,3,0,"div",101),e.YNc(26,Di,14,3,"table",102),e.qZA(),e.TgZ(27,"div",97)(28,"div",98)(29,"spa"),e._uU(30,"Emotional Abuse"),e.qZA(),e.TgZ(31,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("abuse_acts","Emotional Abuse","gbv-emotional-abuse","patient-gbv-emotional-abuse",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.interview_emotional_abuses,"emotional_id"))}),e._UZ(32,"fa-icon",100),e.qZA()(),e.YNc(33,Pi,3,0,"div",101),e.YNc(34,Bi,14,3,"table",102),e.qZA(),e.TgZ(35,"div",103)(36,"label",104),e._uU(37,"Other acts of abuse"),e.qZA(),e.TgZ(38,"textarea",105),e._uU(39,"          "),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.sexual_abuses),e.xp6(1),e.Q6J("ngIf",t.sexual_abuses),e.xp6(6),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.physical_abuses),e.xp6(1),e.Q6J("ngIf",t.physical_abuses),e.xp6(6),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.neglect_abuses),e.xp6(1),e.Q6J("ngIf",t.neglect_abuses),e.xp6(6),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.emotional_abuses),e.xp6(1),e.Q6J("ngIf",t.emotional_abuses),e.xp6(2),e.Q6J("ngClass",e.VKq(14,T,t.show_error&&t.f.other_abuse_acts.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,w,t.show_error&&t.f.other_abuse_acts.errors))}}function zi(i,a){if(1&i&&(e.TgZ(0,"option",73),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Xi(i,a){if(1&i&&(e.TgZ(0,"div",95)(1,"div",96),e._uU(2," Developmental Screening "),e.qZA(),e.TgZ(3,"div",115)(4,"div",32)(5,"label",116),e._uU(6,"Further developmental assessment needed"),e.qZA(),e.TgZ(7,"select",117),e.YNc(8,zi,2,2,"option",41),e.qZA()(),e.TgZ(9,"div",32)(10,"label",118),e._uU(11,"Decribe"),e.qZA(),e._UZ(12,"input",119),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(5,T,t.show_error&&t.f.dev_screening_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(7,w,t.show_error&&t.f.dev_screening_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.developmental_screenings),e.xp6(2),e.Q6J("ngClass",e.VKq(9,T,t.show_error&&t.f.dev_screening_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,w,t.show_error&&t.f.dev_screening_remarks.errors))}}function en(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function tn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," | LGBTQ"),e.qZA())}function nn(i,a){if(1&i&&(e.TgZ(0,"td",123),e._uU(1),e._UZ(2,"br"),e._uU(3),e.YNc(4,tn,2,0,"span",14),e._uU(5," ) "),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.hij(" ",null!==(n=t.perpetrator_name)&&void 0!==n?n:"-"," "),e.xp6(2),e.AsE(" ( ",t.perpetrator_age," | ",t.gender?"M"===t.gender?"Male":"Female":"-"," "),e.xp6(1),e.Q6J("ngIf",t.lgbtq_flag)}}function an(i,a){if(1&i&&(e.TgZ(0,"span")(1,"span",131),e._uU(2,"Permanent:"),e.qZA(),e._UZ(3,"br"),e._uU(4),e._UZ(5,"br")(6,"br"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.perpetrator_address,"")}}function on(i,a){if(1&i&&(e.TgZ(0,"span")(1,"span",131),e._uU(2,"Current:"),e.qZA(),e._UZ(3,"br"),e._uU(4),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.perpetrator_current_address," ")}}function _n(i,a){if(1&i&&(e.TgZ(0,"td",130),e.YNc(1,an,7,1,"span",14),e.YNc(2,on,5,1,"span",14),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.perpetrator_address),e.xp6(1),e.Q6J("ngIf",t.perpetrator_current_address)}}function ln(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function rn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," Alcohol "),e._UZ(2,"br")(3,"br"),e.qZA())}function sn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Drugs: "),e.TgZ(2,"span",133),e._uU(3),e.qZA(),e._UZ(4,"br")(5,"br"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.abuse_drugs_remarks)}}function dn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Others: "),e.TgZ(2,"span",133),e._uU(3),e.qZA()()),2&i){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.abuse_others_remarks)}}function cn(i,a){if(1&i&&(e.TgZ(0,"td",132),e.YNc(1,ln,2,0,"span",14),e.YNc(2,rn,4,0,"span",14),e.YNc(3,sn,6,1,"span",14),e.YNc(4,dn,4,1,"span",14),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.abuse_alcohol_flag&&!t.abuse_drugs_flag&&!t.abuse_others_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_alcohol_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_drugs_flag),e.xp6(1),e.Q6J("ngIf",t.abuse_others_flag)}}function pn(i,a){1&i&&(e.TgZ(0,"span",136),e._uU(1," Abuse"),e._UZ(2,"br"),e.qZA())}function un(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Abused as a child"),e._UZ(2,"br"),e.qZA())}function gn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Abused as a spouse"),e._UZ(2,"br"),e.qZA())}function mn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Spouse abuser"),e._UZ(2,"br"),e.qZA())}function fn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Witness family violence"),e._UZ(2,"br"),e.qZA())}function vn(i,a){1&i&&(e.TgZ(0,"span",136),e._UZ(1,"br"),e._uU(2," Criminal"),e._UZ(3,"br"),e.qZA())}function bn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Previous conviction for similar offense"),e._UZ(2,"br"),e.qZA())}function hn(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - Previous conviction for other offense"),e._UZ(2,"br"),e.qZA())}function Zn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1," - Others: "),e.TgZ(2,"span",133),e._uU(3),e.qZA(),e._UZ(4,"br"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.criminal_barangay_remarks)}}function xn(i,a){if(1&i&&(e.TgZ(0,"td",134),e.YNc(1,pn,3,0,"span",135),e.YNc(2,un,3,0,"span",14),e.YNc(3,gn,3,0,"span",14),e.YNc(4,mn,3,0,"span",14),e.YNc(5,fn,3,0,"span",14),e.YNc(6,vn,4,0,"span",135),e.YNc(7,bn,3,0,"span",14),e.YNc(8,hn,3,0,"span",14),e.YNc(9,Zn,5,1,"span",14),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.abused_as_child_flag||t.abused_as_spouse_flag||t.spouse_abuser_flag||t.family_violence_flag),e.xp6(1),e.Q6J("ngIf",t.abused_as_child_flag),e.xp6(1),e.Q6J("ngIf",t.abused_as_spouse_flag),e.xp6(1),e.Q6J("ngIf",t.spouse_abuser_flag),e.xp6(1),e.Q6J("ngIf",t.family_violence_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_similar_flag||t.criminal_conviction_other_flag||t.criminal_barangay_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_similar_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_conviction_other_flag),e.xp6(1),e.Q6J("ngIf",t.criminal_barangay_flag)}}function Tn(i,a){1&i&&(e.TgZ(0,"td",137),e._uU(1," Unknown Perpetrator "),e.qZA())}function wn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",111)(1,"td",123)(2,"fa-icon",124),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(4);return e.KtG(r.toggleModal("perpetrators","Perpetrator","","",l))}),e.qZA()(),e.YNc(3,nn,6,4,"td",125),e.YNc(4,_n,3,2,"td",126),e.YNc(5,cn,5,4,"td",127),e.YNc(6,xn,10,9,"td",128),e.YNc(7,Tn,2,0,"td",129),e.qZA()}if(2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(1),e.Q6J("ngIf",!t.perpetrator_unknown_flag),e.xp6(1),e.Q6J("ngIf",!t.perpetrator_unknown_flag),e.xp6(1),e.Q6J("ngIf",!t.perpetrator_unknown_flag),e.xp6(1),e.Q6J("ngIf",!t.perpetrator_unknown_flag),e.xp6(1),e.Q6J("ngIf",t.perpetrator_unknown_flag)}}function yn(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr"),e._UZ(3,"td",120),e.TgZ(4,"td",121),e._uU(5," Name"),e._UZ(6,"br"),e._uU(7," (Age | Gender)"),e._UZ(8,"br")(9,"br"),e.qZA(),e.TgZ(10,"td",122),e._uU(11," Address "),e.qZA(),e.TgZ(12,"td",122),e._uU(13," Substance abuse "),e.qZA(),e.TgZ(14,"td",121),e._uU(15," History "),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,wn,8,6,"tr",110),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(17),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator)}}function Cn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",95)(1,"div",96),e._uU(2," Perpetrator (s) "),e.qZA(),e.TgZ(3,"div",97)(4,"div",98)(5,"spa"),e._uU(6,"Alleged Perpetrator"),e.qZA(),e.TgZ(7,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("perpetrators"))}),e._UZ(8,"fa-icon",100),e.qZA()(),e.YNc(9,en,3,0,"div",101),e.YNc(10,yn,18,1,"table",102),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("icon",t.faPlus),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0)}}function qn(i,a){1&i&&(e.TgZ(0,"div",140),e._uU(1," Please add alleged perpetrator(s) to add notes. "),e.qZA())}function An(i,a){1&i&&(e.TgZ(0,"span",143),e._uU(1," MSWDO Only "),e.qZA())}function kn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(4);return e.KtG(_.toggleModal("interview_notes","IS"))}),e._UZ(1,"fa-icon",100),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faPlus)}}function In(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function Un(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",111)(1,"td",123)(2,"fa-icon",124),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(5);return e.KtG(r.toggleModal("interview_notes","Interview","","",l))}),e.qZA()(),e.TgZ(3,"td",123),e._uU(4),e.qZA(),e.TgZ(5,"td",123),e._uU(6),e.ALo(7,"date"),e._UZ(8,"br"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",144),e._uU(12),e.qZA(),e.TgZ(13,"td",144),e._uU(14),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(5);let _,l;e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(2),e.hij(" ",t.perpetrator?t.perpetrator.perpetrator_unknown_flag?"Unknown":t.perpetrator.perpetrator_name:"-"," "),e.xp6(2),e.hij(" ",e.xi3(7,6,t.interview_datetime,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(10,9,t.interview_datetime,"hh:mm a")," "),e.xp6(3),e.hij(" ",null!==(_=t.interview_place)&&void 0!==_?_:"-"," "),e.xp6(2),e.hij(" ",null!==(l=t.interview_notes)&&void 0!==l?l:"-"," ")}}function Nn(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr"),e._UZ(3,"td",120),e.TgZ(4,"td",121),e._uU(5," Alleged perpetrator"),e._UZ(6,"br"),e.qZA(),e.TgZ(7,"td",122),e._uU(8," Date & Time "),e.qZA(),e.TgZ(9,"td",122),e._uU(10," Location "),e.qZA(),e.TgZ(11,"td",121),e._uU(12," Notes "),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Un,15,12,"tr",110),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(14),e.Q6J("ngForOf",t.interview_summaries)}}function Jn(i,a){if(1&i&&(e.TgZ(0,"div",97)(1,"div",98)(2,"spa"),e._uU(3,"Interview Summary"),e.qZA(),e.YNc(4,An,2,0,"span",141),e.YNc(5,kn,2,1,"button",142),e.qZA(),e.YNc(6,In,3,0,"div",101),e.YNc(7,Nn,15,1,"table",102),e.qZA()),2&i){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf","MSWDO"!==t.pos),e.xp6(1),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(1),e.Q6J("ngIf",0===t.interview_summaries.length),e.xp6(1),e.Q6J("ngIf",t.interview_summaries.length>0)}}function Qn(i,a){1&i&&(e.TgZ(0,"span",143),e._uU(1," MSWDO Only "),e.qZA())}function Mn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",99),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(4);return e.KtG(_.toggleModal("interview_notes","SW"))}),e._UZ(1,"fa-icon",100),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faPlus)}}function Fn(i,a){1&i&&(e.TgZ(0,"div",106)(1,"span",107),e._uU(2," No records to show "),e.qZA()())}function Yn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fa-icon",124),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.toggleModal("interview_notes","Interview","","",_))}),e.qZA()}if(2&i){const t=e.oxw(6);e.Q6J("icon",t.faEdit)}}function On(i,a){if(1&i&&(e.TgZ(0,"tr",111)(1,"td",123),e.YNc(2,Yn,1,1,"fa-icon",145),e.qZA(),e.TgZ(3,"td",123),e._uU(4),e.qZA(),e.TgZ(5,"td",123),e._uU(6),e.ALo(7,"date"),e._UZ(8,"br"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",144),e._uU(12),e.qZA(),e.TgZ(13,"td",144),e._uU(14),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(5);let _,l,r;e.xp6(2),e.Q6J("ngIf","MSWDO"===n.pos),e.xp6(2),e.hij(" ",null!==(_=t.perpetrator.perpetrator_name)&&void 0!==_?_:"-"," "),e.xp6(2),e.hij(" ",e.xi3(7,6,t.interview_datetime,"MM/dd/yyyy"),""),e.xp6(3),e.hij(" ",e.xi3(10,9,t.interview_datetime,"hh:mm a")," "),e.xp6(3),e.hij(" ",null!==(l=t.interview_place)&&void 0!==l?l:"-"," "),e.xp6(2),e.hij(" ",null!==(r=t.interview_notes)&&void 0!==r?r:"-"," ")}}function Sn(i,a){if(1&i&&(e.TgZ(0,"table",108)(1,"thead")(2,"tr"),e._UZ(3,"td",120),e.TgZ(4,"td",121),e._uU(5," Alleged perpetrator"),e._UZ(6,"br"),e.qZA(),e.TgZ(7,"td",122),e._uU(8," Date & Time "),e.qZA(),e.TgZ(9,"td",122),e._uU(10," Location "),e.qZA(),e.TgZ(11,"td",121),e._uU(12," Notes "),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,On,15,12,"tr",110),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(14),e.Q6J("ngForOf",t.interview_social_notes)}}function jn(i,a){if(1&i&&(e.TgZ(0,"div",97)(1,"div",98)(2,"spa"),e._uU(3,"Social Worker Notes"),e.qZA(),e.YNc(4,Qn,2,0,"span",141),e.YNc(5,Mn,2,1,"button",142),e.qZA(),e.YNc(6,Fn,3,0,"div",101),e.YNc(7,Sn,15,1,"table",102),e.qZA()),2&i){const t=e.oxw(3);e.xp6(4),e.Q6J("ngIf","MSWDO"!==t.pos),e.xp6(1),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(1),e.Q6J("ngIf",0===t.interview_social_notes.length),e.xp6(1),e.Q6J("ngIf",t.interview_social_notes.length>0)}}function Gn(i,a){if(1&i&&(e.TgZ(0,"div",95)(1,"div",96),e._uU(2," Interview summary and social worker notes "),e.qZA(),e.YNc(3,qn,2,0,"div",138),e.YNc(4,Jn,8,4,"div",139),e.YNc(5,jn,8,4,"div",139),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.interview_perpetrator.length)>0)}}function En(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"input",157),e.TgZ(2,"label",158),e._uU(3),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("formControlName",t.var_name),e.uIk("id",t.var_name),e.xp6(1),e.uIk("for",t.var_name),e.xp6(1),e.Oqu(t.desc)}}function Vn(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"input",157),e.TgZ(2,"label",158),e._uU(3),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("formControlName",t.historian_var_name),e.uIk("id",t.historian_var_name),e.xp6(1),e.uIk("for",t.historian_var_name),e.xp6(1),e.Oqu(t.desc)}}function Kn(i,a){if(1&i&&(e.TgZ(0,"div",151)(1,"div",152),e._uU(2," Historian's behavior during the interview "),e.qZA(),e.YNc(3,Vn,4,4,"div",153),e.qZA()),2&i){const t=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",t.interview_behaviors)}}function Dn(i,a){if(1&i&&(e.TgZ(0,"div",146)(1,"div",147),e._uU(2," Behavior during the interview "),e.qZA(),e.TgZ(3,"div",115)(4,"div",148),e._UZ(5,"input",149),e.TgZ(6,"label",150),e._uU(7,"Is the caretaker present?"),e.qZA()(),e.TgZ(8,"div",151)(9,"div",152),e._uU(10," Victim survivor's behavior during the interview "),e.qZA(),e.YNc(11,En,4,4,"div",153),e.qZA(),e.YNc(12,Kn,4,1,"div",154),e.TgZ(13,"div",28)(14,"label",155),e._uU(15,"Describe the behavior and interviewer/caretaker"),e.qZA(),e._UZ(16,"textarea",156),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",t.interview_behaviors),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.source_from_historian_flag),e.xp6(2),e.Q6J("ngClass",e.VKq(4,T,t.show_error&&t.f.child_behavior_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,w,t.show_error&&t.f.child_behavior_remarks.errors))}}function Pn(i,a){1&i&&(e.TgZ(0,"div",159),e._uU(1," Form is invalid. "),e.qZA())}function Hn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e.TgZ(2,"div",8)(3,"div",9),e._uU(4," Recant details "),e.qZA(),e.TgZ(5,"div",10)(6,"div",11),e._UZ(7,"input",12),e.TgZ(8,"label",13),e._uU(9,"Did the patient recant?"),e.qZA()(),e.YNc(10,Bt,4,1,"div",14),e.YNc(11,Wt,4,0,"div",14),e.qZA(),e.TgZ(12,"div",9),e._uU(13," Deferral Details "),e.qZA(),e.TgZ(14,"div",10)(15,"div")(16,"div",11),e._UZ(17,"input",15),e.TgZ(18,"label",16),e._uU(19,"Deferring interview?"),e.qZA()()(),e.YNc(20,zt,4,1,"div",14),e._UZ(21,"div"),e.YNc(22,ei,5,1,"div",14),e.YNc(23,ii,5,1,"div",14),e.YNc(24,ni,4,0,"div",14),e.qZA(),e.TgZ(25,"div",9),e._uU(26," Date & Time of Interview "),e.qZA(),e.TgZ(27,"div",17)(28,"div")(29,"label",18),e._uU(30,"Date & time"),e.qZA(),e._UZ(31,"input",19),e.qZA()(),e.TgZ(32,"div",9),e._uU(33," Source of Information "),e.YNc(34,ai,2,0,"span",20),e.qZA(),e.TgZ(35,"div",17)(36,"div"),e._UZ(37,"input",21),e.TgZ(38,"label",22),e._uU(39,"Victim Survivor"),e.qZA()(),e.TgZ(40,"div"),e._UZ(41,"input",23),e.TgZ(42,"label",24),e._uU(43,"Historian"),e.qZA()(),e.TgZ(44,"div"),e._UZ(45,"input",25),e.TgZ(46,"label",26),e._uU(47,"Sworn Statement"),e.qZA()(),e.YNc(48,_i,5,1,"div",14),e.YNc(49,li,4,0,"div",14),e.qZA(),e.TgZ(50,"div",9),e._uU(51," History of Abuse "),e.qZA(),e.TgZ(52,"div",27)(53,"div",28)(54,"input",29),e.NdJ("change",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.checkRequired("recent"))}),e.qZA(),e.TgZ(55,"label",30),e._uU(56,"Can't recall date & time of recent incident"),e.qZA()(),e.YNc(57,di,5,7,"div",31),e.TgZ(58,"div",32)(59,"label",33),e._uU(60,"Other chronological clues"),e.qZA(),e._UZ(61,"input",34),e.qZA(),e.TgZ(62,"div",28)(63,"input",35),e.NdJ("change",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.checkRequired("first"))}),e.qZA(),e.TgZ(64,"label",36),e._uU(65,"Can't recall date & time of first incident"),e.qZA()(),e.YNc(66,ui,5,7,"div",31),e.TgZ(67,"div",32)(68,"label",37),e._uU(69,"Other chronological clues"),e.qZA(),e._UZ(70,"input",38),e.qZA(),e._UZ(71,"div",28),e.TgZ(72,"div",32)(73,"label",39),e._uU(74,"Episodes of abuse"),e.qZA(),e.TgZ(75,"select",40),e.YNc(76,gi,2,2,"option",41),e.qZA(),e.YNc(77,fi,2,1,"div",42),e.qZA(),e.TgZ(78,"div",32)(79,"label",43),e._uU(80,"Number of episode"),e.qZA(),e._UZ(81,"input",44),e.qZA(),e.TgZ(82,"div",32)(83,"label",45),e._uU(84,"Site of abuse"),e.qZA(),e.TgZ(85,"select",46),e.YNc(86,vi,2,2,"option",41),e.qZA(),e.YNc(87,hi,2,1,"div",42),e.qZA(),e.TgZ(88,"div",32)(89,"label",47),e._uU(90,"Address"),e.qZA(),e._UZ(91,"input",48),e.qZA(),e.TgZ(92,"div",49)(93,"div",50),e._uU(94," Disclosure "),e.qZA(),e.TgZ(95,"div",51)(96,"div",32)(97,"label",52),e._uU(98,"Did the victim survivor disclose?"),e.qZA(),e.TgZ(99,"select",53)(100,"option",54),e._uU(101,"Yes"),e.qZA(),e.TgZ(102,"option",55),e._uU(103,"No"),e.qZA(),e.TgZ(104,"option",56),e._uU(105,"Unknown"),e.qZA()(),e.YNc(106,xi,2,1,"div",42),e.qZA(),e.YNc(107,wi,5,7,"div",31),e.YNc(108,Ci,5,7,"div",57),e.YNc(109,qi,5,6,"div",58),e.qZA()()()(),e.YNc(110,Wi,40,18,"div",59),e.YNc(111,Xi,13,13,"div",59),e.YNc(112,Cn,11,3,"div",59),e.YNc(113,Gn,6,3,"div",59),e.YNc(114,Dn,17,8,"div",60),e.YNc(115,Pn,2,0,"div",61),e.TgZ(116,"div",62)(117,"button",63),e._UZ(118,"fa-icon",64),e._uU(119),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.interviewForm),e.xp6(9),e.Q6J("ngIf",t.interviewForm.value.recant_flag),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.recant_flag),e.xp6(9),e.Q6J("ngIf",t.interviewForm.value.deferred),e.xp6(2),e.Q6J("ngIf",t.interviewForm.value.deferred),e.xp6(1),e.Q6J("ngIf","3"===t.interviewForm.value.deferral_reason_id),e.xp6(1),e.Q6J("ngIf","4"===t.interviewForm.value.deferral_previous_interviewer_id),e.xp6(7),e.Q6J("max",t.max_date),e.xp6(3),e.Q6J("ngIf",t.required_info_source),e.xp6(14),e.Q6J("ngIf",t.interviewForm.value.source_from_victim_flag),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.source_from_historian_flag),e.xp6(8),e.Q6J("ngIf",!t.interviewForm.value.incident_recent_unknown),e.xp6(9),e.Q6J("ngIf",!t.interviewForm.value.incident_first_unknown),e.xp6(7),e.Q6J("ngClass",e.VKq(39,T,t.show_error&&t.f.abused_episode_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(41,w,t.show_error&&t.f.abused_episode_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.abused_episodes),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.abused_episode_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(43,T,t.show_error&&t.f.abused_episode_count.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(45,w,t.show_error&&t.f.abused_episode_count.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(47,T,t.show_error&&t.f.abused_site_id.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(49,w,t.show_error&&t.f.abused_site_id.errors)),e.xp6(1),e.Q6J("ngForOf",t.abused_sites),e.xp6(1),e.Q6J("ngIf",t.show_error&&t.f.abused_site_id.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(51,T,t.show_error&&t.f.abused_site_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(53,w,t.show_error&&t.f.abused_site_remarks.errors)),e.xp6(15),e.Q6J("ngIf",t.show_error&&t.f.disclosed_flag.errors),e.xp6(1),e.Q6J("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.xp6(1),e.Q6J("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.xp6(1),e.Q6J("ngIf","Y"===t.interviewForm.value.disclosed_flag),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.id),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.id),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.id),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.id),e.xp6(1),e.Q6J("ngIf",t.interviewForm.value.id),e.xp6(1),e.Q6J("ngIf",t.show_error),e.xp6(2),e.Q6J("disabled",t.is_saving),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.interviewForm.value.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}function Ln(i,a){if(1&i&&(e.TgZ(0,"div",160)(1,"span",161),e._UZ(2,"fa-icon",162),e.qZA(),e.TgZ(3,"span",161),e._uU(4," Loading... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function $n(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-inteview-notes",163),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_notes",t.selected_notes)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Rn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-abuse-acts",164),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_abused",t.selected_abused)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Bn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-perpetrators",165),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_perpetrator",t.selected_perpetrator)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}let Wn=(()=>{class i{onSubmit(){console.log(this.interviewForm),this.interviewForm.valid&&(this.interviewForm.value.source_from_victim_flag||this.interviewForm.value.source_from_historian_flag||this.interviewForm.value.source_from_sworn_statement_flag)?(this.show_error=!1,this.interviewForm.patchValue({incident_first_datetime:this.interviewForm.value.incident_first_datetime?(0,d.p6)(this.interviewForm.value.incident_first_datetime,"yyyy-MM-dd HH:mm:ss","en"):null,incident_recent_datetime:this.interviewForm.value.incident_recent_datetime?(0,d.p6)(this.interviewForm.value.incident_recent_datetime,"yyyy-MM-dd HH:mm:ss","en"):null,recant_datetime:this.interviewForm.value.recant_datetime?(0,d.p6)(this.interviewForm.value.recant_datetime,"yyyy-MM-dd HH:mm:ss","en"):null,interview_datetime:this.interviewForm.value.interview_datetime?(0,d.p6)(this.interviewForm.value.interview_datetime,"yyyy-MM-dd HH:mm:ss","en"):null,deferral_datetime:this.interviewForm.value.deferral_datetime?(0,d.p6)(this.interviewForm.value.deferral_datetime,"yyyy-MM-dd HH:mm:ss","en"):null}),this.saveForm()):(!this.interviewForm.value.source_from_victim_flag&&!this.interviewForm.value.source_from_historian_flag&&!this.interviewForm.value.source_from_sworn_statement_flag&&(this.required_info_source=!0),this.show_error=!0)}saveForm(){let t;t=this.interviewForm.value.id?this.http.update("gender-based-violence/patient-gbv-interview/",this.interviewForm.value.id,this.interviewForm.value):this.http.post("gender-based-violence/patient-gbv-interview",this.interviewForm.value),t.subscribe({next:n=>{this.toastr.success("Successfully recorded.","Interview"),this.patchData(n.data)},error:n=>console.log(n)})}reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:n=>{this.selected_gbv_case=n.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case),this.patchData()},error:n=>console.log(n)})}checkRequired(t){this.interviewForm.value.incident_first_unknown?(this.f.incident_first_datetime.clearValidators(),this.interviewForm.patchValue({incident_first_datetime:null})):this.f.incident_first_datetime.setValidators([o.kI.required]),this.interviewForm.value.incident_recent_unknown?(this.f.incident_recent_datetime.clearValidators(),this.interviewForm.patchValue({incident_recent_datetime:null})):this.f.incident_recent_datetime.setValidators([o.kI.required]),"first"===t?this.f.incident_first_datetime.updateValueAndValidity():this.f.incident_recent_datetime.updateValueAndValidity()}patchData(t){t?this.interviewForm.patchValue({...t}):(this.selected_gbv_case.gbvIntake.interview&&this.interviewForm.patchValue({...this.selected_gbv_case.gbvIntake.interview}),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_sexual_abuses,"sexual_abuses","sexual"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_physical_abuses,"physical_abuses","physical"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_neglect_abuses,"neglect_abuses","neglect"),this.loadAbuses(this.selected_gbv_case.gbvIntake.interview_emotional_abuses,"emotional_abuses","emotional_abuse"),this.loadSummaries(this.selected_gbv_case.gbvIntake.interview_summaries),this.show_form=!0),this.checkIncidents(),this.checkRequired("first"),this.checkRequired("recent")}loadSummaries(t){this.interview_summaries=[],this.interview_social_notes=[],Object.entries(t).forEach(([n,_],l)=>{this["IS"===_.summary_type?"interview_summaries":"interview_social_notes"].push(_)}),console.log(this.interview_summaries)}loadAbuses(t,n,_){let l=[];Object.entries(t).forEach(([r,s],g)=>{l[s[_].desc]||(l[s[_].desc]=[]),l[s[_].desc][s.info_source_id]=!0}),this[n]=l}checkIncidents(){this.interviewForm.value.incident_first_unknown?this.f.incident_first_datetime.disable():this.f.incident_first_datetime.enable(),this.interviewForm.value.incident_recent_unknown?this.f.incident_recent_datetime.disable():this.f.incident_recent_datetime.enable()}createForm(){this.interviewForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.selected_gbv_case.gbvIntake.id],recant_flag:[!1],recant_datetime:[null],recant_remarks:[null],interview_datetime:[null],deferred:[null],deferral_datetime:[null],deferral_reason_id:[null],deferral_previous_interviewer_id:[null],deferral_interviewer_remarks:[null],source_from_victim_flag:[!1],source_from_historian_flag:[!1],source_from_historian_remarks:[null],source_from_sworn_statement_flag:[!1],mental_age_id:[null],incident_first_unknown:[!1],incident_first_datetime:[null,o.kI.required],incident_first_remarks:[null],incident_recent_unknown:[!1],incident_recent_datetime:[null,o.kI.required],incident_recent_remarks:[null],abused_episode_id:[null,o.kI.required],abused_episode_count:[null],abused_site_id:[null,o.kI.required],abused_site_remarks:[null],disclosed_flag:[!1,o.kI.required],disclosed_type:[null],disclosed_relation_id:[null],initial_disclosure:[null],relation_to_child:[null],behavior_cooperative_flag:[!1],behavior_crying_flag:[!1],behavior_clinging_flag:[!1],behavior_responsive_flag:[!1],behavior_silent_flag:[!1],behavior_able_to_narrate_flag:[!1],behavior_unable_to_narrate_flag:[!1],behavior_appropriate_affect_flag:[!1],behavior_depressed_affect_flag:[!1],behavior_flat_affect_flag:[!1],behavior_psychotic_flag:[!1],behavior_combative_flag:[!1],behavior_hyperactive_flag:[!1],behavior_short_attention_flag:[!1],behavior_historian_cooperative_flag:[!1],behavior_historian_crying_flag:[!1],behavior_historian_clinging_flag:[!1],behavior_historian_responsive_flag:[!1],behavior_historian_silent_flag:[!1],behavior_historian_able_to_narrate_flag:[!1],behavior_historian_unable_to_narrate_flag:[!1],behavior_historian_appropriate_affect_flag:[!1],behavior_historian_depressed_affect_flag:[!1],behavior_historian_flat_affect_flag:[!1],behavior_historian_psychotic_flag:[!1],behavior_historian_combative_flag:[!1],behavior_historian_hyperactive_flag:[!1],behavior_historian_short_attention_flag:[!1],behavior_historian_remarks:[null],child_caretaker_present_flag:[!1],child_behavior_remarks:[null],dev_screening_id:[null],other_abuse_acts:[null],dev_screening_remarks:[null]}),this.patchData()}toggleModal(t,n,_,l,r,s){switch(t){case"abuse_acts":this.selected_abused={act_title:n,url:_,save_url:l,abused_data:r,abused_id_name:s};break;case"interview_notes":this.selected_notes={act_title:n,data:r};break;case"perpetrators":this.selected_perpetrator={act_title:n,data:r}}this.modals[t]=!this.modals[t],"abuse_acts"===t&&!this.modals[t]&&this.reloadData(),"interview_notes"===t&&!this.modals[t]&&this.reloadData(),"perpetrators"===t&&!this.modals[t]&&this.reloadData()}loadLibraries(){const t=this.http.get("libraries/gbv-abused-episode"),n=this.http.get("libraries/gbv-info-source"),_=this.http.get("libraries/gbv-abused-site"),l=this.http.get("libraries/gbv-disclosed-type"),r=this.http.get("libraries/child-relation"),s=this.http.get("libraries/gbv-child-behavior"),g=this.http.get("libraries/gbv-developmental-screening"),y=this.http.get("libraries/gbv-mental-age"),Y=this.http.get("libraries/gbv-deferral-reason"),O=this.http.get("libraries/gbv-previous-interviewer");(0,I.D)([t,n,_,l,r,s,g,y,Y,O]).subscribe({next:([S,rr,sr,dr,cr,pr,ur,gr,mr,fr])=>{this.abused_episodes=S.data,this.info_sources=rr.data,this.abused_sites=sr.data,this.disclosed_types=dr.data,this.child_relations=cr.data,this.child_behaviors=pr.data,this.developmental_screenings=ur.data,this.mental_ages=gr.data,this.deferral_reasons=mr.data,this.previous_interviewers=fr.data,this.createForm()},error:S=>console.log(S)})}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.updateSelectedGbv=new e.vpe,this.max_date=(0,d.p6)(new Date,"yyyy-MM-dd","en"),this.interviewForm=function Dt(){return new o.cw({id:new o.NI(""),patient_id:new o.NI(""),patient_gbv_intake_id:new o.NI(""),recant_flag:new o.NI(""),recant_datetime:new o.NI(""),recant_remarks:new o.NI(""),interview_datetime:new o.NI(""),deferred:new o.NI(!1),deferral_datetime:new o.NI(!1),deferral_reason_id:new o.NI(null),deferral_previous_interviewer_id:new o.NI(null),deferral_interviewer_remarks:new o.NI(""),source_from_victim_flag:new o.NI(!1),source_from_historian_flag:new o.NI(!1),source_from_historian_remarks:new o.NI(null),source_from_sworn_statement_flag:new o.NI(!1),mental_age_id:new o.NI(""),incident_first_unknown:new o.NI(""),incident_first_datetime:new o.NI(""),incident_first_remarks:new o.NI(""),incident_recent_unknown:new o.NI(""),incident_recent_datetime:new o.NI(""),incident_recent_remarks:new o.NI(""),abused_episode_id:new o.NI(""),abused_episode_count:new o.NI(null),abused_site_id:new o.NI(""),abused_site_remarks:new o.NI(""),disclosed_flag:new o.NI(!1),disclosed_type:new o.NI(""),disclosed_relation_id:new o.NI(""),other_abuse_acts:new o.NI(""),initial_disclosure:new o.NI(""),relation_to_child:new o.NI(""),behavior_cooperative_flag:new o.NI(!1),behavior_crying_flag:new o.NI(!1),behavior_clinging_flag:new o.NI(!1),behavior_responsive_flag:new o.NI(!1),behavior_silent_flag:new o.NI(!1),behavior_able_to_narrate_flag:new o.NI(!1),behavior_unable_to_narrate_flag:new o.NI(!1),behavior_appropriate_affect_flag:new o.NI(!1),behavior_depressed_affect_flag:new o.NI(!1),behavior_flat_affect_flag:new o.NI(!1),behavior_psychotic_flag:new o.NI(!1),behavior_combative_flag:new o.NI(!1),behavior_hyperactive_flag:new o.NI(!1),behavior_short_attention_flag:new o.NI(!1),behavior_historian_cooperative_flag:new o.NI(!1),behavior_historian_crying_flag:new o.NI(!1),behavior_historian_clinging_flag:new o.NI(!1),behavior_historian_responsive_flag:new o.NI(!1),behavior_historian_silent_flag:new o.NI(!1),behavior_historian_able_to_narrate_flag:new o.NI(!1),behavior_historian_unable_to_narrate_flag:new o.NI(!1),behavior_historian_appropriate_affect_flag:new o.NI(!1),behavior_historian_depressed_affect_flag:new o.NI(!1),behavior_historian_flat_affect_flag:new o.NI(!1),behavior_historian_psychotic_flag:new o.NI(!1),behavior_historian_combative_flag:new o.NI(!1),behavior_historian_hyperactive_flag:new o.NI(!1),behavior_historian_short_attention_flag:new o.NI(!1),behavior_historian_remarks:new o.NI(""),child_caretaker_present_flag:new o.NI(!1),child_behavior_remarks:new o.NI(""),dev_screening_id:new o.NI(""),dev_screening_remarks:new o.NI("")})}(),this.faPlus=c.r8p,this.faEdit=m.Xcf,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.show_form=!1,this.modals=[],this.selected_abused={act_title:"",url:"",save_url:"",abused_data:null,abused_id_name:""},this.selected_notes={act_title:"",data:""},this.selected_perpetrator={act_title:"",data:""},this.show_error=!1,this.required_info_source=!1,this.required_message="required field",this.interview_summaries=[],this.interview_social_notes=[],this.sexual_abuses=[],this.physical_abuses=[],this.neglect_abuses=[],this.emotional_abuses=[],this.interview_behaviors=[{id:1,desc:"Cooperative",var_name:"behavior_cooperative_flag",historian_var_name:"behavior_historian_cooperative_flag"},{id:2,desc:"Crying, very upset",var_name:"behavior_crying_flag",historian_var_name:"behavior_historian_crying_flag"},{id:3,desc:"Clinging to caretaker",var_name:"behavior_clinging_flag",historian_var_name:"behavior_historian_clinging_flag"},{id:4,desc:"Responsive to most questions",var_name:"behavior_responsive_flag",historian_var_name:"behavior_historian_responsive_flag"},{id:5,desc:"Silent, unresponsive",var_name:"behavior_silent_flag",historian_var_name:"behavior_historian_silent_flag"},{id:6,desc:"Able to narrate incident",var_name:"behavior_able_to_narrate_flag",historian_var_name:"behavior_historian_able_to_narrate_flag"},{id:7,desc:"Unable to narrate incident",var_name:"behavior_unable_to_narrate_flag",historian_var_name:"behavior_historian_unable_to_narrate_flag"},{id:8,desc:"Appropriate affect",var_name:"behavior_appropriate_affect_flag",historian_var_name:"behavior_historian_appropriate_affect_flag"},{id:9,desc:"Depressed affect",var_name:"behavior_depressed_affect_flag",historian_var_name:"behavior_historian_depressed_affect_flag"},{id:10,desc:"Flat affect, blank stares",var_name:"behavior_flat_affect_flag",historian_var_name:"behavior_historian_flat_affect_flag"},{id:11,desc:"Psychotic symptoms",var_name:"behavior_psychotic_flag",historian_var_name:"behavior_historian_psychotic_flag"},{id:12,desc:"Combative, hostile",var_name:"behavior_combative_flag",historian_var_name:"behavior_historian_combative_flag"},{id:13,desc:"Hyperactive, anxious",var_name:"behavior_hyperactive_flag",historian_var_name:"behavior_historian_hyperactive_flag"},{id:14,desc:"Short attention span",var_name:"behavior_short_attention_flag",historian_var_name:"behavior_historian_short_attention_flag"}]}get f(){return this.interviewForm.controls}ngOnInit(){this.loadLibraries(),console.log(this.selected_gbv_case)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-interview"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},decls:6,vars:5,consts:[[1,"border","border-slate-200","rounded-b-lg"],["class","mx-5 mb-5",4,"ngIf"],["class","grid grid-cols-1 my-16",4,"ngIf"],[3,"selected_notes","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"selected_abused","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal",4,"ngIf"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-3","border-b","border-slate-200","w-full","my-2","font-semibold","text-sky-500"],[1,"col-span-3","grid","grid-cols-3","gap-4"],[1,"ml-5","mt-3"],["type","checkbox","disabled","","formControlName","recant_flag","name","recant_flag","id","recant_flag",1,"input-checkbox"],["for","recant_flag",1,"pl-3","py-0.5"],[4,"ngIf"],["type","checkbox","disabled","","formControlName","deferred","name","deferred","id","deferred",1,"input-checkbox"],["for","deferred",1,"pl-3","py-0.5"],[1,"mx-5","col-span-3","grid","grid-cols-3","gap-4"],["for","interview_datetime"],["type","datetime-local","name","interview_datetime","id","interview_datetime","formControlName","interview_datetime",1,"input",3,"max"],["class","text-red-500 text-sm font-normal",4,"ngIf"],["type","checkbox","id","source_from_victim_flag","formControlName","source_from_victim_flag",1,"input-checkbox"],["for","source_from_victim_flag",1,"pl-3","py-0.5"],["type","checkbox","id","source_from_historian_flag","formControlName","source_from_historian_flag",1,"input-checkbox"],["for","source_from_historian_flag",1,"pl-3","py-0.5"],["type","checkbox","id","source_from_sworn_statement_flag","formControlName","source_from_sworn_statement_flag",1,"input-checkbox"],["for","source_from_sworn_statement_flag",1,"pl-3","py-0.5"],[1,"mx-5","col-span-3","grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","id","incident_recent_unknown","formControlName","incident_recent_unknown",1,"input-checkbox",3,"change"],["for","incident_recent_unknown",1,"pl-3","py-0.5"],["class","col-span-2",4,"ngIf"],[1,"col-span-2"],["for","incident_recent_remarks"],["type","text","name","incident_recent_remarks","id","incident_recent_remarks","formControlName","incident_recent_remarks",1,"input"],["type","checkbox","id","incident_first_unknown","formControlName","incident_first_unknown",1,"input-checkbox",3,"change"],["for","incident_first_unknown",1,"pl-3","py-0.5"],["for","incident_first_remarks"],["type","text","name","incident_first_remarks","id","incident_first_remarks","formControlName","incident_first_remarks",1,"input"],["for","abused_episode_id",3,"ngClass"],["name","abused_episode_id","id","abused_episode_id","formControlName","abused_episode_id",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-alert",4,"ngIf"],["for","abused_episode_count",3,"ngClass"],["type","number","name","abused_episode_count","id","abused_episode_count","formControlName","abused_episode_count",1,"input",3,"ngClass"],["for","abused_site_id",3,"ngClass"],["name","abused_site_id","id","abused_site_id","formControlName","abused_site_id",1,"input",3,"ngClass"],["for","abused_site_remarks",3,"ngClass"],["type","text","name","abused_site_remarks","id","abused_site_remarks","formControlName","abused_site_remarks",1,"input",3,"ngClass"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","pl-3","rounded-t-md"],[1,"grid","grid-cols-4","gap-4","pt-3","mb-5","mx-5"],["for","disclosed_flag"],["name","disclosed_flag","id","disclosed_flag","formControlName","disclosed_flag",1,"input"],["value","Y"],["value","N"],["value","X"],["class","col-span-3",4,"ngIf"],["class","col-span-4",4,"ngIf"],["class","mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","-mt-1 grid grid-cols-4 gap-x-4 w-full",4,"ngIf"],["class","text-sm bg-red-50 border border-red-300 p-5 m-5 rounded-lg text-red-800",4,"ngIf"],[1,"flex","justify-center","mt-5"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],["for","recant_datetime"],["type","datetime-local","name","recant_datetime","id","recant_datetime","formControlName","recant_datetime",1,"input",3,"max"],["for","recant_remarks"],["type","text","name","recant_remarks","id","recant_remarks","formControlName","recant_remarks",1,"input"],["for","deferral_datetime"],["type","datetime-local","name","deferral_datetime","id","deferral_datetime","formControlName","deferral_datetime",1,"input",3,"max"],["for","deferral_reason_id"],["name","deferral_reason_id","id","deferral_reason_id","formControlName","deferral_reason_id",1,"input"],[3,"value"],["for","deferral_previous_interviewer_id"],["name","deferral_previous_interviewer_id","id","deferral_previous_interviewer_id","formControlName","deferral_previous_interviewer_id",1,"input"],["for","deferral_interviewer_remarks"],["type","text","name","deferral_interviewer_remarks","id","deferral_interviewer_remarks","formControlName","deferral_interviewer_remarks",1,"input"],[1,"text-red-500","text-sm","font-normal"],["for","enroll_as_code"],["name","mental_age_id","id","mental_age_id","formControlName","mental_age_id",1,"input"],["for","source_from_historian_remarks"],["type","text","name","source_from_historian_remarks","id","source_from_historian_remarks","formControlName","source_from_historian_remarks",1,"input"],["for","incident_recent_datetime",3,"ngClass"],["type","datetime-local","name","incident_recent_datetime","id","incident_recent_datetime","formControlName","incident_recent_datetime",1,"input",3,"ngClass"],[1,"invalid-alert"],["for","incident_first_datetime",3,"ngClass"],["type","datetime-local","name","incident_first_datetime","id","incident_first_datetime","formControlName","incident_first_datetime",1,"input",3,"ngClass"],["for","disclosed_type",3,"ngClass"],["name","disclosed_type","id","disclosed_type","formControlName","disclosed_type",1,"input",3,"ngClass"],[1,"col-span-3"],["for","disclosed_relation_id",3,"ngClass"],["name","disclosed_relation_id","id","disclosed_relation_id","formControlName","disclosed_relation_id",1,"input",3,"ngClass"],["for","initial_disclosure",3,"ngClass"],["rows","4","name","initial_disclosure","id","initial_disclosure","formControlName","initial_disclosure",1,"input",3,"ngClass"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"col-span-4","mx-5"],["for","other_abuse_acts",3,"ngClass"],["rows","4","name","other_abuse_acts","id","other_abuse_acts","formControlName","other_abuse_acts",1,"input",3,"ngClass"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"text-center","font-semibold"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","checked","",4,"ngIf"],["type","checkbox","checked","",1,"input-checkbox","disabled:bg-blue-500"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],["for","dev_screening_id",3,"ngClass"],["name","dev_screening_id","id","dev_screening_id","formControlName","dev_screening_id",1,"input",3,"ngClass"],["for","dev_screening_remarks",3,"ngClass"],["type","text","row","3","name","dev_screening_remarks","id","dev_screening_remarks","formControlName","dev_screening_remarks",1,"input",3,"ngClass"],[1,"w-1/12"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"icon","click"],["class","text-center align-top pt-3",4,"ngIf"],["class","align-top pt-3",4,"ngIf"],["class","font-semibold italic align-top pt-3",4,"ngIf"],["class","p-3",4,"ngIf"],["class","italic pt-5","colspan","4",4,"ngIf"],[1,"align-top","pt-3"],[1,"italic","font-semibold"],[1,"font-semibold","italic","align-top","pt-3"],[1,"font-normal","not-italic"],[1,"p-3"],["class","font-semibold",4,"ngIf"],[1,"font-semibold"],["colspan","4",1,"italic","pt-5"],["class","col-span-4 flex justify-center font-semibold italic my-5",4,"ngIf"],["class","col-span-4 grid grid-cols-1 border-slate-200 shadow-md rounded-md mx-5 mb-5",4,"ngIf"],[1,"col-span-4","flex","justify-center","font-semibold","italic","my-5"],["class","text-xs italic pt-1",4,"ngIf"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],[1,"text-xs","italic","pt-1"],[1,"align-top","p-3"],["class","hover:cursor-pointer text-orange-500",3,"icon","click",4,"ngIf"],[1,"-mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-2","font-semibold","text-sky-500"],[1,"col-span-2","mt-8"],["type","checkbox","id","child_caretaker_present_flag","formControlName","child_caretaker_present_flag",1,"input-checkbox"],["for","child_caretaker_present_flag",1,"pl-3","py-0.5"],[1,"col-span-4","grid","grid-cols-3","gap-4"],[1,"col-span-3","text-sm","font-semibold"],[4,"ngFor","ngForOf"],["class","col-span-4 grid grid-cols-3 gap-4",4,"ngIf"],["for","child_behavior_remarks",3,"ngClass"],["row","3","name","child_behavior_remarks","id","child_behavior_remarks","formControlName","child_behavior_remarks",1,"input",3,"ngClass"],["type","checkbox",1,"input-checkbox",3,"formControlName"],[1,"pl-3","py-0.5"],[1,"text-sm","bg-red-50","border","border-red-300","p-5","m-5","rounded-lg","text-red-800"],[1,"grid","grid-cols-1","my-16"],[1,"flex","justify-center"],["spin","true",1,"text-sky-500",3,"icon"],[3,"selected_notes","intake_id","patient_id","toggleModal"],[3,"selected_abused","intake_id","patient_id","toggleModal"],[3,"selected_perpetrator","intake_id","patient_id","toggleModal"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Hn,120,55,"div",1),e.YNc(2,Ln,5,1,"div",2),e.qZA(),e.YNc(3,$n,1,3,"app-inteview-notes",3),e.YNc(4,Rn,1,3,"app-abuse-acts",4),e.YNc(5,Bn,1,3,"app-perpetrators",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(1),e.Q6J("ngIf",n.modals.interview_notes),e.xp6(1),e.Q6J("ngIf",n.modals.abuse_acts),e.xp6(1),e.Q6J("ngIf",n.modals.perpetrators))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN,Lt,Rt,V,d.uU,d.Nd]}),i})(),zn=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("gender-based-violence/patient-gbv-consult-visit",this.visitForm.value).subscribe({next:t=>{console.log(t),this.toastr.success("Successfully recorded.","Social Work"),this.is_saving=!1,this.closeModal()},error:t=>console.log(t)})}createForm(){this.visitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,o.kI.required],actual_date:[null,o.kI.required],physician:[null,o.kI.required],date_in:[null],date_due:[null],date_out:[null],lab_test:[null]}),this.selected_data&&this.visitForm.patchValue({...this.selected_data})}closeModal(){this.toggleModal.emit("medical_consult")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.visitForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),scheduled_date:new o.NI(null),actual_date:new o.NI(null),physician:new o.NI(null),date_in:new o.NI(null),date_due:new o.NI(null),date_out:new o.NI(null),lab_test:new o.NI(null)})}ngOnInit(){this.createForm()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medical-consult"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},decls:44,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-3","gap-4","m-3"],["for","physician"],["type","text","name","physician","id","physician","formControlName","physician",1,"input"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"mt-5","col-span-3"],["for","lab_test"],["type","text","name","lab_test","id","lab_test","formControlName","lab_test",1,"input"],["for","date_in"],["type","date","name","date_in","id","date_in","formControlName","date_in",1,"input"],["for","date_due"],["type","date","name","date_due","id","date_due","formControlName","date_due",1,"input"],["for","date_out"],["type","date","name","date_out","id","date_out","formControlName","date_out",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Consultation visits "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div")(10,"label",8),e._uU(11,"Physician"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"div")(14,"label",10),e._uU(15,"Scheduled Date"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div")(18,"label",12),e._uU(19,"Actual Date"),e.qZA(),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"div",14)(22,"label",15),e._uU(23,"Lab Test"),e.qZA(),e._UZ(24,"input",16),e.qZA(),e.TgZ(25,"div")(26,"label",17),e._uU(27,"Date In"),e.qZA(),e._UZ(28,"input",18),e.qZA(),e.TgZ(29,"div")(30,"label",19),e._uU(31,"Date Due"),e.qZA(),e._UZ(32,"input",20),e.qZA(),e.TgZ(33,"div")(34,"label",21),e._uU(35,"Date Out"),e.qZA(),e._UZ(36,"input",22),e.qZA()()()(),e.TgZ(37,"div",23)(38,"button",24),e.NdJ("click",function(){return n.closeModal()}),e._uU(39,"Close"),e.qZA(),e.TgZ(40,"button",25),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(41,"fa-icon",26),e._uU(42),e.qZA()()()()(),e._UZ(43,"div",27)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.visitForm),e.xp6(33),e.Q6J("disabled",n.is_saving||n.visitForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})(),Xn=(()=>{class i{onSubmit(){let t;this.is_saving=!0,t=this.homeVisitForm.value.id?this.http.update("gender-based-violence/patient-gbv-social-work/",this.homeVisitForm.value.id,this.homeVisitForm.value):this.http.post("gender-based-violence/patient-gbv-social-work",this.homeVisitForm.value),t.subscribe({next:n=>{console.log(n),this.toastr.success("Successfully recorded.","Social Work"),this.is_saving=!1,this.closeModal()},error:n=>console.log(n)})}createForm(){this.homeVisitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],visit_date:[null,o.kI.required],social_worker:[null,o.kI.required],social_worker_remarks:[null]}),console.log(this.selected_data),this.selected_data&&this.homeVisitForm.patchValue({...this.selected_data})}closeModal(){this.toggleModal.emit("home_visit")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.homeVisitForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),visit_date:new o.NI(null),social_worker:new o.NI(null),social_worker_remarks:new o.NI(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.createForm()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home-visit"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},features:[e.TTD],decls:29,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","visit_date"],["type","date","name","visit_date","id","visit_date","formControlName","visit_date",1,"input"],["for","social_worker"],["type","text","name","social_worker","id","social_worker","formControlName","social_worker",1,"input"],[1,"col-span-4"],["for","social_worker_remarks"],["name","social_worker_remarks","id","social_worker_remarks","formControlName","social_worker_remarks",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Home Visit Details "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Date"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div",8)(14,"label",11),e._uU(15,"Social worker"),e.qZA(),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Social worker remarks"),e.qZA(),e.TgZ(20,"textarea",15),e._uU(21,"              "),e.qZA()()()()(),e.TgZ(22,"div",16)(23,"button",17),e.NdJ("click",function(){return n.closeModal()}),e._uU(24,"Close"),e.qZA(),e.TgZ(25,"button",18),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(26,"fa-icon",19),e._uU(27),e.qZA()()()()(),e._UZ(28,"div",20)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.homeVisitForm),e.xp6(18),e.Q6J("disabled",n.is_saving||n.homeVisitForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function ea(i,a){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function ta(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",24),e._uU(2,"Home Placement by"),e.qZA(),e.TgZ(3,"select",25)(4,"option",23),e._uU(5,"By CPU"),e.qZA(),e.TgZ(6,"option",23),e._uU(7,"By Others"),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1))}function ia(i,a){1&i&&(e.TgZ(0,"div",26)(1,"label",27),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",28),e.qZA())}function na(i,a){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function aa(i,a){if(1&i&&(e.TgZ(0,"div",15)(1,"label",29),e._uU(2,"Placement type"),e.qZA(),e.TgZ(3,"select",30),e.YNc(4,na,2,2,"option",31),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.placement_types)}}function oa(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",33),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",34),e.qZA())}function _a(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",35),e._uU(2,"Contact Info"),e.qZA(),e._UZ(3,"input",36),e.qZA())}function la(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",37),e._uU(2,"Schedule Date"),e.qZA(),e._UZ(3,"input",38),e.qZA())}function ra(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",39),e._uU(2,"Actual Date"),e.qZA(),e._UZ(3,"input",40),e.qZA())}function sa(i,a){1&i&&(e.TgZ(0,"div",41)(1,"label",42),e._uU(2,"Hospital Name"),e.qZA(),e._UZ(3,"input",43),e.qZA())}function da(i,a){1&i&&(e.TgZ(0,"div",44)(1,"label",45),e._uU(2,"Ward"),e.qZA(),e._UZ(3,"input",46),e.qZA())}function ca(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",47),e._uU(2,"Date In"),e.qZA(),e._UZ(3,"input",48),e.qZA())}function pa(i,a){1&i&&(e.TgZ(0,"div",15)(1,"label",49),e._uU(2,"Date Out"),e.qZA(),e._UZ(3,"input",50),e.qZA())}function ua(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("submit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e.TgZ(1,"div",14)(2,"div",15)(3,"label",16),e._uU(4,"Placement location"),e.qZA(),e.TgZ(5,"select",17),e.YNc(6,ea,2,2,"option",18),e.qZA()(),e.YNc(7,ta,8,2,"div",19),e.YNc(8,ia,4,0,"div",20),e.YNc(9,aa,5,1,"div",19),e.YNc(10,oa,4,0,"div",19),e.YNc(11,_a,4,0,"div",19),e.YNc(12,la,4,0,"div",19),e.YNc(13,ra,4,0,"div",19),e.YNc(14,sa,4,0,"div",21),e.YNc(15,da,4,0,"div",22),e.YNc(16,ca,4,0,"div",19),e.YNc(17,pa,4,0,"div",19),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.placementForm),e.xp6(6),e.Q6J("ngForOf",t.placement_locations),e.xp6(1),e.Q6J("ngIf",1===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",1===t.placementForm.value.location_id&&!t.placementForm.value.home_by_cpu_flag),e.xp6(1),e.Q6J("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",2===t.placementForm.value.location_id||3===t.placementForm.value.location_id||5===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",4===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",4===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",4===t.placementForm.value.location_id),e.xp6(1),e.Q6J("ngIf",4===t.placementForm.value.location_id)}}function ga(i,a){if(1&i&&(e.TgZ(0,"div",51)(1,"span",52),e._UZ(2,"fa-icon",53),e.qZA(),e.TgZ(3,"span",54),e._uU(4," Loading "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let ma=(()=>{class i{onSubmit(){let t;this.is_saving=!0,t=this.placementForm.value.id?this.http.update("gender-based-violence/patient-gbv-placement/",this.placementForm.value.id,this.placementForm.value):this.http.post("gender-based-violence/patient-gbv-placement",this.placementForm.value),t.subscribe({next:n=>{this.toastr.success("Successfully recorded","Placement"),this.is_saving=!1,this.closeModal()},error:n=>console.log(n)})}createForm(){this.placementForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],location_id:[null,o.kI.required],home_by_cpu_flag:[!1],home_by_other_name:[null],scheduled_date:[null],actual_date:[null],placement_name:[null],placement_contact_info:[null],type_id:[null],hospital_name:[null],hospital_ward:[null],hospital_date_in:[null],hospital_date_out:[null]}),console.log(this.selected_data),this.selected_data&&this.placementForm.patchValue({...this.selected_data}),this.show_form=!0}loadLibraries(){const t=this.http.get("libraries/gbv-placement-location"),n=this.http.get("libraries/gbv-placement-type");(0,I.D)([t,n]).subscribe({next:([_,l])=>{this.placement_locations=_.data,this.placement_types=l.data,this.createForm()},error:_=>console.log(_)})}closeModal(){this.toggleModal.emit("placement")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_form=!1,this.placementForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),location_id:new o.NI(null),home_by_cpu_flag:new o.NI(!1),home_by_other_name:new o.NI(null),scheduled_date:new o.NI(null),actual_date:new o.NI(null),placement_name:new o.NI(null),placement_contact_info:new o.NI(null),type_id:new o.NI(null),hospital_name:new o.NI(null),hospital_ward:new o.NI(null),hospital_date_in:new o.NI(null),hospital_date_out:new o.NI(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-placement"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},features:[e.TTD],decls:16,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","location_id"],["name","location_id","id","location_id","formControlName","location_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-span-2",4,"ngIf"],["class","col-span-4",4,"ngIf"],["class","col-span-3",4,"ngIf"],["class","col-span-1",4,"ngIf"],[3,"ngValue"],["for","home_by_cpu_flag"],["name","home_by_cpu_flag","id","home_by_cpu_flag","formControlName","home_by_cpu_flag",1,"input"],[1,"col-span-4"],["for","home_by_other_name"],["type","text","name","home_by_other_name","id","home_by_other_name","formControlName","home_by_other_name",1,"input"],["for","type_id"],["name","type_id","id","type_id","formControlName","type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","placement_name"],["type","text","name","placement_name","id","placement_name","formControlName","placement_name",1,"input"],["for","placement_contact_info"],["type","text","name","placement_contact_info","id","placement_contact_info","formControlName","placement_contact_info",1,"input"],["for","schedule_date"],["type","date","name","schedule_date","id","schedule_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"col-span-3"],["for","hospital_name"],["type","text","name","hospital_name","id","hospital_name","formControlName","hospital_name",1,"input"],[1,"col-span-1"],["for","hospital_ward"],["type","text","name","hospital_ward","id","hospital_ward","formControlName","hospital_ward",1,"input"],["for","hospital_date_in"],["type","date","name","hospital_date_in","id","hospital_date_in","formControlName","hospital_date_in",1,"input"],["for","hospital_date_out"],["type","date","name","hospital_date_out","id","hospital_date_out","formControlName","hospital_date_out",1,"input"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center","text-sky-500"],["spin","true",3,"icon"],[1,"flex","justify-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Placement Details "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,ua,18,13,"form",6),e.YNc(8,ga,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(13,"fa-icon",11),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",12)),2&t&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(4),e.Q6J("disabled",n.is_saving||n.placementForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function fa(i,a){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}let va=(()=>{class i{onSubmit(){let t;this.is_saving=!0,t=this.sessionForm.value.id?this.http.update("gender-based-violence/patient-gbv-psych/",this.sessionForm.value.id,this.sessionForm.value):this.http.post("gender-based-violence/patient-gbv-psych",this.sessionForm.value),t.subscribe({next:n=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Session"),this.closeModal()},error:n=>console.log(n)})}createForm(){this.sessionForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,o.kI.required],actual_date:[null,o.kI.required],md_name:[null,o.kI.required],participant_id:[null,o.kI.required]}),this.selected_data&&this.sessionForm.patchValue({...this.selected_data})}loadLibraries(){this.http.get("libraries/gbv-psych-participant").subscribe({next:t=>{this.participants=t.data,this.createForm()},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("session")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.sessionForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),scheduled_date:new o.NI(null),actual_date:new o.NI(null),md_name:new o.NI(null),participant_id:new o.NI(null)})}ngOnChanges(t){console.log("test")}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-session"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},features:[e.TTD],decls:33,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-3","gap-4"],["for","participant_id"],["name","participant_id","id","participant_id","formControlName","participant_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input"],[1,"col-span-3"],["for","md_name"],["type","text","name","md_name","id","md_name","formControlName","md_name",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Session Details "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div")(10,"label",8),e._uU(11,"Participants"),e.qZA(),e.TgZ(12,"select",9),e.YNc(13,fa,2,2,"option",10),e.qZA()(),e.TgZ(14,"div")(15,"label",11),e._uU(16,"Schedule Date"),e.qZA(),e._UZ(17,"input",12),e.qZA(),e.TgZ(18,"div")(19,"label",13),e._uU(20,"Actual Date"),e.qZA(),e._UZ(21,"input",14),e.qZA(),e.TgZ(22,"div",15)(23,"label",16),e._uU(24,"MD Name"),e.qZA(),e._UZ(25,"input",17),e.qZA()()()(),e.TgZ(26,"div",18)(27,"button",19),e.NdJ("click",function(){return n.closeModal()}),e._uU(28,"Close"),e.qZA(),e.TgZ(29,"button",20),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(30,"fa-icon",21),e._uU(31),e.qZA()()()()(),e._UZ(32,"div",22)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.sessionForm),e.xp6(6),e.Q6J("ngForOf",n.participants),e.xp6(16),e.Q6J("disabled",n.is_saving||n.sessionForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function ba(i,a){if(1&i&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function ha(i,a){if(1&i&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Za(i,a){if(1&i&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function xa(i,a){if(1&i&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ta(i,a){if(1&i&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}let wa=(()=>{class i{onSubmit(){let t;this.is_saving=!0,t=this.legalForm.value.id?this.http.update("gender-based-violence/patient-gbv-legal/",this.legalForm.value.id,this.legalForm.value):this.http.post("gender-based-violence/patient-gbv-legal",this.legalForm.value),console.log(this.legalForm.value),t.subscribe({next:n=>{console.log(n),this.is_saving=!1,this.toastr.success("Successfully recorded","Legal Case")},error:n=>console.log(n)})}createForm(){this.legalForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],complaint_filed_flag:[!1,o.kI.required],filing_type_id:[null],nps_docket_number:[null],nps_status_id:[null],filed_by_name:[null],filed_by_relation_id:[null],filed_location_id:[null],filed_location_remarks:[null],case_initiated_flag:[!1],judge_name:[null],court_name:[null],fiscal_name:[null],criminal_case_number:[null],cpumd_testimony_date:[null],verdict_id:[null],blotter_filed_flag:[!1],blotter_remarks:[null]}),console.log(this.legalForm.value),this.selected_data&&this.legalForm.patchValue({...this.selected_data})}loadLibraries(){const t=this.http.get("libraries/child-relation"),n=this.http.get("libraries/gbv-filing-location"),_=this.http.get("libraries/gbv-outcome-verdict"),l=this.http.get("libraries/gbv-filing-type"),r=this.http.get("libraries/gbv-nps-status");(0,I.D)([t,n,_,l,r]).subscribe({next:([s,g,y,Y,O])=>{this.child_relations=s.data,this.filed_locations=g.data,this.verdicts=y.data,this.filing_types=Y.data,this.nps_statuses=O.data,this.createForm()},error:s=>console.log(s)})}closeModal(){this.toggleModal.emit("legal_case")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.legalForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),blotter_filed_flag:new o.NI(!1),blotter_remarks:new o.NI(null),complaint_filed_flag:new o.NI(!1),filing_type_id:new o.NI(null),nps_docket_number:new o.NI(null),nps_status_id:new o.NI(null),filed_by_name:new o.NI(null),filed_by_relation_id:new o.NI(null),filed_location_id:new o.NI(null),filed_location_remarks:new o.NI(null),case_initiated_flag:new o.NI(!1),judge_name:new o.NI(null),court_name:new o.NI(null),fiscal_name:new o.NI(null),criminal_case_number:new o.NI(null),cpumd_testimony_date:new o.NI(null),verdict_id:new o.NI(null)}),this.child_relations=[],this.filed_locations=[],this.verdicts=[],this.filing_types=[],this.nps_statuses=[]}ngOnChanges(t){console.log(this.selected_data)}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-legal-case"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},features:[e.TTD],decls:83,vars:9,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["type","checkbox","name","complaint_filed_flag","id","complaint_filed_flag","formControlName","complaint_filed_flag",1,"input-checkbox"],["for","complaint_filed_flag",1,"pl-3","py-0.5"],["type","checkbox","name","blotter_filed_flag","id","blotter_filed_flag","formControlName","blotter_filed_flag",1,"input-checkbox"],["for","blotter_filed_flag",1,"pl-3","py-0.5"],[1,"col-span-4","grid","grid-cols-3","gap-4"],["for","filing_type_id"],["name","filing_type_id","id","filing_type_id","formControlName","filing_type_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","nps_docket_number"],["type","text","name","nps_docket_number","id","nps_docket_number","formControlName","nps_docket_number",1,"input"],["for","nps_status_id"],["name","nps_status_id","id","nps_status_id","formControlName","nps_status_id",1,"input"],["for","filed_by_name"],["type","text","name","filed_by_name","id","filed_by_name","formControlName","filed_by_name",1,"input"],["for","filed_by_relation_id"],["name","filed_by_relation_id","id","filed_by_relation_id","formControlName","filed_by_relation_id",1,"input"],["for","filed_location_id"],["name","filed_location_id","id","filed_location_id","formControlName","filed_location_id",1,"input"],[1,"col-span-4"],[1,"col-span-4","grid","grid-cols-6","gap-4"],[1,"col-span-3"],["for","cpumd_testimony_date"],["type","date","name","cpumd_testimony_date","id","cpumd_testimony_date","formControlName","cpumd_testimony_date",1,"input"],["for","criminal_case_number"],["type","text","name","criminal_case_number","id","criminal_case_number","formControlName","criminal_case_number",1,"input"],["for","judge_name"],["type","text","name","judge_name","id","judge_name","formControlName","judge_name",1,"input"],["for","court_name"],["type","text","name","court_name","id","court_name","formControlName","court_name",1,"input"],["for","fiscal_name"],["type","text","name","fiscal_name","id","fiscal_name","formControlName","fiscal_name",1,"input"],[1,"col-span-6"],["for","verdict_id"],["name","verdict_id","id","verdict_id","formControlName","verdict_id",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Legal Case Details "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"input",9),e.TgZ(11,"label",10),e._uU(12,"Complaint filed"),e.qZA()(),e.TgZ(13,"div",8),e._UZ(14,"input",11),e.TgZ(15,"label",12),e._uU(16,"Blotter filed"),e.qZA()(),e.TgZ(17,"div",13)(18,"div")(19,"label",14),e._uU(20,"Type of Filing"),e.qZA(),e.TgZ(21,"select",15),e.YNc(22,ba,2,2,"option",16),e.qZA()(),e.TgZ(23,"div")(24,"label",17),e._uU(25,"NPS docket number"),e.qZA(),e._UZ(26,"input",18),e.qZA(),e.TgZ(27,"div")(28,"label",19),e._uU(29,"Case Status"),e.qZA(),e.TgZ(30,"select",20),e.YNc(31,ha,2,2,"option",16),e.qZA()(),e.TgZ(32,"div")(33,"label",21),e._uU(34,"Filed by"),e.qZA(),e._UZ(35,"input",22),e.qZA(),e.TgZ(36,"div")(37,"label",23),e._uU(38,"Relation to survivor"),e.qZA(),e.TgZ(39,"select",24),e.YNc(40,Za,2,2,"option",16),e.qZA()(),e.TgZ(41,"div")(42,"label",25),e._uU(43,"Filed at"),e.qZA(),e.TgZ(44,"select",26),e.YNc(45,xa,2,2,"option",16),e.qZA()()(),e.TgZ(46,"div",27),e._UZ(47,"input",9),e.TgZ(48,"label",10),e._uU(49,"Case update"),e.qZA()(),e.TgZ(50,"div",28)(51,"div",29)(52,"label",30),e._uU(53,"Date of MD Testimony"),e.qZA(),e._UZ(54,"input",31),e.qZA(),e.TgZ(55,"div",29)(56,"label",32),e._uU(57,"Criminal Case Number"),e.qZA(),e._UZ(58,"input",33),e.qZA(),e.TgZ(59,"div",8)(60,"label",34),e._uU(61,"Judge Name"),e.qZA(),e._UZ(62,"input",35),e.qZA(),e.TgZ(63,"div",8)(64,"label",36),e._uU(65,"Court Name"),e.qZA(),e._UZ(66,"input",37),e.qZA(),e.TgZ(67,"div",8)(68,"label",38),e._uU(69,"Fiscal Name"),e.qZA(),e._UZ(70,"input",39),e.qZA(),e.TgZ(71,"div",40)(72,"label",41),e._uU(73,"Verdict"),e.qZA(),e.TgZ(74,"select",42),e.YNc(75,Ta,2,2,"option",16),e.qZA()()()()()(),e.TgZ(76,"div",43)(77,"button",44),e.NdJ("click",function(){return n.closeModal()}),e._uU(78,"Close"),e.qZA(),e.TgZ(79,"button",45),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(80,"fa-icon",46),e._uU(81),e.qZA()()()()(),e._UZ(82,"div",47)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.legalForm),e.xp6(15),e.Q6J("ngForOf",n.filing_types),e.xp6(9),e.Q6J("ngForOf",n.nps_statuses),e.xp6(9),e.Q6J("ngForOf",n.child_relations),e.xp6(5),e.Q6J("ngForOf",n.filed_locations),e.xp6(30),e.Q6J("ngForOf",n.verdicts),e.xp6(4),e.Q6J("disabled",n.is_saving||n.legalForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function ya(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",26),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_invites[r.id]=_)}),e.qZA(),e.TgZ(2,"label",27),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_invites",t.id,""),e.Q6J("ngModel",n.patient_invites[t.id]),e.xp6(1),e.Q2q("for","patient_invites",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Ca(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",26),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_concerns[r.id]=_)}),e.qZA(),e.TgZ(2,"label",27),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_concerns",t.id,""),e.Q6J("ngModel",n.patient_concerns[t.id]),e.xp6(1),e.Q2q("for","patient_concerns",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function qa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",26),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_mitigations[r.id]=_)}),e.qZA(),e.TgZ(2,"label",27),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_mitigations",t.id,""),e.Q6J("ngModel",n.patient_mitigations[t.id]),e.xp6(1),e.Q2q("for","patient_mitigations",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Aa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",26),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_recommendations[r.id]=_)}),e.qZA(),e.TgZ(2,"label",27),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_recommendations",t.id,""),e.Q6J("ngModel",n.patient_recommendations[t.id]),e.xp6(1),e.Q2q("for","patient_recommendations",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function ka(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),e._uU(4,"Conference date"),e.qZA(),e.TgZ(5,"input",16),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_conference.conference_date=_)}),e.qZA()(),e.TgZ(6,"div",17),e._uU(7," Invitees "),e.qZA(),e.TgZ(8,"div",18),e.YNc(9,ya,4,4,"div",19),e.qZA(),e.TgZ(10,"div",20)(11,"label",21),e._uU(12,"Remarks"),e.qZA(),e.TgZ(13,"input",22),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_conference.conference_invitee_remarks=_)}),e.qZA()(),e.TgZ(14,"div",17),e._uU(15," Concerns "),e.qZA(),e.TgZ(16,"div",18),e.YNc(17,Ca,4,4,"div",19),e.qZA(),e.TgZ(18,"div",20)(19,"label",21),e._uU(20,"Remarks"),e.qZA(),e.TgZ(21,"input",23),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_conference.conference_concern_remarks=_)}),e.qZA()(),e.TgZ(22,"div",17),e._uU(23," Mitigating Factors "),e.qZA(),e.TgZ(24,"div",18),e.YNc(25,qa,4,4,"div",19),e.qZA(),e.TgZ(26,"div",20)(27,"label",21),e._uU(28,"Remarks"),e.qZA(),e.TgZ(29,"input",24),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_conference.conference_mitigating_factor_remarks=_)}),e.qZA()(),e.TgZ(30,"div",17),e._uU(31," Recommendations "),e.qZA(),e.TgZ(32,"div",18),e.YNc(33,Aa,4,4,"div",19),e.qZA(),e.TgZ(34,"div",20)(35,"label",21),e._uU(36,"Remarks"),e.qZA(),e.TgZ(37,"input",25),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_conference.conference_recommendation_remarks=_)}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.patient_conference.conference_date),e.xp6(4),e.Q6J("ngForOf",t.invites),e.xp6(4),e.Q6J("ngModel",t.patient_conference.conference_invitee_remarks),e.xp6(4),e.Q6J("ngForOf",t.concerns),e.xp6(4),e.Q6J("ngModel",t.patient_conference.conference_concern_remarks),e.xp6(4),e.Q6J("ngForOf",t.mitigations),e.xp6(4),e.Q6J("ngModel",t.patient_conference.conference_mitigating_factor_remarks),e.xp6(4),e.Q6J("ngForOf",t.recommendations),e.xp6(4),e.Q6J("ngModel",t.patient_conference.conference_recommendation_remarks)}}function Ia(i,a){if(1&i&&(e.TgZ(0,"div",28)(1,"span",29),e._UZ(2,"fa-icon",30),e.qZA(),e.TgZ(3,"span",29),e._uU(4," Loading... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function Ua(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e._UZ(1,"fa-icon",32),e._uU(2),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.is_saving),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?t.patient_conference.id?"Updating":"Saving":t.patient_conference.id?"Update":"Save"," ")}}let Na=(()=>{class i{onSubmit(){this.is_saving=!0;let t=[],n=[],_=[],l=[];this.patient_conference.patient_id=this.patient_id,this.patient_conference.patient_gbv_intake_id=this.patient_gbv_intake_id,Object.entries(this.patient_invites).forEach(([r,s],g)=>{!0===s&&t.push({invite_code:r})}),Object.entries(this.patient_concerns).forEach(([r,s],g)=>{console.log(r,s),!0===s&&n.push({concern_code:r})}),Object.entries(this.patient_mitigations).forEach(([r,s],g)=>{!0===s&&_.push({factor_code:r})}),Object.entries(this.patient_recommendations).forEach(([r,s],g)=>{!0===s&&l.push({recommend_code:r})}),this.patient_conference.invites=t,this.patient_conference.concerns=n,this.patient_conference.mitigations=_,this.patient_conference.recommendations=l,console.log(this.patient_conference),this.http.post("gender-based-violence/patient-gbv-conference",this.patient_conference).subscribe({next:r=>{console.log(r),this.toastr.success("Successfully recorded","Case Conference"),this.is_saving=!1,this.closeModal()},error:r=>console.log(r)})}patchData(){this.selected_data&&(this.patient_conference={...this.selected_data},this.patient_conference.conference_date=(0,d.p6)(this.selected_data.conference_date,"yyyy-MM-dd","en"),this.selected_data.invite&&(this.patient_invites=this.checkSelection(this.selected_data.invite,"invite_code")),this.selected_data.concern&&(this.patient_concerns=this.checkSelection(this.selected_data.concern,"concern_code")),this.selected_data.mitigating_factor&&(this.patient_mitigations=this.checkSelection(this.selected_data.mitigating_factor,"factor_code")),this.selected_data.recommendation&&(this.patient_recommendations=this.checkSelection(this.selected_data.recommendation,"recommend_code")),console.log(this.patient_conference)),this.show_form=!0}checkSelection(t,n){console.log(t,n);let _=[];return Object.entries(t).forEach(([l,r],s)=>{_[r[n]]=!0}),_}loadLibraries(){const t=this.http.get("libraries/gbv-conference-invitee"),n=this.http.get("libraries/gbv-conference-concern"),_=this.http.get("libraries/gbv-conference-mitigating"),l=this.http.get("libraries/gbv-conference-recommendation");(0,I.D)([t,n,_,l]).subscribe({next:([r,s,g,y])=>{this.invites=r.data,this.concerns=s.data,this.mitigations=g.data,this.recommendations=y.data,this.patchData()},error:r=>console.log(r)})}closeModal(){this.toggleModal.emit("case_conference")}constructor(t,n){this.http=t,this.toastr=n,this.toggleModal=new e.vpe,this.faCircleNotch=c.IJ7,this.faSave=m.r6l,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.invites=[],this.concerns=[],this.mitigations=[],this.recommendations=[],this.patient_invites=[],this.patient_concerns=[],this.patient_mitigations=[],this.patient_recommendations=[],this.patient_conference={id:null,patient_id:"",patient_gbv_intake_id:"",conference_date:"",notes:"",conference_invitee_remarks:"",conference_concern_remarks:"",conference_mitigating_factor_remarks:"",conference_recommendation_remarks:"",invites:[],concerns:[],mitigations:[],recommendations:[]}}ngOnInit(){console.log(this.selected_data),this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-case-conference"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},decls:14,vars:3,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[500px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit","class","btn-save px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-4"],["for","conference_date"],["type","date","name","conference_date","id","conference_date",1,"input",3,"ngModel","ngModelChange"],[1,"col-span-4","text-sky-500","font-semibold"],[1,"col-span-4","grid","grid-cols-2","gap-4"],[4,"ngFor","ngForOf"],[1,"col-span-4","flex"],[1,"mt-2","pr-3"],["type","text","name","conference_invitee_remarks","id","conference_invitee_remarks",1,"input",3,"ngModel","ngModelChange"],["type","text","name","conference_concern_remarks","id","conference_concern_remarks",1,"input",3,"ngModel","ngModelChange"],["type","text","name","conference_mitigating_factor_remarks","id","conference_mitigating_factor_remarks",1,"input",3,"ngModel","ngModelChange"],["type","text","name","conference_recommendation_remarks","id","conference_recommendation_remarks",1,"input",3,"ngModel","ngModelChange"],["type","checkbox",1,"input-checkbox",3,"ngModel","ngModelChange"],[1,"pl-3","py-0.5","select-none"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center"],["spin","true",1,"text-sky-500",3,"icon"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"pr-2",3,"icon","spin"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Case Conference "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,ka,38,9,"div",6),e.YNc(8,Ia,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.YNc(12,Ua,3,4,"button",10),e.qZA()()()(),e._UZ(13,"div",11)),2&t&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(4),e.Q6J("ngIf",n.show_form))},dependencies:[d.sg,d.O5,o.Fj,o.Wl,o.JJ,o.On,u.BN]}),i})(),Ja=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.post("gender-based-violence/patient-gbv-legal-visit",this.legalVisitForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Session"),this.closeModal()},error:t=>console.log(t)})}createForm(){this.legalVisitForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_intake_id:[this.patient_gbv_intake_id],scheduled_date:[null,o.kI.required],actual_date:[null,o.kI.required],person_in_charge:[null,o.kI.required]}),this.selected_data&&(this.legalVisitForm.patchValue({...this.selected_data}),console.log("test"))}closeModal(){this.toggleModal.emit("legal_visit")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.max_date=(0,d.p6)(new Date,"yyyy-MM-dd","en"),this.legalVisitForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),scheduled_date:new o.NI(null),actual_date:new o.NI(null),person_in_charge:new o.NI(null)})}ngOnInit(){this.createForm()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-legal-visit"]],inputs:{patient_gbv_intake_id:"patient_gbv_intake_id",patient_id:"patient_id",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},decls:28,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-48","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-2","gap-4"],["for","scheduled_date"],["type","date","name","scheduled_date","id","scheduled_date","formControlName","scheduled_date",1,"input",3,"max"],["for","actual_date"],["type","date","name","actual_date","id","actual_date","formControlName","actual_date",1,"input",3,"max"],[1,"col-span-2"],["for","person_in_charge"],["type","text","name","person_in_charge","id","person_in_charge","formControlName","person_in_charge",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Legal Visits "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div")(10,"label",8),e._uU(11,"Schedule Date"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"div")(14,"label",10),e._uU(15,"Actual Date"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",12)(18,"label",13),e._uU(19,"Name"),e.qZA(),e._UZ(20,"input",14),e.qZA()()()(),e.TgZ(21,"div",15)(22,"button",16),e.NdJ("click",function(){return n.closeModal()}),e._uU(23,"Close"),e.qZA(),e.TgZ(24,"button",17),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(25,"fa-icon",18),e._uU(26),e.qZA()()()()(),e._UZ(27,"div",19)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.legalVisitForm),e.xp6(5),e.Q6J("max",n.max_date),e.xp6(4),e.Q6J("max",n.max_date),e.xp6(8),e.Q6J("disabled",n.is_saving||n.legalVisitForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave)("spin",n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function Qa(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," Doctor Only "),e.qZA())}function Ma(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("medical_consult"))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function Fa(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function Ya(i,a){1&i&&e._UZ(0,"td",23)}function Oa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.toggleModal("medical_consult",_))}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faEdit)}}function Sa(i,a){if(1&i&&(e.TgZ(0,"tr",24),e.YNc(1,Oa,2,1,"td",25),e.TgZ(2,"td",26)(3,"span",27),e._uU(4,"Physician "),e.qZA(),e._UZ(5,"br"),e._uU(6),e._UZ(7,"br")(8,"br"),e.TgZ(9,"span",27),e._uU(10,"Scheduled date: "),e.qZA(),e._uU(11),e.ALo(12,"date"),e._UZ(13,"br"),e.TgZ(14,"span",27),e._uU(15,"Actual date: "),e.qZA(),e._uU(16),e.ALo(17,"date"),e._UZ(18,"br"),e.qZA(),e.TgZ(19,"td",26)(20,"span",27),e._uU(21,"Lab test "),e.qZA(),e._UZ(22,"br"),e._uU(23),e._UZ(24,"br")(25,"br"),e.TgZ(26,"span",27),e._uU(27,"Date in: "),e.qZA(),e._uU(28),e.ALo(29,"date"),e._UZ(30,"br"),e.TgZ(31,"span",27),e._uU(32,"Date due: "),e.qZA(),e._uU(33),e.ALo(34,"date"),e._UZ(35,"br"),e.TgZ(36,"span",27),e._uU(37,"Date out: "),e.qZA(),e._uU(38),e.ALo(39,"date"),e._UZ(40,"br"),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);let _,l,r,s;e.xp6(1),e.Q6J("ngIf","MD"===n.pos),e.xp6(5),e.hij(" ",t.physician," "),e.xp6(5),e.hij(" ",e.xi3(12,8,t.scheduled_date,"MM/dd/yyyy")," "),e.xp6(5),e.hij(" ",e.xi3(17,11,t.actual_date,"MM/dd/yyyy")," "),e.xp6(7),e.hij(" ",null!==(_=t.lab_test)&&void 0!==_?_:"-"," "),e.xp6(5),e.hij(" ",e.xi3(29,14,t.date_in,null!==(l="MM/dd/yyyy")&&void 0!==l?l:"-")," "),e.xp6(5),e.hij(" ",e.xi3(34,17,t.date_due,null!==(r="MM/dd/yyyy")&&void 0!==r?r:"-")," "),e.xp6(5),e.hij(" ",e.xi3(39,20,t.date_out,null!==(s="MM/dd/yyyy")&&void 0!==s?s:"-")," ")}}function ja(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,Ya,1,0,"td",19),e.TgZ(4,"td",20),e._uU(5," Consultation "),e.qZA(),e.TgZ(6,"td",21),e._uU(7," Labs "),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,Sa,41,23,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","MD"===t.pos),e.xp6(6),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit)}}function Ga(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," MSWDO Only "),e.qZA())}function Ea(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("home_visit"))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function Va(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function Ka(i,a){1&i&&e._UZ(0,"td",23)}function Da(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.toggleModal("home_visit",_))}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faEdit)}}function Pa(i,a){if(1&i&&(e.TgZ(0,"tr",24),e.YNc(1,Da,2,1,"td",25),e.TgZ(2,"td",28),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf","MSWDO"===n.pos),e.xp6(2),e.hij(" ",e.xi3(4,4,t.visit_date,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",t.social_worker," "),e.xp6(2),e.hij(" ",t.social_worker_remarks," ")}}function Ha(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,Ka,1,0,"td",19),e.TgZ(4,"td",30),e._uU(5," Visit date"),e._UZ(6,"br"),e.qZA(),e.TgZ(7,"td",31),e._uU(8," Social Worker "),e.qZA(),e.TgZ(9,"td",31),e._uU(10," Social Worker Notes "),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,Pa,9,7,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(9),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work)}}function La(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," MSWDO Only "),e.qZA())}function $a(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("placement"))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function Ra(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function Ba(i,a){1&i&&e._UZ(0,"td",23)}function Wa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.toggleModal("placement",_))}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faEdit)}}function za(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Home "),e.qZA())}function Xa(i,a){if(1&i&&(e.TgZ(0,"div")(1,"span",36),e._uU(2,"Placement by:"),e.qZA(),e._uU(3),e._UZ(4,"br"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.home_by_other_name," ")}}function eo(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,za,2,0,"div",12),e.YNc(2,Xa,5,1,"div",12),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.home_by_cpu_flag),e.xp6(1),e.Q6J("ngIf",!t.home_by_cpu_flag)}}function to(i,a){if(1&i&&(e.TgZ(0,"div")(1,"span",36),e._uU(2,"Placement type:"),e.qZA(),e._uU(3),e._UZ(4,"br"),e.TgZ(5,"span",36),e._uU(6,"Placement name:"),e.qZA(),e._uU(7),e._UZ(8,"br"),e.TgZ(9,"span",36),e._uU(10,"Contact info:"),e.qZA(),e._uU(11),e._UZ(12,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(null==t.placement_type?null:t.placement_type.desc),e.xp6(4),e.Oqu(t.placement_name),e.xp6(4),e.Oqu(t.placement_contact_info)}}function io(i,a){if(1&i&&(e.TgZ(0,"div")(1,"span",36),e._uU(2,"Hospital Name:"),e.qZA(),e._uU(3),e._UZ(4,"br"),e.TgZ(5,"span",36),e._uU(6,"Ward:"),e.qZA(),e._uU(7),e._UZ(8,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.hospital_name," "),e.xp6(4),e.hij(" ",t.hospital_ward," ")}}function no(i,a){if(1&i&&(e.TgZ(0,"div")(1,"span",36),e._uU(2,"Date in:"),e.qZA(),e._uU(3),e.ALo(4,"date"),e._UZ(5,"br"),e.TgZ(6,"span",36),e._uU(7,"Date out:"),e.qZA(),e._uU(8),e.ALo(9,"date"),e._UZ(10,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,2,t.scheduled_date,"MM/dd/yyyy")," "),e.xp6(5),e.hij(" ",e.xi3(9,5,t.actual_date,"MM/dd/yyyy")," ")}}function ao(i,a){if(1&i&&(e.TgZ(0,"div")(1,"span",36),e._uU(2,"Date in:"),e.qZA(),e._uU(3),e.ALo(4,"date"),e._UZ(5,"br"),e.TgZ(6,"span",36),e._uU(7,"Date out:"),e.qZA(),e._uU(8),e.ALo(9,"date"),e._UZ(10,"br"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,2,t.hospital_date_in,"MM/dd/yyyy")," "),e.xp6(5),e.hij(" ",e.xi3(9,5,t.hospital_date_out,"MM/dd/yyyy")," ")}}function oo(i,a){if(1&i&&(e.TgZ(0,"tr",24),e.YNc(1,Wa,2,1,"td",25),e.TgZ(2,"td",32),e.YNc(3,eo,3,2,"div",12),e.YNc(4,to,13,3,"div",12),e.YNc(5,io,9,2,"div",12),e.qZA(),e.TgZ(6,"td",35),e.YNc(7,no,11,8,"div",12),e.YNc(8,ao,11,8,"div",12),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf","MSWDO"===n.pos),e.xp6(2),e.Q6J("ngIf",1===t.location_id),e.xp6(1),e.Q6J("ngIf",2===t.location_id||3===t.location_id||5===t.location_id),e.xp6(1),e.Q6J("ngIf",4===t.location_id),e.xp6(2),e.Q6J("ngIf",2===t.location_id||3===t.location_id||5===t.location_id),e.xp6(1),e.Q6J("ngIf",4===t.location_id)}}function _o(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,Ba,1,0,"td",19),e.TgZ(4,"td",33),e._uU(5," Placement "),e.qZA(),e.TgZ(6,"td",34),e._uU(7," Date "),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,oo,9,6,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(6),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement)}}function lo(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," Doctors Only "),e.qZA())}function ro(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("session"))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function so(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function co(i,a){1&i&&e._UZ(0,"td",23)}function po(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.toggleModal("session",_))}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faEdit)}}function uo(i,a){if(1&i&&(e.TgZ(0,"tr",24),e.YNc(1,po,2,1,"td",25),e.TgZ(2,"td",28),e._uU(3),e.qZA(),e.TgZ(4,"td",28),e._uU(5),e.qZA(),e.TgZ(6,"td",28),e._uU(7),e.ALo(8,"date"),e._UZ(9,"br"),e._uU(10),e.ALo(11,"date"),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf","MD"===n.pos),e.xp6(2),e.hij(" ",t.participant.desc," "),e.xp6(2),e.hij(" ",t.md_name," "),e.xp6(2),e.hij(" ",e.xi3(8,5,t.scheduled_date,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(11,8,t.actual_date,"MM/dd/yyyy")," ")}}function go(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,co,1,0,"td",19),e.TgZ(4,"td",34),e._uU(5," Participant "),e.qZA(),e.TgZ(6,"td",34),e._uU(7," Psychiatrist "),e.qZA(),e.TgZ(8,"td",33),e._uU(9," Scheduled Date "),e._UZ(10,"br"),e._uU(11," Actual Date "),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,uo,12,11,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","MD"===t.pos),e.xp6(10),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych)}}function mo(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," WCPD Only "),e.qZA())}function fo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(3);return e.KtG(_.toggleModal("legal_case",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.intervention_legal))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("icon",t.faPlus)}}function vo(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,fo,2,1,"button",37),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal))}}function bo(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function ho(i,a){1&i&&e._UZ(0,"td",23)}function Zo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",41)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(3);return e.KtG(_.toggleModal("legal_case",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.intervention_legal))}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("icon",t.faEdit)}}function xo(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,ho,1,0,"td",19),e.TgZ(4,"td",34),e._uU(5," Filing Details "),e.qZA(),e.TgZ(6,"td",34),e._uU(7," Date of CPU MD Testimony "),e.qZA(),e.TgZ(8,"td",33),e._uU(9," Court Details "),e.qZA()()(),e.TgZ(10,"tbody")(11,"tr",24),e.YNc(12,Zo,2,1,"td",39),e.TgZ(13,"td",32)(14,"span",40),e._uU(15,"Filed by: "),e.qZA(),e._UZ(16,"br"),e._uU(17),e._UZ(18,"br")(19,"br"),e.TgZ(20,"span",40),e._uU(21,"Relationship to victim survivor:"),e.qZA(),e._UZ(22,"br"),e._uU(23),e._UZ(24,"br")(25,"br"),e.TgZ(26,"span",40),e._uU(27,"Filed at:"),e.qZA(),e._UZ(28,"br"),e._uU(29),e._UZ(30,"br")(31,"br"),e.TgZ(32,"span",40),e._uU(33,"Filing Type:"),e.qZA(),e._UZ(34,"br"),e._uU(35),e._UZ(36,"br")(37,"br"),e.TgZ(38,"span",40),e._uU(39,"Filing Status:"),e.qZA(),e._UZ(40,"br"),e._uU(41),e._UZ(42,"br")(43,"br"),e.qZA(),e.TgZ(44,"td",32),e._uU(45),e.ALo(46,"date"),e.qZA(),e.TgZ(47,"td",28)(48,"span",40),e._uU(49,"Criminal Case Number: "),e.qZA(),e._UZ(50,"br"),e._uU(51),e._UZ(52,"br")(53,"br"),e.TgZ(54,"span",40),e._uU(55,"Judge: "),e.qZA(),e._UZ(56,"br"),e._uU(57),e._UZ(58,"br")(59,"br"),e.TgZ(60,"span",40),e._uU(61,"Court: "),e.qZA(),e._UZ(62,"br"),e._uU(63),e._UZ(64,"br")(65,"br"),e.TgZ(66,"span",40),e._uU(67,"Fiscal Name: "),e.qZA(),e._UZ(68,"br"),e._uU(69),e._UZ(70,"br")(71,"br"),e.TgZ(72,"span",40),e._uU(73,"Verdict: "),e.qZA(),e._UZ(74,"br"),e._uU(75),e.qZA()()()()),2&i){const t=e.oxw(2);let n;e.xp6(3),e.Q6J("ngIf","WCPD"===t.pos),e.xp6(9),e.Q6J("ngIf","WCPD"===t.pos),e.xp6(5),e.hij(" ",null!==(n=null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.filed_by_name)&&void 0!==n?n:"-"," "),e.xp6(6),e.hij(" ",null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal.relation?null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.relation.desc:"-"," "),e.xp6(6),e.hij(" ",null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal.filed_location?null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.filed_location.desc:"-",""),e.xp6(6),e.hij(" ",null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal.filed_type?null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.filed_type.desc:"-",""),e.xp6(6),e.hij(" ",null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal.nps_status?null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.nps_status.desc:"-",""),e.xp6(4),e.hij(" ",e.xi3(46,13,null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.cpumd_testimony_date,"MM/dd/yyyy")," "),e.xp6(6),e.hij(" ",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.criminal_case_number," "),e.xp6(6),e.hij(" ",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.judge_name," "),e.xp6(6),e.hij(" ",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.court_name,""),e.xp6(6),e.hij(" ",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.fiscal_name,""),e.xp6(6),e.hij(" ",null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal.verdict?null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal.verdict.desc:"-"," ")}}function To(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1," WCPD Only "),e.qZA())}function wo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("legal_visit"))}),e._UZ(1,"fa-icon",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faPlus)}}function yo(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function Co(i,a){1&i&&e._UZ(0,"td",23)}function qo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"fa-icon",29),e.NdJ("click",function(){e.CHM(t);const _=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.toggleModal("legal_visit",_))}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("icon",t.faEdit)}}function Ao(i,a){if(1&i&&(e.TgZ(0,"tr",24),e.YNc(1,qo,2,1,"td",25),e.TgZ(2,"td",28),e._uU(3),e.qZA(),e.TgZ(4,"td",28),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",28),e._uU(8),e.ALo(9,"date"),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf","MD"===n.pos),e.xp6(2),e.hij(" ",t.person_in_charge," "),e.xp6(2),e.hij(" ",e.xi3(6,4,t.scheduled_date,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(9,7,t.actual_date,"MM/dd/yyyy")," ")}}function ko(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e.YNc(3,Co,1,0,"td",19),e.TgZ(4,"td",34),e._uU(5," Name "),e.qZA(),e.TgZ(6,"td",34),e._uU(7," Schedule Date "),e.qZA(),e.TgZ(8,"td",34),e._uU(9," Actual Date "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Ao,10,10,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","MD"===t.pos),e.xp6(8),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit)}}function Io(i,a){1&i&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2," No records to show "),e.qZA()())}function Uo(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e._UZ(2,"br"),e.qZA())}function No(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" - ",t.invite.desc," ")}}function Jo(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e._UZ(2,"br"),e.qZA())}function Qo(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" - ",t.concern.desc," ")}}function Mo(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e._UZ(2,"br"),e.qZA())}function Fo(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" - ",t.mitigating_factor.desc," ")}}function Yo(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1," - "),e._UZ(2,"br"),e.qZA())}function Oo(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" - ",t.recommendation.desc," ")}}function So(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",24)(1,"td",28)(2,"fa-icon",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.toggleModal("case_conference",l))}),e.qZA()(),e.TgZ(3,"td",28),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",26)(7,"div",42)(8,"span",43),e._uU(9,"Invitees"),e.qZA(),e._UZ(10,"br"),e.YNc(11,Uo,3,0,"span",12),e.YNc(12,No,3,1,"span",44),e._uU(13),e.qZA(),e.TgZ(14,"div",42)(15,"span",43),e._uU(16,"Concerns"),e.qZA(),e._UZ(17,"br"),e.YNc(18,Jo,3,0,"span",12),e.YNc(19,Qo,3,1,"span",44),e._uU(20),e.qZA()(),e.TgZ(21,"td",26)(22,"div",42)(23,"span",43),e._uU(24,"Mitigating factors"),e.qZA(),e._UZ(25,"br"),e.YNc(26,Mo,3,0,"span",12),e.YNc(27,Fo,3,1,"span",44),e._uU(28),e.qZA(),e.TgZ(29,"div",42)(30,"span",43),e._uU(31,"Recommendations"),e.qZA(),e._UZ(32,"br"),e.YNc(33,Yo,3,0,"span",12),e.YNc(34,Oo,3,1,"span",44),e._uU(35),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(3);let _,l,r,s;e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(2),e.hij(" ",e.xi3(5,14,t.conference_date,"MM/dd/yyyy")," "),e.xp6(7),e.Q6J("ngIf",0===t.invite.length),e.xp6(1),e.Q6J("ngForOf",t.invite),e.xp6(1),e.hij(" Remarks: ",null!==(_=t.conference_invitee_remarks)&&void 0!==_?_:"-"," "),e.xp6(5),e.Q6J("ngIf",0===t.concern.length),e.xp6(1),e.Q6J("ngForOf",t.concern),e.xp6(1),e.hij(" Remarks: ",null!==(l=t.conference_concern_remarks)&&void 0!==l?l:"-"," "),e.xp6(6),e.Q6J("ngIf",0===t.mitigating_factor.length),e.xp6(1),e.Q6J("ngForOf",t.mitigating_factor),e.xp6(1),e.hij(" Remarks: ",null!==(r=t.conference_mitigating_factor_remarks)&&void 0!==r?r:"-"," "),e.xp6(5),e.Q6J("ngIf",0===t.recommendation.length),e.xp6(1),e.Q6J("ngForOf",t.recommendation),e.xp6(1),e.hij(" Remarks: ",null!==(s=t.conference_recommendation_remarks)&&void 0!==s?s:"-"," ")}}function jo(i,a){if(1&i&&(e.TgZ(0,"table",18)(1,"thead")(2,"tr"),e._UZ(3,"td",23),e.TgZ(4,"td",30),e._uU(5," Date "),e.qZA(),e.TgZ(6,"td",34),e._uU(7," Invitees & Concerns "),e.qZA(),e.TgZ(8,"td",34),e._uU(9," Mitigating factors & Recommendations "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,So,36,17,"tr",22),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference)}}function Go(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),e._uU(4," Consults "),e.qZA(),e.TgZ(5,"div",6)(6,"div",7)(7,"span"),e._uU(8,"Visits"),e.qZA(),e.YNc(9,Qa,2,0,"span",8),e.YNc(10,Ma,2,1,"button",9),e.qZA(),e.YNc(11,Fa,3,0,"div",10),e.YNc(12,ja,10,2,"table",11),e.qZA()(),e.TgZ(13,"div",4)(14,"div",5),e._uU(15," Social Worker "),e.qZA(),e.TgZ(16,"div",6)(17,"div",7)(18,"span"),e._uU(19,"Home Visits"),e.qZA(),e.YNc(20,Ga,2,0,"span",8),e.YNc(21,Ea,2,1,"button",9),e.qZA(),e.YNc(22,Va,3,0,"div",10),e.YNc(23,Ha,13,2,"table",11),e.qZA(),e.TgZ(24,"div",6)(25,"div",7)(26,"span"),e._uU(27,"Placements"),e.qZA(),e.YNc(28,La,2,0,"span",8),e.YNc(29,$a,2,1,"button",9),e.qZA(),e.YNc(30,Ra,3,0,"div",10),e.YNc(31,_o,10,2,"table",11),e.qZA()(),e.TgZ(32,"div",4)(33,"div",5),e._uU(34," Psychiatry "),e.qZA(),e.TgZ(35,"div",6)(36,"div",7)(37,"span"),e._uU(38,"Sessions"),e.qZA(),e.YNc(39,lo,2,0,"span",8),e.YNc(40,ro,2,1,"button",9),e.qZA(),e.YNc(41,so,3,0,"div",10),e.YNc(42,go,14,2,"table",11),e.qZA()(),e.TgZ(43,"div",4)(44,"div",5),e._uU(45," Legal "),e.qZA(),e.TgZ(46,"div",6)(47,"div",7)(48,"span"),e._uU(49,"Case Details"),e.qZA(),e.YNc(50,mo,2,0,"span",8),e.YNc(51,vo,2,1,"div",12),e.qZA(),e.YNc(52,bo,3,0,"div",10),e.YNc(53,xo,76,16,"table",11),e.qZA(),e.TgZ(54,"div",6)(55,"div",7)(56,"span"),e._uU(57,"Case Visits"),e.qZA(),e.YNc(58,To,2,0,"span",8),e.YNc(59,wo,2,1,"button",9),e.qZA(),e.YNc(60,yo,3,0,"div",10),e.YNc(61,ko,12,2,"table",11),e.qZA()(),e.TgZ(62,"div",4)(63,"div",5),e._uU(64," Multidisciplinary Case Conferences "),e.qZA(),e.TgZ(65,"div",6)(66,"div",7)(67,"span"),e._uU(68,"Case Conference"),e.qZA(),e.TgZ(69,"button",13),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("case_conference"))}),e._UZ(70,"fa-icon",14),e.qZA()(),e.YNc(71,Io,3,0,"div",10),e.YNc(72,jo,12,1,"table",11),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngIf","MD"!==t.pos),e.xp6(1),e.Q6J("ngIf","MD"===t.pos),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.consult_visit.length)>0),e.xp6(8),e.Q6J("ngIf","MSWDO"!==t.pos),e.xp6(1),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_social_work.length)>0),e.xp6(5),e.Q6J("ngIf","MSWDO"!==t.pos),e.xp6(1),e.Q6J("ngIf","MSWDO"===t.pos),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_placement.length)>0),e.xp6(8),e.Q6J("ngIf","MD"!==t.pos),e.xp6(1),e.Q6J("ngIf","MD"===t.pos),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_psych.length)>0),e.xp6(8),e.Q6J("ngIf","WCPD"!==t.pos),e.xp6(1),e.Q6J("ngIf","WCPD"===t.pos),e.xp6(1),e.Q6J("ngIf",!(null!=t.selected_gbv_case&&t.selected_gbv_case.gbvIntake.intervention_legal)),e.xp6(1),e.Q6J("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal),e.xp6(5),e.Q6J("ngIf","WCPD"!==t.pos),e.xp6(1),e.Q6J("ngIf","WCPD"===t.pos),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.intervention_legal_visit.length)>0),e.xp6(9),e.Q6J("icon",t.faPlus),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.case_conference.length)>0)}}function Eo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-medical-consult",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Vo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-home-visit",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Ko(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-placement",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Do(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-session",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Po(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-legal-case",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Ho(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-legal-visit",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function Lo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-case-conference",45),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_data",t.selected_data)("patient_gbv_intake_id",t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}let $o=(()=>{class i{reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:n=>{this.selected_gbv_case=n.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case)},error:n=>console.log(n)})}toggleModal(t,n){console.log(n),this.selected_data=n||null,this.modals[t]=!this.modals[t],this.modals[t]||this.reloadData()}constructor(t,n){this.http=t,this.toastr=n,this.updateSelectedGbv=new e.vpe,this.faPlus=c.r8p,this.faEdit=m.Xcf,this.faSave=c.r6l,this.show_form=!0,this.modals=[]}ngOnChanges(t){console.log(this.selected_gbv_case)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-intervention"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},features:[e.TTD],decls:8,vars:8,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"selected_data","patient_gbv_intake_id","patient_id","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["class","text-xs italic pt-1",4,"ngIf"],["type","button","class","bg-white text-sky-500 px-2 rounded text-xs",3,"click",4,"ngIf"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[4,"ngIf"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],[1,"text-xs","italic","pt-1"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],["class","w-1/12",4,"ngIf"],[1,"text-center","font-semibold","w-6/12","align-top","pt-3"],[1,"text-center","font-semibold","w-5/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"w-1/12"],[1,"border-t","border-slate-200"],["class","text-center align-top pt-3",4,"ngIf"],[1,"text-left","align-top","pt-3"],[1,"font-semibold","italic"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"icon","click"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],[1,"font-semibold","w-4/12","align-top","pt-3"],[1,"align-top","pt-3"],[1,"text-center","font-semibold","w-7/12","align-top","pt-3"],[1,"text-center","font-semibold","w-4/12","align-top","pt-3"],[1,"align-top","pt-3","px-3"],[1,"font-semibold"],["type","button","class","bg-white text-sky-500 px-2 py-1 rounded text-xs",3,"click",4,"ngIf"],["type","button",1,"bg-white","text-sky-500","px-2","py-1","rounded","text-xs",3,"click"],["class","text-center",4,"ngIf"],[1,"italic","font-semibold","text-sm"],[1,"text-center"],[1,"mb-5"],[1,"italic","font-semibold"],[4,"ngFor","ngForOf"],[3,"selected_data","patient_gbv_intake_id","patient_id","toggleModal"]],template:function(t,n){1&t&&(e.YNc(0,Go,73,27,"div",0),e.YNc(1,Eo,1,3,"app-medical-consult",1),e.YNc(2,Vo,1,3,"app-home-visit",1),e.YNc(3,Ko,1,3,"app-placement",1),e.YNc(4,Do,1,3,"app-session",1),e.YNc(5,Po,1,3,"app-legal-case",1),e.YNc(6,Ho,1,3,"app-legal-visit",1),e.YNc(7,Lo,1,3,"app-case-conference",1)),2&t&&(e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",n.modals.medical_consult),e.xp6(1),e.Q6J("ngIf",n.modals.home_visit),e.xp6(1),e.Q6J("ngIf",n.modals.placement),e.xp6(1),e.Q6J("ngIf",n.modals.session),e.xp6(1),e.Q6J("ngIf",n.modals.legal_case),e.xp6(1),e.Q6J("ngIf",n.modals.legal_visit),e.xp6(1),e.Q6J("ngIf",n.modals.case_conference))},dependencies:[d.sg,d.O5,u.BN,zn,Xn,ma,va,wa,Na,Ja,d.uU]}),i})();var F=h(7966);function Bo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",16)(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td",18)(4,"input",19),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.medical_exam[1][r.id]=_)}),e.qZA()(),e.TgZ(5,"td",18)(6,"input",19),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.medical_exam[2][r.id]=_)}),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw();e.xp6(2),e.hij(" ",t.desc," "),e.xp6(2),e.Q6J("ngModel",n.medical_exam[1][t.id]),e.xp6(2),e.Q6J("ngModel",n.medical_exam[2][t.id])}}let Wo=(()=>{class i{onSubmit(){let t=[];Object.entries(this.medical_exam).forEach(([_,l],r)=>{Object.entries(l).forEach(([s,g],y)=>{g&&t.push({[this.selected_exam.var_id]:s,info_source_id:_})})});let n={patient_id:this.patient_id,patient_gbv_intake_id:this.intake_id,[this.selected_exam.arr_var_name]:t};console.log(n),this.http.post("gender-based-violence/"+this.selected_exam.save_url,n).subscribe({next:_=>{this.toastr.success("Successfully recorded",this.selected_exam.act_title),this.closeModal()},error:_=>console.log(_)})}loadSymptoms(){this.selected_exam.data&&Object.entries(this.selected_exam.data).forEach(([t,n],_)=>{1===n.info_source_id&&(this.medical_exam[1][n[this.selected_exam.var_id]]=!0),2===n.info_source_id&&(this.medical_exam[2][n[this.selected_exam.var_id]]=!0)}),console.log(this.medical_exam)}loadLibraries(){this.http.get("libraries/"+this.selected_exam.url).subscribe({next:t=>{this.exams=t.data,this.loadSymptoms()},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("anogenital")}constructor(t,n){this.http=t,this.toastr=n,this.toggleModal=new e.vpe,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_error=!1,this.exams=[],this.medical_exam={1:[],2:[]}}ngOnInit(){this.loadLibraries(),console.log(this.selected_exam)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-anogenital"]],inputs:{selected_exam:"selected_exam",intake_id:"intake_id",patient_id:"patient_id"},outputs:{toggleModal:"toggleModal"},decls:25,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500","sticky","top-0"],["scope","col",1,"py-3","text-center","w-2/5"],["scope","col",1,"py-3","text-center","w-1/5"],[1,"h-96","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"py-4","text-center"],["type","checkbox",1,"input-checkbox",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),e._uU(11,"Description"),e.qZA(),e.TgZ(12,"th",9),e._uU(13,"Victim Survivor"),e.qZA(),e.TgZ(14,"th",9),e._uU(15,"Historian"),e.qZA()()(),e.TgZ(16,"tbody",10),e.YNc(17,Bo,7,3,"tr",11),e.qZA()()(),e.TgZ(18,"div",12)(19,"button",13),e.NdJ("click",function(){return n.closeModal()}),e._uU(20,"Close"),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(22,"fa-icon"),e._uU(23),e.qZA()()()()(),e._UZ(24,"div",15)),2&t&&(e.xp6(5),e.hij(" ",n.selected_exam.exam_title," "),e.xp6(12),e.Q6J("ngForOf",n.exams),e.xp6(4),e.Q6J("disabled",n.is_saving),e.xp6(2),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,o.Wl,o.JJ,o.On,u.BN]}),i})();function zo(i,a){1&i&&(e.TgZ(0,"div",19),e._uU(1," Invalid File "),e.qZA())}let Xo=(()=>{class i{onFileChange(t){console.log(t.target.files[0]),this.file_to_upload=t.target.files[0]}uploadFile(t){if(this.is_uploading=!0,"application/pdf"===this.file_to_upload.type){this.file_error=!1;const n=new FormData;n.append("file",this.file_to_upload),n.append("file_title",this.file_title),n.append("file_desc",this.file_description),n.append("patient_id",this.patient_id),n.append("patient_gbv_id",this.gbv_id),this.http.post("gender-based-violence/patient-gbv-file-upload",n).subscribe({next:_=>{this.toastr.success("Successfully uploaded","File Upload"),this.closeModal()},error:_=>{console.log(_),this.resetInput()}})}else this.file_error=!0,this.is_uploading=!1}resetInput(){this.is_uploading=!1,this.file_to_upload=null,this.file=null}closeModal(){this.toggleFileModal.emit("file_upload")}constructor(t,n){this.http=t,this.toastr=n,this.toggleFileModal=new e.vpe,this.faUpload=c.cf$,this.faCircleNotch=c.IJ7,this.faFileUpload=c.Y9i,this.is_uploading=!1,this.file_to_upload=null,this.file=null,this.file_error=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-file-upload"]],inputs:{gbv_id:"gbv_id",patient_id:"patient_id"},outputs:{toggleFileModal:"toggleFileModal"},decls:27,vars:8,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"grid","grid-cols-1","m-5"],["for","file_title"],["type","text","name","file_title","id","file_title",1,"input",3,"ngModel","ngModelChange"],["for","file_description"],["name","file_description","id","file_description",1,"input",3,"ngModel","ngModelChange"],[1,"flex","justify-center","mx-auto","py-5"],["accept","application/pdf","type","file","id","file",1,"form-control","w-full","px-3","py-1.5","text-base","font-normal","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded-lg","transition","ease-in-out","m-0","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"ngModel","change","ngModelChange"],["class","text-red-500",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon","spin"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-red-500"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," File Upload "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div")(9,"label",7),e._uU(10,"Document title"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(l){return n.file_title=l}),e.qZA()(),e.TgZ(12,"div")(13,"label",9),e._uU(14,"Document description"),e.qZA(),e.TgZ(15,"textarea",10),e.NdJ("ngModelChange",function(l){return n.file_description=l}),e._uU(16,"            "),e.qZA()(),e.TgZ(17,"div",11)(18,"input",12),e.NdJ("change",function(l){return n.onFileChange(l)})("ngModelChange",function(l){return n.file=l}),e.qZA()(),e.YNc(19,zo,2,0,"div",13),e.qZA()(),e.TgZ(20,"div",14)(21,"button",15),e.NdJ("click",function(){return n.closeModal()}),e._uU(22,"Close"),e.qZA(),e.TgZ(23,"button",16),e.NdJ("click",function(){return n.uploadFile(n.file_to_upload)}),e._UZ(24,"fa-icon",17),e._uU(25),e.qZA()()()()(),e._UZ(26,"div",18)),2&t&&(e.xp6(11),e.Q6J("ngModel",n.file_title),e.xp6(4),e.Q6J("ngModel",n.file_description),e.xp6(3),e.Q6J("ngModel",n.file),e.xp6(1),e.Q6J("ngIf",n.file_error),e.xp6(4),e.Q6J("disabled",n.is_uploading),e.xp6(1),e.Q6J("icon",n.is_uploading?n.faCircleNotch:n.faFileUpload)("spin",n.is_uploading),e.xp6(1),e.hij(" ",n.is_uploading?"Uploading":"Upload"," "))},dependencies:[d.O5,o.Fj,o.JJ,o.On,u.BN]}),i})();const e_=["pdfViewer"];function t_(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"fa-icon",14),e.qZA(),e.TgZ(3,"div",15),e._uU(4," Retrieving File... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let i_=(()=>{class i{showFile(){this.http.get("gender-based-violence/patient-gbv-file-upload/"+this.selected_file_id,{responseType:"blob"}).subscribe({next:t=>{if(console.log(t),this.show_form=!0,this.show_form){const n=new Blob([t],{type:"application/pdf"}),_=URL.createObjectURL(n);this.pdfViewer.nativeElement.src=_}},error:t=>console.log(t)})}closeModal(){this.toggleModal.emit("view_file")}constructor(t){this.http=t,this.toggleModal=new e.vpe,this.faCircleNotch=c.IJ7,this.show_form=!1}ngOnInit(){this.showFile()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-file"]],viewQuery:function(t,n){if(1&t&&e.Gf(e_,5),2&t){let _;e.iGM(_=e.CRH())&&(n.pdfViewer=_.first)}},inputs:{selected_file_id:"selected_file_id"},outputs:{toggleModal:"toggleModal"},decls:14,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-5xl"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[800px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","grid grid-cols-1 mt-36",4,"ngIf"],["width","100%","height","100%","frameborder","0"],["pdfViewer",""],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-1","mt-36"],[1,"flex","justify-center","text-sky-500"],["spin","true",3,"icon"],[1,"flex","justify-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," File Upload "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,t_,5,1,"div",6),e._UZ(8,"iframe",7,8),e.qZA(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return n.closeModal()}),e._uU(12,"Close"),e.qZA()()()()(),e._UZ(13,"div",11)),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.show_form))},dependencies:[d.O5,u.BN]}),i})();var K=h(6054);function n_(i,a){if(1&i&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("Age: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.menarche_age,"")}}function a_(i,a){if(1&i&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("If yes: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.taking_medication_remarks,"")}}function o_(i,a){if(1&i&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("If yes why?: ",null==t.selected_gbv_case.gbvIntake.medical_history?null:t.selected_gbv_case.gbvIntake.medical_history.past_hospital_remarks,"")}}function __(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_normal=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_normal)}}function l_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_abnormal=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_abnormal)}}function r_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_stunting=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_stunting)}}function s_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_wasting=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_wasting)}}function d_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_dirty_unkempt=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_dirty_unkempt)}}function c_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_stuporous=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_stuporous)}}function p_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_pale=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_pale)}}function u_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_non_ambulant=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_non_ambulant)}}function g_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_drowsy=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_drowsy)}}function m_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_respiratory=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_respiratory)}}function f_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"input",59),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.selected_gbv_case.gbvIntake.medical_history.general_survey_others=_)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.selected_gbv_case.gbvIntake.medical_history.general_survey_others)}}function v_(i,a){if(1&i&&e._UZ(0,"input",25),2&i){const t=e.oxw();e.Q6J("checked",1===t.selected_gbv_case.gbvIntake.medical_history.scar_physical_abuse_flag)}}function b_(i,a){if(1&i&&e._UZ(0,"input",25),2&i){const t=e.oxw();e.Q6J("checked",0===t.selected_gbv_case.gbvIntake.medical_history.scar_physical_abuse_flag)}}function h_(i,a){if(1&i&&e._UZ(0,"input",25),2&i){const t=e.oxw();e.Q6J("checked",1===t.selected_gbv_case.gbvIntake.medical_history.pertinent_med_history_flag)}}function Z_(i,a){if(1&i&&e._UZ(0,"input",25),2&i){const t=e.oxw();e.Q6J("checked",0===t.selected_gbv_case.gbvIntake.medical_history.pertinent_med_history_flag)}}function x_(i,a){if(1&i&&(e.TgZ(0,"h4",29),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.conv_impression[0]?null:t.conv_impression[0].full_desc,"")}}function T_(i,a){1&i&&e._UZ(0,"input",64)}function w_(i,a){1&i&&e._UZ(0,"input",64)}function y_(i,a){if(1&i&&(e.TgZ(0,"tr",60)(1,"td",61),e._uU(2),e.qZA(),e.TgZ(3,"td",62),e.YNc(4,T_,1,0,"input",63),e.qZA(),e.TgZ(5,"td",62),e.YNc(6,w_,1,0,"input",63),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}function C_(i,a){1&i&&e._UZ(0,"input",64)}function q_(i,a){1&i&&e._UZ(0,"input",64)}function A_(i,a){if(1&i&&(e.TgZ(0,"tr",60)(1,"td",61),e._uU(2),e.qZA(),e.TgZ(3,"td",62),e.YNc(4,C_,1,0,"input",63),e.qZA(),e.TgZ(5,"td",62),e.YNc(6,q_,1,0,"input",63),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}function k_(i,a){1&i&&e._UZ(0,"input",64)}function I_(i,a){1&i&&e._UZ(0,"input",64)}function U_(i,a){if(1&i&&(e.TgZ(0,"tr",60)(1,"td",61),e._uU(2),e.qZA(),e.TgZ(3,"td",62),e.YNc(4,k_,1,0,"input",63),e.qZA(),e.TgZ(5,"td",62),e.YNc(6,I_,1,0,"input",63),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}let N_=(()=>{class i{closeModal(){this.toggleExportPDF.emit("export_pdf"),console.log("check modal")}getAge(){if(this.patient_details&&this.patient_details.birthdate){let t=this.ageService.calcuateAge(this.patient_details.birthdate);return this.patient_age=t,t.age+" "+t.type+(t.age>1?"s old":" old")}}exportP(){this.pdf_exported=!0,this.exportAsService.save(this.exportAsPdf,"GBV Medical").subscribe(()=>{})}loadAnogenital(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.anogenital_list=t.data,this.patchData()},error:t=>console.log(t)})}loadCorporal(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.corporal_list=t.data,this.patchData()},error:t=>console.log(t)})}loadBeahavioral(){this.http.get("libraries/gbv-symptoms-anogenital").subscribe({next:t=>{this.behavioral_list=t.data,this.patchData()},error:t=>console.log(t)})}loadImpression(){this.http.get("libraries/gbv-medical-impression").subscribe({next:t=>{this.impression_list=t.data,console.log(this.impression_list,"test impressions"),console.log(this.userInfo,"test impressions user"),console.log(this.patient_details,"test impressions patient"),this.convertImpression()},error:t=>console.log(t)})}loadExams(t,n,_){let l=[];Object.entries(t).forEach(([r,s],g)=>{l[s[_].desc]||(l[s[_].desc]=[]),l[s[_].desc][s.info_source_id]=!0}),this[n]=l}patchData(){this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_anogenital,"anogenital_exam","anogenital"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_corporal,"corporal_exam","corporal"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_behavioral,"behavioral_exam","behavior")}loadLibs(){this.loadAnogenital(),this.loadCorporal(),this.loadBeahavioral(),this.loadImpression()}convertImpression(){this.conv_impression=this.impression_list.filter(t=>t.id===this.selected_gbv_case?.gbvIntake?.medical_history?.medical_impression_id)}constructor(t,n,_){this.http=t,this.ageService=n,this.exportAsService=_,this.toggleExportPDF=new e.vpe,this.is_saving=!1,this.faCircleNotch=c.IJ7,this.pdf_exported=!1,this.anogenital_list=[],this.corporal_list=[],this.behavioral_list=[],this.first_exam=[{id:1,desc:"Yes"},{id:0,desc:"No"}],this.general_surveys=[{id:1,desc:"Normal",var_name:"general_survey_normal"},{id:2,desc:"Abnormal",var_name:"general_survey_abnormal"},{id:3,desc:"Stunting",var_name:"general_survey_stunting"},{id:4,desc:"Wasting",var_name:"general_survey_wasting"},{id:5,desc:"Dirty, Unkempt",var_name:"general_survey_dirty_unkempt"},{id:6,desc:"Stuporous",var_name:"general_survey_stuporous"},{id:7,desc:"Pale",var_name:"general_survey_pale"},{id:8,desc:"Non-ambulant",var_name:"general_survey_non_ambulant"},{id:9,desc:"Drowsy, Irritable",var_name:"general_survey_drowsy"},{id:10,desc:"Respiratory Distress",var_name:"general_survey_respiratory"},{id:11,desc:"Other Abnormality",var_name:"general_survey_others"}],this.exportAsPdf={type:"pdf",elementIdOrContent:"mainForm",options:{image:{type:"jpeg",quality:1},html2canvas:{scale:3},margin:[1,1,1,1],pagebreak:{mode:["avoid-all","css","legacy"],before:["#medForm2","#medForm3"]},jsPDF:{orientation:"portrait",format:"a4",precision:16}}},this.anogenital_exam=[],this.corporal_exam=[],this.behavioral_exam=[]}ngOnInit(){this.loadLibs(),this.patient_details=this.http.getPatientInfo(),this.userInfo=this.http.getUserFromJSON()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(K.J),e.Y36(F.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-export-pdf"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleExportPDF:"toggleExportPDF"},decls:365,vars:74,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[800px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["id","mainForm"],["id","medForm",1,"w-full","text-sm","text-left"],[1,"text-center","font-bold","pt-3","text-2xl"],[1,"h-96","overflow-y-auto"],[1,"grid","grid-cols-12","m-3"],[1,"col-span-2","border","border-gray-200"],[1,"py-2","pl-3"],[1,"col-span-4","border","border-gray-200"],[1,"py-2","pl-3","capitalize"],[1,"col-span-3","border","border-gray-200"],[1,"col-span-10","border","border-gray-200"],[1,"col-span-9","border","border-gray-200"],[1,"py-2"],[1,"pl-3"],["type","checkbox","disabled","",1,"py-2","pl-3","input-checkbox","mr-1"],["for","",1,"pl-3"],[1,"col-span-12","border","border-gray-200"],[1,"col-span-12","text-center","font-bold","py-3","text-2xl","border","border-gray-200"],[1,"col-span-3","border","border-gray-200","py-2"],["type","checkbox","disabled","",1,"py-2","pl-3","input-checkbox","mr-1",3,"checked"],["class","pl-3",4,"ngIf"],[1,"col-span-6","border","border-gray-200","py-2"],[1,"py-2","px-3","font-semibold"],[1,"py-2","px-3"],[1,"col-span-12","grid","grid-cols-3","py-2","pl-6","select-none"],[1,"pt-3"],["type","checkbox","disabled","","class","input-checkbox mr-1",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-span-6","border","border-gray-200"],[1,"py-7"],["class","py-2 pl-3 input-checkbox mr-1","type","checkbox","disabled","",3,"checked",4,"ngIf"],[1,"py-6"],["id","medForm2",1,"w-full","text-sm","text-left"],[1,"grid","grid-cols-12","m-5"],[1,"col-span-12","text-center","font-bold","py-3","text-xl","border","border-gray-200"],["class","py-2 px-3 ",4,"ngIf"],["id","medForm3",1,"w-full","text-sm","text-left"],[1,"col-span-12","pl-3","text-sm","py-2","border","border-gray-200"],[1,"col-span-4","border","text-center","border-gray-200"],[1,"font-semibold","py-2"],[1,"w-full","text-sm","text-sm","text-left"],[1,"text-xs"],[1,"border-t","border-b","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-r","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-gray-200"],["scope","col",1,"py-3","text-center","font-normal","border-l","border-gray-200"],[1,"h-96","text-xs","overflow-y-auto"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"w-full","text-sm","text-left"],["scope","col",1,"py-3","text-center","font-normal","border","border-gray-200"],[1,"w-full","text-left","text-xs"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["type","checkbox","disabled","",1,"input-checkbox","mr-1",3,"ngModel","ngModelChange"],[1,"bg-white","border-b"],[1,"py-4","pl-6"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","disabled","","checked","",4,"ngIf"],["type","checkbox","disabled","","checked","",1,"input-checkbox","disabled:bg-blue-500"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Export to PDF "),e.qZA()(),e.TgZ(6,"div",5)(7,"table",6)(8,"table",7)(9,"div",8)(10,"h2"),e._uU(11,"MEDICAL EXAM & DIAGNOSIS"),e.qZA()(),e.TgZ(12,"tbody",9)(13,"div",10)(14,"div",11)(15,"h4",12),e._uU(16,"Patient Name"),e.qZA()(),e.TgZ(17,"div",13)(18,"h4",14),e._uU(19),e.qZA()(),e.TgZ(20,"div",15)(21,"h4",12),e._uU(22,"CPU Case No."),e.qZA()(),e.TgZ(23,"div",15)(24,"h4",12),e._uU(25),e.qZA()(),e.TgZ(26,"div",11)(27,"h4",12),e._uU(28,"DOB & Age"),e.qZA()(),e.TgZ(29,"div",13)(30,"h4",12),e._uU(31),e.ALo(32,"date"),e.qZA()(),e.TgZ(33,"div",15)(34,"h4",12),e._uU(35,"Contact Number"),e.qZA()(),e.TgZ(36,"div",15)(37,"h4",12),e._uU(38),e.qZA()(),e.TgZ(39,"div",11)(40,"h4",12),e._uU(41,"Address"),e.qZA()(),e.TgZ(42,"div",16)(43,"h4",12),e._uU(44),e.qZA()(),e.TgZ(45,"div",11)(46,"h4",12),e._uU(47,"Facility Name"),e.qZA()(),e.TgZ(48,"div",16)(49,"h4",14),e._uU(50),e.qZA()(),e.TgZ(51,"div",11)(52,"h4",12),e._uU(53,"Date and Time"),e.qZA()(),e.TgZ(54,"div",13)(55,"h4",12),e._uU(56),e.qZA()(),e.TgZ(57,"div",11)(58,"h4",12),e._uU(59,"Physician"),e.qZA()(),e.TgZ(60,"div",13)(61,"h4",12),e._uU(62),e.qZA()(),e.TgZ(63,"div",15)(64,"h4",12),e._uU(65,"First CPU/RHU Exam:"),e.qZA()(),e.TgZ(66,"div",17)(67,"div",18)(68,"label",19),e._UZ(69,"input",20),e._uU(70," Yes"),e.qZA(),e.TgZ(71,"label",21),e._UZ(72,"input",20),e._uU(73," No"),e.qZA(),e.TgZ(74,"label",12),e._uU(75,"Date of previous: "),e.qZA()()(),e.TgZ(76,"div",15)(77,"h4",12),e._uU(78,"Examined before by:"),e.qZA()(),e.TgZ(79,"div",17)(80,"div",18)(81,"label",19),e._UZ(82,"input",20),e._uU(83," None"),e.qZA(),e.TgZ(84,"label",21),e._UZ(85,"input",20),e._uU(86," NBI"),e.qZA(),e.TgZ(87,"label",19),e._UZ(88,"input",20),e._uU(89," Private MD"),e.qZA(),e.TgZ(90,"label",21),e._UZ(91,"input",20),e._uU(92," Others"),e.qZA(),e.TgZ(93,"label",12),e._uU(94,"Date of previous: "),e.qZA()()(),e.TgZ(95,"div",22)(96,"h4",12),e._uU(97,"Persons present during exam:"),e.qZA()(),e.TgZ(98,"div",23)(99,"h2"),e._uU(100,"SYSTEMS REVIEW & MEDICAL HISTORY"),e.qZA()(),e.TgZ(101,"div",15)(102,"h4",12),e._uU(103),e.qZA()(),e.TgZ(104,"div",15)(105,"h4",12),e._uU(106),e.qZA()(),e.TgZ(107,"div",15)(108,"h4",12),e._uU(109,"Menarche? If yes, start age "),e.qZA()(),e.TgZ(110,"div",24)(111,"label",19),e._UZ(112,"input",25),e._uU(113," Yes"),e.qZA(),e.YNc(114,n_,2,1,"label",26),e.TgZ(115,"label",21),e._UZ(116,"input",25),e._uU(117," No"),e.qZA(),e._UZ(118,"br"),e.qZA(),e.TgZ(119,"div",11)(120,"h4",12),e._uU(121,"Weight:"),e.qZA()(),e.TgZ(122,"div",13)(123,"h4",12),e._uU(124),e.qZA()(),e.TgZ(125,"div",15)(126,"h4",12),e._uU(127,"Date of last period "),e._UZ(128,"br"),e._uU(129," (mm/dd/yyyy) "),e.qZA()(),e.TgZ(130,"div",15)(131,"h4",12),e._uU(132),e.ALo(133,"date"),e.qZA()(),e.TgZ(134,"div",11)(135,"h4",12),e._uU(136,"Height "),e.qZA()(),e.TgZ(137,"div",13)(138,"h4",12),e._uU(139),e.qZA()(),e.TgZ(140,"div",15)(141,"h4",12),e._uU(142,"History of genital discharge or UTI? "),e.qZA()(),e.TgZ(143,"div",24)(144,"label",19),e._UZ(145,"input",25),e._uU(146," Yes"),e.qZA(),e.TgZ(147,"label",21),e._UZ(148,"input",25),e._uU(149," No"),e.qZA(),e._UZ(150,"br"),e.qZA(),e.TgZ(151,"div",15)(152,"h4",12),e._uU(153,"Currently taking medication? "),e.qZA()(),e.TgZ(154,"div",24)(155,"label",19),e._UZ(156,"input",25),e._uU(157," Yes"),e.qZA(),e.TgZ(158,"label",21),e._UZ(159,"input",25),e._uU(160," No"),e.qZA(),e._UZ(161,"br"),e.YNc(162,a_,2,1,"label",26),e.qZA(),e.TgZ(163,"div",15)(164,"h4",12),e._uU(165,"Past hospitalizations? "),e.qZA()(),e.TgZ(166,"div",24)(167,"label",19),e._UZ(168,"input",25),e._uU(169," Yes"),e.qZA(),e.TgZ(170,"label",21),e._UZ(171,"input",25),e._uU(172," No"),e.qZA(),e._UZ(173,"br"),e.YNc(174,o_,2,1,"label",26),e.qZA(),e.TgZ(175,"div",27)(176,"label",28),e._uU(177,"GENERAL SURVEY "),e.qZA(),e.TgZ(178,"label",29),e._uU(179,"(check all that apply)"),e.qZA(),e._UZ(180,"br"),e.TgZ(181,"div",30)(182,"label",31),e.YNc(183,__,1,1,"input",32),e._uU(184," Normal"),e.qZA(),e.TgZ(185,"label",31),e.YNc(186,l_,1,1,"input",32),e._uU(187," Abnormal"),e.qZA(),e.TgZ(188,"label",31),e.YNc(189,r_,1,1,"input",32),e._uU(190," Stunting"),e.qZA(),e.TgZ(191,"label",31),e.YNc(192,s_,1,1,"input",32),e._uU(193," Wasting"),e.qZA(),e.TgZ(194,"label",31),e.YNc(195,d_,1,1,"input",32),e._uU(196," Dirty, Unkempt"),e.qZA(),e.TgZ(197,"label",31),e.YNc(198,c_,1,1,"input",32),e._uU(199," Stuporous"),e.qZA(),e.TgZ(200,"label",31),e.YNc(201,p_,1,1,"input",32),e._uU(202," Pale"),e.qZA(),e.TgZ(203,"label",31),e.YNc(204,u_,1,1,"input",32),e._uU(205," Non-ambulant"),e.qZA(),e.TgZ(206,"label",31),e.YNc(207,g_,1,1,"input",32),e._uU(208," Drowsy, Irritable"),e.qZA(),e.TgZ(209,"label",31),e.YNc(210,m_,1,1,"input",32),e._uU(211," Respiratory Distress"),e.qZA(),e.TgZ(212,"label",31),e.YNc(213,f_,1,1,"input",32),e._uU(214," Other Abnormality"),e.qZA()()(),e.TgZ(215,"div",33)(216,"div",34)(217,"h4",12),e._uU(218,"Any scars that do not appear to result from physical abuse?"),e.qZA(),e.TgZ(219,"label",19),e.YNc(220,v_,1,1,"input",35),e._uU(221," Yes"),e.qZA(),e.TgZ(222,"label",19),e.YNc(223,b_,1,1,"input",35),e._uU(224," No"),e.qZA()(),e.TgZ(225,"div",36)(226,"h4",12),e._uU(227,"PERTINENT MEDICAL HISTORY?"),e.qZA(),e.TgZ(228,"label",19),e.YNc(229,h_,1,1,"input",35),e._uU(230," Yes"),e.qZA(),e.TgZ(231,"label",19),e.YNc(232,Z_,1,1,"input",35),e._uU(233," No"),e.qZA()()()()()(),e.TgZ(234,"table",37)(235,"tbody",9)(236,"div",38)(237,"div",39)(238,"h2"),e._uU(239,"PHYSICAL EXAM"),e.qZA()(),e.TgZ(240,"div",15)(241,"h4",12),e._uU(242,"Head and Neck"),e.qZA()(),e.TgZ(243,"div",17)(244,"h4",29),e._uU(245),e.qZA()(),e.TgZ(246,"div",15)(247,"h4",12),e._uU(248,"Chest and Lungs"),e.qZA()(),e.TgZ(249,"div",17)(250,"h4",29),e._uU(251),e.qZA()(),e.TgZ(252,"div",15)(253,"h4",12),e._uU(254,"Breast"),e.qZA()(),e.TgZ(255,"div",17)(256,"h4",29),e._uU(257),e.qZA()(),e.TgZ(258,"div",15)(259,"h4",12),e._uU(260,"Abdomen"),e.qZA()(),e.TgZ(261,"div",17)(262,"h4",29),e._uU(263),e.qZA()(),e.TgZ(264,"div",15)(265,"h4",12),e._uU(266,"Back"),e.qZA()(),e.TgZ(267,"div",17)(268,"h4",29),e._uU(269),e.qZA()(),e.TgZ(270,"div",15)(271,"h4",12),e._uU(272,"Extremities"),e.qZA()(),e.TgZ(273,"div",17)(274,"h4",29),e._uU(275),e.qZA()(),e.TgZ(276,"div",15)(277,"h4",12),e._uU(278,"Anogenital"),e.qZA()(),e.TgZ(279,"div",17)(280,"h4",29),e._uU(281),e.qZA()(),e.TgZ(282,"div",15)(283,"h4",12),e._uU(284,"External Genitalia"),e.qZA()(),e.TgZ(285,"div",17)(286,"h4",29),e._uU(287),e.qZA()(),e.TgZ(288,"div",15)(289,"h4",12),e._uU(290,"Anus"),e.qZA()(),e.TgZ(291,"div",17)(292,"h4",29),e._uU(293),e.qZA()(),e.TgZ(294,"div",15)(295,"h4",12),e._uU(296,"Hymen"),e.qZA()(),e.TgZ(297,"div",17)(298,"h4",29),e._uU(299),e.qZA()(),e.TgZ(300,"div",15)(301,"h4",12),e._uU(302,"Impression"),e.qZA()(),e.TgZ(303,"div",17),e.YNc(304,x_,2,1,"h4",40),e.qZA()()()(),e.TgZ(305,"table",41)(306,"tbody",9)(307,"div",38)(308,"div",39)(309,"h2"),e._uU(310,"SYMPTOMS DESCRIBED BY THE ADULT PATIENT, CHILD AND/OR A HISTORIAN"),e.qZA()(),e.TgZ(311,"div",42)(312,"h2"),e._uU(313,"Please check the appropriate box"),e.qZA()(),e.TgZ(314,"div",43)(315,"h4",44),e._uU(316,"Anogenital "),e.qZA(),e.TgZ(317,"table",45)(318,"thead",46)(319,"tr",47)(320,"th",48),e._uU(321,"Description"),e.qZA(),e.TgZ(322,"th",49),e._uU(323,"Victim Survivor"),e.qZA(),e.TgZ(324,"th",50),e._uU(325,"Historian"),e.qZA()()(),e.TgZ(326,"tbody",51),e.YNc(327,y_,7,3,"tr",52),e.ALo(328,"keyvalue"),e.qZA()()(),e.TgZ(329,"div",43)(330,"h4",44),e._uU(331,"Corporal "),e.qZA(),e.TgZ(332,"table",53)(333,"thead",46)(334,"tr",47)(335,"th",48),e._uU(336,"Description"),e.qZA(),e.TgZ(337,"th",54),e._uU(338,"Victim Survivor"),e.qZA(),e.TgZ(339,"th",50),e._uU(340,"Historian"),e.qZA()()(),e.TgZ(341,"tbody",51),e.YNc(342,A_,7,3,"tr",52),e.ALo(343,"keyvalue"),e.qZA()()(),e.TgZ(344,"div",43)(345,"h4",44),e._uU(346,"Behavioral "),e.qZA(),e.TgZ(347,"table",55)(348,"thead",46)(349,"tr",47)(350,"th",48),e._uU(351,"Description"),e.qZA(),e.TgZ(352,"th",54),e._uU(353,"Victim Survivor"),e.qZA(),e.TgZ(354,"th",50),e._uU(355,"Historian"),e.qZA()()(),e.TgZ(356,"tbody",51),e.YNc(357,U_,7,3,"tr",52),e.ALo(358,"keyvalue"),e.qZA()()()()()()()(),e.TgZ(359,"div",56)(360,"button",57),e.NdJ("click",function(){return n.closeModal()}),e._uU(361,"Close"),e.qZA(),e.TgZ(362,"button",57),e.NdJ("click",function(){return n.exportP()}),e._uU(363,"Export PDF"),e.qZA()()()()(),e._UZ(364,"div",58)),2&t&&(e.xp6(19),e.lnq("",null==n.patient_details?null:n.patient_details.first_name," ",null==n.patient_details?null:n.patient_details.middle_name," ",null==n.patient_details?null:n.patient_details.last_name,""),e.xp6(6),e.hij("",null==n.selected_gbv_case.gbvIntake?null:n.selected_gbv_case.gbvIntake.case_number," "),e.xp6(6),e.AsE("",e.xi3(32,62,null==n.patient_details?null:n.patient_details.birthdate,"MM/dd/yyyy"),", ",n.getAge()," "),e.xp6(7),e.Oqu(null==n.patient_details?null:n.patient_details.mobile_number),e.xp6(6),e.xDo(" ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.address?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.address)+", ":"-"," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.name?"Brgy. "+(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.municipality.name?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.municipality.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.province.name?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.province.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.region.name?null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.region.name:""," "),e.xp6(6),e.hij("",n.userInfo.facility.facility_name," "),e.xp6(6),e.hij("",null==n.selected_gbv_case.gbvIntake?null:n.selected_gbv_case.gbvIntake.case_date," "),e.xp6(6),e.lnq("",null==n.patient_details?null:n.patient_details.first_name," ",null==n.patient_details?null:n.patient_details.middle_name," ",null==n.patient_details?null:n.patient_details.last_name," "),e.xp6(41),e.hij("Temp: ",null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.patient_temp," "),e.xp6(3),e.hij("Heart rate: ",null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.patient_heart_rate," / minute "),e.xp6(6),e.Q6J("checked",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.xp6(2),e.Q6J("ngIf",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.xp6(2),e.Q6J("checked",0===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.xp6(8),e.hij("",null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.patient_weight," kg percentile (if under 6)"),e.xp6(8),e.Oqu(e.xi3(133,65,null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.lmp_date,"MM/dd/yyyy")),e.xp6(7),e.hij("",null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.patient_height," cm percentile (if under 6)"),e.xp6(6),e.Q6J("checked",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.genital_discharge_uti_flag)),e.xp6(3),e.Q6J("checked",0===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.genital_discharge_uti_flag)),e.xp6(8),e.Q6J("checked",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.xp6(3),e.Q6J("checked",0===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.xp6(3),e.Q6J("ngIf",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.taking_medication_flag)),e.xp6(6),e.Q6J("checked",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.past_hospitalizations_flag)),e.xp6(3),e.Q6J("checked",0===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.past_hospitalizations_flag)),e.xp6(3),e.Q6J("ngIf",1===(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.menarche_flag)),e.xp6(9),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(7),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(6),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(3),e.Q6J("ngIf",n.selected_gbv_case.gbvIntake.medical_history),e.xp6(13),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_head_and_neck_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_chest_and_lungs_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_breast_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_abdomen_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_back_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_extremities_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_anogenital_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_external_genitalia_remarks),e.xp6(6),e.Oqu(null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_anus_remarks),e.xp6(6),e.hij(" ",null==n.selected_gbv_case.gbvIntake.medical_history?null:n.selected_gbv_case.gbvIntake.medical_history.pe_hymen_remarks,""),e.xp6(5),e.Q6J("ngIf",n.conv_impression),e.xp6(23),e.Q6J("ngForOf",e.lcZ(328,68,n.anogenital_exam)),e.xp6(15),e.Q6J("ngForOf",e.lcZ(343,70,n.corporal_exam)),e.xp6(15),e.Q6J("ngForOf",e.lcZ(358,72,n.behavioral_exam)))},dependencies:[d.sg,d.O5,o.Wl,o.JJ,o.On,d.uU,d.Nd]}),i})(),J_=(()=>{class i{closeModal(){this.toggleMedCert.emit("med_cert"),console.log("check modal med cert")}getAge(){if(this.patient_details&&this.patient_details.birthdate){let t=this.ageService.calcuateAge(this.patient_details.birthdate);return this.patient_age=t,t.age}}getOccupations(){this.http.get("libraries/occupations").subscribe({next:t=>{this.occupations=t.data,console.log(this.occupations,"occupations data")},error:t=>console.log(t)})}constructor(t,n){this.http=t,this.ageService=n,this.toggleMedCert=new e.vpe}ngOnInit(){this.getOccupations(),this.patient_details=this.http.getPatientInfo(),console.log(this.patient_details,"medical cert modal patient"),console.log(this.selected_gbv_case,"export modal")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(K.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medical-certificate"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleMedCert:"toggleMedCert"},decls:181,vars:15,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-[600px]","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["id","medForm",1,"w-full","text-sm","text-left"],[1,"text-center","font-bold","pt-6","text-2xl"],[1,"h-96","overflow-y-auto"],[1,"grid","grid-cols-12","m-5"],[1,"col-span-12","border","border-gray-200"],[1,"py-2","bg-black","text-center","text-white","uppercase","font-semibold"],[1,"col-span-2","border","border-gray-200"],[1,"py-2","text-center","bg-gray-300"],[1,"col-span-3","border","border-gray-200"],[1,"py-2","pl-3"],[1,"col-span-1","border","border-gray-200"],[1,"py-2","pl-3","text-center","bg-gray-300"],[1,"col-span-10","border","border-gray-200"],[1,"py-2"],[1,"col-span-5","border","border-gray-200"],[1,"col-span-7","py-2","border","border-gray-200"],[1,"pl-3"],["type","checkbox",1,"py-2","input-checkbox"],[1,"col-span-5","py-2","border","border-gray-200"],[1,"py-2","bg-gray-400","text-center","text-black","uppercase","font-semibold"],[1,"col-span-9","border","border-gray-200"],[1,"py-5","pl-3"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Medical Certificate "),e.qZA()(),e.TgZ(6,"div",5)(7,"table",6)(8,"div",7)(9,"h2"),e._uU(10,"MEDICO-LEGAL CERTIFICATE"),e.qZA()(),e.TgZ(11,"tbody",8)(12,"div",9)(13,"div",10)(14,"h4",11),e._uU(15,"Demographic Data"),e.qZA()(),e.TgZ(16,"div",12)(17,"h4",13),e._uU(18,"Patient's Name"),e.qZA()(),e.TgZ(19,"div",14)(20,"h4",15),e._uU(21),e.qZA()(),e.TgZ(22,"div",16)(23,"h4",13),e._uU(24,"Age"),e.qZA()(),e.TgZ(25,"div",16)(26,"h4",15),e._uU(27),e.qZA()(),e.TgZ(28,"div",16)(29,"h4",13),e._uU(30,"DOB"),e.qZA()(),e.TgZ(31,"div",12)(32,"h4",15),e._uU(33),e.qZA()(),e.TgZ(34,"div",16)(35,"h4",13),e._uU(36,"Sex"),e.qZA()(),e.TgZ(37,"div",16)(38,"h4",15),e._uU(39),e.qZA()(),e.TgZ(40,"div",12)(41,"h4",17),e._uU(42,"Patient's Address"),e.qZA()(),e.TgZ(43,"div",18)(44,"h4",15),e._uU(45),e.qZA()(),e.TgZ(46,"div",12)(47,"h4",13),e._uU(48,"Civil Status"),e.qZA()(),e.TgZ(49,"div",12)(50,"h4",19),e._uU(51),e.qZA()(),e.TgZ(52,"div",12)(53,"h4",13),e._uU(54,"Occupation"),e.qZA()(),e.TgZ(55,"div",12)(56,"h4",19),e._uU(57),e.qZA()(),e.TgZ(58,"div",12)(59,"h4",13),e._uU(60,"Nationality"),e.qZA()(),e.TgZ(61,"div",12),e._UZ(62,"h4",15),e.qZA(),e.TgZ(63,"div",12)(64,"h4",13),e._uU(65,"Requesting "),e._UZ(66,"br"),e._uU(67," Party"),e.qZA()(),e.TgZ(68,"div",12),e._UZ(69,"h4",15),e.qZA(),e.TgZ(70,"div",14)(71,"h4",13),e._uU(72,"Place, Time and Date of Exam"),e.qZA()(),e.TgZ(73,"div",20),e._UZ(74,"h4",15),e.qZA(),e.TgZ(75,"div",21)(76,"label",22),e._UZ(77,"input",23),e._uU(78," Acute Evidentiary Examination (within 72 hours of incident)"),e.qZA()(),e.TgZ(79,"div",24)(80,"label",22),e._UZ(81,"input",23),e._uU(82," Non-Acute Examination"),e.qZA()(),e.TgZ(83,"div",10)(84,"h4",11),e._uU(85,"Findings"),e.qZA()(),e.TgZ(86,"div",10)(87,"h4",25),e._uU(88,"General Physical Findings"),e.qZA()(),e.TgZ(89,"div",14)(90,"h4",17),e._uU(91,"Height"),e.qZA()(),e.TgZ(92,"div",14)(93,"h4",15),e._uU(94),e.qZA()(),e.TgZ(95,"div",14)(96,"h4",17),e._uU(97,"Weight"),e.qZA()(),e.TgZ(98,"div",14)(99,"h4",15),e._uU(100),e.qZA()(),e.TgZ(101,"div",14)(102,"h4",17),e._uU(103,"General Survey"),e.qZA()(),e.TgZ(104,"div",26),e._UZ(105,"h4",15),e.qZA(),e.TgZ(106,"div",14)(107,"h4",17),e._uU(108,"Mental Status"),e.qZA()(),e.TgZ(109,"div",26),e._UZ(110,"h4",15),e.qZA(),e.TgZ(111,"div",14)(112,"h4",17),e._uU(113,"Pertinent Physical Findings/Physical Injuries"),e.qZA()(),e.TgZ(114,"div",26),e._UZ(115,"h4",15),e.qZA(),e.TgZ(116,"div",10)(117,"h4",25),e._uU(118,"Anogenital Exam"),e.qZA()(),e.TgZ(119,"div",14)(120,"h4",17),e._uU(121,"External Genitalia"),e.qZA()(),e.TgZ(122,"div",26),e._UZ(123,"h4",15),e.qZA(),e.TgZ(124,"div",14)(125,"h4",17),e._uU(126,"Urethra and Periurethral Area"),e.qZA()(),e.TgZ(127,"div",26),e._UZ(128,"h4",15),e.qZA(),e.TgZ(129,"div",14)(130,"h4",17),e._uU(131,"Perihymenal Area and Fossa Navicularis"),e.qZA()(),e.TgZ(132,"div",26),e._UZ(133,"h4",15),e.qZA(),e.TgZ(134,"div",14)(135,"h4",17),e._uU(136,"Hymen"),e.qZA()(),e.TgZ(137,"div",26),e._UZ(138,"h4",15),e.qZA(),e.TgZ(139,"div",14)(140,"h4",17),e._uU(141,"Perineum"),e.qZA()(),e.TgZ(142,"div",26),e._UZ(143,"h4",15),e.qZA(),e.TgZ(144,"div",14)(145,"h4",17),e._uU(146,"Discharge"),e.qZA()(),e.TgZ(147,"div",26),e._UZ(148,"h4",15),e.qZA(),e.TgZ(149,"div",14)(150,"h4",17),e._uU(151,"Mental Status"),e.qZA()(),e.TgZ(152,"div",26),e._UZ(153,"h4",15),e.qZA(),e.TgZ(154,"div",14)(155,"h4",17),e._uU(156,"Internal and Speculum Exams"),e.qZA()(),e.TgZ(157,"div",26),e._UZ(158,"h4",15),e.qZA(),e.TgZ(159,"div",14)(160,"h4",17),e._uU(161,"Anal Examination"),e.qZA()(),e.TgZ(162,"div",26),e._UZ(163,"h4",15),e.qZA(),e.TgZ(164,"div",10)(165,"h4",25),e._uU(166,"Diagnostics and Evidence Gathering"),e.qZA()(),e.TgZ(167,"div",14)(168,"h4",17),e._uU(169,"Forensic Evidence and Laboratory Results"),e.qZA()(),e.TgZ(170,"div",26),e._UZ(171,"h4",15),e.qZA(),e.TgZ(172,"div",10)(173,"h4",25),e._uU(174,"Impressions"),e.qZA()(),e.TgZ(175,"div",10),e._UZ(176,"h4",27),e.qZA()()()()(),e.TgZ(177,"div",28)(178,"button",29),e.NdJ("click",function(){return n.closeModal()}),e._uU(179,"Close"),e.qZA()()()()(),e._UZ(180,"div",30)),2&t&&(e.xp6(21),e.lnq("",n.patient_details.first_name," ",n.patient_details.middle_name," ",n.patient_details.last_name,""),e.xp6(6),e.Oqu(n.getAge()),e.xp6(6),e.hij("",n.patient_details.birthdate," "),e.xp6(6),e.hij("",n.patient_details.gender," "),e.xp6(6),e.xDo(" ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.address?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.address)+", ":"-"," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.name?"Brgy. "+(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.municipality.name?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.municipality.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.province.name?(null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.province.name)+", ":""," ",null!=n.patient_details&&null!=n.patient_details.household_folder&&n.patient_details.household_folder.barangay.region.name?null==n.patient_details||null==n.patient_details.household_folder?null:n.patient_details.household_folder.barangay.region.name:""," "),e.xp6(6),e.hij("",n.patient_details.civil_status_code," "),e.xp6(6),e.hij("",n.patient_details.occupation_code," "),e.xp6(37),e.hij("",n.selected_gbv_case.gbvIntake.medical_history.patient_height," cm "),e.xp6(6),e.hij("",n.selected_gbv_case.gbvIntake.medical_history.patient_weight," kg"))}}),i})();function Q_(i,a){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}const C=function(i){return{"text-red-500":i}},q=function(i){return{"invalid-input":i}};function M_(i,a){if(1&i&&(e.TgZ(0,"div",40)(1,"label",68),e._uU(2,"Current Medications"),e.qZA(),e._UZ(3,"input",69),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,C,t.show_error&&t.f.taking_medication_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,q,t.show_error&&t.f.taking_medication_remarks.errors))}}function F_(i,a){if(1&i&&(e.TgZ(0,"div",70),e._UZ(1,"input",71),e.TgZ(2,"label"),e._uU(3),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("formControlName",t.var_name),e.uIk("id",t.var_name),e.xp6(1),e.uIk("for",t.var_name),e.xp6(1),e.Oqu(t.desc)}}function Y_(i,a){if(1&i&&(e.TgZ(0,"div",72)(1,"label",73),e._uU(2,"Other Abnormality"),e.qZA(),e._UZ(3,"input",74),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,C,t.show_error&&t.f.patient_temp.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,q,t.show_error&&t.f.gbv_general_survey_remarks.errors))}}function O_(i,a){if(1&i&&(e.TgZ(0,"div",75)(1,"div")(2,"label",76),e._uU(3,"Menarche Age"),e.qZA(),e._UZ(4,"input",77),e.qZA(),e.TgZ(5,"div")(6,"label",78),e._uU(7,"LMP Date"),e.qZA(),e._UZ(8,"input",79),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(4,C,t.show_error&&t.f.menarche_age.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,q,t.show_error&&t.f.menarche_age.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(8,C,t.show_error&&t.f.lmp_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,q,t.show_error&&t.f.lmp_date.errors))}}function S_(i,a){if(1&i&&(e.TgZ(0,"div",40)(1,"label",80),e._uU(2,"Reason for hospitalizations"),e.qZA(),e._UZ(3,"input",81),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,C,t.show_error&&t.f.past_hospital_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,q,t.show_error&&t.f.past_hospital_remarks.errors))}}function j_(i,a){if(1&i&&(e.TgZ(0,"div",40)(1,"label",82),e._uU(2,"Explain pertinent medical history"),e.qZA(),e._UZ(3,"input",83),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,C,t.show_error&&t.f.medical_history_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,q,t.show_error&&t.f.medical_history_remarks.errors))}}function G_(i,a){if(1&i&&(e.TgZ(0,"div",62)(1,"label",84),e._uU(2),e.qZA(),e.TgZ(3,"textarea",85),e._uU(4,"              "),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.desc),e.xp6(1),e.Q6J("name",t.var_name)("id",t.var_name)("formControlName",t.var_name)}}function E_(i,a){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.desc)}}function V_(i,a){1&i&&(e.TgZ(0,"div",86)(1,"label",87),e._uU(2,"Details"),e.qZA(),e.TgZ(3,"textarea",88),e._uU(4,"              "),e.qZA()())}function K_(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.submitMedicalForm())}),e.TgZ(1,"div",4)(2,"div",29),e._uU(3," Systems Review and Medical History "),e.qZA(),e.TgZ(4,"div",30)(5,"div",31)(6,"label",32),e._uU(7,"Temp (\u2103)"),e.qZA(),e._UZ(8,"input",33),e.qZA(),e.TgZ(9,"div",31)(10,"label",34),e._uU(11,"Heart Rate"),e.qZA(),e._UZ(12,"input",35),e.qZA(),e.TgZ(13,"div",31)(14,"label",36),e._uU(15,"Weight (kg)"),e.qZA(),e._UZ(16,"input",37),e.qZA(),e.TgZ(17,"div",31)(18,"label",38),e._uU(19,"Height (cm)"),e.qZA(),e._UZ(20,"input",39),e.qZA(),e.TgZ(21,"div",40),e._UZ(22,"input",41),e.TgZ(23,"label",42),e._uU(24,"Currently taking medications?"),e.qZA()(),e.YNc(25,M_,4,6,"div",43),e.TgZ(26,"div",44)(27,"div",45),e._uU(28,"General Survery"),e.qZA(),e.YNc(29,F_,4,4,"div",46),e.YNc(30,Y_,4,6,"div",47),e.qZA(),e.TgZ(31,"div",40),e._UZ(32,"input",48),e.TgZ(33,"label",49),e._uU(34,"Menarche?"),e.qZA()(),e.YNc(35,O_,9,12,"div",50),e.TgZ(36,"div",40),e._UZ(37,"input",51),e.TgZ(38,"label",52),e._uU(39,"History of genital discharge or UTI"),e.qZA()(),e.TgZ(40,"div",40),e._UZ(41,"input",53),e.TgZ(42,"label",54),e._uU(43,"Any scars that do not appear to result from physical abuse"),e.qZA()(),e.TgZ(44,"div",40),e._UZ(45,"input",55),e.TgZ(46,"label",56),e._uU(47,"Past hospitalizations"),e.qZA()(),e.YNc(48,S_,4,6,"div",43),e.TgZ(49,"div",40),e._UZ(50,"input",57),e.TgZ(51,"label",58),e._uU(52,"Pertinent medical history"),e.qZA()(),e.YNc(53,j_,4,6,"div",43),e.TgZ(54,"div",40)(55,"label",59),e._uU(56,"Summary of non-abuse findings"),e.qZA(),e.TgZ(57,"textarea",60),e._uU(58,"            "),e.qZA()(),e.TgZ(59,"div",44)(60,"div",45),e._uU(61,"Physical Exam"),e.qZA(),e.YNc(62,G_,5,4,"div",61),e.TgZ(63,"div",62)(64,"label",63),e._uU(65,"Impression"),e.qZA(),e.TgZ(66,"select",64)(67,"option",16),e._uU(68,"-"),e.qZA(),e.YNc(69,E_,2,2,"option",65),e.qZA()(),e.YNc(70,V_,5,0,"div",66),e.qZA(),e.TgZ(71,"div",67)(72,"button",19),e._UZ(73,"fa-icon",20),e._uU(74),e.qZA()()()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.medicalForm),e.xp6(6),e.Q6J("ngClass",e.VKq(25,C,t.show_error&&t.f.patient_temp.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(27,q,t.show_error&&t.f.patient_temp.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(29,C,t.show_error&&t.f.patient_heart_rate.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(31,q,t.show_error&&t.f.patient_heart_rate.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(33,C,t.show_error&&t.f.patient_weight.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(35,q,t.show_error&&t.f.patient_weight.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(37,C,t.show_error&&t.f.patient_height.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(39,q,t.show_error&&t.f.patient_height.errors)),e.xp6(5),e.Q6J("ngIf",t.medicalForm.value.taking_medication_flag),e.xp6(4),e.Q6J("ngForOf",t.general_surveys),e.xp6(1),e.Q6J("ngIf",t.medicalForm.value.general_survey_others),e.xp6(5),e.Q6J("ngIf",t.medicalForm.value.menarche_flag),e.xp6(13),e.Q6J("ngIf",t.medicalForm.value.past_hospitalizations_flag),e.xp6(5),e.Q6J("ngIf",t.medicalForm.value.pertinent_med_history_flag),e.xp6(2),e.Q6J("ngClass",e.VKq(41,C,t.show_error&&t.f.summary_non_abuse_findings.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(43,q,t.show_error&&t.f.summary_non_abuse_findings.errors)),e.xp6(5),e.Q6J("ngForOf",t.physical_exams),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",t.medical_impressions),e.xp6(1),e.Q6J("ngIf",13===t.medicalForm.value.medical_impression_id),e.xp6(2),e.Q6J("disabled",t.is_saving),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",!!t.is_saving),e.xp6(1),e.hij(" ",t.is_saving?"Saving":"Save"," ")}}function D_(i,a){1&i&&(e.TgZ(0,"div",97)(1,"span",98),e._uU(2," No records to show "),e.qZA()())}function P_(i,a){1&i&&e._UZ(0,"input",102)}function H_(i,a){1&i&&e._UZ(0,"input",102)}function L_(i,a){if(1&i&&(e.TgZ(0,"tr",99)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",100),e.YNc(4,P_,1,0,"input",101),e.qZA(),e.TgZ(5,"td",100),e.YNc(6,H_,1,0,"input",101),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}function $_(i,a){1&i&&(e.TgZ(0,"div",97)(1,"span",98),e._uU(2," No records to show "),e.qZA()())}function R_(i,a){1&i&&e._UZ(0,"input",102)}function B_(i,a){1&i&&e._UZ(0,"input",102)}function W_(i,a){if(1&i&&(e.TgZ(0,"tr",99)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",100),e.YNc(4,R_,1,0,"input",101),e.qZA(),e.TgZ(5,"td",100),e.YNc(6,B_,1,0,"input",101),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key,""),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}function z_(i,a){1&i&&(e.TgZ(0,"div",97)(1,"span",98),e._uU(2," No records to show "),e.qZA()())}function X_(i,a){1&i&&e._UZ(0,"input",102)}function el(i,a){1&i&&e._UZ(0,"input",102)}function tl(i,a){if(1&i&&(e.TgZ(0,"tr",99)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",100),e.YNc(4,X_,1,0,"input",101),e.qZA(),e.TgZ(5,"td",100),e.YNc(6,el,1,0,"input",101),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.key,""),e.xp6(2),e.Q6J("ngIf",t.value[1]),e.xp6(2),e.Q6J("ngIf",t.value[2])}}function il(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",89)(1,"div",29),e._uU(2," Symptoms Described by the Victim Survivor and/or Historian "),e.qZA(),e.TgZ(3,"div",90)(4,"div",91)(5,"span"),e._uU(6,"Anogenital"),e.qZA(),e.TgZ(7,"button",92),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("anogenital","Anogenital","gbv-symptoms-anogenital","patient-gbv-symptoms-anogenital","anogenital_symptoms_id","anogenital_array",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.symptoms_anogenital))}),e._UZ(8,"fa-icon",7),e.qZA()(),e.YNc(9,D_,3,0,"div",93),e.TgZ(10,"table",94)(11,"thead")(12,"tr")(13,"td",95),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"td",95),e._uU(16,"Victim Survivor"),e.qZA(),e.TgZ(17,"td",95),e._uU(18,"Historian"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,L_,7,3,"tr",96),e.ALo(21,"keyvalue"),e.qZA()()(),e.TgZ(22,"div",90)(23,"div",91)(24,"span"),e._uU(25,"Corporal"),e.qZA(),e.TgZ(26,"button",92),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("anogenital","Corporal","gbv-symptoms-corporal","patient-gbv-symptoms-corporal","corporal_symptoms_id","corporal_array",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.symptoms_corporal))}),e._UZ(27,"fa-icon",7),e.qZA()(),e.YNc(28,$_,3,0,"div",93),e.TgZ(29,"table",94)(30,"thead")(31,"tr")(32,"td",95),e._uU(33,"Description"),e.qZA(),e.TgZ(34,"td",95),e._uU(35,"Victim Survivor"),e.qZA(),e.TgZ(36,"td",95),e._uU(37,"Historian"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,W_,7,3,"tr",96),e.ALo(40,"keyvalue"),e.qZA()()(),e.TgZ(41,"div",90)(42,"div",91)(43,"span"),e._uU(44,"Behavioral"),e.qZA(),e.TgZ(45,"button",92),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("anogenital","Behavioral","gbv-symptoms-behavioral","patient-gbv-symptoms-behavioral","behavioral_symptoms_id","behavior_array",null==_.selected_gbv_case?null:_.selected_gbv_case.gbvIntake.symptoms_behavioral))}),e._UZ(46,"fa-icon",7),e.qZA()(),e.YNc(47,z_,3,0,"div",93),e.TgZ(48,"table",94)(49,"thead")(50,"tr")(51,"td",95),e._uU(52,"Description"),e.qZA(),e.TgZ(53,"td",95),e._uU(54,"Victim Survivor"),e.qZA(),e.TgZ(55,"td",95),e._uU(56,"Historian"),e.qZA()()(),e.TgZ(57,"tbody"),e.YNc(58,tl,7,3,"tr",96),e.ALo(59,"keyvalue"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.anogenital_exam),e.xp6(11),e.Q6J("ngForOf",e.lcZ(21,9,t.anogenital_exam)),e.xp6(7),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.corporal_exam),e.xp6(11),e.Q6J("ngForOf",e.lcZ(40,11,t.corporal_exam)),e.xp6(7),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("ngIf",!t.behavioral_exam),e.xp6(11),e.Q6J("ngForOf",e.lcZ(59,13,t.behavioral_exam))}}function nl(i,a){1&i&&(e.TgZ(0,"div",97)(1,"span",98),e._uU(2," No records to show "),e.qZA()())}function al(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",109),e._UZ(1,"td"),e.TgZ(2,"td",110),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",100)(7,"button",111),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.viewFile(l.id))}),e._uU(8," View "),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(3),e.hij(" ",t.file_title," "),e.xp6(2),e.hij(" ",t.file_desc," ")}}function ol(i,a){if(1&i&&(e.TgZ(0,"table",94)(1,"thead")(2,"tr"),e._UZ(3,"td",105),e.TgZ(4,"td",106),e._uU(5,"File Title"),e.qZA(),e.TgZ(6,"td",107),e._uU(7,"File Description"),e.qZA(),e.TgZ(8,"td",105),e._uU(9,"Action"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,al,9,2,"tr",108),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",t.gbv_files)}}function _l(i,a){if(1&i&&(e.TgZ(0,"div",112)(1,"div",113),e._UZ(2,"fa-icon",114),e.qZA(),e.TgZ(3,"div",115),e._uU(4," Fetching Files... "),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function ll(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",89)(1,"div",29),e._uU(2," Documents "),e.qZA(),e.TgZ(3,"div",90)(4,"div",91)(5,"span"),e._uU(6,"Uploaded Files"),e.qZA(),e.TgZ(7,"button",92),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleFileModal("file_upload"))}),e._UZ(8,"fa-icon",7),e.qZA()(),e.YNc(9,nl,3,0,"div",93),e.YNc(10,ol,12,1,"table",103),e.YNc(11,_l,5,1,"div",104),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("icon",t.faPlus),e.xp6(1),e.Q6J("ngIf",!t.behavioral_exam),e.xp6(1),e.Q6J("ngIf",!t.fetchingFiles),e.xp6(1),e.Q6J("ngIf",t.fetchingFiles)}}function rl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-anogenital",116),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_exam",t.selected_exam)("intake_id",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake.id)("patient_id",t.patient_id)}}function sl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-file-upload",117),e.NdJ("toggleFileModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleFileModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("gbv_id",null==t.selected_gbv_case?null:t.selected_gbv_case.id)("patient_id",t.patient_id)}}function dl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-view-file",118),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_file_id",t.selected_file_id)}}function cl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-export-pdf",119),e.NdJ("toggleExportPDF",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleExportPDF(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_gbv_case",t.selected_gbv_case)}}function pl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-medical-certificate",120),e.NdJ("toggleMedCert",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleMedCert(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_gbv_case",t.selected_gbv_case)}}let ul=(()=>{class i{reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:n=>{this.selected_gbv_case=n.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case),this.patchData()},error:n=>console.log(n)})}onSubmit(){this.is_saving=!0,this.http.update("gender-based-violence/patient-gbv-intake/",this.intakeForm.value.id,this.intakeForm.value).subscribe({next:t=>{this.toastr.success("Successfully recorded!","Intake Form"),this.is_saving=!1,this.reloadData()},error:t=>console.log(t)})}submitMedicalForm(){this.is_saving=!0,this.medicalForm.patchValue({lmp_date:this.medicalForm.value.lmp_date?(0,d.p6)(this.medicalForm.value.lmp_date,"yyyy-MM-dd","en"):null}),this.http.post("gender-based-violence/patient-gbv-medical-history",this.medicalForm.value).subscribe({next:t=>{this.toastr.success("Successfully recorded!","Medical Form"),this.is_saving=!1,this.reloadData()},error:t=>console.log(t)})}toggleFileModal(t){this.modals[t]=!this.modals[t],this.modals[t]||this.getFiles()}toggleExportPDF(t){this.modals[t]=!this.modals[t]}toggleMedCert(t){this.modals[t]=!this.modals[t]}viewFile(t){this.selected_file_id=t,this.modals.view_file=!this.modals.view_file}toggleModal(t,n,_,l,r,s,g){"anogenital"===t&&(this.selected_exam={exam_title:n,url:_,save_url:l,var_id:r,arr_var_name:s,data:g}),this.modals[t]=!this.modals[t],"anogenital"===t&&!this.modals[t]&&this.reloadData()}patchData(){this.intakeForm.patchValue({...this.selected_gbv_case.gbvIntake}),this.intakeForm.patchValue({case_date:this.selected_gbv_case.gbvIntake?(0,d.p6)(this.selected_gbv_case.gbvIntake.case_date,"yyyy-MM-dd","en"):null}),this.has_consent=!!this.intakeForm.value.consent_flag,this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_anogenital,"anogenital_exam","anogenital"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_corporal,"corporal_exam","corporal"),this.loadExams(this.selected_gbv_case.gbvIntake.symptoms_behavioral,"behavioral_exam","behavior"),this.patchMedicalValue(),this.getFiles()}loadExams(t,n,_){let l=[];Object.entries(t).forEach(([r,s],g)=>{l[s[_].desc]||(l[s[_].desc]=[]),l[s[_].desc][s.info_source_id]=!0}),this[n]=l}loadLibraries(){const t=this.http.get("libraries/child-relation"),n=this.http.get("libraries/gbv-medical-impression");(0,I.D)([t,n]).subscribe({next:([_,l])=>{this.child_relations=_.data,this.medical_impressions=l.data,console.log(l),this.patchData(),this.createMedicalForm()},error:_=>console.log(_)})}getFiles(){this.fetchingFiles=!0,this.http.get("gender-based-violence/patient-gbv-file-upload",{params:{"filter[patient_id]":this.patient_id,"filter[patient_gbv_id]":this.selected_gbv_case.id}}).subscribe({next:n=>{this.gbv_files=n.data,this.fetchingFiles=!1},error:n=>console.log(n)})}createMedicalForm(){this.medicalForm=this.formBuilder.nonNullable.group({id:[null],patient_id:[this.selected_gbv_case.patient_id],patient_gbv_intake_id:[this.selected_gbv_case.gbvIntake.id],patient_temp:[null],patient_heart_rate:[null],patient_weight:[null],patient_height:[null],taking_medication_flag:[null],taking_medication_remarks:[null],general_survey_normal:[!1],general_survey_abnormal:[!1],general_survey_stunting:[!1],general_survey_wasting:[!1],general_survey_dirty_unkempt:[!1],general_survey_stuporous:[!1],general_survey_pale:[!1],general_survey_non_ambulant:[!1],general_survey_drowsy:[!1],general_survey_respiratory:[!1],general_survey_others:[!1],gbv_general_survey_remarks:[null],pe_head_and_neck_remarks:[null],pe_chest_and_lungs_remarks:[null],pe_breast_remarks:[null],pe_abdomen_remarks:[null],pe_back_remarks:[null],pe_extremities_remarks:[null],pe_anogenital_remarks:[null],pe_external_genitalia_remarks:[null],pe_anus_remarks:[null],pe_hymen_remarks:[null],medical_impression_id:[null],medical_impression_remarks:[null],menarche_flag:[!1],menarche_age:[!1],lmp_date:[null],genital_discharge_uti_flag:[!1],past_hospitalizations_flag:[!1],past_hospital_remarks:[null],scar_physical_abuse_flag:[!1],pertinent_med_history_flag:[!1],medical_history_remarks:[null],summary_non_abuse_findings:[null]}),this.patchMedicalValue()}patchMedicalValue(){this.selected_gbv_case.gbvIntake.medical_history&&(this.medicalForm.patchValue({...this.selected_gbv_case.gbvIntake.medical_history}),console.log(this.medicalForm.value))}exportP(){this.pdf_exported=!0,this.exportAsService.save(this.exportAsPdf,"GBV Medical").subscribe(()=>{})}get f(){return this.medicalForm.controls}constructor(t,n,_,l){this.http=t,this.toastr=n,this.formBuilder=_,this.exportAsService=l,this.updateSelectedGbv=new e.vpe,this.faEdit=m.Xcf,this.faSave=m.r6l,this.faPlus=c.r8p,this.faCircleNotch=c.IJ7,this.faFilePdf=c.gSj,this.faFileContract=c.uqx,this.medicalForm=function Ro(){return new o.cw({id:new o.NI(null),patient_id:new o.NI(null),patient_gbv_intake_id:new o.NI(null),patient_temp:new o.NI(null),patient_heart_rate:new o.NI(null),patient_weight:new o.NI(null),patient_height:new o.NI(null),taking_medication_flag:new o.NI(null),taking_medication_remarks:new o.NI(null),general_survey_normal:new o.NI(null),general_survey_abnormal:new o.NI(null),general_survey_stunting:new o.NI(null),general_survey_wasting:new o.NI(null),general_survey_dirty_unkempt:new o.NI(null),general_survey_stuporous:new o.NI(null),general_survey_pale:new o.NI(null),general_survey_non_ambulant:new o.NI(null),general_survey_drowsy:new o.NI(null),general_survey_respiratory:new o.NI(null),general_survey_others:new o.NI(null),gbv_general_survey_remarks:new o.NI(null),pe_head_and_neck_remarks:new o.NI(null),pe_chest_and_lungs_remarks:new o.NI(null),pe_breast_remarks:new o.NI(null),pe_abdomen_remarks:new o.NI(null),pe_back_remarks:new o.NI(null),pe_extremities_remarks:new o.NI(null),pe_anogenital_remarks:new o.NI(null),pe_external_genitalia_remarks:new o.NI(null),pe_anus_remarks:new o.NI(null),pe_hymen_remarks:new o.NI(null),medical_impression_id:new o.NI(null),medical_impression_remarks:new o.NI(null),menarche_flag:new o.NI(null),menarche_age:new o.NI(null),lmp_date:new o.NI(null),genital_discharge_uti_flag:new o.NI(null),past_hospitalizations_flag:new o.NI(null),past_hospital_remarks:new o.NI(null),scar_physical_abuse_flag:new o.NI(null),pertinent_med_history_flag:new o.NI(null),medical_history_remarks:new o.NI(null),summary_non_abuse_findings:new o.NI(null)})}(),this.intakeForm=G(),this.modals=[],this.anogenitals=[],this.selected_exam={exam_title:"",url:"",save_url:"",var_id:"",arr_var_name:"",data:""},this.is_saving=!1,this.pdf_exported=!1,this.gbv_files=[],this.general_surveys=[{id:1,desc:"Normal",var_name:"general_survey_normal"},{id:2,desc:"Abnormal",var_name:"general_survey_abnormal"},{id:3,desc:"Stunting",var_name:"general_survey_stunting"},{id:4,desc:"Wasting",var_name:"general_survey_wasting"},{id:5,desc:"Dirty, Unkempt",var_name:"general_survey_dirty_unkempt"},{id:6,desc:"Stuporous",var_name:"general_survey_stuporous"},{id:7,desc:"Pale",var_name:"general_survey_pale"},{id:8,desc:"Non-ambulant",var_name:"general_survey_non_ambulant"},{id:9,desc:"Drowsy, Irritable",var_name:"general_survey_drowsy"},{id:10,desc:"Respiratory Distress",var_name:"general_survey_respiratory"},{id:11,desc:"Other Abnormality",var_name:"general_survey_others"}],this.physical_exams=[{desc:"Head and Neck",var_name:"pe_head_and_neck_remarks"},{desc:"Chest and Lungs",var_name:"pe_chest_and_lungs_remarks"},{desc:"Breast",var_name:"pe_breast_remarks"},{desc:"Abdomen",var_name:"pe_abdomen_remarks"},{desc:"Back",var_name:"pe_back_remarks"},{desc:"Extremities",var_name:"pe_extremities_remarks"},{desc:"Anogenital",var_name:"pe_anogenital_remarks"},{desc:"External Genitalia",var_name:"pe_external_genitalia_remarks"},{desc:"Anus",var_name:"pe_anus_remarks"},{desc:"Hymen",var_name:"pe_hymen_remarks"}],this.has_consent=!1,this.anogenital_exam=[],this.corporal_exam=[],this.behavioral_exam=[],this.fetchingFiles=!1,this.exportAsPdf={type:"pdf",elementIdOrContent:"medForm",options:{image:{type:"jpeg",quality:1},html2canvas:{scale:3},margin:[1,1,1,1],pagebreak:{mode:["avoid-all","css","legacy"]},jsPDF:{orientation:"landscape",format:"a4",precision:16}}}}ngOnInit(){this.loadLibraries(),console.log(this.selected_gbv_case)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu),e.Y36(F.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medical"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},decls:36,vars:19,consts:[[1,"border","border-slate-200","rounded-b-lg"],[1,"min-w-full","border","select-none"],[1,"mx-5","mb-5"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-4","gap-4","w-full","mt-5"],[1,"col-span-4","border-b","border-slate-200","flex","justify-between","w-full","my-2","font-semibold","text-sky-500"],["type","button",1,"text-2xl","mr-5","text-blue-600","disabled:text-gray-600",3,"disabled","click"],[3,"icon"],["type","button",1,"text-2xl","mr-5","text-red-600","disabled:text-gray-600",3,"disabled","click"],[1,"mx-5","col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-4"],["type","checkbox","id","consent_flag","formControlName","consent_flag",1,"input-checkbox"],["for","consent_flag",1,"pl-3","py-0.5"],[1,"col-span-2"],["for","consent_relation_to_child_id"],["name","consent_relation_to_child_id","id","consent_relation_to_child_id","formControlName","consent_relation_to_child_id",1,"input"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-4","flex","justify-center"],["type","submit",1,"btn-save","mr-5","mt-4",3,"disabled"],[1,"mr-2",3,"icon","spin"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","grid grid-cols-3 gap-4 w-full mt-5",4,"ngIf"],[3,"selected_exam","intake_id","patient_id","toggleModal",4,"ngIf"],[3,"gbv_id","patient_id","toggleFileModal",4,"ngIf"],[3,"selected_file_id","toggleModal",4,"ngIf"],[3,"selected_gbv_case","toggleExportPDF",4,"ngIf"],[3,"selected_gbv_case","toggleMedCert",4,"ngIf"],[3,"value"],[1,"col-span-4","border-b","border-slate-200","w-full","my-2","pt-3","font-semibold","text-sky-500"],[1,"col-span-4","grid","grid-cols-12","gap-4","mx-5"],[1,"col-span-3"],["for","patient_temp",3,"ngClass"],["type","number","name","patient_temp","id","patient_temp","formControlName","patient_temp",1,"input",3,"ngClass"],["for","patient_heart_rate",3,"ngClass"],["type","number","name","patient_heart_rate","id","patient_heart_rate","formControlName","patient_heart_rate",1,"input",3,"ngClass"],["for","patient_weight",3,"ngClass"],["type","number","name","patient_weight","id","patient_weight","formControlName","patient_weight",1,"input",3,"ngClass"],["for","patient_height",3,"ngClass"],["type","number","name","patient_height","id","patient_height","formControlName","patient_height",1,"input",3,"ngClass"],[1,"col-span-12"],["type","checkbox","id","taking_medication_flag","formControlName","taking_medication_flag",1,"input-checkbox","mr-1.5"],["for","taking_medication_flag"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","grid","grid-cols-3"],[1,"col-span-3","font-semibold","text-sm"],["class","ml-5 my-0.5",4,"ngFor","ngForOf"],["class","col-span-3 mt-2",4,"ngIf"],["type","checkbox","id","menarche_flag","formControlName","menarche_flag",1,"input-checkbox","mr-1.5"],["for","menarche_flag"],["class","col-span-12 grid grid-cols-2 gap-4",4,"ngIf"],["type","checkbox","id","genital_discharge_uti_flag","formControlName","genital_discharge_uti_flag",1,"input-checkbox","mr-1.5"],["for","genital_discharge_uti_flag"],["type","checkbox","id","scar_physical_abuse_flag","formControlName","scar_physical_abuse_flag",1,"input-checkbox","mr-1.5"],["for","scar_physical_abuse_flag"],["type","checkbox","id","past_hospitalizations_flag","formControlName","past_hospitalizations_flag",1,"input-checkbox","mr-1.5"],["for","past_hospitalizations_flag"],["type","checkbox","id","pertinent_med_history_flag","formControlName","pertinent_med_history_flag",1,"input-checkbox","mr-1.5"],["for","pertinent_med_history_flag"],["for","summary_non_abuse_findings",3,"ngClass"],["rows","2","name","summary_non_abuse_findings","id","summary_non_abuse_findings","formControlName","summary_non_abuse_findings",1,"input",3,"ngClass"],["class","col-span-12 ml-5 mb-2",4,"ngFor","ngForOf"],[1,"col-span-12","ml-5","mb-2"],["for","medical_impression_id"],["name","medical_impression_id","id","medical_impression_id","formControlName","medical_impression_id",1,"input"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-span-12 ml-5",4,"ngIf"],[1,"col-span-12","flex","justify-center"],["for","taking_medication_remarks",3,"ngClass"],["type","text","name","taking_medication_remarks","id","taking_medication_remarks","formControlName","taking_medication_remarks",1,"input",3,"ngClass"],[1,"ml-5","my-0.5"],["type","checkbox",1,"input-checkbox","mr-1.5",3,"formControlName"],[1,"col-span-3","mt-2"],["for","gbv_general_survey_remarks",3,"ngClass"],["type","text","name","gbv_general_survey_remarks","id","gbv_general_survey_remarks","formControlName","gbv_general_survey_remarks",1,"input",3,"ngClass"],[1,"col-span-12","grid","grid-cols-2","gap-4"],["for","menarche_age",3,"ngClass"],["type","number","name","menarche_age","id","menarche_age","formControlName","menarche_age",1,"input",3,"ngClass"],["for","lmp_date",3,"ngClass"],["type","date","name","lmp_date","id","lmp_date","formControlName","lmp_date",1,"input",3,"ngClass"],["for","past_hospital_remarks",3,"ngClass"],["type","text","name","past_hospital_remarks","id","past_hospital_remarks","formControlName","past_hospital_remarks",1,"input",3,"ngClass"],["for","medical_history_remarks",3,"ngClass"],["type","text","name","medical_history_remarks","id","medical_history_remarks","formControlName","medical_history_remarks",1,"input",3,"ngClass"],["for","summary_non_abuse_findings"],["rows","2",1,"input",3,"name","id","formControlName"],[1,"col-span-12","ml-5"],["for","medical_impression_remarks"],["rows","2","name","medical_impression_remarks","id","medical_impression_remarks","formControlName","medical_impression_remarks",1,"input"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md","mx-5","mb-5"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],["class","min-h-24",4,"ngIf"],[1,"m-3"],[1,"text-center","uppercase","text-xs"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"border-t","border-slate-200"],[1,"text-center"],["type","checkbox","class","input-checkbox disabled:bg-blue-500","checked","",4,"ngIf"],["type","checkbox","checked","",1,"input-checkbox","disabled:bg-blue-500"],["class","m-3",4,"ngIf"],["class","grid grid-cols-1",4,"ngIf"],[1,"text-center","uppercase","text-xs","w-1/12"],[1,"text-center","uppercase","text-xs","w-4/12"],[1,"text-center","uppercase","text-xs","w-6/12"],["class","border-t border-slate-200 my-3",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200","my-3"],[1,"py-2"],["type","button",1,"text-xs","px-3","py-1","bg-blue-500","text-white","rounded-md",3,"click"],[1,"grid","grid-cols-1"],[1,"flex","justify-center","text-sky-500"],["spin","true",3,"icon"],[1,"flex","justify-center"],[3,"selected_exam","intake_id","patient_id","toggleModal"],[3,"gbv_id","patient_id","toggleFileModal"],[3,"selected_file_id","toggleModal"],[3,"selected_gbv_case","toggleExportPDF"],[3,"selected_gbv_case","toggleMedCert"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(4,"div",4)(5,"div",5),e._uU(6," Consent Details "),e.TgZ(7,"div")(8,"button",6),e.NdJ("click",function(){return n.toggleMedCert("med_cert")}),e._UZ(9,"fa-icon",7),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return n.toggleExportPDF("export_pdf")}),e._UZ(11,"fa-icon",7),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"input",11),e.TgZ(15,"label",12),e._uU(16,"The victim survivor/guardian has read, fully understood, and signed the consent form."),e.qZA()(),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Relation to victim survivor"),e.qZA(),e.TgZ(20,"select",15)(21,"option",16),e._uU(22,"-"),e.qZA(),e.YNc(23,Q_,2,2,"option",17),e.qZA()()(),e.TgZ(24,"div",18)(25,"button",19),e._UZ(26,"fa-icon",20),e._uU(27),e.qZA()()()(),e.YNc(28,K_,75,45,"form",21),e.YNc(29,il,60,15,"div",22),e.YNc(30,ll,12,4,"div",22),e.qZA()()(),e.YNc(31,rl,1,3,"app-anogenital",23),e.YNc(32,sl,1,2,"app-file-upload",24),e.YNc(33,dl,1,1,"app-view-file",25),e.YNc(34,cl,1,1,"app-export-pdf",26),e.YNc(35,pl,1,1,"app-medical-certificate",27)),2&t&&(e.xp6(3),e.Q6J("formGroup",n.intakeForm),e.xp6(5),e.Q6J("disabled",n.pdf_exported),e.xp6(1),e.Q6J("icon",n.faFileContract),e.xp6(1),e.Q6J("disabled",n.pdf_exported),e.xp6(1),e.Q6J("icon",n.faFilePdf),e.xp6(10),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",n.child_relations),e.xp6(2),e.Q6J("disabled",n.is_saving),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave)("spin",!!n.is_saving),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "),e.xp6(1),e.Q6J("ngIf",n.has_consent),e.xp6(1),e.Q6J("ngIf",n.has_consent),e.xp6(1),e.Q6J("ngIf",n.has_consent),e.xp6(1),e.Q6J("ngIf",n.modals.anogenital),e.xp6(1),e.Q6J("ngIf",n.modals.file_upload),e.xp6(1),e.Q6J("ngIf",n.modals.view_file),e.xp6(1),e.Q6J("ngIf",n.modals.export_pdf),e.xp6(1),e.Q6J("ngIf",n.modals.med_cert))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN,Wo,Xo,i_,N_,J_,d.Nd]}),i})();function gl(i,a){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.facility.code),e.xp6(1),e.AsE("",t.last_name,", ",t.first_name,"")}}const U=function(i){return{"text-red-500":i}},N=function(i){return{"invalid-input":i}};function ml(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",12),e.NdJ("submit",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e.TgZ(1,"div",13)(2,"div",14)(3,"label",15),e._uU(4,"Date"),e.qZA(),e._UZ(5,"input",16),e.qZA(),e.TgZ(6,"div",14)(7,"label",17),e._uU(8,"Refer to"),e.qZA(),e.TgZ(9,"select",18),e.YNc(10,gl,2,3,"option",19),e.qZA()(),e.TgZ(11,"div",20),e._UZ(12,"input",21),e.TgZ(13,"label",22),e._uU(14,"For medico legal"),e.qZA()(),e.TgZ(15,"div",20)(16,"label",23),e._uU(17,"Referral reason"),e.qZA(),e.TgZ(18,"textarea",24),e._uU(19,"              "),e.qZA()(),e.TgZ(20,"div",20)(21,"label",25),e._uU(22,"Services requested"),e.qZA(),e.TgZ(23,"textarea",26),e._uU(24,"              "),e.qZA()(),e.TgZ(25,"div",20)(26,"label",27),e._uU(27,"Remarks"),e.qZA(),e.TgZ(28,"textarea",28),e._uU(29,"              "),e.qZA()()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.referralForm),e.xp6(3),e.Q6J("ngClass",e.VKq(12,U,t.show_error&&t.f.referral_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(14,N,t.show_error&&t.f.referral_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,U,t.show_error&&t.f.referral_facility_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(18,N,t.show_error&&t.f.referral_facility_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.facilities),e.xp6(6),e.Q6J("ngClass",e.VKq(20,U,t.show_error&&t.f.referral_reason.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(22,N,t.show_error&&t.f.referral_reason.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(24,U,t.show_error&&t.f.service_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(26,N,t.show_error&&t.f.service_remarks.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(28,U,t.show_error&&t.f.referral_remarks.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(30,N,t.show_error&&t.f.referral_remarks.errors))}}function fl(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"fa-icon",32),e.qZA(),e.TgZ(3,"span",33),e._uU(4," Loading... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}let vl=(()=>{class i{onSubmit(){let t;this.is_saving=!0,t=this.referralForm.value.id?this.http.update("gender-based-violence/patient-gbv-referral/",this.referralForm.value.id,this.referralForm.value):this.http.post("gender-based-violence/patient-gbv-referral",this.referralForm.value),t.subscribe({next:n=>{console.log(n),this.is_saving=!1,this.toastr.success("Successfully recorded","Referral"),this.closeModal()},error:n=>console.log(n)})}get f(){return this.referralForm.controls}createForm(){this.referralForm=this.formBuilder.group({id:[null],patient_id:[this.patient_id],patient_gbv_id:[this.selected_gbv_case.id],referral_facility_code:[null],referral_date:[null],medico_legal_flag:[null],referral_reason:[null],service_remarks:[null],referral_remarks:[null]}),this.selected_data&&this.referralForm.patchValue({...this.selected_data}),this.show_form=!0}loadLibraries(){this.http.get("gender-based-violence/patient-gbv-user",{params:{per_page:"all"}}).subscribe({next:t=>{this.facilities=t.data,this.createForm()}})}closeModal(){this.toggleModal.emit("referral")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faCircleNotch=c.IJ7,this.faSave=m.r6l,this.is_saving=!1,this.show_error=!1,this.show_form=!1,this.referralForm=new o.cw({id:new o.NI(""),patient_id:new o.NI(""),patient_gbv_id:new o.NI(""),referral_facility_code:new o.NI(""),referral_date:new o.NI(""),medico_legal_flag:new o.NI(null),referral_reason:new o.NI(""),service_remarks:new o.NI(""),referral_remarks:new o.NI("")})}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-referral-modal"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",selected_data:"selected_data"},outputs:{toggleModal:"toggleModal"},decls:16,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","text-left text-gray-500 m-5",3,"formGroup","submit",4,"ngIf"],["class","grid grid-cols-1 mt-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","referral_date",3,"ngClass"],["type","date","name","referral_date","id","referral_date","formControlName","referral_date",1,"input",3,"ngClass"],["for","referral_facility_code",3,"ngClass"],["name","referral_facility_code","id","referral_facility_code","formControlName","referral_facility_code",1,"input",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-4"],["type","checkbox","id","medico_legal_flag","formControlName","medico_legal_flag",1,"input-checkbox"],["for","medico_legal_flag",1,"pl-2"],["for","referral_reason",3,"ngClass"],["type","text","name","referral_reason","id","referral_reason","formControlName","referral_reason",1,"input",3,"ngClass"],["for","service_remarks",3,"ngClass"],["type","text","name","service_remarks","id","service_remarks","formControlName","service_remarks",1,"input",3,"ngClass"],["for","referral_remarks",3,"ngClass"],["type","text","name","referral_remarks","id","referral_remarks","formControlName","referral_remarks",1,"input",3,"ngClass"],[3,"value"],[1,"grid","grid-cols-1","mt-20"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Referral "),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,ml,30,32,"form",6),e.YNc(8,fl,5,1,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return n.closeModal()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(13,"fa-icon"),e._uU(14),e.qZA()()()()(),e._UZ(15,"div",11)),2&t&&(e.xp6(7),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(4),e.Q6J("disabled",n.is_saving||n.referralForm.invalid),e.xp6(2),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.mk,d.sg,d.O5,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function bl(i,a){1&i&&(e.TgZ(0,"div",11)(1,"span",12),e._uU(2," No records to show "),e.qZA()())}function hl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",18)(1,"td",19)(2,"fa-icon",20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.toggleModal("referral",l))}),e.qZA()(),e.TgZ(3,"td",19),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",19),e._uU(7),e.qZA(),e.TgZ(8,"td",19),e._uU(9),e.qZA(),e.TgZ(10,"td",19),e._uU(11," For medico legal: "),e._UZ(12,"br"),e._uU(13),e._UZ(14,"br")(15,"br"),e._uU(16," Referral reason: "),e._UZ(17,"br"),e._uU(18),e._UZ(19,"br")(20,"br"),e._uU(21," Service request: "),e._UZ(22,"br"),e._uU(23),e._UZ(24,"br")(25,"br"),e._uU(26," Remarks: "),e._UZ(27,"br"),e._uU(28),e._UZ(29,"br"),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("icon",n.faEdit),e.xp6(2),e.hij(" ",e.xi3(5,8,t.referral_date,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",t.facility.facility_name," "),e.xp6(2),e.hij(" ",t.referral.facility_name," "),e.xp6(4),e.hij(" ",t.medico_legal_flag?"Yes":"No",""),e.xp6(5),e.hij(" ",t.referral_reason,""),e.xp6(5),e.hij(" ",t.service_remarks,""),e.xp6(5),e.hij(" ",t.referral_remarks,"")}}function Zl(i,a){if(1&i&&(e.TgZ(0,"table",13)(1,"thead")(2,"tr"),e._UZ(3,"td",14),e.TgZ(4,"td",15),e._uU(5," Date "),e.qZA(),e.TgZ(6,"td",16),e._uU(7," Referring Facility "),e.qZA(),e.TgZ(8,"td",16),e._uU(9," Referred to "),e.qZA(),e.TgZ(10,"td",16),e._uU(11," Services/Reasons "),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,hl,30,11,"tr",17),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(13),e.Q6J("ngForOf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral)}}function xl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"spa"),e._uU(6,"Referral"),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("referral"))}),e._UZ(8,"fa-icon",8),e.qZA()(),e.YNc(9,bl,3,0,"div",9),e.YNc(10,Zl,14,1,"table",10),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("icon",t.faPlus),e.xp6(1),e.Q6J("ngIf",0===(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral.length)),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvReferral.length)>0)}}function Tl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-referral-modal",21),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("selected_data",t.selected_data)}}let wl=(()=>{class i{reloadData(){let t={id:this.selected_gbv_case.id};console.log(t),this.http.get("gender-based-violence/patient-gbv",{params:t}).subscribe({next:n=>{console.log(n),this.selected_gbv_case=n.data[0],this.updateSelectedGbv.emit(this.selected_gbv_case)},error:n=>console.log(n)})}toggleModal(t,n){this.selected_data=n,this.modals[t]=!this.modals[t],this.modals[t]||this.reloadData()}constructor(t,n){this.http=t,this.toastr=n,this.updateSelectedGbv=new e.vpe,this.faPlus=c.r8p,this.faEdit=m.Xcf,this.faSave=m.r6l,this.show_form=!0,this.modals=[],this.referrals=[],this.selected_data=[]}ngOnInit(){this.referrals=this.selected_gbv_case.gbvReferral}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-referral"]],inputs:{patient_id:"patient_id",selected_gbv_case:"selected_gbv_case",pos:"pos"},outputs:{updateSelectedGbv:"updateSelectedGbv"},decls:2,vars:2,consts:[["class","border border-slate-200 rounded-b-lg",4,"ngIf"],[3,"patient_id","selected_gbv_case","selected_data","toggleModal",4,"ngIf"],[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","m-5"],[1,"mt-1","grid","grid-cols-4","gap-x-4","w-full"],[1,"col-span-4","grid","grid-cols-1","border-slate-200","shadow-md","rounded-md"],[1,"bg-sky-500","text-white","py-1","px-3","rounded-t-md","flex","justify-between"],["type","button",1,"bg-white","text-sky-500","px-2","rounded","text-xs",3,"click"],[3,"icon"],["class","min-h-24",4,"ngIf"],["class","m-3",4,"ngIf"],[1,"min-h-24"],[1,"flex","italic","py-5","justify-center"],[1,"m-3"],[1,"w-1/12"],[1,"text-center","font-semibold","w-2/12","align-top","pt-3"],[1,"text-center","font-semibold","w-3/12","align-top","pt-3"],["class","border-t border-slate-200",4,"ngFor","ngForOf"],[1,"border-t","border-slate-200"],[1,"text-center","align-top","pt-3"],[1,"hover:cursor-pointer","text-orange-500",3,"icon","click"],[3,"patient_id","selected_gbv_case","selected_data","toggleModal"]],template:function(t,n){1&t&&(e.YNc(0,xl,11,3,"div",0),e.YNc(1,Tl,1,3,"app-referral-modal",1)),2&t&&(e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",n.modals.referral))},dependencies:[d.sg,d.O5,u.BN,vl,d.uU]}),i})();function yl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",18),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_complaints[r.complaint_id]=_)}),e.qZA(),e.TgZ(2,"label",19),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_complaints",t.complaint_id,""),e.Q6J("ngModel",n.patient_complaints[t.complaint_id]),e.xp6(1),e.Q2q("for","patient_complaints",t.complaint_id,""),e.xp6(1),e.Oqu(t.complaint_desc)}}function Cl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",18),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_behavior[r.id]=_)}),e.qZA(),e.TgZ(2,"label",19),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_behavior",t.id,""),e.Q6J("ngModel",n.patient_behavior[t.id]),e.xp6(1),e.Q2q("for","patient_behavior",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function ql(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",18),e.NdJ("ngModelChange",function(_){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.patient_neglect[r.id]=_)}),e.qZA(),e.TgZ(2,"label",19),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q2q("id","patient_neglect",t.id,""),e.Q6J("ngModel",n.patient_neglect[t.id]),e.xp6(1),e.Q2q("for","patient_neglect",t.id,""),e.xp6(1),e.Oqu(t.desc)}}function Al(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",8),e._uU(2,"Referral reason"),e.qZA(),e.TgZ(3,"textarea",21),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw(2);return e.KtG(l.patient_gbv.referral_reason=_)}),e._uU(4,"          "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.patient_gbv.referral_reason)}}function kl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"label",8),e._uU(3,"Date"),e.qZA(),e.TgZ(4,"input",9),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_gbv.gbv_date=_)}),e.qZA()(),e.TgZ(5,"div",10),e._uU(6," Complaints "),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,yl,4,4,"div",12),e.qZA(),e.TgZ(9,"div",13)(10,"label",14),e._uU(11,"Remarks"),e.qZA(),e.TgZ(12,"input",15),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_gbv.gbv_complaint_remarks=_)}),e.qZA()(),e.TgZ(13,"div",10),e._uU(14," Behavioral Changes "),e.qZA(),e.TgZ(15,"div",11),e.YNc(16,Cl,4,4,"div",12),e.qZA(),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Remarks"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_gbv.gbv_behavioral_remarks=_)}),e.qZA()(),e.TgZ(21,"div",10),e._uU(22," Neglects "),e.qZA(),e.TgZ(23,"div",11),e.YNc(24,ql,4,4,"div",12),e.qZA(),e.TgZ(25,"div",13)(26,"label",14),e._uU(27,"Remarks"),e.qZA(),e.TgZ(28,"input",16),e.NdJ("ngModelChange",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.patient_gbv.gbv_neglect_remarks=_)}),e.qZA()(),e.YNc(29,Al,5,1,"div",17),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.patient_gbv.gbv_date),e.xp6(4),e.Q6J("ngForOf",t.complaints),e.xp6(4),e.Q6J("ngModel",t.patient_gbv.gbv_complaint_remarks),e.xp6(4),e.Q6J("ngForOf",t.behavioral_changes),e.xp6(4),e.Q6J("ngModel",t.patient_gbv.gbv_behavioral_remarks),e.xp6(4),e.Q6J("ngForOf",t.neglects),e.xp6(4),e.Q6J("ngModel",t.patient_gbv.gbv_neglect_remarks),e.xp6(1),e.Q6J("ngIf",t.patient_gbv.referral_reason)}}function Il(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"fa-icon",24),e.qZA(),e.TgZ(3,"div",25),e._uU(4," Loading... "),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function Ul(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.onSubmit())}),e._UZ(2,"fa-icon",28),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.is_saving||!t.patient_gbv.gbv_date),e.xp6(1),e.Q6J("icon",t.is_saving?t.faCircleNotch:t.faSave)("spin",t.is_saving),e.xp6(1),e.hij(" ",t.patient_gbv.id?t.is_saving?"Updating":"Update":t.is_saving?"Saving":"Save"," ")}}let Nl=(()=>{class i{onSubmit(){this.is_saving=!0;let t=[],n=[],_=[];this.patient_gbv.patient_id=this.patient_id,Object.entries(this.patient_complaints).forEach(([l,r],s)=>{!0===r&&t.push({complaint_id:l})}),Object.entries(this.patient_behavior).forEach(([l,r],s)=>{!0===r&&n.push({behavioral_id:l})}),Object.entries(this.patient_neglect).forEach(([l,r],s)=>{!0===r&&_.push({neglect_id:l})}),this.patient_gbv.complaint=t,this.patient_gbv.behavior=n,this.patient_gbv.neglect=_,console.log(this.patient_gbv),this.http.post("gender-based-violence/patient-gbv",this.patient_gbv).subscribe({next:l=>{console.log(l),this.toastr.success("Successfully recorded!","GBV Referral"),this.is_saving=!1,this.getGbvHistory.emit()},error:l=>console.log(l)})}reloadData(){this.http.get("gender-based-violence/patient-gbv",{params:{id:this.selected_gbv_case.id}}).subscribe({next:n=>{this.selected_gbv_case=n.data[0]},error:n=>console.log(n)})}loadLibraries(){const t=this.http.get("libraries/gbv-neglect"),n=this.http.get("libraries/gbv-behavioral"),_=this.http.get("libraries/complaint",{params:{query_type:"gbv_complaints"}}),l=this.http.get("users",{params:{per_page:"all",designation_code:"MD"}});(0,I.D)([t,n,_,l]).subscribe({next:([r,s,g,y])=>{this.neglects=r.data,this.behavioral_changes=s.data,this.complaints=g.data,this.gbv_mdts=y.data,this.checkOpenGbv(),this.show_form=!0},error:r=>console.log(r)})}checkOpenGbv(){this.selected_gbv_case&&(this.patient_gbv={...this.selected_gbv_case},this.patient_gbv.gbv_date=(0,d.p6)(this.patient_gbv.gbv_date,"yyyy-MM-dd","en"),this.patient_gbv.referral_reason=this.patient_gbv.gbvReferral.length>0?this.patient_gbv.gbvReferral[0].referral_reason:null,this.selected_gbv_case.gbvComplaint&&(this.patient_complaints=this.checkSelection(this.selected_gbv_case.gbvComplaint,"complaint_id")),this.selected_gbv_case.gbvBehavior&&(this.patient_behavior=this.checkSelection(this.selected_gbv_case.gbvBehavior,"behavioral_id")),this.selected_gbv_case.gbvNeglect&&(this.patient_neglect=this.checkSelection(this.selected_gbv_case.gbvNeglect,"neglect_id")))}checkSelection(t,n){let _=[];return Object.entries(t).forEach(([l,r],s)=>{_[r[n]]=!0}),_}loadComplaints(){}constructor(t,n){this.http=t,this.toastr=n,this.getGbvHistory=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.show_form=!1,this.gbv_mdts=[],this.patient_complaints=[],this.patient_behavior=[],this.patient_neglect=[],this.patient_gbv={id:null,patient_id:"",gbv_date:"",gbv_complaint_remarks:"",gbv_behavioral_remarks:"",gbv_neglect_remarks:"",referral_reason:"",complaint:[],behavior:[],neglect:[],gbvReferral:null}}ngOnChanges(t){this.checkOpenGbv()}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-triage"]],inputs:{selected_gbv_case:"selected_gbv_case",patient_id:"patient_id",pos:"pos"},outputs:{getGbvHistory:"getGbvHistory"},features:[e.TTD],decls:6,vars:3,consts:[[1,"border","border-slate-200","rounded-b-lg"],[1,"mx-5","mb-5"],[1,"grid","grid-cols-3","gap-4","w-full","mt-5"],["class","col-span-4 grid grid-cols-4 gap-4",4,"ngIf"],["class","col-span-4 grid grid-cols-4 gap-4 mt-20",4,"ngIf"],["class","flex justify-center mt-5",4,"ngIf"],[1,"col-span-4","grid","grid-cols-4","gap-4"],[1,"col-span-2"],["for","case_number"],["type","date","name","gbv_date","id","gbv_date",1,"input",3,"ngModel","ngModelChange"],[1,"col-span-4","font-semibold","text-sky-500","mt-5","border-b","border-slate-200"],[1,"col-span-4","grid","grid-cols-3","gap-4"],[4,"ngFor","ngForOf"],[1,"col-span-4","flex"],[1,"mt-2","pr-3"],["type","text",1,"input",3,"ngModel","ngModelChange"],["type","text","name","patient_neglect_remarks","id","patient_neglect_remarks",1,"input",3,"ngModel","ngModelChange"],["class","col-span-4",4,"ngIf"],["type","checkbox",1,"input-checkbox",3,"ngModel","ngModelChange"],[1,"pl-3","py-0.5"],[1,"col-span-4"],["type","text","name","referral_reason","id","referral_reason",1,"input",3,"ngModel","ngModelChange"],[1,"col-span-4","grid","grid-cols-4","gap-4","mt-20"],[1,"col-span-4","flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"col-span-4","flex","justify-center"],[1,"flex","justify-center","mt-5"],["type","button",1,"btn-save","mr-5","mt-4",3,"disabled","click"],[1,"mr-2",3,"icon","spin"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,kl,30,8,"div",3),e.YNc(4,Il,5,1,"div",4),e.qZA(),e.YNc(5,Ul,4,4,"div",5),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.show_form),e.xp6(1),e.Q6J("ngIf",!n.show_form),e.xp6(1),e.Q6J("ngIf",n.show_form))},dependencies:[d.sg,d.O5,o.Fj,o.Wl,o.JJ,o.On,u.BN]}),i})();function Jl(i,a){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ql(i,a){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Ml(i,a){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}let Fl=(()=>{class i{onSubmit(){this.is_saving=!0,this.http.update("gender-based-violence/patient-gbv/",this.caseOutcomeForm.value.id,this.caseOutcomeForm.value).subscribe({next:t=>{this.is_saving=!1,this.toastr.success("Successfully recorded","Case Outcome"),this.closeModal()}})}createForm(){this.caseOutcomeForm=this.formBuilder.group({id:[this.selected_gbv_case.id],patient_id:[this.selected_gbv_case.patient_id],outcome_date:[null,o.kI.required],outcome_reason_id:[null],outcome_reason_remarks:[null],outcome_result_id:[null],outcome_result_remarks:[null],outcome_verdict_id:[null],outcome_remarks:[null]})}loadLibraries(){const t=this.http.get("libraries/gbv-outcome-reason"),n=this.http.get("libraries/gbv-outcome-result"),_=this.http.get("libraries/gbv-outcome-verdict");(0,I.D)([t,n,_]).subscribe({next:([l,r,s])=>{this.outcome_reasons=l.data,this.outcome_results=r.data,this.outcome_verdicts=s.data,this.createForm()},error:l=>console.log(l)})}closeModal(){this.toggleModal.emit("case_outcome")}constructor(t,n,_){this.http=t,this.toastr=n,this.formBuilder=_,this.toggleModal=new e.vpe,this.faSave=m.r6l,this.faCircleNotch=c.IJ7,this.is_saving=!1,this.caseOutcomeForm=new o.cw({id:new o.NI(null),patient_id:new o.NI(null),outcome_date:new o.NI(null),outcome_reason_id:new o.NI(null),outcome_reason_remarks:new o.NI(null),outcome_result_id:new o.NI(null),outcome_result_remarks:new o.NI(null),outcome_verdict_id:new o.NI(null)}),this.outcome_reasons=[],this.outcome_results=[],this.outcome_verdicts=[]}ngOnInit(){this.loadLibraries()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(f._W),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-case-outcome"]],inputs:{selected_gbv_case:"selected_gbv_case"},outputs:{toggleModal:"toggleModal"},decls:43,vars:7,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-sky-500"],[1,"text-sm","font-bold","text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"text-left","text-gray-500","m-5",3,"formGroup","submit"],[1,"grid","grid-cols-3","gap-4"],[1,"col-span-3"],["for","outcome_date"],["type","date","name","outcome_date","id","outcome_date","formControlName","outcome_date",1,"input"],["for","outcome_reason_id"],["name","outcome_reason_id","id","outcome_reason_id","formControlName","outcome_reason_id",1,"input"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-2"],["for","outcome_reason_remarks"],["type","text","name","outcome_reason_remarks","id","outcome_reason_remarks","formControlName","outcome_reason_remarks",1,"input"],["for","outcome_result_id"],["name","outcome_result_id","id","outcome_result_id","formControlName","outcome_result_id",1,"input"],["for","outcome_result_remarks"],["type","text","name","outcome_result_remarks","id","outcome_result_remarks","formControlName","outcome_result_remarks",1,"input"],["for","outcome_verdict_id"],["name","outcome_verdict_id","id","outcome_verdict_id","formControlName","outcome_verdict_id",1,"input"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"disabled","click"],[3,"icon"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Case Outcome "),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Outcome Date"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div")(14,"label",11),e._uU(15,"Outcome Reason"),e.qZA(),e.TgZ(16,"select",12),e.YNc(17,Jl,2,2,"option",13),e.qZA()(),e.TgZ(18,"div",14)(19,"label",15),e._uU(20,"Outcome reason remarks"),e.qZA(),e._UZ(21,"input",16),e.qZA(),e.TgZ(22,"div")(23,"label",17),e._uU(24,"Outcome Result"),e.qZA(),e.TgZ(25,"select",18),e.YNc(26,Ql,2,2,"option",13),e.qZA()(),e.TgZ(27,"div",14)(28,"label",19),e._uU(29,"Outcome result remarks"),e.qZA(),e._UZ(30,"input",20),e.qZA(),e.TgZ(31,"div",8)(32,"label",21),e._uU(33,"Outcome Verdict"),e.qZA(),e.TgZ(34,"select",22),e.YNc(35,Ml,2,2,"option",13),e.qZA()()()()(),e.TgZ(36,"div",23)(37,"button",24),e.NdJ("click",function(){return n.closeModal()}),e._uU(38,"Close"),e.qZA(),e.TgZ(39,"button",25),e.NdJ("click",function(){return n.onSubmit()}),e._UZ(40,"fa-icon",26),e._uU(41),e.qZA()()()()(),e._UZ(42,"div",27)),2&t&&(e.xp6(7),e.Q6J("formGroup",n.caseOutcomeForm),e.xp6(10),e.Q6J("ngForOf",n.outcome_reasons),e.xp6(9),e.Q6J("ngForOf",n.outcome_results),e.xp6(9),e.Q6J("ngForOf",n.outcome_verdicts),e.xp6(4),e.Q6J("disabled",n.is_saving||n.caseOutcomeForm.invalid),e.xp6(1),e.Q6J("icon",n.is_saving?n.faCircleNotch:n.faSave),e.xp6(1),e.hij(" ",n.is_saving?"Saving":"Save"," "))},dependencies:[d.sg,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,u.BN]}),i})();function Yl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.switchPage(2))}),e._uU(1," DETAILS "),e.qZA()}if(2&i){const t=e.oxw();e.Tol(2===t.pages?"tabs-main-true rounded-t-md":"tabs-main-false")}}function Ol(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.toggleModal("case_outcome"))}),e._uU(1," Case Outcome "),e.qZA()}}function Sl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.switchTab(2))}),e._uU(1," Intake "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(2===t.module?"tabs-main-true":"tabs-main-false")}}function jl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.switchTab(3))}),e._uU(1," Interview "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(3===t.module?"tabs-main-true":"tabs-main-false")}}function Gl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.switchTab(4))}),e._uU(1," Medical "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(4===t.module?"tabs-main-true":"tabs-main-false")}}function El(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.switchTab(5))}),e._uU(1," Intervention "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(5===t.module?"tabs-main-true":"tabs-main-false")}}function Vl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.switchTab(6))}),e._uU(1," Referral "),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(6===t.module?"tabs-main-true":"tabs-main-false")}}function Kl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const _=e.oxw(2);return e.KtG(_.toggleModal("treatment_outcome"))}),e._uU(1," Case Outome "),e.qZA()}}function Dl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"nav",12)(1,"div",13)(2,"button",14),e.NdJ("click",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.switchTab(1))}),e._uU(3," Triage "),e.qZA(),e.YNc(4,Sl,2,2,"button",15),e.YNc(5,jl,2,2,"button",15),e.YNc(6,Gl,2,2,"button",15),e.YNc(7,El,2,2,"button",15),e.YNc(8,Vl,2,2,"button",15),e.qZA(),e.TgZ(9,"div",13),e.YNc(10,Kl,2,0,"button",16),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Tol(1===t.module?"tabs-main-true":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",t.selected_gbv_case),e.xp6(1),e.Q6J("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake),e.xp6(1),e.Q6J("ngIf",(null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake)&&"MD"===t.pos),e.xp6(1),e.Q6J("ngIf",null==t.selected_gbv_case?null:t.selected_gbv_case.gbvIntake),e.xp6(1),e.Q6J("ngIf",t.selected_gbv_case),e.xp6(2),e.Q6J("ngIf",t.selected_gbv_case&&0===t.selected_gbv_case.treatment_done)}}function Pl(i,a){1&i&&(e.TgZ(0,"div",22),e._uU(1," You are not allowed to access this module. "),e.qZA())}function Hl(i,a){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"fa-icon",25),e.qZA(),e.TgZ(3,"div",26),e._uU(4,"Fetching history..."),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faCircleNotch)}}function Ll(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",32)(1,"td",33),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",33),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td",33),e._uU(10),e.qZA(),e.TgZ(11,"td",33)(12,"button",34),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.openGbvConsult(l))}),e._uU(13),e.qZA()()()}if(2&i){const t=a.$implicit;let n,_;e.xp6(2),e.hij(" ",null!==(n=null==t.gbvIntake?null:t.gbvIntake.case_number)&&void 0!==n?n:"For GBV Assessment"," "),e.xp6(2),e.hij(" ",e.xi3(5,8,t.gbv_date,"MM/dd/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(8,11,t.outcome_date,null!==(_="MM/dd/yyyy")&&void 0!==_?_:"-")," "),e.xp6(3),e.HOy(" ",t.outcome_reason||t.outcome_result||t.outcome_verdict?"":"Open"," ",t.outcome_reason?"Reason: "+t.outcome_reason.desc:""," ",t.outcome_result?"Result: "+t.outcome_result.desc:""," ",t.outcome_verdict?"Verdict: "+t.outcome_verdict.desc:""," "),e.xp6(3),e.hij(" ",t.outcome_reason||t.outcome_result||t.outcome_verdict?"View":"Open"," ")}}function $l(i,a){1&i&&(e.TgZ(0,"tr",32)(1,"td",35)(2,"div",36)(3,"div",37),e._uU(4,"No records to show..."),e.qZA()()()())}function Rl(i,a){if(1&i&&(e.TgZ(0,"table",27)(1,"thead",28)(2,"tr")(3,"th",29),e._uU(4,"Case No."),e.qZA(),e.TgZ(5,"th",29),e._uU(6,"Date"),e.qZA(),e.TgZ(7,"th",29),e._uU(8,"Outcome Date"),e.qZA(),e.TgZ(9,"th",29),e._uU(10,"Status"),e.qZA(),e.TgZ(11,"th",29),e._uU(12,"Action"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Ll,14,14,"tr",30),e.YNc(15,$l,5,0,"tr",31),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(14),e.Q6J("ngForOf",t.patient_gbv_history),e.xp6(1),e.Q6J("ngIf",0===t.patient_gbv_history.length)}}function Bl(i,a){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,Pl,2,0,"div",19),e.YNc(2,Hl,5,1,"div",20),e.YNc(3,Rl,16,2,"table",21),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.arr_allowed.indexOf(t.pos)<0),e.xp6(1),e.Q6J("ngIf",t.fetching_history&&t.arr_allowed.indexOf(t.pos)>-1),e.xp6(1),e.Q6J("ngIf",!t.fetching_history&&t.arr_allowed.indexOf(t.pos)>-1)}}function Wl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-triage",38),e.NdJ("getGbvHistory",function(){e.CHM(t);const _=e.oxw();return e.KtG(_.getGbvHistory())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function zl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-intake",39),e.NdJ("updateSelectedGbv",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedGbv(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function Xl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-interview",39),e.NdJ("updateSelectedGbv",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedGbv(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function er(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-medical",39),e.NdJ("updateSelectedGbv",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedGbv(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function tr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-intervention",39),e.NdJ("updateSelectedGbv",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedGbv(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function ir(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-referral",39),e.NdJ("updateSelectedGbv",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.updateSelectedGbv(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient_id",t.patient_id)("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}function nr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-case-outcome",40),e.NdJ("toggleModal",function(_){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleModal(_))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selected_gbv_case",t.selected_gbv_case)("pos",t.pos)}}const ar=[{path:"",component:(()=>{class i{toggleModal(t){this.modals[t]=!this.modals[t],this.modals[t]||this.getGbvHistory()}switchPage(t){1===t&&this.getGbvHistory(),this.pages=t}switchTab(t){this.module=t}openGbvConsult(t){this.selected_gbv_case=t,this.pages=2}updateSelectedGbv(t){this.selected_gbv_case=t}getGbvHistory(){this.fetching_history=!0,this.selected_gbv_case=void 0,this.http.get("gender-based-violence/patient-gbv",{params:{patient_id:this.patient_id}}).subscribe({next:t=>{this.patient_gbv_history=t.data,Object.keys(this.patient_gbv_history).length>0&&(this.selected_gbv_case=this.patient_gbv_history[0].outcome_date?null:this.patient_gbv_history[0]),this.fetching_history=!1},error:t=>console.log(t)})}constructor(t,n){this.http=t,this.route=n,this.faCircleNotch=c.IJ7,this.faDoorClosed=c.TH0,this.pages=1,this.module=1,this.show_form=!1,this.fetching_history=!0,this.modals=[],this.arr_allowed=["MD","WCPD","MSWDO"]}ngOnInit(){this.patient_id=this.route.snapshot.paramMap.get("id"),this.user_facility=this.http.getUserFacility(),this.pos=this.http.getUserFromJSON().designation_code?this.http.getUserFromJSON().designation_code:this.http.getUserFromJSON().designation.code,this.arr_allowed.indexOf(this.pos)>-1&&this.getGbvHistory()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.O),e.Y36(M.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gbv"]],decls:16,vars:13,consts:[[1,"flex"],[1,"mt-4","flex","flex-row","border-b","border-slate-300","text-xs"],[1,"tabs-main","w-36",3,"click"],["class","tabs-main w-36",3,"class","click",4,"ngIf"],[1,"ml-auto"],["type","button","class","btn-end-visit ml-auto mt-5",3,"click",4,"ngIf"],["class","mt-2 flex justify-between border-b border-slate-300 text-xs",4,"ngIf"],["class","my-5 w-full border border-gray-200 shadow-md rounded-xl",4,"ngIf"],[3,"patient_id","selected_gbv_case","pos","getGbvHistory",4,"ngIf"],[3,"patient_id","selected_gbv_case","pos","updateSelectedGbv",4,"ngIf"],[3,"selected_gbv_case","pos","toggleModal",4,"ngIf"],["type","button",1,"btn-end-visit","ml-auto","mt-5",3,"click"],[1,"mt-2","flex","justify-between","border-b","border-slate-300","text-xs"],[1,"flex","flex-row"],[1,"tabs-main","w-28",3,"click"],["class","tabs-main w-28",3,"class","click",4,"ngIf"],["type","button","class","bg-rose-500 px-3 py-2  rounded text-white hover:opacity-75",3,"click",4,"ngIf"],["type","button",1,"bg-rose-500","px-3","py-2","rounded","text-white","hover:opacity-75",3,"click"],[1,"my-5","w-full","border","border-gray-200","shadow-md","rounded-xl"],["class","flex justify-center my-24 italic",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","w-full text-sm text-left",4,"ngIf"],[1,"flex","justify-center","my-24","italic"],[1,"flex","flex-col"],[1,"w-full","flex","justify-center"],["spin","true",1,"pt-10",3,"icon"],[1,"w-full","flex","justify-center","pb-10","font-semi","bold"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-white","uppercase","bg-blue-500"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b",4,"ngFor","ngForOf"],["class","bg-white border-b",4,"ngIf"],[1,"bg-white","border-b"],[1,"py-4","px-6"],["type","button",1,"rounded-md","bg-blue-500","text-white","py-1","px-2",3,"click"],["colspan","7"],[1,"text-center","py-3","flex","flex-col"],[1,"flex","justify-center"],[3,"patient_id","selected_gbv_case","pos","getGbvHistory"],[3,"patient_id","selected_gbv_case","pos","updateSelectedGbv"],[3,"selected_gbv_case","pos","toggleModal"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"button",2),e.NdJ("click",function(){return n.switchPage(1)}),e._uU(3," ARCHIVE "),e.qZA(),e.YNc(4,Yl,2,2,"button",3),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,Ol,2,0,"button",5),e.qZA()(),e.YNc(7,Dl,11,8,"nav",6),e.YNc(8,Bl,4,3,"div",7),e.YNc(9,Wl,1,3,"app-triage",8),e.YNc(10,zl,1,3,"app-intake",9),e.YNc(11,Xl,1,3,"app-interview",9),e.YNc(12,er,1,3,"app-medical",9),e.YNc(13,tr,1,3,"app-intervention",9),e.YNc(14,ir,1,3,"app-referral",9),e.YNc(15,nr,1,2,"app-case-outcome",10)),2&t&&(e.xp6(2),e.Tol(1===n.pages?"tabs-main-true rounded-t-md":"tabs-main-false"),e.xp6(2),e.Q6J("ngIf",n.arr_allowed.indexOf(n.pos)>-1),e.xp6(2),e.Q6J("ngIf",n.selected_gbv_case&&!(null!=n.selected_gbv_case&&n.selected_gbv_case.outcome_date)),e.xp6(1),e.Q6J("ngIf",2===n.pages),e.xp6(1),e.Q6J("ngIf",1===n.pages),e.xp6(1),e.Q6J("ngIf",2===n.pages&&1===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&2===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&3===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&4===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&5===n.module),e.xp6(1),e.Q6J("ngIf",2===n.pages&&6===n.module),e.xp6(1),e.Q6J("ngIf",n.modals.case_outcome))},dependencies:[d.sg,d.O5,u.BN,Kt,Wn,$o,ul,wl,Nl,Fl,d.uU]}),i})()}];let or=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[M.Bz.forChild(ar),M.Bz]}),i})();const _r=null;let lr=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[(0,E.e$)()],imports:[d.ez,or,o.u5,o.UX,u.uH,F.a]}),i})()}}]);