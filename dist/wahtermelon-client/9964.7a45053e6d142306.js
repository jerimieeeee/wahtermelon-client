"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[9964],{9964:(Gt,h,d)=>{d.r(h),d.d(h,{PatientRegistrationModule:()=>dt,options:()=>_t});var m=d(177),g=d(5237),o=d(9417),c=d(5383),R=d(614),F=d(466),x=d(7468),e=d(4438),b=d(3318),u=d(60),y=d(5188);function k(i,n){1&i&&(e.j41(0,"tr")(1,"th",20),e.EFF(2,"No records found."),e.k0s()())}function C(i,n){if(1&i&&(e.j41(0,"span",28),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.R7$(),e.LHq(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," ")}}function G(i,n){if(1&i){const t=e.RV6();e.j41(0,"tr",21)(1,"th",22),e.EFF(2),e.k0s(),e.j41(3,"td",23),e.DNE(4,C,2,4,"span",24),e.k0s(),e.j41(5,"td",25)(6,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,_=e.XpG();return e.Njj(_.selectFolder(a))}),e.nrm(7,"fa-icon",27),e.EFF(8," Select Folder "),e.k0s()()()}if(2&i){const t=n.$implicit,s=e.XpG();e.R7$(2),e.LHq(" ",t.address,", ","Brgy. "+t.barangay.name,", ",t.barangay.municipality.name,", ",t.barangay.province.name," "),e.R7$(2),e.Y8G("ngForOf",t.household_member),e.R7$(3),e.Y8G("icon",s.faCheck)}}function $(i,n){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"nav",33)(2,"button",34),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.searchFamily(1))}),e.nrm(3,"fa-icon",35),e.k0s(),e.j41(4,"button",36),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.searchFamily(a.current_page-1))}),e.nrm(5,"fa-icon",35),e.EFF(6,"Previous "),e.k0s(),e.j41(7,"button",36),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.searchFamily(a.current_page+1))}),e.EFF(8," Next"),e.nrm(9,"fa-icon",37),e.k0s(),e.j41(10,"button",38),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.searchFamily(a.last_page))}),e.nrm(11,"fa-icon",37),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}function j(i,n){if(1&i&&(e.j41(0,"div")(1,"div",29)(2,"div",30)(3,"div")(4,"p",31),e.EFF(5," Showing "),e.j41(6,"span",32),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",32),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",32),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.DNE(15,$,12,8,"div",14),e.k0s()()()),2&i){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(2),e.Y8G("ngIf",t.total>=2)}}let w=(()=>{class i{searchFamily(t){this.http.get("households/household-folders",{params:{"filter[search]":this.search_item,page:t||this.current_page,per_page:this.per_page,include:"barangay"}}).subscribe({next:s=>{this.family_list=s.data,this.current_page=s.meta.current_page,this.last_page=s.meta.last_page,this.from=s.meta.from,this.to=s.meta.to,this.total=s.meta.total},error:s=>console.log(s)})}selectFolder(t){this.transaction.emit({type:"select",data:t}),this.closeModal()}closeModal(){this.toggleModal.emit("family-folder-moodal")}createNewFolder(){this.transaction.emit({type:"new"}),this.closeModal()}constructor(t){this.http=t,this.toggleModal=new e.bkB,this.transaction=new e.bkB,this.faSearch=c.MjD,this.faCheck=c.e68,this.faAnglesLeft=c.rNr,this.faChevronLeft=c.Wzs,this.faChevronRight=c.XkK,this.faAnglesRight=c.up_,this.per_page=10}ngOnInit(){this.last_name&&(this.search_item=this.last_name,this.searchFamily())}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(b.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-family-folder-modal"]],inputs:{last_name:"last_name"},outputs:{toggleModal:"toggleModal",transaction:"transaction"},standalone:!1,decls:31,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-6xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],[1,"bg-white","border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left","text-gray-500","table-fixed"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-6"],["scope","col",1,"py-3","px-6","w-48","text-center"],[4,"ngIf"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-between","py-4","px-5","space-x-4","rounded-b","border-t","borde","r-gray-200"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","3",1,"italic","text-center"],[1,"bg-white","border-b"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],["class","block",4,"ngFor","ngForOf"],[1,"py-4","px-6","text-center"],["type","button",1,"bg-green-500","text-white","px-3","py-2","rounded-full",3,"click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"block"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(s,a){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5," Search Family Folder "),e.k0s(),e.j41(6,"div",5)(7,"input",6),e.mxI("ngModelChange",function(f){return e.DH7(a.search_item,f)||(a.search_item=f),f}),e.bIt("keyup.enter",function(){return a.searchFamily()}),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return a.searchFamily()}),e.nrm(9,"fa-icon",8),e.k0s()()(),e.j41(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),e.EFF(15,"Address"),e.k0s(),e.j41(16,"th",12),e.EFF(17,"Members"),e.k0s(),e.j41(18,"th",13),e.EFF(19,"Action"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,k,3,0,"tr",14)(22,G,9,6,"tr",15),e.k0s()()(),e.j41(23,"div",16),e.DNE(24,j,16,4,"div",14),e.j41(25,"div")(26,"button",17),e.bIt("click",function(){return a.closeModal()}),e.EFF(27,"Close"),e.k0s(),e.j41(28,"button",18),e.bIt("click",function(){return a.createNewFolder()}),e.EFF(29,"New"),e.k0s()()()()()(),e.nrm(30,"div",19)),2&s&&(e.R7$(7),e.R50("ngModel",a.search_item),e.R7$(2),e.Y8G("icon",a.faSearch),e.R7$(12),e.Y8G("ngIf",0===(null==a.family_list?null:a.family_list.length)),e.R7$(),e.Y8G("ngForOf",a.family_list),e.R7$(2),e.Y8G("ngIf",a.total>=1))},dependencies:[m.Sq,m.bT,o.me,o.BC,o.vS,u.aY],encapsulation:2})}}return i})();const r=i=>({"text-red-500":i}),l=i=>({"invalid-input":i});function E(i,n){if(1&i&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10),e.nrm(3,"fa-icon",11),e.k0s(),e.j41(4,"div",12),e.EFF(5," Loading libraries... "),e.k0s()()()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faCircleNotch)}}function Y(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function I(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function N(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Y,2,1,"div",7)(2,I,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.last_name.errors?null:t.f.last_name.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.last_name.errors?null:t.f.last_name.errors.minlength)}}function T(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function q(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function P(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,T,2,1,"div",7)(2,q,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.first_name.errors?null:t.f.first_name.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.first_name.errors?null:t.f.first_name.errors.minlength)}}function M(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function D(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function X(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,M,2,1,"div",7)(2,D,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.middle_name.errors?null:t.f.middle_name.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.middle_name.errors?null:t.f.middle_name.errors.minlength)}}function S(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.suffix_desc)}}function J(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function V(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,J,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.gender.errors?null:t.f.gender.errors.required)}}function B(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.status_desc)}}function O(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function A(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,O,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.civil_status_code.errors?null:t.f.civil_status_code.errors.required)}}function U(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.code)}}function L(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function z(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,L,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.blood_type_code.errors?null:t.f.blood_type_code.errors.required)}}function H(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function W(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,H,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.birthdate.errors?null:t.f.birthdate.errors.required)}}function K(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function Z(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,K,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.mobile_number.errors?null:t.f.mobile_number.errors.required)}}function Q(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function ee(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function te(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Q,2,1,"div",7)(2,ee,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.mothers_name.errors?null:t.f.mothers_name.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.mothers_name.errors?null:t.f.mothers_name.errors.minlength)}}function ie(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.education_desc)}}function ne(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function oe(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,ne,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.education_code.errors?null:t.f.education_code.errors.required)}}function se(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.religion_desc)}}function ae(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function re(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,ae,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.religion_code.errors?null:t.f.religion_code.errors.required)}}function le(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.occupation_desc)}}function _e(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function de(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,_e,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.occupation_code.errors?null:t.f.occupation_code.errors.required)}}function ce(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function me(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,ce,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.indegenous_flag.errors?null:t.f.indegenous_flag.errors.required)}}function fe(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.type_desc)}}function pe(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function ge(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,pe,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.pwd_type_code.errors?null:t.f.pwd_type_code.errors.required)}}function ue(i,n){if(1&i){const t=e.RV6();e.j41(0,"button",79),e.bIt("click",function(){e.eBV(t);const a=e.XpG(3);return e.Njj(a.isDisabled(!!a.f.family.enabled,"edit_folder"))}),e.nrm(1,"fa-icon",66),e.EFF(2),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("icon",t.faPenToSquare),e.R7$(),e.SpI(" ",t.f.family.enabled?"Cancel":"Edit"," ")}}function ve(i,n){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.R7$(),e.LHq(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," ")}}function he(i,n){if(1&i&&(e.j41(0,"div",80)(1,"div",81)(2,"span",82),e.EFF(3,"Selected Folder "),e.k0s(),e.nrm(4,"br"),e.EFF(5),e.k0s(),e.j41(6,"div",83)(7,"span",82),e.EFF(8,"Family Members"),e.k0s(),e.DNE(9,ve,2,4,"span",84),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(5),e.SpI(" ",t.selected_folder," "),e.R7$(4),e.Y8G("ngForOf",t.selected_members)}}function be(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function ye(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Re(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,ye,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.region.errors?null:t.f.family.controls.region.errors.required)}}function Fe(i,n){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"label",85),e.EFF(2,"Region"),e.k0s(),e.j41(3,"select",86),e.bIt("change",function(){e.eBV(t);const a=e.XpG(3);return e.Njj(a.loadDemog("regions",a.patientForm.value.family.region,"provinces"))}),e.DNE(4,be,2,2,"option",35),e.k0s(),e.DNE(5,Re,2,1,"div",28),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(4,r,t.is_saving&&t.f.family.controls.region.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,l,t.is_saving&&t.f.family.controls.region.errors)),e.R7$(),e.Y8G("ngForOf",t.regions),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.region.errors)}}function xe(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function ke(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ce(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,ke,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.province.errors?null:t.f.family.controls.province.errors.required)}}function Ge(i,n){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"label",87),e.EFF(2,"Province"),e.k0s(),e.j41(3,"select",88),e.bIt("change",function(){e.eBV(t);const a=e.XpG(3);return e.Njj(a.loadDemog("provinces",a.patientForm.value.family.province,"municipalities"))}),e.DNE(4,xe,2,2,"option",35),e.k0s(),e.DNE(5,Ce,2,1,"div",28),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(4,r,t.is_saving&&t.f.family.controls.province.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,l,t.is_saving&&t.f.family.controls.province.errors)),e.R7$(),e.Y8G("ngForOf",t.provinces),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.province.errors)}}function $e(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function je(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function we(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,je,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.municipality.errors?null:t.f.family.controls.municipality.errors.required)}}function Ee(i,n){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"label",89),e.EFF(2,"Municipality/City"),e.k0s(),e.j41(3,"select",90),e.bIt("change",function(){e.eBV(t);const a=e.XpG(3);return e.Njj(a.loadDemog("municipalities",a.patientForm.value.family.municipality,"barangays"))}),e.DNE(4,$e,2,2,"option",35),e.k0s(),e.DNE(5,we,2,1,"div",28),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(4,r,t.is_saving&&t.f.family.controls.municipality.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,l,t.is_saving&&t.f.family.controls.municipality.errors)),e.R7$(),e.Y8G("ngForOf",t.municipalities),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.municipality.errors)}}function Ye(i,n){if(1&i&&(e.j41(0,"option",78),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.name)}}function Ie(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ne(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Ie,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.brgy.errors?null:t.f.family.controls.brgy.errors.required)}}function Te(i,n){if(1&i&&(e.j41(0,"div",25)(1,"label",91),e.EFF(2,"Brgy"),e.k0s(),e.j41(3,"select",92),e.DNE(4,Ye,2,2,"option",35),e.k0s(),e.DNE(5,Ne,2,1,"div",28),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(4,r,t.is_saving&&t.f.family.controls.brgy.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,l,t.is_saving&&t.f.family.controls.brgy.errors)),e.R7$(),e.Y8G("ngForOf",t.barangays),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.brgy.errors)}}function qe(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Pe(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function Me(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,qe,2,1,"div",7)(2,Pe,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.address.errors?null:t.f.family.controls.address.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.address.errors?null:t.f.family.controls.address.errors.minlength)}}function De(i,n){if(1&i&&(e.j41(0,"div",25)(1,"label",93),e.EFF(2,"Address"),e.k0s(),e.nrm(3,"input",94),e.DNE(4,Me,3,2,"div",28),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(3,r,t.is_saving&&t.f.family.controls.address.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,l,t.is_saving&&t.f.family.controls.address.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.address.errors)}}function Xe(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.SpI(" ",t.required_message," ")}}function Se(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Xe,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.is_head.errors?null:t.f.family.controls.is_head.errors.required)}}function Je(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ve(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Je,2,1,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.cct_id.errors?null:t.f.family.controls.cct_id.errors.required)}}function Be(i,n){if(1&i){const t=e.RV6();e.j41(0,"div",71)(1,"label",95),e.EFF(2,"CCT ID "),e.j41(3,"span",96),e.EFF(4,"(optional)"),e.k0s()(),e.j41(5,"input",97),e.bIt("keyup",function(){e.eBV(t);const a=e.XpG(3);return e.Njj(a.enableCctDate())}),e.k0s(),e.DNE(6,Ve,2,1,"div",28),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(3,r,t.is_saving&&t.f.family.controls.cct_id.errors)),e.R7$(4),e.Y8G("ngClass",e.eq3(5,l,t.is_saving&&t.f.family.controls.cct_id.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.cct_id.errors)}}function Oe(i,n){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(5);e.R7$(),e.SpI(" ",t.required_message," ")}}function Ae(i,n){1&i&&(e.j41(0,"div"),e.EFF(1," Minimum of 2 character. "),e.k0s())}function Ue(i,n){if(1&i&&(e.j41(0,"div",77),e.DNE(1,Oe,2,1,"div",7)(2,Ae,2,0,"div",7),e.k0s()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.cct_date.errors?null:t.f.family.controls.cct_date.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.family.controls.cct_date.errors?null:t.f.family.controls.cct_date.errors.minlength)}}function Le(i,n){if(1&i&&(e.j41(0,"div",25)(1,"label",98),e.EFF(2,"CCT Registration date"),e.k0s(),e.nrm(3,"input",99),e.DNE(4,Ue,3,2,"div",28),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(3,r,t.is_saving&&t.f.family.controls.cct_date.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(5,l,t.is_saving&&t.f.family.controls.cct_date.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.cct_date.errors)}}function ze(i,n){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",16)(2,"div",22)(3,"span",23),e.EFF(4,"Basic Information"),e.k0s()()(),e.j41(5,"div",24)(6,"div",25)(7,"label",26),e.EFF(8,"Last name"),e.k0s(),e.nrm(9,"input",27),e.DNE(10,N,3,2,"div",28),e.k0s(),e.j41(11,"div",25)(12,"label",29),e.EFF(13,"First name"),e.k0s(),e.nrm(14,"input",30),e.DNE(15,P,3,2,"div",28),e.k0s(),e.j41(16,"div",25)(17,"label",31),e.EFF(18,"Middle name (optional)"),e.k0s(),e.nrm(19,"input",32),e.DNE(20,X,3,2,"div",28),e.k0s(),e.j41(21,"div",25)(22,"label",33),e.EFF(23,"Suffix Name"),e.k0s(),e.j41(24,"select",34),e.DNE(25,S,2,2,"option",35),e.k0s()(),e.j41(26,"div",25)(27,"label",36),e.EFF(28,"Sex"),e.k0s(),e.j41(29,"select",37)(30,"option",38),e.EFF(31,"Male"),e.k0s(),e.j41(32,"option",39),e.EFF(33,"Female"),e.k0s(),e.j41(34,"option",40),e.EFF(35,"Intersex"),e.k0s()(),e.DNE(36,V,2,1,"div",28),e.k0s(),e.j41(37,"div",25)(38,"label",41),e.EFF(39,"Civil Status"),e.k0s(),e.j41(40,"select",42),e.DNE(41,B,2,2,"option",35),e.k0s(),e.DNE(42,A,2,1,"div",28),e.k0s(),e.j41(43,"div",25)(44,"label",43),e.EFF(45,"Blood Type"),e.k0s(),e.j41(46,"select",44),e.DNE(47,U,2,2,"option",35),e.k0s(),e.DNE(48,z,2,1,"div",28),e.k0s(),e.j41(49,"div",25)(50,"label",45),e.EFF(51,"Birthdate"),e.k0s(),e.nrm(52,"input",46),e.nI1(53,"date"),e.DNE(54,W,2,1,"div",28),e.k0s(),e.j41(55,"div",25)(56,"label",47),e.EFF(57,"Mobile Number"),e.k0s(),e.nrm(58,"input",48),e.DNE(59,Z,2,1,"div",28),e.k0s(),e.j41(60,"div",25)(61,"label",49),e.EFF(62,"Mothers Maiden Name"),e.k0s(),e.nrm(63,"input",50),e.DNE(64,te,3,2,"div",28),e.k0s(),e.j41(65,"div",25)(66,"label",51),e.EFF(67,"Education"),e.k0s(),e.j41(68,"select",52),e.DNE(69,ie,2,2,"option",35),e.k0s(),e.DNE(70,oe,2,1,"div",28),e.k0s(),e.j41(71,"div",25)(72,"label",53),e.EFF(73,"Religion"),e.k0s(),e.j41(74,"select",54),e.DNE(75,se,2,2,"option",35),e.k0s(),e.DNE(76,re,2,1,"div",28),e.k0s(),e.j41(77,"div",25)(78,"label",55),e.EFF(79,"Occupation"),e.k0s(),e.j41(80,"select",56),e.DNE(81,le,2,2,"option",35),e.k0s(),e.DNE(82,de,2,1,"div",28),e.k0s(),e.j41(83,"div",25)(84,"label",57),e.EFF(85,"Indigenous People"),e.k0s(),e.j41(86,"select",58)(87,"option",59),e.EFF(88,"N"),e.k0s(),e.j41(89,"option",59),e.EFF(90,"Y"),e.k0s()(),e.DNE(91,me,2,1,"div",28),e.k0s(),e.j41(92,"div",25)(93,"label",60),e.EFF(94,"Person with Disabililties"),e.k0s(),e.j41(95,"select",61),e.DNE(96,fe,2,2,"option",35),e.k0s(),e.DNE(97,ge,2,1,"div",28),e.k0s()(),e.j41(98,"div",62),e.nrm(99,"div",63),e.j41(100,"div",22)(101,"span",64),e.EFF(102,"Address Information"),e.k0s(),e.j41(103,"button",65),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.toggleModal("family-folder-modal"))}),e.nrm(104,"fa-icon",66),e.EFF(105," Search "),e.k0s(),e.DNE(106,ue,3,2,"button",67),e.k0s()(),e.j41(107,"div",68),e.DNE(108,he,10,2,"div",69)(109,Fe,6,8,"div",70)(110,Ge,6,8,"div",70)(111,Ee,6,8,"div",70)(112,Te,6,8,"div",70)(113,De,5,7,"div",70),e.j41(114,"div",71)(115,"label",72),e.EFF(116,"Family Role"),e.k0s(),e.j41(117,"select",73)(118,"option",74),e.EFF(119,"Member"),e.k0s(),e.j41(120,"option",75),e.EFF(121,"Head"),e.k0s()(),e.DNE(122,Se,2,1,"div",28),e.k0s(),e.DNE(123,Be,7,7,"div",76)(124,Le,5,7,"div",70),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngClass",e.eq3(69,r,t.is_saving&&t.f.last_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(71,l,t.is_saving&&t.f.last_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.last_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(73,r,t.is_saving&&t.f.first_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(75,l,t.is_saving&&t.f.first_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.first_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(77,r,t.is_saving&&t.f.middle_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(79,l,t.is_saving&&t.f.middle_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.middle_name.errors),e.R7$(5),e.Y8G("ngForOf",t.suffix_names),e.R7$(2),e.Y8G("ngClass",e.eq3(81,r,t.is_saving&&t.f.gender.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(83,l,t.is_saving&&t.f.gender.errors)),e.R7$(7),e.Y8G("ngIf",t.is_saving&&t.f.gender.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(85,r,t.is_saving&&t.f.civil_status_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(87,l,t.is_saving&&t.f.civil_status_code.errors)),e.R7$(),e.Y8G("ngForOf",t.civil_statuses),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.civil_status_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(89,r,t.is_saving&&t.f.blood_type_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(91,l,t.is_saving&&t.f.blood_type_code.errors)),e.R7$(),e.Y8G("ngForOf",t.blood_types),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.blood_type_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(93,r,t.is_saving&&t.f.birthdate.errors)),e.R7$(2),e.FS9("max",e.i5U(53,66,t.date,"yyyy-MM-dd")),e.Y8G("ngClass",e.eq3(95,l,t.is_saving&&t.f.birthdate.errors)),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.f.birthdate.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(97,r,t.is_saving&&t.f.mobile_number.errors)),e.R7$(2),e.Y8G("showMaskTyped",!0)("ngClass",e.eq3(99,l,t.is_saving&&t.f.mobile_number.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.mobile_number.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(101,r,t.is_saving&&t.f.mothers_name.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(103,l,t.is_saving&&t.f.mothers_name.errors)),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.mothers_name.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(105,r,t.is_saving&&t.f.education_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(107,l,t.is_saving&&t.f.education_code.errors)),e.R7$(),e.Y8G("ngForOf",t.educations),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.education_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(109,r,t.is_saving&&t.f.religion_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(111,l,t.is_saving&&t.f.religion_code.errors)),e.R7$(),e.Y8G("ngForOf",t.religions),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.religion_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(113,r,t.is_saving&&t.f.occupation_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(115,l,t.is_saving&&t.f.occupation_code.errors)),e.R7$(),e.Y8G("ngForOf",t.occupations),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.occupation_code.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(117,r,t.is_saving&&t.f.indegenous_flag.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(119,l,t.is_saving&&t.f.indegenous_flag.errors)),e.R7$(),e.Y8G("ngValue",!1),e.R7$(2),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngIf",t.is_saving&&t.f.indegenous_flag.errors),e.R7$(2),e.Y8G("ngClass",e.eq3(121,r,t.is_saving&&t.f.pwd_type_code.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(123,l,t.is_saving&&t.f.pwd_type_code.errors)),e.R7$(),e.Y8G("ngForOf",t.pwd_types),e.R7$(),e.Y8G("ngIf",t.is_saving&&t.f.pwd_type_code.errors),e.R7$(7),e.Y8G("icon",t.faSearch),e.R7$(2),e.Y8G("ngIf",t.show_edit),e.R7$(2),e.Y8G("ngIf",!t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(2),e.Y8G("ngClass",e.eq3(125,r,t.is_saving&&t.f.family.controls.is_head.errors)),e.R7$(2),e.Y8G("ngClass",e.eq3(127,l,t.is_saving&&t.f.family.controls.is_head.errors)),e.R7$(5),e.Y8G("ngIf",t.is_saving&&t.f.family.controls.is_head.errors),e.R7$(),e.Y8G("ngIf",t.show_demog_input),e.R7$(),e.Y8G("ngIf",t.show_cct_date)}}function He(i,n){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=n.$implicit;e.R7$(),e.JRh(t.value)}}function We(i,n){if(1&i&&(e.j41(0,"div",100)(1,"div",101)(2,"ul",102),e.DNE(3,He,2,1,"li",84),e.nI1(4,"keyvalue"),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",e.bMT(4,1,t.submit_errors))}}function Ke(i,n){if(1&i&&e.nrm(0,"fa-icon",107),2&i){const t=e.XpG(3);e.Y8G("icon",t.faSpinner)}}function Ze(i,n){if(1&i&&e.nrm(0,"fa-icon",108),2&i){const t=e.XpG(3);e.Y8G("icon",t.faSave)}}function Qe(i,n){if(1&i&&(e.j41(0,"div",103)(1,"button",104),e.DNE(2,Ke,1,1,"fa-icon",105)(3,Ze,1,1,"fa-icon",106),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("disabled",t.loading||t.patientForm.invalid||t.disable_save),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",!t.loading),e.R7$(),e.SpI(" ",t.loading?"Save"===t.button_function?"Saving":"Updating":t.button_function," ")}}function et(i,n){if(1&i){const t=e.RV6();e.j41(0,"form",13),e.bIt("ngSubmit",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onSubmit())}),e.j41(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),e.nrm(5,"input",18),e.j41(6,"label",19),e.EFF(7," The patient has read, fully understood, and signed the patient consent form. "),e.k0s()()(),e.DNE(8,ze,125,129,"div",7),e.k0s(),e.DNE(9,We,5,3,"div",20)(10,Qe,5,4,"div",21),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("formGroup",t.patientForm),e.R7$(6),e.Y8G("ngClass",e.eq3(5,r,t.is_saving&&t.f.consent_flag.errors)),e.R7$(2),e.Y8G("ngIf",!0===t.patientForm.value.consent_flag),e.R7$(),e.Y8G("ngIf",t.submit_errors),e.R7$(),e.Y8G("ngIf",!0===t.patientForm.value.consent_flag)}}function tt(i,n){if(1&i){const t=e.RV6();e.j41(0,"button",116),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.newPatient())}),e.nrm(1,"fa-icon",108),e.EFF(2,"Back to home page "),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faHome)}}function it(i,n){if(1&i){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.proceedItr())}),e.nrm(1,"fa-icon",108),e.EFF(2,"Open ITR "),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.faClipboard)}}function nt(i,n){if(1&i){const t=e.RV6();e.j41(0,"button",116),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.toggleModal("save-modal"))}),e.EFF(1," Ok "),e.k0s()}}function ot(i,n){if(1&i&&(e.j41(0,"div",109)(1,"div",110)(2,"div",111)(3,"div",112)(4,"span"),e.EFF(5,"Record was saved/updated succesfully."),e.k0s()(),e.j41(6,"div",113),e.DNE(7,tt,3,1,"button",114)(8,it,3,1,"button",115)(9,nt,2,0,"button",114),e.k0s()()()()),2&i){const t=e.XpG();e.Y8G("@myInsertRemoveTrigger",void 0),e.R7$(7),e.Y8G("ngIf",!t.patient_to_update),e.R7$(),e.Y8G("ngIf",!t.patient_to_update),e.R7$(),e.Y8G("ngIf",t.patient_to_update)}}function st(i,n){1&i&&e.nrm(0,"div",118)}function at(i,n){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"app-family-folder-modal",119),e.bIt("toggleModal",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.toggleModal("family-folder-modal"))})("transaction",function(a){e.eBV(t);const _=e.XpG();return e.Njj(_.transaction(a))}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("last_name",t.patientForm.value.last_name)}}const rt=[{path:"",component:(()=>{class i{constructor(t,s,a){this.http=t,this.formBuilder=s,this.router=a,this.faSpinner=c.z1G,this.faClipboard=R.KTq,this.faFolderPlus=c.E5r,this.faSave=c.hSh,this.faSearch=c.MjD,this.faPenToSquare=c.LFz,this.faHome=c.v02,this.faCircleNotch=c.s4k,this.required_message="Required field",this.button_function="Save",this.patientForm=new o.gE({last_name:new o.MJ(""),first_name:new o.MJ(""),middle_name:new o.MJ(""),suffix_name:new o.MJ(""),birthdate:new o.MJ(""),mothers_name:new o.MJ(""),gender:new o.MJ(""),mobile_number:new o.MJ(""),pwd_type_code:new o.MJ(""),indegenous_flag:new o.MJ(!1),blood_type_code:new o.MJ(""),religion_code:new o.MJ(""),occupation_code:new o.MJ(""),education_code:new o.MJ(""),civil_status_code:new o.MJ(""),consent_flag:new o.MJ(!1),user_id:new o.MJ(""),facility_code:new o.MJ(""),family:new o.gE({region:new o.MJ(""),province:new o.MJ(""),municipality:new o.MJ(""),brgy:new o.MJ(""),address:new o.MJ(""),cct_id:new o.MJ(""),cct_date:new o.MJ(""),is_head:new o.MJ(""),residence_classification_code:new o.MJ("")}),difficulty_seeing:new o.MJ(""),difficulty_hearing:new o.MJ(""),difficulty_walking:new o.MJ(""),difficulty_remembering:new o.MJ(""),difficulty_self_care:new o.MJ(""),difficulty_speaking:new o.MJ("")}),this.showModal=!1,this.is_saving=!1,this.loading=!1,this.familyFolderModal=!1,this.show_form=!1,this.show_demog_input=!0,this.show_edit=!1,this.disable_save=!0,this.show_cct_date=!1,this.washington_required=!1}get f(){return this.patientForm.controls}controlName(t){switch(t){case 1:return"difficulty_seeing";case 2:return"difficulty_hearing";case 3:return"difficulty_walking";case 4:return"difficulty_remembering";case 5:return"difficulty_self_care";case 6:return"difficulty_speaking"}}onSubmit(){if(this.patientForm.controls.family.disable(),this.is_saving=!0,this.loading=!0,this.patientForm.invalid)this.loading=!1;else{let t;t="Update"===this.button_function?this.http.update("patient/",this.patient_to_update,this.patientForm.value):this.http.post("patient",this.patientForm.value),t.subscribe({next:s=>{this.new_patient_id="Update"===this.button_function?this.patient_to_update:s.data.id,this.saveFolder(this.new_patient_id)},error:s=>{console.log(s),this.loading=!1,this.submit_errors=s.error.errors},complete:()=>{}})}}saveFolder(t){let f,s=this.http.getUserID(),a=this.http.getUserFacility(),_={facility_code:this.show_demog_input?a:this.selected_facility,user_id:s,patient_id:t,address:this.show_demog_input?this.patientForm.controls.family.controls.address.value:this.selected_address,barangay_code:this.show_demog_input?this.patientForm.controls.family.controls.brgy.value:this.selected_barangay_code,cct_date:this.show_demog_input?this.patientForm.controls.family.controls.cct_date.value:this.selected_cct_date,cct_id:this.show_demog_input?this.patientForm.controls.family.controls.cct_id.value:this.selected_cct_id,family_role_code:this.patientForm.controls.family.controls.is_head.value,residence_classification_code:this.patientForm.controls.family.controls.residence_classification_code.value};this.show_demog_input&&!this.selected_family_folder?(_.status="new",f=this.http.post("households/household-folders",_)):f=this.http.update("households/household-folders/",this.selected_family_folder,_),f.subscribe({next:p=>{this.is_saving=!1,this.loading=!1,this.showModal=!0},error:p=>{this.loading=!1,this.submit_errors=p.error.errors}})}transaction(t){t.data&&(this.selected_folder=t.data.address+" Brgy. "+t.data.barangay.name+", "+t.data.barangay.municipality.name+", "+t.data.barangay.province.name),this.selected_family_folder=t.data?t.data.id:null,this.selected_barangay_code=t.data?t.data.barangay.code:null,this.selected_address=t.data?t.data.address:null,this.selected_cct_date=t.data?t.data.cct_date:null,this.selected_cct_id=t.data?t.data.cct_id:null,this.selected_facility=t.data?t.data.facility_code:null,this.selected_members=t.data?t.data.household_member:null,this.disable_save=!1,"new"===t.type?(this.isDisabled(!1),this.show_edit=!1,this.show_demog_input=!0):(this.show_edit=!1,this.patientForm.controls.family.controls.is_head.enable(),this.show_demog_input=!1),this.enableCctDate()}isDisabled(t,s){t?(this.patientForm.controls.family.disable(),"edit_folder"===s&&(this.selected_family_folder=null,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member))):(this.patientForm.controls.family.enable(),this.enableCctDate())}newPatient(){this.router.navigate(["/"])}proceedItr(){this.router.navigate(["/patient/itr",{id:this.new_patient_id}])}toggleModal(t){switch(t){case"family-folder-modal":this.familyFolderModal=!this.familyFolderModal;break;case"save-modal":this.showModal=!this.showModal}}loadDemog(t,s,a){"regions"==t?(this.municipalities=null,this.barangays=null):"provinces"==t&&(this.barangays=null),this.http.get("libraries/"+t+"/"+s,{params:{include:a,per_page:"all"}}).subscribe({next:_=>{this[a]=_.data[a]},error:_=>console.log(_)})}loadLibraries(){const t=this.http.get("libraries/blood-types"),s=this.http.get("libraries/suffix-names"),a=this.http.get("libraries/occupations"),_=this.http.get("libraries/civil-statuses"),f=this.http.get("libraries/education"),p=this.http.get("libraries/religions"),ct=this.http.get("libraries/regions",{params:{per_page:"all"}}),mt=this.http.get("libraries/pwd-types"),ft=this.http.get("libraries/washington-disability-question"),pt=this.http.get("libraries/washington-disability-answer"),gt=this.http.get("libraries/residence-classifications");(0,x.p)([t,s,a,_,f,p,ct,mt,ft,pt,gt]).subscribe({next:([v,ut,vt,ht,bt,yt,Rt,Ft,xt,kt,Ct])=>{this.blood_types=v.data,this.suffix_names=ut.data,this.occupations=vt.data,this.civil_statuses=ht.data,this.educations=bt.data,this.religions=yt.data,this.regions=Rt.data,this.pwd_types=Ft.data,this.washington_questions=xt.data,this.washington_answers=kt.data,this.residence_classifications=Ct.data,this.show_form=!0,"/edit-patient"===this.router.url.split(";")[0]?(this.show_edit=!0,this.loadPatient(this.router.url.split("=")[1])):(this.enableCctDate(),this.isDisabled(!0))},error:v=>console.log(v)})}loadPatient(t){this.http.get("patient/"+t).subscribe({next:s=>{this.patientForm.patchValue({...s.data}),this.patientForm.patchValue({birthdate:(0,m.Yq)(s.data.birthdate,"yyyy-MM-dd","en","Asia/Manila")}),s.data.patientWashington&&this.patientForm.patchValue({difficulty_hearing:s.data.patientWashington.difficulty_hearing,difficulty_remembering:s.data.patientWashington.difficulty_remembering,difficulty_seeing:s.data.patientWashington.difficulty_seeing,difficulty_self_care:s.data.patientWashington.difficulty_self_care,difficulty_speaking:s.data.patientWashington.difficulty_speaking,difficulty_walking:s.data.patientWashington.difficulty_walking}),this.patient_to_update=s.data.id,this.button_function="Update",this.orig_data=s.data,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member),this.enableCctDate(),this.disable_save=!1},error:s=>console.log(s)})}patchAddress(t,s){t&&(this.patientForm.patchValue({family:{address:t.address}}),this.loadDemog("regions",t.barangay.region.code,"provinces"),this.patientForm.patchValue({family:{region:t.barangay.region.code}}),this.loadDemog("provinces",t.barangay.province.code,"municipalities"),this.patientForm.patchValue({family:{province:t.barangay.province.code}}),this.loadDemog("municipalities",t.barangay.municipality.code,"barangays"),this.patientForm.patchValue({family:{municipality:t.barangay.municipality.code}}),this.patientForm.patchValue({family:{brgy:t.barangay.code}}),this.patientForm.patchValue({family:{cct_id:t.cct_id}}),t.cct_id&&this.patientForm.patchValue({family:{cct_date:t.cct_date}}),this.patientForm.patchValue({family:{brgy:t.barangay.code}}),this.patientForm.patchValue({family:{is_head:s.family_role_code,residence_classification_code:t.residence_classification_code}}),this.selected_family_folder=t.id),this.isDisabled(!0)}enableCctDate(){this.f.family.controls.cct_id.value?(this.show_cct_date=!0,this.f.family.controls.cct_id.enabled?this.f.family.controls.cct_date.enable():this.f.family.controls.cct_date.disable()):(this.show_cct_date=!1,this.f.family.controls.cct_date.disable())}ngOnInit(){let t=this.http.getUserID(),s=this.http.getUserFacility();this.patientForm=this.formBuilder.nonNullable.group({facility_code:[s],user_id:[t],last_name:["",[o.k0.required,o.k0.minLength(2)]],first_name:["",[o.k0.required,o.k0.minLength(2)]],middle_name:[""],suffix_name:["NA"],birthdate:["",o.k0.required],mothers_name:["",[o.k0.required,o.k0.minLength(2)]],gender:["",o.k0.required],mobile_number:["",o.k0.required],pwd_type_code:["NA",o.k0.required],indegenous_flag:[!1],blood_type_code:["NA",o.k0.required],religion_code:["UNKNO",o.k0.required],occupation_code:["UNSP001",o.k0.required],education_code:["6",o.k0.required],civil_status_code:["",o.k0.required],consent_flag:[!1],family:this.formBuilder.group({region:["",o.k0.required],province:["",o.k0.required],municipality:["",o.k0.required],brgy:["",o.k0.required],address:["",[o.k0.required,o.k0.minLength(2)]],cct_id:["",[o.k0.minLength(2)]],cct_date:["",o.k0.required],is_head:["",[o.k0.required]],residence_classification_code:[null]}),difficulty_seeing:["",this.washington_required?o.k0.required:""],difficulty_hearing:["",this.washington_required?o.k0.required:""],difficulty_walking:["",this.washington_required?o.k0.required:""],difficulty_remembering:["",this.washington_required?o.k0.required:""],difficulty_self_care:["",this.washington_required?o.k0.required:""],difficulty_speaking:["",this.washington_required?o.k0.required:""]}),this.date=(new Date).toISOString().slice(0,10),this.loadLibraries()}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(b.k),e.rXU(o.ok),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-patient-registration"]],standalone:!1,decls:9,vars:5,consts:[[1,"mt-10","flex","justify-center","w-full"],[1,"w-5/6","bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","bg-blue-500","text-white","text-lg","p-3","font-semibold"],["class","shadow rounded-md p-4 m-5 w-5/6 mx-auto",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[4,"ngIf"],[1,"shadow","rounded-md","p-4","m-5","w-5/6","mx-auto"],[1,"grid","grid-cols-1","my-32"],[1,"flex","justify-center","text-blue-500"],["animation","spin",3,"icon"],[1,"flex","justify-center"],[3,"ngSubmit","formGroup"],[1,"mx-10","mb-10"],[1,"px-4","py-5","bg-white","sm:p-6"],[1,"grid","grid-cols-8","gap-x-4","mb-3"],[1,"col-span-8","flex"],["type","checkbox","id","consent_flag","formControlName","consent_flag",1,"input-checkbox","mt-0.5"],["for","consent_flag",1,"input-label","ml-2",3,"ngClass"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],["class","text-right",4,"ngIf"],[1,"col-span-8","font-semibold","text-blue-500"],[1,"-ml-5"],[1,"grid","grid-cols-8","gap-x-4","gap-y-6"],[1,"col-span-6","sm:col-span-2"],["for","last_name",1,"input-label",3,"ngClass"],["type","text","name","last_name","id","last_name","formControlName","last_name","required","",1,"input","capitalize",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","first_name",1,"input-label",3,"ngClass"],["type","text","name","first_name","id","first_name","formControlName","first_name",1,"input","capitalize",3,"ngClass"],["for","middle_name",1,"input-label",3,"ngClass"],["type","text","name","middle_name","id","middle_name","formControlName","middle_name",1,"input","capitalize",3,"ngClass"],["for","suffix_name",1,"input-label"],["id","suffix_name","name","suffix_name","formControlName","suffix_name",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","gender",1,"input-label",3,"ngClass"],["id","gender","name","gender","formControlName","gender",1,"input",3,"ngClass"],["value","M"],["value","F"],["value","I"],["for","civil_status_code",1,"input-label",3,"ngClass"],["id","civil_status_code","name","civil_status_code","formControlName","civil_status_code",1,"input",3,"ngClass"],["for","blood_type_code",1,"input-label",3,"ngClass"],["id","blood_type_code","name","blood_type_code","formControlName","blood_type_code",1,"input",3,"ngClass"],["for","birthdate",1,"input-label",3,"ngClass"],["type","date","name","birthdate","id","birthdate","placeholder","mm/dd/yyyy","formControlName","birthdate",1,"input",3,"max","ngClass"],["for","mobile_number",1,"input-label",3,"ngClass"],["type","text","mask","(9999) 999-9999","name","mobile_number","id","mobile_number","formControlName","mobile_number",1,"input",3,"showMaskTyped","ngClass"],["for","mothers_name",1,"input-label",3,"ngClass"],["type","text","name","mothers_name","id","mothers_name","formControlName","mothers_name",1,"input",3,"ngClass"],["for","education_code",1,"input-label",3,"ngClass"],["id","education_code","name","education_code","formControlName","education_code",1,"input",3,"ngClass"],["for","religion_code",1,"input-label",3,"ngClass"],["id","religion_code","name","religion_code","formControlName","religion_code",1,"input",3,"ngClass"],["for","occupation_code",1,"input-label",3,"ngClass"],["id","occupation_code","name","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],["for","indegenous_flag",1,"input-label",3,"ngClass"],["id","indegenous_flag","name","indegenous_flag","formControlName","indegenous_flag",1,"input",3,"ngClass"],[3,"ngValue"],["for","pwd_type_code",1,"input-label",3,"ngClass"],["id","pwd_type_code","name","pwd_type_code","formControlName","pwd_type_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-8","gap-x-4","gap-y-4","pt-6"],[1,"col-span-8","border-b-2","border-slate-100"],[1,"-ml-5","mr-5"],["type","button",1,"col-span-8","w-24","rounded-md","text-white","bg-sky-500","hover:bg-sky-600","active:bg-sky-400","focus:bg-sky-600","px-2","py-1","text-sm",3,"click"],[1,"mr-1",3,"icon"],["type","button","class","ml-2 w-24 col-span-8 rounded-md text-white bg-amber-500 hover:bg-amber-600 active:bg-amber-400 focus:bg-amber-600 px-2 py-1 text-sm",3,"click",4,"ngIf"],["formGroupName","family",1,"grid","grid-cols-8","gap-x-4","gap-y-6"],["class","col-span-8 grid grid-cols-8 bg-amber-100 border border-amber-200 rounded-lg px-5 mt-4 text-gray-700",4,"ngIf"],["class","col-span-6 sm:col-span-2",4,"ngIf"],[1,"col-span-8","sm:col-span-2"],["for","is_head",1,"input-label",3,"ngClass"],["id","is_head","name","is_head","formControlName","is_head",1,"input","disabled:bg-gray-300",3,"ngClass"],["value","MEMBER"],["value","HEAD"],["class","col-span-8 sm:col-span-2",4,"ngIf"],[1,"invalid-alert"],[3,"value"],["type","button",1,"ml-2","w-24","col-span-8","rounded-md","text-white","bg-amber-500","hover:bg-amber-600","active:bg-amber-400","focus:bg-amber-600","px-2","py-1","text-sm",3,"click"],[1,"col-span-8","grid","grid-cols-8","bg-amber-100","border","border-amber-200","rounded-lg","px-5","mt-4","text-gray-700"],[1,"col-span-4","mt-2","mb-2"],[1,"font-semibold"],[1,"col-span-4","mt-2","mb-2","grid","grid-cols-1"],[4,"ngFor","ngForOf"],["for","region",1,"input-label",3,"ngClass"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"change","ngClass"],["for","province",1,"input-label",3,"ngClass"],["id","province","name","province","formControlName","province",1,"input","disabled:bg-gray-300",3,"change","ngClass"],["for","muncity",1,"input-label",3,"ngClass"],["id","muncity","name","muncity","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"change","ngClass"],["for","brgy",1,"input-label",3,"ngClass"],["id","brgy","name","brgy","formControlName","brgy",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","address",1,"input-label",3,"ngClass"],["type","text","name","address","id","address","formControlName","address",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","cct_id",1,"input-label",3,"ngClass"],[1,"text-sm"],["type","text","name","cct_id","id","cct_id","formControlName","cct_id",1,"input","disabled:bg-gray-300",3,"keyup","ngClass"],["for","cct_date",1,"input-label",3,"ngClass"],["type","date","name","cct_date","id","cct_date","formControlName","cct_date",1,"input","disabled:bg-gray-300",3,"ngClass"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[1,"text-right"],["type","submit",1,"btn-save","mr-5","w-48","disabled:bg-gray-400",3,"disabled"],["class","mr-3","animation","spin",3,"icon",4,"ngIf"],["class","mr-3",3,"icon",4,"ngIf"],["animation","spin",1,"mr-3",3,"icon"],[1,"mr-3",3,"icon"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],[1,"relative","w-auto","my-6","mx-auto","max-w-6xl"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"relative","p-6","pb-10","pr-40","flex-auto"],[1,"flex","items-center","justify-end","p-3","rounded-b"],["class","bg-blue-500 text-white active:bg-blue-500 hover:bg-blue-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["class","bg-amber-500 text-white active:bg-amber-500 hover:bg-amber-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","active:bg-blue-500","hover:bg-blue-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],["type","button",1,"bg-amber-500","text-white","active:bg-amber-500","hover:bg-amber-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[3,"toggleModal","transaction","last_name"]],template:function(s,a){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3," Patient Registration "),e.k0s(),e.DNE(4,E,6,1,"div",3)(5,et,11,7,"form",4),e.k0s()(),e.DNE(6,ot,10,4,"div",5)(7,st,1,0,"div",6)(8,at,2,1,"div",7)),2&s&&(e.R7$(4),e.Y8G("ngIf",!a.show_form),e.R7$(),e.Y8G("ngIf",a.show_form),e.R7$(),e.Y8G("ngIf",a.showModal),e.R7$(),e.Y8G("ngIf",a.showModal),e.R7$(),e.Y8G("ngIf",a.familyFolderModal))},dependencies:[m.YU,m.Sq,m.bT,o.qT,o.xH,o.y7,o.me,o.Zm,o.wz,o.BC,o.cb,o.YS,u.aY,o.j4,o.JD,o.$R,y.Zr,w,m.vh,m.lG],encapsulation:2,data:{animation:[F.b]}})}}return i})()}];let lt=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(rt),g.iI]})}}return i})();const _t=null;let dt=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({providers:[(0,y.Dw)()],imports:[m.MD,lt,o.YN,u.dX,o.X1]})}}return i})()}}]);