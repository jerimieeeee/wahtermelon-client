"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[442],{1442:(nt,s,d)=>{d.r(s),d.d(s,{XmlUploadModule:()=>it});var c=d(6814),m=d(3602),p=d(590),t=d(5879),f=d(265),v=d(2425),r=d(6223),u=d(5597);function g(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function x(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,g,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function Z(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,x,3,3,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function h(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function b(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,h,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function T(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Z,3,3,"div",20),t.YNc(2,b,3,3,"div",20),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.value.length>0),t.xp6(1),t.Q6J("ngIf",!o.value.length)}}function A(e,l){if(1&e&&(t.TgZ(0,"tr",18),t.YNc(1,T,3,2,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.xml_to_view.ENLISTMENTS))}}function U(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function y(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,U,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function C(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,y,3,3,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function w(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function X(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,w,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function N(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,C,3,3,"div",20),t.YNc(2,X,3,3,"div",20),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.value.length>0),t.xp6(1),t.Q6J("ngIf",!o.value.length)}}function J(e,l){if(1&e&&(t.TgZ(0,"tr",18),t.YNc(1,N,3,2,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.xml_to_view.PROFILING))}}function k(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function q(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,k,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function M(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,q,3,3,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function L(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function j(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,L,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function Q(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,M,3,3,"div",20),t.YNc(2,j,3,3,"div",20),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.value.length>0),t.xp6(1),t.Q6J("ngIf",!o.value.length)}}function I(e,l){if(1&e&&(t.TgZ(0,"tr",18),t.YNc(1,Q,3,2,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.xml_to_view.SOAPS))}}function F(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function Y(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,F,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function O(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Y,3,3,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function $(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function S(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,$,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function E(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,O,3,3,"div",20),t.YNc(2,S,3,3,"div",20),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.value.length>0),t.xp6(1),t.Q6J("ngIf",!o.value.length)}}function G(e,l){if(1&e&&(t.TgZ(0,"tr",18),t.YNc(1,E,3,2,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.xml_to_view.DIAGNOSTICEXAMRESULTS))}}function H(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function R(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,H,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function B(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,R,3,3,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function D(e,l){if(1&e&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"json"),t.qZA()),2&e){const o=l.$implicit;t.xp6(2),t.hij("",o.key,":"),t.xp6(1),t.hij(" ",t.lcZ(4,2,o.value)," ")}}function K(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,D,5,4,"div",21),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.value))}}function P(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,B,3,3,"div",20),t.YNc(2,K,3,3,"div",20),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.value.length>0),t.xp6(1),t.Q6J("ngIf",!o.value.length)}}function z(e,l){if(1&e&&(t.TgZ(0,"tr",18),t.YNc(1,P,3,2,"div",19),t.ALo(2,"keyvalue"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,o.xml_to_view.MEDICINES))}}function W(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"table",10)(1,"tbody")(2,"tr",11),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleAccordion("enlistment"))}),t.TgZ(3,"td",12),t._uU(4,"ENLISTMENTS"),t.qZA()(),t.YNc(5,A,3,3,"tr",13),t.TgZ(6,"tr",11),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleAccordion("profiling"))}),t.TgZ(7,"td",14),t._uU(8,"PROFILING"),t.qZA()(),t.YNc(9,J,3,3,"tr",13),t.TgZ(10,"tr",11),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleAccordion("soaps"))}),t.TgZ(11,"td",15),t._uU(12,"SOAPS"),t.qZA()(),t.YNc(13,I,3,3,"tr",13),t.TgZ(14,"tr",11),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleAccordion("diagnostic"))}),t.TgZ(15,"td",16),t._uU(16,"DIAGNOSTIC EXAM RESULTS"),t.qZA()(),t.YNc(17,G,3,3,"tr",13),t.TgZ(18,"tr",11),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleAccordion("medicines"))}),t.TgZ(19,"td",17),t._uU(20,"MEDICINE"),t.qZA()(),t.YNc(21,z,3,3,"tr",13),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(5),t.Q6J("ngIf",o.accordion.enlistment),t.xp6(4),t.Q6J("ngIf",o.accordion.profiling),t.xp6(4),t.Q6J("ngIf",o.accordion.soaps),t.xp6(4),t.Q6J("ngIf",o.accordion.diagnostic),t.xp6(4),t.Q6J("ngIf",o.accordion.medicines)}}let V=(()=>{var e;class l{toggleAccordion(i){this.accordion[i]=!this.accordion[i]}closeModal(){this.toggleModal.emit({name:"uploaded-xml",data:null})}constructor(){this.toggleModal=new t.vpe,this.is_loading=!1,this.faSpinner=p.LM3,this.show_form=!1,this.enlistments=[],this.accordion=[]}ngOnInit(){this.show_form=!0}}return(e=l).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-uploaded-xml"]],inputs:{xml_to_view:"xml_to_view"},outputs:{toggleModal:"toggleModal"},decls:12,vars:1,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100","flex","justify-center"],["class","w-10/12 border border-slate-300 rounded-lg",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-10/12","border","border-slate-300","rounded-lg"],[1,"cursor-pointer","h-10",3,"click"],[1,"font-bold","text-center","bg-green-300","w-full"],["class","border-b border-slate-200",4,"ngIf"],[1,"font-bold","text-center","bg-blue-300","w-full"],[1,"font-bold","text-center","bg-yellow-300","w-full"],[1,"font-bold","text-center","bg-red-300","w-full"],[1,"font-bold","text-center","bg-orange-300","w-full"],[1,"border-b","border-slate-200"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pb-5 text-sm",4,"ngFor","ngForOf"],[1,"pb-5","text-sm"],[1,"font-semibold"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5," XML CONTENT "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,W,22,5,"table",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return n.closeModal()}),t._uU(10,"Close"),t.qZA()()()()(),t._UZ(11,"div",9)),2&i&&(t.xp6(7),t.Q6J("ngIf",n.show_form))},dependencies:[c.sg,c.O5,c.Ts,c.Nd]}),l})();function tt(e,l){if(1&e&&(t.TgZ(0,"tr")(1,"td",16)(2,"div",17)(3,"div",18),t._UZ(4,"fa-icon",19),t.TgZ(5,"div",20),t._uU(6," Uploading XML... "),t.qZA()()()()()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("icon",o.faCircleNotch)}}function et(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"app-uploaded-xml",21),t.NdJ("toggleModal",function(n){t.CHM(o);const _=t.oxw();return t.KtG(_.toggleModal(n))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("xml_to_view",o.xml_to_view)}}const ot=[{path:"",component:(()=>{var e;class l{toggleModal(i){this.modals[i.name]=!this.modals[i.name],i.data&&(Object.entries(i.data).forEach(([n,_],a)=>{this.uploaded_list.push(_)}),localStorage.setItem("uploaded-xml",JSON.stringify(this.uploaded_list)))}openModal(){this.toggleModal({name:"uploaded-xml"})}readXML(i){this.file_to_upload=i}uploadFile(i){this.is_uploading=!0;const n=new FormData;this.file_upload_count=i.length,this.uploaded_count=0;for(let _=0;_<i.length;_++){let a=i[_].name.split(".");"enc"===a[a.length-1]&&(this.uploaded_count+=1,n.append("xml[]",i[_]))}n.append("cipher_key",this.cipher_key),this.http.post("konsulta/upload-xml",n).subscribe({next:_=>{this.resetInput(),this.showToast("success","Uploaded "+this.uploaded_count+" of "+this.file_upload_count+" files","Upload Success")},error:_=>{this.resetInput()}})}showToast(i,n,_){this.toastr[i](n,_,{closeButton:!0,positionClass:"toast-top-center",disableTimeOut:!0})}resetInput(){this.is_uploading=!1,this.file_to_upload=null,this.xmlFile=null}viewContent(i){this.xml_to_view=i,this.openModal()}constructor(i,n){this.http=i,this.toastr=n,this.faCircleNotch=p.IJ7,this.faSearch=p.wn1,this.faCalendarDays=p.WRo,this.faArrowsRotate=p.T80,this.faUpload=p.cf$,this.faClipboardList=p.OGB,this.per_page=10,this.xml_list=[],this.modals=[],this.uploaded_list=[],this.file_to_upload=null,this.xmlFile=null,this.cipher_key="PHilheaLthDuMmyciPHerKeyS",this.uploaded_count=0,this.is_uploading=!1}}return(e=l).\u0275fac=function(i){return new(i||e)(t.Y36(f.O),t.Y36(v._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-xml-upload"]],decls:24,vars:6,consts:[[1,"bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md","h-full"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between","h-full"],[1,"flex","flex-col","justify-center","w-2/5","rounded-lg","border","border-slate-200","mx-auto","my-28"],[1,"bg-blue-500","text-white","text-lg","rounded-t-lg","p-2"],[1,"w-3/4","flex","justify-center","mx-auto","py-5"],["type","file","id","formFile",1,"form-control","w-full","px-3","py-1.5","text-base","font-normal","text-gray-700","bg-white","bg-clip-padding","border","border-solid","border-gray-300","rounded-lg","transition","ease-in-out","m-0","focus:text-gray-700","focus:bg-white","focus:border-blue-600","focus:outline-none",3,"ngModel","change","ngModelChange"],[1,"w-3/4","flex","justify-center","mx-auto","pb-5"],["type","text","placeholder","enter cipher key",1,"rounded-lg","w-full","px-3","py-2","border","border-solid","border-gray-300","text-sm","placeholder-gray-400",3,"ngModel","ngModelChange"],[1,"w-3/4","flex","justify-center","mx-auto"],["type","button",1,"disabled:bg-gray-400","w-full","py-2","mb-5","bg-blue-500","text-white","rounded-lg","text-sm",3,"disabled","click"],[1,"",3,"icon"],[1,"w-full"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","mb-5","hidden"],[1,"text-center"],[4,"ngIf"],[3,"xml_to_view","toggleModal",4,"ngIf"],["colspan","2"],[1,"grid","grid-cols-1","w-full","mt-10"],[1,"flex","justify-center","mt-3"],["spin","true",1,"text-lg","mr-2","text-blue-500",3,"icon"],[1,"text-center","italic","pt-1"],[3,"xml_to_view","toggleModal"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4," Upload XMLs "),t.qZA(),t.TgZ(5,"div",4)(6,"input",5),t.NdJ("change",function(a){return n.readXML(a.target.files)})("ngModelChange",function(a){return n.xmlFile=a}),t.qZA()(),t.TgZ(7,"div",6)(8,"input",7),t.NdJ("ngModelChange",function(a){return n.cipher_key=a}),t.qZA()(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return n.uploadFile(n.file_to_upload)}),t._UZ(11,"fa-icon",10),t._uU(12," Upload XML "),t.qZA()()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead")(16,"tr")(17,"th",13),t._uU(18,"Name"),t.qZA(),t.TgZ(19,"th",13),t._uU(20,"Birthdate"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,tt,7,1,"tr",14),t.qZA()()()()(),t.YNc(23,et,1,1,"app-uploaded-xml",15)),2&i&&(t.xp6(6),t.Q6J("ngModel",n.xmlFile),t.xp6(2),t.Q6J("ngModel",n.cipher_key),t.xp6(2),t.Q6J("disabled",!n.file_to_upload||!n.cipher_key),t.xp6(1),t.Q6J("icon",n.faUpload),t.xp6(11),t.Q6J("ngIf",n.is_uploading),t.xp6(1),t.Q6J("ngIf",n.modals["uploaded-xml"]))},dependencies:[c.O5,r.Fj,r.JJ,r.On,u.BN,V]}),l})()}];let lt=(()=>{var e;class l{}return(e=l).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(ot),m.Bz]}),l})(),it=(()=>{var e;class l{}return(e=l).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,lt,r.u5,u.uH]}),l})()}}]);