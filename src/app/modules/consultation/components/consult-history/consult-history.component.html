<hr class="my-4">
<div class="grid grid-cols-10">
  <div class="col-span-2 pt-2 font-semibold">
    Diagnosis History
  </div>
  <div class="col-span-8">
    <div class="rounded-md border border-solid border-gray-300">
      <span class="rounded-t-md m-0 p-2 font-semibold text-gray-50 bg-green-500 flex justify-between" [ngClass]="{'rounded-b' : !show_content}">
        Previous History
        <button type="button" (click)="show_content = !show_content">
          <fa-icon [icon]="show_content ? faChevronCircleUp : faChevronCircleDown" class="pr-2" size="lg"></fa-icon>
        </button>
      </span>
      <table *ngIf="show_content" class="w-full table-auto">
        <thead>
          <tr class="border-b border-solid border-gray-200">
            <th>Date</th>
            <th>Complaints | History</th>
            <th>Diagnosis</th>
            <th>Precription</th>
          </tr>
        </thead>
        <tbody>
          <tr class="text-left mt-3 align-top border-t border-slate-200 text-sm" *ngFor="let visit of visit_list | slice:1; let i = index;">
            <td class="p-3 w-2/12">
              <div class=" grid grid-cols-1">
                <span class="font-semibold w-full">{{ visit.consult_date | date: 'MM/dd/yyyy' }}</span>
                <span class="text-sm w-full">{{ visit.consult_date | date: 'hh:mm:ss a' }}</span>
              </div>
            </td>

            <td class="p-3 w-4/12">
              <div class=" grid grid-cols-1">
                <span class="w-full mb-3">
                  <span class="font-semibold">Compalint notes:</span> <br /> {{ visit.consult_notes.complaint }}
                </span>

                <ul class="list-disc last:mb-3 ml-5" *ngFor="let complaint of visit.consult_notes.complaints">
                  <li>{{ complaint.lib_complaints.complaint_desc }}</li>
                </ul>

                <span class="w-full mt-2 pt-2">
                  <span class="font-semibold">History notes:</span> <br />{{ visit.consult_notes.history }}
                </span>
              </div>
            </td>

            <td class="p-3 w-3/12">
              <div class="grid grid-cols-1 text-left">
                <span class="font-semibold">Initial</span>
                <ul class="list-disc ml-5">
                  <li *ngFor="let idx of visit.consult_notes.initialdx">
                    {{ idx.diagnosis.class_name }}
                  </li>
                </ul>

                <div *ngIf="visit.consult_notes.idx_remarks" class="mt-2">
                  <span class="text-sm italic">remarks:</span> {{ visit.consult_notes.idx_remarks }}
                </div>
              </div>

              <div class="grid grid-cols-1 text-left mt-2 pt-2">
                <span class="font-semibold">Final</span>
                <ul class="list-disc ml-5">
                  <li *ngFor="let fdx of visit.consult_notes.finaldx">
                    <span class="font-semibold text-sm">{{ fdx.lib_icd10.icd10_code }}:</span> {{ fdx.lib_icd10.icd10_desc }}
                  </li>
                </ul>

                <div *ngIf="visit.consult_notes.fdx_remarks" class="mt-2">
                  <span class="text-sm italic">remarks:</span> {{ visit.consult_notes.fdx_remarks }}
                </div>
              </div>
            </td>
            <td class="p-3 w-3/12">

            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
