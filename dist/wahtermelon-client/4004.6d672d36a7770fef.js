"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[4004],{4004:(B,R,n)=>{n.r(R),n.d(R,{PatientInfoModule:()=>D});var m=n(177),i=n(3895),r=n(3350),g=n(4438);const x=[{path:"",component:r.d,children:[{path:"itr",loadChildren:()=>Promise.resolve().then(n.bind(n,3730)).then(p=>p.PatientItrModule)},{path:"cn",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(2076),n.e(7315)]).then(n.bind(n,7315)).then(p=>p.ConsultationModule)},{path:"ncd",loadChildren:()=>n.e(8931).then(n.bind(n,8931)).then(p=>p.NcdModule)},{path:"mc",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(1823)]).then(n.bind(n,1823)).then(p=>p.MaternalcareModule)},{path:"cc",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(7586),n.e(5595)]).then(n.bind(n,5595)).then(p=>p.ChildcareModule)},{path:"dispensing",loadChildren:()=>n.e(56).then(n.bind(n,56)).then(p=>p.DrugDispensingModule)},{path:"lab",loadChildren:()=>n.e(6554).then(n.bind(n,6554)).then(p=>p.LabModule)},{path:"tb",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(2076),n.e(6449)]).then(n.bind(n,6449)).then(p=>p.TbdotsModule)},{path:"gbv",loadChildren:()=>Promise.all([n.e(1410),n.e(5585)]).then(n.bind(n,5585)).then(p=>p.GbvModule)},{path:"ab",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(9204)]).then(n.bind(n,9204)).then(p=>p.AnimalbiteModule)},{path:"fp",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(8445)]).then(n.bind(n,8445)).then(p=>p.FamilyplanningModule)},{path:"dn",loadChildren:()=>Promise.all([n.e(1410),n.e(3819),n.e(1282),n.e(7578),n.e(2076),n.e(8110)]).then(n.bind(n,8110)).then(p=>p.DentalModule)},{path:"at",loadChildren:()=>n.e(2281).then(n.bind(n,2281)).then(p=>p.AdolescentModule)}]}];let k=(()=>{class p{static{this.\u0275fac=function(E){return new(E||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({imports:[i.iI.forChild(x),i.iI]})}}return p})();var v=n(60),j=n(9417),t=n(928),y=n(4626),$=n(3730),G=n(5188),C=n(334),M=n(8761),T=n(9028);let D=(()=>{class p{static{this.\u0275fac=function(E){return new(E||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({providers:[(0,G.Dw)()],imports:[m.MD,k,v.dX,j.YN,t.ER,j.X1,y.J,$.PatientItrModule,C.m,M.MQ,T.v]})}}return p})()},3730:(B,R,n)=>{n.r(R),n.d(R,{PatientItrModule:()=>kt});var m=n(177),i=n(3895),r=n(9969);const g=[(0,r.hZ)("myInsertRemoveTrigger",[(0,r.kY)(":enter",[(0,r.iF)({width:0,opacity:0,visibility:"hidden"}),(0,r.i0)("250ms",(0,r.iF)({width:"50%",opacity:"100%",visibility:"visible"}))]),(0,r.kY)(":leave",[(0,r.i0)("250ms",(0,r.iF)({width:0,opacity:0,visibility:"hidden",overflow:"hidden"}))])]),(0,r.hZ)("halfFull",[(0,r.wk)("half",(0,r.iF)({width:"50%"})),(0,r.wk)("full",(0,r.iF)({width:"100%"})),(0,r.kY)("* => *",[(0,r.i0)("250ms")])]),(0,r.hZ)("chartOpenClose",[(0,r.kY)(":enter",[(0,r.iF)({width:0,opacity:0}),(0,r.i0)("200ms",(0,r.iF)({opacity:"100%"}))]),(0,r.kY)(":leave",[(0,r.i0)("100ms",(0,r.iF)({opacity:0}))])])];var x=n(5964),k=n(8141),v=n(5383),j=n(614),t=n(4438),y=n(3318),$=n(5797),G=n(1196),C=n(60);function M(l,d){if(1&l&&(t.j41(0,"li",17),t.EFF(1),t.k0s()),2&l){const e=d.$implicit;t.R7$(),t.SpI(" ",e.lib_complaints.complaint_desc," ")}}function T(l,d){if(1&l&&(t.j41(0,"li",18),t.EFF(1),t.k0s()),2&l){const e=d.$implicit;t.R7$(),t.SpI(" ",e.diagnosis.class_name," ")}}function D(l,d){if(1&l&&(t.j41(0,"div")(1,"span",19),t.EFF(2,"remarks:"),t.k0s(),t.EFF(3),t.k0s()),2&l){const e=t.XpG();t.R7$(3),t.SpI(" ",null==e.selected_visit||null==e.selected_visit.consult_notes?null:e.selected_visit.consult_notes.idx_remarks," ")}}function p(l,d){if(1&l&&(t.j41(0,"li",18)(1,"span",20),t.EFF(2),t.k0s(),t.EFF(3),t.k0s()),2&l){const e=d.$implicit;t.R7$(2),t.SpI("",e.lib_icd10.icd10_code,":"),t.R7$(),t.SpI(" ",e.lib_icd10.icd10_desc," ")}}function S(l,d){if(1&l&&(t.j41(0,"div")(1,"span",19),t.EFF(2,"remarks:"),t.k0s(),t.EFF(3),t.k0s()),2&l){const e=t.XpG();t.R7$(3),t.SpI(" ",null==e.selected_visit||null==e.selected_visit.consult_notes?null:e.selected_visit.consult_notes.fdx_remarks," ")}}function Y(l,d){if(1&l&&(t.j41(0,"li",18),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&l){const e=d.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.pe_desc)," ")}}function E(l,d){if(1&l&&(t.j41(0,"div")(1,"span",19),t.EFF(2,"remarks:"),t.k0s(),t.EFF(3),t.k0s()),2&l){const e=t.XpG().$implicit,a=t.XpG();t.R7$(3),t.SpI("",null==a.selected_visit||null==a.selected_visit.consult_notes?null:a.selected_visit.consult_notes.physical_exam_remarks[e.key+"_remarks"]," ")}}function P(l,d){if(1&l&&(t.j41(0,"div",21)(1,"span",8),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.j41(4,"div",9)(5,"ul",10),t.DNE(6,Y,3,3,"li",11),t.k0s(),t.DNE(7,E,4,1,"div",12),t.k0s()()),2&l){const e=d.$implicit,a=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,e.key)," "),t.R7$(4),t.Y8G("ngForOf",e.value),t.R7$(),t.Y8G("ngIf",(null==a.selected_visit||null==a.selected_visit.consult_notes?null:a.selected_visit.consult_notes.physical_exam_remarks)&&(null==a.selected_visit||null==a.selected_visit.consult_notes?null:a.selected_visit.consult_notes.physical_exam_remarks[e.key+"_remarks"]))}}let X=(()=>{class l{groupPE(e){Object.entries(e).forEach(([a,s],F)=>{let I=s;this.physical_exam[I.lib_physical_exam.category_id.toLowerCase()]||(this.physical_exam[I.lib_physical_exam.category_id.toLowerCase()]=[]),this.physical_exam[I.lib_physical_exam.category_id.toLowerCase()].push(I.lib_physical_exam)})}constructor(){this.physical_exam=[]}calculateElapsedTime(){const e=this.endDate.getTime()-this.startDate.getTime();let a=Math.floor(e/6e4);if(a>60){let s=Math.floor(a/60),F=a-60*s;this.elapasedTime=s+" Hour"+(s>1?"s ":" "),F>0&&(this.elapasedTime+=F+" Minute"+(F>1?"s ":" "))}}ngOnChanges(e){this.selected_visit&&(this.selected_visit.consult_notes&&Object.keys(this.selected_visit.consult_notes.physical_exam).length>0&&this.groupPE(this.selected_visit.consult_notes.physical_exam),this.startDate=new Date(this.selected_visit.created_at),this.endDate=this.selected_visit.consult_done?new Date(this.selected_visit.updated_at):new Date,this.calculateElapsedTime())}static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-consultation"]],inputs:{selected_visit:"selected_visit"},standalone:!1,features:[t.OA$],decls:45,vars:10,consts:[[1,"flex","mx-2","mt-3","text-sm","font-semibold"],[1,"grid","grid-cols-1","mx-2","ml-4","text-sm"],[1,"flex-1","text-left"],[1,"font-semibold"],[1,"list-disc"],["class","ml-5",4,"ngFor","ngForOf"],[1,"flex","mx-2","ml-4","text-sm"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm","mb-5","pb-5","border-b","border-slate-200"],[1,"col-span-1","text-left"],[1,"col-span-1","grid","grid-cols-1"],[1,"list-disc","grid","grid-cols-1","mb-2"],["class","break-all ",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm"],[1,"flex-1","text-right"],[1,"border-b","border-slate-200"],["class","grid grid-cols-2 mx-2 ml-4 text-sm mb-5",4,"ngFor","ngForOf"],[1,"ml-5"],[1,"break-all"],[1,"text-sm","italic"],[1,"italic"],[1,"grid","grid-cols-2","mx-2","ml-4","text-sm","mb-5"]],template:function(a,s){1&a&&(t.j41(0,"div",0),t.EFF(1," CHIEF COMPLAINT\n"),t.k0s(),t.j41(2,"div",1)(3,"span",2)(4,"span",3),t.EFF(5,"Notes:"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"ul",4),t.DNE(8,M,2,1,"li",5),t.k0s()(),t.j41(9,"div",0),t.EFF(10," HISTORY OF CURRENT ILLNESS\n"),t.k0s(),t.j41(11,"div",6)(12,"span",2),t.EFF(13),t.k0s()(),t.j41(14,"div")(15,"div",0),t.EFF(16," DIAGNOSIS "),t.k0s(),t.j41(17,"div",7)(18,"span",8),t.EFF(19," Initial "),t.k0s(),t.j41(20,"div",9)(21,"ul",10),t.DNE(22,T,2,1,"li",11),t.k0s(),t.DNE(23,D,4,1,"div",12),t.k0s()(),t.j41(24,"div",13)(25,"span",8),t.EFF(26," Final "),t.k0s(),t.j41(27,"div",9)(28,"ul",10),t.DNE(29,p,4,2,"li",11),t.k0s(),t.DNE(30,S,4,1,"div",12),t.k0s()()(),t.j41(31,"div")(32,"div",0),t.EFF(33," PRESCRIPTION "),t.k0s(),t.j41(34,"div",6)(35,"span",2),t.EFF(36," - "),t.k0s(),t.j41(37,"span",14),t.EFF(38," -"),t.nrm(39,"br"),t.k0s()()(),t.j41(40,"div",15)(41,"div",0),t.EFF(42," PHYSICAL EXAM "),t.k0s(),t.DNE(43,P,8,5,"div",16),t.nI1(44,"keyvalue"),t.k0s()),2&a&&(t.R7$(6),t.SpI(" ",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.complaint," "),t.R7$(2),t.Y8G("ngForOf",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.complaints),t.R7$(5),t.SpI(" ",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.history," "),t.R7$(9),t.Y8G("ngForOf",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.initialdx),t.R7$(),t.Y8G("ngIf",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.idx_remarks),t.R7$(6),t.Y8G("ngForOf",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.finaldx),t.R7$(),t.Y8G("ngIf",null==s.selected_visit||null==s.selected_visit.consult_notes?null:s.selected_visit.consult_notes.fdx_remarks),t.R7$(13),t.Y8G("ngForOf",t.bMT(44,8,s.physical_exam)))},dependencies:[m.Sq,m.bT,m.PV,m.lG],encapsulation:2})}}return l})(),O=(()=>{class l{loadData(){this.http.get("child-care/cc-records/"+this.selected_visit.patient.id).subscribe({next:e=>{console.log(e)},error:e=>console.log(e)})}constructor(e){this.http=e}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||l)(t.rXU(y.k))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-ncd"]],inputs:{selected_visit:"selected_visit"},standalone:!1,decls:2,vars:0,template:function(a,s){1&a&&(t.j41(0,"p"),t.EFF(1,"Risk Strat will be shown here!"),t.k0s())},encapsulation:2})}}return l})();function c(l,d){if(1&l&&(t.j41(0,"div",13),t.EFF(1),t.k0s()),2&l){let e;const a=t.XpG(3);t.R7$(),t.SpI(" Filter Number: ",null!==(e=null==a.ccdev_record?null:a.ccdev_record.nbs_filter)&&void 0!==e?e:"-"," ")}}function _(l,d){if(1&l&&(t.j41(0,"div",11)(1,"div",4),t.EFF(2),t.k0s(),t.j41(3,"div",5),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.DNE(6,c,2,1,"div",12),t.k0s()),2&l){const e=d.$implicit;t.R7$(2),t.SpI(" ",e.services.service_name," "),t.R7$(2),t.SpI(" ",e.service_date?t.brH(5,3,e.service_date,"MM/dd/yyyy","Asia/Manila"):"-"," "),t.R7$(2),t.Y8G("ngIf","NBSDONE"===e.service_id)}}function o(l,d){if(1&l&&(t.j41(0,"div",14),t.nrm(1,"fa-icon",15),t.k0s()),2&l){const e=t.XpG(2);t.R7$(),t.Y8G("icon",e.faCircleNotch)}}function u(l,d){if(1&l&&(t.j41(0,"div",1)(1,"div",2),t.EFF(2," Childcare Record "),t.k0s(),t.j41(3,"div",3)(4,"div",4),t.EFF(5," Admission Date "),t.k0s(),t.j41(6,"div",5),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",4),t.EFF(10," Discharge Date "),t.k0s(),t.j41(11,"div",5),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"div",6)(15,"div",7),t.EFF(16," Services "),t.k0s(),t.DNE(17,_,7,7,"div",8),t.k0s(),t.j41(18,"div",6)(19,"div",7),t.EFF(20," Breastfeeding "),t.k0s(),t.j41(21,"div",4),t.EFF(22," Month 1 \xbd "),t.k0s(),t.j41(23,"div",5),t.EFF(24),t.k0s(),t.j41(25,"div",4),t.EFF(26," Month 2 \xbd "),t.k0s(),t.j41(27,"div",5),t.EFF(28),t.k0s(),t.j41(29,"div",4),t.EFF(30," Month 3 \xbd "),t.k0s(),t.j41(31,"div",5),t.EFF(32),t.k0s(),t.j41(33,"div",4),t.EFF(34," 5 months 29 Days "),t.k0s(),t.j41(35,"div",5),t.EFF(36),t.k0s(),t.j41(37,"div",9),t.EFF(38," Date Assessed "),t.k0s(),t.j41(39,"div",5),t.EFF(40),t.nI1(41,"date"),t.k0s()(),t.nrm(42,"div"),t.k0s(),t.DNE(43,o,2,1,"div",10),t.k0s()),2&l){const e=t.XpG();t.R7$(7),t.SpI(" ",t.i5U(8,9,null==e.ccdev_record?null:e.ccdev_record.admission_date,"MM/dd/yyyy hh:mm:SS a")," "),t.R7$(5),t.SpI(" ",t.i5U(13,12,null==e.ccdev_record?null:e.ccdev_record.discharge_date,"MM/dd/yyyy hh:mm:SS a")," "),t.R7$(5),t.Y8G("ngForOf",e.ccdev_services),t.R7$(7),t.SpI(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month1)?"Yes":"No"," "),t.R7$(4),t.SpI(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month2)?"Yes":"No"," "),t.R7$(4),t.SpI(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month3)?"Yes":"No"," "),t.R7$(4),t.SpI(" ",1===(null==e.ccdev_breastfed?null:e.ccdev_breastfed.bfed_month4)?"Yes":"No"," "),t.R7$(4),t.SpI(" ",null!=e.ccdev_breastfed&&e.ccdev_breastfed.ebf_date?t.brH(41,15,null==e.ccdev_breastfed?null:e.ccdev_breastfed.ebf_date,"MM/dd/yyyy","Asia/Manila"):"-"," "),t.R7$(3),t.Y8G("ngIf",!e.show_form)}}let f=(()=>{class l{loadData(){this.fetchCc()}fetchCc(){this.http.get("child-care/cc-records",{params:{patient_id:this.selected_visit.patient.id}}).subscribe({next:a=>{a.data.length>0&&(this.ccdev_record=a.data[0],console.log(a.data),this.fetchBreastfed())},error:a=>console.log(a)})}fetchBreastfed(){this.http.get("child-care/cc-breastfed/"+this.selected_visit.patient.id).subscribe({next:e=>{this.ccdev_breastfed=e.data,console.log(e.data),this.fetchServices()},error:e=>console.log(e)})}fetchServices(){this.http.get("child-care/cc-services",{params:{patient_id:this.selected_visit.patient.id,sort:"service_id"}}).subscribe({next:e=>{this.ccdev_services=e.data,console.log(e.data),this.show_form=!0},error:e=>console.log(e)})}constructor(e){this.http=e,this.faCircleNotch=v.s4k,this.show_form=!1}ngOnInit(){this.selected_visit&&this.loadData()}static{this.\u0275fac=function(a){return new(a||l)(t.rXU(y.k))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-cc"]],inputs:{selected_visit:"selected_visit"},standalone:!1,decls:1,vars:1,consts:[["class","grid grid-cols-12",4,"ngIf"],[1,"grid","grid-cols-12"],[1,"col-span-12"],[1,"col-span-12","grid","grid-cols-2","pl-3"],[1,"text-xs"],[1,"text-xs","text-right"],[1,"col-span-2","grid","grid-cols-2","mt-3"],[1,"col-span-2","font-semibold","text-sm"],["class","grid grid-cols-2 col-span-2",4,"ngFor","ngForOf"],[1,"text-xs","pl-5"],["class","w-full flex justify-center",4,"ngIf"],[1,"grid","grid-cols-2","col-span-2"],["class","pl-5 col-span-2 text-xs",4,"ngIf"],[1,"pl-5","col-span-2","text-xs"],[1,"w-full","flex","justify-center"],["animation","spin",1,"text-blue-500","pt-15",3,"icon"]],template:function(a,s){1&a&&t.DNE(0,u,44,19,"div",0),2&a&&t.Y8G("ngIf",s.show_form)},dependencies:[m.Sq,m.bT,C.aY,m.vh],encapsulation:2})}}return l})();function h(l,d){if(1&l&&(t.j41(0,"tr")(1,"th",7),t.EFF(2),t.nI1(3,"date"),t.nI1(4,"date"),t.k0s(),t.j41(5,"th",7),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"th",7),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"th",7),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"th",7),t.EFF(15),t.nI1(16,"date"),t.k0s(),t.j41(17,"th",7),t.EFF(18),t.k0s()()),2&l){const e=d.$implicit;t.R7$(2),t.JRh(e.pre_registration?"MCR: "+t.brH(3,6,e.pre_registration.pre_registration_date,"MM/dd/yyyy","Asia/Manila"):"Post: "+t.brH(4,10,e.post_registration.post_registration_date,"MM/dd/yyyy","Asia/Manila")),t.R7$(4),t.JRh(e.pre_registration?t.brH(7,14,e.pre_registration.lmp_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.R7$(3),t.JRh(e.post_registration?t.brH(10,18,e.post_registration.delivery_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.R7$(3),t.JRh(e.post_registration?t.brH(13,22,e.post_registration.admission_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.R7$(3),t.JRh(e.post_registration?t.brH(16,26,e.post_registration.discharge_date,"MM/dd/yyyy","Asia/Manila"):"-"),t.R7$(3),t.JRh(e.post_registration&&e.post_registration.end_pregnancy?"Closed":"Open")}}function w(l,d){if(1&l&&(t.j41(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),t.EFF(4,"Registration Date"),t.k0s(),t.j41(5,"th",5),t.EFF(6,"LMP Date"),t.k0s(),t.j41(7,"th",5),t.EFF(8,"Delivery Date"),t.k0s(),t.j41(9,"th",5),t.EFF(10,"Admission Date"),t.k0s(),t.j41(11,"th",5),t.EFF(12,"Discharge Date"),t.k0s(),t.j41(13,"th",5),t.EFF(14,"Status"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,h,19,30,"tr",6),t.k0s()()),2&l){const e=t.XpG();t.R7$(16),t.Y8G("ngForOf",e.patient_mc_list)}}let N=(()=>{class l{loadData(){this.http.get("maternal-care/mc-records",{params:{type:"all",patient_id:this.selected_visit.patient.id}}).subscribe({next:a=>{a.data.length>0&&(this.patient_mc_list=a.data)},error:a=>console.log(a)})}constructor(e){this.http=e}ngOnInit(){this.selected_visit&&this.loadData()}static{this.\u0275fac=function(a){return new(a||l)(t.rXU(y.k))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-mc"]],inputs:{selected_visit:"selected_visit"},standalone:!1,decls:4,vars:1,consts:[[1,"font-semibold","text-sm"],[1,"w-full","rounded-md","border","border-slate-200","shadow-md","overflow-auto"],["class","table-auto",4,"ngIf"],[1,"table-auto"],[1,""],[1,"px-1","text-xs","font-semibold","align-top"],[4,"ngFor","ngForOf"],[1,"px-1","text-sm","font-normal"]],template:function(a,s){1&a&&(t.j41(0,"div",0),t.EFF(1," Maternal Care History\n"),t.k0s(),t.j41(2,"div",1),t.DNE(3,w,17,1,"table",2),t.k0s()),2&a&&(t.R7$(3),t.Y8G("ngIf",s.patient_mc_list))},dependencies:[m.Sq,m.bT,m.vh],encapsulation:2})}}return l})();const b=l=>({"text-red-500":l});function V(l,d){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const e=t.XpG();t.R7$(),t.LHq("",(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.last_name)+", "," ",null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.first_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.middle_name)?"":null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.middle_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.suffix_name)?"":null==e.selected_visit||null==e.selected_visit.user?null:e.selected_visit.user.suffix_name,"")}}function A(l,d){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const e=t.XpG();t.R7$(),t.LHq("",(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.last_name)+", "," ",null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.first_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.middle_name)?"":null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.middle_name," ","NA"===(null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.suffix_name)?"":null==e.selected_visit||null==e.selected_visit.physician?null:e.selected_visit.physician.suffix_name,"")}}function U(l,d){if(1&l&&(t.j41(0,"div",13)(1,"span",10),t.EFF(2," BMI "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.Y8G("ngClass",t.eq3(3,b,!(null==e.latest_vitals||!e.latest_vitals.patient_bmi)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class))),t.R7$(4),t.Lme(" ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi?null==e.latest_vitals?null:e.latest_vitals.patient_bmi:"-"," ",null!=e.latest_vitals&&e.latest_vitals.patient_bmi_class?"("+(null==e.latest_vitals?null:e.latest_vitals.patient_bmi_class)+")":""," ")}}function J(l,d){if(1&l&&(t.j41(0,"div",13)(1,"span",10),t.EFF(2," Weight for age "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.Y8G("ngClass",t.eq3(2,b,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age))),t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_age:""," ")}}function L(l,d){if(1&l&&(t.j41(0,"div",13)(1,"span",10),t.EFF(2," Height for age "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.Y8G("ngClass",t.eq3(2,b,!(null==e.latest_vitals||!e.latest_vitals.patient_height_for_age)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age))),t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_height_for_age?null==e.latest_vitals?null:e.latest_vitals.patient_height_for_age:""," ")}}function H(l,d){if(1&l&&(t.j41(0,"div",13)(1,"span",10),t.EFF(2," Weight for Height "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.Y8G("ngClass",t.eq3(2,b,!(null==e.latest_vitals||!e.latest_vitals.patient_weight_for_height)&&"Normal"!==(null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height))),t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_weight_for_height?null==e.latest_vitals?null:e.latest_vitals.patient_weight_for_height:""," ")}}function z(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Head Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_head_circumference?(null==e.latest_vitals?null:e.latest_vitals.patient_head_circumference)+" cm":""," ")}}function W(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Mid-Upper Arm Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_muac?(null==e.latest_vitals?null:e.latest_vitals.patient_muac)+" cm":""," ")}}function Z(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Chest Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_chest?(null==e.latest_vitals?null:e.latest_vitals.patient_chest)+" cm":""," ")}}function K(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Abdominal Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_abdomen?(null==e.latest_vitals?null:e.latest_vitals.patient_abdomen)+" cm":""," ")}}function Q(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Waist Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_waist?(null==e.latest_vitals?null:e.latest_vitals.patient_waist)+" cm":"-"," ")}}function q(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Hip Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_hip?(null==e.latest_vitals?null:e.latest_vitals.patient_waist)+" cm":"-"," ")}}function tt(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Limbs Circumference "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_limbs?(null==e.latest_vitals?null:e.latest_vitals.patient_limbs)+" cm":""," ")}}function et(l,d){if(1&l&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2," Skinfold Thickness "),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&l){const e=t.XpG();t.R7$(4),t.SpI(" ",null!=e.latest_vitals&&e.latest_vitals.patient_skinfold_thickness?(null==e.latest_vitals?null:e.latest_vitals.patient_skinfold_thickness)+" cm":""," ")}}function it(l,d){if(1&l&&t.nrm(0,"app-consultation",17),2&l){const e=t.XpG();t.Y8G("selected_visit",e.selected_visit)}}function lt(l,d){if(1&l&&t.nrm(0,"app-ncd",17),2&l){const e=t.XpG();t.Y8G("selected_visit",e.selected_visit)}}function st(l,d){if(1&l&&t.nrm(0,"app-cc",17),2&l){const e=t.XpG();t.Y8G("selected_visit",e.selected_visit)}}function nt(l,d){if(1&l&&t.nrm(0,"app-mc",17),2&l){const e=t.XpG();t.Y8G("selected_visit",e.selected_visit)}}let at=(()=>{class l{openVisit(e){this.router.navigate(["/patient/"+e.pt_group,{id:e.patient.id,consult_id:e.id}])}displayVisit(){this.selected_visit&&(Object.entries(this.comps).forEach(([e,a],s)=>{e!==this.selected_visit.pt_group&&(this.comps[e]=!1)}),this.comps[this.selected_visit.pt_group]=!this.comps[this.selected_visit.pt_group])}ngOnChanges(e){this.displayVisit()}constructor(e){this.router=e,this.comps=[]}static{this.\u0275fac=function(a){return new(a||l)(t.rXU(i.Ix))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-visit-details"]],inputs:{latest_vitals:"latest_vitals",selected_visit:"selected_visit"},standalone:!1,features:[t.OA$],decls:86,vars:54,consts:[[1,"flex","justify-between","align-middle","bg-blue-500","w-full","p-2","font-semibold","text-sm","mb-1","text-white","rounded-md"],[1,"py-1"],["type","button",1,"px-2","py-1","bg-slate-50","text-gray-700","rounded-lg",3,"click"],[1,"flex","mx-2","text-sm"],[1,"flex-1","text-left","font-semibold"],[1,"flex-1","text-right"],[4,"ngIf"],[1,"flex","mx-2","mt-3","text-sm","font-semibold"],[1,"block"],[1,"flex","pl-3","justify-between","items-center"],[1,"block","font-medium","text-xs"],[1,"block","text-xs"],["class","flex pl-3 justify-between items-center",3,"ngClass",4,"ngIf"],[1,"flex","pl-3","justify-between","items-center",3,"ngClass"],[1,"flex","pl-3","pb-5","justify-between","items-center"],["class","flex pl-3 justify-between items-center",4,"ngIf"],[3,"selected_visit",4,"ngIf"],[3,"selected_visit"]],template:function(a,s){1&a&&(t.j41(0,"span",0)(1,"span",1),t.EFF(2,"VISIT DETAILS"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return s.openVisit(s.selected_visit)}),t.EFF(4," Open "),t.k0s()(),t.j41(5,"div")(6,"div",3)(7,"span",4),t.EFF(8," Date "),t.k0s(),t.j41(9,"span",5),t.EFF(10),t.nI1(11,"date"),t.k0s()(),t.j41(12,"div",3)(13,"span",4),t.EFF(14," Assessed By "),t.k0s(),t.j41(15,"span",5),t.DNE(16,V,2,4,"span",6),t.k0s()(),t.j41(17,"div",3)(18,"span",4),t.EFF(19," Physician "),t.k0s(),t.j41(20,"span",5),t.DNE(21,A,2,4,"span",6),t.k0s()(),t.j41(22,"div",7),t.EFF(23),t.nI1(24,"date"),t.k0s(),t.j41(25,"div",8)(26,"div",9)(27,"span",10),t.EFF(28," Weight "),t.k0s(),t.j41(29,"span",11),t.EFF(30),t.k0s()(),t.j41(31,"div",9)(32,"span",10),t.EFF(33),t.k0s(),t.j41(34,"span",11),t.EFF(35),t.k0s()(),t.DNE(36,U,5,5,"div",12)(37,J,5,4,"div",12)(38,L,5,4,"div",12)(39,H,5,4,"div",12),t.j41(40,"div",9)(41,"span",10),t.EFF(42," Blood Pressure "),t.k0s(),t.j41(43,"span",11),t.EFF(44),t.k0s()(),t.j41(45,"div",13)(46,"span",10),t.EFF(47," Blood Oxygen (SpO2) "),t.k0s(),t.j41(48,"span",11),t.EFF(49),t.nI1(50,"number"),t.k0s()(),t.j41(51,"div",13)(52,"span",10),t.EFF(53," Temperature "),t.k0s(),t.j41(54,"span",11),t.EFF(55),t.k0s()(),t.j41(56,"div",9)(57,"span",10),t.EFF(58," Heart Rate "),t.k0s(),t.j41(59,"span",11),t.EFF(60),t.nI1(61,"number"),t.k0s()(),t.j41(62,"div",9)(63,"span",10),t.EFF(64," Respiratory Rate "),t.k0s(),t.j41(65,"span",11),t.EFF(66),t.nI1(67,"number"),t.k0s()(),t.j41(68,"div",14)(69,"span",10),t.EFF(70," Pulse Rate "),t.k0s(),t.j41(71,"span",11),t.EFF(72),t.nI1(73,"number"),t.k0s()(),t.DNE(74,z,5,1,"div",15)(75,W,5,1,"div",15)(76,Z,5,1,"div",15)(77,K,5,1,"div",15)(78,Q,5,1,"div",15)(79,q,5,1,"div",15)(80,tt,5,1,"div",15)(81,et,5,1,"div",15),t.k0s(),t.DNE(82,it,1,1,"app-consultation",16)(83,lt,1,1,"app-ncd",16)(84,st,1,1,"app-cc",16)(85,nt,1,1,"app-mc",16),t.k0s()),2&a&&(t.R7$(10),t.SpI(" ",t.i5U(11,31,null==s.selected_visit?null:s.selected_visit.consult_date,"MM/dd/yyyy hh:mm:ss a")," "),t.R7$(6),t.Y8G("ngIf",null==s.selected_visit?null:s.selected_visit.user),t.R7$(5),t.Y8G("ngIf",null==s.selected_visit?null:s.selected_visit.physician),t.R7$(2),t.SpI(" VITALS ",t.brH(24,34,null==s.latest_vitals?null:s.latest_vitals.vitals_date,"MM/dd/yyyy","Asia/Manila")," "),t.R7$(7),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_weight?(null==s.latest_vitals?null:s.latest_vitals.patient_weight)+" kg":"-"," "),t.R7$(3),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_weight_for_age||null!=s.latest_vitals&&s.latest_vitals.patient_height_for_age||null!=s.latest_vitals&&s.latest_vitals.patient_weight_for_height?"Length":"Height"," "),t.R7$(2),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_height?(null==s.latest_vitals?null:s.latest_vitals.patient_height)+" cm":"-"," "),t.R7$(),t.Y8G("ngIf",!(null!=s.latest_vitals&&s.latest_vitals.patient_weight_for_age)),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_weight_for_age),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_height_for_age),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_weight_for_height),t.R7$(5),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.bp_systolic?(null==s.latest_vitals?null:s.latest_vitals.bp_systolic)+"/"+(null==s.latest_vitals?null:s.latest_vitals.bp_diastolic):"-"," "),t.R7$(),t.Y8G("ngClass",t.eq3(50,b,!(null==s.latest_vitals||!s.latest_vitals.patient_spo2)&&(null==s.latest_vitals?null:s.latest_vitals.patient_spo2)<95)),t.R7$(4),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_spo2?t.i5U(50,38,null==s.latest_vitals?null:s.latest_vitals.patient_spo2,"1.0-0")+" %":"-"," "),t.R7$(2),t.Y8G("ngClass",t.eq3(52,b,(null==s.latest_vitals?null:s.latest_vitals.patient_temp)>=37.6)),t.R7$(4),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_temp?(null==s.latest_vitals?null:s.latest_vitals.patient_temp)+" C":"-"," "),t.R7$(5),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_heart_rate?t.i5U(61,41,null==s.latest_vitals?null:s.latest_vitals.patient_heart_rate,"1.0-0"):"-"," "),t.R7$(6),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_respiratory_rate?t.i5U(67,44,null==s.latest_vitals?null:s.latest_vitals.patient_respiratory_rate,"1.0-0"):"-"," "),t.R7$(6),t.SpI(" ",null!=s.latest_vitals&&s.latest_vitals.patient_pulse_rate?t.i5U(73,47,null==s.latest_vitals?null:s.latest_vitals.patient_pulse_rate,"1.0-0"):"-"," "),t.R7$(2),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_head_circumference),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_muac),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_chest),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_abdomen),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_waist),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_hip),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_limbs),t.R7$(),t.Y8G("ngIf",null==s.latest_vitals?null:s.latest_vitals.patient_skinfold_thickness),t.R7$(),t.Y8G("ngIf",s.comps.cn),t.R7$(),t.Y8G("ngIf",s.comps.ncd),t.R7$(),t.Y8G("ngIf",s.comps.cc),t.R7$(),t.Y8G("ngIf",s.comps.mc))},dependencies:[m.YU,m.bT,X,O,f,N,m.QX,m.vh],encapsulation:2})}}return l})();const ot=l=>({"bg-green-200 hover:bg-green-300":l}),rt=l=>({"text-green-600":l});function dt(l,d){1&l&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2," No record to show "),t.k0s()())}function ct(l,d){if(1&l&&(t.j41(0,"span",21),t.EFF(1,"For Konsulta: "),t.j41(2,"span",26),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.k0s()),2&l){const e=t.XpG().$implicit;t.R7$(3),t.JRh(null!=e&&e.is_konsulta?"Yes":"No")}}function pt(l,d){if(1&l&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&l){const e=t.XpG().$implicit;t.R7$(),t.LHq("",(null==e||null==e.user?null:e.user.last_name)+", "," ",null==e||null==e.user?null:e.user.first_name," ","NA"===(null==e||null==e.user?null:e.user.middle_name)?" ":null==e||null==e.user?null:e.user.middle_name," ","NA"===(null==e||null==e.user?null:e.user.suffix_name)?" ":null==e||null==e.user?null:e.user.suffix_name,"")}}function ut(l,d){if(1&l&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&l){const e=t.XpG().$implicit;t.R7$(),t.LHq("",(null==e||null==e.physician?null:e.physician.last_name)+", "," ",null==e||null==e.physician?null:e.physician.first_name," ","NA"===(null==e||null==e.physician?null:e.physician.middle_name)?" ":null==e||null==e.physician?null:e.physician.middle_name," ","NA"===(null==e||null==e.physician?null:e.physician.suffix_name)?" ":null==e||null==e.physician?null:e.physician.suffix_name,"")}}function ft(l,d){if(1&l&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&l){const e=t.XpG().$implicit;t.R7$(),t.SpI("",null==e||null==e.facility?null:e.facility.facility_name," ")}}function mt(l,d){if(1&l&&(t.j41(0,"span",27),t.nrm(1,"fa-icon",28),t.k0s()),2&l){const e=t.XpG().$implicit,a=t.XpG(2);t.R7$(),t.Y8G("icon",a.faFolderOpen)("ngClass",t.eq3(2,rt,!1===e.consult_done))}}function _t(l,d){if(1&l&&(t.j41(0,"span",29),t.nrm(1,"fa-icon",30),t.k0s()),2&l){const e=t.XpG(3);t.R7$(),t.Y8G("icon",e.faFolder)}}function vt(l,d){if(1&l&&(t.j41(0,"span",31),t.nrm(1,"fa-icon",30),t.k0s()),2&l){const e=t.XpG(3);t.R7$(),t.Y8G("icon",e.faStethoscope)}}function ht(l,d){if(1&l){const e=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"div",16),t.EFF(3),t.nI1(4,"date"),t.nrm(5,"br"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"div",17),t.bIt("click",function(){const s=t.eBV(e).$implicit,F=t.XpG(2);return t.Njj(F.showConsult(s))}),t.j41(9,"div",18)(10,"span",19),t.EFF(11),t.k0s(),t.nrm(12,"br"),t.DNE(13,ct,5,1,"span",20),t.j41(14,"span",21),t.EFF(15,"Admitted by: "),t.DNE(16,pt,2,4,"span",22),t.k0s(),t.nrm(17,"br"),t.j41(18,"span",21),t.EFF(19,"Attended by: "),t.DNE(20,ut,2,4,"span",22),t.k0s(),t.nrm(21,"br"),t.j41(22,"span",21),t.EFF(23,"Facility: "),t.DNE(24,ft,2,1,"span",22),t.k0s()(),t.DNE(25,mt,2,4,"span",23)(26,_t,2,1,"span",24)(27,vt,2,1,"span",25),t.k0s()()()}if(2&l){const e=d.$implicit,a=t.XpG(2);t.R7$(3),t.SpI(" ",t.brH(4,11,null==e?null:e.consult_date,"MM/dd/yyyy","Asia/Manila")," "),t.R7$(3),t.SpI(" ",t.i5U(7,15,null==e?null:e.consult_date,"hh:mm a")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(18,ot,!1===(null==e?null:e.consult_done))),t.R7$(3),t.JRh(a.getVisitType(null==e?null:e.pt_group)),t.R7$(2),t.Y8G("ngIf","cn"===(null==e?null:e.pt_group)),t.R7$(3),t.Y8G("ngIf",null==e?null:e.user),t.R7$(4),t.Y8G("ngIf",null==e?null:e.physician),t.R7$(4),t.Y8G("ngIf",null==e?null:e.facility),t.R7$(),t.Y8G("ngIf",a.show_details&&e.id===a.selected_id),t.R7$(),t.Y8G("ngIf",!0===e.consult_done&&e.id!==a.selected_id),t.R7$(),t.Y8G("ngIf",!1===e.consult_done&&e.id!==a.selected_id)}}function gt(l,d){if(1&l&&t.nrm(0,"app-visit-details",34),2&l){const e=t.XpG(3);t.Y8G("selected_visit",e.selected_visit)("latest_vitals",e.latest_vitals)}}function Ft(l,d){1&l&&(t.j41(0,"div")(1,"span",35)(2,"span",36),t.EFF(3,"VISIT DETAILS"),t.k0s()(),t.j41(4,"div",37)(5,"span",38),t.EFF(6," This visit record is from other facility. "),t.nrm(7,"br"),t.EFF(8," You are not allowed to view this record. "),t.k0s()()())}function yt(l,d){if(1&l&&(t.j41(0,"div",32),t.DNE(1,gt,1,2,"app-visit-details",33)(2,Ft,9,0,"div",7),t.k0s()),2&l){const e=t.XpG(2);t.Y8G("@myInsertRemoveTrigger",void 0),t.R7$(),t.Y8G("ngIf",e.user_allowed),t.R7$(),t.Y8G("ngIf",!e.user_allowed)}}function bt(l,d){if(1&l&&(t.j41(0,"div",10)(1,"div",11),t.DNE(2,ht,28,20,"div",12),t.k0s(),t.DNE(3,yt,3,3,"div",13),t.k0s()),2&l){const e=t.XpG();t.R7$(),t.Y8G("@halfFull",e.show_details?"half":"full"),t.R7$(),t.Y8G("ngForOf",e.visit_list),t.R7$(),t.Y8G("ngIf",e.show_details)}}function Rt(l,d){if(1&l){const e=t.RV6();t.j41(0,"div")(1,"nav",43)(2,"button",44),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.loadData(1))}),t.nrm(3,"fa-icon",45),t.k0s(),t.j41(4,"button",46),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.loadData(s.current_page-1))}),t.nrm(5,"fa-icon",45),t.EFF(6,"Previous "),t.k0s(),t.j41(7,"button",46),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.loadData(s.current_page+1))}),t.EFF(8," Next"),t.nrm(9,"fa-icon",47),t.k0s(),t.j41(10,"button",48),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.loadData(s.last_page))}),t.nrm(11,"fa-icon",47),t.k0s()()()}if(2&l){const e=t.XpG(2);t.R7$(2),t.Y8G("disabled",1===e.current_page),t.R7$(),t.Y8G("icon",e.faAnglesLeft),t.R7$(),t.Y8G("disabled",1===e.current_page),t.R7$(),t.Y8G("icon",e.faChevronLeft),t.R7$(2),t.Y8G("disabled",e.current_page===e.last_page),t.R7$(2),t.Y8G("icon",e.faChevronRight),t.R7$(),t.Y8G("disabled",e.current_page===e.last_page),t.R7$(),t.Y8G("icon",e.faAnglesRight)}}function jt(l,d){if(1&l&&(t.j41(0,"div")(1,"div",39)(2,"div",40)(3,"div")(4,"p",41),t.EFF(5," Showing "),t.j41(6,"span",42),t.EFF(7),t.k0s(),t.EFF(8," to "),t.j41(9,"span",42),t.EFF(10),t.k0s(),t.EFF(11," of "),t.j41(12,"span",42),t.EFF(13),t.k0s(),t.EFF(14," results "),t.k0s()(),t.DNE(15,Rt,12,8,"div",7),t.k0s()()()),2&l){const e=t.XpG();t.R7$(7),t.JRh(e.from),t.R7$(3),t.JRh(e.to),t.R7$(3),t.JRh(e.total),t.R7$(2),t.Y8G("ngIf",e.total>=11)}}const Ct=[{path:"",component:(()=>{class l{loadData(e){let a=this.route.snapshot.paramMap.get("id");e&&(this.show_details=!1),this.patient_id!==a&&this.getVisitList({patient_id:a,per_page:this.per_page,sort:"-consult_date",disable_filter:1,page:e??1})}getVisitList(e,a){this.http.get("consultation/records",{params:e}).subscribe({next:s=>{this.visit_list=s.data,this.current_page=s.meta.current_page,this.last_page=s.meta.last_page,this.from=s.meta.from,this.to=s.meta.to,this.total=s.meta.total},error:s=>console.log(s)})}showConsult(e){"cn"!=e.pt_group?e.facility.code===this.user_location?(this.user_allowed=!0,this.selected_visit=e,e.vitals&&this.getLatestToday(e)):(this.user_allowed=!1,this.show_details=!0):(this.user_allowed=!0,this.selected_visit=e,e.vitals&&this.getLatestToday(e))}getLatestToday(e){this.latest_vitals=this.vitalsCharts.getLatestToday(e.vitals,e.consult_date),this.selected_id&&this.selected_id===e.id?(this.selected_id=void 0,this.show_details=!1):(this.selected_id=e.id,this.show_details=!0)}getVisitType(e){return this.nameHelper.getVisitType(e)}constructor(e,a,s,F,I){this.router=e,this.http=a,this.vitalsCharts=s,this.route=F,this.nameHelper=I,this.faCircle=v.GEE,this.faEye=j.pS3,this.faFolderOpen=j.Uj9,this.faFolder=v.ao0,this.faStethoscope=v.jrv,this.faChevronRight=v.XkK,this.faChevronLeft=v.Wzs,this.faAnglesLeft=v.rNr,this.faAnglesRight=v.up_,this.show_details=!1,this.per_page=10,this.user_allowed=!1,this.navigationEnd$=this.router.events.pipe((0,x.p)($t=>$t instanceof i.wF),(0,k.M)(()=>{this.loadData(),this.show_details=!1}))}ngOnInit(){this.user_location=this.http.getUserFacility(),this.route.params.subscribe(e=>{this.loadData()})}static{this.\u0275fac=function(a){return new(a||l)(t.rXU(i.Ix),t.rXU(y.k),t.rXU($.I),t.rXU(i.nX),t.rXU(G.j))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-patient-itr"]],standalone:!1,decls:9,vars:3,consts:[[1,"w-full"],[1,"block","shadow","px-2","py-2","mt-4","rounded-xl","text-gray-600","border","border-slate-100"],[1,"grid","grid-cols-3","border-b-2"],[1,"col-span-1"],[1,"col-auto"],["class","pt-15 mt-15",4,"ngIf"],["class","flex",4,"ngIf"],[4,"ngIf"],[1,"pt-15","mt-15"],[1,"text-center","items-center","mb-3","mt-15","italic"],[1,"flex"],[1,"mr-2","flex-auto","h-[700px]","overflow-y-auto"],["class","last:border-0 border-b border-slate-200 pb-2 h-",4,"ngFor","ngForOf"],["class","my-2 w-1/2 h-[600px] overflow-y-auto",4,"ngIf"],[1,"last:border-0","border-b","border-slate-200","pb-2","h-"],[1,"grid","grid-cols-8","gap-2","mt-2"],[1,"col-span-2","text-sm","font-semibold","h-full"],[1,"col-span-6","bg-blue-50","hover:bg-blue-200","hover:cursor-pointer","p-1","pl-5","text-sm","col-start-3","grid","grid-cols-12","rounded-l-xl",3,"click","ngClass"],[1,"col-span-11"],[1,"text-cyan-800","font-semibold"],["class","text-[.8em]",4,"ngIf"],[1,"text-[.8em]"],["class","font-semibold",4,"ngIf"],["class","col-span-1 flex justify-center my-auto",4,"ngIf"],["class","col-span-1 flex justify-center my-auto text-blue-50 hover:text-blue-500",4,"ngIf"],["class","col-span-1 flex justify-center my-auto text-green-600 hover:text-green-700",4,"ngIf"],[1,"font-semibold"],[1,"col-span-1","flex","justify-center","my-auto"],[1,"text-blue-500","text-lg",3,"icon","ngClass"],[1,"col-span-1","flex","justify-center","my-auto","text-blue-50","hover:text-blue-500"],[1,"text-lg",3,"icon"],[1,"col-span-1","flex","justify-center","my-auto","text-green-600","hover:text-green-700"],[1,"my-2","w-1/2","h-[600px]","overflow-y-auto"],[3,"selected_visit","latest_vitals",4,"ngIf"],[3,"selected_visit","latest_vitals"],[1,"flex","justify-between","align-middle","bg-blue-500","w-full","p-2","font-semibold","text-sm","mb-1","text-white","rounded-md"],[1,"py-1"],[1,"flex","flex-col","justify-center","pt-5","text-sm"],[1,"mx-auto","italic","text-center"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"]],template:function(a,s){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4,"Medical Journal"),t.k0s(),t.nrm(5,"div",4),t.k0s(),t.DNE(6,dt,3,0,"div",5)(7,bt,4,3,"div",6)(8,jt,16,4,"div",7),t.k0s()()),2&a&&(t.R7$(6),t.Y8G("ngIf",0===(null==s.visit_list?null:s.visit_list.length)),t.R7$(),t.Y8G("ngIf",(null==s.visit_list?null:s.visit_list.length)>=1),t.R7$(),t.Y8G("ngIf",s.total>=1))},dependencies:[m.YU,m.Sq,m.bT,C.aY,at,m.vh],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{color:#2c3e50;background:#ecf0f1;padding:0 1em 1em}h1[_ngcontent-%COMP%]{margin:0;line-height:2;text-align:center}h2[_ngcontent-%COMP%]{margin:0 0 .5em;font-weight:400}input[_ngcontent-%COMP%]{position:absolute;opacity:0;z-index:-1}.row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-child{margin-left:1em}.tabs[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 4px -2px #00000080}.tab[_ngcontent-%COMP%]{width:100%;color:#fff;overflow:hidden}.tab-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;background:#2c3e50;font-weight:700;cursor:pointer}.tab-label[_ngcontent-%COMP%]:hover{background:#1a252f}.tab-label[_ngcontent-%COMP%]:after{content:"\\276f";width:1em;height:1em;text-align:center;transition:all .35s}.tab-content[_ngcontent-%COMP%]{max-height:0;padding:0 1em;color:#2c3e50;background:#fff;transition:all .35s}.tab-close[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em;font-size:.75em;background:#2c3e50;cursor:pointer}.tab-close[_ngcontent-%COMP%]:hover{background:#1a252f}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]{background:#1a252f}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]:after{transform:rotate(90deg)}input[_ngcontent-%COMP%]:checked ~ .tab-content[_ngcontent-%COMP%]{max-height:100vh;padding:1em}'],data:{animation:[g]}})}}return l})()}];let Et=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({imports:[i.iI.forChild(Ct),i.iI]})}}return l})();var xt=n(4626),It=n(9417);let kt=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({imports:[m.MD,Et,xt.J,It.YN,C.dX]})}}return l})()},9028:(B,R,n)=>{n.d(R,{v:()=>O});var m=n(177),i=n(4438),r=n(9417),g=n(60),x=n(5383),k=n(7468),v=n(3318),j=n(5794);function t(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.code),i.R7$(),i.JRh(o.name)}}function y(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.code),i.R7$(),i.JRh(o.name)}}function $(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.code),i.R7$(),i.JRh(o.name)}}function G(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.code),i.R7$(),i.Lme("",o.facility_name," (",o.health_facility_type,")")}}function C(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.id),i.R7$(),i.JRh(o.desc)}}function M(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.code),i.R7$(),i.JRh(o.desc)}}function T(c,_){1&c&&(i.j41(0,"div",28)(1,"label",41),i.EFF(2,"Reason Remarks"),i.k0s(),i.nrm(3,"input",42),i.k0s())}function D(c,_){if(1&c&&(i.j41(0,"option",40),i.EFF(1),i.k0s()),2&c){const o=_.$implicit;i.Y8G("value",o.id),i.R7$(),i.JRh(o.desc)}}function p(c,_){if(1&c&&(i.j41(0,"div",28)(1,"label",43),i.EFF(2,"Reason for Uncoordinated Referral"),i.k0s(),i.j41(3,"select",44)(4,"option",22),i.EFF(5,"- Choose Reason -"),i.k0s(),i.DNE(6,D,2,2,"option",23),i.k0s()()),2&c){const o=i.XpG(2);i.R7$(6),i.Y8G("ngForOf",o.uncoordinated_list)}}function S(c,_){1&c&&(i.j41(0,"div",28)(1,"label",45),i.EFF(2,"Uncoordinated Remarks"),i.k0s(),i.nrm(3,"input",46),i.k0s())}function Y(c,_){if(1&c){const o=i.RV6();i.j41(0,"form",13),i.bIt("submit",function(){i.eBV(o);const f=i.XpG();return i.Njj(f.onSubmit())}),i.j41(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"label",18),i.EFF(6,"Appointment Date"),i.k0s(),i.nrm(7,"input",19),i.k0s()(),i.j41(8,"div",17)(9,"label",20),i.EFF(10,"Region"),i.k0s(),i.j41(11,"select",21),i.bIt("change",function(){i.eBV(o);const f=i.XpG();return i.Njj(f.loadDemog("regions",f.referralForm.value.region,"provinces"))}),i.j41(12,"option",22),i.EFF(13,"- Choose Region -"),i.k0s(),i.DNE(14,t,2,2,"option",23),i.k0s()(),i.j41(15,"div",17)(16,"label",24),i.EFF(17,"Province"),i.k0s(),i.j41(18,"select",25),i.bIt("change",function(){i.eBV(o);const f=i.XpG();return i.Njj(f.loadDemog("provinces",f.referralForm.value.province,"municipalities"))}),i.j41(19,"option",22),i.EFF(20,"- Choose Province -"),i.k0s(),i.DNE(21,y,2,2,"option",23),i.k0s()(),i.j41(22,"div",17)(23,"label",26),i.EFF(24,"Municipality"),i.k0s(),i.j41(25,"select",27),i.bIt("change",function(){i.eBV(o);const f=i.XpG();return i.Njj(f.loadFacilities(f.referralForm.value.municipality))}),i.j41(26,"option",22),i.EFF(27,"- Choose Municipality/City -"),i.k0s(),i.DNE(28,$,2,2,"option",23),i.k0s()(),i.j41(29,"div",28)(30,"label",29),i.EFF(31,"Refer to"),i.k0s(),i.j41(32,"select",30)(33,"option",22),i.EFF(34,"- Choose Facility -"),i.k0s(),i.DNE(35,G,2,3,"option",23),i.k0s()(),i.j41(36,"div",31)(37,"div")(38,"label",32),i.EFF(39,"Referral Reason"),i.k0s(),i.j41(40,"select",33)(41,"option",22),i.EFF(42,"- Choose Reason -"),i.k0s(),i.DNE(43,C,2,2,"option",23),i.k0s()(),i.j41(44,"div")(45,"label",34),i.EFF(46,"Referral Category"),i.k0s(),i.j41(47,"select",35)(48,"option",22),i.EFF(49,"- Choose Category -"),i.k0s(),i.DNE(50,M,2,2,"option",23),i.k0s()()(),i.DNE(51,T,4,0,"div",36),i.j41(52,"div",37),i.nrm(53,"input",38),i.j41(54,"label",39),i.EFF(55,"Uncoordinated Referral"),i.k0s()(),i.DNE(56,p,7,1,"div",36)(57,S,4,0,"div",36),i.k0s()()()}if(2&c){const o=i.XpG();i.Y8G("formGroup",o.referralForm),i.R7$(7),i.Y8G("min",o.max_date),i.R7$(7),i.Y8G("ngForOf",o.regions),i.R7$(7),i.Y8G("ngForOf",o.provinces),i.R7$(7),i.Y8G("ngForOf",o.municipalities),i.R7$(7),i.Y8G("ngForOf",o.facilities),i.R7$(8),i.Y8G("ngForOf",o.reason_list),i.R7$(7),i.Y8G("ngForOf",o.category_list),i.R7$(),i.Y8G("ngIf","99"===o.referralForm.value.referral_reason_id),i.R7$(5),i.Y8G("ngIf",o.referralForm.value.uncoordinated_flag),i.R7$(),i.Y8G("ngIf","99"===o.referralForm.value.referral_uncoordinated_id)}}function E(c,_){if(1&c&&(i.j41(0,"div",47),i.nrm(1,"fa-icon",48),i.j41(2,"span",49),i.EFF(3,"Loading libraries..."),i.k0s()()),2&c){const o=i.XpG();i.R7$(),i.Y8G("icon",o.faCircleNotch)}}let P=(()=>{class c{get f(){return this.referralForm.controls}loadFacilities(o){"0"!==o?(this.f.referral_facility_code.enable(),this.http.get("libraries/facilities",{params:{"filter[municipality_code]":o,per_page:"all"}}).subscribe({next:u=>{this.facilities=u.data},error:u=>console.log(u)})):(this.facilities=null,this.referralForm.patchValue({facility_code:"0"}),this.f.referral_facility_code.disable())}loadDemog(o,u,f){u&&"0"!==u?this.http.get("libraries/"+o+"/"+u,{params:{include:f}}).subscribe({next:h=>{this[f]=h.data[f],this.disaledSelection(o,u)},error:h=>console.log(h)}):this.disaledSelection(o,u)}disaledSelection(o,u){"regions"==o?(this.municipalities=null,this.facilities=null,this.f.municipality.disable(),this.f.referral_facility_code.disable(),"0"===u?this.f.province.disable():this.f.province.enable()):"provinces"==o?(this.facilities=null,this.f.referral_facility_code.disable(),"0"===u?this.f.municipality.disable():this.f.municipality.enable()):(this.f.province.disable(),this.f.municipality.disable(),this.f.referral_facility_code.disable())}loadLibraries(){this.show_form=!1;const o=this.http.get("libraries/regions"),u=this.http.get("libraries/referral-category"),f=this.http.get("libraries/referral-reason"),h=this.http.get("libraries/referral-refusal"),w=this.http.get("libraries/referral-uncoordinated");(0,k.p)([o,u,f,h,w]).subscribe({next:([N,b,V,A,U])=>{this.regions=N.data,this.category_list=b.data,this.reason_list=V.data,this.refusal_list=A.data,this.uncoordinated_list=U.data,this.createForm(),this.show_form=!0},error:N=>console.log(N)})}createForm(){this.referralForm=this.formBuilder.nonNullable.group({patient_id:[this.patient_id],consult_id:[this.consult_id],appointment_date:[null,r.k0.required],appointment_code:["REF"],referral_facility_code:[null,r.k0.required],region:[null],province:[null],municipality:[null],referral_reason_id:[null,r.k0.required],referral_category_id:[null,r.k0.required],referral_reason:[null],uncoordinated_flag:[!1],referral_uncoordinated_id:[null],uncoordinated_others:[null]}),this.loadDemog()}onSubmit(){this.is_saving=!0,this.http.post("appointment/schedule",{appointment:[{appointment_code:this.referralForm.value.appointment_code}],patient_id:this.referralForm.value.patient_id,consult_id:this.referralForm.value.consult_id,appointment_date:this.referralForm.value.appointment_date,referral_facility_code:this.referralForm.value.referral_facility_code,referral_reason_id:this.referralForm.value.referral_reason_id,referral_category_id:this.referralForm.value.referral_category_id,referral_reason:this.referralForm.value.referral_reason,referral_uncoordinated_id:this.referralForm.value.referral_uncoordinated_id,uncoordinated_others:this.referralForm.value.uncoordinated_others}).subscribe({next:u=>{this.is_saving=!1,this.toastr.success("Successfully recorded!","Set appointment"),this.loadData.emit("appointment"),this.closeModal()},error:u=>console.log(u)})}closeModal(){this.toggleModal.emit("referral-modal")}constructor(o,u,f){this.formBuilder=o,this.http=u,this.toastr=f,this.loadData=new i.bkB,this.toggleModal=new i.bkB,this.faCircleNotch=x.s4k,this.max_date=(0,m.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.is_saving=!1,this.referralForm=new r.gE({patient_id:new r.MJ(""),consult_id:new r.MJ(""),appointment_date:new r.MJ(""),appointment_code:new r.MJ(""),referral_facility_code:new r.MJ(""),region:new r.MJ(""),province:new r.MJ(""),municipality:new r.MJ(""),referral_reason:new r.MJ(""),referral_category_id:new r.MJ(""),referral_reason_id:new r.MJ(""),uncoordinated_flag:new r.MJ(!1),referral_uncoordinated_id:new r.MJ(""),uncoordinated_others:new r.MJ("")}),this.show_form=!1}ngOnInit(){this.consult_id=this.http.getUrlParams().consult_id,this.patient_id=this.http.getUrlParams().patient_id,this.program_code=this.http.getUrlParams().loc,this.loadLibraries()}ngOnChanges(o){this.consult_id=this.http.getUrlParams().consult_id,this.patient_id=this.http.getUrlParams().patient_id,this.program_code=this.http.getUrlParams().loc}static{this.\u0275fac=function(u){return new(u||c)(i.rXU(r.ok),i.rXU(v.k),i.rXU(j.tw))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-referral-form"]],outputs:{loadData:"loadData",toggleModal:"toggleModal"},features:[i.OA$],decls:16,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],["class","w-full max-w-3xl text-left text-gray-500 dark:text-gray-400",3,"formGroup","submit",4,"ngIf"],[1,"flex","justify-center","items-center"],["class","flex justify-center items-center space-x-2 py-20",4,"ngIf"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"btn-save","bg-gray-400",3,"click"],["type","submit",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"w-full","max-w-3xl","text-left","text-gray-500","dark:text-gray-400",3,"submit","formGroup"],[1,"p-5"],[1,"grid","grid-cols-9","gap-x-4","gap-y-2"],[1,"col-span-9","grid","grid-cols-9","gap-x-4","gap-y-2"],[1,"col-span-3"],["for","appointment_date"],["type","date","name","appointment_date","id","appointment_date","formControlName","appointment_date",1,"input",3,"min"],["for","region",1,"input-label"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","province",1,"input-label"],["id","province","name","province","formControlName","province",1,"first:italic","input","disabled:bg-gray-300",3,"change"],["for","municipality",1,"input-label"],["id","municipality","name","municipality","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"change"],[1,"col-span-9"],["for","referral_facility_code",1,"input-label"],["id","referral_facility_code","name","referral_facility_code","formControlName","referral_facility_code",1,"input","disabled:bg-gray-300"],[1,"col-span-9","grid-cols-2","grid","gap-x-4","gap-y-2"],["for","referral_reason_id"],["id","referral_reason_id","name","referral_reason_id","formControlName","referral_reason_id",1,"input","disabled:bg-gray-300"],["for","referral_category_id"],["id","referral_category_id","name","referral_category_id","formControlName","referral_category_id",1,"input","disabled:bg-gray-300"],["class","col-span-9",4,"ngIf"],[1,"col-span-9","border-t","border-gray-100","pt-2"],["type","checkbox","name","uncoordinated_flag","id","uncoordinated_flag","formControlName","uncoordinated_flag",1,"input-checkbox"],["for","uncoordinated_flag",1,"pl-2","mt-1","select-none"],[3,"value"],["for","referral_reason"],["type","text","name","referral_reason","id","referral_reason","formControlName","referral_reason",1,"input"],["for","referral_uncoordinated_id"],["id","referral_uncoordinated_id","name","referral_uncoordinated_id","formControlName","referral_uncoordinated_id",1,"input","disabled:bg-gray-300"],["for","uncoordinated_others"],["type","text","name","uncoordinated_others","id","uncoordinated_others","formControlName","uncoordinated_others",1,"input"],[1,"flex","justify-center","items-center","space-x-2","py-20"],["animation","spin",1,"text-blue-500",3,"icon"],[1,"text-blue-500"]],template:function(u,f){1&u&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5," Referral "),i.k0s()(),i.j41(6,"div",5),i.DNE(7,Y,58,11,"form",6),i.j41(8,"div",7),i.DNE(9,E,4,1,"div",8),i.k0s()(),i.j41(10,"div",9)(11,"button",10),i.bIt("click",function(){return f.closeModal()}),i.EFF(12,"Close"),i.k0s(),i.j41(13,"button",11),i.bIt("click",function(){return f.onSubmit()}),i.EFF(14),i.k0s()()()()(),i.nrm(15,"div",12)),2&u&&(i.R7$(7),i.Y8G("ngIf",f.show_form),i.R7$(2),i.Y8G("ngIf",!f.show_form),i.R7$(4),i.Y8G("disabled",f.is_saving||f.referralForm.invalid),i.R7$(),i.SpI(" ",f.is_saving?"Saving":"Save"," "))},dependencies:[m.MD,m.Sq,m.bT,r.X1,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.j4,r.JD,g.dX,g.aY],encapsulation:2})}}return c})();function X(c,_){if(1&c){const o=i.RV6();i.j41(0,"app-referral-form",3),i.bIt("toggleModal",function(f){i.eBV(o);const h=i.XpG();return i.Njj(h.toggleModal(f))}),i.k0s()}}let O=(()=>{class c{constructor(){this.faBuildingCircleArrowRight=x.PHx,this.modals=[]}toggleModal(o){this.modals[o]=!this.modals[o]}static{this.\u0275fac=function(u){return new(u||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-referral"]],decls:3,vars:2,consts:[[1,"text-white","pr-2","pl-3","py-2","rounded-md","bg-orange-500",3,"click"],[3,"icon"],[3,"toggleModal",4,"ngIf"],[3,"toggleModal"]],template:function(u,f){1&u&&(i.j41(0,"button",0),i.bIt("click",function(){return f.toggleModal("referral-modal")}),i.nrm(1,"fa-icon",1),i.k0s(),i.DNE(2,X,1,0,"app-referral-form",2)),2&u&&(i.R7$(),i.Y8G("icon",f.faBuildingCircleArrowRight),i.R7$(),i.Y8G("ngIf",f.modals["referral-modal"]))},dependencies:[P,g.dX,g.aY,m.MD,m.bT],encapsulation:2})}}return c})()}}]);