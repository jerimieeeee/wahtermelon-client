<div class="grid grid-cols-1 w-full">
  <div class="flex justify-between w-full text-blue-500 font-semibold text-lg  p-3" >
    <span>FHSIS Report - Environmental and Sanitation</span>
    <span>
      <!-- <fa-icon *ngIf="exporting" [icon]="faCircleNotch" animation="spin" class="text-blue-500 text-sm mr-3">Exporting...</fa-icon> -->
      <button [disabled]="pdf_exported" type="button" class="text-2xl mr-5 text-red-600 disabled:text-gray-600" (click)="exportP()">
        <fa-icon [icon]="faFilePdf"></fa-icon>
      </button>
      <button  type="button" class="text-2xl" (click)="exportX()">
        <fa-icon [icon]="faFileExcel" class="text-green-700"></fa-icon>
      </button>
    </span>
  </div>
  <div class="flex flex-col pb-5">
    <div class="sm:-mx-6 lg:-mx-8">
      <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
        <div class="">
          <table *ngIf="show_stats" class="min-w-full border select-none" id="reportForm">
            <thead class="border-b">
              <tr>
                <th colspan="1" class="text-sm font-medium text-gray-900 px-6 py-4 border">
                  <img src="./assets/img/DOH_Logo.png" class="rounded-full w-28 h-28 mx-auto" />
                </th>
                <th colspan="3" class="text-sm font-medium text-gray-900 px-6 py-4 border text-left align-top">
                  FHSIS Report for<span *ngIf="label_value.labelType === 'm1'"> the Month</span>: {{ label_value.labelDate }} <br />
                  Name of Barangay: {{ brgy_result ? this.brgy_result : '-' }} <br />
                  Name of Facility: <span class="capitalize"> {{ facility.facility_name }} </span> <br />
                  Name of Municipality/City: {{ facility.municipality.name }} <br />
                  Name of Province: {{ facility.province.name }} <br />
                  Projected Population for the Year: {{ label_value.labelPopulation }} <br />
                  Year: {{ label_value.labelYear }}
                </th>
                <!-- <th class="relative text-sm w-2/12 font-medium text-gray-900 px-6 py-4 border align-top text-left">
                    Year: {{this.reportform_data.value.year}}
                </th> -->
                <th scope="col" colspan="3" class="text-8xl tracking-tighter font-bold text-gray-900 px-6 py-4 border text-center">
                  {{ label_value.labelType ?? 'M1' }}
                </th>
              </tr>
              <tr class="text-center sticky top-0 bg-gray-200">
                <th colspan="6" class="text-sm font-semibold text-gray-900 px-6 py-4 border-r">
                  SECTION G. ENVIRONMENTAL HEALTH AND SANITATION SERVICES
                </th>
              </tr>
              <tr>
                <th class="w-3/12">
                  Indicators <br />
                  <span class="text-sm font-normal">(col. 1)</span>
                </th>
                <th class="w-1/12">
                  Total <br />
                  <span class="text-sm font-normal">(col. 2)</span>
                </th>
                <th class="w-2/12">
                  Remarks <br />
                  <span class="text-sm font-normal">(col. 3)</span>
                </th>
                <th class="w-3/12">
                  Indicators <br />
                  <span class="text-sm font-normal">(col. 1)</span>
                </th>
                <th class="w-1/12">
                  Total <br />
                  <span class="text-sm font-normal">(col. 2)</span>
                </th>
                <th class="w-2/12">
                  Remarks <br />
                  <span class="text-sm font-normal">(col. 3)</span>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>

              </tr>
              <tr>
                <td class="p-5 border text-sm">1. No. of HHs w/ access to basic safe water supply - Total</td>
                <td class="pr-2 text-center">{{ countObject(stats.water_level_all) }}</td>
                <td></td>
                <td class="p-5 border text-sm" rowspan="2">4. No. of HHs using managed sanitation services - Total</td>
                <td class="pr-2 text-center" rowspan="2">{{ countObject(stats.safety_managed_sanitation) }}</td>
                <td rowspan="2"></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">a. No of HHs with Level I - Total</td>
                <td class="pr-2 text-center">{{ countObject(stats.water_level1) }}</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">b. No of HHs with Level II - Total</td>
                <td class="pr-2 text-center">{{ countObject(stats.water_level2)}}</td>
                <td></td>
                <td class="p-5 border text-sm">5. No. of HHs with satisfaction solid waste management - Total</td>
                <td class="pr-2 text-center">{{ countObject(stats.satisfaction_solid_waste_management)}}</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">c. No of HHs with Level III - Total</td>
                <td class="pr-2 text-center">{{ countObject(stats.water_level3)}}</td>
                <td></td>
                <td class="p-5 border text-sm text-center">6. No. of HHs with complete sanitation facilities - Total</td>
                <td class="text-center pr-2 ">{{ countObject(stats.complete_sanitation_facilities)}}</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm">2. No of HHs using the safety managed drinking-water services - Total</td>
                <td class="text-center pr-2">{{ countObject(stats.safety_managed_water)}}</td>
                <td></td>
                <td class="p-5 border text-sm">7. Total number of Industrial Establishment</td>
                <td class="p-5 border text-sm text-center">-</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm">3. No of HHs with Basic Sanitation facility - Total</td>
                <td class="text-center pr-2">{{ countObject(stats.basic_sanitation_toilet_all)}}</td>
                <td></td>
                <td class="p-5 border text-sm">8. No. of Industrial Establishment issued with sanitary permit</td>
                <td class="p-5 border text-center">-</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">a. No. of HH with pour/flush toilet connected to septic tank - Total</td>
                <td class="text-center pr-2">{{ countObject(stats.basic_sanitation_toilet_a)}}</td>
                <td></td>
                <td class="p-5 border text-sm">9. Total number of Food Establishment</td>
                <td class="p-5 border text-center">-</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">b. No. of HHs with pour/flush toilet connected to community
                  sewer/sewerage system or any other approved treatment system - Total
                </td>
                <td class="text-center pr-2">{{ countObject(stats.basic_sanitation_toilet_b)}}</td>
                <td></td>
                <td class="p-5 border text-sm">10. No. of Food Establishment issued with sanitary permit</td>
                <td class="p-5 border text-center">-</td>
                <td></td>
              </tr>

              <tr>
                <td class="p-5 border text-sm pl-16">c. No. of HHs with ventilated improved of pit atrine (VIP) - Total</td>
                <td class="text-center pr-2">{{ countObject(stats.basic_sanitation_toilet_c)}}</td>
                <td></td>
                <td class="p-5 border text-sm">11. No. of Barangays declared ZOD</td>
                <td class="text-center pr-2">{{ countObject(stats.zod_barangays)}}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


<app-name-list *ngIf="openList" (toggleModal)="toggleModal()" [name_list]="name_list"></app-name-list>
