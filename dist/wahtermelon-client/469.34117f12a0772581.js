"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[469],{1469:(At,h,d)=>{d.r(h),d.d(h,{PatientRegistrationModule:()=>ct,options:()=>dt});var m=d(6814),u=d(3602),r=d(6223),c=d(590),Z=d(1449),q=d(6743),C=d(9315),e=d(5879),b=d(265),v=d(5597),y=d(8839);function w(i,n){1&i&&(e.TgZ(0,"tr")(1,"th",20),e._uU(2,"No records found."),e.qZA()())}function T(i,n){if(1&i&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.HOy(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," ")}}function A(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",21)(1,"th",22),e._uU(2),e.qZA(),e.TgZ(3,"td",23),e.YNc(4,T,2,4,"span",24),e.qZA(),e.TgZ(5,"td",25)(6,"button",26),e.NdJ("click",function(){const l=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.selectFolder(l))}),e._UZ(7,"fa-icon",27),e._uU(8," Select Folder "),e.qZA()()()}if(2&i){const t=n.$implicit,o=e.oxw();e.xp6(2),e.HOy(" ",t.address,", ","Brgy. "+t.barangay.name,", ",t.barangay.municipality.name,", ",t.barangay.province.name," "),e.xp6(2),e.Q6J("ngForOf",t.household_member),e.xp6(3),e.Q6J("icon",o.faCheck)}}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"nav",33)(2,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchFamily(1))}),e._UZ(3,"fa-icon",35),e.qZA(),e.TgZ(4,"button",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchFamily(a.current_page-1))}),e._UZ(5,"fa-icon",35),e._uU(6,"Previous "),e.qZA(),e.TgZ(7,"button",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchFamily(a.current_page+1))}),e._uU(8," Next"),e._UZ(9,"fa-icon",37),e.qZA(),e.TgZ(10,"button",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchFamily(a.last_page))}),e._UZ(11,"fa-icon",37),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faAnglesLeft),e.xp6(1),e.Q6J("disabled",1===t.current_page),e.xp6(1),e.Q6J("icon",t.faChevronLeft),e.xp6(2),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(2),e.Q6J("icon",t.faChevronRight),e.xp6(1),e.Q6J("disabled",t.current_page===t.last_page),e.xp6(1),e.Q6J("icon",t.faAnglesRight)}}function N(i,n){if(1&i&&(e.TgZ(0,"div")(1,"div",29)(2,"div",30)(3,"div")(4,"p",31),e._uU(5," Showing "),e.TgZ(6,"span",32),e._uU(7),e.qZA(),e._uU(8," to "),e.TgZ(9,"span",32),e._uU(10),e.qZA(),e._uU(11," of "),e.TgZ(12,"span",32),e._uU(13),e.qZA(),e._uU(14," results "),e.qZA()(),e.YNc(15,J,12,8,"div",14),e.qZA()()()),2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.from),e.xp6(3),e.Oqu(t.to),e.xp6(3),e.Oqu(t.total),e.xp6(2),e.Q6J("ngIf",t.total>=2)}}let Q=(()=>{var i;class n{searchFamily(o){this.http.get("households/household-folders",{params:{"filter[search]":this.search_item,page:o||this.current_page,per_page:this.per_page,include:"barangay"}}).subscribe({next:a=>{this.family_list=a.data,this.current_page=a.meta.current_page,this.last_page=a.meta.last_page,this.from=a.meta.from,this.to=a.meta.to,this.total=a.meta.total},error:a=>console.log(a)})}selectFolder(o){this.transaction.emit({type:"select",data:o}),this.closeModal()}closeModal(){this.toggleModal.emit("family-folder-moodal")}createNewFolder(){this.transaction.emit({type:"new"}),this.closeModal()}constructor(o){this.http=o,this.toggleModal=new e.vpe,this.transaction=new e.vpe,this.faSearch=c.wn1,this.faCheck=c.LEp,this.faAnglesLeft=c._Wx,this.faChevronLeft=c.A35,this.faChevronRight=c._tD,this.faAnglesRight=c.ccb,this.per_page=10}ngOnInit(){this.last_name&&(this.search_item=this.last_name,this.searchFamily())}}return(i=n).\u0275fac=function(o){return new(o||i)(e.Y36(b.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-family-folder-modal"]],inputs:{last_name:"last_name"},outputs:{toggleModal:"toggleModal",transaction:"transaction"},decls:31,vars:5,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-6xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500"],[1,"mt-2","text-sm","font-bold","text-white"],[1,"bg-white","border","border-gray-400","rounded-md"],["type","text","placeholder","Search family",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"w-full","text-sm","text-left","text-gray-500","table-fixed"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-6"],["scope","col",1,"py-3","px-6","w-48","text-center"],[4,"ngIf"],["class","bg-white border-b",4,"ngFor","ngForOf"],[1,"flex","justify-between","py-4","px-5","space-x-4","rounded-b","border-t","borde","r-gray-200"],["type","button",1,"text-white","bg-red-500","hover:ring-2","focus:outline-none","hover:ring-red-300","rounded","text-sm","font-medium","px-6","py-2.5","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],["type","button",1,"text-white","bg-blue-500","hover:ring-2","focus:outline-none","hover:ring-blue-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out","transform","hover:scale-110",3,"click"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],["colspan","3",1,"italic","text-center"],[1,"bg-white","border-b"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],["class","block",4,"ngFor","ngForOf"],[1,"py-4","px-6","text-center"],["type","button",1,"bg-green-500","text-white","px-3","py-2","rounded-full",3,"click"],[1,"mx-0","my-0","mr-2",3,"icon"],[1,"block"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"disabled","click"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Search Family Folder "),e.qZA(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(f){return a.search_item=f})("keyup.enter",function(){return a.searchFamily()}),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return a.searchFamily()}),e._UZ(9,"fa-icon",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),e._uU(15,"Address"),e.qZA(),e.TgZ(16,"th",12),e._uU(17,"Members"),e.qZA(),e.TgZ(18,"th",13),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,w,3,0,"tr",14),e.YNc(22,A,9,6,"tr",15),e.qZA()()(),e.TgZ(23,"div",16),e.YNc(24,N,16,4,"div",14),e.TgZ(25,"div")(26,"button",17),e.NdJ("click",function(){return a.closeModal()}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return a.createNewFolder()}),e._uU(29,"New"),e.qZA()()()()()(),e._UZ(30,"div",19)),2&o&&(e.xp6(7),e.Q6J("ngModel",a.search_item),e.xp6(2),e.Q6J("icon",a.faSearch),e.xp6(12),e.Q6J("ngIf",0===(null==a.family_list?null:a.family_list.length)),e.xp6(1),e.Q6J("ngForOf",a.family_list),e.xp6(2),e.Q6J("ngIf",a.total>=1))},dependencies:[m.sg,m.O5,r.Fj,r.JJ,r.On,v.BN]}),n})();function I(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e._UZ(3,"fa-icon",11),e.qZA(),e.TgZ(4,"div",12),e._uU(5," Loading libraries... "),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("icon",t.faCircleNotch)}}function F(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function U(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function R(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,F,2,1,"div",7),e.YNc(2,U,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.last_name.errors?null:t.f.last_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.last_name.errors?null:t.f.last_name.errors.minlength)}}function P(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function k(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function M(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,P,2,1,"div",7),e.YNc(2,k,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.first_name.errors?null:t.f.first_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.first_name.errors?null:t.f.first_name.errors.minlength)}}function Y(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function K(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function V(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,Y,2,1,"div",7),e.YNc(2,K,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.middle_name.errors?null:t.f.middle_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.middle_name.errors?null:t.f.middle_name.errors.minlength)}}function O(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.suffix_desc)}}function j(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function S(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,j,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.gender.errors?null:t.f.gender.errors.required)}}function D(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.status_desc)}}function H(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function E(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,H,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.civil_status_code.errors?null:t.f.civil_status_code.errors.required)}}function G(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.code)}}function B(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function L(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,B,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.blood_type_code.errors?null:t.f.blood_type_code.errors.required)}}function $(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function z(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,$,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.birthdate.errors?null:t.f.birthdate.errors.required)}}function W(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function X(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,W,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.mobile_number.errors?null:t.f.mobile_number.errors.required)}}function ee(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function te(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function ie(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,ee,2,1,"div",7),e.YNc(2,te,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.mothers_name.errors?null:t.f.mothers_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.mothers_name.errors?null:t.f.mothers_name.errors.minlength)}}function ne(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.education_desc)}}function oe(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ae(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,oe,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.education_code.errors?null:t.f.education_code.errors.required)}}function re(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.religion_desc)}}function se(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function _e(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,se,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.religion_code.errors?null:t.f.religion_code.errors.required)}}function le(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.occupation_desc)}}function de(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ce(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,de,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.occupation_code.errors?null:t.f.occupation_code.errors.required)}}function fe(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function me(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,fe,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.indegenous_flag.errors?null:t.f.indegenous_flag.errors.required)}}function pe(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.type_desc)}}function ge(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function ue(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,ge,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.pwd_type_code.errors?null:t.f.pwd_type_code.errors.required)}}function ve(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.isDisabled(!!a.f.family.enabled,"edit_folder"))}),e._UZ(1,"fa-icon",66),e._uU(2),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("icon",t.faPenToSquare),e.xp6(1),e.hij(" ",t.f.family.enabled?"Cancel":"Edit"," ")}}function xe(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.HOy(" ",t.patient.last_name,", ",t.patient.first_name," ","NA"===t.patient.middle_name?"":t.patient.middle_name," ","NA"===t.patient.suffix_name?"":t.patient.suffix_name," ")}}function he(i,n){if(1&i&&(e.TgZ(0,"div",80)(1,"div",81)(2,"span",82),e._uU(3,"Selected Folder "),e.qZA(),e._UZ(4,"br"),e._uU(5),e.qZA(),e.TgZ(6,"div",83)(7,"span",82),e._uU(8,"Family Members"),e.qZA(),e.YNc(9,xe,2,4,"span",84),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(5),e.hij(" ",t.selected_folder," "),e.xp6(4),e.Q6J("ngForOf",t.selected_members)}}function be(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function ye(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Ze(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,ye,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.region.errors?null:t.f.family.controls.region.errors.required)}}const s=function(i){return{"text-red-500":i}},_=function(i){return{"invalid-input":i}};function qe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",85),e._uU(2,"Region"),e.qZA(),e.TgZ(3,"select",86),e.NdJ("change",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.loadDemog("regions",a.patientForm.value.family.region,"provinces"))}),e.YNc(4,be,2,2,"option",35),e.qZA(),e.YNc(5,Ze,2,1,"div",28),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(4,s,t.is_saving&&t.f.family.controls.region.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,_,t.is_saving&&t.f.family.controls.region.errors)),e.xp6(1),e.Q6J("ngForOf",t.regions),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.region.errors)}}function Ce(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function we(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Te(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,we,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.province.errors?null:t.f.family.controls.province.errors.required)}}function Ae(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",87),e._uU(2,"Province"),e.qZA(),e.TgZ(3,"select",88),e.NdJ("change",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.loadDemog("provinces",a.patientForm.value.family.province,"municipalities"))}),e.YNc(4,Ce,2,2,"option",35),e.qZA(),e.YNc(5,Te,2,1,"div",28),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(4,s,t.is_saving&&t.f.family.controls.province.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,_,t.is_saving&&t.f.family.controls.province.errors)),e.xp6(1),e.Q6J("ngForOf",t.provinces),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.province.errors)}}function Je(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Ne(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Qe(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,Ne,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.municipality.errors?null:t.f.family.controls.municipality.errors.required)}}function Ie(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",89),e._uU(2,"Municipality/City"),e.qZA(),e.TgZ(3,"select",90),e.NdJ("change",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.loadDemog("municipalities",a.patientForm.value.family.municipality,"barangays"))}),e.YNc(4,Je,2,2,"option",35),e.qZA(),e.YNc(5,Qe,2,1,"div",28),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(4,s,t.is_saving&&t.f.family.controls.municipality.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,_,t.is_saving&&t.f.family.controls.municipality.errors)),e.xp6(1),e.Q6J("ngForOf",t.municipalities),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.municipality.errors)}}function Fe(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Ue(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Re(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,Ue,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.brgy.errors?null:t.f.family.controls.brgy.errors.required)}}function Pe(i,n){if(1&i&&(e.TgZ(0,"div",25)(1,"label",91),e._uU(2,"Brgy"),e.qZA(),e.TgZ(3,"select",92),e.YNc(4,Fe,2,2,"option",35),e.qZA(),e.YNc(5,Re,2,1,"div",28),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(4,s,t.is_saving&&t.f.family.controls.brgy.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,_,t.is_saving&&t.f.family.controls.brgy.errors)),e.xp6(1),e.Q6J("ngForOf",t.barangays),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.brgy.errors)}}function ke(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Me(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function Ye(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,ke,2,1,"div",7),e.YNc(2,Me,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.address.errors?null:t.f.family.controls.address.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.address.errors?null:t.f.family.controls.address.errors.minlength)}}function Ke(i,n){if(1&i&&(e.TgZ(0,"div",25)(1,"label",93),e._uU(2,"Address"),e.qZA(),e._UZ(3,"input",94),e.YNc(4,Ye,3,2,"div",28),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(3,s,t.is_saving&&t.f.family.controls.address.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,_,t.is_saving&&t.f.family.controls.address.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.address.errors)}}function Ve(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.required_message," ")}}function Oe(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,Ve,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.is_head.errors?null:t.f.family.controls.is_head.errors.required)}}function je(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Se(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,je,2,1,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.cct_id.errors?null:t.f.family.controls.cct_id.errors.required)}}function De(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",71)(1,"label",95),e._uU(2,"CCT ID "),e.TgZ(3,"span",96),e._uU(4,"(optional)"),e.qZA()(),e.TgZ(5,"input",97),e.NdJ("keyup",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.enableCctDate())}),e.qZA(),e.YNc(6,Se,2,1,"div",28),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(3,s,t.is_saving&&t.f.family.controls.cct_id.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(5,_,t.is_saving&&t.f.family.controls.cct_id.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.cct_id.errors)}}function He(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.required_message," ")}}function Ee(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Minimum of 2 character. "),e.qZA())}function Ge(i,n){if(1&i&&(e.TgZ(0,"div",77),e.YNc(1,He,2,1,"div",7),e.YNc(2,Ee,2,0,"div",7),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.cct_date.errors?null:t.f.family.controls.cct_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.family.controls.cct_date.errors?null:t.f.family.controls.cct_date.errors.minlength)}}function Be(i,n){if(1&i&&(e.TgZ(0,"div",25)(1,"label",98),e._uU(2,"CCT Registration date"),e.qZA(),e._UZ(3,"input",99),e.YNc(4,Ge,3,2,"div",28),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(3,s,t.is_saving&&t.f.family.controls.cct_date.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,_,t.is_saving&&t.f.family.controls.cct_date.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.cct_date.errors)}}function Le(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",16)(2,"div",22)(3,"span",23),e._uU(4,"Basic Information"),e.qZA()()(),e.TgZ(5,"div",24)(6,"div",25)(7,"label",26),e._uU(8,"Last name"),e.qZA(),e._UZ(9,"input",27),e.YNc(10,R,3,2,"div",28),e.qZA(),e.TgZ(11,"div",25)(12,"label",29),e._uU(13,"First name"),e.qZA(),e._UZ(14,"input",30),e.YNc(15,M,3,2,"div",28),e.qZA(),e.TgZ(16,"div",25)(17,"label",31),e._uU(18,"Middle name (optional)"),e.qZA(),e._UZ(19,"input",32),e.YNc(20,V,3,2,"div",28),e.qZA(),e.TgZ(21,"div",25)(22,"label",33),e._uU(23,"Suffix Name"),e.qZA(),e.TgZ(24,"select",34),e.YNc(25,O,2,2,"option",35),e.qZA()(),e.TgZ(26,"div",25)(27,"label",36),e._uU(28,"Sex"),e.qZA(),e.TgZ(29,"select",37)(30,"option",38),e._uU(31,"Male"),e.qZA(),e.TgZ(32,"option",39),e._uU(33,"Female"),e.qZA(),e.TgZ(34,"option",40),e._uU(35,"Intersex"),e.qZA()(),e.YNc(36,S,2,1,"div",28),e.qZA(),e.TgZ(37,"div",25)(38,"label",41),e._uU(39,"Civil Status"),e.qZA(),e.TgZ(40,"select",42),e.YNc(41,D,2,2,"option",35),e.qZA(),e.YNc(42,E,2,1,"div",28),e.qZA(),e.TgZ(43,"div",25)(44,"label",43),e._uU(45,"Blood Type"),e.qZA(),e.TgZ(46,"select",44),e.YNc(47,G,2,2,"option",35),e.qZA(),e.YNc(48,L,2,1,"div",28),e.qZA(),e.TgZ(49,"div",25)(50,"label",45),e._uU(51,"Birthdate"),e.qZA(),e._UZ(52,"input",46),e.ALo(53,"date"),e.YNc(54,z,2,1,"div",28),e.qZA(),e.TgZ(55,"div",25)(56,"label",47),e._uU(57,"Mobile Number"),e.qZA(),e._UZ(58,"input",48),e.YNc(59,X,2,1,"div",28),e.qZA(),e.TgZ(60,"div",25)(61,"label",49),e._uU(62,"Mothers Maiden Name"),e.qZA(),e._UZ(63,"input",50),e.YNc(64,ie,3,2,"div",28),e.qZA(),e.TgZ(65,"div",25)(66,"label",51),e._uU(67,"Education"),e.qZA(),e.TgZ(68,"select",52),e.YNc(69,ne,2,2,"option",35),e.qZA(),e.YNc(70,ae,2,1,"div",28),e.qZA(),e.TgZ(71,"div",25)(72,"label",53),e._uU(73,"Religion"),e.qZA(),e.TgZ(74,"select",54),e.YNc(75,re,2,2,"option",35),e.qZA(),e.YNc(76,_e,2,1,"div",28),e.qZA(),e.TgZ(77,"div",25)(78,"label",55),e._uU(79,"Occupation"),e.qZA(),e.TgZ(80,"select",56),e.YNc(81,le,2,2,"option",35),e.qZA(),e.YNc(82,ce,2,1,"div",28),e.qZA(),e.TgZ(83,"div",25)(84,"label",57),e._uU(85,"Indigenous People"),e.qZA(),e.TgZ(86,"select",58)(87,"option",59),e._uU(88,"N"),e.qZA(),e.TgZ(89,"option",59),e._uU(90,"Y"),e.qZA()(),e.YNc(91,me,2,1,"div",28),e.qZA(),e.TgZ(92,"div",25)(93,"label",60),e._uU(94,"Person with Disabililties"),e.qZA(),e.TgZ(95,"select",61),e.YNc(96,pe,2,2,"option",35),e.qZA(),e.YNc(97,ue,2,1,"div",28),e.qZA()(),e.TgZ(98,"div",62),e._UZ(99,"div",63),e.TgZ(100,"div",22)(101,"span",64),e._uU(102,"Address Information"),e.qZA(),e.TgZ(103,"button",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleModal("family-folder-modal"))}),e._UZ(104,"fa-icon",66),e._uU(105," Search "),e.qZA(),e.YNc(106,ve,3,2,"button",67),e.qZA()(),e.TgZ(107,"div",68),e.YNc(108,he,10,2,"div",69),e.YNc(109,qe,6,8,"div",70),e.YNc(110,Ae,6,8,"div",70),e.YNc(111,Ie,6,8,"div",70),e.YNc(112,Pe,6,8,"div",70),e.YNc(113,Ke,5,7,"div",70),e.TgZ(114,"div",71)(115,"label",72),e._uU(116,"Family Role"),e.qZA(),e.TgZ(117,"select",73)(118,"option",74),e._uU(119,"Member"),e.qZA(),e.TgZ(120,"option",75),e._uU(121,"Head"),e.qZA()(),e.YNc(122,Oe,2,1,"div",28),e.qZA(),e.YNc(123,De,7,7,"div",76),e.YNc(124,Be,5,7,"div",70),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("ngClass",e.VKq(69,s,t.is_saving&&t.f.last_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(71,_,t.is_saving&&t.f.last_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.last_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(73,s,t.is_saving&&t.f.first_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(75,_,t.is_saving&&t.f.first_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.first_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(77,s,t.is_saving&&t.f.middle_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(79,_,t.is_saving&&t.f.middle_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.middle_name.errors),e.xp6(5),e.Q6J("ngForOf",t.suffix_names),e.xp6(2),e.Q6J("ngClass",e.VKq(81,s,t.is_saving&&t.f.gender.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(83,_,t.is_saving&&t.f.gender.errors)),e.xp6(7),e.Q6J("ngIf",t.is_saving&&t.f.gender.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(85,s,t.is_saving&&t.f.civil_status_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(87,_,t.is_saving&&t.f.civil_status_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.civil_statuses),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.civil_status_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(89,s,t.is_saving&&t.f.blood_type_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(91,_,t.is_saving&&t.f.blood_type_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.blood_types),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.blood_type_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(93,s,t.is_saving&&t.f.birthdate.errors)),e.xp6(2),e.s9C("max",e.xi3(53,66,t.date,"yyyy-MM-dd")),e.Q6J("ngClass",e.VKq(95,_,t.is_saving&&t.f.birthdate.errors)),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.f.birthdate.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(97,s,t.is_saving&&t.f.mobile_number.errors)),e.xp6(2),e.Q6J("showMaskTyped",!0)("ngClass",e.VKq(99,_,t.is_saving&&t.f.mobile_number.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.mobile_number.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(101,s,t.is_saving&&t.f.mothers_name.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(103,_,t.is_saving&&t.f.mothers_name.errors)),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.mothers_name.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(105,s,t.is_saving&&t.f.education_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(107,_,t.is_saving&&t.f.education_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.educations),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.education_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(109,s,t.is_saving&&t.f.religion_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(111,_,t.is_saving&&t.f.religion_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.religions),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.religion_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(113,s,t.is_saving&&t.f.occupation_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(115,_,t.is_saving&&t.f.occupation_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.occupations),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.occupation_code.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(117,s,t.is_saving&&t.f.indegenous_flag.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(119,_,t.is_saving&&t.f.indegenous_flag.errors)),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngIf",t.is_saving&&t.f.indegenous_flag.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(121,s,t.is_saving&&t.f.pwd_type_code.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(123,_,t.is_saving&&t.f.pwd_type_code.errors)),e.xp6(1),e.Q6J("ngForOf",t.pwd_types),e.xp6(1),e.Q6J("ngIf",t.is_saving&&t.f.pwd_type_code.errors),e.xp6(7),e.Q6J("icon",t.faSearch),e.xp6(2),e.Q6J("ngIf",t.show_edit),e.xp6(2),e.Q6J("ngIf",!t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(2),e.Q6J("ngClass",e.VKq(125,s,t.is_saving&&t.f.family.controls.is_head.errors)),e.xp6(2),e.Q6J("ngClass",e.VKq(127,_,t.is_saving&&t.f.family.controls.is_head.errors)),e.xp6(5),e.Q6J("ngIf",t.is_saving&&t.f.family.controls.is_head.errors),e.xp6(1),e.Q6J("ngIf",t.show_demog_input),e.xp6(1),e.Q6J("ngIf",t.show_cct_date)}}function $e(i,n){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.value)}}function ze(i,n){if(1&i&&(e.TgZ(0,"div",100)(1,"div",101)(2,"ul",102),e.YNc(3,$e,2,1,"li",84),e.ALo(4,"keyvalue"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.submit_errors))}}function We(i,n){if(1&i&&e._UZ(0,"fa-icon",107),2&i){const t=e.oxw(3);e.Q6J("icon",t.faSpinner)("spin",!0)}}function Xe(i,n){if(1&i&&e._UZ(0,"fa-icon",108),2&i){const t=e.oxw(3);e.Q6J("icon",t.faSave)}}function et(i,n){if(1&i&&(e.TgZ(0,"div",103)(1,"button",104),e.YNc(2,We,1,2,"fa-icon",105),e.YNc(3,Xe,1,1,"fa-icon",106),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.loading||t.patientForm.invalid||t.disable_save),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.hij(" ",t.loading?"Save"===t.button_function?"Saving":"Updating":t.button_function," ")}}function tt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmit())}),e.TgZ(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),e._UZ(5,"input",18),e.TgZ(6,"label",19),e._uU(7," The patient has read, fully understood, and signed the patient consent form. "),e.qZA()()(),e.YNc(8,Le,125,129,"div",7),e.qZA(),e.YNc(9,ze,5,3,"div",20),e.YNc(10,et,5,4,"div",21),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.patientForm),e.xp6(6),e.Q6J("ngClass",e.VKq(5,s,t.is_saving&&t.f.consent_flag.errors)),e.xp6(2),e.Q6J("ngIf",!0===t.patientForm.value.consent_flag),e.xp6(1),e.Q6J("ngIf",t.submit_errors),e.xp6(1),e.Q6J("ngIf",!0===t.patientForm.value.consent_flag)}}function it(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.newPatient())}),e._UZ(1,"fa-icon",108),e._uU(2,"Back to home page "),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faHome)}}function nt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.proceedItr())}),e._UZ(1,"fa-icon",108),e._uU(2,"Open ITR "),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faClipboard)}}function ot(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleModal("save-modal"))}),e._uU(1," Ok "),e.qZA()}}function at(i,n){if(1&i&&(e.TgZ(0,"div",109)(1,"div",110)(2,"div",111)(3,"div",112)(4,"span"),e._uU(5,"Record was saved/updated succesfully."),e.qZA()(),e.TgZ(6,"div",113),e.YNc(7,it,3,1,"button",114),e.YNc(8,nt,3,1,"button",115),e.YNc(9,ot,2,0,"button",114),e.qZA()()()()),2&i){const t=e.oxw();e.Q6J("@myInsertRemoveTrigger",void 0),e.xp6(7),e.Q6J("ngIf",!t.patient_to_update),e.xp6(1),e.Q6J("ngIf",!t.patient_to_update),e.xp6(1),e.Q6J("ngIf",t.patient_to_update)}}function rt(i,n){1&i&&e._UZ(0,"div",118)}function st(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-family-folder-modal",119),e.NdJ("toggleModal",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("family-folder-modal"))})("transaction",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.transaction(a))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("last_name",t.patientForm.value.last_name)}}const _t=[{path:"",component:(()=>{var i;class n{constructor(o,a,l){this.http=o,this.formBuilder=a,this.router=l,this.faSpinner=c.LM3,this.faClipboard=Z.Yjj,this.faFolderPlus=c.x58,this.faSave=c.r6l,this.faSearch=c.wn1,this.faPenToSquare=c.Yai,this.faHome=c.J9Y,this.faCircleNotch=c.IJ7,this.required_message="Required field",this.button_function="Save",this.patientForm=new r.cw({last_name:new r.NI(""),first_name:new r.NI(""),middle_name:new r.NI(""),suffix_name:new r.NI(""),birthdate:new r.NI(""),mothers_name:new r.NI(""),gender:new r.NI(""),mobile_number:new r.NI(""),pwd_type_code:new r.NI(""),indegenous_flag:new r.NI(!1),blood_type_code:new r.NI(""),religion_code:new r.NI(""),occupation_code:new r.NI(""),education_code:new r.NI(""),civil_status_code:new r.NI(""),consent_flag:new r.NI(!1),user_id:new r.NI(""),facility_code:new r.NI(""),family:new r.cw({region:new r.NI(""),province:new r.NI(""),municipality:new r.NI(""),brgy:new r.NI(""),address:new r.NI(""),cct_id:new r.NI(""),cct_date:new r.NI(""),is_head:new r.NI(""),residence_classification_code:new r.NI("")}),difficulty_seeing:new r.NI(""),difficulty_hearing:new r.NI(""),difficulty_walking:new r.NI(""),difficulty_remembering:new r.NI(""),difficulty_self_care:new r.NI(""),difficulty_speaking:new r.NI("")}),this.showModal=!1,this.is_saving=!1,this.loading=!1,this.familyFolderModal=!1,this.show_form=!1,this.show_demog_input=!0,this.show_edit=!1,this.disable_save=!0,this.show_cct_date=!1,this.washington_required=!1}get f(){return this.patientForm.controls}controlName(o){switch(o){case 1:return"difficulty_seeing";case 2:return"difficulty_hearing";case 3:return"difficulty_walking";case 4:return"difficulty_remembering";case 5:return"difficulty_self_care";case 6:return"difficulty_speaking"}}onSubmit(){if(this.patientForm.controls.family.disable(),this.is_saving=!0,this.loading=!0,this.patientForm.invalid)this.loading=!1;else{let o;o="Update"===this.button_function?this.http.update("patient/",this.patient_to_update,this.patientForm.value):this.http.post("patient",this.patientForm.value),o.subscribe({next:a=>{this.new_patient_id="Update"===this.button_function?this.patient_to_update:a.data.id,this.saveFolder(this.new_patient_id)},error:a=>{console.log(a),this.loading=!1,this.submit_errors=a.error.errors},complete:()=>{}})}}saveFolder(o){let p,a=this.http.getUserID(),l=this.http.getUserFacility(),f={facility_code:this.show_demog_input?l:this.selected_facility,user_id:a,patient_id:o,address:this.show_demog_input?this.patientForm.controls.family.controls.address.value:this.selected_address,barangay_code:this.show_demog_input?this.patientForm.controls.family.controls.brgy.value:this.selected_barangay_code,cct_date:this.show_demog_input?this.patientForm.controls.family.controls.cct_date.value:this.selected_cct_date,cct_id:this.show_demog_input?this.patientForm.controls.family.controls.cct_id.value:this.selected_cct_id,family_role_code:this.patientForm.controls.family.controls.is_head.value,residence_classification_code:this.patientForm.controls.family.controls.residence_classification_code.value};this.show_demog_input&&!this.selected_family_folder?(f.status="new",p=this.http.post("households/household-folders",f)):p=this.http.update("households/household-folders/",this.selected_family_folder,f),p.subscribe({next:g=>{this.is_saving=!1,this.loading=!1,this.showModal=!0},error:g=>{this.loading=!1,this.submit_errors=g.error.errors}})}transaction(o){o.data&&(this.selected_folder=o.data.address+" Brgy. "+o.data.barangay.name+", "+o.data.barangay.municipality.name+", "+o.data.barangay.province.name),this.selected_family_folder=o.data?o.data.id:null,this.selected_barangay_code=o.data?o.data.barangay.code:null,this.selected_address=o.data?o.data.address:null,this.selected_cct_date=o.data?o.data.cct_date:null,this.selected_cct_id=o.data?o.data.cct_id:null,this.selected_facility=o.data?o.data.facility_code:null,this.selected_members=o.data?o.data.household_member:null,this.disable_save=!1,"new"===o.type?(this.isDisabled(!1),this.show_edit=!1,this.show_demog_input=!0):(this.show_edit=!1,this.patientForm.controls.family.controls.is_head.enable(),this.show_demog_input=!1),this.enableCctDate()}isDisabled(o,a){o?(this.patientForm.controls.family.disable(),"edit_folder"===a&&(this.selected_family_folder=null,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member))):(this.patientForm.controls.family.enable(),this.enableCctDate())}newPatient(){this.router.navigate(["/"])}proceedItr(){this.router.navigate(["/patient/itr",{id:this.new_patient_id}])}toggleModal(o){switch(o){case"family-folder-modal":this.familyFolderModal=!this.familyFolderModal;break;case"save-modal":this.showModal=!this.showModal}}loadDemog(o,a,l){"regions"==o?(this.municipalities=null,this.barangays=null):"provinces"==o&&(this.barangays=null),this.http.get("libraries/"+o+"/"+a,{params:{include:l,per_page:"all"}}).subscribe({next:f=>{this[l]=f.data[l]},error:f=>console.log(f)})}loadLibraries(){const o=this.http.get("libraries/blood-types"),a=this.http.get("libraries/suffix-names"),l=this.http.get("libraries/occupations"),f=this.http.get("libraries/civil-statuses"),p=this.http.get("libraries/education"),g=this.http.get("libraries/religions"),ft=this.http.get("libraries/regions",{params:{per_page:"all"}}),mt=this.http.get("libraries/pwd-types"),pt=this.http.get("libraries/washington-disability-question"),gt=this.http.get("libraries/washington-disability-answer"),ut=this.http.get("libraries/residence-classifications");(0,C.D)([o,a,l,f,p,g,ft,mt,pt,gt,ut]).subscribe({next:([x,vt,xt,ht,bt,yt,Zt,qt,Ct,wt,Tt])=>{this.blood_types=x.data,this.suffix_names=vt.data,this.occupations=xt.data,this.civil_statuses=ht.data,this.educations=bt.data,this.religions=yt.data,this.regions=Zt.data,this.pwd_types=qt.data,this.washington_questions=Ct.data,this.washington_answers=wt.data,this.residence_classifications=Tt.data,this.show_form=!0,"/edit-patient"===this.router.url.split(";")[0]?(this.show_edit=!0,this.loadPatient(this.router.url.split("=")[1])):(this.enableCctDate(),this.isDisabled(!0))},error:x=>console.log(x)})}loadPatient(o){this.http.get("patient/"+o).subscribe({next:a=>{this.patientForm.patchValue({...a.data}),this.patientForm.patchValue({birthdate:(0,m.p6)(a.data.birthdate,"yyyy-MM-dd","en","Asia/Manila")}),a.data.patientWashington&&this.patientForm.patchValue({difficulty_hearing:a.data.patientWashington.difficulty_hearing,difficulty_remembering:a.data.patientWashington.difficulty_remembering,difficulty_seeing:a.data.patientWashington.difficulty_seeing,difficulty_self_care:a.data.patientWashington.difficulty_self_care,difficulty_speaking:a.data.patientWashington.difficulty_speaking,difficulty_walking:a.data.patientWashington.difficulty_walking}),this.patient_to_update=a.data.id,this.button_function="Update",this.orig_data=a.data,this.patchAddress(this.orig_data.household_folder,this.orig_data.household_member),this.enableCctDate(),this.disable_save=!1},error:a=>console.log(a)})}patchAddress(o,a){o&&(this.patientForm.patchValue({family:{address:o.address}}),this.loadDemog("regions",o.barangay.region.code,"provinces"),this.patientForm.patchValue({family:{region:o.barangay.region.code}}),this.loadDemog("provinces",o.barangay.province.code,"municipalities"),this.patientForm.patchValue({family:{province:o.barangay.province.code}}),this.loadDemog("municipalities",o.barangay.municipality.code,"barangays"),this.patientForm.patchValue({family:{municipality:o.barangay.municipality.code}}),this.patientForm.patchValue({family:{brgy:o.barangay.code}}),this.patientForm.patchValue({family:{cct_id:o.cct_id}}),o.cct_id&&this.patientForm.patchValue({family:{cct_date:o.cct_date}}),this.patientForm.patchValue({family:{brgy:o.barangay.code}}),this.patientForm.patchValue({family:{is_head:a.family_role_code,residence_classification_code:o.residence_classification_code}}),this.selected_family_folder=o.id),this.isDisabled(!0)}enableCctDate(){this.f.family.controls.cct_id.value?(this.show_cct_date=!0,this.f.family.controls.cct_id.enabled?this.f.family.controls.cct_date.enable():this.f.family.controls.cct_date.disable()):(this.show_cct_date=!1,this.f.family.controls.cct_date.disable())}ngOnInit(){let o=this.http.getUserID(),a=this.http.getUserFacility();this.patientForm=this.formBuilder.nonNullable.group({facility_code:[a],user_id:[o],last_name:["",[r.kI.required,r.kI.minLength(2)]],first_name:["",[r.kI.required,r.kI.minLength(2)]],middle_name:[""],suffix_name:["NA"],birthdate:["",r.kI.required],mothers_name:["",[r.kI.required,r.kI.minLength(2)]],gender:["",r.kI.required],mobile_number:["",r.kI.required],pwd_type_code:["NA",r.kI.required],indegenous_flag:[!1],blood_type_code:["NA",r.kI.required],religion_code:["UNKNO",r.kI.required],occupation_code:["UNSP001",r.kI.required],education_code:["6",r.kI.required],civil_status_code:["",r.kI.required],consent_flag:[!1],family:this.formBuilder.group({region:["",r.kI.required],province:["",r.kI.required],municipality:["",r.kI.required],brgy:["",r.kI.required],address:["",[r.kI.required,r.kI.minLength(2)]],cct_id:["",[r.kI.minLength(2)]],cct_date:["",r.kI.required],is_head:["",[r.kI.required]],residence_classification_code:[null]}),difficulty_seeing:["",this.washington_required?r.kI.required:""],difficulty_hearing:["",this.washington_required?r.kI.required:""],difficulty_walking:["",this.washington_required?r.kI.required:""],difficulty_remembering:["",this.washington_required?r.kI.required:""],difficulty_self_care:["",this.washington_required?r.kI.required:""],difficulty_speaking:["",this.washington_required?r.kI.required:""]}),this.date=(new Date).toISOString().slice(0,10),this.loadLibraries()}}return(i=n).\u0275fac=function(o){return new(o||i)(e.Y36(b.O),e.Y36(r.qu),e.Y36(u.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-registration"]],decls:9,vars:5,consts:[[1,"mt-10","flex","justify-center","w-full"],[1,"w-5/6","bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","bg-blue-500","text-white","text-lg","p-3","font-semibold"],["class","shadow rounded-md p-4 m-5 w-5/6 mx-auto",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[4,"ngIf"],[1,"shadow","rounded-md","p-4","m-5","w-5/6","mx-auto"],[1,"grid","grid-cols-1","my-32"],[1,"flex","justify-center","text-blue-500"],["spin","true",3,"icon"],[1,"flex","justify-center"],[3,"formGroup","ngSubmit"],[1,"mx-10","mb-10"],[1,"px-4","py-5","bg-white","sm:p-6"],[1,"grid","grid-cols-8","gap-x-4","mb-3"],[1,"col-span-8","flex"],["type","checkbox","id","consent_flag","formControlName","consent_flag",1,"input-checkbox","mt-0.5"],["for","consent_flag",1,"input-label","ml-2",3,"ngClass"],["class","col-span-8 bg-red-200 rounded border border-red-300 text-red-900 text-sm mb-5",4,"ngIf"],["class","text-right",4,"ngIf"],[1,"col-span-8","font-semibold","text-blue-500"],[1,"-ml-5"],[1,"grid","grid-cols-8","gap-x-4","gap-y-6"],[1,"col-span-6","sm:col-span-2"],["for","last_name",1,"input-label",3,"ngClass"],["type","text","name","last_name","id","last_name","formControlName","last_name","required","",1,"input","capitalize",3,"ngClass"],["class","invalid-alert",4,"ngIf"],["for","first_name",1,"input-label",3,"ngClass"],["type","text","name","first_name","id","first_name","formControlName","first_name",1,"input","capitalize",3,"ngClass"],["for","middle_name",1,"input-label",3,"ngClass"],["type","text","name","middle_name","id","middle_name","formControlName","middle_name",1,"input","capitalize",3,"ngClass"],["for","suffix_name",1,"input-label"],["id","suffix_name","name","suffix_name","formControlName","suffix_name",1,"input"],[3,"value",4,"ngFor","ngForOf"],["for","gender",1,"input-label",3,"ngClass"],["id","gender","name","gender","formControlName","gender",1,"input",3,"ngClass"],["value","M"],["value","F"],["value","I"],["for","civil_status_code",1,"input-label",3,"ngClass"],["id","civil_status_code","name","civil_status_code","formControlName","civil_status_code",1,"input",3,"ngClass"],["for","blood_type_code",1,"input-label",3,"ngClass"],["id","blood_type_code","name","blood_type_code","formControlName","blood_type_code",1,"input",3,"ngClass"],["for","birthdate",1,"input-label",3,"ngClass"],["type","date","name","birthdate","id","birthdate","placeholder","mm/dd/yyyy","formControlName","birthdate",1,"input",3,"max","ngClass"],["for","mobile_number",1,"input-label",3,"ngClass"],["type","text","mask","(9999) 999-9999","name","mobile_number","id","mobile_number","formControlName","mobile_number",1,"input",3,"showMaskTyped","ngClass"],["for","mothers_name",1,"input-label",3,"ngClass"],["type","text","name","mothers_name","id","mothers_name","formControlName","mothers_name",1,"input",3,"ngClass"],["for","education_code",1,"input-label",3,"ngClass"],["id","education_code","name","education_code","formControlName","education_code",1,"input",3,"ngClass"],["for","religion_code",1,"input-label",3,"ngClass"],["id","religion_code","name","religion_code","formControlName","religion_code",1,"input",3,"ngClass"],["for","occupation_code",1,"input-label",3,"ngClass"],["id","occupation_code","name","occupation_code","formControlName","occupation_code",1,"input",3,"ngClass"],["for","indegenous_flag",1,"input-label",3,"ngClass"],["id","indegenous_flag","name","indegenous_flag","formControlName","indegenous_flag",1,"input",3,"ngClass"],[3,"ngValue"],["for","pwd_type_code",1,"input-label",3,"ngClass"],["id","pwd_type_code","name","pwd_type_code","formControlName","pwd_type_code",1,"input",3,"ngClass"],[1,"grid","grid-cols-8","gap-x-4","gap-y-4","pt-6"],[1,"col-span-8","border-b-2","border-slate-100"],[1,"-ml-5","mr-5"],["type","button",1,"col-span-8","w-24","rounded-md","text-white","bg-sky-500","hover:bg-sky-600","active:bg-sky-400","focus:bg-sky-600","px-2","py-1","text-sm",3,"click"],[1,"mr-1",3,"icon"],["type","button","class","ml-2 w-24 col-span-8 rounded-md text-white bg-amber-500 hover:bg-amber-600 active:bg-amber-400 focus:bg-amber-600 px-2 py-1 text-sm",3,"click",4,"ngIf"],["formGroupName","family",1,"grid","grid-cols-8","gap-x-4","gap-y-6"],["class","col-span-8 grid grid-cols-8 bg-amber-100 border border-amber-200 rounded-lg px-5 mt-4 text-gray-700",4,"ngIf"],["class","col-span-6 sm:col-span-2",4,"ngIf"],[1,"col-span-8","sm:col-span-2"],["for","is_head",1,"input-label",3,"ngClass"],["id","is_head","name","is_head","formControlName","is_head",1,"input","disabled:bg-gray-300",3,"ngClass"],["value","MEMBER"],["value","HEAD"],["class","col-span-8 sm:col-span-2",4,"ngIf"],[1,"invalid-alert"],[3,"value"],["type","button",1,"ml-2","w-24","col-span-8","rounded-md","text-white","bg-amber-500","hover:bg-amber-600","active:bg-amber-400","focus:bg-amber-600","px-2","py-1","text-sm",3,"click"],[1,"col-span-8","grid","grid-cols-8","bg-amber-100","border","border-amber-200","rounded-lg","px-5","mt-4","text-gray-700"],[1,"col-span-4","mt-2","mb-2"],[1,"font-semibold"],[1,"col-span-4","mt-2","mb-2","grid","grid-cols-1"],[4,"ngFor","ngForOf"],["for","region",1,"input-label",3,"ngClass"],["id","region","name","region","formControlName","region",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","province",1,"input-label",3,"ngClass"],["id","province","name","province","formControlName","province",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","muncity",1,"input-label",3,"ngClass"],["id","muncity","name","muncity","formControlName","municipality",1,"input","disabled:bg-gray-300",3,"ngClass","change"],["for","brgy",1,"input-label",3,"ngClass"],["id","brgy","name","brgy","formControlName","brgy",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","address",1,"input-label",3,"ngClass"],["type","text","name","address","id","address","formControlName","address",1,"input","disabled:bg-gray-300",3,"ngClass"],["for","cct_id",1,"input-label",3,"ngClass"],[1,"text-sm"],["type","text","name","cct_id","id","cct_id","formControlName","cct_id",1,"input","disabled:bg-gray-300",3,"ngClass","keyup"],["for","cct_date",1,"input-label",3,"ngClass"],["type","date","name","cct_date","id","cct_date","formControlName","cct_date",1,"input","disabled:bg-gray-300",3,"ngClass"],[1,"col-span-8","bg-red-200","rounded","border","border-red-300","text-red-900","text-sm","mb-5"],[1,"block","p-3","pl-10"],[1,"list-disc"],[1,"text-right"],["type","submit",1,"btn-save","mr-5","w-48","disabled:bg-gray-400",3,"disabled"],["class","mr-3",3,"icon","spin",4,"ngIf"],["class","mr-3",3,"icon",4,"ngIf"],[1,"mr-3",3,"icon","spin"],[1,"mr-3",3,"icon"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],[1,"relative","w-auto","my-6","mx-auto","max-w-6xl"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"relative","p-6","pb-10","pr-40","flex-auto"],[1,"flex","items-center","justify-end","p-3","rounded-b"],["class","bg-blue-500 text-white active:bg-blue-500 hover:bg-blue-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["class","bg-amber-500 text-white active:bg-amber-500 hover:bg-amber-600 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button",3,"click",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","active:bg-blue-500","hover:bg-blue-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],["type","button",1,"bg-amber-500","text-white","active:bg-amber-500","hover:bg-amber-600","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"],[3,"last_name","toggleModal","transaction"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Patient Registration "),e.qZA(),e.YNc(4,I,6,1,"div",3),e.YNc(5,tt,11,7,"form",4),e.qZA()(),e.YNc(6,at,10,4,"div",5),e.YNc(7,rt,1,0,"div",6),e.YNc(8,st,2,1,"div",7)),2&o&&(e.xp6(4),e.Q6J("ngIf",!a.show_form),e.xp6(1),e.Q6J("ngIf",a.show_form),e.xp6(1),e.Q6J("ngIf",a.showModal),e.xp6(1),e.Q6J("ngIf",a.showModal),e.xp6(1),e.Q6J("ngIf",a.familyFolderModal))},dependencies:[m.mk,m.sg,m.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.Q7,v.BN,r.sg,r.u,r.x0,y.Z6,Q,m.uU,m.Nd],data:{animation:[q.K]}}),n})()}];let lt=(()=>{var i;class n{}return(i=n).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(_t),u.Bz]}),n})();const dt=null;let ct=(()=>{var i;class n{}return(i=n).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[(0,y.e$)()],imports:[m.ez,lt,r.u5,v.uH,r.UX]}),n})()}}]);