"use strict";(self.webpackChunkwahtermelon_client=self.webpackChunkwahtermelon_client||[]).push([[703],{703:(j,h,_)=>{_.r(h),_.d(h,{LabPendingModule:()=>Ce});var n=_(177),p=_(2517),r=_(5383),F=_(614),e=_(4438),y=_(3318),c=_(9417),v=_(60),g=_(3825),M=_(5794),f=_(1196);const b=()=>({standalone:!0});function d(i,s){if(1&i&&(e.j41(0,"div",18),e.EFF(1," This laboratory was recorded on "),e.j41(2,"span",19),e.EFF(3),e.k0s(),e.EFF(4,". Edit/update is not allowed. "),e.k0s()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.selected_lab.facility.facility_name,"")}}function u(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function R(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function C(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.findings_code,a)||(l.lab_form.findings_code=a),e.Njj(a)}),e.DNE(4,R,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.findings_code),e.R7$(),e.Y8G("ngForOf",o.lab_findings)}}function L(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function E(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.data_collection_code,a)||(l.lab_form.data_collection_code=a),e.Njj(a)}),e.DNE(4,L,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.data_collection_code),e.R7$(),e.Y8G("ngForOf",o.lab_sputum_collection)}}function T(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function $(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.findings_code,a)||(l.lab_form.findings_code=a),e.Njj(a)}),e.DNE(4,T,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.findings_code),e.R7$(),e.Y8G("ngForOf",o.lab_cxray_findings)}}function Y(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function D(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.observation_code,a)||(l.lab_form.observation_code=a),e.Njj(a)}),e.DNE(4,Y,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.observation_code),e.R7$(),e.Y8G("ngForOf",o.lab_cxray_observation)}}function I(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function X(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.findings_code,a)||(l.lab_form.findings_code=a),e.Njj(a)}),e.DNE(4,I,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.findings_code),e.R7$(),e.Y8G("ngForOf",o.lab_findings)}}function w(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function N(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.findings_code,a)||(l.lab_form.findings_code=a),e.Njj(a)}),e.DNE(4,w,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.findings_code),e.R7$(),e.Y8G("ngForOf",o.lab_result_pn)}}function P(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function B(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.blood_code,a)||(l.lab_form.blood_code=a),e.Njj(a)}),e.DNE(4,P,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.blood_code),e.R7$(),e.Y8G("ngForOf",o.lab_stool_blood)}}function V(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function S(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.color_code,a)||(l.lab_form.color_code=a),e.Njj(a)}),e.DNE(4,V,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.color_code),e.R7$(),e.Y8G("ngForOf",o.lab_stool_color)}}function O(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function H(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.consistency_code,a)||(l.lab_form.consistency_code=a),e.Njj(a)}),e.DNE(4,O,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.consistency_code),e.R7$(),e.Y8G("ngForOf",o.lab_stool_consistency)}}function A(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function U(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.type,a)||(l.lab_form.type=a),e.Njj(a)}),e.DNE(4,A,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.type),e.R7$(),e.Y8G("ngForOf",o.lab_biopsy_type)}}function J(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function q(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.type,a)||(l.lab_form.type=a),e.Njj(a)}),e.DNE(4,J,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.type),e.R7$(),e.Y8G("ngForOf",o.lab_ultrasound_type)}}function z(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function K(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.method_code,a)||(l.lab_form.method_code=a),e.Njj(a)}),e.DNE(4,z,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.method_code),e.R7$(),e.Y8G("ngForOf",o.lab_syphilis_method)}}function W(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.code)}}function Q(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.blood_type_code,a)||(l.lab_form.blood_type_code=a),e.Njj(a)}),e.DNE(4,W,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.blood_type_code),e.R7$(),e.Y8G("ngForOf",o.blood_types)}}function Z(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function ee(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.parasite_type_code,a)||(l.lab_form.parasite_type_code=a),e.Njj(a)}),e.DNE(4,Z,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.parasite_type_code),e.R7$(),e.Y8G("ngForOf",o.lab_malaria_parasite)}}function te(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function oe(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.mtb_code,a)||(l.lab_form.mtb_code=a),e.Njj(a)}),e.DNE(4,te,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.mtb_code),e.R7$(),e.Y8G("ngForOf",o.lab_gene_mtb)}}function ie(i,s){if(1&i&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&i){const t=s.$implicit;e.Y8G("value",t.code),e.R7$(),e.JRh(t.desc)}}function ae(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(4);return e.DH7(l.lab_form.rif_code,a)||(l.lab_form.rif_code=a),e.Njj(a)}),e.DNE(4,ie,2,2,"option",25),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form.rif_code),e.R7$(),e.Y8G("ngForOf",o.lab_gene_rif)}}function le(i,s){if(1&i&&(e.j41(0,"span",33),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(),e.Lme("Normal values(Min: ",t.nv_min," to Max: ",t.nv_max,")")}}function ne(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.j41(3,"input",31),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG().$implicit,m=e.XpG(3);return e.DH7(m.lab_form[l.field_name],a)||(m.lab_form[l.field_name]=a),e.Njj(a)}),e.k0s(),e.DNE(4,le,2,2,"span",32),e.k0s()}if(2&i){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Lme("",t.field_desc," ",t.nv_uom?"("+t.nv_uom+")":null,""),e.R7$(),e.Y8G("disabled",1===o.for_history||o.user_facility!==o.selected_lab.facility_code),e.R50("ngModel",o.lab_form[t.field_name]),e.Y8G("type",null!==t.nv_min?"number":"collection_date"===t.field_name||"release_date"===t.field_name?"date":"text"),e.R7$(),e.Y8G("ngIf",null!==t.nv_min)}}function se(i,s){if(1&i&&(e.j41(0,"div"),e.DNE(1,C,5,5,"div",30)(2,E,5,5,"div",30)(3,$,5,5,"div",30)(4,D,5,5,"div",30)(5,X,5,5,"div",30)(6,N,5,5,"div",30)(7,B,5,5,"div",30)(8,S,5,5,"div",30)(9,H,5,5,"div",30)(10,U,5,5,"div",30)(11,q,5,5,"div",30)(12,K,5,5,"div",30)(13,Q,5,5,"div",30)(14,ee,5,5,"div",30)(15,oe,5,5,"div",30)(16,ae,5,5,"div",30)(17,ne,5,6,"div",30),e.k0s()),2&i){const t=s.$implicit,o=e.XpG(3);e.R7$(),e.Y8G("ngIf","SPTM"===o.selected_lab.laboratory.code&&"findings_code"===t.field_name),e.R7$(),e.Y8G("ngIf","SPTM"===o.selected_lab.laboratory.code&&"data_collection_code"===t.field_name),e.R7$(),e.Y8G("ngIf","CXRAY"===o.selected_lab.laboratory.code&&"findings_code"===t.field_name),e.R7$(),e.Y8G("ngIf","CXRAY"===o.selected_lab.laboratory.code&&"observation_code"===t.field_name),e.R7$(),e.Y8G("ngIf","ECG"===o.selected_lab.laboratory.code&&"findings_code"===t.field_name),e.R7$(),e.Y8G("ngIf",o.form_with_findings_pn.includes(o.selected_lab.laboratory.code)&&"findings_code"===t.field_name),e.R7$(),e.Y8G("ngIf","FCAL"===o.selected_lab.laboratory.code&&"blood_code"===t.field_name),e.R7$(),e.Y8G("ngIf","FCAL"===o.selected_lab.laboratory.code&&"color_code"===t.field_name),e.R7$(),e.Y8G("ngIf","FCAL"===o.selected_lab.laboratory.code&&"consistency_code"===t.field_name),e.R7$(),e.Y8G("ngIf","BPSY"===o.selected_lab.laboratory.code&&"type"===t.field_name),e.R7$(),e.Y8G("ngIf","USND"===o.selected_lab.laboratory.code&&"type"===t.field_name),e.R7$(),e.Y8G("ngIf","SYPH"===o.selected_lab.laboratory.code&&"method_code"===t.field_name),e.R7$(),e.Y8G("ngIf","HEMA"===o.selected_lab.laboratory.code&&"blood_type_code"===t.field_name),e.R7$(),e.Y8G("ngIf","MRDT"===o.selected_lab.laboratory.code&&"parasite_type_code"===t.field_name),e.R7$(),e.Y8G("ngIf","GXPT"===o.selected_lab.laboratory.code&&"mtb_code"===t.field_name),e.R7$(),e.Y8G("ngIf","GXPT"===o.selected_lab.laboratory.code&&"rif_code"===t.field_name),e.R7$(),e.Y8G("ngIf",o.spl_val.indexOf(t.field_name)<0)}}function _e(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"label",22),e.EFF(3,"Laboratory date"),e.k0s(),e.j41(4,"input",23),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(2);return e.DH7(l.lab_form.laboratory_date,a)||(l.lab_form.laboratory_date=a),e.Njj(a)}),e.k0s()(),e.j41(5,"div",21)(6,"label",22),e.EFF(7,"Laboratory status"),e.k0s(),e.j41(8,"select",24),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(2);return e.DH7(l.lab_form.lab_status_code,a)||(l.lab_form.lab_status_code=a),e.Njj(a)}),e.DNE(9,u,2,2,"option",25),e.k0s()(),e.DNE(10,se,18,17,"div",26),e.j41(11,"div",27)(12,"div",21)(13,"label",22),e.EFF(14,"Remarks"),e.k0s(),e.j41(15,"input",28),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG(2);return e.DH7(l.lab_form.remarks,a)||(l.lab_form.remarks=a),e.Njj(a)}),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("disabled",1===t.for_history||t.user_facility!==t.selected_lab.facility_code),e.R50("ngModel",t.lab_form.laboratory_date),e.Y8G("max",t.max_date),e.R7$(4),e.Y8G("disabled",1===t.for_history||t.user_facility!==t.selected_lab.facility_code),e.R50("ngModel",t.lab_form.lab_status_code),e.R7$(),e.Y8G("ngForOf",t.lab_statuses),e.R7$(),e.Y8G("ngForOf",t.fields),e.R7$(5),e.Y8G("disabled",1===t.for_history||t.user_facility!==t.selected_lab.facility_code),e.R50("ngModel",t.lab_form.remarks)}}function re(i,s){if(1&i){const t=e.RV6();e.j41(0,"div",12),e.DNE(1,d,5,1,"div",13),e.j41(2,"div",14)(3,"input",15),e.mxI("ngModelChange",function(a){e.eBV(t);const l=e.XpG();return e.DH7(l.request_status_code,a)||(l.request_status_code=a),e.Njj(a)}),e.k0s(),e.j41(4,"label",16),e.EFF(5,"Patient has refused lab service"),e.k0s()(),e.DNE(6,_e,16,9,"div",17),e.k0s()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",1===t.for_history||t.user_facility!==t.selected_lab.facility_code),e.R7$(2),e.Y8G("disabled",1===t.for_history||t.user_facility!==t.selected_lab.facility_code),e.R50("ngModel",t.request_status_code),e.Y8G("ngModelOptions",e.lJ4(5,b)),e.R7$(3),e.Y8G("ngIf",!t.request_status_code)}}function de(i,s){if(1&i&&e.nrm(0,"fa-icon",37),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSave)}}function ce(i,s){if(1&i&&e.nrm(0,"fa-icon",38),2&i){const t=e.XpG(2);e.Y8G("icon",t.faSpinner)}}function be(i,s){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onSubmit())}),e.DNE(1,de,1,1,"fa-icon",35)(2,ce,1,1,"fa-icon",36),e.EFF(3),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("disabled",t.is_saving||!t.request_status_code&&(!t.lab_form.laboratory_date||!t.lab_form.lab_status_code)),e.R7$(),e.Y8G("ngIf",!t.is_saving),e.R7$(),e.Y8G("ngIf",t.is_saving),e.R7$(),e.SpI(" ",t.is_saving?"Saving":"Save"," ")}}let k=(()=>{class i{loadForm(){this.selected_lab&&this.http.get("libraries/laboratories/"+this.selected_lab.laboratory.code).subscribe({next:t=>{this.trimForm(t.data.category)},error:t=>console.log(t)})}trimForm(t){let o=new Date(this.patient_details.birthdate),m=(new Date(this.selected_lab.request_date)-o)/864e5<=28?"NB":this.patient_details.gender,G=[];Object.entries(t).forEach(([ke,Ge],Me)=>{let x=Ge;x.range_cat?m===x.range_cat&&(G.push(x),this.lab_form[x.field_name]=null):(G.push(x),this.lab_form[x.field_name]=null)}),this.fields=G,this.request_status_code="RF"===this.selected_lab.request_status_code,this.selected_lab.lab_result&&this.fillCodes(this.selected_lab),this.show_form=!0}fillCodes(t){switch(this.lab_form=this.selected_lab.lab_result,t.laboratory.code){case"CXRAY":this.lab_form.findings_code=this.lab_form.findings_code,this.lab_form.observation_code=this.lab_form.observation_code;break;case"ECG":case"FOBT":case"PPD":this.lab_form.findings_code=this.lab_form.findings_code;break;case"SPTM":this.lab_form.findings_code=this.lab_form.findings_code,this.lab_form.data_collection_code=this.lab_form.data_collection_code;break;case"FCAL":this.lab_form.blood_code=this.lab_form.blood_code,this.lab_form.color_code=this.lab_form.color_code,this.lab_form.consistency_code=this.lab_form.consistency_code;break;case"MRDT":this.lab_form.parasite_type_code=this.lab_form.parasite_type_code}}onSubmit(){if(this.is_saving=!0,this.request_status_code)this.updateLabReq("RF");else{let t=this.nameHelper.getURL(this.selected_lab.laboratory.code);if(t||null!==t||""!==t){let o;this.lab_form.request_id?o=this.http.update(t+"/",this.lab_form.id,this.lab_form):(this.lab_form.patient_id=this.patient_details.id,this.lab_form.request_id=this.selected_lab.id,this.selected_lab.consult_id&&(this.lab_form.consult_id=this.selected_lab.consult_id),o=this.http.post(t,this.lab_form)),o.subscribe({next:a=>{console.log(a),"RF"===this.selected_lab.request_status_code?this.updateLabReq("RQ"):(this.toastr.success("Lab result was recorded!","Laboratory Result"),this.closeModal())},error:a=>{this.http.showError(a.error.message,"Laboratory"),this.is_saving=!1}})}else this.is_saving=!1,this.toastr.error("Laboratory does not exist","Lab form")}}updateLabReq(t){this.http.update("laboratory/consult-laboratories/",this.selected_lab.id,{lab_code:this.selected_lab.laboratory.code,patient_id:this.patient_details.id,recommendation_code:this.selected_lab.recommendation_code,request_date:this.selected_lab.request_date,request_status_code:t}).subscribe({next:()=>{this.toastr.success("Lab record was updated!","Lab Record"),this.closeModal()},error:a=>console.log(a)})}closeModal(){this.is_saving=!1,this.toggleModal.emit("add")}cancelThisModal(){this.cancelModal.emit("add")}constructor(t,o,a){this.http=t,this.toastr=o,this.nameHelper=a,this.toggleModal=new e.bkB,this.cancelModal=new e.bkB,this.faSave=F.hSh,this.faSpinner=r.z1G,this.is_saving=!1,this.show_form=!1,this.lab_form={},this.max_date=(0,n.Yq)(new Date,"yyyy-MM-dd","en","Asia/Manila"),this.spl_val=["mtb_code","rif_code","parasite_type_code","observation_code","findings_code","data_collection_code","blood_code","color_code","consistency_code","type","method_code","blood_type_code"],this.form_with_findings_pn=["FOBT","PPD","SYPH"],this.form_with_finding_code=["ECG"]}ngOnChanges(t){this.loadForm()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(y.k),e.rXU(M.tw),e.rXU(f.j))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-lab-form"]],inputs:{selected_lab:"selected_lab",patient_details:"patient_details",lab_statuses:"lab_statuses",lab_cxray_findings:"lab_cxray_findings",lab_cxray_observation:"lab_cxray_observation",lab_findings:"lab_findings",lab_sputum_collection:"lab_sputum_collection",lab_result_pn:"lab_result_pn",lab_stool_blood:"lab_stool_blood",lab_stool_color:"lab_stool_color",lab_stool_consistency:"lab_stool_consistency",user_facility:"user_facility",for_history:"for_history",lab_biopsy_type:"lab_biopsy_type",lab_ultrasound_type:"lab_ultrasound_type",lab_syphilis_method:"lab_syphilis_method",blood_types:"blood_types",lab_malaria_parasite:"lab_malaria_parasite",lab_gene_mtb:"lab_gene_mtb",lab_gene_rif:"lab_gene_rif"},outputs:{toggleModal:"toggleModal",cancelModal:"cancelModal"},features:[e.OA$],decls:14,vars:4,consts:[["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-4xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-blue-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"h-96","overflow-y-auto"],[1,"flex","item-start","flex-wrap","pb-5"],["class","grid grid-cols-2 px-3 py-3 w-full mx-5 mt-5 rounded-lg",4,"ngIf"],[1,"flex","justify-end","pb-5","px-5","space-x-4","rounded-b","my-5"],["type","button",1,"btn-save","bg-gray-400","px-10",3,"click","disabled"],["type","button","class","btn-save px-10 disabled:bg-gray-300",3,"disabled","click",4,"ngIf"],[1,"opacity-50","fixed","inset-0","z-50","bg-black"],[1,"grid","grid-cols-2","px-3","py-3","w-full","mx-5","mt-5","rounded-lg"],["class","rounded-md col-span-2 py-2 mb-2 border border-orange-300 bg-orange-100 text-orange-800",4,"ngIf"],[1,"col-span-2","flex","mb-3","justify-center"],["type","checkbox","name","request_status_code",1,"w-6","h-6","input",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["for","request_status_code",1,"ml-3","mt-1"],["class","col-span-2 grid grid-cols-2 gap-5",4,"ngIf"],[1,"rounded-md","col-span-2","py-2","mb-2","border","border-orange-300","bg-orange-100","text-orange-800"],[1,"italic","font-semibold","uppercase"],[1,"col-span-2","grid","grid-cols-2","gap-5"],[1,"text-sm","col-span-1"],[1,"font-semibold"],["name","field","type","date","placeholder","mm/dd/yyyy",1,"input",3,"ngModelChange","disabled","ngModel","max"],["name","field",1,"input",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-span-2"],["name","field","type","text",1,"input",3,"ngModelChange","disabled","ngModel"],[3,"value"],["class","text-sm col-span-1",4,"ngIf"],["name","field",1,"input",3,"ngModelChange","disabled","ngModel","type"],["class","italic text-xs text-gray-500",4,"ngIf"],[1,"italic","text-xs","text-gray-500"],["type","button",1,"btn-save","px-10","disabled:bg-gray-300",3,"click","disabled"],["class","mr-2",3,"icon",4,"ngIf"],["class","mr-2","animation","spin",3,"icon",4,"ngIf"],[1,"mr-2",3,"icon"],["animation","spin",1,"mr-2",3,"icon"]],template:function(o,a){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.k0s()(),e.j41(6,"div",5)(7,"div",6),e.DNE(8,re,7,6,"div",7),e.k0s()(),e.j41(9,"div",8)(10,"button",9),e.bIt("click",function(){return a.cancelThisModal()}),e.EFF(11,"Cancel"),e.k0s(),e.DNE(12,be,4,4,"button",10),e.k0s()()()(),e.nrm(13,"div",11)),2&o&&(e.R7$(5),e.SpI(" ",a.selected_lab.laboratory.desc," "),e.R7$(3),e.Y8G("ngIf",a.show_form),e.R7$(2),e.Y8G("disabled",a.is_saving),e.R7$(2),e.Y8G("ngIf",a.user_facility===a.selected_lab.facility_code))},dependencies:[n.MD,n.Sq,n.bT,v.dX,v.aY,c.YN,c.xH,c.y7,c.me,c.Zm,c.wz,c.BC,c.vS],encapsulation:2})}}return i})();function me(i,s){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",27),e.bIt("click",function(){e.eBV(t);const a=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.toggleModal("add",a,a.patient))}),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("icon",t.faFlask)}}function pe(i,s){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",28),e.bIt("click",function(){e.eBV(t);const a=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.toggleModal("add",a,a.patient))}),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("icon",t.faFlask)}}function fe(i,s){if(1&i){const t=e.RV6();e.j41(0,"fa-icon",29),e.bIt("click",function(){e.eBV(t);const a=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.toggleModal("add",a,a.patient))}),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("icon",t.faFlask)}}function ue(i,s){if(1&i&&(e.j41(0,"tr",19)(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",22),e.EFF(9),e.k0s(),e.j41(10,"td",23),e.DNE(11,me,1,1,"fa-icon",24)(12,pe,1,1,"fa-icon",25)(13,fe,1,1,"fa-icon",26),e.k0s()()),2&i){const t=s.$implicit,o=e.XpG(2);e.R7$(2),e.LHq(" ",t.patient.last_name,", ",t.patient.first_name," ",t.patient.middle_name," ","NA"!==t.patient.suffix_name?t.patient.suffix_name:""," "),e.R7$(2),e.SpI(" ",t.laboratory.desc," "),e.R7$(2),e.SpI(" ",e.i5U(7,10,t.request_date,"MM/dd/yyyy")," "),e.R7$(3),e.SpI(" ",o.getDataDiff(t.request_date)," "),e.R7$(2),e.Y8G("ngIf",t.lab_result&&"RF"!==t.request_status_code),e.R7$(),e.Y8G("ngIf",!t.lab_result&&"RF"!==t.request_status_code),e.R7$(),e.Y8G("ngIf","RF"===t.request_status_code)}}function ge(i,s){if(1&i&&(e.j41(0,"tbody"),e.DNE(1,ue,14,13,"tr",18),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.pending_list)}}function he(i,s){if(1&i&&(e.j41(0,"tbody")(1,"tr")(2,"td",30),e.nrm(3,"fa-icon",31)(4,"br"),e.EFF(5," Loading data... "),e.k0s()()()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("icon",t.faCircleNotch)}}function ye(i,s){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",32)(2,"div",33)(3,"div")(4,"p",34),e.EFF(5," Showing "),e.j41(6,"span",35),e.EFF(7),e.k0s(),e.EFF(8," to "),e.j41(9,"span",35),e.EFF(10),e.k0s(),e.EFF(11," of "),e.j41(12,"span",35),e.EFF(13),e.k0s(),e.EFF(14," results "),e.k0s()(),e.j41(15,"div")(16,"nav",36)(17,"button",37),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.loadData(1))}),e.nrm(18,"fa-icon",38),e.k0s(),e.j41(19,"button",39),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.loadData(a.current_page-1))}),e.nrm(20,"fa-icon",38),e.EFF(21,"Previous "),e.k0s(),e.j41(22,"button",39),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.loadData(a.current_page+1))}),e.EFF(23," Next"),e.nrm(24,"fa-icon",40),e.k0s(),e.j41(25,"button",41),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.loadData(a.last_page))}),e.nrm(26,"fa-icon",40),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(7),e.JRh(t.from),e.R7$(3),e.JRh(t.to),e.R7$(3),e.JRh(t.total),e.R7$(4),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faAnglesLeft),e.R7$(),e.Y8G("disabled",1===t.current_page),e.R7$(),e.Y8G("icon",t.faChevronLeft),e.R7$(2),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(2),e.Y8G("icon",t.faChevronRight),e.R7$(),e.Y8G("disabled",t.current_page===t.last_page),e.R7$(),e.Y8G("icon",t.faAnglesRight)}}function ve(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-delete-item",42),e.bIt("toggleModal",function(a){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(a))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("delete_id",t.delete_id)("delete_desc",t.delete_desc)("url",t.url)("user_facility",t.user_facility)}}function xe(i,s){if(1&i){const t=e.RV6();e.j41(0,"app-lab-form",43),e.bIt("toggleModal",function(a){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleModal(a))})("cancelModal",function(a){e.eBV(t);const l=e.XpG();return e.Njj(l.cancelModal(a))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("selected_lab",t.selected_lab)("patient_details",t.patient_details)("lab_statuses",t.lab_statuses)("lab_cxray_observation",t.lab_cxray_observation)("lab_cxray_findings",t.lab_cxray_findings)("lab_findings",t.lab_findings)("lab_result_pn",t.lab_result_pn)("lab_sputum_collection",t.lab_sputum_collection)("lab_stool_blood",t.lab_stool_blood)("lab_stool_color",t.lab_stool_color)("lab_stool_consistency",t.lab_stool_consistency)("user_facility",t.user_facility)("for_history",t.for_history)("lab_biopsy_type",t.lab_biopsy_type)("lab_ultrasound_type",t.lab_ultrasound_type)("lab_syphilis_method",t.lab_syphilis_method)("blood_types",t.blood_types)("lab_malaria_parasite",t.lab_malaria_parasite)("lab_gene_rif",t.lab_gene_rif)("lab_gene_mtb",t.lab_gene_mtb)}}const Fe=[{path:"",component:(()=>{class i{loadData(t){this.is_loading=!0;let o={params:{}};this.search_item&&(o.params.search=this.search_item),t&&(o.params.page=t||this.current_page),o.params.per_page=this.per_page,o.params.include="laboratory",o.params.sort="request_date",o.params.list_type="pending",this.http.get("laboratory/consult-laboratories",o).subscribe({next:a=>{this.pending_list=a.data,this.current_page=a.meta.current_page,this.last_page=a.meta.last_page,this.from=a.meta.from,this.to=a.meta.to,this.total=a.meta.total,this.is_loading=!1},error:a=>console.log(a)})}reloadLabs(t){this.is_loading=!1,this.pending_list=t,this.loadData()}cancelModal(t){this.modal[t]=!this.modal[t]}toggleModal(t,o,a){this.selected_lab=o,this.selected_lab?("add"===t?(this.patient_details=a,o&&"CXRAY"===o.laboratory.code?this.lab_cxray_findings&&this.lab_cxray_observation?this.modal[t]=!this.modal[t]:this.loadCxrayLib(t):o&&"BPSY"===o.laboratory.code?this.lab_biopsy_type?this.modal[t]=!this.modal[t]:this.loadBiopsyType(t):o&&"USND"===o.laboratory.code?this.lab_findings?this.modal[t]=!this.modal[t]:this.loadLibraries("libraries/laboratory-ultrasound-type","lab_ultrasound_type",t):o&&"SYPH"===o.laboratory.code?this.lab_findings?this.modal[t]=!this.modal[t]:this.loadSyphilisMethod(t):o&&"HEMA"===o.laboratory.code?this.lab_findings?this.modal[t]=!this.modal[t]:this.loadLibraries("libraries/blood-types","blood_types",t):o&&"MRDT"===o.laboratory.code?this.lab_findings?this.modal[t]=!this.modal[t]:this.loadLibraries("libraries/laboratory-malaria-parasite","lab_malaria_parasite",t):o&&"ECG"===o.laboratory.code?this.lab_findings?this.modal[t]=!this.modal[t]:this.loadLibraries("libraries/laboratory-findings","lab_findings",t):o&&"SPTM"===o.laboratory.code||o&&"SPTM"===o.laboratory.code?this.lab_sputum_collection||this.lab_result_pn?this.modal[t]=!this.modal[t]:this.loadSputumCollection(t):o&&"GXPT"===o.laboratory.code?this.lab_gene_mtb||this.lab_gene_rif?this.modal[t]=!this.modal[t]:this.loadGeneMtb(t):o&&"FCAL"===o.laboratory.code?this.lab_stool_blood||this.lab_stool_color||this.lab_stool_consistency?this.modal[t]=!this.modal[t]:this.loadStoolBlood(t):o&&this.forms_with_finding_pn.includes(o.laboratory.code)?this.lab_result_pn?this.modal[t]=!this.modal[t]:this.loadLibraries("libraries/laboratory-results","lab_result_pn",t):this.modal[t]=!this.modal[t]):(this.delete_id=o.id,this.modal[t]=!this.modal[t]),!1===this.modal[t]&&this.loadData()):(this.modal[t]=!this.modal[t],this.loadData())}loadGeneMtb(t){this.http.get("libraries/laboratory-mtb-result").subscribe({next:o=>{this.lab_gene_mtb=o.data,this.loadLibraries("libraries/laboratory-rif-result","lab_gene_rif",t)},error:o=>console.log(o)})}loadSyphilisMethod(t){this.http.get("libraries/laboratory-syphilis-method").subscribe({next:o=>{this.lab_syphilis_method=o.data,this.loadLibraries("libraries/laboratory-results","lab_result_pn",t)},error:o=>console.log(o)})}loadSputumCollection(t){this.http.get("libraries/laboratory-sputum-collection").subscribe({next:o=>{this.lab_sputum_collection=o.data,this.loadLibraries("libraries/laboratory-findings","lab_findings",t)},error:o=>console.log(o)})}loadStoolBlood(t){this.http.get("libraries/laboratory-blood-stool").subscribe({next:o=>{this.lab_stool_blood=o.data,this.loadStoolColor(t)}})}loadStoolColor(t){this.http.get("libraries/laboratory-stool-color").subscribe({next:o=>{this.lab_stool_color=o.data,this.loadStoolConsistency(t)}})}loadStoolConsistency(t){this.http.get("libraries/laboratory-stool-consistency").subscribe({next:o=>{this.lab_stool_consistency=o.data,this.modal[t]=!this.modal[t]}})}loadLabStatusLib(){this.http.get("libraries/laboratory-statuses").subscribe({next:t=>this.lab_statuses=t.data,error:t=>console.log(t)})}loadCxrayLib(t){this.http.get("libraries/laboratory-chestxray-findings").subscribe({next:o=>{this.lab_cxray_findings=o.data,this.loadCxrayObs(t)},error:o=>console.log(o)})}loadCxrayObs(t){this.http.get("libraries/laboratory-chestxray-observations").subscribe({next:o=>{this.lab_cxray_observation=o.data,this.modal[t]=!this.modal[t]},error:o=>console.log(o)})}loadBiopsyType(t){this.http.get("libraries/laboratory-biopsy-type").subscribe({next:o=>{console.log(o),this.lab_biopsy_type=o.data,this.modal[t]=!this.modal[t]},error:o=>console.log(o)})}loadLibraries(t,o,a){this.http.get(t).subscribe({next:l=>{this[o]=l.data,this.modal[a]=!this.modal[a]},error:l=>console.log(l)})}constructor(t){this.http=t,this.faFlaskVial=r.DMD,this.faTrashCan=F.sjs,this.faEdit=F.MT7,this.faXmark=r.Jyw,this.faFlask=r.rIc,this.faPlus=r.QLR,this.faSearch=r.MjD,this.faAnglesLeft=r.rNr,this.faAnglesRight=r.up_,this.faChevronLeft=r.Wzs,this.faChevronRight=r.XkK,this.faCircleNotch=r.s4k,this.is_loading=!1,this.pending_list=[],this.per_page=10,this.current_page=1,this.modal=[],this.forms_with_finding_pn=["FOBT","PPD"],this.delete_desc="Laboratory",this.url="laboratory/consult-laboratories/"}getDataDiff(t){let o=new Date,a=new Date(t);var l=o.getTime()-a.getTime(),m=Math.floor(l/864e5);return m?m+" days":""}ngOnInit(){this.user_facility=this.http.getUserFacility(),this.loadLabStatusLib(),this.loadData()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(y.k))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-lab-pending"]],standalone:!1,decls:30,vars:7,consts:[[1,"my-10","flex","justify-center","w-full"],[1,"w-4/5","bg-white","border","border-solid","border-slate-100","rounded-xl","shadow-md"],[1,"border","border-solid","border-slate-100","rounded-t-xl","font-semibold","justify-between"],[1,"flex","border","border-solid","border-slate-100","rounded-t-xl","p-3","font-semibold","justify-between"],[1,"text-blue-500","text-lg","pt-2","pl-5"],[1,"border","border-gray-400","rounded-md"],["type","text","placeholder","Search name",1,"form-input","border-0","text-sm","p-1","m-1","border-r","border-gray-400",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"text-blue-500","w-9","h-9",3,"click"],[1,"-ml-1",3,"icon"],[1,"overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","mb-5"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"py-3","px-6","w-4/12","text-center"],["scope","col",1,"py-3","px-6","w-2/12","text-center"],["scope","col",1,"py-3","px-6","w-3/12","text-center"],[4,"ngIf"],[3,"delete_id","delete_desc","url","user_facility","toggleModal",4,"ngIf"],[3,"selected_lab","patient_details","lab_statuses","lab_cxray_observation","lab_cxray_findings","lab_findings","lab_result_pn","lab_sputum_collection","lab_stool_blood","lab_stool_color","lab_stool_consistency","user_facility","for_history","lab_biopsy_type","lab_ultrasound_type","lab_syphilis_method","blood_types","lab_malaria_parasite","lab_gene_rif","lab_gene_mtb","toggleModal","cancelModal",4,"ngIf"],["class","bg-white border-t",4,"ngFor","ngForOf"],[1,"bg-white","border-t"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","align-top"],[1,"py-4","px-6"],[1,"py-4","px-6","text-center"],[1,"py-4","px-6","text-center","text-xs"],["size","lg","class","mx-0 my-0 text-green-600 hover:cursor-pointer flex-none mr-2",3,"icon","click",4,"ngIf"],["size","lg","class","mx-0 my-0 text-orange-400 hover:cursor-pointer flex-none mr-2",3,"icon","click",4,"ngIf"],["size","lg","class","mx-0 my-0 text-red-500 hover:cursor-pointer flex-none mr-2",3,"icon","click",4,"ngIf"],["size","lg",1,"mx-0","my-0","text-green-600","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"],["size","lg",1,"mx-0","my-0","text-orange-400","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"],["size","lg",1,"mx-0","my-0","text-red-500","hover:cursor-pointer","flex-none","mr-2",3,"click","icon"],["colspan","5",1,"py-4","px-6","text-center"],["animation","spin","size","lg",1,"text-blue-500",3,"icon"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[1,"block","h-15","w-15","text-gray-500","pr-1",3,"icon"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50",3,"click","disabled"],[1,"h-5","w-5","text-gray-500",3,"icon"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","enabled:bg-white","disabled:bg-gray-300","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"click","disabled"],[3,"toggleModal","delete_id","delete_desc","url","user_facility"],[3,"toggleModal","cancelModal","selected_lab","patient_details","lab_statuses","lab_cxray_observation","lab_cxray_findings","lab_findings","lab_result_pn","lab_sputum_collection","lab_stool_blood","lab_stool_color","lab_stool_consistency","user_facility","for_history","lab_biopsy_type","lab_ultrasound_type","lab_syphilis_method","blood_types","lab_malaria_parasite","lab_gene_rif","lab_gene_mtb"]],template:function(o,a){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.EFF(5," Pending Laboratories "),e.k0s(),e.j41(6,"div",5)(7,"input",6),e.mxI("ngModelChange",function(m){return e.DH7(a.search_item,m)||(a.search_item=m),m}),e.bIt("keyup.enter",function(){return a.loadData()}),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return a.loadData()}),e.nrm(9,"fa-icon",8),e.k0s()()(),e.j41(10,"div")(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),e.EFF(16,"Patient Name"),e.k0s(),e.j41(17,"th",13),e.EFF(18,"Lab Type"),e.k0s(),e.j41(19,"th",13),e.EFF(20,"Date Requested"),e.k0s(),e.j41(21,"th",14),e.EFF(22,"Time Elapsed"),e.k0s(),e.j41(23,"th",13),e.EFF(24,"Action"),e.k0s()()(),e.DNE(25,ge,2,1,"tbody",15)(26,he,6,1,"tbody",15),e.k0s()()()(),e.DNE(27,ye,27,11,"div",15),e.k0s()(),e.DNE(28,ve,1,4,"app-delete-item",16)(29,xe,1,20,"app-lab-form",17)),2&o&&(e.R7$(7),e.R50("ngModel",a.search_item),e.R7$(2),e.Y8G("icon",a.faSearch),e.R7$(16),e.Y8G("ngIf",!a.is_loading),e.R7$(),e.Y8G("ngIf",a.is_loading),e.R7$(),e.Y8G("ngIf",(null==a.pending_list?null:a.pending_list.length)>=1),e.R7$(),e.Y8G("ngIf",a.modal["delete-item"]),e.R7$(),e.Y8G("ngIf",a.modal.add))},dependencies:[n.Sq,n.bT,c.me,c.BC,c.vS,v.aY,g.c,k,n.vh],encapsulation:2})}}return i})()}];let Re=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(Fe),p.iI]})}}return i})(),Ce=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[n.MD,Re,c.YN,v.dX,g.c,k]})}}return i})()},1196:(j,h,_)=>{_.d(h,{j:()=>p});var n=_(4438);let p=(()=>{class r{getVisitType(e){switch(e){case"ab":return"Animal Bite";case"at":return"Adolescent";case"cc":return"Child Care";case"cn":return"Consultation";case"cv":return"COVID-19";case"dn":return"Dental";case"fp":return"Family Planning";case"lp":return"Leprosy";case"mc":return"Maternal Care";case"mh":return"Mental Health";case"ml":return"Malaria";case"ncd":return"Non Communicable Disease";case"tb":return"TB Dots";case"gbv":return"Gender Based Violence"}}getURL(e){switch(e){case"CBC":return"laboratory/consult-laboratory-cbc";case"CRTN":return"laboratory/consult-laboratory-creatinine";case"CXRAY":return"laboratory/consult-laboratory-chestxray";case"ECG":return"laboratory/consult-laboratory-ecg";case"FBS":return"laboratory/consult-laboratory-fbs";case"RBS":return"laboratory/consult-laboratory-rbs";case"HBA":return"laboratory/consult-laboratory-hba1c";case"PSMR":return"laboratory/consult-laboratory-papsmear";case"PPD":return"laboratory/consult-laboratory-ppd";case"SPTM":return"laboratory/consult-laboratory-sputum";case"FCAL":return"laboratory/consult-laboratory-fecalysis";case"LPFL":return"laboratory/consult-laboratory-lipid-profile";case"URN":return"laboratory/consult-laboratory-urinalysis";case"OGTT":return"laboratory/consult-laboratory-oral-glucose";case"FOBT":return"laboratory/consult-laboratory-fecal-occult";case"GRMS":return"laboratory/consult-laboratory-gram-stain";case"MCRP":return"laboratory/consult-laboratory-microscopy";case"BCHM":return"laboratory/consult-laboratory-blood-chemistry";case"BPSY":return"laboratory/consult-laboratory-biopsy";case"USND":return"laboratory/consult-laboratory-ultrasound";case"SYPH":return"laboratory/consult-laboratory-syphilis";case"HEMA":return"laboratory/consult-laboratory-hematology";case"RDT":return"laboratory/consult-laboratory-dengue";case"MRDT":return"laboratory/consult-laboratory-malaria";case"WETS":return"laboratory/consult-laboratory-wet-smear";case"SRLG":return"laboratory/consult-laboratory-serology";case"KOH":return"laboratory/consult-laboratory-potassium";case"SSMR":return"laboratory/consult-laboratory-skin-slit";case"GXPT":return"laboratory/consult-laboratory-geneXpert";case"CCS":return"laboratory/consult-laboratory-cervical-cancer";default:return""}}constructor(){}static{this.\u0275fac=function(y){return new(y||r)}}static{this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},3825:(j,h,_)=>{_.d(h,{c:()=>v});var n=_(4438),p=_(9417),r=_(60),F=_(5383),e=_(3318),y=_(5794);const c=["confirmCode"];let v=(()=>{class g{generateCode(){this.is_loading=!1,this.confirmation_code=null,this.confirm_code=Math.floor(1e3*Math.random()).toString().padStart(4,"0")}onSubmit(){this.is_loading=!0,this.confirm_code===this.confirmation_code?this.http.delete(this.url,this.delete_id).subscribe({next:()=>{this.is_loading=!1,this.toastr.error("Record was deleted!"),this.closeModal()},error:f=>{console.log(f),this.is_loading=!1,this.generateCode()}}):(this.generateCode(),this.toastr.info("Code mismatch, please try again","Incorrect Code"))}closeModal(){this.toggleModal.emit("delete-item")}constructor(f,b){this.http=f,this.toastr=b,this.toggleModal=new n.bkB,this.faTrash=F.yLS,this.confirm_code="0000",this.is_loading=!1}ngOnChanges(f){this.generateCode()}ngAfterViewInit(){this.inputElement.nativeElement.focus()}static{this.\u0275fac=function(b){return new(b||g)(n.rXU(e.k),n.rXU(y.tw))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-delete-item"]],viewQuery:function(b,d){if(1&b&&n.GBs(c,5),2&b){let u;n.mGM(u=n.lsd())&&(d.inputElement=u.first)}},inputs:{url:"url",delete_id:"delete_id",delete_desc:"delete_desc"},outputs:{toggleModal:"toggleModal"},features:[n.OA$],decls:29,vars:8,consts:[["confirmCode",""],["id","defaultModal","tabindex","-1","aria-modal","true","role","dialog",1,"overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","w-full","md:inset-0","h-modal","md:h-full","justify-center","items-center","flex",2,"z-index","60"],[1,"relative","p-4","w-full","max-w-3xl","h-auto","md:h-auto"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","justify-between","items-start","py-3","px-5","rounded-t","border-b","bg-red-500","dark:border-gray-600"],[1,"mt-2","text-sm","font-bold","text-white","dark:text-white"],[1,"overflow-y-auto","h-96","scrollbar-thin","scrollbar-thumb-gray-400","scrollbar-track-gray-100"],[1,"flex","item-start","flex-wrap","pb-5"],[1,"grid","grid-cols-3","px-5","py-5","mt-10","mx-10","w-full","bg-red-50","rounded-lg","text-center"],[1,"col-span-3","text-left","mb-2","pb-2","border-b","border-slate-200"],[1,"col-span-1","text-sm","px-5","py-2","mt-2"],[1,"block","mb-3"],[1,"font-bold","text-2xl","select-none"],["for","confirmCode"],["name","confirmCode","type","text",1,"mt-2","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","pl-3","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup.enter","ngModelChange","ngModel"],[1,"col-span-1","mt-11"],["type","button",1,"my-auto","text-white","bg-red-500","enabled:hover:ring-2","enabled:focus:outline-none","enabled:hover:ring-red-300","disabled:bg-gray-300","font-medium","rounded","text-sm","px-6","py-2.5","text-center","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"mx-0","my-0","text-white",3,"icon"],[1,"flex","justify-end","py-4","px-5","space-x-4","rounded-b","border-t","border-gray-200"],["type","button",1,"text-white","bg-gray-400","hover:ring-2","focus:outline-none","hover:ring-gray-200","rounded","text-sm","font-medium","my-2","px-6","py-2.5","transition","duration-150","ease-in-out",3,"click","disabled"],[1,"opacity-50","fixed","inset-0","z-[59]","bg-black"]],template:function(b,d){if(1&b){const u=n.RV6();n.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),n.EFF(5),n.k0s()(),n.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),n.EFF(10),n.k0s(),n.j41(11,"div",10)(12,"span",11),n.EFF(13,"Delete Code"),n.k0s(),n.j41(14,"span",12),n.EFF(15),n.k0s()(),n.j41(16,"div",10)(17,"label",13),n.EFF(18,"Enter Code"),n.k0s(),n.j41(19,"input",14,0),n.bIt("keyup.enter",function(){return n.eBV(u),n.Njj(d.onSubmit())}),n.mxI("ngModelChange",function(C){return n.eBV(u),n.DH7(d.confirmation_code,C)||(d.confirmation_code=C),n.Njj(C)}),n.k0s()(),n.j41(21,"div",15)(22,"button",16),n.bIt("click",function(){return n.eBV(u),n.Njj(d.onSubmit())}),n.nrm(23,"fa-icon",17),n.EFF(24," Delete "),n.k0s()()()()(),n.j41(25,"div",18)(26,"button",19),n.bIt("click",function(){return n.eBV(u),n.Njj(d.closeModal())}),n.EFF(27,"Cancel"),n.k0s()()()()(),n.nrm(28,"div",20)}2&b&&(n.R7$(5),n.Lme(" Delete ",d.delete_desc,": ",d.delete_id," "),n.R7$(5),n.SpI(" Your are about to delete a ",d.delete_desc," record for this patient. Please enter the generated delete code in order to proceed. "),n.R7$(5),n.JRh(d.confirm_code),n.R7$(4),n.R50("ngModel",d.confirmation_code),n.R7$(3),n.Y8G("disabled",!d.confirmation_code||d.is_loading),n.R7$(),n.Y8G("icon",d.faTrash),n.R7$(3),n.Y8G("disabled",d.is_loading))},dependencies:[r.dX,r.aY,p.YN,p.me,p.BC,p.vS],encapsulation:2,changeDetection:0})}}return g})()}}]);